/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@walletconnect";
exports.ids = ["vendor-chunks/@walletconnect"];
exports.modules = {

/***/ "(ssr)/./node_modules/@walletconnect/core/dist/index.es.js":
/*!***********************************************************!*\
  !*** ./node_modules/@walletconnect/core/dist/index.es.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CORE_CONTEXT: () => (/* binding */ he),\n/* harmony export */   CORE_DEFAULT: () => (/* binding */ Et),\n/* harmony export */   CORE_PROTOCOL: () => (/* binding */ ze),\n/* harmony export */   CORE_STORAGE_OPTIONS: () => (/* binding */ It),\n/* harmony export */   CORE_STORAGE_PREFIX: () => (/* binding */ B),\n/* harmony export */   CORE_VERSION: () => (/* binding */ Le),\n/* harmony export */   CRYPTO_CLIENT_SEED: () => (/* binding */ ke),\n/* harmony export */   CRYPTO_CONTEXT: () => (/* binding */ Tt),\n/* harmony export */   CRYPTO_JWT_TTL: () => (/* binding */ Ct),\n/* harmony export */   Core: () => (/* binding */ Jo),\n/* harmony export */   Crypto: () => (/* binding */ vi),\n/* harmony export */   ECHO_CONTEXT: () => (/* binding */ Xt),\n/* harmony export */   ECHO_URL: () => (/* binding */ Zt),\n/* harmony export */   EVENTS_CLIENT_API_URL: () => (/* binding */ ii),\n/* harmony export */   EVENTS_STORAGE_CLEANUP_INTERVAL: () => (/* binding */ ti),\n/* harmony export */   EVENTS_STORAGE_CONTEXT: () => (/* binding */ ei),\n/* harmony export */   EVENTS_STORAGE_VERSION: () => (/* binding */ Qt),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_ERRORS: () => (/* binding */ ir),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_TRACES: () => (/* binding */ tr),\n/* harmony export */   EVENT_CLIENT_CONTEXT: () => (/* binding */ Zs),\n/* harmony export */   EVENT_CLIENT_PAIRING_ERRORS: () => (/* binding */ Y),\n/* harmony export */   EVENT_CLIENT_PAIRING_TRACES: () => (/* binding */ G),\n/* harmony export */   EVENT_CLIENT_SESSION_ERRORS: () => (/* binding */ er),\n/* harmony export */   EVENT_CLIENT_SESSION_TRACES: () => (/* binding */ Qs),\n/* harmony export */   EXPIRER_CONTEXT: () => (/* binding */ qt),\n/* harmony export */   EXPIRER_DEFAULT_TTL: () => (/* binding */ Js),\n/* harmony export */   EXPIRER_EVENTS: () => (/* binding */ M),\n/* harmony export */   EXPIRER_STORAGE_VERSION: () => (/* binding */ Gt),\n/* harmony export */   EchoClient: () => (/* binding */ Mi),\n/* harmony export */   EventClient: () => (/* binding */ Bi),\n/* harmony export */   Expirer: () => (/* binding */ ji),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ Bt),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ F),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Vt),\n/* harmony export */   JsonRpcHistory: () => (/* binding */ ki),\n/* harmony export */   KEYCHAIN_CONTEXT: () => (/* binding */ Pt),\n/* harmony export */   KEYCHAIN_STORAGE_VERSION: () => (/* binding */ St),\n/* harmony export */   KeyChain: () => (/* binding */ Di),\n/* harmony export */   MESSAGES_CONTEXT: () => (/* binding */ Rt),\n/* harmony export */   MESSAGES_STORAGE_VERSION: () => (/* binding */ Ot),\n/* harmony export */   MESSAGE_DIRECTION: () => (/* binding */ le),\n/* harmony export */   MessageTracker: () => (/* binding */ _i),\n/* harmony export */   PAIRING_CONTEXT: () => (/* binding */ Mt),\n/* harmony export */   PAIRING_DEFAULT_TTL: () => (/* binding */ Ys),\n/* harmony export */   PAIRING_EVENTS: () => (/* binding */ se),\n/* harmony export */   PAIRING_RPC_OPTS: () => (/* binding */ ie),\n/* harmony export */   PAIRING_STORAGE_VERSION: () => (/* binding */ Kt),\n/* harmony export */   PENDING_SUB_RESOLUTION_TIMEOUT: () => (/* binding */ Hs),\n/* harmony export */   PUBLISHER_CONTEXT: () => (/* binding */ At),\n/* harmony export */   PUBLISHER_DEFAULT_TTL: () => (/* binding */ je),\n/* harmony export */   Pairing: () => (/* binding */ Li),\n/* harmony export */   RELAYER_CONTEXT: () => (/* binding */ $t),\n/* harmony export */   RELAYER_DEFAULT_LOGGER: () => (/* binding */ Nt),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ xt),\n/* harmony export */   RELAYER_DEFAULT_RELAY_URL: () => (/* binding */ Ue),\n/* harmony export */   RELAYER_EVENTS: () => (/* binding */ C),\n/* harmony export */   RELAYER_PROVIDER_EVENTS: () => (/* binding */ L),\n/* harmony export */   RELAYER_RECONNECT_TIMEOUT: () => (/* binding */ Lt),\n/* harmony export */   RELAYER_SDK_VERSION: () => (/* binding */ _e),\n/* harmony export */   RELAYER_STORAGE_OPTIONS: () => (/* binding */ qs),\n/* harmony export */   RELAYER_SUBSCRIBER_SUFFIX: () => (/* binding */ zt),\n/* harmony export */   RELAYER_TRANSPORT_CUTOFF: () => (/* binding */ Gs),\n/* harmony export */   Relayer: () => (/* binding */ Si),\n/* harmony export */   STORE_STORAGE_VERSION: () => (/* binding */ kt),\n/* harmony export */   SUBSCRIBER_CONTEXT: () => (/* binding */ Ut),\n/* harmony export */   SUBSCRIBER_DEFAULT_TTL: () => (/* binding */ Ws),\n/* harmony export */   SUBSCRIBER_EVENTS: () => (/* binding */ $),\n/* harmony export */   SUBSCRIBER_STORAGE_VERSION: () => (/* binding */ Ft),\n/* harmony export */   Store: () => (/* binding */ zi),\n/* harmony export */   Subscriber: () => (/* binding */ Ti),\n/* harmony export */   TRANSPORT_TYPES: () => (/* binding */ Q),\n/* harmony export */   TRUSTED_VERIFY_URLS: () => (/* binding */ Jt),\n/* harmony export */   VERIFY_CONTEXT: () => (/* binding */ Wt),\n/* harmony export */   VERIFY_SERVER: () => (/* binding */ ue),\n/* harmony export */   VERIFY_SERVER_V3: () => (/* binding */ Yt),\n/* harmony export */   Verify: () => (/* binding */ Ui),\n/* harmony export */   WALLETCONNECT_CLIENT_ID: () => (/* binding */ jt),\n/* harmony export */   WALLETCONNECT_LINK_MODE_APPS: () => (/* binding */ Fe),\n/* harmony export */   \"default\": () => (/* binding */ Te)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/heartbeat */ \"(ssr)/./node_modules/@walletconnect/heartbeat/dist/index.es.js\");\n/* harmony import */ var _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/keyvaluestorage */ \"(ssr)/./node_modules/@walletconnect/core/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/@walletconnect/core/node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uint8arrays */ \"(ssr)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @walletconnect/jsonrpc-ws-connection */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js\");\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\nconst ze=\"wc\",Le=2,he=\"core\",B=`${ze}@2:${he}:`,Et={name:he,logger:\"error\"},It={database:\":memory:\"},Tt=\"crypto\",ke=\"client_ed25519_seed\",Ct=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Pt=\"keychain\",St=\"0.3\",Rt=\"messages\",Ot=\"0.3\",je=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.SIX_HOURS,At=\"publisher\",xt=\"irn\",Nt=\"error\",Ue=\"wss://relay.walletconnect.org\",$t=\"relayer\",C={message:\"relayer_message\",message_ack:\"relayer_message_ack\",connect:\"relayer_connect\",disconnect:\"relayer_disconnect\",error:\"relayer_error\",connection_stalled:\"relayer_connection_stalled\",transport_closed:\"relayer_transport_closed\",publish:\"relayer_publish\"},zt=\"_subscription\",L={payload:\"payload\",connect:\"connect\",disconnect:\"disconnect\",error:\"error\"},Lt=.1,qs={database:\":memory:\"},_e=\"2.19.2\",Gs=1e4,Q={link_mode:\"link_mode\",relay:\"relay\"},le={inbound:\"inbound\",outbound:\"outbound\"},kt=\"0.3\",jt=\"WALLETCONNECT_CLIENT_ID\",Fe=\"WALLETCONNECT_LINK_MODE_APPS\",$={created:\"subscription_created\",deleted:\"subscription_deleted\",expired:\"subscription_expired\",disabled:\"subscription_disabled\",sync:\"subscription_sync\",resubscribed:\"subscription_resubscribed\"},Ws=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,Ut=\"subscription\",Ft=\"0.3\",Hs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS*1e3,Mt=\"pairing\",Kt=\"0.3\",Ys=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,ie={wc_pairingDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0}}},se={create:\"pairing_create\",expire:\"pairing_expire\",delete:\"pairing_delete\",ping:\"pairing_ping\"},F={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},Bt=\"history\",Vt=\"0.3\",qt=\"expirer\",M={created:\"expirer_created\",deleted:\"expirer_deleted\",expired:\"expirer_expired\",sync:\"expirer_sync\"},Gt=\"0.3\",Js=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Wt=\"verify-api\",Xs=\"https://verify.walletconnect.com\",Ht=\"https://verify.walletconnect.org\",ue=Ht,Yt=`${ue}/v3`,Jt=[Xs,Ht],Xt=\"echo\",Zt=\"https://echo.walletconnect.com\",Zs=\"event-client\",G={pairing_started:\"pairing_started\",pairing_uri_validation_success:\"pairing_uri_validation_success\",pairing_uri_not_expired:\"pairing_uri_not_expired\",store_new_pairing:\"store_new_pairing\",subscribing_pairing_topic:\"subscribing_pairing_topic\",subscribe_pairing_topic_success:\"subscribe_pairing_topic_success\",existing_pairing:\"existing_pairing\",pairing_not_expired:\"pairing_not_expired\",emit_inactive_pairing:\"emit_inactive_pairing\",emit_session_proposal:\"emit_session_proposal\",subscribing_to_pairing_topic:\"subscribing_to_pairing_topic\"},Y={no_wss_connection:\"no_wss_connection\",no_internet_connection:\"no_internet_connection\",malformed_pairing_uri:\"malformed_pairing_uri\",active_pairing_already_exists:\"active_pairing_already_exists\",subscribe_pairing_topic_failure:\"subscribe_pairing_topic_failure\",pairing_expired:\"pairing_expired\",proposal_expired:\"proposal_expired\",proposal_listener_not_found:\"proposal_listener_not_found\"},Qs={session_approve_started:\"session_approve_started\",proposal_not_expired:\"proposal_not_expired\",session_namespaces_validation_success:\"session_namespaces_validation_success\",create_session_topic:\"create_session_topic\",subscribing_session_topic:\"subscribing_session_topic\",subscribe_session_topic_success:\"subscribe_session_topic_success\",publishing_session_approve:\"publishing_session_approve\",session_approve_publish_success:\"session_approve_publish_success\",store_session:\"store_session\",publishing_session_settle:\"publishing_session_settle\",session_settle_publish_success:\"session_settle_publish_success\"},er={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",proposal_expired:\"proposal_expired\",subscribe_session_topic_failure:\"subscribe_session_topic_failure\",session_approve_publish_failure:\"session_approve_publish_failure\",session_settle_publish_failure:\"session_settle_publish_failure\",session_approve_namespace_validation_failure:\"session_approve_namespace_validation_failure\",proposal_not_found:\"proposal_not_found\"},tr={authenticated_session_approve_started:\"authenticated_session_approve_started\",authenticated_session_not_expired:\"authenticated_session_not_expired\",chains_caip2_compliant:\"chains_caip2_compliant\",chains_evm_compliant:\"chains_evm_compliant\",create_authenticated_session_topic:\"create_authenticated_session_topic\",cacaos_verified:\"cacaos_verified\",store_authenticated_session:\"store_authenticated_session\",subscribing_authenticated_session_topic:\"subscribing_authenticated_session_topic\",subscribe_authenticated_session_topic_success:\"subscribe_authenticated_session_topic_success\",publishing_authenticated_session_approve:\"publishing_authenticated_session_approve\",authenticated_session_approve_publish_success:\"authenticated_session_approve_publish_success\"},ir={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",missing_session_authenticate_request:\"missing_session_authenticate_request\",session_authenticate_request_expired:\"session_authenticate_request_expired\",chains_caip2_compliant_failure:\"chains_caip2_compliant_failure\",chains_evm_compliant_failure:\"chains_evm_compliant_failure\",invalid_cacao:\"invalid_cacao\",subscribe_authenticated_session_topic_failure:\"subscribe_authenticated_session_topic_failure\",authenticated_session_approve_publish_failure:\"authenticated_session_approve_publish_failure\",authenticated_session_pending_request_not_found:\"authenticated_session_pending_request_not_found\"},Qt=.1,ei=\"event-client\",ti=86400,ii=\"https://pulse.walletconnect.org/batch\";function sr(r,e){if(r.length>=255)throw new TypeError(\"Alphabet too long\");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<r.length;s++){var n=r.charAt(s),o=n.charCodeAt(0);if(t[o]!==255)throw new TypeError(n+\" is ambiguous\");t[o]=s}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(u.length===0)return\"\";for(var b=0,x=0,I=0,D=u.length;I!==D&&u[I]===0;)I++,b++;for(var j=(D-I)*l+1>>>0,T=new Uint8Array(j);I!==D;){for(var q=u[I],J=0,K=j-1;(q!==0||J<x)&&K!==-1;K--,J++)q+=256*T[K]>>>0,T[K]=q%a>>>0,q=q/a>>>0;if(q!==0)throw new Error(\"Non-zero carry\");x=J,I++}for(var H=j-x;H!==j&&T[H]===0;)H++;for(var me=c.repeat(b);H<j;++H)me+=r.charAt(T[H]);return me}function g(u){if(typeof u!=\"string\")throw new TypeError(\"Expected String\");if(u.length===0)return new Uint8Array;var b=0;if(u[b]!==\" \"){for(var x=0,I=0;u[b]===c;)x++,b++;for(var D=(u.length-b)*h+1>>>0,j=new Uint8Array(D);u[b];){var T=t[u.charCodeAt(b)];if(T===255)return;for(var q=0,J=D-1;(T!==0||q<I)&&J!==-1;J--,q++)T+=a*j[J]>>>0,j[J]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error(\"Non-zero carry\");I=q,b++}if(u[b]!==\" \"){for(var K=D-I;K!==D&&j[K]===0;)K++;for(var H=new Uint8Array(x+(D-K)),me=x;K!==D;)H[me++]=j[K++];return H}}}function _(u){var b=g(u);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:g,decode:_}}var rr=sr,nr=rr;const si=r=>{if(r instanceof Uint8Array&&r.constructor.name===\"Uint8Array\")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error(\"Unknown type, must be binary type\")},or=r=>new TextEncoder().encode(r),ar=r=>new TextDecoder().decode(r);class cr{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class hr{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return ri(this,e)}}class lr{constructor(e){this.decoders=e}or(e){return ri(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ri=(r,e)=>new lr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class ur{constructor(e,t,i,s){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new cr(e,t,i),this.decoder=new hr(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ee=({name:r,prefix:e,encode:t,decode:i})=>new ur(r,e,t,i),de=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:s}=nr(t,e);return Ee({prefix:r,name:e,encode:i,decode:n=>si(s(n))})},dr=(r,e,t,i)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=r.length;for(;r[n-1]===\"=\";)--n;const o=new Uint8Array(n*t/8|0);let a=0,c=0,h=0;for(let l=0;l<n;++l){const d=s[r[l]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},gr=(r,e,t)=>{const i=e[e.length-1]===\"=\",s=(1<<t)-1;let n=\"\",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,n+=e[s&a>>o];if(o&&(n+=e[s&a<<t-o]),i)for(;n.length*t&7;)n+=\"=\";return n},P=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Ee({prefix:e,name:r,encode(s){return gr(s,i,t)},decode(s){return dr(s,i,t,r)}}),pr=Ee({prefix:\"\\0\",name:\"identity\",encode:r=>ar(r),decode:r=>or(r)});var yr=Object.freeze({__proto__:null,identity:pr});const br=P({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var mr=Object.freeze({__proto__:null,base2:br});const fr=P({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var Dr=Object.freeze({__proto__:null,base8:fr});const vr=de({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var wr=Object.freeze({__proto__:null,base10:vr});const _r=P({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),Er=P({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var Ir=Object.freeze({__proto__:null,base16:_r,base16upper:Er});const Tr=P({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),Cr=P({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),Pr=P({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),Sr=P({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),Rr=P({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),Or=P({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),Ar=P({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),xr=P({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),Nr=P({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var $r=Object.freeze({__proto__:null,base32:Tr,base32upper:Cr,base32pad:Pr,base32padupper:Sr,base32hex:Rr,base32hexupper:Or,base32hexpad:Ar,base32hexpadupper:xr,base32z:Nr});const zr=de({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),Lr=de({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var kr=Object.freeze({__proto__:null,base36:zr,base36upper:Lr});const jr=de({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),Ur=de({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var Fr=Object.freeze({__proto__:null,base58btc:jr,base58flickr:Ur});const Mr=P({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),Kr=P({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),Br=P({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),Vr=P({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var qr=Object.freeze({__proto__:null,base64:Mr,base64pad:Kr,base64url:Br,base64urlpad:Vr});const ni=Array.from(\"\\u{1F680}\\u{1FA90}\\u2604\\u{1F6F0}\\u{1F30C}\\u{1F311}\\u{1F312}\\u{1F313}\\u{1F314}\\u{1F315}\\u{1F316}\\u{1F317}\\u{1F318}\\u{1F30D}\\u{1F30F}\\u{1F30E}\\u{1F409}\\u2600\\u{1F4BB}\\u{1F5A5}\\u{1F4BE}\\u{1F4BF}\\u{1F602}\\u2764\\u{1F60D}\\u{1F923}\\u{1F60A}\\u{1F64F}\\u{1F495}\\u{1F62D}\\u{1F618}\\u{1F44D}\\u{1F605}\\u{1F44F}\\u{1F601}\\u{1F525}\\u{1F970}\\u{1F494}\\u{1F496}\\u{1F499}\\u{1F622}\\u{1F914}\\u{1F606}\\u{1F644}\\u{1F4AA}\\u{1F609}\\u263A\\u{1F44C}\\u{1F917}\\u{1F49C}\\u{1F614}\\u{1F60E}\\u{1F607}\\u{1F339}\\u{1F926}\\u{1F389}\\u{1F49E}\\u270C\\u2728\\u{1F937}\\u{1F631}\\u{1F60C}\\u{1F338}\\u{1F64C}\\u{1F60B}\\u{1F497}\\u{1F49A}\\u{1F60F}\\u{1F49B}\\u{1F642}\\u{1F493}\\u{1F929}\\u{1F604}\\u{1F600}\\u{1F5A4}\\u{1F603}\\u{1F4AF}\\u{1F648}\\u{1F447}\\u{1F3B6}\\u{1F612}\\u{1F92D}\\u2763\\u{1F61C}\\u{1F48B}\\u{1F440}\\u{1F62A}\\u{1F611}\\u{1F4A5}\\u{1F64B}\\u{1F61E}\\u{1F629}\\u{1F621}\\u{1F92A}\\u{1F44A}\\u{1F973}\\u{1F625}\\u{1F924}\\u{1F449}\\u{1F483}\\u{1F633}\\u270B\\u{1F61A}\\u{1F61D}\\u{1F634}\\u{1F31F}\\u{1F62C}\\u{1F643}\\u{1F340}\\u{1F337}\\u{1F63B}\\u{1F613}\\u2B50\\u2705\\u{1F97A}\\u{1F308}\\u{1F608}\\u{1F918}\\u{1F4A6}\\u2714\\u{1F623}\\u{1F3C3}\\u{1F490}\\u2639\\u{1F38A}\\u{1F498}\\u{1F620}\\u261D\\u{1F615}\\u{1F33A}\\u{1F382}\\u{1F33B}\\u{1F610}\\u{1F595}\\u{1F49D}\\u{1F64A}\\u{1F639}\\u{1F5E3}\\u{1F4AB}\\u{1F480}\\u{1F451}\\u{1F3B5}\\u{1F91E}\\u{1F61B}\\u{1F534}\\u{1F624}\\u{1F33C}\\u{1F62B}\\u26BD\\u{1F919}\\u2615\\u{1F3C6}\\u{1F92B}\\u{1F448}\\u{1F62E}\\u{1F646}\\u{1F37B}\\u{1F343}\\u{1F436}\\u{1F481}\\u{1F632}\\u{1F33F}\\u{1F9E1}\\u{1F381}\\u26A1\\u{1F31E}\\u{1F388}\\u274C\\u270A\\u{1F44B}\\u{1F630}\\u{1F928}\\u{1F636}\\u{1F91D}\\u{1F6B6}\\u{1F4B0}\\u{1F353}\\u{1F4A2}\\u{1F91F}\\u{1F641}\\u{1F6A8}\\u{1F4A8}\\u{1F92C}\\u2708\\u{1F380}\\u{1F37A}\\u{1F913}\\u{1F619}\\u{1F49F}\\u{1F331}\\u{1F616}\\u{1F476}\\u{1F974}\\u25B6\\u27A1\\u2753\\u{1F48E}\\u{1F4B8}\\u2B07\\u{1F628}\\u{1F31A}\\u{1F98B}\\u{1F637}\\u{1F57A}\\u26A0\\u{1F645}\\u{1F61F}\\u{1F635}\\u{1F44E}\\u{1F932}\\u{1F920}\\u{1F927}\\u{1F4CC}\\u{1F535}\\u{1F485}\\u{1F9D0}\\u{1F43E}\\u{1F352}\\u{1F617}\\u{1F911}\\u{1F30A}\\u{1F92F}\\u{1F437}\\u260E\\u{1F4A7}\\u{1F62F}\\u{1F486}\\u{1F446}\\u{1F3A4}\\u{1F647}\\u{1F351}\\u2744\\u{1F334}\\u{1F4A3}\\u{1F438}\\u{1F48C}\\u{1F4CD}\\u{1F940}\\u{1F922}\\u{1F445}\\u{1F4A1}\\u{1F4A9}\\u{1F450}\\u{1F4F8}\\u{1F47B}\\u{1F910}\\u{1F92E}\\u{1F3BC}\\u{1F975}\\u{1F6A9}\\u{1F34E}\\u{1F34A}\\u{1F47C}\\u{1F48D}\\u{1F4E3}\\u{1F942}\"),Gr=ni.reduce((r,e,t)=>(r[t]=e,r),[]),Wr=ni.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Hr(r){return r.reduce((e,t)=>(e+=Gr[t],e),\"\")}function Yr(r){const e=[];for(const t of r){const i=Wr[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const Jr=Ee({prefix:\"\\u{1F680}\",name:\"base256emoji\",encode:Hr,decode:Yr});var Xr=Object.freeze({__proto__:null,base256emoji:Jr}),Zr=ai,oi=128,Qr=127,en=~Qr,tn=Math.pow(2,31);function ai(r,e,t){e=e||[],t=t||0;for(var i=t;r>=tn;)e[t++]=r&255|oi,r/=128;for(;r&en;)e[t++]=r&255|oi,r>>>=7;return e[t]=r|0,ai.bytes=t-i+1,e}var sn=Me,rn=128,ci=127;function Me(r,i){var t=0,i=i||0,s=0,n=i,o,a=r.length;do{if(n>=a)throw Me.bytes=0,new RangeError(\"Could not decode varint\");o=r[n++],t+=s<28?(o&ci)<<s:(o&ci)*Math.pow(2,s),s+=7}while(o>=rn);return Me.bytes=n-i,t}var nn=Math.pow(2,7),on=Math.pow(2,14),an=Math.pow(2,21),cn=Math.pow(2,28),hn=Math.pow(2,35),ln=Math.pow(2,42),un=Math.pow(2,49),dn=Math.pow(2,56),gn=Math.pow(2,63),pn=function(r){return r<nn?1:r<on?2:r<an?3:r<cn?4:r<hn?5:r<ln?6:r<un?7:r<dn?8:r<gn?9:10},yn={encode:Zr,decode:sn,encodingLength:pn},hi=yn;const li=(r,e,t=0)=>(hi.encode(r,e,t),e),ui=r=>hi.encodingLength(r),Ke=(r,e)=>{const t=e.byteLength,i=ui(r),s=i+ui(t),n=new Uint8Array(s+t);return li(r,n,0),li(t,n,i),n.set(e,s),new bn(r,t,e,n)};class bn{constructor(e,t,i,s){this.code=e,this.size=t,this.digest=i,this.bytes=s}}const di=({name:r,code:e,encode:t})=>new mn(r,e,t);class mn{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ke(this.code,t):t.then(i=>Ke(this.code,i))}else throw Error(\"Unknown type, must be binary type\")}}const gi=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),fn=di({name:\"sha2-256\",code:18,encode:gi(\"SHA-256\")}),Dn=di({name:\"sha2-512\",code:19,encode:gi(\"SHA-512\")});var vn=Object.freeze({__proto__:null,sha256:fn,sha512:Dn});const pi=0,wn=\"identity\",yi=si,_n=r=>Ke(pi,yi(r)),En={code:pi,name:wn,encode:yi,digest:_n};var In=Object.freeze({__proto__:null,identity:En});new TextEncoder,new TextDecoder;const bi={...yr,...mr,...Dr,...wr,...Ir,...$r,...kr,...Fr,...qr,...Xr};({...vn,...In});function Tn(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function mi(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const fi=mi(\"utf8\",\"u\",r=>\"u\"+new TextDecoder(\"utf8\").decode(r),r=>new TextEncoder().encode(r.substring(1))),Be=mi(\"ascii\",\"a\",r=>{let e=\"a\";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Tn(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Cn={utf8:fi,\"utf-8\":fi,hex:bi.base16,latin1:Be,ascii:Be,binary:Be,...bi};function Pn(r,e=\"utf8\"){const t=Cn[e];if(!t)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,\"utf8\"):t.decoder.decode(`${t.prefix}${r}`)}var Sn=Object.defineProperty,Rn=(r,e,t)=>e in r?Sn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,W=(r,e,t)=>Rn(r,typeof e!=\"symbol\"?e+\"\":e,t);class Di{constructor(e,t){this.core=e,this.logger=t,W(this,\"keychain\",new Map),W(this,\"name\",Pt),W(this,\"version\",St),W(this,\"initialized\",!1),W(this,\"storagePrefix\",B),W(this,\"init\",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<\"u\"&&(this.keychain=i),this.initialized=!0}}),W(this,\"has\",i=>(this.isInitialized(),this.keychain.has(i))),W(this,\"set\",async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist()}),W(this,\"get\",i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>\"u\"){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${i}`);throw new Error(n)}return s}),W(this,\"del\",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var On=Object.defineProperty,An=(r,e,t)=>e in r?On(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,S=(r,e,t)=>An(r,typeof e!=\"symbol\"?e+\"\":e,t);class vi{constructor(e,t,i){this.core=e,this.logger=t,S(this,\"name\",Tt),S(this,\"keychain\"),S(this,\"randomSessionIdentifier\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)()),S(this,\"initialized\",!1),S(this,\"init\",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),S(this,\"hasKeys\",s=>(this.isInitialized(),this.keychain.has(s))),S(this,\"getClientId\",async()=>{this.isInitialized();const s=await this.getClientSeed(),n=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(s);return _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.encodeIss(n.publicKey)}),S(this,\"generateKeyPair\",()=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateKeyPair)();return this.setPrivateKey(s.publicKey,s.privateKey)}),S(this,\"signJWT\",async s=>{this.isInitialized();const n=await this.getClientSeed(),o=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(n),a=this.randomSessionIdentifier,c=Ct;return await _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.signJWT(a,s,c,o)}),S(this,\"generateSharedKey\",(s,n,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deriveSymKey)(a,n);return this.setSymKey(c,o)}),S(this,\"setSymKey\",async(s,n)=>{this.isInitialized();const o=n||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashKey)(s);return await this.keychain.set(o,s),o}),S(this,\"deleteKeyPair\",async s=>{this.isInitialized(),await this.keychain.del(s)}),S(this,\"deleteSymKey\",async s=>{this.isInitialized(),await this.keychain.del(s)}),S(this,\"encode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateEncoding)(o),c=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonStringify)(n);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a))return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encodeTypeTwoEnvelope)(c,o?.encoding);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const g=a.senderPublicKey,_=a.receiverPublicKey;s=await this.generateSharedKey(g,_)}const h=this.getSymKey(s),{type:l,senderPublicKey:d}=a;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encrypt)({type:l,symKey:h,message:c,senderPublicKey:d,encoding:o?.encoding})}),S(this,\"decode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateDecoding)(n,o);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a)){const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeTwoEnvelope)(n,o?.encoding);return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(c)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const c=a.receiverPublicKey,h=a.senderPublicKey;s=await this.generateSharedKey(c,h)}try{const c=this.getSymKey(s),h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decrypt)({symKey:c,encoded:n,encoding:o?.encoding});return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(h)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),S(this,\"getPayloadType\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeByte)(o.type)}),S(this,\"getPayloadSenderPublicKey\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return o.senderPublicKey?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_7__.toString)(o.senderPublicKey,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE16):void 0}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.keychain=i||new Di(this.core,this.logger)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e=\"\";try{e=this.keychain.get(ke)}catch{e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),await this.keychain.set(ke,e)}return Pn(e,\"base16\")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var xn=Object.defineProperty,Nn=Object.defineProperties,$n=Object.getOwnPropertyDescriptors,wi=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable,Ve=(r,e,t)=>e in r?xn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kn=(r,e)=>{for(var t in e||(e={}))zn.call(e,t)&&Ve(r,t,e[t]);if(wi)for(var t of wi(e))Ln.call(e,t)&&Ve(r,t,e[t]);return r},jn=(r,e)=>Nn(r,$n(e)),k=(r,e,t)=>Ve(r,typeof e!=\"symbol\"?e+\"\":e,t);class _i extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,k(this,\"messages\",new Map),k(this,\"messagesWithoutClientAck\",new Map),k(this,\"name\",Rt),k(this,\"version\",Ot),k(this,\"initialized\",!1),k(this,\"storagePrefix\",B),k(this,\"init\",async()=>{if(!this.initialized){this.logger.trace(\"Initialized\");try{const i=await this.getRelayerMessages();typeof i<\"u\"&&(this.messages=i);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<\"u\"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),k(this,\"set\",async(i,s,n)=>{this.isInitialized();const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);let a=this.messages.get(i);if(typeof a>\"u\"&&(a={}),typeof a[o]<\"u\")return o;if(a[o]=s,this.messages.set(i,a),n===le.inbound){const c=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,jn(kn({},c),{[o]:s}))}return await this.persist(),o}),k(this,\"get\",i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>\"u\"&&(s={}),s}),k(this,\"getWithoutAck\",i=>{this.isInitialized();const s={};for(const n of i){const o=this.messagesWithoutClientAck.get(n)||{};s[n]=Object.values(o)}return s}),k(this,\"has\",(i,s)=>{this.isInitialized();const n=this.get(i),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);return typeof n[o]<\"u\"}),k(this,\"ack\",async(i,s)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(i);if(typeof n>\"u\")return;const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);delete n[o],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,n),await this.persist()}),k(this,\"del\",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e,this.name),this.core=t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name+\"_withoutClientAck\"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Un=Object.defineProperty,Fn=Object.defineProperties,Mn=Object.getOwnPropertyDescriptors,Ei=Object.getOwnPropertySymbols,Kn=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable,qe=(r,e,t)=>e in r?Un(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ie=(r,e)=>{for(var t in e||(e={}))Kn.call(e,t)&&qe(r,t,e[t]);if(Ei)for(var t of Ei(e))Bn.call(e,t)&&qe(r,t,e[t]);return r},Ge=(r,e)=>Fn(r,Mn(e)),V=(r,e,t)=>qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Vn extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,V(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),V(this,\"name\",At),V(this,\"queue\",new Map),V(this,\"publishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),V(this,\"initialPublishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),V(this,\"needsTransportRestart\",!1),V(this,\"publish\",async(i,s,n)=>{var o;this.logger.debug(\"Publishing Payload\"),this.logger.trace({type:\"method\",method:\"publish\",params:{topic:i,message:s,opts:n}});const a=n?.ttl||je,c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(n),h=n?.prompt||!1,l=n?.tag||0,d=n?.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),g={topic:i,message:s,opts:{ttl:a,relay:c,prompt:h,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}},_=`Failed to publish payload, please try again. id:${d} tag:${l}`;try{const u=new Promise(async b=>{const x=({id:D})=>{g.opts.id===D&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(C.publish,x),b(g))};this.relayer.events.on(C.publish,x);const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((D,j)=>{this.rpcPublish({topic:i,message:s,ttl:a,prompt:h,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}).then(D).catch(T=>{this.logger.warn(T,T?.message),j(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${l}`);try{await I,this.events.removeListener(C.publish,x)}catch(D){this.queue.set(d,Ge(Ie({},g),{attempt:1})),this.logger.warn(D,D?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:d,topic:i,message:s,opts:n}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(u,this.publishTimeout,_)}catch(u){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(u),(o=n?.internal)!=null&&o.throwOnFailedPublish)throw u}finally{this.queue.delete(d)}}),V(this,\"on\",(i,s)=>{this.events.on(i,s)}),V(this,\"once\",(i,s)=>{this.events.once(i,s)}),V(this,\"off\",(i,s)=>{this.events.off(i,s)}),V(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async rpcPublish(e){var t,i,s,n;const{topic:o,message:a,ttl:c=je,prompt:h,tag:l,id:d,attestation:g,tvf:_}=e,u={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol).publish,params:Ie({topic:o,message:a,ttl:c,prompt:h,tag:l,attestation:g},_),id:d};(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((t=u.params)==null?void 0:t.prompt)&&((i=u.params)==null||delete i.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((s=u.params)==null?void 0:s.tag)&&((n=u.params)==null||delete n.tag),this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"message\",direction:\"outgoing\",request:u});const b=await this.relayer.request(u);return this.relayer.events.emit(C.publish,e),this.logger.debug(\"Successfully Published Payload\"),b}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const i=e.attempt+1;this.queue.set(t,Ge(Ie({},e),{attempt:i}));const{topic:s,message:n,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${i}`),await this.rpcPublish(Ge(Ie({},e),{topic:s,message:n,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C.connection_stalled);return}this.checkQueue()}),this.relayer.on(C.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var qn=Object.defineProperty,Gn=(r,e,t)=>e in r?qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,re=(r,e,t)=>Gn(r,typeof e!=\"symbol\"?e+\"\":e,t);class Wn{constructor(){re(this,\"map\",new Map),re(this,\"set\",(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])}),re(this,\"get\",e=>this.map.get(e)||[]),re(this,\"exists\",(e,t)=>this.get(e).includes(t)),re(this,\"delete\",(e,t)=>{if(typeof t>\"u\"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const s=i.filter(n=>n!==t);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),re(this,\"clear\",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Hn=Object.defineProperty,Yn=Object.defineProperties,Jn=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Xn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable,We=(r,e,t)=>e in r?Hn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ge=(r,e)=>{for(var t in e||(e={}))Xn.call(e,t)&&We(r,t,e[t]);if(Ii)for(var t of Ii(e))Zn.call(e,t)&&We(r,t,e[t]);return r},He=(r,e)=>Yn(r,Jn(e)),f=(r,e,t)=>We(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ti extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,f(this,\"subscriptions\",new Map),f(this,\"topicMap\",new Wn),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),f(this,\"name\",Ut),f(this,\"version\",Ft),f(this,\"pending\",new Map),f(this,\"cached\",[]),f(this,\"initialized\",!1),f(this,\"storagePrefix\",B),f(this,\"subscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),f(this,\"initialSubscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),f(this,\"clientId\"),f(this,\"batchSubscribeTopicsLimit\",500),f(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f(this,\"subscribe\",async(i,s)=>{this.isInitialized(),this.logger.debug(\"Subscribing Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}});try{const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(s),o={topic:i,relay:n,transportType:s?.transportType};this.pending.set(i,o);const a=await this.rpcSubscribe(i,n,s);return typeof a==\"string\"&&(this.onSubscribe(a,o),this.logger.debug(\"Successfully Subscribed Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}})),a}catch(n){throw this.logger.debug(\"Failed to Subscribe Topic\"),this.logger.error(n),n}}),f(this,\"unsubscribe\",async(i,s)=>{this.isInitialized(),typeof s?.id<\"u\"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s)}),f(this,\"isSubscribed\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i))})),f(this,\"isKnownTopic\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(n=>n.topic===i))})),f(this,\"on\",(i,s)=>{this.events.on(i,s)}),f(this,\"once\",(i,s)=>{this.events.once(i,s)}),f(this,\"off\",(i,s)=>{this.events.off(i,s)}),f(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),f(this,\"start\",async()=>{await this.onConnect()}),f(this,\"stop\",async()=>{await this.onDisconnect()}),f(this,\"restart\",async()=>{await this.restore(),await this.onRestart()}),f(this,\"checkPending\",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(s=>{i.push(s)}),await this.batchSubscribe(i)}),f(this,\"registerEventListeners\",()=>{this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on($.created,async i=>{const s=$.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()}),this.events.on($.deleted,async i=>{const s=$.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()})}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.clientId=\"\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+\"//\"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async s=>await this.unsubscribeById(e,s,t)))}async unsubscribeById(e,t,i){this.logger.debug(\"Unsubscribing Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}});try{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(i);await this.restartToComplete({topic:e,id:t,relay:s}),await this.rpcUnsubscribe(e,t,s);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug(\"Successfully Unsubscribed Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}})}catch(s){throw this.logger.debug(\"Failed to Unsubscribe Topic\"),this.logger.error(s),s}}async rpcSubscribe(e,t,i){var s;(!i||i?.transportType===Q.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const n={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).subscribe,params:{topic:e}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:n});const o=(s=i?.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(i?.transportType===Q.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(l=>this.logger.warn(l))},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),a;const c=new Promise(async l=>{const d=g=>{g.topic===e&&(this.events.removeListener($.created,d),l(g.id))};this.events.on($.created,d);try{const g=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((_,u)=>{this.relayer.request(n).catch(b=>{this.logger.warn(b,b?.message),u(b)}).then(_)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener($.created,d),l(g)}catch{}}),h=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return h?a:null}catch(a){if(this.logger.debug(\"Outgoing Relay Subscribe Payload stalled\"),this.relayer.events.emit(C.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});try{await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise(s=>{this.relayer.request(i).catch(n=>this.logger.warn(n)).then(s)}),this.subscribeTimeout,\"rpcBatchSubscribe failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});let s;try{s=await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((n,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a)}).then(n)}),this.subscribeTimeout,\"rpcBatchFetchMessages failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}return s}rpcUnsubscribe(e,t,i){const s={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,He(ge({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,ge({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug(\"Setting subscription\"),this.logger.trace({type:\"method\",method:\"setSubscription\",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,ge({},t)),this.topicMap.set(t.topic,e),this.events.emit($.created,t)}getSubscription(e){this.logger.debug(\"Getting subscription\"),this.logger.trace({type:\"method\",method:\"getSubscription\",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug(\"Deleting subscription\"),this.logger.trace({type:\"method\",method:\"deleteSubscription\",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit($.deleted,He(ge({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit($.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>\"u\"||!e.length)return;if(this.subscriptions.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>He(ge({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.sleep)((0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(e+await this.getClientId())}}var Qn=Object.defineProperty,Ci=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,Ye=(r,e,t)=>e in r?Qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pi=(r,e)=>{for(var t in e||(e={}))eo.call(e,t)&&Ye(r,t,e[t]);if(Ci)for(var t of Ci(e))to.call(e,t)&&Ye(r,t,e[t]);return r},y=(r,e,t)=>Ye(r,typeof e!=\"symbol\"?e+\"\":e,t);class Si extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IRelayer{constructor(e){super(e),y(this,\"protocol\",\"wc\"),y(this,\"version\",2),y(this,\"core\"),y(this,\"logger\"),y(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),y(this,\"provider\"),y(this,\"messages\"),y(this,\"subscriber\"),y(this,\"publisher\"),y(this,\"name\",$t),y(this,\"transportExplicitlyClosed\",!1),y(this,\"initialized\",!1),y(this,\"connectionAttemptInProgress\",!1),y(this,\"relayUrl\"),y(this,\"projectId\"),y(this,\"packageName\"),y(this,\"bundleId\"),y(this,\"hasExperiencedNetworkDisruption\",!1),y(this,\"pingTimeout\"),y(this,\"heartBeatTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS+_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS)),y(this,\"reconnectTimeout\"),y(this,\"connectPromise\"),y(this,\"reconnectInProgress\",!1),y(this,\"requestsInFlight\",[]),y(this,\"connectTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),y(this,\"request\",async t=>{var i,s;this.logger.debug(\"Publishing Request Payload\");const n=t.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:t.method,topic:(i=t.params)==null?void 0:i.topic},\"relayer.request - publishing...\");const o=`${n}:${((s=t.params)==null?void 0:s.tag)||\"\"}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${n}`),o}}),y(this,\"resetPingTimeout\",()=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,i,s,n;try{this.logger.debug({},\"pingTimeout: Connection stalled, terminating...\"),(n=(s=(i=(t=this.provider)==null?void 0:t.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||n.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),y(this,\"onPayloadHandler\",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),y(this,\"onConnectHandler\",()=>{this.logger.warn({},\"Relayer connected \\u{1F6DC}\"),this.startPingTimeout(),this.events.emit(C.connect)}),y(this,\"onDisconnectHandler\",()=>{this.logger.warn({},\"Relayer disconnected \\u{1F6D1}\"),this.requestsInFlight=[],this.onProviderDisconnect()}),y(this,\"onProviderErrorHandler\",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(C.error,t),this.logger.fatal(\"Fatal socket error received, closing transport\"),this.transportClose()}),y(this,\"registerProviderListeners\",()=>{this.provider.on(L.payload,this.onPayloadHandler),this.provider.on(L.connect,this.onConnectHandler),this.provider.on(L.disconnect,this.onDisconnectHandler),this.provider.on(L.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<\"u\"&&typeof e.logger!=\"string\"?(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e.logger,this.name):(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:e.logger||Nt})),this.messages=new _i(this.logger,e.core),this.subscriber=new Ti(this,this.logger),this.publisher=new Vn(this,this.logger),this.relayUrl=e?.relayUrl||Ue,this.projectId=e.projectId,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAndroid)()?this.packageName=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)():(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isIos)()&&(this.bundleId=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)()),this.provider={}}async init(){if(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get connected(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Q.relay},le.outbound)}async subscribe(e,t){var i,s,n;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType===\"relay\")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>\"u\"?!0:(s=t?.internal)==null?void 0:s.throwOnFailedPublish;let a=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||\"\",c;const h=l=>{l.topic===e&&(this.subscriber.off($.created,h),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on($.created,h)}),new Promise(async(l,d)=>{a=await this.subscriber.subscribe(e,Pi({internal:{throwOnFailedPublish:o}},t)).catch(g=>{o&&d(g)})||a,l()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(this.provider.disconnect(),2e3,\"provider.disconnect()\").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn(\"Starting WS connection skipped because the client has no topics to work with.\");return}if(this.connectPromise?(this.logger.debug({},\"Waiting for existing connection attempt to resolve...\"),await this.connectPromise,this.logger.debug({},\"Existing connection attempt resolved\")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},\"Restarting transport...\"),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)())throw new Error(\"No internet connection detected. Please restart your network and try again.\")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace(\"Batch message events is empty. Ignoring...\");return}const t=e.sort((i,s)=>i.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i)}catch(s){this.logger.warn(s,\"Error while processing batch message event: \"+s?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),n={topic:i,expiry:s,relay:{protocol:\"irn\"},active:!1};await this.core.pairing.pairings.set(i,n)}this.events.emit(C.message,e),await this.recordMessageEvent(e,le.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,s)=>{const n=()=>{s(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(L.disconnect,n),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(L.disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(L.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(L.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const s=i;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t*1))),t++}}startPingTimeout(){var e,t,i,s,n;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null||n.on(\"ping\",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__.JsonRpcProvider(new _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__[\"default\"]((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatRelayRpcUrl)({sdkVersion:_e,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:i,message:s}=e;await this.messages.set(i,s,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const s=this.messages.has(t,i);return s&&this.logger.warn(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(e){if(this.logger.debug(\"Incoming Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"incoming\",payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(e)){if(!e.method.endsWith(zt))return;const t=e.params,{topic:i,message:s,publishedAt:n,attestation:o}=t.data,a={topic:i,message:s,publishedAt:n,transportType:Q.relay,attestation:o};this.logger.debug(\"Emitting Relayer Payload\"),this.logger.trace(Pi({type:\"event\",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(e)&&this.events.emit(C.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,le.inbound),this.events.emit(C.message,e))}async acknowledgePayload(e){const t=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(L.payload,this.onPayloadHandler),this.provider.off(L.connect,this.onConnectHandler),this.provider.off(L.disconnect,this.onDisconnectHandler),this.provider.off(L.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)();(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.subscribeToNetworkChange)(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(Lt)))))}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function io(){}function Ri(r){if(!r||typeof r!=\"object\")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)===\"[object Object]\":!1}function Oi(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function Ai(r){return r==null?r===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(r)}const so=\"[object RegExp]\",ro=\"[object String]\",no=\"[object Number]\",oo=\"[object Boolean]\",xi=\"[object Arguments]\",ao=\"[object Symbol]\",co=\"[object Date]\",ho=\"[object Map]\",lo=\"[object Set]\",uo=\"[object Array]\",go=\"[object Function]\",po=\"[object ArrayBuffer]\",Je=\"[object Object]\",yo=\"[object Error]\",bo=\"[object DataView]\",mo=\"[object Uint8Array]\",fo=\"[object Uint8ClampedArray]\",Do=\"[object Uint16Array]\",vo=\"[object Uint32Array]\",wo=\"[object BigUint64Array]\",_o=\"[object Int8Array]\",Eo=\"[object Int16Array]\",Io=\"[object Int32Array]\",To=\"[object BigInt64Array]\",Co=\"[object Float32Array]\",Po=\"[object Float64Array]\";function So(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function Ro(r,e,t){return pe(r,e,void 0,void 0,void 0,void 0,t)}function pe(r,e,t,i,s,n,o){const a=o(r,e,t,i,s,n);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case\"bigint\":case\"string\":case\"boolean\":case\"symbol\":case\"undefined\":return r===e;case\"number\":return r===e||Object.is(r,e);case\"function\":return r===e;case\"object\":return ye(r,e,n,o)}return ye(r,e,n,o)}function ye(r,e,t,i){if(Object.is(r,e))return!0;let s=Ai(r),n=Ai(e);if(s===xi&&(s=Je),n===xi&&(n=Je),s!==n)return!1;switch(s){case ro:return r.toString()===e.toString();case no:{const c=r.valueOf(),h=e.valueOf();return So(c,h)}case oo:case co:case ao:return Object.is(r.valueOf(),e.valueOf());case so:return r.source===e.source&&r.flags===e.flags;case go:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(s){case ho:{if(r.size!==e.size)return!1;for(const[c,h]of r.entries())if(!e.has(c)||!pe(h,e.get(c),c,r,e,t,i))return!1;return!0}case lo:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),h=Array.from(e.values());for(let l=0;l<c.length;l++){const d=c[l],g=h.findIndex(_=>pe(d,_,void 0,r,e,t,i));if(g===-1)return!1;h.splice(g,1)}return!0}case uo:case mo:case fo:case Do:case vo:case wo:case _o:case Eo:case Io:case To:case Co:case Po:{if(typeof Buffer<\"u\"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!pe(r[c],e[c],c,r,e,t,i))return!1;return!0}case po:return r.byteLength!==e.byteLength?!1:ye(new Uint8Array(r),new Uint8Array(e),t,i);case bo:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:ye(new Uint8Array(r),new Uint8Array(e),t,i);case yo:return r.name===e.name&&r.message===e.message;case Je:{if(!(ye(r.constructor,e.constructor,t,i)||Ri(r)&&Ri(e)))return!1;const h=[...Object.keys(r),...Oi(r)],l=[...Object.keys(e),...Oi(e)];if(h.length!==l.length)return!1;for(let d=0;d<h.length;d++){const g=h[d],_=r[g];if(!Object.hasOwn(e,g))return!1;const u=e[g];if(!pe(_,u,g,r,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function Oo(r,e){return Ro(r,e,io)}var Ao=Object.defineProperty,Ni=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,No=Object.prototype.propertyIsEnumerable,Xe=(r,e,t)=>e in r?Ao(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$i=(r,e)=>{for(var t in e||(e={}))xo.call(e,t)&&Xe(r,t,e[t]);if(Ni)for(var t of Ni(e))No.call(e,t)&&Xe(r,t,e[t]);return r},z=(r,e,t)=>Xe(r,typeof e!=\"symbol\"?e+\"\":e,t);class zi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IStore{constructor(e,t,i,s=B,n=void 0){super(e,t,i,s),this.core=e,this.logger=t,this.name=i,z(this,\"map\",new Map),z(this,\"version\",kt),z(this,\"cached\",[]),z(this,\"initialized\",!1),z(this,\"getKey\"),z(this,\"storagePrefix\",B),z(this,\"recentlyDeleted\",[]),z(this,\"recentlyDeletedLimit\",200),z(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)(o)?this.map.set(this.getKey(o),o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isProposalStruct)(o)?this.map.set(o.id,o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isSessionStruct)(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),z(this,\"set\",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug(\"Setting value\"),this.logger.trace({type:\"method\",method:\"set\",key:o,value:a}),this.map.set(o,a),await this.persist())}),z(this,\"get\",o=>(this.isInitialized(),this.logger.debug(\"Getting value\"),this.logger.trace({type:\"method\",method:\"get\",key:o}),this.getData(o))),z(this,\"getAll\",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Oo(a[c],o[c]))):this.values)),z(this,\"update\",async(o,a)=>{this.isInitialized(),this.logger.debug(\"Updating value\"),this.logger.trace({type:\"method\",method:\"update\",key:o,update:a});const c=$i($i({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),z(this,\"delete\",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug(\"Deleting value\"),this.logger.trace({type:\"method\",method:\"delete\",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.storagePrefix=s,this.getKey=n}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>\"u\"||!e.length)return;if(this.map.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var $o=Object.defineProperty,zo=(r,e,t)=>e in r?$o(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p=(r,e,t)=>zo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Li{constructor(e,t){this.core=e,this.logger=t,p(this,\"name\",Mt),p(this,\"version\",Kt),p(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_0___default())),p(this,\"pairings\"),p(this,\"initialized\",!1),p(this,\"storagePrefix\",B),p(this,\"ignoredPayloadTypes\",[_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.TYPE_1]),p(this,\"registeredMethods\",[]),p(this,\"init\",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace(\"Initialized\"))}),p(this,\"register\",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),p(this,\"create\",async i=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),n=await this.core.crypto.setSymKey(s),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),a={protocol:xt},c={topic:n,expiry:o,relay:a,active:!1,methods:i?.methods},h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(se.create,c),this.core.expirer.set(n,o),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:i?.transportType}),{topic:n,uri:h}}),p(this,\"pair\",async i=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[G.pairing_started]}});this.isValidPair(i,s);const{topic:n,symKey:o,relay:a,expiryTimestamp:c,methods:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i.uri);s.props.properties.topic=n,s.addTrace(G.pairing_uri_validation_success),s.addTrace(G.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(n)){if(l=this.pairings.get(n),s.addTrace(G.existing_pairing),l.active)throw s.setError(Y.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(G.pairing_not_expired)}const d=c||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),g={topic:n,relay:a,expiry:d,active:!1,methods:h};this.core.expirer.set(n,d),await this.pairings.set(n,g),s.addTrace(G.store_new_pairing),i.activatePairing&&await this.activate({topic:n}),this.events.emit(se.create,g),s.addTrace(G.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(o,n),s.addTrace(G.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Y.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(_){throw s.setError(Y.subscribe_pairing_topic_failure),_}return s.addTrace(G.subscribe_pairing_topic_success),g}),p(this,\"activate\",async({topic:i})=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES);this.core.expirer.set(i,s),await this.pairings.update(i,{active:!0,expiry:s})}),p(this,\"ping\",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn(\"ping() is deprecated and will be removed in the next major release.\");const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,\"wc_pairingPing\",{}),{done:o,resolve:a,reject:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),({error:h})=>{h?c(h):a()}),await o()}}),p(this,\"updateExpiry\",async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s})}),p(this,\"updateMetadata\",async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s})}),p(this,\"getPairings\",()=>(this.isInitialized(),this.pairings.values)),p(this,\"disconnect\",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,\"wc_pairingDelete\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),await this.deletePairing(s))}),p(this,\"formatUriFromPairing\",i=>{this.isInitialized();const{topic:s,relay:n,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(s);return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:n,expiryTimestamp:o,methods:a})}),p(this,\"sendRequest\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(s,n),a=await this.core.crypto.encode(i,o),c=ie[s].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id}),p(this,\"sendResult\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=ie[c].res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),p(this,\"sendError\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcError)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=ie[c]?ie[c].res:ie.unregistered_method.res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),p(this,\"deletePairing\",async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)])}),p(this,\"cleanup\",async()=>{const i=this.pairings.getAll().filter(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(s.expiry));await Promise.all(i.map(s=>this.deletePairing(s.topic)))}),p(this,\"onRelayEventRequest\",async i=>{const{topic:s,payload:n}=i;switch(n.method){case\"wc_pairingPing\":return await this.onPairingPingRequest(s,n);case\"wc_pairingDelete\":return await this.onPairingDeleteRequest(s,n);default:return await this.onUnknownRpcMethodRequest(s,n)}}),p(this,\"onRelayEventResponse\",async i=>{const{topic:s,payload:n}=i,o=(await this.core.history.get(s,n.id)).request.method;switch(o){case\"wc_pairingPing\":return this.onPairingPingResponse(s,n);default:return this.onUnknownRpcMethodResponse(o)}}),p(this,\"onPairingPingRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(se.ping,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),p(this,\"onPairingPingResponse\",(i,s)=>{const{id:n}=s;setTimeout(()=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResult)(s)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(s)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{error:s.error})},500)}),p(this,\"onPairingDeleteRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(se.delete,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),p(this,\"onUnknownRpcMethodRequest\",async(i,s)=>{const{id:n,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",o);await this.sendError(n,i,a),this.logger.error(a)}catch(a){await this.sendError(n,i,a),this.logger.error(a)}}),p(this,\"onUnknownRpcMethodResponse\",i=>{this.registeredMethods.includes(i)||this.logger.error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",i))}),p(this,\"isValidPair\",(i,s)=>{var n;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() params: ${i}`);throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidUrl)(i.uri)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() uri: ${i.uri}`);throw s.setError(Y.malformed_pairing_uri),new Error(a)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i?.uri);if(!((n=o?.relay)!=null&&n.protocol)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#relay-protocol\");throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#symKey\");throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o?.expiryTimestamp)<Date.now()){s.setError(Y.pairing_expired);const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",\"pair() URI has expired. Please try again with a new connection URI.\");throw new Error(a)}}),p(this,\"isValidPing\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),p(this,\"isValidDisconnect\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),p(this,\"isValidPairingTopic\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidString)(i,!1)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",`pairing topic: ${i}`);throw new Error(s)}}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.pairings=new zi(this.core,this.logger,this.name,this.storagePrefix)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(C.message,async e=>{const{topic:t,message:i,transportType:s}=e;if(this.pairings.keys.includes(t)&&s!==Q.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const n=await this.core.crypto.decode(t,i);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(n)?(this.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id)),await this.core.relayer.messages.ack(t,i)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(M.expired,async e=>{const{topic:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseExpirerTarget)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(se.expire,{topic:t}))})}}var Lo=Object.defineProperty,ko=(r,e,t)=>e in r?Lo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R=(r,e,t)=>ko(r,typeof e!=\"symbol\"?e+\"\":e,t);class ki extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,R(this,\"records\",new Map),R(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),R(this,\"name\",Bt),R(this,\"version\",Vt),R(this,\"cached\",[]),R(this,\"initialized\",!1),R(this,\"storagePrefix\",B),R(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),R(this,\"set\",(i,s,n)=>{if(this.isInitialized(),this.logger.debug(\"Setting JSON-RPC request history record\"),this.logger.trace({type:\"method\",method:\"set\",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const o={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(F.created,o)}),R(this,\"resolve\",async i=>{if(this.isInitialized(),this.logger.debug(\"Updating JSON-RPC response history record\"),this.logger.trace({type:\"method\",method:\"update\",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>\"u\"&&(s.response=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.persist(),this.events.emit(F.updated,s))}),R(this,\"get\",async(i,s)=>(this.isInitialized(),this.logger.debug(\"Getting record\"),this.logger.trace({type:\"method\",method:\"get\",topic:i,id:s}),await this.getRecord(s))),R(this,\"delete\",(i,s)=>{this.isInitialized(),this.logger.debug(\"Deleting record\"),this.logger.trace({type:\"method\",method:\"delete\",id:s}),this.values.forEach(n=>{if(n.topic===i){if(typeof s<\"u\"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(F.deleted,n)}}),this.persist()}),R(this,\"exists\",async(i,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===i:!1)),R(this,\"on\",(i,s)=>{this.events.on(i,s)}),R(this,\"once\",(i,s)=>{this.events.once(i,s)}),R(this,\"off\",(i,s)=>{this.events.off(i,s)}),R(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<\"u\")return;const i={topic:t.topic,request:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(F.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>\"u\"||!e.length)return;if(this.records.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(F.created,e=>{const t=F.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(F.updated,e=>{const t=F.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(F.deleted,e=>{const t=F.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(F.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var jo=Object.defineProperty,Uo=(r,e,t)=>e in r?jo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,A=(r,e,t)=>Uo(r,typeof e!=\"symbol\"?e+\"\":e,t);class ji extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,A(this,\"expirations\",new Map),A(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),A(this,\"name\",qt),A(this,\"version\",Gt),A(this,\"cached\",[]),A(this,\"initialized\",!1),A(this,\"storagePrefix\",B),A(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),A(this,\"has\",i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<\"u\"}catch{return!1}}),A(this,\"set\",(i,s)=>{this.isInitialized();const n=this.formatTarget(i),o={target:n,expiry:s};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(M.created,{target:n,expiration:o})}),A(this,\"get\",i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)}),A(this,\"del\",i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(M.deleted,{target:s,expiration:n})}}),A(this,\"on\",(i,s)=>{this.events.on(i,s)}),A(this,\"once\",(i,s)=>{this.events.once(i,s)}),A(this,\"off\",(i,s)=>{this.events.off(i,s)}),A(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e==\"string\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatTopicTarget)(e);if(typeof e==\"number\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatIdTarget)(e);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"UNKNOWN_TYPE\",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(M.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>\"u\"||!e.length)return;if(this.expirations.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(M.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(M.created,e=>{const t=M.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(M.expired,e=>{const t=M.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(M.deleted,e=>{const t=M.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Fo=Object.defineProperty,Mo=(r,e,t)=>e in r?Fo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w=(r,e,t)=>Mo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ui extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IVerify{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,w(this,\"name\",Wt),w(this,\"abortController\"),w(this,\"isDevEnv\"),w(this,\"verifyUrlV3\",Yt),w(this,\"storagePrefix\",B),w(this,\"version\",Le),w(this,\"publicKey\"),w(this,\"fetchPromise\"),w(this,\"init\",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug(\"verify v2 public key expired\"),await this.removePublicKey()))}),w(this,\"register\",async s=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isBrowser)()||this.isDevEnv)return;const n=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${o}&decryptedId=${a}`;try{const h=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__.getDocument)(),l=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),d=await new Promise((g,_)=>{const u=()=>{window.removeEventListener(\"message\",x),h.body.removeChild(b),_(\"attestation aborted\")};this.abortController.signal.addEventListener(\"abort\",u);const b=h.createElement(\"iframe\");b.src=c,b.style.display=\"none\",b.addEventListener(\"error\",u,{signal:this.abortController.signal});const x=I=>{if(I.data&&typeof I.data==\"string\")try{const D=JSON.parse(I.data);if(D.type===\"verify_attestation\"){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(D.attestation).payload.id!==o)return;clearInterval(l),h.body.removeChild(b),this.abortController.signal.removeEventListener(\"abort\",u),window.removeEventListener(\"message\",x),g(D.attestation===null?\"\":D.attestation)}}catch(D){this.logger.warn(D)}};h.body.appendChild(b),window.addEventListener(\"message\",x,{signal:this.abortController.signal})});return this.logger.debug(\"jwt attestation\",d),d}catch(h){this.logger.warn(h)}return\"\"}),w(this,\"resolve\",async s=>{if(this.isDevEnv)return\"\";const{attestationId:n,hash:o,encryptedId:a}=s;if(n===\"\"){this.logger.debug(\"resolve: attestationId is empty, skipping\");return}if(n){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(n).payload.id!==a)return;const h=await this.isValidJwtAttestation(n);if(h){if(!h.isVerified){this.logger.warn(\"resolve: jwt attestation: origin url not verified\");return}return h}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),w(this,\"fetchAttestation\",async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const o=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),a=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),w(this,\"getVerifyUrl\",s=>{let n=s||ue;return Jt.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${ue}`),n=ue),n}),w(this,\"fetchPublicKey\",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s)}}),w(this,\"persistPublicKey\",async s=>{this.logger.debug(\"persisting public key to local storage\",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),w(this,\"removePublicKey\",async()=>{this.logger.debug(\"removing verify v2 public key from storage\"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),w(this,\"isValidJwtAttestation\",async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}}),w(this,\"getPublicKey\",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),w(this,\"fetchAndPersistPublicKey\",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),n(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),w(this,\"validateAttestation\",(s,n)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.verifyP256Jwt)(s,n.publicKey),a={hasExpired:(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn(\"resolve: jwt attestation expired\"),new Error(\"JWT attestation expired\");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.abortController=new AbortController,this.isDevEnv=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//verify:public:key\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(e))}}var Ko=Object.defineProperty,Bo=(r,e,t)=>e in r?Ko(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Fi=(r,e,t)=>Bo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Mi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEchoClient{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Fi(this,\"context\",Xt),Fi(this,\"registerDeviceToken\",async i=>{const{clientId:s,token:n,notificationType:o,enableEncrypted:a=!1}=i,c=`${Zt}/${this.projectId}/clients`;await fetch(c,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({client_id:s,type:o,token:n,always_raw:a})})}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context)}}var Vo=Object.defineProperty,Ki=Object.getOwnPropertySymbols,qo=Object.prototype.hasOwnProperty,Go=Object.prototype.propertyIsEnumerable,Ze=(r,e,t)=>e in r?Vo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,be=(r,e)=>{for(var t in e||(e={}))qo.call(e,t)&&Ze(r,t,e[t]);if(Ki)for(var t of Ki(e))Go.call(e,t)&&Ze(r,t,e[t]);return r},E=(r,e,t)=>Ze(r,typeof e!=\"symbol\"?e+\"\":e,t);class Bi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEventClient{constructor(e,t,i=!0){super(e,t,i),this.core=e,this.logger=t,E(this,\"context\",ei),E(this,\"storagePrefix\",B),E(this,\"storageVersion\",Qt),E(this,\"events\",new Map),E(this,\"shouldPersist\",!1),E(this,\"init\",async()=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)())try{const s={eventId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:\"INIT\",type:\"\",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUA)(this.core.relayer.protocol,this.core.relayer.version,_e)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),E(this,\"createEvent\",s=>{const{event:n=\"ERROR\",type:o=\"\",properties:{topic:a,trace:c}}=s,h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),l=this.core.projectId||\"\",d=Date.now(),g=be({eventId:h,timestamp:d,props:{event:n,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,g),this.shouldPersist=!0),g}),E(this,\"getEvent\",s=>{const{eventId:n,topic:o}=s;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return be(be({},a),this.setMethods(a.eventId))}),E(this,\"deleteEvent\",s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=!0}),E(this,\"setEventListeners\",()=>{this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(Date.now())-(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(s.timestamp)>ti&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),E(this,\"setMethods\",s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)})),E(this,\"addTrace\",(s,n)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(n),this.events.set(s,o),this.shouldPersist=!0)}),E(this,\"setError\",(s,n)=>{const o=this.events.get(s);o&&(o.props.type=n,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),E(this,\"persist\",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),E(this,\"restore\",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,be(be({},n),this.setMethods(n.eventId)))})}catch(s){this.logger.warn(s)}}),E(this,\"submit\",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[n,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),E(this,\"sendEvent\",async s=>{const n=this.getAppDomain()?\"\":\"&sp=desktop\";return await fetch(`${ii}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${_e}${n}`,{method:\"POST\",body:JSON.stringify(s)})}),E(this,\"getAppDomain\",()=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppMetadata)().url),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+\"//\"+this.context}}var Wo=Object.defineProperty,Vi=Object.getOwnPropertySymbols,Ho=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,Qe=(r,e,t)=>e in r?Wo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qi=(r,e)=>{for(var t in e||(e={}))Ho.call(e,t)&&Qe(r,t,e[t]);if(Vi)for(var t of Vi(e))Yo.call(e,t)&&Qe(r,t,e[t]);return r},v=(r,e,t)=>Qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Te extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ICore{constructor(e){var t;super(e),v(this,\"protocol\",ze),v(this,\"version\",Le),v(this,\"name\",he),v(this,\"relayUrl\"),v(this,\"projectId\"),v(this,\"customStoragePrefix\"),v(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),v(this,\"logger\"),v(this,\"heartbeat\"),v(this,\"relayer\"),v(this,\"crypto\"),v(this,\"storage\"),v(this,\"history\"),v(this,\"expirer\"),v(this,\"pairing\"),v(this,\"verify\"),v(this,\"echoClient\"),v(this,\"linkModeSupportedApps\"),v(this,\"eventClient\"),v(this,\"initialized\",!1),v(this,\"logChunkController\"),v(this,\"on\",(a,c)=>this.events.on(a,c)),v(this,\"once\",(a,c)=>this.events.once(a,c)),v(this,\"off\",(a,c)=>this.events.off(a,c)),v(this,\"removeListener\",(a,c)=>this.events.removeListener(a,c)),v(this,\"dispatchEnvelope\",({topic:a,message:c,sessionExists:h})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:Q.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:h})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(a){console.warn(\"Failed to copy global core\",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ue,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:\"\";const s=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:typeof e?.logger==\"string\"&&e.logger?e.logger:Et.logger,name:he}),{logger:n,chunkLoggerController:o}=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generatePlatformLogger)({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(n,this.name),this.heartbeat=new _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HeartBeat,this.crypto=new vi(this,this.logger,e?.keychain),this.history=new ki(this,this.logger),this.expirer=new ji(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__[\"default\"](qi(qi({},It),e?.storageOptions)),this.relayer=new Si({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Li(this,this.logger),this.verify=new Ui(this,this.logger,this.storage),this.echoClient=new Mi(this.projectId||\"\",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Bi(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new Te(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(jt,i),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Fe,this.linkModeSupportedApps))}async initialize(){this.logger.trace(\"Initialized\");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Fe)||[],this.initialized=!0,this.logger.info(\"Core Initialization Success\")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=\"\"){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,i=`${t}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[t]}catch(t){console.warn(\"Failed to get global WalletConnect core\",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||\"\"}`;globalThis[i]=e}catch(i){console.warn(\"Failed to set global WalletConnect core\",i)}}isGlobalCoreDisabled(){try{return typeof process<\"u\"&&process.env.DISABLE_GLOBAL_CORE===\"true\"}catch{return!0}}}const Jo=Te;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWk2RSxrQ0FBa0MsR0FBRyxLQUFLLEdBQUcsT0FBTyx1QkFBdUIsS0FBSyxvQkFBb0IseUNBQXlDLHdEQUFFLGtEQUFrRCwwREFBRSx1RkFBdUYsa1FBQWtRLHVCQUF1QiwwRUFBMEUsV0FBVyxvQkFBb0IsdUJBQXVCLG9DQUFvQyxLQUFLLHNDQUFzQyw0RUFBNEUsZ01BQWdNLElBQUksNERBQUUsK0JBQStCLDZEQUFFLDhCQUE4Qiw0REFBRSxLQUFLLGtCQUFrQixLQUFLLElBQUksd0RBQUUsbUJBQW1CLE1BQU0sSUFBSSx3REFBRSxxQkFBcUIsaUJBQWlCLEtBQUssSUFBSSwrREFBRSxvQkFBb0IsTUFBTSxJQUFJLCtEQUFFLHFCQUFxQixzQkFBc0IsS0FBSyxJQUFJLHdEQUFFLGlCQUFpQixNQUFNLElBQUksd0RBQUUsbUJBQW1CLEtBQUssNEZBQTRGLElBQUksa0dBQWtHLHVDQUF1QyxrR0FBa0csYUFBYSx3REFBRSx5R0FBeUcsR0FBRyxtRkFBbUYsd2hCQUF3aEIsSUFBSSxvWUFBb1ksS0FBSyw4bEJBQThsQixLQUFLLGtjQUFrYyxLQUFLLHN2QkFBc3ZCLEtBQUssc3FCQUFzcUIsNkVBQTZFLGlCQUFpQiwwREFBMEQsa0NBQWtDLFdBQVcsYUFBYSxZQUFZLFdBQVcsS0FBSyxvQ0FBb0MscURBQXFELE9BQU8scUZBQXFGLGNBQWMsd05BQXdOLHlCQUF5QiwrQkFBK0IsZ0JBQWdCLFNBQVMsNENBQTRDLE1BQU0sRUFBRSx5QkFBeUIscUJBQXFCLCtDQUErQywyQ0FBMkMsUUFBUSxjQUFjLGdCQUFnQixLQUFLLHVCQUF1QixJQUFJLHVCQUF1QixVQUFV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LE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxlQUFlLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLHFCQUFxQixNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdB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LDBDQUEwQyxvQkFBb0IsTUFBTSw2REFBNkQseUNBQXlDLEVBQUUsaUNBQWlDLHVJQUF1SSxtQkFBbUIsaUNBQWlDLElBQUksK1JBQStSLFNBQVMsK0RBQStELFdBQVcscUNBQXFDLG9CQUFvQixJQUFJLHNDQUFzQyw4QkFBOEIsRUFBRSxPQUFPLEVBQUUsUUFBUSx3TUFBd00sZUFBZSx1QkFBdUIsU0FBUywwREFBMEQsUUFBUSxpQkFBaUIsTUFBTSxJQUFJLHNDQUFzQyw4QkFBOEIsb0RBQW9ELEVBQUUsZ0JBQWdCLFNBQVMsMkRBQTJELHVCQUF1QixJQUFJLG9FQUFvRSxNQUFNLFdBQVcsWUFBZzdEO0FBQ2ovMUYiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHaSx7RXZlbnRFbWl0dGVyIGFzIGVlfWZyb21cImV2ZW50c1wiO2ltcG9ydHtIRUFSVEJFQVRfRVZFTlRTIGFzIG5lLEhlYXJ0QmVhdCBhcyBXaX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9oZWFydGJlYXRcIjtpbXBvcnQgSGkgZnJvbVwiQHdhbGxldGNvbm5lY3Qva2V5dmFsdWVzdG9yYWdlXCI7aW1wb3J0e2dlbmVyYXRlQ2hpbGRMb2dnZXIgYXMgTixnZXRMb2dnZXJDb250ZXh0IGFzIFUscGlubyBhcyBZaSxnZXREZWZhdWx0TG9nZ2VyT3B0aW9ucyBhcyBldCxnZW5lcmF0ZVBsYXRmb3JtTG9nZ2VyIGFzIEppfWZyb21cIkB3YWxsZXRjb25uZWN0L2xvZ2dlclwiO2ltcG9ydHtJTWVzc2FnZVRyYWNrZXIgYXMgWGksSVB1Ymxpc2hlciBhcyBaaSxJU3Vic2NyaWJlciBhcyBRaSxJUmVsYXllciBhcyBlcyxJU3RvcmUgYXMgdHMsSUpzb25ScGNIaXN0b3J5IGFzIGlzLElFeHBpcmVyIGFzIHNzLElWZXJpZnkgYXMgcnMsSUVjaG9DbGllbnQgYXMgbnMsSUV2ZW50Q2xpZW50IGFzIG9zLElDb3JlIGFzIGFzfWZyb21cIkB3YWxsZXRjb25uZWN0L3R5cGVzXCI7aW1wb3J0e09ORV9EQVkgYXMgdGUsU0lYX0hPVVJTIGFzIGNzLFRISVJUWV9EQVlTIGFzIENlLEZJVkVfU0VDT05EUyBhcyBQZSxUSElSVFlfU0VDT05EUyBhcyBTZSx0b01pbGlzZWNvbmRzIGFzIE8sT05FX01JTlVURSBhcyB0dCxPTkVfU0VDT05EIGFzIFosRklWRV9NSU5VVEVTIGFzIGZlLGZyb21NaWxpc2Vjb25kcyBhcyBpdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC90aW1lXCI7aW1wb3J0e3NhZmVKc29uU3RyaW5naWZ5IGFzIGhzLHNhZmVKc29uUGFyc2UgYXMgc3R9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uXCI7aW1wb3J0KmFzIERlIGZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGhcIjtpbXBvcnR7ZGVjb2RlSldUIGFzIHJ0fWZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGhcIjtpbXBvcnR7bWFwVG9PYmogYXMgUmUsb2JqVG9NYXAgYXMgT2UsZ2V0SW50ZXJuYWxFcnJvciBhcyBtLGdlbmVyYXRlUmFuZG9tQnl0ZXMzMiBhcyBBZSxnZW5lcmF0ZUtleVBhaXIgYXMgbHMsZGVyaXZlU3ltS2V5IGFzIHVzLGhhc2hLZXkgYXMgZHMsdmFsaWRhdGVFbmNvZGluZyBhcyBncyxpc1R5cGVUd29FbnZlbG9wZSBhcyBudCxlbmNvZGVUeXBlVHdvRW52ZWxvcGUgYXMgcHMsaXNUeXBlT25lRW52ZWxvcGUgYXMgb3QsZW5jcnlwdCBhcyB5cyx2YWxpZGF0ZURlY29kaW5nIGFzIGJzLGRlY29kZVR5cGVUd29FbnZlbG9wZSBhcyBtcyxkZWNyeXB0IGFzIGZzLGRlc2VyaWFsaXplIGFzIGF0LGRlY29kZVR5cGVCeXRlIGFzIERzLEJBU0U2NCBhcyBjdCxCQVNFMTYgYXMgdnMsaGFzaE1lc3NhZ2UgYXMgdmUsZ2V0UmVsYXlQcm90b2NvbEFwaSBhcyBvZSxnZXRSZWxheVByb3RvY29sTmFtZSBhcyB3ZSxpc1VuZGVmaW5lZCBhcyB4ZSxjcmVhdGVFeHBpcmluZ1Byb21pc2UgYXMgWCxnZXRTZGtFcnJvciBhcyBhZSxzbGVlcCBhcyB3cyxpc0FuZHJvaWQgYXMgX3MsZ2V0QXBwSWQgYXMgaHQsaXNJb3MgYXMgRXMsaXNPbmxpbmUgYXMgbHQsY2FsY0V4cGlyeSBhcyBjZSxpc05vZGUgYXMgdXQsZm9ybWF0UmVsYXlScGNVcmwgYXMgSXMsc3Vic2NyaWJlVG9OZXR3b3JrQ2hhbmdlIGFzIFRzLGlzUHJvcG9zYWxTdHJ1Y3QgYXMgQ3MsaXNTZXNzaW9uU3RydWN0IGFzIFBzLHBhcnNlRXhwaXJlclRhcmdldCBhcyBTcyxUWVBFXzEgYXMgUnMsZm9ybWF0VXJpIGFzIGR0LHBhcnNlVXJpIGFzIGd0LGNyZWF0ZURlbGF5ZWRQcm9taXNlIGFzIE9zLGVuZ2luZUV2ZW50IGFzIE5lLGlzRXhwaXJlZCBhcyBwdCxpc1ZhbGlkUGFyYW1zIGFzICRlLGlzVmFsaWRVcmwgYXMgQXMsaXNWYWxpZFN0cmluZyBhcyB4cyxmb3JtYXRUb3BpY1RhcmdldCBhcyBOcyxmb3JtYXRJZFRhcmdldCBhcyAkcyxpc1Rlc3RSdW4gYXMgeXQsaXNCcm93c2VyIGFzIHpzLHZlcmlmeVAyNTZKd3QgYXMgTHMsdXVpZHY0IGFzIGJ0LGZvcm1hdFVBIGFzIGtzLGdldEFwcE1ldGFkYXRhIGFzIGpzfWZyb21cIkB3YWxsZXRjb25uZWN0L3V0aWxzXCI7aW1wb3J0e3RvU3RyaW5nIGFzIFVzfWZyb21cInVpbnQ4YXJyYXlzXCI7aW1wb3J0e0pzb25ScGNQcm92aWRlciBhcyBGc31mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXByb3ZpZGVyXCI7aW1wb3J0e2dldEJpZ0ludFJwY0lkIGFzIG10LGlzSnNvblJwY1JlcXVlc3QgYXMgZnQsaXNKc29uUnBjUmVzcG9uc2UgYXMgRHQsZm9ybWF0SnNvblJwY1Jlc3VsdCBhcyB2dCxmb3JtYXRKc29uUnBjUmVxdWVzdCBhcyB3dCxmb3JtYXRKc29uUnBjRXJyb3IgYXMgTXMsaXNKc29uUnBjUmVzdWx0IGFzIEtzLGlzSnNvblJwY0Vycm9yIGFzIF90fWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHNcIjtpbXBvcnQgQnMgZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uXCI7aW1wb3J0e2dldERvY3VtZW50IGFzIFZzfWZyb21cIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1nZXR0ZXJzXCI7Y29uc3QgemU9XCJ3Y1wiLExlPTIsaGU9XCJjb3JlXCIsQj1gJHt6ZX1AMjoke2hlfTpgLEV0PXtuYW1lOmhlLGxvZ2dlcjpcImVycm9yXCJ9LEl0PXtkYXRhYmFzZTpcIjptZW1vcnk6XCJ9LFR0PVwiY3J5cHRvXCIsa2U9XCJjbGllbnRfZWQyNTUxOV9zZWVkXCIsQ3Q9dGUsUHQ9XCJrZXljaGFpblwiLFN0PVwiMC4zXCIsUnQ9XCJtZXNzYWdlc1wiLE90PVwiMC4zXCIsamU9Y3MsQXQ9XCJwdWJsaXNoZXJcIix4dD1cImlyblwiLE50PVwiZXJyb3JcIixVZT1cIndzczovL3JlbGF5LndhbGxldGNvbm5lY3Qub3JnXCIsJHQ9XCJyZWxheWVyXCIsQz17bWVzc2FnZTpcInJlbGF5ZXJfbWVzc2FnZVwiLG1lc3NhZ2VfYWNrOlwicmVsYXllcl9tZXNzYWdlX2Fja1wiLGNvbm5lY3Q6XCJyZWxheWVyX2Nvbm5lY3RcIixkaXNjb25uZWN0OlwicmVsYXllcl9kaXNjb25uZWN0XCIsZXJyb3I6XCJyZWxheWVyX2Vycm9yXCIsY29ubmVjdGlvbl9zdGFsbGVkOlwicmVsYXllcl9jb25uZWN0aW9uX3N0YWxsZWRcIix0cmFuc3BvcnRfY2xvc2VkOlwicmVsYXllcl90cmFuc3BvcnRfY2xvc2VkXCIscHVibGlzaDpcInJlbGF5ZXJfcHVibGlzaFwifSx6dD1cIl9zdWJzY3JpcHRpb25cIixMPXtwYXlsb2FkOlwicGF5bG9hZFwiLGNvbm5lY3Q6XCJjb25uZWN0XCIsZGlzY29ubmVjdDpcImRpc2Nvbm5lY3RcIixlcnJvcjpcImVycm9yXCJ9LEx0PS4xLHFzPXtkYXRhYmFzZTpcIjptZW1vcnk6XCJ9LF9lPVwiMi4xOS4yXCIsR3M9MWU0LFE9e2xpbmtfbW9kZTpcImxpbmtfbW9kZVwiLHJlbGF5OlwicmVsYXlcIn0sbGU9e2luYm91bmQ6XCJpbmJvdW5kXCIsb3V0Ym91bmQ6XCJvdXRib3VuZFwifSxrdD1cIjAuM1wiLGp0PVwiV0FMTEVUQ09OTkVDVF9DTElFTlRfSURcIixGZT1cIldBTExFVENPTk5FQ1RfTElOS19NT0RFX0FQUFNcIiwkPXtjcmVhdGVkOlwic3Vic2NyaXB0aW9uX2NyZWF0ZWRcIixkZWxldGVkOlwic3Vic2NyaXB0aW9uX2RlbGV0ZWRcIixleHBpcmVkOlwic3Vic2NyaXB0aW9uX2V4cGlyZWRcIixkaXNhYmxlZDpcInN1YnNjcmlwdGlvbl9kaXNhYmxlZFwiLHN5bmM6XCJzdWJzY3JpcHRpb25fc3luY1wiLHJlc3Vic2NyaWJlZDpcInN1YnNjcmlwdGlvbl9yZXN1YnNjcmliZWRcIn0sV3M9Q2UsVXQ9XCJzdWJzY3JpcHRpb25cIixGdD1cIjAuM1wiLEhzPVBlKjFlMyxNdD1cInBhaXJpbmdcIixLdD1cIjAuM1wiLFlzPUNlLGllPXt3Y19wYWlyaW5nRGVsZXRlOntyZXE6e3R0bDp0ZSxwcm9tcHQ6ITEsdGFnOjFlM30scmVzOnt0dGw6dGUscHJvbXB0OiExLHRhZzoxMDAxfX0sd2NfcGFpcmluZ1Bpbmc6e3JlcTp7dHRsOlNlLHByb21wdDohMSx0YWc6MTAwMn0scmVzOnt0dGw6U2UscHJvbXB0OiExLHRhZzoxMDAzfX0sdW5yZWdpc3RlcmVkX21ldGhvZDp7cmVxOnt0dGw6dGUscHJvbXB0OiExLHRhZzowfSxyZXM6e3R0bDp0ZSxwcm9tcHQ6ITEsdGFnOjB9fX0sc2U9e2NyZWF0ZTpcInBhaXJpbmdfY3JlYXRlXCIsZXhwaXJlOlwicGFpcmluZ19leHBpcmVcIixkZWxldGU6XCJwYWlyaW5nX2RlbGV0ZVwiLHBpbmc6XCJwYWlyaW5nX3BpbmdcIn0sRj17Y3JlYXRlZDpcImhpc3RvcnlfY3JlYXRlZFwiLHVwZGF0ZWQ6XCJoaXN0b3J5X3VwZGF0ZWRcIixkZWxldGVkOlwiaGlzdG9yeV9kZWxldGVkXCIsc3luYzpcImhpc3Rvcnlfc3luY1wifSxCdD1cImhpc3RvcnlcIixWdD1cIjAuM1wiLHF0PVwiZXhwaXJlclwiLE09e2NyZWF0ZWQ6XCJleHBpcmVyX2NyZWF0ZWRcIixkZWxldGVkOlwiZXhwaXJlcl9kZWxldGVkXCIsZXhwaXJlZDpcImV4cGlyZXJfZXhwaXJlZFwiLHN5bmM6XCJleHBpcmVyX3N5bmNcIn0sR3Q9XCIwLjNcIixKcz10ZSxXdD1cInZlcmlmeS1hcGlcIixYcz1cImh0dHBzOi8vdmVyaWZ5LndhbGxldGNvbm5lY3QuY29tXCIsSHQ9XCJodHRwczovL3ZlcmlmeS53YWxsZXRjb25uZWN0Lm9yZ1wiLHVlPUh0LFl0PWAke3VlfS92M2AsSnQ9W1hzLEh0XSxYdD1cImVjaG9cIixadD1cImh0dHBzOi8vZWNoby53YWxsZXRjb25uZWN0LmNvbVwiLFpzPVwiZXZlbnQtY2xpZW50XCIsRz17cGFpcmluZ19zdGFydGVkOlwicGFpcmluZ19zdGFydGVkXCIscGFpcmluZ191cmlfdmFsaWRhdGlvbl9zdWNjZXNzOlwicGFpcmluZ191cmlfdmFsaWRhdGlvbl9zdWNjZXNzXCIscGFpcmluZ191cmlfbm90X2V4cGlyZWQ6XCJwYWlyaW5nX3VyaV9ub3RfZXhwaXJlZFwiLHN0b3JlX25ld19wYWlyaW5nOlwic3RvcmVfbmV3X3BhaXJpbmdcIixzdWJzY3JpYmluZ19wYWlyaW5nX3RvcGljOlwic3Vic2NyaWJpbmdfcGFpcmluZ190b3BpY1wiLHN1YnNjcmliZV9wYWlyaW5nX3RvcGljX3N1Y2Nlc3M6XCJzdWJzY3JpYmVfcGFpcmluZ190b3BpY19zdWNjZXNzXCIsZXhpc3RpbmdfcGFpcmluZzpcImV4aXN0aW5nX3BhaXJpbmdcIixwYWlyaW5nX25vdF9leHBpcmVkOlwicGFpcmluZ19ub3RfZXhwaXJlZFwiLGVtaXRfaW5hY3RpdmVfcGFpcmluZzpcImVtaXRfaW5hY3RpdmVfcGFpcmluZ1wiLGVtaXRfc2Vzc2lvbl9wcm9wb3NhbDpcImVtaXRfc2Vzc2lvbl9wcm9wb3NhbFwiLHN1YnNjcmliaW5nX3RvX3BhaXJpbmdfdG9waWM6XCJzdWJzY3JpYmluZ190b19wYWlyaW5nX3RvcGljXCJ9LFk9e25vX3dzc19jb25uZWN0aW9uOlwibm9fd3NzX2Nvbm5lY3Rpb25cIixub19pbnRlcm5ldF9jb25uZWN0aW9uOlwibm9faW50ZXJuZXRfY29ubmVjdGlvblwiLG1hbGZvcm1lZF9wYWlyaW5nX3VyaTpcIm1hbGZvcm1lZF9wYWlyaW5nX3VyaVwiLGFjdGl2ZV9wYWlyaW5nX2FscmVhZHlfZXhpc3RzOlwiYWN0aXZlX3BhaXJpbmdfYWxyZWFkeV9leGlzdHNcIixzdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlOlwic3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfZmFpbHVyZVwiLHBhaXJpbmdfZXhwaXJlZDpcInBhaXJpbmdfZXhwaXJlZFwiLHByb3Bvc2FsX2V4cGlyZWQ6XCJwcm9wb3NhbF9leHBpcmVkXCIscHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kOlwicHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kXCJ9LFFzPXtzZXNzaW9uX2FwcHJvdmVfc3RhcnRlZDpcInNlc3Npb25fYXBwcm92ZV9zdGFydGVkXCIscHJvcG9zYWxfbm90X2V4cGlyZWQ6XCJwcm9wb3NhbF9ub3RfZXhwaXJlZFwiLHNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3M6XCJzZXNzaW9uX25hbWVzcGFjZXNfdmFsaWRhdGlvbl9zdWNjZXNzXCIsY3JlYXRlX3Nlc3Npb25fdG9waWM6XCJjcmVhdGVfc2Vzc2lvbl90b3BpY1wiLHN1YnNjcmliaW5nX3Nlc3Npb25fdG9waWM6XCJzdWJzY3JpYmluZ19zZXNzaW9uX3RvcGljXCIsc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2VzczpcInN1YnNjcmliZV9zZXNzaW9uX3RvcGljX3N1Y2Nlc3NcIixwdWJsaXNoaW5nX3Nlc3Npb25fYXBwcm92ZTpcInB1Ymxpc2hpbmdfc2Vzc2lvbl9hcHByb3ZlXCIsc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2VzczpcInNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3NcIixzdG9yZV9zZXNzaW9uOlwic3RvcmVfc2Vzc2lvblwiLHB1Ymxpc2hpbmdfc2Vzc2lvbl9zZXR0bGU6XCJwdWJsaXNoaW5nX3Nlc3Npb25fc2V0dGxlXCIsc2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9zdWNjZXNzOlwic2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9zdWNjZXNzXCJ9LGVyPXtub19pbnRlcm5ldF9jb25uZWN0aW9uOlwibm9faW50ZXJuZXRfY29ubmVjdGlvblwiLG5vX3dzc19jb25uZWN0aW9uOlwibm9fd3NzX2Nvbm5lY3Rpb25cIixwcm9wb3NhbF9leHBpcmVkOlwicHJvcG9zYWxfZXhwaXJlZFwiLHN1YnNjcmliZV9zZXNzaW9uX3RvcGljX2ZhaWx1cmU6XCJzdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19mYWlsdXJlXCIsc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZTpcInNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmVcIixzZXNzaW9uX3NldHRsZV9wdWJsaXNoX2ZhaWx1cmU6XCJzZXNzaW9uX3NldHRsZV9wdWJsaXNoX2ZhaWx1cmVcIixzZXNzaW9uX2FwcHJvdmVfbmFtZXNwYWNlX3ZhbGlkYXRpb25fZmFpbHVyZTpcInNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlXCIscHJvcG9zYWxfbm90X2ZvdW5kOlwicHJvcG9zYWxfbm90X2ZvdW5kXCJ9LHRyPXthdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZFwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9ub3RfZXhwaXJlZDpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9ub3RfZXhwaXJlZFwiLGNoYWluc19jYWlwMl9jb21wbGlhbnQ6XCJjaGFpbnNfY2FpcDJfY29tcGxpYW50XCIsY2hhaW5zX2V2bV9jb21wbGlhbnQ6XCJjaGFpbnNfZXZtX2NvbXBsaWFudFwiLGNyZWF0ZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWM6XCJjcmVhdGVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljXCIsY2FjYW9zX3ZlcmlmaWVkOlwiY2FjYW9zX3ZlcmlmaWVkXCIsc3RvcmVfYXV0aGVudGljYXRlZF9zZXNzaW9uOlwic3RvcmVfYXV0aGVudGljYXRlZF9zZXNzaW9uXCIsc3Vic2NyaWJpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljOlwic3Vic2NyaWJpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljXCIsc3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19zdWNjZXNzOlwic3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19zdWNjZXNzXCIscHVibGlzaGluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZTpcInB1Ymxpc2hpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3M6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3NcIn0saXI9e25vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLG1pc3Npbmdfc2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdDpcIm1pc3Npbmdfc2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdFwiLHNlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3RfZXhwaXJlZDpcInNlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3RfZXhwaXJlZFwiLGNoYWluc19jYWlwMl9jb21wbGlhbnRfZmFpbHVyZTpcImNoYWluc19jYWlwMl9jb21wbGlhbnRfZmFpbHVyZVwiLGNoYWluc19ldm1fY29tcGxpYW50X2ZhaWx1cmU6XCJjaGFpbnNfZXZtX2NvbXBsaWFudF9mYWlsdXJlXCIsaW52YWxpZF9jYWNhbzpcImludmFsaWRfY2FjYW9cIixzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmU6XCJzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmU6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fcGVuZGluZ19yZXF1ZXN0X25vdF9mb3VuZDpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9wZW5kaW5nX3JlcXVlc3Rfbm90X2ZvdW5kXCJ9LFF0PS4xLGVpPVwiZXZlbnQtY2xpZW50XCIsdGk9ODY0MDAsaWk9XCJodHRwczovL3B1bHNlLndhbGxldGNvbm5lY3Qub3JnL2JhdGNoXCI7ZnVuY3Rpb24gc3IocixlKXtpZihyLmxlbmd0aD49MjU1KXRocm93IG5ldyBUeXBlRXJyb3IoXCJBbHBoYWJldCB0b28gbG9uZ1wiKTtmb3IodmFyIHQ9bmV3IFVpbnQ4QXJyYXkoMjU2KSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXT0yNTU7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBuPXIuY2hhckF0KHMpLG89bi5jaGFyQ29kZUF0KDApO2lmKHRbb10hPT0yNTUpdGhyb3cgbmV3IFR5cGVFcnJvcihuK1wiIGlzIGFtYmlndW91c1wiKTt0W29dPXN9dmFyIGE9ci5sZW5ndGgsYz1yLmNoYXJBdCgwKSxoPU1hdGgubG9nKGEpL01hdGgubG9nKDI1NiksbD1NYXRoLmxvZygyNTYpL01hdGgubG9nKGEpO2Z1bmN0aW9uIGQodSl7aWYodSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fChBcnJheUJ1ZmZlci5pc1ZpZXcodSk/dT1uZXcgVWludDhBcnJheSh1LmJ1ZmZlcix1LmJ5dGVPZmZzZXQsdS5ieXRlTGVuZ3RoKTpBcnJheS5pc0FycmF5KHUpJiYodT1VaW50OEFycmF5LmZyb20odSkpKSwhKHUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgVWludDhBcnJheVwiKTtpZih1Lmxlbmd0aD09PTApcmV0dXJuXCJcIjtmb3IodmFyIGI9MCx4PTAsST0wLEQ9dS5sZW5ndGg7SSE9PUQmJnVbSV09PT0wOylJKyssYisrO2Zvcih2YXIgaj0oRC1JKSpsKzE+Pj4wLFQ9bmV3IFVpbnQ4QXJyYXkoaik7SSE9PUQ7KXtmb3IodmFyIHE9dVtJXSxKPTAsSz1qLTE7KHEhPT0wfHxKPHgpJiZLIT09LTE7Sy0tLEorKylxKz0yNTYqVFtLXT4+PjAsVFtLXT1xJWE+Pj4wLHE9cS9hPj4+MDtpZihxIT09MCl0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTt4PUosSSsrfWZvcih2YXIgSD1qLXg7SCE9PWomJlRbSF09PT0wOylIKys7Zm9yKHZhciBtZT1jLnJlcGVhdChiKTtIPGo7KytIKW1lKz1yLmNoYXJBdChUW0hdKTtyZXR1cm4gbWV9ZnVuY3Rpb24gZyh1KXtpZih0eXBlb2YgdSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgU3RyaW5nXCIpO2lmKHUubGVuZ3RoPT09MClyZXR1cm4gbmV3IFVpbnQ4QXJyYXk7dmFyIGI9MDtpZih1W2JdIT09XCIgXCIpe2Zvcih2YXIgeD0wLEk9MDt1W2JdPT09YzspeCsrLGIrKztmb3IodmFyIEQ9KHUubGVuZ3RoLWIpKmgrMT4+PjAsaj1uZXcgVWludDhBcnJheShEKTt1W2JdOyl7dmFyIFQ9dFt1LmNoYXJDb2RlQXQoYildO2lmKFQ9PT0yNTUpcmV0dXJuO2Zvcih2YXIgcT0wLEo9RC0xOyhUIT09MHx8cTxJKSYmSiE9PS0xO0otLSxxKyspVCs9YSpqW0pdPj4+MCxqW0pdPVQlMjU2Pj4+MCxUPVQvMjU2Pj4+MDtpZihUIT09MCl0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTtJPXEsYisrfWlmKHVbYl0hPT1cIiBcIil7Zm9yKHZhciBLPUQtSTtLIT09RCYmaltLXT09PTA7KUsrKztmb3IodmFyIEg9bmV3IFVpbnQ4QXJyYXkoeCsoRC1LKSksbWU9eDtLIT09RDspSFttZSsrXT1qW0srK107cmV0dXJuIEh9fX1mdW5jdGlvbiBfKHUpe3ZhciBiPWcodSk7aWYoYilyZXR1cm4gYjt0aHJvdyBuZXcgRXJyb3IoYE5vbi0ke2V9IGNoYXJhY3RlcmApfXJldHVybntlbmNvZGU6ZCxkZWNvZGVVbnNhZmU6ZyxkZWNvZGU6X319dmFyIHJyPXNyLG5yPXJyO2NvbnN0IHNpPXI9PntpZihyIGluc3RhbmNlb2YgVWludDhBcnJheSYmci5jb25zdHJ1Y3Rvci5uYW1lPT09XCJVaW50OEFycmF5XCIpcmV0dXJuIHI7aWYociBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBuZXcgVWludDhBcnJheShyKTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcocikpcmV0dXJuIG5ldyBVaW50OEFycmF5KHIuYnVmZmVyLHIuYnl0ZU9mZnNldCxyLmJ5dGVMZW5ndGgpO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX0sb3I9cj0+bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHIpLGFyPXI9Pm5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShyKTtjbGFzcyBjcntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9dCx0aGlzLmJhc2VFbmNvZGU9aX1lbmNvZGUoZSl7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuYCR7dGhpcy5wcmVmaXh9JHt0aGlzLmJhc2VFbmNvZGUoZSl9YDt0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX19Y2xhc3MgaHJ7Y29uc3RydWN0b3IoZSx0LGkpe2lmKHRoaXMubmFtZT1lLHRoaXMucHJlZml4PXQsdC5jb2RlUG9pbnRBdCgwKT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByZWZpeCBjaGFyYWN0ZXJcIik7dGhpcy5wcmVmaXhDb2RlUG9pbnQ9dC5jb2RlUG9pbnRBdCgwKSx0aGlzLmJhc2VEZWNvZGU9aX1kZWNvZGUoZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpe2lmKGUuY29kZVBvaW50QXQoMCkhPT10aGlzLnByZWZpeENvZGVQb2ludCl0aHJvdyBFcnJvcihgVW5hYmxlIHRvIGRlY29kZSBtdWx0aWJhc2Ugc3RyaW5nICR7SlNPTi5zdHJpbmdpZnkoZSl9LCAke3RoaXMubmFtZX0gZGVjb2RlciBvbmx5IHN1cHBvcnRzIGlucHV0cyBwcmVmaXhlZCB3aXRoICR7dGhpcy5wcmVmaXh9YCk7cmV0dXJuIHRoaXMuYmFzZURlY29kZShlLnNsaWNlKHRoaXMucHJlZml4Lmxlbmd0aCkpfWVsc2UgdGhyb3cgRXJyb3IoXCJDYW4gb25seSBtdWx0aWJhc2UgZGVjb2RlIHN0cmluZ3NcIil9b3IoZSl7cmV0dXJuIHJpKHRoaXMsZSl9fWNsYXNzIGxye2NvbnN0cnVjdG9yKGUpe3RoaXMuZGVjb2RlcnM9ZX1vcihlKXtyZXR1cm4gcmkodGhpcyxlKX1kZWNvZGUoZSl7Y29uc3QgdD1lWzBdLGk9dGhpcy5kZWNvZGVyc1t0XTtpZihpKXJldHVybiBpLmRlY29kZShlKTt0aHJvdyBSYW5nZUVycm9yKGBVbmFibGUgdG8gZGVjb2RlIG11bHRpYmFzZSBzdHJpbmcgJHtKU09OLnN0cmluZ2lmeShlKX0sIG9ubHkgaW5wdXRzIHByZWZpeGVkIHdpdGggJHtPYmplY3Qua2V5cyh0aGlzLmRlY29kZXJzKX0gYXJlIHN1cHBvcnRlZGApfX1jb25zdCByaT0ocixlKT0+bmV3IGxyKHsuLi5yLmRlY29kZXJzfHx7W3IucHJlZml4XTpyfSwuLi5lLmRlY29kZXJzfHx7W2UucHJlZml4XTplfX0pO2NsYXNzIHVye2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMubmFtZT1lLHRoaXMucHJlZml4PXQsdGhpcy5iYXNlRW5jb2RlPWksdGhpcy5iYXNlRGVjb2RlPXMsdGhpcy5lbmNvZGVyPW5ldyBjcihlLHQsaSksdGhpcy5kZWNvZGVyPW5ldyBocihlLHQscyl9ZW5jb2RlKGUpe3JldHVybiB0aGlzLmVuY29kZXIuZW5jb2RlKGUpfWRlY29kZShlKXtyZXR1cm4gdGhpcy5kZWNvZGVyLmRlY29kZShlKX19Y29uc3QgRWU9KHtuYW1lOnIscHJlZml4OmUsZW5jb2RlOnQsZGVjb2RlOml9KT0+bmV3IHVyKHIsZSx0LGkpLGRlPSh7cHJlZml4OnIsbmFtZTplLGFscGhhYmV0OnR9KT0+e2NvbnN0e2VuY29kZTppLGRlY29kZTpzfT1ucih0LGUpO3JldHVybiBFZSh7cHJlZml4OnIsbmFtZTplLGVuY29kZTppLGRlY29kZTpuPT5zaShzKG4pKX0pfSxkcj0ocixlLHQsaSk9Pntjb25zdCBzPXt9O2ZvcihsZXQgbD0wO2w8ZS5sZW5ndGg7KytsKXNbZVtsXV09bDtsZXQgbj1yLmxlbmd0aDtmb3IoO3Jbbi0xXT09PVwiPVwiOyktLW47Y29uc3Qgbz1uZXcgVWludDhBcnJheShuKnQvOHwwKTtsZXQgYT0wLGM9MCxoPTA7Zm9yKGxldCBsPTA7bDxuOysrbCl7Y29uc3QgZD1zW3JbbF1dO2lmKGQ9PT12b2lkIDApdGhyb3cgbmV3IFN5bnRheEVycm9yKGBOb24tJHtpfSBjaGFyYWN0ZXJgKTtjPWM8PHR8ZCxhKz10LGE+PTgmJihhLT04LG9baCsrXT0yNTUmYz4+YSl9aWYoYT49dHx8MjU1JmM8PDgtYSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJVbmV4cGVjdGVkIGVuZCBvZiBkYXRhXCIpO3JldHVybiBvfSxncj0ocixlLHQpPT57Y29uc3QgaT1lW2UubGVuZ3RoLTFdPT09XCI9XCIscz0oMTw8dCktMTtsZXQgbj1cIlwiLG89MCxhPTA7Zm9yKGxldCBjPTA7YzxyLmxlbmd0aDsrK2MpZm9yKGE9YTw8OHxyW2NdLG8rPTg7bz50OylvLT10LG4rPWVbcyZhPj5vXTtpZihvJiYobis9ZVtzJmE8PHQtb10pLGkpZm9yKDtuLmxlbmd0aCp0Jjc7KW4rPVwiPVwiO3JldHVybiBufSxQPSh7bmFtZTpyLHByZWZpeDplLGJpdHNQZXJDaGFyOnQsYWxwaGFiZXQ6aX0pPT5FZSh7cHJlZml4OmUsbmFtZTpyLGVuY29kZShzKXtyZXR1cm4gZ3IocyxpLHQpfSxkZWNvZGUocyl7cmV0dXJuIGRyKHMsaSx0LHIpfX0pLHByPUVlKHtwcmVmaXg6XCJcXDBcIixuYW1lOlwiaWRlbnRpdHlcIixlbmNvZGU6cj0+YXIociksZGVjb2RlOnI9Pm9yKHIpfSk7dmFyIHlyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGlkZW50aXR5OnByfSk7Y29uc3QgYnI9UCh7cHJlZml4OlwiMFwiLG5hbWU6XCJiYXNlMlwiLGFscGhhYmV0OlwiMDFcIixiaXRzUGVyQ2hhcjoxfSk7dmFyIG1yPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UyOmJyfSk7Y29uc3QgZnI9UCh7cHJlZml4OlwiN1wiLG5hbWU6XCJiYXNlOFwiLGFscGhhYmV0OlwiMDEyMzQ1NjdcIixiaXRzUGVyQ2hhcjozfSk7dmFyIERyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2U4OmZyfSk7Y29uc3QgdnI9ZGUoe3ByZWZpeDpcIjlcIixuYW1lOlwiYmFzZTEwXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5XCJ9KTt2YXIgd3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTEwOnZyfSk7Y29uc3QgX3I9UCh7cHJlZml4OlwiZlwiLG5hbWU6XCJiYXNlMTZcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZcIixiaXRzUGVyQ2hhcjo0fSksRXI9UCh7cHJlZml4OlwiRlwiLG5hbWU6XCJiYXNlMTZ1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRlwiLGJpdHNQZXJDaGFyOjR9KTt2YXIgSXI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTE2Ol9yLGJhc2UxNnVwcGVyOkVyfSk7Y29uc3QgVHI9UCh7cHJlZml4OlwiYlwiLG5hbWU6XCJiYXNlMzJcIixhbHBoYWJldDpcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MjM0NTY3XCIsYml0c1BlckNoYXI6NX0pLENyPVAoe3ByZWZpeDpcIkJcIixuYW1lOlwiYmFzZTMydXBwZXJcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMjM0NTY3XCIsYml0c1BlckNoYXI6NX0pLFByPVAoe3ByZWZpeDpcImNcIixuYW1lOlwiYmFzZTMycGFkXCIsYWxwaGFiZXQ6XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejIzNDU2Nz1cIixiaXRzUGVyQ2hhcjo1fSksU3I9UCh7cHJlZml4OlwiQ1wiLG5hbWU6XCJiYXNlMzJwYWR1cHBlclwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoyMzQ1Njc9XCIsYml0c1BlckNoYXI6NX0pLFJyPVAoe3ByZWZpeDpcInZcIixuYW1lOlwiYmFzZTMyaGV4XCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dlwiLGJpdHNQZXJDaGFyOjV9KSxPcj1QKHtwcmVmaXg6XCJWXCIsbmFtZTpcImJhc2UzMmhleHVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVlwiLGJpdHNQZXJDaGFyOjV9KSxBcj1QKHtwcmVmaXg6XCJ0XCIsbmFtZTpcImJhc2UzMmhleHBhZFwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXY9XCIsYml0c1BlckNoYXI6NX0pLHhyPVAoe3ByZWZpeDpcIlRcIixuYW1lOlwiYmFzZTMyaGV4cGFkdXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWPVwiLGJpdHNQZXJDaGFyOjV9KSxOcj1QKHtwcmVmaXg6XCJoXCIsbmFtZTpcImJhc2UzMnpcIixhbHBoYWJldDpcInlibmRyZmc4ZWprbWNwcXhvdDF1d2lzemEzNDVoNzY5XCIsYml0c1BlckNoYXI6NX0pO3ZhciAkcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMzI6VHIsYmFzZTMydXBwZXI6Q3IsYmFzZTMycGFkOlByLGJhc2UzMnBhZHVwcGVyOlNyLGJhc2UzMmhleDpScixiYXNlMzJoZXh1cHBlcjpPcixiYXNlMzJoZXhwYWQ6QXIsYmFzZTMyaGV4cGFkdXBwZXI6eHIsYmFzZTMyejpOcn0pO2NvbnN0IHpyPWRlKHtwcmVmaXg6XCJrXCIsbmFtZTpcImJhc2UzNlwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCJ9KSxMcj1kZSh7cHJlZml4OlwiS1wiLG5hbWU6XCJiYXNlMzZ1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCJ9KTt2YXIga3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTM2OnpyLGJhc2UzNnVwcGVyOkxyfSk7Y29uc3QganI9ZGUoe25hbWU6XCJiYXNlNThidGNcIixwcmVmaXg6XCJ6XCIsYWxwaGFiZXQ6XCIxMjM0NTY3ODlBQkNERUZHSEpLTE1OUFFSU1RVVldYWVphYmNkZWZnaGlqa21ub3BxcnN0dXZ3eHl6XCJ9KSxVcj1kZSh7bmFtZTpcImJhc2U1OGZsaWNrclwiLHByZWZpeDpcIlpcIixhbHBoYWJldDpcIjEyMzQ1Njc4OWFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXpBQkNERUZHSEpLTE1OUFFSU1RVVldYWVpcIn0pO3ZhciBGcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlNThidGM6anIsYmFzZTU4ZmxpY2tyOlVyfSk7Y29uc3QgTXI9UCh7cHJlZml4OlwibVwiLG5hbWU6XCJiYXNlNjRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixiaXRzUGVyQ2hhcjo2fSksS3I9UCh7cHJlZml4OlwiTVwiLG5hbWU6XCJiYXNlNjRwYWRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIsYml0c1BlckNoYXI6Nn0pLEJyPVAoe3ByZWZpeDpcInVcIixuYW1lOlwiYmFzZTY0dXJsXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fXCIsYml0c1BlckNoYXI6Nn0pLFZyPVAoe3ByZWZpeDpcIlVcIixuYW1lOlwiYmFzZTY0dXJscGFkXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fPVwiLGJpdHNQZXJDaGFyOjZ9KTt2YXIgcXI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTY0Ok1yLGJhc2U2NHBhZDpLcixiYXNlNjR1cmw6QnIsYmFzZTY0dXJscGFkOlZyfSk7Y29uc3Qgbmk9QXJyYXkuZnJvbShcIlxcdXsxRjY4MH1cXHV7MUZBOTB9XFx1MjYwNFxcdXsxRjZGMH1cXHV7MUYzMEN9XFx1ezFGMzExfVxcdXsxRjMxMn1cXHV7MUYzMTN9XFx1ezFGMzE0fVxcdXsxRjMxNX1cXHV7MUYzMTZ9XFx1ezFGMzE3fVxcdXsxRjMxOH1cXHV7MUYzMER9XFx1ezFGMzBGfVxcdXsxRjMwRX1cXHV7MUY0MDl9XFx1MjYwMFxcdXsxRjRCQn1cXHV7MUY1QTV9XFx1ezFGNEJFfVxcdXsxRjRCRn1cXHV7MUY2MDJ9XFx1Mjc2NFxcdXsxRjYwRH1cXHV7MUY5MjN9XFx1ezFGNjBBfVxcdXsxRjY0Rn1cXHV7MUY0OTV9XFx1ezFGNjJEfVxcdXsxRjYxOH1cXHV7MUY0NER9XFx1ezFGNjA1fVxcdXsxRjQ0Rn1cXHV7MUY2MDF9XFx1ezFGNTI1fVxcdXsxRjk3MH1cXHV7MUY0OTR9XFx1ezFGNDk2fVxcdXsxRjQ5OX1cXHV7MUY2MjJ9XFx1ezFGOTE0fVxcdXsxRjYwNn1cXHV7MUY2NDR9XFx1ezFGNEFBfVxcdXsxRjYwOX1cXHUyNjNBXFx1ezFGNDRDfVxcdXsxRjkxN31cXHV7MUY0OUN9XFx1ezFGNjE0fVxcdXsxRjYwRX1cXHV7MUY2MDd9XFx1ezFGMzM5fVxcdXsxRjkyNn1cXHV7MUYzODl9XFx1ezFGNDlFfVxcdTI3MENcXHUyNzI4XFx1ezFGOTM3fVxcdXsxRjYzMX1cXHV7MUY2MEN9XFx1ezFGMzM4fVxcdXsxRjY0Q31cXHV7MUY2MEJ9XFx1ezFGNDk3fVxcdXsxRjQ5QX1cXHV7MUY2MEZ9XFx1ezFGNDlCfVxcdXsxRjY0Mn1cXHV7MUY0OTN9XFx1ezFGOTI5fVxcdXsxRjYwNH1cXHV7MUY2MDB9XFx1ezFGNUE0fVxcdXsxRjYwM31cXHV7MUY0QUZ9XFx1ezFGNjQ4fVxcdXsxRjQ0N31cXHV7MUYzQjZ9XFx1ezFGNjEyfVxcdXsxRjkyRH1cXHUyNzYzXFx1ezFGNjFDfVxcdXsxRjQ4Qn1cXHV7MUY0NDB9XFx1ezFGNjJBfVxcdXsxRjYxMX1cXHV7MUY0QTV9XFx1ezFGNjRCfVxcdXsxRjYxRX1cXHV7MUY2Mjl9XFx1ezFGNjIxfVxcdXsxRjkyQX1cXHV7MUY0NEF9XFx1ezFGOTczfVxcdXsxRjYyNX1cXHV7MUY5MjR9XFx1ezFGNDQ5fVxcdXsxRjQ4M31cXHV7MUY2MzN9XFx1MjcwQlxcdXsxRjYxQX1cXHV7MUY2MUR9XFx1ezFGNjM0fVxcdXsxRjMxRn1cXHV7MUY2MkN9XFx1ezFGNjQzfVxcdXsxRjM0MH1cXHV7MUYzMzd9XFx1ezFGNjNCfVxcdXsxRjYxM31cXHUyQjUwXFx1MjcwNVxcdXsxRjk3QX1cXHV7MUYzMDh9XFx1ezFGNjA4fVxcdXsxRjkxOH1cXHV7MUY0QTZ9XFx1MjcxNFxcdXsxRjYyM31cXHV7MUYzQzN9XFx1ezFGNDkwfVxcdTI2MzlcXHV7MUYzOEF9XFx1ezFGNDk4fVxcdXsxRjYyMH1cXHUyNjFEXFx1ezFGNjE1fVxcdXsxRjMzQX1cXHV7MUYzODJ9XFx1ezFGMzNCfVxcdXsxRjYxMH1cXHV7MUY1OTV9XFx1ezFGNDlEfVxcdXsxRjY0QX1cXHV7MUY2Mzl9XFx1ezFGNUUzfVxcdXsxRjRBQn1cXHV7MUY0ODB9XFx1ezFGNDUxfVxcdXsxRjNCNX1cXHV7MUY5MUV9XFx1ezFGNjFCfVxcdXsxRjUzNH1cXHV7MUY2MjR9XFx1ezFGMzNDfVxcdXsxRjYyQn1cXHUyNkJEXFx1ezFGOTE5fVxcdTI2MTVcXHV7MUYzQzZ9XFx1ezFGOTJCfVxcdXsxRjQ0OH1cXHV7MUY2MkV9XFx1ezFGNjQ2fVxcdXsxRjM3Qn1cXHV7MUYzNDN9XFx1ezFGNDM2fVxcdXsxRjQ4MX1cXHV7MUY2MzJ9XFx1ezFGMzNGfVxcdXsxRjlFMX1cXHV7MUYzODF9XFx1MjZBMVxcdXsxRjMxRX1cXHV7MUYzODh9XFx1Mjc0Q1xcdTI3MEFcXHV7MUY0NEJ9XFx1ezFGNjMwfVxcdXsxRjkyOH1cXHV7MUY2MzZ9XFx1ezFGOTFEfVxcdXsxRjZCNn1cXHV7MUY0QjB9XFx1ezFGMzUzfVxcdXsxRjRBMn1cXHV7MUY5MUZ9XFx1ezFGNjQxfVxcdXsxRjZBOH1cXHV7MUY0QTh9XFx1ezFGOTJDfVxcdTI3MDhcXHV7MUYzODB9XFx1ezFGMzdBfVxcdXsxRjkxM31cXHV7MUY2MTl9XFx1ezFGNDlGfVxcdXsxRjMzMX1cXHV7MUY2MTZ9XFx1ezFGNDc2fVxcdXsxRjk3NH1cXHUyNUI2XFx1MjdBMVxcdTI3NTNcXHV7MUY0OEV9XFx1ezFGNEI4fVxcdTJCMDdcXHV7MUY2Mjh9XFx1ezFGMzFBfVxcdXsxRjk4Qn1cXHV7MUY2Mzd9XFx1ezFGNTdBfVxcdTI2QTBcXHV7MUY2NDV9XFx1ezFGNjFGfVxcdXsxRjYzNX1cXHV7MUY0NEV9XFx1ezFGOTMyfVxcdXsxRjkyMH1cXHV7MUY5Mjd9XFx1ezFGNENDfVxcdXsxRjUzNX1cXHV7MUY0ODV9XFx1ezFGOUQwfVxcdXsxRjQzRX1cXHV7MUYzNTJ9XFx1ezFGNjE3fVxcdXsxRjkxMX1cXHV7MUYzMEF9XFx1ezFGOTJGfVxcdXsxRjQzN31cXHUyNjBFXFx1ezFGNEE3fVxcdXsxRjYyRn1cXHV7MUY0ODZ9XFx1ezFGNDQ2fVxcdXsxRjNBNH1cXHV7MUY2NDd9XFx1ezFGMzUxfVxcdTI3NDRcXHV7MUYzMzR9XFx1ezFGNEEzfVxcdXsxRjQzOH1cXHV7MUY0OEN9XFx1ezFGNENEfVxcdXsxRjk0MH1cXHV7MUY5MjJ9XFx1ezFGNDQ1fVxcdXsxRjRBMX1cXHV7MUY0QTl9XFx1ezFGNDUwfVxcdXsxRjRGOH1cXHV7MUY0N0J9XFx1ezFGOTEwfVxcdXsxRjkyRX1cXHV7MUYzQkN9XFx1ezFGOTc1fVxcdXsxRjZBOX1cXHV7MUYzNEV9XFx1ezFGMzRBfVxcdXsxRjQ3Q31cXHV7MUY0OER9XFx1ezFGNEUzfVxcdXsxRjk0Mn1cIiksR3I9bmkucmVkdWNlKChyLGUsdCk9PihyW3RdPWUsciksW10pLFdyPW5pLnJlZHVjZSgocixlLHQpPT4ocltlLmNvZGVQb2ludEF0KDApXT10LHIpLFtdKTtmdW5jdGlvbiBIcihyKXtyZXR1cm4gci5yZWR1Y2UoKGUsdCk9PihlKz1Hclt0XSxlKSxcIlwiKX1mdW5jdGlvbiBZcihyKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIHIpe2NvbnN0IGk9V3JbdC5jb2RlUG9pbnRBdCgwKV07aWYoaT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYE5vbi1iYXNlMjU2ZW1vamkgY2hhcmFjdGVyOiAke3R9YCk7ZS5wdXNoKGkpfXJldHVybiBuZXcgVWludDhBcnJheShlKX1jb25zdCBKcj1FZSh7cHJlZml4OlwiXFx1ezFGNjgwfVwiLG5hbWU6XCJiYXNlMjU2ZW1vamlcIixlbmNvZGU6SHIsZGVjb2RlOllyfSk7dmFyIFhyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UyNTZlbW9qaTpKcn0pLFpyPWFpLG9pPTEyOCxRcj0xMjcsZW49flFyLHRuPU1hdGgucG93KDIsMzEpO2Z1bmN0aW9uIGFpKHIsZSx0KXtlPWV8fFtdLHQ9dHx8MDtmb3IodmFyIGk9dDtyPj10bjspZVt0KytdPXImMjU1fG9pLHIvPTEyODtmb3IoO3ImZW47KWVbdCsrXT1yJjI1NXxvaSxyPj4+PTc7cmV0dXJuIGVbdF09cnwwLGFpLmJ5dGVzPXQtaSsxLGV9dmFyIHNuPU1lLHJuPTEyOCxjaT0xMjc7ZnVuY3Rpb24gTWUocixpKXt2YXIgdD0wLGk9aXx8MCxzPTAsbj1pLG8sYT1yLmxlbmd0aDtkb3tpZihuPj1hKXRocm93IE1lLmJ5dGVzPTAsbmV3IFJhbmdlRXJyb3IoXCJDb3VsZCBub3QgZGVjb2RlIHZhcmludFwiKTtvPXJbbisrXSx0Kz1zPDI4PyhvJmNpKTw8czoobyZjaSkqTWF0aC5wb3coMixzKSxzKz03fXdoaWxlKG8+PXJuKTtyZXR1cm4gTWUuYnl0ZXM9bi1pLHR9dmFyIG5uPU1hdGgucG93KDIsNyksb249TWF0aC5wb3coMiwxNCksYW49TWF0aC5wb3coMiwyMSksY249TWF0aC5wb3coMiwyOCksaG49TWF0aC5wb3coMiwzNSksbG49TWF0aC5wb3coMiw0MiksdW49TWF0aC5wb3coMiw0OSksZG49TWF0aC5wb3coMiw1NiksZ249TWF0aC5wb3coMiw2MykscG49ZnVuY3Rpb24ocil7cmV0dXJuIHI8bm4/MTpyPG9uPzI6cjxhbj8zOnI8Y24/NDpyPGhuPzU6cjxsbj82OnI8dW4/NzpyPGRuPzg6cjxnbj85OjEwfSx5bj17ZW5jb2RlOlpyLGRlY29kZTpzbixlbmNvZGluZ0xlbmd0aDpwbn0saGk9eW47Y29uc3QgbGk9KHIsZSx0PTApPT4oaGkuZW5jb2RlKHIsZSx0KSxlKSx1aT1yPT5oaS5lbmNvZGluZ0xlbmd0aChyKSxLZT0ocixlKT0+e2NvbnN0IHQ9ZS5ieXRlTGVuZ3RoLGk9dWkocikscz1pK3VpKHQpLG49bmV3IFVpbnQ4QXJyYXkocyt0KTtyZXR1cm4gbGkocixuLDApLGxpKHQsbixpKSxuLnNldChlLHMpLG5ldyBibihyLHQsZSxuKX07Y2xhc3MgYm57Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5jb2RlPWUsdGhpcy5zaXplPXQsdGhpcy5kaWdlc3Q9aSx0aGlzLmJ5dGVzPXN9fWNvbnN0IGRpPSh7bmFtZTpyLGNvZGU6ZSxlbmNvZGU6dH0pPT5uZXcgbW4ocixlLHQpO2NsYXNzIG1ue2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLm5hbWU9ZSx0aGlzLmNvZGU9dCx0aGlzLmVuY29kZT1pfWRpZ2VzdChlKXtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheSl7Y29uc3QgdD10aGlzLmVuY29kZShlKTtyZXR1cm4gdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/S2UodGhpcy5jb2RlLHQpOnQudGhlbihpPT5LZSh0aGlzLmNvZGUsaSkpfWVsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGUsIG11c3QgYmUgYmluYXJ5IHR5cGVcIil9fWNvbnN0IGdpPXI9PmFzeW5jIGU9Pm5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KHIsZSkpLGZuPWRpKHtuYW1lOlwic2hhMi0yNTZcIixjb2RlOjE4LGVuY29kZTpnaShcIlNIQS0yNTZcIil9KSxEbj1kaSh7bmFtZTpcInNoYTItNTEyXCIsY29kZToxOSxlbmNvZGU6Z2koXCJTSEEtNTEyXCIpfSk7dmFyIHZuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHNoYTI1NjpmbixzaGE1MTI6RG59KTtjb25zdCBwaT0wLHduPVwiaWRlbnRpdHlcIix5aT1zaSxfbj1yPT5LZShwaSx5aShyKSksRW49e2NvZGU6cGksbmFtZTp3bixlbmNvZGU6eWksZGlnZXN0Ol9ufTt2YXIgSW49T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaWRlbnRpdHk6RW59KTtuZXcgVGV4dEVuY29kZXIsbmV3IFRleHREZWNvZGVyO2NvbnN0IGJpPXsuLi55ciwuLi5tciwuLi5EciwuLi53ciwuLi5JciwuLi4kciwuLi5rciwuLi5GciwuLi5xciwuLi5Ycn07KHsuLi52biwuLi5Jbn0pO2Z1bmN0aW9uIFRuKHI9MCl7cmV0dXJuIGdsb2JhbFRoaXMuQnVmZmVyIT1udWxsJiZnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZSE9bnVsbD9nbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZShyKTpuZXcgVWludDhBcnJheShyKX1mdW5jdGlvbiBtaShyLGUsdCxpKXtyZXR1cm57bmFtZTpyLHByZWZpeDplLGVuY29kZXI6e25hbWU6cixwcmVmaXg6ZSxlbmNvZGU6dH0sZGVjb2Rlcjp7ZGVjb2RlOml9fX1jb25zdCBmaT1taShcInV0ZjhcIixcInVcIixyPT5cInVcIituZXcgVGV4dERlY29kZXIoXCJ1dGY4XCIpLmRlY29kZShyKSxyPT5uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoci5zdWJzdHJpbmcoMSkpKSxCZT1taShcImFzY2lpXCIsXCJhXCIscj0+e2xldCBlPVwiYVwiO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoclt0XSk7cmV0dXJuIGV9LHI9PntyPXIuc3Vic3RyaW5nKDEpO2NvbnN0IGU9VG4oci5sZW5ndGgpO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKWVbdF09ci5jaGFyQ29kZUF0KHQpO3JldHVybiBlfSksQ249e3V0Zjg6ZmksXCJ1dGYtOFwiOmZpLGhleDpiaS5iYXNlMTYsbGF0aW4xOkJlLGFzY2lpOkJlLGJpbmFyeTpCZSwuLi5iaX07ZnVuY3Rpb24gUG4ocixlPVwidXRmOFwiKXtjb25zdCB0PUNuW2VdO2lmKCF0KXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZW5jb2RpbmcgXCIke2V9XCJgKTtyZXR1cm4oZT09PVwidXRmOFwifHxlPT09XCJ1dGYtOFwiKSYmZ2xvYmFsVGhpcy5CdWZmZXIhPW51bGwmJmdsb2JhbFRoaXMuQnVmZmVyLmZyb20hPW51bGw/Z2xvYmFsVGhpcy5CdWZmZXIuZnJvbShyLFwidXRmOFwiKTp0LmRlY29kZXIuZGVjb2RlKGAke3QucHJlZml4fSR7cn1gKX12YXIgU249T2JqZWN0LmRlZmluZVByb3BlcnR5LFJuPShyLGUsdCk9PmUgaW4gcj9TbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsVz0ocixlLHQpPT5SbihyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIERpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxXKHRoaXMsXCJrZXljaGFpblwiLG5ldyBNYXApLFcodGhpcyxcIm5hbWVcIixQdCksVyh0aGlzLFwidmVyc2lvblwiLFN0KSxXKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxXKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsQiksVyh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9PntpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3QgaT1hd2FpdCB0aGlzLmdldEtleUNoYWluKCk7dHlwZW9mIGk8XCJ1XCImJih0aGlzLmtleWNoYWluPWkpLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9fSksVyh0aGlzLFwiaGFzXCIsaT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uaGFzKGkpKSksVyh0aGlzLFwic2V0XCIsYXN5bmMoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uc2V0KGkscyksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSxXKHRoaXMsXCJnZXRcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz10aGlzLmtleWNoYWluLmdldChpKTtpZih0eXBlb2Ygcz5cInVcIil7Y29uc3R7bWVzc2FnZTpufT1tKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtpfWApO3Rocm93IG5ldyBFcnJvcihuKX1yZXR1cm4gc30pLFcodGhpcyxcImRlbFwiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmtleWNoYWluLmRlbGV0ZShpKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpfWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1hc3luYyBzZXRLZXlDaGFpbihlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxSZShlKSl9YXN5bmMgZ2V0S2V5Q2hhaW4oKXtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KTtyZXR1cm4gdHlwZW9mIGU8XCJ1XCI/T2UoZSk6dm9pZCAwfWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldEtleUNoYWluKHRoaXMua2V5Y2hhaW4pfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1tKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgT249T2JqZWN0LmRlZmluZVByb3BlcnR5LEFuPShyLGUsdCk9PmUgaW4gcj9PbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsUz0ocixlLHQpPT5BbihyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIHZpe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LFModGhpcyxcIm5hbWVcIixUdCksUyh0aGlzLFwia2V5Y2hhaW5cIiksUyh0aGlzLFwicmFuZG9tU2Vzc2lvbklkZW50aWZpZXJcIixBZSgpKSxTKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxTKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fChhd2FpdCB0aGlzLmtleWNoYWluLmluaXQoKSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLFModGhpcyxcImhhc0tleXNcIixzPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5rZXljaGFpbi5oYXMocykpKSxTKHRoaXMsXCJnZXRDbGllbnRJZFwiLGFzeW5jKCk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPWF3YWl0IHRoaXMuZ2V0Q2xpZW50U2VlZCgpLG49RGUuZ2VuZXJhdGVLZXlQYWlyKHMpO3JldHVybiBEZS5lbmNvZGVJc3Mobi5wdWJsaWNLZXkpfSksUyh0aGlzLFwiZ2VuZXJhdGVLZXlQYWlyXCIsKCk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPWxzKCk7cmV0dXJuIHRoaXMuc2V0UHJpdmF0ZUtleShzLnB1YmxpY0tleSxzLnByaXZhdGVLZXkpfSksUyh0aGlzLFwic2lnbkpXVFwiLGFzeW5jIHM9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBuPWF3YWl0IHRoaXMuZ2V0Q2xpZW50U2VlZCgpLG89RGUuZ2VuZXJhdGVLZXlQYWlyKG4pLGE9dGhpcy5yYW5kb21TZXNzaW9uSWRlbnRpZmllcixjPUN0O3JldHVybiBhd2FpdCBEZS5zaWduSldUKGEscyxjLG8pfSksUyh0aGlzLFwiZ2VuZXJhdGVTaGFyZWRLZXlcIiwocyxuLG8pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3QgYT10aGlzLmdldFByaXZhdGVLZXkocyksYz11cyhhLG4pO3JldHVybiB0aGlzLnNldFN5bUtleShjLG8pfSksUyh0aGlzLFwic2V0U3ltS2V5XCIsYXN5bmMocyxuKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG89bnx8ZHMocyk7cmV0dXJuIGF3YWl0IHRoaXMua2V5Y2hhaW4uc2V0KG8scyksb30pLFModGhpcyxcImRlbGV0ZUtleVBhaXJcIixhc3luYyBzPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5rZXljaGFpbi5kZWwocyl9KSxTKHRoaXMsXCJkZWxldGVTeW1LZXlcIixhc3luYyBzPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5rZXljaGFpbi5kZWwocyl9KSxTKHRoaXMsXCJlbmNvZGVcIixhc3luYyhzLG4sbyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBhPWdzKG8pLGM9aHMobik7aWYobnQoYSkpcmV0dXJuIHBzKGMsbz8uZW5jb2RpbmcpO2lmKG90KGEpKXtjb25zdCBnPWEuc2VuZGVyUHVibGljS2V5LF89YS5yZWNlaXZlclB1YmxpY0tleTtzPWF3YWl0IHRoaXMuZ2VuZXJhdGVTaGFyZWRLZXkoZyxfKX1jb25zdCBoPXRoaXMuZ2V0U3ltS2V5KHMpLHt0eXBlOmwsc2VuZGVyUHVibGljS2V5OmR9PWE7cmV0dXJuIHlzKHt0eXBlOmwsc3ltS2V5OmgsbWVzc2FnZTpjLHNlbmRlclB1YmxpY0tleTpkLGVuY29kaW5nOm8/LmVuY29kaW5nfSl9KSxTKHRoaXMsXCJkZWNvZGVcIixhc3luYyhzLG4sbyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBhPWJzKG4sbyk7aWYobnQoYSkpe2NvbnN0IGM9bXMobixvPy5lbmNvZGluZyk7cmV0dXJuIHN0KGMpfWlmKG90KGEpKXtjb25zdCBjPWEucmVjZWl2ZXJQdWJsaWNLZXksaD1hLnNlbmRlclB1YmxpY0tleTtzPWF3YWl0IHRoaXMuZ2VuZXJhdGVTaGFyZWRLZXkoYyxoKX10cnl7Y29uc3QgYz10aGlzLmdldFN5bUtleShzKSxoPWZzKHtzeW1LZXk6YyxlbmNvZGVkOm4sZW5jb2Rpbmc6bz8uZW5jb2Rpbmd9KTtyZXR1cm4gc3QoaCl9Y2F0Y2goYyl7dGhpcy5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBkZWNvZGUgbWVzc2FnZSBmcm9tIHRvcGljOiAnJHtzfScsIGNsaWVudElkOiAnJHthd2FpdCB0aGlzLmdldENsaWVudElkKCl9J2ApLHRoaXMubG9nZ2VyLmVycm9yKGMpfX0pLFModGhpcyxcImdldFBheWxvYWRUeXBlXCIsKHMsbj1jdCk9Pntjb25zdCBvPWF0KHtlbmNvZGVkOnMsZW5jb2Rpbmc6bn0pO3JldHVybiBEcyhvLnR5cGUpfSksUyh0aGlzLFwiZ2V0UGF5bG9hZFNlbmRlclB1YmxpY0tleVwiLChzLG49Y3QpPT57Y29uc3Qgbz1hdCh7ZW5jb2RlZDpzLGVuY29kaW5nOm59KTtyZXR1cm4gby5zZW5kZXJQdWJsaWNLZXk/VXMoby5zZW5kZXJQdWJsaWNLZXksdnMpOnZvaWQgMH0pLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpLHRoaXMua2V5Y2hhaW49aXx8bmV3IERpKHRoaXMuY29yZSx0aGlzLmxvZ2dlcil9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9YXN5bmMgc2V0UHJpdmF0ZUtleShlLHQpe3JldHVybiBhd2FpdCB0aGlzLmtleWNoYWluLnNldChlLHQpLGV9Z2V0UHJpdmF0ZUtleShlKXtyZXR1cm4gdGhpcy5rZXljaGFpbi5nZXQoZSl9YXN5bmMgZ2V0Q2xpZW50U2VlZCgpe2xldCBlPVwiXCI7dHJ5e2U9dGhpcy5rZXljaGFpbi5nZXQoa2UpfWNhdGNoe2U9QWUoKSxhd2FpdCB0aGlzLmtleWNoYWluLnNldChrZSxlKX1yZXR1cm4gUG4oZSxcImJhc2UxNlwiKX1nZXRTeW1LZXkoZSl7cmV0dXJuIHRoaXMua2V5Y2hhaW4uZ2V0KGUpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1tKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgeG49T2JqZWN0LmRlZmluZVByb3BlcnR5LE5uPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLCRuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLHdpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsem49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxMbj1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFZlPShyLGUsdCk9PmUgaW4gcj94bihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsa249KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKXpuLmNhbGwoZSx0KSYmVmUocix0LGVbdF0pO2lmKHdpKWZvcih2YXIgdCBvZiB3aShlKSlMbi5jYWxsKGUsdCkmJlZlKHIsdCxlW3RdKTtyZXR1cm4gcn0sam49KHIsZSk9Pk5uKHIsJG4oZSkpLGs9KHIsZSx0KT0+VmUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBfaSBleHRlbmRzIFhpe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmxvZ2dlcj1lLHRoaXMuY29yZT10LGsodGhpcyxcIm1lc3NhZ2VzXCIsbmV3IE1hcCksayh0aGlzLFwibWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrXCIsbmV3IE1hcCksayh0aGlzLFwibmFtZVwiLFJ0KSxrKHRoaXMsXCJ2ZXJzaW9uXCIsT3QpLGsodGhpcyxcImluaXRpYWxpemVkXCIsITEpLGsodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSxrKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e2lmKCF0aGlzLmluaXRpYWxpemVkKXt0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpO3RyeXtjb25zdCBpPWF3YWl0IHRoaXMuZ2V0UmVsYXllck1lc3NhZ2VzKCk7dHlwZW9mIGk8XCJ1XCImJih0aGlzLm1lc3NhZ2VzPWkpO2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRSZWxheWVyTWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKCk7dHlwZW9mIHM8XCJ1XCImJih0aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjaz1zKSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHJlY29yZHMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLHNpemU6dGhpcy5tZXNzYWdlcy5zaXplfSl9Y2F0Y2goaSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHJlY29yZHMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGkpfWZpbmFsbHl7dGhpcy5pbml0aWFsaXplZD0hMH19fSksayh0aGlzLFwic2V0XCIsYXN5bmMoaSxzLG4pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbz12ZShzKTtsZXQgYT10aGlzLm1lc3NhZ2VzLmdldChpKTtpZih0eXBlb2YgYT5cInVcIiYmKGE9e30pLHR5cGVvZiBhW29dPFwidVwiKXJldHVybiBvO2lmKGFbb109cyx0aGlzLm1lc3NhZ2VzLnNldChpLGEpLG49PT1sZS5pbmJvdW5kKXtjb25zdCBjPXRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmdldChpKXx8e307dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suc2V0KGksam4oa24oe30sYykse1tvXTpzfSkpfXJldHVybiBhd2FpdCB0aGlzLnBlcnNpc3QoKSxvfSksayh0aGlzLFwiZ2V0XCIsaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2xldCBzPXRoaXMubWVzc2FnZXMuZ2V0KGkpO3JldHVybiB0eXBlb2Ygcz5cInVcIiYmKHM9e30pLHN9KSxrKHRoaXMsXCJnZXRXaXRob3V0QWNrXCIsaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9e307Zm9yKGNvbnN0IG4gb2YgaSl7Y29uc3Qgbz10aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5nZXQobil8fHt9O3Nbbl09T2JqZWN0LnZhbHVlcyhvKX1yZXR1cm4gc30pLGsodGhpcyxcImhhc1wiLChpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbj10aGlzLmdldChpKSxvPXZlKHMpO3JldHVybiB0eXBlb2YgbltvXTxcInVcIn0pLGsodGhpcyxcImFja1wiLGFzeW5jKGkscyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBuPXRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmdldChpKTtpZih0eXBlb2Ygbj5cInVcIilyZXR1cm47Y29uc3Qgbz12ZShzKTtkZWxldGUgbltvXSxPYmplY3Qua2V5cyhuKS5sZW5ndGg9PT0wP3RoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmRlbGV0ZShpKTp0aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5zZXQoaSxuKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLGsodGhpcyxcImRlbFwiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLm1lc3NhZ2VzLmRlbGV0ZShpKSx0aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5kZWxldGUoaSksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmxvZ2dlcj1OKGUsdGhpcy5uYW1lKSx0aGlzLmNvcmU9dH1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IHN0b3JhZ2VLZXlXaXRob3V0Q2xpZW50QWNrKCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZStcIl93aXRob3V0Q2xpZW50QWNrXCJ9YXN5bmMgc2V0UmVsYXllck1lc3NhZ2VzKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LFJlKGUpKX1hc3luYyBzZXRSZWxheWVyTWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5V2l0aG91dENsaWVudEFjayxSZShlKSl9YXN5bmMgZ2V0UmVsYXllck1lc3NhZ2VzKCl7Y29uc3QgZT1hd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSk7cmV0dXJuIHR5cGVvZiBlPFwidVwiP09lKGUpOnZvaWQgMH1hc3luYyBnZXRSZWxheWVyTWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKCl7Y29uc3QgZT1hd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleVdpdGhvdXRDbGllbnRBY2spO3JldHVybiB0eXBlb2YgZTxcInVcIj9PZShlKTp2b2lkIDB9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0UmVsYXllck1lc3NhZ2VzKHRoaXMubWVzc2FnZXMpLGF3YWl0IHRoaXMuc2V0UmVsYXllck1lc3NhZ2VzV2l0aG91dENsaWVudEFjayh0aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjayl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBVbj1PYmplY3QuZGVmaW5lUHJvcGVydHksRm49T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsTW49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsRWk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxLbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEJuPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUscWU9KHIsZSx0KT0+ZSBpbiByP1VuKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxJZT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpS24uY2FsbChlLHQpJiZxZShyLHQsZVt0XSk7aWYoRWkpZm9yKHZhciB0IG9mIEVpKGUpKUJuLmNhbGwoZSx0KSYmcWUocix0LGVbdF0pO3JldHVybiByfSxHZT0ocixlKT0+Rm4ocixNbihlKSksVj0ocixlLHQpPT5xZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFZuIGV4dGVuZHMgWml7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMucmVsYXllcj1lLHRoaXMubG9nZ2VyPXQsVih0aGlzLFwiZXZlbnRzXCIsbmV3IGVlKSxWKHRoaXMsXCJuYW1lXCIsQXQpLFYodGhpcyxcInF1ZXVlXCIsbmV3IE1hcCksVih0aGlzLFwicHVibGlzaFRpbWVvdXRcIixPKHR0KSksVih0aGlzLFwiaW5pdGlhbFB1Ymxpc2hUaW1lb3V0XCIsTyhaKjE1KSksVih0aGlzLFwibmVlZHNUcmFuc3BvcnRSZXN0YXJ0XCIsITEpLFYodGhpcyxcInB1Ymxpc2hcIixhc3luYyhpLHMsbik9Pnt2YXIgbzt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlB1Ymxpc2hpbmcgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInB1Ymxpc2hcIixwYXJhbXM6e3RvcGljOmksbWVzc2FnZTpzLG9wdHM6bn19KTtjb25zdCBhPW4/LnR0bHx8amUsYz13ZShuKSxoPW4/LnByb21wdHx8ITEsbD1uPy50YWd8fDAsZD1uPy5pZHx8bXQoKS50b1N0cmluZygpLGc9e3RvcGljOmksbWVzc2FnZTpzLG9wdHM6e3R0bDphLHJlbGF5OmMscHJvbXB0OmgsdGFnOmwsaWQ6ZCxhdHRlc3RhdGlvbjpuPy5hdHRlc3RhdGlvbix0dmY6bj8udHZmfX0sXz1gRmFpbGVkIHRvIHB1Ymxpc2ggcGF5bG9hZCwgcGxlYXNlIHRyeSBhZ2Fpbi4gaWQ6JHtkfSB0YWc6JHtsfWA7dHJ5e2NvbnN0IHU9bmV3IFByb21pc2UoYXN5bmMgYj0+e2NvbnN0IHg9KHtpZDpEfSk9PntnLm9wdHMuaWQ9PT1EJiYodGhpcy5yZW1vdmVSZXF1ZXN0RnJvbVF1ZXVlKEQpLHRoaXMucmVsYXllci5ldmVudHMucmVtb3ZlTGlzdGVuZXIoQy5wdWJsaXNoLHgpLGIoZykpfTt0aGlzLnJlbGF5ZXIuZXZlbnRzLm9uKEMucHVibGlzaCx4KTtjb25zdCBJPVgobmV3IFByb21pc2UoKEQsaik9Pnt0aGlzLnJwY1B1Ymxpc2goe3RvcGljOmksbWVzc2FnZTpzLHR0bDphLHByb21wdDpoLHRhZzpsLGlkOmQsYXR0ZXN0YXRpb246bj8uYXR0ZXN0YXRpb24sdHZmOm4/LnR2Zn0pLnRoZW4oRCkuY2F0Y2goVD0+e3RoaXMubG9nZ2VyLndhcm4oVCxUPy5tZXNzYWdlKSxqKFQpfSl9KSx0aGlzLmluaXRpYWxQdWJsaXNoVGltZW91dCxgRmFpbGVkIGluaXRpYWwgcHVibGlzaCwgcmV0cnlpbmcuLi4uIGlkOiR7ZH0gdGFnOiR7bH1gKTt0cnl7YXdhaXQgSSx0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihDLnB1Ymxpc2gseCl9Y2F0Y2goRCl7dGhpcy5xdWV1ZS5zZXQoZCxHZShJZSh7fSxnKSx7YXR0ZW1wdDoxfSkpLHRoaXMubG9nZ2VyLndhcm4oRCxEPy5tZXNzYWdlKX19KTt0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInB1Ymxpc2hcIixwYXJhbXM6e2lkOmQsdG9waWM6aSxtZXNzYWdlOnMsb3B0czpufX0pLGF3YWl0IFgodSx0aGlzLnB1Ymxpc2hUaW1lb3V0LF8pfWNhdGNoKHUpe2lmKHRoaXMubG9nZ2VyLmRlYnVnKFwiRmFpbGVkIHRvIFB1Ymxpc2ggUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci5lcnJvcih1KSwobz1uPy5pbnRlcm5hbCkhPW51bGwmJm8udGhyb3dPbkZhaWxlZFB1Ymxpc2gpdGhyb3cgdX1maW5hbGx5e3RoaXMucXVldWUuZGVsZXRlKGQpfX0pLFYodGhpcyxcIm9uXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbihpLHMpfSksVih0aGlzLFwib25jZVwiLChpLHMpPT57dGhpcy5ldmVudHMub25jZShpLHMpfSksVih0aGlzLFwib2ZmXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vZmYoaSxzKX0pLFYodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLHMpfSksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSksdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9YXN5bmMgcnBjUHVibGlzaChlKXt2YXIgdCxpLHMsbjtjb25zdHt0b3BpYzpvLG1lc3NhZ2U6YSx0dGw6Yz1qZSxwcm9tcHQ6aCx0YWc6bCxpZDpkLGF0dGVzdGF0aW9uOmcsdHZmOl99PWUsdT17bWV0aG9kOm9lKHdlKCkucHJvdG9jb2wpLnB1Ymxpc2gscGFyYW1zOkllKHt0b3BpYzpvLG1lc3NhZ2U6YSx0dGw6Yyxwcm9tcHQ6aCx0YWc6bCxhdHRlc3RhdGlvbjpnfSxfKSxpZDpkfTt4ZSgodD11LnBhcmFtcyk9PW51bGw/dm9pZCAwOnQucHJvbXB0KSYmKChpPXUucGFyYW1zKT09bnVsbHx8ZGVsZXRlIGkucHJvbXB0KSx4ZSgocz11LnBhcmFtcyk9PW51bGw/dm9pZCAwOnMudGFnKSYmKChuPXUucGFyYW1zKT09bnVsbHx8ZGVsZXRlIG4udGFnKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXNzYWdlXCIsZGlyZWN0aW9uOlwib3V0Z29pbmdcIixyZXF1ZXN0OnV9KTtjb25zdCBiPWF3YWl0IHRoaXMucmVsYXllci5yZXF1ZXN0KHUpO3JldHVybiB0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5wdWJsaXNoLGUpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3VjY2Vzc2Z1bGx5IFB1Ymxpc2hlZCBQYXlsb2FkXCIpLGJ9cmVtb3ZlUmVxdWVzdEZyb21RdWV1ZShlKXt0aGlzLnF1ZXVlLmRlbGV0ZShlKX1jaGVja1F1ZXVlKCl7dGhpcy5xdWV1ZS5mb3JFYWNoKGFzeW5jKGUsdCk9Pntjb25zdCBpPWUuYXR0ZW1wdCsxO3RoaXMucXVldWUuc2V0KHQsR2UoSWUoe30sZSkse2F0dGVtcHQ6aX0pKTtjb25zdHt0b3BpYzpzLG1lc3NhZ2U6bixvcHRzOm8sYXR0ZXN0YXRpb246YX09ZTt0aGlzLmxvZ2dlci53YXJuKHt9LGBQdWJsaXNoZXI6IHF1ZXVlLT5wdWJsaXNoaW5nOiAke2Uub3B0cy5pZH0sIHRhZzogJHtlLm9wdHMudGFnfSwgYXR0ZW1wdDogJHtpfWApLGF3YWl0IHRoaXMucnBjUHVibGlzaChHZShJZSh7fSxlKSx7dG9waWM6cyxtZXNzYWdlOm4sdHRsOm8udHRsLHByb21wdDpvLnByb21wdCx0YWc6by50YWcsaWQ6by5pZCxhdHRlc3RhdGlvbjphLHR2ZjpvLnR2Zn0pKSx0aGlzLmxvZ2dlci53YXJuKHt9LGBQdWJsaXNoZXI6IHF1ZXVlLT5wdWJsaXNoZWQ6ICR7ZS5vcHRzLmlkfWApfSl9cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe3RoaXMucmVsYXllci5jb3JlLmhlYXJ0YmVhdC5vbihuZS5wdWxzZSwoKT0+e2lmKHRoaXMubmVlZHNUcmFuc3BvcnRSZXN0YXJ0KXt0aGlzLm5lZWRzVHJhbnNwb3J0UmVzdGFydD0hMSx0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpO3JldHVybn10aGlzLmNoZWNrUXVldWUoKX0pLHRoaXMucmVsYXllci5vbihDLm1lc3NhZ2VfYWNrLGU9Pnt0aGlzLnJlbW92ZVJlcXVlc3RGcm9tUXVldWUoZS5pZC50b1N0cmluZygpKX0pfX12YXIgcW49T2JqZWN0LmRlZmluZVByb3BlcnR5LEduPShyLGUsdCk9PmUgaW4gcj9xbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQscmU9KHIsZSx0KT0+R24ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBXbntjb25zdHJ1Y3Rvcigpe3JlKHRoaXMsXCJtYXBcIixuZXcgTWFwKSxyZSh0aGlzLFwic2V0XCIsKGUsdCk9Pntjb25zdCBpPXRoaXMuZ2V0KGUpO3RoaXMuZXhpc3RzKGUsdCl8fHRoaXMubWFwLnNldChlLFsuLi5pLHRdKX0pLHJlKHRoaXMsXCJnZXRcIixlPT50aGlzLm1hcC5nZXQoZSl8fFtdKSxyZSh0aGlzLFwiZXhpc3RzXCIsKGUsdCk9PnRoaXMuZ2V0KGUpLmluY2x1ZGVzKHQpKSxyZSh0aGlzLFwiZGVsZXRlXCIsKGUsdCk9PntpZih0eXBlb2YgdD5cInVcIil7dGhpcy5tYXAuZGVsZXRlKGUpO3JldHVybn1pZighdGhpcy5tYXAuaGFzKGUpKXJldHVybjtjb25zdCBpPXRoaXMuZ2V0KGUpO2lmKCF0aGlzLmV4aXN0cyhlLHQpKXJldHVybjtjb25zdCBzPWkuZmlsdGVyKG49Pm4hPT10KTtpZighcy5sZW5ndGgpe3RoaXMubWFwLmRlbGV0ZShlKTtyZXR1cm59dGhpcy5tYXAuc2V0KGUscyl9KSxyZSh0aGlzLFwiY2xlYXJcIiwoKT0+e3RoaXMubWFwLmNsZWFyKCl9KX1nZXQgdG9waWNzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKX19dmFyIEhuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxZbj1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxKbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxJaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFhuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWm49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxXZT0ocixlLHQpPT5lIGluIHI/SG4ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LGdlPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlYbi5jYWxsKGUsdCkmJldlKHIsdCxlW3RdKTtpZihJaSlmb3IodmFyIHQgb2YgSWkoZSkpWm4uY2FsbChlLHQpJiZXZShyLHQsZVt0XSk7cmV0dXJuIHJ9LEhlPShyLGUpPT5ZbihyLEpuKGUpKSxmPShyLGUsdCk9PldlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgVGkgZXh0ZW5kcyBRaXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9dCxmKHRoaXMsXCJzdWJzY3JpcHRpb25zXCIsbmV3IE1hcCksZih0aGlzLFwidG9waWNNYXBcIixuZXcgV24pLGYodGhpcyxcImV2ZW50c1wiLG5ldyBlZSksZih0aGlzLFwibmFtZVwiLFV0KSxmKHRoaXMsXCJ2ZXJzaW9uXCIsRnQpLGYodGhpcyxcInBlbmRpbmdcIixuZXcgTWFwKSxmKHRoaXMsXCJjYWNoZWRcIixbXSksZih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksZih0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLGYodGhpcyxcInN1YnNjcmliZVRpbWVvdXRcIixPKHR0KSksZih0aGlzLFwiaW5pdGlhbFN1YnNjcmliZVRpbWVvdXRcIixPKFoqMTUpKSxmKHRoaXMsXCJjbGllbnRJZFwiKSxmKHRoaXMsXCJiYXRjaFN1YnNjcmliZVRvcGljc0xpbWl0XCIsNTAwKSxmKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLGF3YWl0IHRoaXMucmVzdG9yZSgpKSx0aGlzLmluaXRpYWxpemVkPSEwfSksZih0aGlzLFwic3Vic2NyaWJlXCIsYXN5bmMoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3Vic2NyaWJpbmcgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmksb3B0czpzfX0pO3RyeXtjb25zdCBuPXdlKHMpLG89e3RvcGljOmkscmVsYXk6bix0cmFuc3BvcnRUeXBlOnM/LnRyYW5zcG9ydFR5cGV9O3RoaXMucGVuZGluZy5zZXQoaSxvKTtjb25zdCBhPWF3YWl0IHRoaXMucnBjU3Vic2NyaWJlKGksbixzKTtyZXR1cm4gdHlwZW9mIGE9PVwic3RyaW5nXCImJih0aGlzLm9uU3Vic2NyaWJlKGEsbyksdGhpcy5sb2dnZXIuZGVidWcoXCJTdWNjZXNzZnVsbHkgU3Vic2NyaWJlZCBUb3BpY1wiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInN1YnNjcmliZVwiLHBhcmFtczp7dG9waWM6aSxvcHRzOnN9fSkpLGF9Y2F0Y2gobil7dGhyb3cgdGhpcy5sb2dnZXIuZGVidWcoXCJGYWlsZWQgdG8gU3Vic2NyaWJlIFRvcGljXCIpLHRoaXMubG9nZ2VyLmVycm9yKG4pLG59fSksZih0aGlzLFwidW5zdWJzY3JpYmVcIixhc3luYyhpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdHlwZW9mIHM/LmlkPFwidVwiP2F3YWl0IHRoaXMudW5zdWJzY3JpYmVCeUlkKGkscy5pZCxzKTphd2FpdCB0aGlzLnVuc3Vic2NyaWJlQnlUb3BpYyhpLHMpfSksZih0aGlzLFwiaXNTdWJzY3JpYmVkXCIsaT0+bmV3IFByb21pc2Uocz0+e3ModGhpcy50b3BpY01hcC50b3BpY3MuaW5jbHVkZXMoaSkpfSkpLGYodGhpcyxcImlzS25vd25Ub3BpY1wiLGk9Pm5ldyBQcm9taXNlKHM9PntzKHRoaXMudG9waWNNYXAudG9waWNzLmluY2x1ZGVzKGkpfHx0aGlzLnBlbmRpbmcuaGFzKGkpfHx0aGlzLmNhY2hlZC5zb21lKG49Pm4udG9waWM9PT1pKSl9KSksZih0aGlzLFwib25cIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uKGkscyl9KSxmKHRoaXMsXCJvbmNlXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbmNlKGkscyl9KSxmKHRoaXMsXCJvZmZcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9mZihpLHMpfSksZih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGkscyl9KSxmKHRoaXMsXCJzdGFydFwiLGFzeW5jKCk9Pnthd2FpdCB0aGlzLm9uQ29ubmVjdCgpfSksZih0aGlzLFwic3RvcFwiLGFzeW5jKCk9Pnthd2FpdCB0aGlzLm9uRGlzY29ubmVjdCgpfSksZih0aGlzLFwicmVzdGFydFwiLGFzeW5jKCk9Pnthd2FpdCB0aGlzLnJlc3RvcmUoKSxhd2FpdCB0aGlzLm9uUmVzdGFydCgpfSksZih0aGlzLFwiY2hlY2tQZW5kaW5nXCIsYXN5bmMoKT0+e2lmKHRoaXMucGVuZGluZy5zaXplPT09MCYmKCF0aGlzLmluaXRpYWxpemVkfHwhdGhpcy5yZWxheWVyLmNvbm5lY3RlZCkpcmV0dXJuO2NvbnN0IGk9W107dGhpcy5wZW5kaW5nLmZvckVhY2gocz0+e2kucHVzaChzKX0pLGF3YWl0IHRoaXMuYmF0Y2hTdWJzY3JpYmUoaSl9KSxmKHRoaXMsXCJyZWdpc3RlckV2ZW50TGlzdGVuZXJzXCIsKCk9Pnt0aGlzLnJlbGF5ZXIuY29yZS5oZWFydGJlYXQub24obmUucHVsc2UsYXN5bmMoKT0+e2F3YWl0IHRoaXMuY2hlY2tQZW5kaW5nKCl9KSx0aGlzLmV2ZW50cy5vbigkLmNyZWF0ZWQsYXN5bmMgaT0+e2NvbnN0IHM9JC5jcmVhdGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7c31gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6cyxkYXRhOml9KSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLHRoaXMuZXZlbnRzLm9uKCQuZGVsZXRlZCxhc3luYyBpPT57Y29uc3Qgcz0kLmRlbGV0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHtzfWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDpzLGRhdGE6aX0pLGF3YWl0IHRoaXMucGVyc2lzdCgpfSl9KSx0aGlzLnJlbGF5ZXI9ZSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5uYW1lKSx0aGlzLmNsaWVudElkPVwiXCJ9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLnJlbGF5ZXIuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMuc2l6ZX1nZXQgaWRzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5zdWJzY3JpcHRpb25zLmtleXMoKSl9Z2V0IHZhbHVlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuc3Vic2NyaXB0aW9ucy52YWx1ZXMoKSl9Z2V0IHRvcGljcygpe3JldHVybiB0aGlzLnRvcGljTWFwLnRvcGljc31nZXQgaGFzQW55VG9waWNzKCl7cmV0dXJuIHRoaXMudG9waWNNYXAudG9waWNzLmxlbmd0aD4wfHx0aGlzLnBlbmRpbmcuc2l6ZT4wfHx0aGlzLmNhY2hlZC5sZW5ndGg+MHx8dGhpcy5zdWJzY3JpcHRpb25zLnNpemU+MH1oYXNTdWJzY3JpcHRpb24oZSx0KXtsZXQgaT0hMTt0cnl7aT10aGlzLmdldFN1YnNjcmlwdGlvbihlKS50b3BpYz09PXR9Y2F0Y2h7fXJldHVybiBpfXJlc2V0KCl7dGhpcy5jYWNoZWQ9W10sdGhpcy5pbml0aWFsaXplZD0hMH1vbkRpc2FibGUoKXt0aGlzLmNhY2hlZD10aGlzLnZhbHVlcyx0aGlzLnN1YnNjcmlwdGlvbnMuY2xlYXIoKSx0aGlzLnRvcGljTWFwLmNsZWFyKCl9YXN5bmMgdW5zdWJzY3JpYmVCeVRvcGljKGUsdCl7Y29uc3QgaT10aGlzLnRvcGljTWFwLmdldChlKTthd2FpdCBQcm9taXNlLmFsbChpLm1hcChhc3luYyBzPT5hd2FpdCB0aGlzLnVuc3Vic2NyaWJlQnlJZChlLHMsdCkpKX1hc3luYyB1bnN1YnNjcmliZUJ5SWQoZSx0LGkpe3RoaXMubG9nZ2VyLmRlYnVnKFwiVW5zdWJzY3JpYmluZyBUb3BpY1wiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInVuc3Vic2NyaWJlXCIscGFyYW1zOnt0b3BpYzplLGlkOnQsb3B0czppfX0pO3RyeXtjb25zdCBzPXdlKGkpO2F3YWl0IHRoaXMucmVzdGFydFRvQ29tcGxldGUoe3RvcGljOmUsaWQ6dCxyZWxheTpzfSksYXdhaXQgdGhpcy5ycGNVbnN1YnNjcmliZShlLHQscyk7Y29uc3Qgbj1hZShcIlVTRVJfRElTQ09OTkVDVEVEXCIsYCR7dGhpcy5uYW1lfSwgJHtlfWApO2F3YWl0IHRoaXMub25VbnN1YnNjcmliZShlLHQsbiksdGhpcy5sb2dnZXIuZGVidWcoXCJTdWNjZXNzZnVsbHkgVW5zdWJzY3JpYmVkIFRvcGljXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwidW5zdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmUsaWQ6dCxvcHRzOml9fSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZGVidWcoXCJGYWlsZWQgdG8gVW5zdWJzY3JpYmUgVG9waWNcIiksdGhpcy5sb2dnZXIuZXJyb3Iocyksc319YXN5bmMgcnBjU3Vic2NyaWJlKGUsdCxpKXt2YXIgczsoIWl8fGk/LnRyYW5zcG9ydFR5cGU9PT1RLnJlbGF5KSYmYXdhaXQgdGhpcy5yZXN0YXJ0VG9Db21wbGV0ZSh7dG9waWM6ZSxpZDplLHJlbGF5OnR9KTtjb25zdCBuPXttZXRob2Q6b2UodC5wcm90b2NvbCkuc3Vic2NyaWJlLHBhcmFtczp7dG9waWM6ZX19O3RoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6bn0pO2NvbnN0IG89KHM9aT8uaW50ZXJuYWwpPT1udWxsP3ZvaWQgMDpzLnRocm93T25GYWlsZWRQdWJsaXNoO3RyeXtjb25zdCBhPWF3YWl0IHRoaXMuZ2V0U3Vic2NyaXB0aW9uSWQoZSk7aWYoaT8udHJhbnNwb3J0VHlwZT09PVEubGlua19tb2RlKXJldHVybiBzZXRUaW1lb3V0KCgpPT57KHRoaXMucmVsYXllci5jb25uZWN0ZWR8fHRoaXMucmVsYXllci5jb25uZWN0aW5nKSYmdGhpcy5yZWxheWVyLnJlcXVlc3QobikuY2F0Y2gobD0+dGhpcy5sb2dnZXIud2FybihsKSl9LE8oWikpLGE7Y29uc3QgYz1uZXcgUHJvbWlzZShhc3luYyBsPT57Y29uc3QgZD1nPT57Zy50b3BpYz09PWUmJih0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcigkLmNyZWF0ZWQsZCksbChnLmlkKSl9O3RoaXMuZXZlbnRzLm9uKCQuY3JlYXRlZCxkKTt0cnl7Y29uc3QgZz1hd2FpdCBYKG5ldyBQcm9taXNlKChfLHUpPT57dGhpcy5yZWxheWVyLnJlcXVlc3QobikuY2F0Y2goYj0+e3RoaXMubG9nZ2VyLndhcm4oYixiPy5tZXNzYWdlKSx1KGIpfSkudGhlbihfKX0pLHRoaXMuaW5pdGlhbFN1YnNjcmliZVRpbWVvdXQsYFN1YnNjcmliaW5nIHRvICR7ZX0gZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluYCk7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoJC5jcmVhdGVkLGQpLGwoZyl9Y2F0Y2h7fX0pLGg9YXdhaXQgWChjLHRoaXMuc3Vic2NyaWJlVGltZW91dCxgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTtpZighaCYmbyl0aHJvdyBuZXcgRXJyb3IoYFN1YnNjcmliaW5nIHRvICR7ZX0gZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluYCk7cmV0dXJuIGg/YTpudWxsfWNhdGNoKGEpe2lmKHRoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgU3Vic2NyaWJlIFBheWxvYWQgc3RhbGxlZFwiKSx0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpLG8pdGhyb3cgYX1yZXR1cm4gbnVsbH1hc3luYyBycGNCYXRjaFN1YnNjcmliZShlKXtpZighZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9ZVswXS5yZWxheSxpPXttZXRob2Q6b2UodC5wcm90b2NvbCkuYmF0Y2hTdWJzY3JpYmUscGFyYW1zOnt0b3BpY3M6ZS5tYXAocz0+cy50b3BpYyl9fTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJwYXlsb2FkXCIsZGlyZWN0aW9uOlwib3V0Z29pbmdcIixyZXF1ZXN0Oml9KTt0cnl7YXdhaXQgYXdhaXQgWChuZXcgUHJvbWlzZShzPT57dGhpcy5yZWxheWVyLnJlcXVlc3QoaSkuY2F0Y2gobj0+dGhpcy5sb2dnZXIud2FybihuKSkudGhlbihzKX0pLHRoaXMuc3Vic2NyaWJlVGltZW91dCxcInJwY0JhdGNoU3Vic2NyaWJlIGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpblwiKX1jYXRjaHt0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpfX1hc3luYyBycGNCYXRjaEZldGNoTWVzc2FnZXMoZSl7aWYoIWUubGVuZ3RoKXJldHVybjtjb25zdCB0PWVbMF0ucmVsYXksaT17bWV0aG9kOm9lKHQucHJvdG9jb2wpLmJhdGNoRmV0Y2hNZXNzYWdlcyxwYXJhbXM6e3RvcGljczplLm1hcChuPT5uLnRvcGljKX19O3RoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6aX0pO2xldCBzO3RyeXtzPWF3YWl0IGF3YWl0IFgobmV3IFByb21pc2UoKG4sbyk9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChpKS5jYXRjaChhPT57dGhpcy5sb2dnZXIud2FybihhKSxvKGEpfSkudGhlbihuKX0pLHRoaXMuc3Vic2NyaWJlVGltZW91dCxcInJwY0JhdGNoRmV0Y2hNZXNzYWdlcyBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5cIil9Y2F0Y2h7dGhpcy5yZWxheWVyLmV2ZW50cy5lbWl0KEMuY29ubmVjdGlvbl9zdGFsbGVkKX1yZXR1cm4gc31ycGNVbnN1YnNjcmliZShlLHQsaSl7Y29uc3Qgcz17bWV0aG9kOm9lKGkucHJvdG9jb2wpLnVuc3Vic2NyaWJlLHBhcmFtczp7dG9waWM6ZSxpZDp0fX07cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6c30pLHRoaXMucmVsYXllci5yZXF1ZXN0KHMpfW9uU3Vic2NyaWJlKGUsdCl7dGhpcy5zZXRTdWJzY3JpcHRpb24oZSxIZShnZSh7fSx0KSx7aWQ6ZX0pKSx0aGlzLnBlbmRpbmcuZGVsZXRlKHQudG9waWMpfW9uQmF0Y2hTdWJzY3JpYmUoZSl7ZS5sZW5ndGgmJmUuZm9yRWFjaCh0PT57dGhpcy5zZXRTdWJzY3JpcHRpb24odC5pZCxnZSh7fSx0KSksdGhpcy5wZW5kaW5nLmRlbGV0ZSh0LnRvcGljKX0pfWFzeW5jIG9uVW5zdWJzY3JpYmUoZSx0LGkpe3RoaXMuZXZlbnRzLnJlbW92ZUFsbExpc3RlbmVycyh0KSx0aGlzLmhhc1N1YnNjcmlwdGlvbih0LGUpJiZ0aGlzLmRlbGV0ZVN1YnNjcmlwdGlvbih0LGkpLGF3YWl0IHRoaXMucmVsYXllci5tZXNzYWdlcy5kZWwoZSl9YXN5bmMgc2V0UmVsYXllclN1YnNjcmlwdGlvbnMoZSl7YXdhaXQgdGhpcy5yZWxheWVyLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxlKX1hc3luYyBnZXRSZWxheWVyU3Vic2NyaXB0aW9ucygpe3JldHVybiBhd2FpdCB0aGlzLnJlbGF5ZXIuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1zZXRTdWJzY3JpcHRpb24oZSx0KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgc3Vic2NyaXB0aW9uXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic2V0U3Vic2NyaXB0aW9uXCIsaWQ6ZSxzdWJzY3JpcHRpb246dH0pLHRoaXMuYWRkU3Vic2NyaXB0aW9uKGUsdCl9YWRkU3Vic2NyaXB0aW9uKGUsdCl7dGhpcy5zdWJzY3JpcHRpb25zLnNldChlLGdlKHt9LHQpKSx0aGlzLnRvcGljTWFwLnNldCh0LnRvcGljLGUpLHRoaXMuZXZlbnRzLmVtaXQoJC5jcmVhdGVkLHQpfWdldFN1YnNjcmlwdGlvbihlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkdldHRpbmcgc3Vic2NyaXB0aW9uXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZ2V0U3Vic2NyaXB0aW9uXCIsaWQ6ZX0pO2NvbnN0IHQ9dGhpcy5zdWJzY3JpcHRpb25zLmdldChlKTtpZighdCl7Y29uc3R7bWVzc2FnZTppfT1tKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IG5ldyBFcnJvcihpKX1yZXR1cm4gdH1kZWxldGVTdWJzY3JpcHRpb24oZSx0KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRlbGV0aW5nIHN1YnNjcmlwdGlvblwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImRlbGV0ZVN1YnNjcmlwdGlvblwiLGlkOmUscmVhc29uOnR9KTtjb25zdCBpPXRoaXMuZ2V0U3Vic2NyaXB0aW9uKGUpO3RoaXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoZSksdGhpcy50b3BpY01hcC5kZWxldGUoaS50b3BpYyxlKSx0aGlzLmV2ZW50cy5lbWl0KCQuZGVsZXRlZCxIZShnZSh7fSxpKSx7cmVhc29uOnR9KSl9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0UmVsYXllclN1YnNjcmlwdGlvbnModGhpcy52YWx1ZXMpLHRoaXMuZXZlbnRzLmVtaXQoJC5zeW5jKX1hc3luYyBvblJlc3RhcnQoKXtpZih0aGlzLmNhY2hlZC5sZW5ndGgpe2NvbnN0IGU9Wy4uLnRoaXMuY2FjaGVkXSx0PU1hdGguY2VpbCh0aGlzLmNhY2hlZC5sZW5ndGgvdGhpcy5iYXRjaFN1YnNjcmliZVRvcGljc0xpbWl0KTtmb3IobGV0IGk9MDtpPHQ7aSsrKXtjb25zdCBzPWUuc3BsaWNlKDAsdGhpcy5iYXRjaFN1YnNjcmliZVRvcGljc0xpbWl0KTthd2FpdCB0aGlzLmJhdGNoU3Vic2NyaWJlKHMpfX10aGlzLmV2ZW50cy5lbWl0KCQucmVzdWJzY3JpYmVkKX1hc3luYyByZXN0b3JlKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5nZXRSZWxheWVyU3Vic2NyaXB0aW9ucygpO2lmKHR5cGVvZiBlPlwidVwifHwhZS5sZW5ndGgpcmV0dXJuO2lmKHRoaXMuc3Vic2NyaXB0aW9ucy5zaXplKXtjb25zdHttZXNzYWdlOnR9PW0oXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIix0aGlzLm5hbWUpO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQpLHRoaXMubG9nZ2VyLmVycm9yKGAke3RoaXMubmFtZX06ICR7SlNPTi5zdHJpbmdpZnkodGhpcy52YWx1ZXMpfWApLG5ldyBFcnJvcih0KX10aGlzLmNhY2hlZD1lLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgc3Vic2NyaXB0aW9ucyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJyZXN0b3JlXCIsc3Vic2NyaXB0aW9uczp0aGlzLnZhbHVlc30pfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSBzdWJzY3JpcHRpb25zIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihlKX19YXN5bmMgYmF0Y2hTdWJzY3JpYmUoZSl7ZS5sZW5ndGgmJihhd2FpdCB0aGlzLnJwY0JhdGNoU3Vic2NyaWJlKGUpLHRoaXMub25CYXRjaFN1YnNjcmliZShhd2FpdCBQcm9taXNlLmFsbChlLm1hcChhc3luYyB0PT5IZShnZSh7fSx0KSx7aWQ6YXdhaXQgdGhpcy5nZXRTdWJzY3JpcHRpb25JZCh0LnRvcGljKX0pKSkpKX1hc3luYyBiYXRjaEZldGNoTWVzc2FnZXMoZSl7aWYoIWUubGVuZ3RoKXJldHVybjt0aGlzLmxvZ2dlci50cmFjZShgRmV0Y2hpbmcgYmF0Y2ggbWVzc2FnZXMgZm9yICR7ZS5sZW5ndGh9IHN1YnNjcmlwdGlvbnNgKTtjb25zdCB0PWF3YWl0IHRoaXMucnBjQmF0Y2hGZXRjaE1lc3NhZ2VzKGUpO3QmJnQubWVzc2FnZXMmJihhd2FpdCB3cyhPKFopKSxhd2FpdCB0aGlzLnJlbGF5ZXIuaGFuZGxlQmF0Y2hNZXNzYWdlRXZlbnRzKHQubWVzc2FnZXMpKX1hc3luYyBvbkNvbm5lY3QoKXthd2FpdCB0aGlzLnJlc3RhcnQoKSx0aGlzLnJlc2V0KCl9b25EaXNjb25uZWN0KCl7dGhpcy5vbkRpc2FibGUoKX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09bShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX1hc3luYyByZXN0YXJ0VG9Db21wbGV0ZShlKXshdGhpcy5yZWxheWVyLmNvbm5lY3RlZCYmIXRoaXMucmVsYXllci5jb25uZWN0aW5nJiYodGhpcy5jYWNoZWQucHVzaChlKSxhd2FpdCB0aGlzLnJlbGF5ZXIudHJhbnNwb3J0T3BlbigpKX1hc3luYyBnZXRDbGllbnRJZCgpe3JldHVybiB0aGlzLmNsaWVudElkfHwodGhpcy5jbGllbnRJZD1hd2FpdCB0aGlzLnJlbGF5ZXIuY29yZS5jcnlwdG8uZ2V0Q2xpZW50SWQoKSksdGhpcy5jbGllbnRJZH1hc3luYyBnZXRTdWJzY3JpcHRpb25JZChlKXtyZXR1cm4gdmUoZSthd2FpdCB0aGlzLmdldENsaWVudElkKCkpfX12YXIgUW49T2JqZWN0LmRlZmluZVByb3BlcnR5LENpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZW89T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx0bz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFllPShyLGUsdCk9PmUgaW4gcj9RbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsUGk9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKWVvLmNhbGwoZSx0KSYmWWUocix0LGVbdF0pO2lmKENpKWZvcih2YXIgdCBvZiBDaShlKSl0by5jYWxsKGUsdCkmJlllKHIsdCxlW3RdKTtyZXR1cm4gcn0seT0ocixlLHQpPT5ZZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFNpIGV4dGVuZHMgZXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSkseSh0aGlzLFwicHJvdG9jb2xcIixcIndjXCIpLHkodGhpcyxcInZlcnNpb25cIiwyKSx5KHRoaXMsXCJjb3JlXCIpLHkodGhpcyxcImxvZ2dlclwiKSx5KHRoaXMsXCJldmVudHNcIixuZXcgZWUpLHkodGhpcyxcInByb3ZpZGVyXCIpLHkodGhpcyxcIm1lc3NhZ2VzXCIpLHkodGhpcyxcInN1YnNjcmliZXJcIikseSh0aGlzLFwicHVibGlzaGVyXCIpLHkodGhpcyxcIm5hbWVcIiwkdCkseSh0aGlzLFwidHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZFwiLCExKSx5KHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSx5KHRoaXMsXCJjb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3NcIiwhMSkseSh0aGlzLFwicmVsYXlVcmxcIikseSh0aGlzLFwicHJvamVjdElkXCIpLHkodGhpcyxcInBhY2thZ2VOYW1lXCIpLHkodGhpcyxcImJ1bmRsZUlkXCIpLHkodGhpcyxcImhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb25cIiwhMSkseSh0aGlzLFwicGluZ1RpbWVvdXRcIikseSh0aGlzLFwiaGVhcnRCZWF0VGltZW91dFwiLE8oU2UrUGUpKSx5KHRoaXMsXCJyZWNvbm5lY3RUaW1lb3V0XCIpLHkodGhpcyxcImNvbm5lY3RQcm9taXNlXCIpLHkodGhpcyxcInJlY29ubmVjdEluUHJvZ3Jlc3NcIiwhMSkseSh0aGlzLFwicmVxdWVzdHNJbkZsaWdodFwiLFtdKSx5KHRoaXMsXCJjb25uZWN0VGltZW91dFwiLE8oWioxNSkpLHkodGhpcyxcInJlcXVlc3RcIixhc3luYyB0PT57dmFyIGksczt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlB1Ymxpc2hpbmcgUmVxdWVzdCBQYXlsb2FkXCIpO2NvbnN0IG49dC5pZHx8bXQoKS50b1N0cmluZygpO2F3YWl0IHRoaXMudG9Fc3RhYmxpc2hDb25uZWN0aW9uKCk7dHJ5e3RoaXMubG9nZ2VyLnRyYWNlKHtpZDpuLG1ldGhvZDp0Lm1ldGhvZCx0b3BpYzooaT10LnBhcmFtcyk9PW51bGw/dm9pZCAwOmkudG9waWN9LFwicmVsYXllci5yZXF1ZXN0IC0gcHVibGlzaGluZy4uLlwiKTtjb25zdCBvPWAke259OiR7KChzPXQucGFyYW1zKT09bnVsbD92b2lkIDA6cy50YWcpfHxcIlwifWA7dGhpcy5yZXF1ZXN0c0luRmxpZ2h0LnB1c2gobyk7Y29uc3QgYT1hd2FpdCB0aGlzLnByb3ZpZGVyLnJlcXVlc3QodCk7cmV0dXJuIHRoaXMucmVxdWVzdHNJbkZsaWdodD10aGlzLnJlcXVlc3RzSW5GbGlnaHQuZmlsdGVyKGM9PmMhPT1vKSxhfWNhdGNoKG8pe3Rocm93IHRoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUHVibGlzaCBSZXF1ZXN0OiAke259YCksb319KSx5KHRoaXMsXCJyZXNldFBpbmdUaW1lb3V0XCIsKCk9Pnt1dCgpJiYoY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpLHRoaXMucGluZ1RpbWVvdXQ9c2V0VGltZW91dCgoKT0+e3ZhciB0LGkscyxuO3RyeXt0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxcInBpbmdUaW1lb3V0OiBDb25uZWN0aW9uIHN0YWxsZWQsIHRlcm1pbmF0aW5nLi4uXCIpLChuPShzPShpPSh0PXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDp0LmNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDppLnNvY2tldCk9PW51bGw/dm9pZCAwOnMudGVybWluYXRlKT09bnVsbHx8bi5jYWxsKHMpfWNhdGNoKG8pe3RoaXMubG9nZ2VyLndhcm4obyxvPy5tZXNzYWdlKX19LHRoaXMuaGVhcnRCZWF0VGltZW91dCkpfSkseSh0aGlzLFwib25QYXlsb2FkSGFuZGxlclwiLHQ9Pnt0aGlzLm9uUHJvdmlkZXJQYXlsb2FkKHQpLHRoaXMucmVzZXRQaW5nVGltZW91dCgpfSkseSh0aGlzLFwib25Db25uZWN0SGFuZGxlclwiLCgpPT57dGhpcy5sb2dnZXIud2Fybih7fSxcIlJlbGF5ZXIgY29ubmVjdGVkIFxcdXsxRjZEQ31cIiksdGhpcy5zdGFydFBpbmdUaW1lb3V0KCksdGhpcy5ldmVudHMuZW1pdChDLmNvbm5lY3QpfSkseSh0aGlzLFwib25EaXNjb25uZWN0SGFuZGxlclwiLCgpPT57dGhpcy5sb2dnZXIud2Fybih7fSxcIlJlbGF5ZXIgZGlzY29ubmVjdGVkIFxcdXsxRjZEMX1cIiksdGhpcy5yZXF1ZXN0c0luRmxpZ2h0PVtdLHRoaXMub25Qcm92aWRlckRpc2Nvbm5lY3QoKX0pLHkodGhpcyxcIm9uUHJvdmlkZXJFcnJvckhhbmRsZXJcIix0PT57dGhpcy5sb2dnZXIuZmF0YWwoYEZhdGFsIHNvY2tldCBlcnJvcjogJHt0Lm1lc3NhZ2V9YCksdGhpcy5ldmVudHMuZW1pdChDLmVycm9yLHQpLHRoaXMubG9nZ2VyLmZhdGFsKFwiRmF0YWwgc29ja2V0IGVycm9yIHJlY2VpdmVkLCBjbG9zaW5nIHRyYW5zcG9ydFwiKSx0aGlzLnRyYW5zcG9ydENsb3NlKCl9KSx5KHRoaXMsXCJyZWdpc3RlclByb3ZpZGVyTGlzdGVuZXJzXCIsKCk9Pnt0aGlzLnByb3ZpZGVyLm9uKEwucGF5bG9hZCx0aGlzLm9uUGF5bG9hZEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub24oTC5jb25uZWN0LHRoaXMub25Db25uZWN0SGFuZGxlciksdGhpcy5wcm92aWRlci5vbihMLmRpc2Nvbm5lY3QsdGhpcy5vbkRpc2Nvbm5lY3RIYW5kbGVyKSx0aGlzLnByb3ZpZGVyLm9uKEwuZXJyb3IsdGhpcy5vblByb3ZpZGVyRXJyb3JIYW5kbGVyKX0pLHRoaXMuY29yZT1lLmNvcmUsdGhpcy5sb2dnZXI9dHlwZW9mIGUubG9nZ2VyPFwidVwiJiZ0eXBlb2YgZS5sb2dnZXIhPVwic3RyaW5nXCI/TihlLmxvZ2dlcix0aGlzLm5hbWUpOllpKGV0KHtsZXZlbDplLmxvZ2dlcnx8TnR9KSksdGhpcy5tZXNzYWdlcz1uZXcgX2kodGhpcy5sb2dnZXIsZS5jb3JlKSx0aGlzLnN1YnNjcmliZXI9bmV3IFRpKHRoaXMsdGhpcy5sb2dnZXIpLHRoaXMucHVibGlzaGVyPW5ldyBWbih0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLnJlbGF5VXJsPWU/LnJlbGF5VXJsfHxVZSx0aGlzLnByb2plY3RJZD1lLnByb2plY3RJZCxfcygpP3RoaXMucGFja2FnZU5hbWU9aHQoKTpFcygpJiYodGhpcy5idW5kbGVJZD1odCgpKSx0aGlzLnByb3ZpZGVyPXt9fWFzeW5jIGluaXQoKXtpZih0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLm1lc3NhZ2VzLmluaXQoKSx0aGlzLnN1YnNjcmliZXIuaW5pdCgpXSksdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLnN1YnNjcmliZXIuaGFzQW55VG9waWNzKXRyeXthd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKX1jYXRjaChlKXt0aGlzLmxvZ2dlci53YXJuKGUsZT8ubWVzc2FnZSl9fWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWdldCBjb25uZWN0ZWQoKXt2YXIgZSx0LGk7cmV0dXJuKChpPSh0PShlPXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDplLmNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDp0LnNvY2tldCk9PW51bGw/dm9pZCAwOmkucmVhZHlTdGF0ZSk9PT0xfHwhMX1nZXQgY29ubmVjdGluZygpe3ZhciBlLHQsaTtyZXR1cm4oKGk9KHQ9KGU9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOmUuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnQuc29ja2V0KT09bnVsbD92b2lkIDA6aS5yZWFkeVN0YXRlKT09PTB8fHRoaXMuY29ubmVjdFByb21pc2UhPT12b2lkIDB8fCExfWFzeW5jIHB1Ymxpc2goZSx0LGkpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2goZSx0LGkpLGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KHt0b3BpYzplLG1lc3NhZ2U6dCxwdWJsaXNoZWRBdDpEYXRlLm5vdygpLHRyYW5zcG9ydFR5cGU6US5yZWxheX0sbGUub3V0Ym91bmQpfWFzeW5jIHN1YnNjcmliZShlLHQpe3ZhciBpLHMsbjt0aGlzLmlzSW5pdGlhbGl6ZWQoKSwoISh0IT1udWxsJiZ0LnRyYW5zcG9ydFR5cGUpfHx0Py50cmFuc3BvcnRUeXBlPT09XCJyZWxheVwiKSYmYXdhaXQgdGhpcy50b0VzdGFibGlzaENvbm5lY3Rpb24oKTtjb25zdCBvPXR5cGVvZigoaT10Py5pbnRlcm5hbCk9PW51bGw/dm9pZCAwOmkudGhyb3dPbkZhaWxlZFB1Ymxpc2gpPlwidVwiPyEwOihzPXQ/LmludGVybmFsKT09bnVsbD92b2lkIDA6cy50aHJvd09uRmFpbGVkUHVibGlzaDtsZXQgYT0oKG49dGhpcy5zdWJzY3JpYmVyLnRvcGljTWFwLmdldChlKSk9PW51bGw/dm9pZCAwOm5bMF0pfHxcIlwiLGM7Y29uc3QgaD1sPT57bC50b3BpYz09PWUmJih0aGlzLnN1YnNjcmliZXIub2ZmKCQuY3JlYXRlZCxoKSxjKCkpfTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwoW25ldyBQcm9taXNlKGw9PntjPWwsdGhpcy5zdWJzY3JpYmVyLm9uKCQuY3JlYXRlZCxoKX0pLG5ldyBQcm9taXNlKGFzeW5jKGwsZCk9PnthPWF3YWl0IHRoaXMuc3Vic2NyaWJlci5zdWJzY3JpYmUoZSxQaSh7aW50ZXJuYWw6e3Rocm93T25GYWlsZWRQdWJsaXNoOm99fSx0KSkuY2F0Y2goZz0+e28mJmQoZyl9KXx8YSxsKCl9KV0pLGF9YXN5bmMgdW5zdWJzY3JpYmUoZSx0KXt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLnN1YnNjcmliZXIudW5zdWJzY3JpYmUoZSx0KX1vbihlLHQpe3RoaXMuZXZlbnRzLm9uKGUsdCl9b25jZShlLHQpe3RoaXMuZXZlbnRzLm9uY2UoZSx0KX1vZmYoZSx0KXt0aGlzLmV2ZW50cy5vZmYoZSx0KX1yZW1vdmVMaXN0ZW5lcihlLHQpe3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGUsdCl9YXN5bmMgdHJhbnNwb3J0RGlzY29ubmVjdCgpe3RoaXMucHJvdmlkZXIuZGlzY29ubmVjdCYmKHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbnx8dGhpcy5jb25uZWN0ZWQpP2F3YWl0IFgodGhpcy5wcm92aWRlci5kaXNjb25uZWN0KCksMmUzLFwicHJvdmlkZXIuZGlzY29ubmVjdCgpXCIpLmNhdGNoKCgpPT50aGlzLm9uUHJvdmlkZXJEaXNjb25uZWN0KCkpOnRoaXMub25Qcm92aWRlckRpc2Nvbm5lY3QoKX1hc3luYyB0cmFuc3BvcnRDbG9zZSgpe3RoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZD0hMCxhd2FpdCB0aGlzLnRyYW5zcG9ydERpc2Nvbm5lY3QoKX1hc3luYyB0cmFuc3BvcnRPcGVuKGUpe2lmKCF0aGlzLnN1YnNjcmliZXIuaGFzQW55VG9waWNzKXt0aGlzLmxvZ2dlci53YXJuKFwiU3RhcnRpbmcgV1MgY29ubmVjdGlvbiBza2lwcGVkIGJlY2F1c2UgdGhlIGNsaWVudCBoYXMgbm8gdG9waWNzIHRvIHdvcmsgd2l0aC5cIik7cmV0dXJufWlmKHRoaXMuY29ubmVjdFByb21pc2U/KHRoaXMubG9nZ2VyLmRlYnVnKHt9LFwiV2FpdGluZyBmb3IgZXhpc3RpbmcgY29ubmVjdGlvbiBhdHRlbXB0IHRvIHJlc29sdmUuLi5cIiksYXdhaXQgdGhpcy5jb25uZWN0UHJvbWlzZSx0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxcIkV4aXN0aW5nIGNvbm5lY3Rpb24gYXR0ZW1wdCByZXNvbHZlZFwiKSk6KHRoaXMuY29ubmVjdFByb21pc2U9bmV3IFByb21pc2UoYXN5bmModCxpKT0+e2F3YWl0IHRoaXMuY29ubmVjdChlKS50aGVuKHQpLmNhdGNoKGkpLmZpbmFsbHkoKCk9Pnt0aGlzLmNvbm5lY3RQcm9taXNlPXZvaWQgMH0pfSksYXdhaXQgdGhpcy5jb25uZWN0UHJvbWlzZSksIXRoaXMuY29ubmVjdGVkKXRocm93IG5ldyBFcnJvcihgQ291bGRuJ3QgZXN0YWJsaXNoIHNvY2tldCBjb25uZWN0aW9uIHRvIHRoZSByZWxheSBzZXJ2ZXI6ICR7dGhpcy5yZWxheVVybH1gKX1hc3luYyByZXN0YXJ0VHJhbnNwb3J0KGUpe3RoaXMubG9nZ2VyLmRlYnVnKHt9LFwiUmVzdGFydGluZyB0cmFuc3BvcnQuLi5cIiksIXRoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzJiYodGhpcy5yZWxheVVybD1lfHx0aGlzLnJlbGF5VXJsLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLGF3YWl0IHRoaXMudHJhbnNwb3J0Q2xvc2UoKSxhd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKSl9YXN5bmMgY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpe2lmKCFhd2FpdCBsdCgpKXRocm93IG5ldyBFcnJvcihcIk5vIGludGVybmV0IGNvbm5lY3Rpb24gZGV0ZWN0ZWQuIFBsZWFzZSByZXN0YXJ0IHlvdXIgbmV0d29yayBhbmQgdHJ5IGFnYWluLlwiKX1hc3luYyBoYW5kbGVCYXRjaE1lc3NhZ2VFdmVudHMoZSl7aWYoZT8ubGVuZ3RoPT09MCl7dGhpcy5sb2dnZXIudHJhY2UoXCJCYXRjaCBtZXNzYWdlIGV2ZW50cyBpcyBlbXB0eS4gSWdub3JpbmcuLi5cIik7cmV0dXJufWNvbnN0IHQ9ZS5zb3J0KChpLHMpPT5pLnB1Ymxpc2hlZEF0LXMucHVibGlzaGVkQXQpO3RoaXMubG9nZ2VyLmRlYnVnKGBCYXRjaCBvZiAke3QubGVuZ3RofSBtZXNzYWdlIGV2ZW50cyBzb3J0ZWRgKTtmb3IoY29uc3QgaSBvZiB0KXRyeXthd2FpdCB0aGlzLm9uTWVzc2FnZUV2ZW50KGkpfWNhdGNoKHMpe3RoaXMubG9nZ2VyLndhcm4ocyxcIkVycm9yIHdoaWxlIHByb2Nlc3NpbmcgYmF0Y2ggbWVzc2FnZSBldmVudDogXCIrcz8ubWVzc2FnZSl9dGhpcy5sb2dnZXIudHJhY2UoYEJhdGNoIG9mICR7dC5sZW5ndGh9IG1lc3NhZ2UgZXZlbnRzIHByb2Nlc3NlZGApfWFzeW5jIG9uTGlua01lc3NhZ2VFdmVudChlLHQpe2NvbnN0e3RvcGljOml9PWU7aWYoIXQuc2Vzc2lvbkV4aXN0cyl7Y29uc3Qgcz1jZShmZSksbj17dG9waWM6aSxleHBpcnk6cyxyZWxheTp7cHJvdG9jb2w6XCJpcm5cIn0sYWN0aXZlOiExfTthd2FpdCB0aGlzLmNvcmUucGFpcmluZy5wYWlyaW5ncy5zZXQoaSxuKX10aGlzLmV2ZW50cy5lbWl0KEMubWVzc2FnZSxlKSxhd2FpdCB0aGlzLnJlY29yZE1lc3NhZ2VFdmVudChlLGxlLmluYm91bmQpfWFzeW5jIGNvbm5lY3QoZSl7YXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksZSYmZSE9PXRoaXMucmVsYXlVcmwmJih0aGlzLnJlbGF5VXJsPWUsYXdhaXQgdGhpcy50cmFuc3BvcnREaXNjb25uZWN0KCkpLHRoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzPSEwLHRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZD0hMTtsZXQgdD0xO2Zvcig7dDw2Oyl7dHJ5e2lmKHRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZClicmVhazt0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxgQ29ubmVjdGluZyB0byAke3RoaXMucmVsYXlVcmx9LCBhdHRlbXB0OiAke3R9Li4uYCksYXdhaXQgdGhpcy5jcmVhdGVQcm92aWRlcigpLGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jKGkscyk9Pntjb25zdCBuPSgpPT57cyhuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGludGVycnVwdGVkIHdoaWxlIHRyeWluZyB0byBzdWJzY3JpYmVcIikpfTt0aGlzLnByb3ZpZGVyLm9uY2UoTC5kaXNjb25uZWN0LG4pLGF3YWl0IFgobmV3IFByb21pc2UoKG8sYSk9Pnt0aGlzLnByb3ZpZGVyLmNvbm5lY3QoKS50aGVuKG8pLmNhdGNoKGEpfSksdGhpcy5jb25uZWN0VGltZW91dCxgU29ja2V0IHN0YWxsZWQgd2hlbiB0cnlpbmcgdG8gY29ubmVjdCB0byAke3RoaXMucmVsYXlVcmx9YCkuY2F0Y2gobz0+e3Mobyl9KS5maW5hbGx5KCgpPT57dGhpcy5wcm92aWRlci5vZmYoTC5kaXNjb25uZWN0LG4pLGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVvdXQpfSksYXdhaXQgbmV3IFByb21pc2UoYXN5bmMobyxhKT0+e2NvbnN0IGM9KCk9PnthKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gaW50ZXJydXB0ZWQgd2hpbGUgdHJ5aW5nIHRvIHN1YnNjcmliZVwiKSl9O3RoaXMucHJvdmlkZXIub25jZShMLmRpc2Nvbm5lY3QsYyksYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0YXJ0KCkudGhlbihvKS5jYXRjaChhKS5maW5hbGx5KCgpPT57dGhpcy5wcm92aWRlci5vZmYoTC5kaXNjb25uZWN0LGMpfSl9KSx0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb249ITEsaSgpfSl9Y2F0Y2goaSl7YXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0b3AoKTtjb25zdCBzPWk7dGhpcy5sb2dnZXIud2Fybih7fSxzLm1lc3NhZ2UpLHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbj0hMH1maW5hbGx5e3RoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzPSExfWlmKHRoaXMuY29ubmVjdGVkKXt0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxgQ29ubmVjdGVkIHRvICR7dGhpcy5yZWxheVVybH0gc3VjY2Vzc2Z1bGx5IG9uIGF0dGVtcHQ6ICR7dH1gKTticmVha31hd2FpdCBuZXcgUHJvbWlzZShpPT5zZXRUaW1lb3V0KGksTyh0KjEpKSksdCsrfX1zdGFydFBpbmdUaW1lb3V0KCl7dmFyIGUsdCxpLHMsbjtpZih1dCgpKXRyeXsodD0oZT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6ZS5jb25uZWN0aW9uKSE9bnVsbCYmdC5zb2NrZXQmJigobj0ocz0oaT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6aS5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6cy5zb2NrZXQpPT1udWxsfHxuLm9uKFwicGluZ1wiLCgpPT57dGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9KSksdGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9Y2F0Y2gobyl7dGhpcy5sb2dnZXIud2FybihvLG8/Lm1lc3NhZ2UpfX1hc3luYyBjcmVhdGVQcm92aWRlcigpe3RoaXMucHJvdmlkZXIuY29ubmVjdGlvbiYmdGhpcy51bnJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnMoKTtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2lnbkpXVCh0aGlzLnJlbGF5VXJsKTt0aGlzLnByb3ZpZGVyPW5ldyBGcyhuZXcgQnMoSXMoe3Nka1ZlcnNpb246X2UscHJvdG9jb2w6dGhpcy5wcm90b2NvbCx2ZXJzaW9uOnRoaXMudmVyc2lvbixyZWxheVVybDp0aGlzLnJlbGF5VXJsLHByb2plY3RJZDp0aGlzLnByb2plY3RJZCxhdXRoOmUsdXNlT25DbG9zZUV2ZW50OiEwLGJ1bmRsZUlkOnRoaXMuYnVuZGxlSWQscGFja2FnZU5hbWU6dGhpcy5wYWNrYWdlTmFtZX0pKSksdGhpcy5yZWdpc3RlclByb3ZpZGVyTGlzdGVuZXJzKCl9YXN5bmMgcmVjb3JkTWVzc2FnZUV2ZW50KGUsdCl7Y29uc3R7dG9waWM6aSxtZXNzYWdlOnN9PWU7YXdhaXQgdGhpcy5tZXNzYWdlcy5zZXQoaSxzLHQpfWFzeW5jIHNob3VsZElnbm9yZU1lc3NhZ2VFdmVudChlKXtjb25zdHt0b3BpYzp0LG1lc3NhZ2U6aX09ZTtpZighaXx8aS5sZW5ndGg9PT0wKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBpbnZhbGlkL2VtcHR5IG1lc3NhZ2U6ICR7aX1gKSwhMDtpZighYXdhaXQgdGhpcy5zdWJzY3JpYmVyLmlzS25vd25Ub3BpYyh0KSlyZXR1cm4gdGhpcy5sb2dnZXIud2FybihgSWdub3JpbmcgbWVzc2FnZSBmb3IgdW5rbm93biB0b3BpYyAke3R9YCksITA7Y29uc3Qgcz10aGlzLm1lc3NhZ2VzLmhhcyh0LGkpO3JldHVybiBzJiZ0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBkdXBsaWNhdGUgbWVzc2FnZTogJHtpfWApLHN9YXN5bmMgb25Qcm92aWRlclBheWxvYWQoZSl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJJbmNvbWluZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcImluY29taW5nXCIscGF5bG9hZDplfSksZnQoZSkpe2lmKCFlLm1ldGhvZC5lbmRzV2l0aCh6dCkpcmV0dXJuO2NvbnN0IHQ9ZS5wYXJhbXMse3RvcGljOmksbWVzc2FnZTpzLHB1Ymxpc2hlZEF0Om4sYXR0ZXN0YXRpb246b309dC5kYXRhLGE9e3RvcGljOmksbWVzc2FnZTpzLHB1Ymxpc2hlZEF0Om4sdHJhbnNwb3J0VHlwZTpRLnJlbGF5LGF0dGVzdGF0aW9uOm99O3RoaXMubG9nZ2VyLmRlYnVnKFwiRW1pdHRpbmcgUmVsYXllciBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKFBpKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LmlkfSxhKSksdGhpcy5ldmVudHMuZW1pdCh0LmlkLGEpLGF3YWl0IHRoaXMuYWNrbm93bGVkZ2VQYXlsb2FkKGUpLGF3YWl0IHRoaXMub25NZXNzYWdlRXZlbnQoYSl9ZWxzZSBEdChlKSYmdGhpcy5ldmVudHMuZW1pdChDLm1lc3NhZ2VfYWNrLGUpfWFzeW5jIG9uTWVzc2FnZUV2ZW50KGUpe2F3YWl0IHRoaXMuc2hvdWxkSWdub3JlTWVzc2FnZUV2ZW50KGUpfHwoYXdhaXQgdGhpcy5yZWNvcmRNZXNzYWdlRXZlbnQoZSxsZS5pbmJvdW5kKSx0aGlzLmV2ZW50cy5lbWl0KEMubWVzc2FnZSxlKSl9YXN5bmMgYWNrbm93bGVkZ2VQYXlsb2FkKGUpe2NvbnN0IHQ9dnQoZS5pZCwhMCk7YXdhaXQgdGhpcy5wcm92aWRlci5jb25uZWN0aW9uLnNlbmQodCl9dW5yZWdpc3RlclByb3ZpZGVyTGlzdGVuZXJzKCl7dGhpcy5wcm92aWRlci5vZmYoTC5wYXlsb2FkLHRoaXMub25QYXlsb2FkSGFuZGxlciksdGhpcy5wcm92aWRlci5vZmYoTC5jb25uZWN0LHRoaXMub25Db25uZWN0SGFuZGxlciksdGhpcy5wcm92aWRlci5vZmYoTC5kaXNjb25uZWN0LHRoaXMub25EaXNjb25uZWN0SGFuZGxlciksdGhpcy5wcm92aWRlci5vZmYoTC5lcnJvcix0aGlzLm9uUHJvdmlkZXJFcnJvckhhbmRsZXIpLGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0KX1hc3luYyByZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7bGV0IGU9YXdhaXQgbHQoKTtUcyhhc3luYyB0PT57ZSE9PXQmJihlPXQsdD9hd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKS5jYXRjaChpPT50aGlzLmxvZ2dlci5lcnJvcihpLGk/Lm1lc3NhZ2UpKToodGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uPSEwLGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpLHRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZD0hMSkpfSl9YXN5bmMgb25Qcm92aWRlckRpc2Nvbm5lY3QoKXtjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCksdGhpcy5ldmVudHMuZW1pdChDLmRpc2Nvbm5lY3QpLHRoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzPSExLCF0aGlzLnJlY29ubmVjdEluUHJvZ3Jlc3MmJih0aGlzLnJlY29ubmVjdEluUHJvZ3Jlc3M9ITAsYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0b3AoKSx0aGlzLnN1YnNjcmliZXIuaGFzQW55VG9waWNzJiYodGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkfHwodGhpcy5yZWNvbm5lY3RUaW1lb3V0PXNldFRpbWVvdXQoYXN5bmMoKT0+e2F3YWl0IHRoaXMudHJhbnNwb3J0T3BlbigpLmNhdGNoKGU9PnRoaXMubG9nZ2VyLmVycm9yKGUsZT8ubWVzc2FnZSkpLHRoaXMucmVjb25uZWN0VGltZW91dD12b2lkIDAsdGhpcy5yZWNvbm5lY3RJblByb2dyZXNzPSExfSxPKEx0KSkpKSl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgdG9Fc3RhYmxpc2hDb25uZWN0aW9uKCl7YXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksIXRoaXMuY29ubmVjdGVkJiZhd2FpdCB0aGlzLmNvbm5lY3QoKX19ZnVuY3Rpb24gaW8oKXt9ZnVuY3Rpb24gUmkocil7aWYoIXJ8fHR5cGVvZiByIT1cIm9iamVjdFwiKXJldHVybiExO2NvbnN0IGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpO3JldHVybiBlPT09bnVsbHx8ZT09PU9iamVjdC5wcm90b3R5cGV8fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKT09PW51bGw/T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpPT09XCJbb2JqZWN0IE9iamVjdF1cIjohMX1mdW5jdGlvbiBPaShyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhyKS5maWx0ZXIoZT0+T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHIsZSkpfWZ1bmN0aW9uIEFpKHIpe3JldHVybiByPT1udWxsP3I9PT12b2lkIDA/XCJbb2JqZWN0IFVuZGVmaW5lZF1cIjpcIltvYmplY3QgTnVsbF1cIjpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocil9Y29uc3Qgc289XCJbb2JqZWN0IFJlZ0V4cF1cIixybz1cIltvYmplY3QgU3RyaW5nXVwiLG5vPVwiW29iamVjdCBOdW1iZXJdXCIsb289XCJbb2JqZWN0IEJvb2xlYW5dXCIseGk9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixhbz1cIltvYmplY3QgU3ltYm9sXVwiLGNvPVwiW29iamVjdCBEYXRlXVwiLGhvPVwiW29iamVjdCBNYXBdXCIsbG89XCJbb2JqZWN0IFNldF1cIix1bz1cIltvYmplY3QgQXJyYXldXCIsZ289XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLHBvPVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIixKZT1cIltvYmplY3QgT2JqZWN0XVwiLHlvPVwiW29iamVjdCBFcnJvcl1cIixibz1cIltvYmplY3QgRGF0YVZpZXddXCIsbW89XCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsZm89XCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiLERvPVwiW29iamVjdCBVaW50MTZBcnJheV1cIix2bz1cIltvYmplY3QgVWludDMyQXJyYXldXCIsd289XCJbb2JqZWN0IEJpZ1VpbnQ2NEFycmF5XVwiLF9vPVwiW29iamVjdCBJbnQ4QXJyYXldXCIsRW89XCJbb2JqZWN0IEludDE2QXJyYXldXCIsSW89XCJbb2JqZWN0IEludDMyQXJyYXldXCIsVG89XCJbb2JqZWN0IEJpZ0ludDY0QXJyYXldXCIsQ289XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixQbz1cIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiO2Z1bmN0aW9uIFNvKHIsZSl7cmV0dXJuIHI9PT1lfHxOdW1iZXIuaXNOYU4ocikmJk51bWJlci5pc05hTihlKX1mdW5jdGlvbiBSbyhyLGUsdCl7cmV0dXJuIHBlKHIsZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdCl9ZnVuY3Rpb24gcGUocixlLHQsaSxzLG4sbyl7Y29uc3QgYT1vKHIsZSx0LGkscyxuKTtpZihhIT09dm9pZCAwKXJldHVybiBhO2lmKHR5cGVvZiByPT10eXBlb2YgZSlzd2l0Y2godHlwZW9mIHIpe2Nhc2VcImJpZ2ludFwiOmNhc2VcInN0cmluZ1wiOmNhc2VcImJvb2xlYW5cIjpjYXNlXCJzeW1ib2xcIjpjYXNlXCJ1bmRlZmluZWRcIjpyZXR1cm4gcj09PWU7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIHI9PT1lfHxPYmplY3QuaXMocixlKTtjYXNlXCJmdW5jdGlvblwiOnJldHVybiByPT09ZTtjYXNlXCJvYmplY3RcIjpyZXR1cm4geWUocixlLG4sbyl9cmV0dXJuIHllKHIsZSxuLG8pfWZ1bmN0aW9uIHllKHIsZSx0LGkpe2lmKE9iamVjdC5pcyhyLGUpKXJldHVybiEwO2xldCBzPUFpKHIpLG49QWkoZSk7aWYocz09PXhpJiYocz1KZSksbj09PXhpJiYobj1KZSkscyE9PW4pcmV0dXJuITE7c3dpdGNoKHMpe2Nhc2Ugcm86cmV0dXJuIHIudG9TdHJpbmcoKT09PWUudG9TdHJpbmcoKTtjYXNlIG5vOntjb25zdCBjPXIudmFsdWVPZigpLGg9ZS52YWx1ZU9mKCk7cmV0dXJuIFNvKGMsaCl9Y2FzZSBvbzpjYXNlIGNvOmNhc2UgYW86cmV0dXJuIE9iamVjdC5pcyhyLnZhbHVlT2YoKSxlLnZhbHVlT2YoKSk7Y2FzZSBzbzpyZXR1cm4gci5zb3VyY2U9PT1lLnNvdXJjZSYmci5mbGFncz09PWUuZmxhZ3M7Y2FzZSBnbzpyZXR1cm4gcj09PWV9dD10Pz9uZXcgTWFwO2NvbnN0IG89dC5nZXQociksYT10LmdldChlKTtpZihvIT1udWxsJiZhIT1udWxsKXJldHVybiBvPT09ZTt0LnNldChyLGUpLHQuc2V0KGUscik7dHJ5e3N3aXRjaChzKXtjYXNlIGhvOntpZihyLnNpemUhPT1lLnNpemUpcmV0dXJuITE7Zm9yKGNvbnN0W2MsaF1vZiByLmVudHJpZXMoKSlpZighZS5oYXMoYyl8fCFwZShoLGUuZ2V0KGMpLGMscixlLHQsaSkpcmV0dXJuITE7cmV0dXJuITB9Y2FzZSBsbzp7aWYoci5zaXplIT09ZS5zaXplKXJldHVybiExO2NvbnN0IGM9QXJyYXkuZnJvbShyLnZhbHVlcygpKSxoPUFycmF5LmZyb20oZS52YWx1ZXMoKSk7Zm9yKGxldCBsPTA7bDxjLmxlbmd0aDtsKyspe2NvbnN0IGQ9Y1tsXSxnPWguZmluZEluZGV4KF89PnBlKGQsXyx2b2lkIDAscixlLHQsaSkpO2lmKGc9PT0tMSlyZXR1cm4hMTtoLnNwbGljZShnLDEpfXJldHVybiEwfWNhc2UgdW86Y2FzZSBtbzpjYXNlIGZvOmNhc2UgRG86Y2FzZSB2bzpjYXNlIHdvOmNhc2UgX286Y2FzZSBFbzpjYXNlIElvOmNhc2UgVG86Y2FzZSBDbzpjYXNlIFBvOntpZih0eXBlb2YgQnVmZmVyPFwidVwiJiZCdWZmZXIuaXNCdWZmZXIocikhPT1CdWZmZXIuaXNCdWZmZXIoZSl8fHIubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBjPTA7YzxyLmxlbmd0aDtjKyspaWYoIXBlKHJbY10sZVtjXSxjLHIsZSx0LGkpKXJldHVybiExO3JldHVybiEwfWNhc2UgcG86cmV0dXJuIHIuYnl0ZUxlbmd0aCE9PWUuYnl0ZUxlbmd0aD8hMTp5ZShuZXcgVWludDhBcnJheShyKSxuZXcgVWludDhBcnJheShlKSx0LGkpO2Nhc2UgYm86cmV0dXJuIHIuYnl0ZUxlbmd0aCE9PWUuYnl0ZUxlbmd0aHx8ci5ieXRlT2Zmc2V0IT09ZS5ieXRlT2Zmc2V0PyExOnllKG5ldyBVaW50OEFycmF5KHIpLG5ldyBVaW50OEFycmF5KGUpLHQsaSk7Y2FzZSB5bzpyZXR1cm4gci5uYW1lPT09ZS5uYW1lJiZyLm1lc3NhZ2U9PT1lLm1lc3NhZ2U7Y2FzZSBKZTp7aWYoISh5ZShyLmNvbnN0cnVjdG9yLGUuY29uc3RydWN0b3IsdCxpKXx8UmkocikmJlJpKGUpKSlyZXR1cm4hMTtjb25zdCBoPVsuLi5PYmplY3Qua2V5cyhyKSwuLi5PaShyKV0sbD1bLi4uT2JqZWN0LmtleXMoZSksLi4uT2koZSldO2lmKGgubGVuZ3RoIT09bC5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBkPTA7ZDxoLmxlbmd0aDtkKyspe2NvbnN0IGc9aFtkXSxfPXJbZ107aWYoIU9iamVjdC5oYXNPd24oZSxnKSlyZXR1cm4hMTtjb25zdCB1PWVbZ107aWYoIXBlKF8sdSxnLHIsZSx0LGkpKXJldHVybiExfXJldHVybiEwfWRlZmF1bHQ6cmV0dXJuITF9fWZpbmFsbHl7dC5kZWxldGUociksdC5kZWxldGUoZSl9fWZ1bmN0aW9uIE9vKHIsZSl7cmV0dXJuIFJvKHIsZSxpbyl9dmFyIEFvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxOaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHhvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksTm89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxYZT0ocixlLHQpPT5lIGluIHI/QW8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LCRpPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSl4by5jYWxsKGUsdCkmJlhlKHIsdCxlW3RdKTtpZihOaSlmb3IodmFyIHQgb2YgTmkoZSkpTm8uY2FsbChlLHQpJiZYZShyLHQsZVt0XSk7cmV0dXJuIHJ9LHo9KHIsZSx0KT0+WGUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyB6aSBleHRlbmRzIHRze2NvbnN0cnVjdG9yKGUsdCxpLHM9QixuPXZvaWQgMCl7c3VwZXIoZSx0LGkscyksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCx0aGlzLm5hbWU9aSx6KHRoaXMsXCJtYXBcIixuZXcgTWFwKSx6KHRoaXMsXCJ2ZXJzaW9uXCIsa3QpLHoodGhpcyxcImNhY2hlZFwiLFtdKSx6KHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSx6KHRoaXMsXCJnZXRLZXlcIikseih0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLHoodGhpcyxcInJlY2VudGx5RGVsZXRlZFwiLFtdKSx6KHRoaXMsXCJyZWNlbnRseURlbGV0ZWRMaW1pdFwiLDIwMCkseih0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSxhd2FpdCB0aGlzLnJlc3RvcmUoKSx0aGlzLmNhY2hlZC5mb3JFYWNoKG89Pnt0aGlzLmdldEtleSYmbyE9PW51bGwmJiF4ZShvKT90aGlzLm1hcC5zZXQodGhpcy5nZXRLZXkobyksbyk6Q3Mobyk/dGhpcy5tYXAuc2V0KG8uaWQsbyk6UHMobykmJnRoaXMubWFwLnNldChvLnRvcGljLG8pfSksdGhpcy5jYWNoZWQ9W10sdGhpcy5pbml0aWFsaXplZD0hMCl9KSx6KHRoaXMsXCJzZXRcIixhc3luYyhvLGEpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5tYXAuaGFzKG8pP2F3YWl0IHRoaXMudXBkYXRlKG8sYSk6KHRoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyB2YWx1ZVwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInNldFwiLGtleTpvLHZhbHVlOmF9KSx0aGlzLm1hcC5zZXQobyxhKSxhd2FpdCB0aGlzLnBlcnNpc3QoKSl9KSx6KHRoaXMsXCJnZXRcIixvPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJHZXR0aW5nIHZhbHVlXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZ2V0XCIsa2V5Om99KSx0aGlzLmdldERhdGEobykpKSx6KHRoaXMsXCJnZXRBbGxcIixvPT4odGhpcy5pc0luaXRpYWxpemVkKCksbz90aGlzLnZhbHVlcy5maWx0ZXIoYT0+T2JqZWN0LmtleXMobykuZXZlcnkoYz0+T28oYVtjXSxvW2NdKSkpOnRoaXMudmFsdWVzKSkseih0aGlzLFwidXBkYXRlXCIsYXN5bmMobyxhKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiVXBkYXRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1cGRhdGVcIixrZXk6byx1cGRhdGU6YX0pO2NvbnN0IGM9JGkoJGkoe30sdGhpcy5nZXREYXRhKG8pKSxhKTt0aGlzLm1hcC5zZXQobyxjKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLHoodGhpcyxcImRlbGV0ZVwiLGFzeW5jKG8sYSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLm1hcC5oYXMobykmJih0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRlbGV0aW5nIHZhbHVlXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZGVsZXRlXCIsa2V5Om8scmVhc29uOmF9KSx0aGlzLm1hcC5kZWxldGUobyksdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZChvKSxhd2FpdCB0aGlzLnBlcnNpc3QoKSl9KSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5uYW1lKSx0aGlzLnN0b3JhZ2VQcmVmaXg9cyx0aGlzLmdldEtleT1ufWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMubWFwLnNpemV9Z2V0IGtleXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLm1hcC5rZXlzKCkpfWdldCB2YWx1ZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLm1hcC52YWx1ZXMoKSl9YWRkVG9SZWNlbnRseURlbGV0ZWQoZSl7dGhpcy5yZWNlbnRseURlbGV0ZWQucHVzaChlKSx0aGlzLnJlY2VudGx5RGVsZXRlZC5sZW5ndGg+PXRoaXMucmVjZW50bHlEZWxldGVkTGltaXQmJnRoaXMucmVjZW50bHlEZWxldGVkLnNwbGljZSgwLHRoaXMucmVjZW50bHlEZWxldGVkTGltaXQvMil9YXN5bmMgc2V0RGF0YVN0b3JlKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldERhdGFTdG9yZSgpe3JldHVybiBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl9Z2V0RGF0YShlKXtjb25zdCB0PXRoaXMubWFwLmdldChlKTtpZighdCl7aWYodGhpcy5yZWNlbnRseURlbGV0ZWQuaW5jbHVkZXMoZSkpe2NvbnN0e21lc3NhZ2U6c309bShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBSZWNvcmQgd2FzIHJlY2VudGx5IGRlbGV0ZWQgLSAke3RoaXMubmFtZX06ICR7ZX1gKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzKSxuZXcgRXJyb3Iocyl9Y29uc3R7bWVzc2FnZTppfT1tKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKGkpLG5ldyBFcnJvcihpKX1yZXR1cm4gdH1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXREYXRhU3RvcmUodGhpcy52YWx1ZXMpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldERhdGFTdG9yZSgpO2lmKHR5cGVvZiBlPlwidVwifHwhZS5sZW5ndGgpcmV0dXJuO2lmKHRoaXMubWFwLnNpemUpe2NvbnN0e21lc3NhZ2U6dH09bShcIlJFU1RPUkVfV0lMTF9PVkVSUklERVwiLHRoaXMubmFtZSk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksbmV3IEVycm9yKHQpfXRoaXMuY2FjaGVkPWUsdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCB2YWx1ZSBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJyZXN0b3JlXCIsdmFsdWU6dGhpcy52YWx1ZXN9KX1jYXRjaChlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgdmFsdWUgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGUpfX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09bShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyICRvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx6bz0ocixlLHQpPT5lIGluIHI/JG8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LHA9KHIsZSx0KT0+em8ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBMaXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQscCh0aGlzLFwibmFtZVwiLE10KSxwKHRoaXMsXCJ2ZXJzaW9uXCIsS3QpLHAodGhpcyxcImV2ZW50c1wiLG5ldyBHaSkscCh0aGlzLFwicGFpcmluZ3NcIikscCh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSkscCh0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLHAodGhpcyxcImlnbm9yZWRQYXlsb2FkVHlwZXNcIixbUnNdKSxwKHRoaXMsXCJyZWdpc3RlcmVkTWV0aG9kc1wiLFtdKSxwKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fChhd2FpdCB0aGlzLnBhaXJpbmdzLmluaXQoKSxhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLnJlZ2lzdGVyUmVsYXllckV2ZW50cygpLHRoaXMucmVnaXN0ZXJFeHBpcmVyRXZlbnRzKCksdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpKX0pLHAodGhpcyxcInJlZ2lzdGVyXCIsKHttZXRob2RzOml9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMucmVnaXN0ZXJlZE1ldGhvZHM9Wy4uLm5ldyBTZXQoWy4uLnRoaXMucmVnaXN0ZXJlZE1ldGhvZHMsLi4uaV0pXX0pLHAodGhpcyxcImNyZWF0ZVwiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPUFlKCksbj1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLnNldFN5bUtleShzKSxvPWNlKGZlKSxhPXtwcm90b2NvbDp4dH0sYz17dG9waWM6bixleHBpcnk6byxyZWxheTphLGFjdGl2ZTohMSxtZXRob2RzOmk/Lm1ldGhvZHN9LGg9ZHQoe3Byb3RvY29sOnRoaXMuY29yZS5wcm90b2NvbCx2ZXJzaW9uOnRoaXMuY29yZS52ZXJzaW9uLHRvcGljOm4sc3ltS2V5OnMscmVsYXk6YSxleHBpcnlUaW1lc3RhbXA6byxtZXRob2RzOmk/Lm1ldGhvZHN9KTtyZXR1cm4gdGhpcy5ldmVudHMuZW1pdChzZS5jcmVhdGUsYyksdGhpcy5jb3JlLmV4cGlyZXIuc2V0KG4sbyksYXdhaXQgdGhpcy5wYWlyaW5ncy5zZXQobixjKSxhd2FpdCB0aGlzLmNvcmUucmVsYXllci5zdWJzY3JpYmUobix7dHJhbnNwb3J0VHlwZTppPy50cmFuc3BvcnRUeXBlfSkse3RvcGljOm4sdXJpOmh9fSkscCh0aGlzLFwicGFpclwiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPXRoaXMuY29yZS5ldmVudENsaWVudC5jcmVhdGVFdmVudCh7cHJvcGVydGllczp7dG9waWM6aT8udXJpLHRyYWNlOltHLnBhaXJpbmdfc3RhcnRlZF19fSk7dGhpcy5pc1ZhbGlkUGFpcihpLHMpO2NvbnN0e3RvcGljOm4sc3ltS2V5Om8scmVsYXk6YSxleHBpcnlUaW1lc3RhbXA6YyxtZXRob2RzOmh9PWd0KGkudXJpKTtzLnByb3BzLnByb3BlcnRpZXMudG9waWM9bixzLmFkZFRyYWNlKEcucGFpcmluZ191cmlfdmFsaWRhdGlvbl9zdWNjZXNzKSxzLmFkZFRyYWNlKEcucGFpcmluZ191cmlfbm90X2V4cGlyZWQpO2xldCBsO2lmKHRoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhuKSl7aWYobD10aGlzLnBhaXJpbmdzLmdldChuKSxzLmFkZFRyYWNlKEcuZXhpc3RpbmdfcGFpcmluZyksbC5hY3RpdmUpdGhyb3cgcy5zZXRFcnJvcihZLmFjdGl2ZV9wYWlyaW5nX2FscmVhZHlfZXhpc3RzKSxuZXcgRXJyb3IoYFBhaXJpbmcgYWxyZWFkeSBleGlzdHM6ICR7bn0uIFBsZWFzZSB0cnkgYWdhaW4gd2l0aCBhIG5ldyBjb25uZWN0aW9uIFVSSS5gKTtzLmFkZFRyYWNlKEcucGFpcmluZ19ub3RfZXhwaXJlZCl9Y29uc3QgZD1jfHxjZShmZSksZz17dG9waWM6bixyZWxheTphLGV4cGlyeTpkLGFjdGl2ZTohMSxtZXRob2RzOmh9O3RoaXMuY29yZS5leHBpcmVyLnNldChuLGQpLGF3YWl0IHRoaXMucGFpcmluZ3Muc2V0KG4sZykscy5hZGRUcmFjZShHLnN0b3JlX25ld19wYWlyaW5nKSxpLmFjdGl2YXRlUGFpcmluZyYmYXdhaXQgdGhpcy5hY3RpdmF0ZSh7dG9waWM6bn0pLHRoaXMuZXZlbnRzLmVtaXQoc2UuY3JlYXRlLGcpLHMuYWRkVHJhY2UoRy5lbWl0X2luYWN0aXZlX3BhaXJpbmcpLHRoaXMuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKG4pfHxhd2FpdCB0aGlzLmNvcmUuY3J5cHRvLnNldFN5bUtleShvLG4pLHMuYWRkVHJhY2UoRy5zdWJzY3JpYmluZ19wYWlyaW5nX3RvcGljKTt0cnl7YXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpfWNhdGNoe3Muc2V0RXJyb3IoWS5ub19pbnRlcm5ldF9jb25uZWN0aW9uKX10cnl7YXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKG4se3JlbGF5OmF9KX1jYXRjaChfKXt0aHJvdyBzLnNldEVycm9yKFkuc3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfZmFpbHVyZSksX31yZXR1cm4gcy5hZGRUcmFjZShHLnN1YnNjcmliZV9wYWlyaW5nX3RvcGljX3N1Y2Nlc3MpLGd9KSxwKHRoaXMsXCJhY3RpdmF0ZVwiLGFzeW5jKHt0b3BpYzppfSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPWNlKGZlKTt0aGlzLmNvcmUuZXhwaXJlci5zZXQoaSxzKSxhd2FpdCB0aGlzLnBhaXJpbmdzLnVwZGF0ZShpLHthY3RpdmU6ITAsZXhwaXJ5OnN9KX0pLHAodGhpcyxcInBpbmdcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5pc1ZhbGlkUGluZyhpKSx0aGlzLmxvZ2dlci53YXJuKFwicGluZygpIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlwiKTtjb25zdHt0b3BpYzpzfT1pO2lmKHRoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhzKSl7Y29uc3Qgbj1hd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHMsXCJ3Y19wYWlyaW5nUGluZ1wiLHt9KSx7ZG9uZTpvLHJlc29sdmU6YSxyZWplY3Q6Y309T3MoKTt0aGlzLmV2ZW50cy5vbmNlKE5lKFwicGFpcmluZ19waW5nXCIsbiksKHtlcnJvcjpofSk9PntoP2MoaCk6YSgpfSksYXdhaXQgbygpfX0pLHAodGhpcyxcInVwZGF0ZUV4cGlyeVwiLGFzeW5jKHt0b3BpYzppLGV4cGlyeTpzfSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLnBhaXJpbmdzLnVwZGF0ZShpLHtleHBpcnk6c30pfSkscCh0aGlzLFwidXBkYXRlTWV0YWRhdGFcIixhc3luYyh7dG9waWM6aSxtZXRhZGF0YTpzfSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLnBhaXJpbmdzLnVwZGF0ZShpLHtwZWVyTWV0YWRhdGE6c30pfSkscCh0aGlzLFwiZ2V0UGFpcmluZ3NcIiwoKT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMucGFpcmluZ3MudmFsdWVzKSkscCh0aGlzLFwiZGlzY29ubmVjdFwiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmlzVmFsaWREaXNjb25uZWN0KGkpO2NvbnN0e3RvcGljOnN9PWk7dGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHMpJiYoYXdhaXQgdGhpcy5zZW5kUmVxdWVzdChzLFwid2NfcGFpcmluZ0RlbGV0ZVwiLGFlKFwiVVNFUl9ESVNDT05ORUNURURcIikpLGF3YWl0IHRoaXMuZGVsZXRlUGFpcmluZyhzKSl9KSxwKHRoaXMsXCJmb3JtYXRVcmlGcm9tUGFpcmluZ1wiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdHt0b3BpYzpzLHJlbGF5Om4sZXhwaXJ5Om8sbWV0aG9kczphfT1pLGM9dGhpcy5jb3JlLmNyeXB0by5rZXljaGFpbi5nZXQocyk7cmV0dXJuIGR0KHtwcm90b2NvbDp0aGlzLmNvcmUucHJvdG9jb2wsdmVyc2lvbjp0aGlzLmNvcmUudmVyc2lvbix0b3BpYzpzLHN5bUtleTpjLHJlbGF5Om4sZXhwaXJ5VGltZXN0YW1wOm8sbWV0aG9kczphfSl9KSxwKHRoaXMsXCJzZW5kUmVxdWVzdFwiLGFzeW5jKGkscyxuKT0+e2NvbnN0IG89d3QocyxuKSxhPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uZW5jb2RlKGksbyksYz1pZVtzXS5yZXE7cmV0dXJuIHRoaXMuY29yZS5oaXN0b3J5LnNldChpLG8pLHRoaXMuY29yZS5yZWxheWVyLnB1Ymxpc2goaSxhLGMpLG8uaWR9KSxwKHRoaXMsXCJzZW5kUmVzdWx0XCIsYXN5bmMoaSxzLG4pPT57Y29uc3Qgbz12dChpLG4pLGE9YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5lbmNvZGUocyxvKSxjPShhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5nZXQocyxpKSkucmVxdWVzdC5tZXRob2QsaD1pZVtjXS5yZXM7YXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIucHVibGlzaChzLGEsaCksYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkucmVzb2x2ZShvKX0pLHAodGhpcyxcInNlbmRFcnJvclwiLGFzeW5jKGkscyxuKT0+e2NvbnN0IG89TXMoaSxuKSxhPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uZW5jb2RlKHMsbyksYz0oYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkuZ2V0KHMsaSkpLnJlcXVlc3QubWV0aG9kLGg9aWVbY10/aWVbY10ucmVzOmllLnVucmVnaXN0ZXJlZF9tZXRob2QucmVzO2F3YWl0IHRoaXMuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxhLGgpLGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LnJlc29sdmUobyl9KSxwKHRoaXMsXCJkZWxldGVQYWlyaW5nXCIsYXN5bmMoaSxzKT0+e2F3YWl0IHRoaXMuY29yZS5yZWxheWVyLnVuc3Vic2NyaWJlKGkpLGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnBhaXJpbmdzLmRlbGV0ZShpLGFlKFwiVVNFUl9ESVNDT05ORUNURURcIikpLHRoaXMuY29yZS5jcnlwdG8uZGVsZXRlU3ltS2V5KGkpLHM/UHJvbWlzZS5yZXNvbHZlKCk6dGhpcy5jb3JlLmV4cGlyZXIuZGVsKGkpXSl9KSxwKHRoaXMsXCJjbGVhbnVwXCIsYXN5bmMoKT0+e2NvbnN0IGk9dGhpcy5wYWlyaW5ncy5nZXRBbGwoKS5maWx0ZXIocz0+cHQocy5leHBpcnkpKTthd2FpdCBQcm9taXNlLmFsbChpLm1hcChzPT50aGlzLmRlbGV0ZVBhaXJpbmcocy50b3BpYykpKX0pLHAodGhpcyxcIm9uUmVsYXlFdmVudFJlcXVlc3RcIixhc3luYyBpPT57Y29uc3R7dG9waWM6cyxwYXlsb2FkOm59PWk7c3dpdGNoKG4ubWV0aG9kKXtjYXNlXCJ3Y19wYWlyaW5nUGluZ1wiOnJldHVybiBhd2FpdCB0aGlzLm9uUGFpcmluZ1BpbmdSZXF1ZXN0KHMsbik7Y2FzZVwid2NfcGFpcmluZ0RlbGV0ZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uUGFpcmluZ0RlbGV0ZVJlcXVlc3QocyxuKTtkZWZhdWx0OnJldHVybiBhd2FpdCB0aGlzLm9uVW5rbm93blJwY01ldGhvZFJlcXVlc3QocyxuKX19KSxwKHRoaXMsXCJvblJlbGF5RXZlbnRSZXNwb25zZVwiLGFzeW5jIGk9Pntjb25zdHt0b3BpYzpzLHBheWxvYWQ6bn09aSxvPShhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5nZXQocyxuLmlkKSkucmVxdWVzdC5tZXRob2Q7c3dpdGNoKG8pe2Nhc2VcIndjX3BhaXJpbmdQaW5nXCI6cmV0dXJuIHRoaXMub25QYWlyaW5nUGluZ1Jlc3BvbnNlKHMsbik7ZGVmYXVsdDpyZXR1cm4gdGhpcy5vblVua25vd25ScGNNZXRob2RSZXNwb25zZShvKX19KSxwKHRoaXMsXCJvblBhaXJpbmdQaW5nUmVxdWVzdFwiLGFzeW5jKGkscyk9Pntjb25zdHtpZDpufT1zO3RyeXt0aGlzLmlzVmFsaWRQaW5nKHt0b3BpYzppfSksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KG4saSwhMCksdGhpcy5ldmVudHMuZW1pdChzZS5waW5nLHtpZDpuLHRvcGljOml9KX1jYXRjaChvKXthd2FpdCB0aGlzLnNlbmRFcnJvcihuLGksbyksdGhpcy5sb2dnZXIuZXJyb3Iobyl9fSkscCh0aGlzLFwib25QYWlyaW5nUGluZ1Jlc3BvbnNlXCIsKGkscyk9Pntjb25zdHtpZDpufT1zO3NldFRpbWVvdXQoKCk9PntLcyhzKT90aGlzLmV2ZW50cy5lbWl0KE5lKFwicGFpcmluZ19waW5nXCIsbikse30pOl90KHMpJiZ0aGlzLmV2ZW50cy5lbWl0KE5lKFwicGFpcmluZ19waW5nXCIsbikse2Vycm9yOnMuZXJyb3J9KX0sNTAwKX0pLHAodGhpcyxcIm9uUGFpcmluZ0RlbGV0ZVJlcXVlc3RcIixhc3luYyhpLHMpPT57Y29uc3R7aWQ6bn09czt0cnl7dGhpcy5pc1ZhbGlkRGlzY29ubmVjdCh7dG9waWM6aX0pLGF3YWl0IHRoaXMuZGVsZXRlUGFpcmluZyhpKSx0aGlzLmV2ZW50cy5lbWl0KHNlLmRlbGV0ZSx7aWQ6bix0b3BpYzppfSl9Y2F0Y2gobyl7YXdhaXQgdGhpcy5zZW5kRXJyb3IobixpLG8pLHRoaXMubG9nZ2VyLmVycm9yKG8pfX0pLHAodGhpcyxcIm9uVW5rbm93blJwY01ldGhvZFJlcXVlc3RcIixhc3luYyhpLHMpPT57Y29uc3R7aWQ6bixtZXRob2Q6b309czt0cnl7aWYodGhpcy5yZWdpc3RlcmVkTWV0aG9kcy5pbmNsdWRlcyhvKSlyZXR1cm47Y29uc3QgYT1hZShcIldDX01FVEhPRF9VTlNVUFBPUlRFRFwiLG8pO2F3YWl0IHRoaXMuc2VuZEVycm9yKG4saSxhKSx0aGlzLmxvZ2dlci5lcnJvcihhKX1jYXRjaChhKXthd2FpdCB0aGlzLnNlbmRFcnJvcihuLGksYSksdGhpcy5sb2dnZXIuZXJyb3IoYSl9fSkscCh0aGlzLFwib25Vbmtub3duUnBjTWV0aG9kUmVzcG9uc2VcIixpPT57dGhpcy5yZWdpc3RlcmVkTWV0aG9kcy5pbmNsdWRlcyhpKXx8dGhpcy5sb2dnZXIuZXJyb3IoYWUoXCJXQ19NRVRIT0RfVU5TVVBQT1JURURcIixpKSl9KSxwKHRoaXMsXCJpc1ZhbGlkUGFpclwiLChpLHMpPT57dmFyIG47aWYoISRlKGkpKXtjb25zdHttZXNzYWdlOmF9PW0oXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGFpcigpIHBhcmFtczogJHtpfWApO3Rocm93IHMuc2V0RXJyb3IoWS5tYWxmb3JtZWRfcGFpcmluZ191cmkpLG5ldyBFcnJvcihhKX1pZighQXMoaS51cmkpKXtjb25zdHttZXNzYWdlOmF9PW0oXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGFpcigpIHVyaTogJHtpLnVyaX1gKTt0aHJvdyBzLnNldEVycm9yKFkubWFsZm9ybWVkX3BhaXJpbmdfdXJpKSxuZXcgRXJyb3IoYSl9Y29uc3Qgbz1ndChpPy51cmkpO2lmKCEoKG49bz8ucmVsYXkpIT1udWxsJiZuLnByb3RvY29sKSl7Y29uc3R7bWVzc2FnZTphfT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsXCJwYWlyKCkgdXJpI3JlbGF5LXByb3RvY29sXCIpO3Rocm93IHMuc2V0RXJyb3IoWS5tYWxmb3JtZWRfcGFpcmluZ191cmkpLG5ldyBFcnJvcihhKX1pZighKG8hPW51bGwmJm8uc3ltS2V5KSl7Y29uc3R7bWVzc2FnZTphfT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsXCJwYWlyKCkgdXJpI3N5bUtleVwiKTt0aHJvdyBzLnNldEVycm9yKFkubWFsZm9ybWVkX3BhaXJpbmdfdXJpKSxuZXcgRXJyb3IoYSl9aWYobyE9bnVsbCYmby5leHBpcnlUaW1lc3RhbXAmJk8obz8uZXhwaXJ5VGltZXN0YW1wKTxEYXRlLm5vdygpKXtzLnNldEVycm9yKFkucGFpcmluZ19leHBpcmVkKTtjb25zdHttZXNzYWdlOmF9PW0oXCJFWFBJUkVEXCIsXCJwYWlyKCkgVVJJIGhhcyBleHBpcmVkLiBQbGVhc2UgdHJ5IGFnYWluIHdpdGggYSBuZXcgY29ubmVjdGlvbiBVUkkuXCIpO3Rocm93IG5ldyBFcnJvcihhKX19KSxwKHRoaXMsXCJpc1ZhbGlkUGluZ1wiLGFzeW5jIGk9PntpZighJGUoaSkpe2NvbnN0e21lc3NhZ2U6bn09bShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwaW5nKCkgcGFyYW1zOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKG4pfWNvbnN0e3RvcGljOnN9PWk7YXdhaXQgdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKHMpfSkscCh0aGlzLFwiaXNWYWxpZERpc2Nvbm5lY3RcIixhc3luYyBpPT57aWYoISRlKGkpKXtjb25zdHttZXNzYWdlOm59PW0oXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZGlzY29ubmVjdCgpIHBhcmFtczogJHtpfWApO3Rocm93IG5ldyBFcnJvcihuKX1jb25zdHt0b3BpYzpzfT1pO2F3YWl0IHRoaXMuaXNWYWxpZFBhaXJpbmdUb3BpYyhzKX0pLHAodGhpcyxcImlzVmFsaWRQYWlyaW5nVG9waWNcIixhc3luYyBpPT57aWYoIXhzKGksITEpKXtjb25zdHttZXNzYWdlOnN9PW0oXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9aWYoIXRoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhpKSl7Y29uc3R7bWVzc2FnZTpzfT1tKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHBhaXJpbmcgdG9waWMgZG9lc24ndCBleGlzdDogJHtpfWApO3Rocm93IG5ldyBFcnJvcihzKX1pZihwdCh0aGlzLnBhaXJpbmdzLmdldChpKS5leHBpcnkpKXthd2FpdCB0aGlzLmRlbGV0ZVBhaXJpbmcoaSk7Y29uc3R7bWVzc2FnZTpzfT1tKFwiRVhQSVJFRFwiLGBwYWlyaW5nIHRvcGljOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKHMpfX0pLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpLHRoaXMucGFpcmluZ3M9bmV3IHppKHRoaXMuY29yZSx0aGlzLmxvZ2dlcix0aGlzLm5hbWUsdGhpcy5zdG9yYWdlUHJlZml4KX1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09bShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX1yZWdpc3RlclJlbGF5ZXJFdmVudHMoKXt0aGlzLmNvcmUucmVsYXllci5vbihDLm1lc3NhZ2UsYXN5bmMgZT0+e2NvbnN0e3RvcGljOnQsbWVzc2FnZTppLHRyYW5zcG9ydFR5cGU6c309ZTtpZih0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXModCkmJnMhPT1RLmxpbmtfbW9kZSYmIXRoaXMuaWdub3JlZFBheWxvYWRUeXBlcy5pbmNsdWRlcyh0aGlzLmNvcmUuY3J5cHRvLmdldFBheWxvYWRUeXBlKGkpKSl0cnl7Y29uc3Qgbj1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmRlY29kZSh0LGkpO2Z0KG4pPyh0aGlzLmNvcmUuaGlzdG9yeS5zZXQodCxuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlcXVlc3Qoe3RvcGljOnQscGF5bG9hZDpufSkpOkR0KG4pJiYoYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkucmVzb2x2ZShuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlc3BvbnNlKHt0b3BpYzp0LHBheWxvYWQ6bn0pLHRoaXMuY29yZS5oaXN0b3J5LmRlbGV0ZSh0LG4uaWQpKSxhd2FpdCB0aGlzLmNvcmUucmVsYXllci5tZXNzYWdlcy5hY2sodCxpKX1jYXRjaChuKXt0aGlzLmxvZ2dlci5lcnJvcihuKX19KX1yZWdpc3RlckV4cGlyZXJFdmVudHMoKXt0aGlzLmNvcmUuZXhwaXJlci5vbihNLmV4cGlyZWQsYXN5bmMgZT0+e2NvbnN0e3RvcGljOnR9PVNzKGUudGFyZ2V0KTt0JiZ0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXModCkmJihhd2FpdCB0aGlzLmRlbGV0ZVBhaXJpbmcodCwhMCksdGhpcy5ldmVudHMuZW1pdChzZS5leHBpcmUse3RvcGljOnR9KSl9KX19dmFyIExvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxrbz0ocixlLHQpPT5lIGluIHI/TG8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LFI9KHIsZSx0KT0+a28ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBraSBleHRlbmRzIGlze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LFIodGhpcyxcInJlY29yZHNcIixuZXcgTWFwKSxSKHRoaXMsXCJldmVudHNcIixuZXcgZWUpLFIodGhpcyxcIm5hbWVcIixCdCksUih0aGlzLFwidmVyc2lvblwiLFZ0KSxSKHRoaXMsXCJjYWNoZWRcIixbXSksUih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksUih0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLFIodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5yZXN0b3JlKCksdGhpcy5jYWNoZWQuZm9yRWFjaChpPT50aGlzLnJlY29yZHMuc2V0KGkuaWQsaSkpLHRoaXMuY2FjaGVkPVtdLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSksUih0aGlzLFwic2V0XCIsKGkscyxuKT0+e2lmKHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBKU09OLVJQQyByZXF1ZXN0IGhpc3RvcnkgcmVjb3JkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic2V0XCIsdG9waWM6aSxyZXF1ZXN0OnMsY2hhaW5JZDpufSksdGhpcy5yZWNvcmRzLmhhcyhzLmlkKSlyZXR1cm47Y29uc3Qgbz17aWQ6cy5pZCx0b3BpYzppLHJlcXVlc3Q6e21ldGhvZDpzLm1ldGhvZCxwYXJhbXM6cy5wYXJhbXN8fG51bGx9LGNoYWluSWQ6bixleHBpcnk6Y2UoQ2UpfTt0aGlzLnJlY29yZHMuc2V0KG8uaWQsbyksdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZW1pdChGLmNyZWF0ZWQsbyl9KSxSKHRoaXMsXCJyZXNvbHZlXCIsYXN5bmMgaT0+e2lmKHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiVXBkYXRpbmcgSlNPTi1SUEMgcmVzcG9uc2UgaGlzdG9yeSByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1cGRhdGVcIixyZXNwb25zZTppfSksIXRoaXMucmVjb3Jkcy5oYXMoaS5pZCkpcmV0dXJuO2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRSZWNvcmQoaS5pZCk7dHlwZW9mIHMucmVzcG9uc2U+XCJ1XCImJihzLnJlc3BvbnNlPV90KGkpP3tlcnJvcjppLmVycm9yfTp7cmVzdWx0OmkucmVzdWx0fSx0aGlzLnJlY29yZHMuc2V0KHMuaWQscyksdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZW1pdChGLnVwZGF0ZWQscykpfSksUih0aGlzLFwiZ2V0XCIsYXN5bmMoaSxzKT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRcIix0b3BpYzppLGlkOnN9KSxhd2FpdCB0aGlzLmdldFJlY29yZChzKSkpLFIodGhpcyxcImRlbGV0ZVwiLChpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJEZWxldGluZyByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJkZWxldGVcIixpZDpzfSksdGhpcy52YWx1ZXMuZm9yRWFjaChuPT57aWYobi50b3BpYz09PWkpe2lmKHR5cGVvZiBzPFwidVwiJiZuLmlkIT09cylyZXR1cm47dGhpcy5yZWNvcmRzLmRlbGV0ZShuLmlkKSx0aGlzLmV2ZW50cy5lbWl0KEYuZGVsZXRlZCxuKX19KSx0aGlzLnBlcnNpc3QoKX0pLFIodGhpcyxcImV4aXN0c1wiLGFzeW5jKGkscyk9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLnJlY29yZHMuaGFzKHMpPyhhd2FpdCB0aGlzLmdldFJlY29yZChzKSkudG9waWM9PT1pOiExKSksUih0aGlzLFwib25cIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uKGkscyl9KSxSKHRoaXMsXCJvbmNlXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbmNlKGkscyl9KSxSKHRoaXMsXCJvZmZcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9mZihpLHMpfSksUih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGkscyl9KSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5uYW1lKX1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5yZWNvcmRzLnNpemV9Z2V0IGtleXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlY29yZHMua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5yZWNvcmRzLnZhbHVlcygpKX1nZXQgcGVuZGluZygpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMudmFsdWVzLmZvckVhY2godD0+e2lmKHR5cGVvZiB0LnJlc3BvbnNlPFwidVwiKXJldHVybjtjb25zdCBpPXt0b3BpYzp0LnRvcGljLHJlcXVlc3Q6d3QodC5yZXF1ZXN0Lm1ldGhvZCx0LnJlcXVlc3QucGFyYW1zLHQuaWQpLGNoYWluSWQ6dC5jaGFpbklkfTtyZXR1cm4gZS5wdXNoKGkpfSksZX1hc3luYyBzZXRKc29uUnBjUmVjb3JkcyhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxlKX1hc3luYyBnZXRKc29uUnBjUmVjb3Jkcygpe3JldHVybiBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl9Z2V0UmVjb3JkKGUpe3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHQ9dGhpcy5yZWNvcmRzLmdldChlKTtpZighdCl7Y29uc3R7bWVzc2FnZTppfT1tKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IG5ldyBFcnJvcihpKX1yZXR1cm4gdH1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRKc29uUnBjUmVjb3Jkcyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdChGLnN5bmMpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldEpzb25ScGNSZWNvcmRzKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5yZWNvcmRzLnNpemUpe2NvbnN0e21lc3NhZ2U6dH09bShcIlJFU1RPUkVfV0lMTF9PVkVSUklERVwiLHRoaXMubmFtZSk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksbmV3IEVycm9yKHQpfXRoaXMuY2FjaGVkPWUsdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixyZWNvcmRzOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHJlY29yZHMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGUpfX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5ldmVudHMub24oRi5jcmVhdGVkLGU9Pntjb25zdCB0PUYuY3JlYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQscmVjb3JkOmV9KX0pLHRoaXMuZXZlbnRzLm9uKEYudXBkYXRlZCxlPT57Y29uc3QgdD1GLnVwZGF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LHJlY29yZDplfSl9KSx0aGlzLmV2ZW50cy5vbihGLmRlbGV0ZWQsZT0+e2NvbnN0IHQ9Ri5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxyZWNvcmQ6ZX0pfSksdGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihuZS5wdWxzZSwoKT0+e3RoaXMuY2xlYW51cCgpfSl9Y2xlYW51cCgpe3RyeXt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtsZXQgZT0hMTt0aGlzLnJlY29yZHMuZm9yRWFjaCh0PT57Tyh0LmV4cGlyeXx8MCktRGF0ZS5ub3coKTw9MCYmKHRoaXMubG9nZ2VyLmluZm8oYERlbGV0aW5nIGV4cGlyZWQgaGlzdG9yeSBsb2c6ICR7dC5pZH1gKSx0aGlzLnJlY29yZHMuZGVsZXRlKHQuaWQpLHRoaXMuZXZlbnRzLmVtaXQoRi5kZWxldGVkLHQsITEpLGU9ITApfSksZSYmdGhpcy5wZXJzaXN0KCl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIud2FybihlKX19aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBqbz1PYmplY3QuZGVmaW5lUHJvcGVydHksVW89KHIsZSx0KT0+ZSBpbiByP2pvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxBPShyLGUsdCk9PlVvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgamkgZXh0ZW5kcyBzc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxBKHRoaXMsXCJleHBpcmF0aW9uc1wiLG5ldyBNYXApLEEodGhpcyxcImV2ZW50c1wiLG5ldyBlZSksQSh0aGlzLFwibmFtZVwiLHF0KSxBKHRoaXMsXCJ2ZXJzaW9uXCIsR3QpLEEodGhpcyxcImNhY2hlZFwiLFtdKSxBKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxBKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsQiksQSh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSxhd2FpdCB0aGlzLnJlc3RvcmUoKSx0aGlzLmNhY2hlZC5mb3JFYWNoKGk9PnRoaXMuZXhwaXJhdGlvbnMuc2V0KGkudGFyZ2V0LGkpKSx0aGlzLmNhY2hlZD1bXSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLEEodGhpcyxcImhhc1wiLGk9Pnt0cnl7Y29uc3Qgcz10aGlzLmZvcm1hdFRhcmdldChpKTtyZXR1cm4gdHlwZW9mIHRoaXMuZ2V0RXhwaXJhdGlvbihzKTxcInVcIn1jYXRjaHtyZXR1cm4hMX19KSxBKHRoaXMsXCJzZXRcIiwoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49dGhpcy5mb3JtYXRUYXJnZXQoaSksbz17dGFyZ2V0Om4sZXhwaXJ5OnN9O3RoaXMuZXhwaXJhdGlvbnMuc2V0KG4sbyksdGhpcy5jaGVja0V4cGlyeShuLG8pLHRoaXMuZXZlbnRzLmVtaXQoTS5jcmVhdGVkLHt0YXJnZXQ6bixleHBpcmF0aW9uOm99KX0pLEEodGhpcyxcImdldFwiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPXRoaXMuZm9ybWF0VGFyZ2V0KGkpO3JldHVybiB0aGlzLmdldEV4cGlyYXRpb24ocyl9KSxBKHRoaXMsXCJkZWxcIixpPT57aWYodGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5oYXMoaSkpe2NvbnN0IHM9dGhpcy5mb3JtYXRUYXJnZXQoaSksbj10aGlzLmdldEV4cGlyYXRpb24ocyk7dGhpcy5leHBpcmF0aW9ucy5kZWxldGUocyksdGhpcy5ldmVudHMuZW1pdChNLmRlbGV0ZWQse3RhcmdldDpzLGV4cGlyYXRpb246bn0pfX0pLEEodGhpcyxcIm9uXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbihpLHMpfSksQSh0aGlzLFwib25jZVwiLChpLHMpPT57dGhpcy5ldmVudHMub25jZShpLHMpfSksQSh0aGlzLFwib2ZmXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vZmYoaSxzKX0pLEEodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLHMpfSksdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5leHBpcmF0aW9ucy5zaXplfWdldCBrZXlzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5leHBpcmF0aW9ucy5rZXlzKCkpfWdldCB2YWx1ZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmV4cGlyYXRpb25zLnZhbHVlcygpKX1mb3JtYXRUYXJnZXQoZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpcmV0dXJuIE5zKGUpO2lmKHR5cGVvZiBlPT1cIm51bWJlclwiKXJldHVybiAkcyhlKTtjb25zdHttZXNzYWdlOnR9PW0oXCJVTktOT1dOX1RZUEVcIixgVGFyZ2V0IHR5cGU6ICR7dHlwZW9mIGV9YCk7dGhyb3cgbmV3IEVycm9yKHQpfWFzeW5jIHNldEV4cGlyYXRpb25zKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldEV4cGlyYXRpb25zKCl7cmV0dXJuIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRFeHBpcmF0aW9ucyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdChNLnN5bmMpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldEV4cGlyYXRpb25zKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5leHBpcmF0aW9ucy5zaXplKXtjb25zdHttZXNzYWdlOnR9PW0oXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIix0aGlzLm5hbWUpO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQpLG5ldyBFcnJvcih0KX10aGlzLmNhY2hlZD1lLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgZXhwaXJhdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLGV4cGlyYXRpb25zOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIGV4cGlyYXRpb25zIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihlKX19Z2V0RXhwaXJhdGlvbihlKXtjb25zdCB0PXRoaXMuZXhwaXJhdGlvbnMuZ2V0KGUpO2lmKCF0KXtjb25zdHttZXNzYWdlOml9PW0oXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgdGhpcy5sb2dnZXIud2FybihpKSxuZXcgRXJyb3IoaSl9cmV0dXJuIHR9Y2hlY2tFeHBpcnkoZSx0KXtjb25zdHtleHBpcnk6aX09dDtPKGkpLURhdGUubm93KCk8PTAmJnRoaXMuZXhwaXJlKGUsdCl9ZXhwaXJlKGUsdCl7dGhpcy5leHBpcmF0aW9ucy5kZWxldGUoZSksdGhpcy5ldmVudHMuZW1pdChNLmV4cGlyZWQse3RhcmdldDplLGV4cGlyYXRpb246dH0pfWNoZWNrRXhwaXJhdGlvbnMoKXt0aGlzLmNvcmUucmVsYXllci5jb25uZWN0ZWQmJnRoaXMuZXhwaXJhdGlvbnMuZm9yRWFjaCgoZSx0KT0+dGhpcy5jaGVja0V4cGlyeSh0LGUpKX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihuZS5wdWxzZSwoKT0+dGhpcy5jaGVja0V4cGlyYXRpb25zKCkpLHRoaXMuZXZlbnRzLm9uKE0uY3JlYXRlZCxlPT57Y29uc3QgdD1NLmNyZWF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LGRhdGE6ZX0pLHRoaXMucGVyc2lzdCgpfSksdGhpcy5ldmVudHMub24oTS5leHBpcmVkLGU9Pntjb25zdCB0PU0uZXhwaXJlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQsZGF0YTplfSksdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmV2ZW50cy5vbihNLmRlbGV0ZWQsZT0+e2NvbnN0IHQ9TS5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxkYXRhOmV9KSx0aGlzLnBlcnNpc3QoKX0pfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1tKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgRm89T2JqZWN0LmRlZmluZVByb3BlcnR5LE1vPShyLGUsdCk9PmUgaW4gcj9GbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsdz0ocixlLHQpPT5NbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFVpIGV4dGVuZHMgcnN7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsdCxpKSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHRoaXMuc3RvcmU9aSx3KHRoaXMsXCJuYW1lXCIsV3QpLHcodGhpcyxcImFib3J0Q29udHJvbGxlclwiKSx3KHRoaXMsXCJpc0RldkVudlwiKSx3KHRoaXMsXCJ2ZXJpZnlVcmxWM1wiLFl0KSx3KHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsQiksdyh0aGlzLFwidmVyc2lvblwiLExlKSx3KHRoaXMsXCJwdWJsaWNLZXlcIiksdyh0aGlzLFwiZmV0Y2hQcm9taXNlXCIpLHcodGhpcyxcImluaXRcIixhc3luYygpPT57dmFyIHM7dGhpcy5pc0RldkVudnx8KHRoaXMucHVibGljS2V5PWF3YWl0IHRoaXMuc3RvcmUuZ2V0SXRlbSh0aGlzLnN0b3JlS2V5KSx0aGlzLnB1YmxpY0tleSYmTygocz10aGlzLnB1YmxpY0tleSk9PW51bGw/dm9pZCAwOnMuZXhwaXJlc0F0KTxEYXRlLm5vdygpJiYodGhpcy5sb2dnZXIuZGVidWcoXCJ2ZXJpZnkgdjIgcHVibGljIGtleSBleHBpcmVkXCIpLGF3YWl0IHRoaXMucmVtb3ZlUHVibGljS2V5KCkpKX0pLHcodGhpcyxcInJlZ2lzdGVyXCIsYXN5bmMgcz0+e2lmKCF6cygpfHx0aGlzLmlzRGV2RW52KXJldHVybjtjb25zdCBuPXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4se2lkOm8sZGVjcnlwdGVkSWQ6YX09cyxjPWAke3RoaXMudmVyaWZ5VXJsVjN9L2F0dGVzdGF0aW9uP3Byb2plY3RJZD0ke3RoaXMuY29yZS5wcm9qZWN0SWR9Jm9yaWdpbj0ke259JmlkPSR7b30mZGVjcnlwdGVkSWQ9JHthfWA7dHJ5e2NvbnN0IGg9VnMoKSxsPXRoaXMuc3RhcnRBYm9ydFRpbWVyKFoqNSksZD1hd2FpdCBuZXcgUHJvbWlzZSgoZyxfKT0+e2NvbnN0IHU9KCk9Pnt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix4KSxoLmJvZHkucmVtb3ZlQ2hpbGQoYiksXyhcImF0dGVzdGF0aW9uIGFib3J0ZWRcIil9O3RoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIix1KTtjb25zdCBiPWguY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtiLnNyYz1jLGIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixiLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHUse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KTtjb25zdCB4PUk9PntpZihJLmRhdGEmJnR5cGVvZiBJLmRhdGE9PVwic3RyaW5nXCIpdHJ5e2NvbnN0IEQ9SlNPTi5wYXJzZShJLmRhdGEpO2lmKEQudHlwZT09PVwidmVyaWZ5X2F0dGVzdGF0aW9uXCIpe2lmKHJ0KEQuYXR0ZXN0YXRpb24pLnBheWxvYWQuaWQhPT1vKXJldHVybjtjbGVhckludGVydmFsKGwpLGguYm9keS5yZW1vdmVDaGlsZChiKSx0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIseCksZyhELmF0dGVzdGF0aW9uPT09bnVsbD9cIlwiOkQuYXR0ZXN0YXRpb24pfX1jYXRjaChEKXt0aGlzLmxvZ2dlci53YXJuKEQpfX07aC5ib2R5LmFwcGVuZENoaWxkKGIpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHgse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KX0pO3JldHVybiB0aGlzLmxvZ2dlci5kZWJ1ZyhcImp3dCBhdHRlc3RhdGlvblwiLGQpLGR9Y2F0Y2goaCl7dGhpcy5sb2dnZXIud2FybihoKX1yZXR1cm5cIlwifSksdyh0aGlzLFwicmVzb2x2ZVwiLGFzeW5jIHM9PntpZih0aGlzLmlzRGV2RW52KXJldHVyblwiXCI7Y29uc3R7YXR0ZXN0YXRpb25JZDpuLGhhc2g6byxlbmNyeXB0ZWRJZDphfT1zO2lmKG49PT1cIlwiKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInJlc29sdmU6IGF0dGVzdGF0aW9uSWQgaXMgZW1wdHksIHNraXBwaW5nXCIpO3JldHVybn1pZihuKXtpZihydChuKS5wYXlsb2FkLmlkIT09YSlyZXR1cm47Y29uc3QgaD1hd2FpdCB0aGlzLmlzVmFsaWRKd3RBdHRlc3RhdGlvbihuKTtpZihoKXtpZighaC5pc1ZlcmlmaWVkKXt0aGlzLmxvZ2dlci53YXJuKFwicmVzb2x2ZTogand0IGF0dGVzdGF0aW9uOiBvcmlnaW4gdXJsIG5vdCB2ZXJpZmllZFwiKTtyZXR1cm59cmV0dXJuIGh9fWlmKCFvKXJldHVybjtjb25zdCBjPXRoaXMuZ2V0VmVyaWZ5VXJsKHM/LnZlcmlmeVVybCk7cmV0dXJuIHRoaXMuZmV0Y2hBdHRlc3RhdGlvbihvLGMpfSksdyh0aGlzLFwiZmV0Y2hBdHRlc3RhdGlvblwiLGFzeW5jKHMsbik9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhgcmVzb2x2aW5nIGF0dGVzdGF0aW9uOiAke3N9IGZyb20gdXJsOiAke259YCk7Y29uc3Qgbz10aGlzLnN0YXJ0QWJvcnRUaW1lcihaKjUpLGE9YXdhaXQgZmV0Y2goYCR7bn0vYXR0ZXN0YXRpb24vJHtzfT92MlN1cHBvcnRlZD10cnVlYCx7c2lnbmFsOnRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pO3JldHVybiBjbGVhclRpbWVvdXQobyksYS5zdGF0dXM9PT0yMDA/YXdhaXQgYS5qc29uKCk6dm9pZCAwfSksdyh0aGlzLFwiZ2V0VmVyaWZ5VXJsXCIscz0+e2xldCBuPXN8fHVlO3JldHVybiBKdC5pbmNsdWRlcyhuKXx8KHRoaXMubG9nZ2VyLmluZm8oYHZlcmlmeSB1cmw6ICR7bn0sIG5vdCBpbmNsdWRlZCBpbiB0cnVzdGVkIGxpc3QsIGFzc2lnbmluZyBkZWZhdWx0OiAke3VlfWApLG49dWUpLG59KSx3KHRoaXMsXCJmZXRjaFB1YmxpY0tleVwiLGFzeW5jKCk9Pnt0cnl7dGhpcy5sb2dnZXIuZGVidWcoYGZldGNoaW5nIHB1YmxpYyBrZXkgZnJvbTogJHt0aGlzLnZlcmlmeVVybFYzfWApO2NvbnN0IHM9dGhpcy5zdGFydEFib3J0VGltZXIoUGUpLG49YXdhaXQgZmV0Y2goYCR7dGhpcy52ZXJpZnlVcmxWM30vcHVibGljLWtleWAse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KTtyZXR1cm4gY2xlYXJUaW1lb3V0KHMpLGF3YWl0IG4uanNvbigpfWNhdGNoKHMpe3RoaXMubG9nZ2VyLndhcm4ocyl9fSksdyh0aGlzLFwicGVyc2lzdFB1YmxpY0tleVwiLGFzeW5jIHM9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhcInBlcnNpc3RpbmcgcHVibGljIGtleSB0byBsb2NhbCBzdG9yYWdlXCIscyksYXdhaXQgdGhpcy5zdG9yZS5zZXRJdGVtKHRoaXMuc3RvcmVLZXkscyksdGhpcy5wdWJsaWNLZXk9c30pLHcodGhpcyxcInJlbW92ZVB1YmxpY0tleVwiLGFzeW5jKCk9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhcInJlbW92aW5nIHZlcmlmeSB2MiBwdWJsaWMga2V5IGZyb20gc3RvcmFnZVwiKSxhd2FpdCB0aGlzLnN0b3JlLnJlbW92ZUl0ZW0odGhpcy5zdG9yZUtleSksdGhpcy5wdWJsaWNLZXk9dm9pZCAwfSksdyh0aGlzLFwiaXNWYWxpZEp3dEF0dGVzdGF0aW9uXCIsYXN5bmMgcz0+e2NvbnN0IG49YXdhaXQgdGhpcy5nZXRQdWJsaWNLZXkoKTt0cnl7aWYobilyZXR1cm4gdGhpcy52YWxpZGF0ZUF0dGVzdGF0aW9uKHMsbil9Y2F0Y2goYSl7dGhpcy5sb2dnZXIuZXJyb3IoYSksdGhpcy5sb2dnZXIud2FybihcImVycm9yIHZhbGlkYXRpbmcgYXR0ZXN0YXRpb25cIil9Y29uc3Qgbz1hd2FpdCB0aGlzLmZldGNoQW5kUGVyc2lzdFB1YmxpY0tleSgpO3RyeXtpZihvKXJldHVybiB0aGlzLnZhbGlkYXRlQXR0ZXN0YXRpb24ocyxvKX1jYXRjaChhKXt0aGlzLmxvZ2dlci5lcnJvcihhKSx0aGlzLmxvZ2dlci53YXJuKFwiZXJyb3IgdmFsaWRhdGluZyBhdHRlc3RhdGlvblwiKX19KSx3KHRoaXMsXCJnZXRQdWJsaWNLZXlcIixhc3luYygpPT50aGlzLnB1YmxpY0tleT90aGlzLnB1YmxpY0tleTphd2FpdCB0aGlzLmZldGNoQW5kUGVyc2lzdFB1YmxpY0tleSgpKSx3KHRoaXMsXCJmZXRjaEFuZFBlcnNpc3RQdWJsaWNLZXlcIixhc3luYygpPT57aWYodGhpcy5mZXRjaFByb21pc2UpcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hQcm9taXNlLHRoaXMucHVibGljS2V5O3RoaXMuZmV0Y2hQcm9taXNlPW5ldyBQcm9taXNlKGFzeW5jIG49Pntjb25zdCBvPWF3YWl0IHRoaXMuZmV0Y2hQdWJsaWNLZXkoKTtvJiYoYXdhaXQgdGhpcy5wZXJzaXN0UHVibGljS2V5KG8pLG4obykpfSk7Y29uc3Qgcz1hd2FpdCB0aGlzLmZldGNoUHJvbWlzZTtyZXR1cm4gdGhpcy5mZXRjaFByb21pc2U9dm9pZCAwLHN9KSx3KHRoaXMsXCJ2YWxpZGF0ZUF0dGVzdGF0aW9uXCIsKHMsbik9Pntjb25zdCBvPUxzKHMsbi5wdWJsaWNLZXkpLGE9e2hhc0V4cGlyZWQ6TyhvLmV4cCk8RGF0ZS5ub3coKSxwYXlsb2FkOm99O2lmKGEuaGFzRXhwaXJlZCl0aHJvdyB0aGlzLmxvZ2dlci53YXJuKFwicmVzb2x2ZTogand0IGF0dGVzdGF0aW9uIGV4cGlyZWRcIiksbmV3IEVycm9yKFwiSldUIGF0dGVzdGF0aW9uIGV4cGlyZWRcIik7cmV0dXJue29yaWdpbjphLnBheWxvYWQub3JpZ2luLGlzU2NhbTphLnBheWxvYWQuaXNTY2FtLGlzVmVyaWZpZWQ6YS5wYXlsb2FkLmlzVmVyaWZpZWR9fSksdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSksdGhpcy5hYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcix0aGlzLmlzRGV2RW52PXl0KCksdGhpcy5pbml0KCl9Z2V0IHN0b3JlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL3ZlcmlmeTpwdWJsaWM6a2V5XCJ9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9c3RhcnRBYm9ydFRpbWVyKGUpe3JldHVybiB0aGlzLmFib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHNldFRpbWVvdXQoKCk9PnRoaXMuYWJvcnRDb250cm9sbGVyLmFib3J0KCksTyhlKSl9fXZhciBLbz1PYmplY3QuZGVmaW5lUHJvcGVydHksQm89KHIsZSx0KT0+ZSBpbiByP0tvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxGaT0ocixlLHQpPT5CbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIE1pIGV4dGVuZHMgbnN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMucHJvamVjdElkPWUsdGhpcy5sb2dnZXI9dCxGaSh0aGlzLFwiY29udGV4dFwiLFh0KSxGaSh0aGlzLFwicmVnaXN0ZXJEZXZpY2VUb2tlblwiLGFzeW5jIGk9Pntjb25zdHtjbGllbnRJZDpzLHRva2VuOm4sbm90aWZpY2F0aW9uVHlwZTpvLGVuYWJsZUVuY3J5cHRlZDphPSExfT1pLGM9YCR7WnR9LyR7dGhpcy5wcm9qZWN0SWR9L2NsaWVudHNgO2F3YWl0IGZldGNoKGMse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtjbGllbnRfaWQ6cyx0eXBlOm8sdG9rZW46bixhbHdheXNfcmF3OmF9KX0pfSksdGhpcy5sb2dnZXI9Tih0LHRoaXMuY29udGV4dCl9fXZhciBWbz1PYmplY3QuZGVmaW5lUHJvcGVydHksS2k9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxxbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEdvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsWmU9KHIsZSx0KT0+ZSBpbiByP1ZvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxiZT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpcW8uY2FsbChlLHQpJiZaZShyLHQsZVt0XSk7aWYoS2kpZm9yKHZhciB0IG9mIEtpKGUpKUdvLmNhbGwoZSx0KSYmWmUocix0LGVbdF0pO3JldHVybiByfSxFPShyLGUsdCk9PlplKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgQmkgZXh0ZW5kcyBvc3tjb25zdHJ1Y3RvcihlLHQsaT0hMCl7c3VwZXIoZSx0LGkpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsRSh0aGlzLFwiY29udGV4dFwiLGVpKSxFKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsQiksRSh0aGlzLFwic3RvcmFnZVZlcnNpb25cIixRdCksRSh0aGlzLFwiZXZlbnRzXCIsbmV3IE1hcCksRSh0aGlzLFwic2hvdWxkUGVyc2lzdFwiLCExKSxFKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e2lmKCF5dCgpKXRyeXtjb25zdCBzPXtldmVudElkOmJ0KCksdGltZXN0YW1wOkRhdGUubm93KCksZG9tYWluOnRoaXMuZ2V0QXBwRG9tYWluKCkscHJvcHM6e2V2ZW50OlwiSU5JVFwiLHR5cGU6XCJcIixwcm9wZXJ0aWVzOntjbGllbnRfaWQ6YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5nZXRDbGllbnRJZCgpLHVzZXJfYWdlbnQ6a3ModGhpcy5jb3JlLnJlbGF5ZXIucHJvdG9jb2wsdGhpcy5jb3JlLnJlbGF5ZXIudmVyc2lvbixfZSl9fX07YXdhaXQgdGhpcy5zZW5kRXZlbnQoW3NdKX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMpfX0pLEUodGhpcyxcImNyZWF0ZUV2ZW50XCIscz0+e2NvbnN0e2V2ZW50Om49XCJFUlJPUlwiLHR5cGU6bz1cIlwiLHByb3BlcnRpZXM6e3RvcGljOmEsdHJhY2U6Y319PXMsaD1idCgpLGw9dGhpcy5jb3JlLnByb2plY3RJZHx8XCJcIixkPURhdGUubm93KCksZz1iZSh7ZXZlbnRJZDpoLHRpbWVzdGFtcDpkLHByb3BzOntldmVudDpuLHR5cGU6byxwcm9wZXJ0aWVzOnt0b3BpYzphLHRyYWNlOmN9fSxidW5kbGVJZDpsLGRvbWFpbjp0aGlzLmdldEFwcERvbWFpbigpfSx0aGlzLnNldE1ldGhvZHMoaCkpO3JldHVybiB0aGlzLnRlbGVtZXRyeUVuYWJsZWQmJih0aGlzLmV2ZW50cy5zZXQoaCxnKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApLGd9KSxFKHRoaXMsXCJnZXRFdmVudFwiLHM9Pntjb25zdHtldmVudElkOm4sdG9waWM6b309cztpZihuKXJldHVybiB0aGlzLmV2ZW50cy5nZXQobik7Y29uc3QgYT1BcnJheS5mcm9tKHRoaXMuZXZlbnRzLnZhbHVlcygpKS5maW5kKGM9PmMucHJvcHMucHJvcGVydGllcy50b3BpYz09PW8pO2lmKGEpcmV0dXJuIGJlKGJlKHt9LGEpLHRoaXMuc2V0TWV0aG9kcyhhLmV2ZW50SWQpKX0pLEUodGhpcyxcImRlbGV0ZUV2ZW50XCIscz0+e2NvbnN0e2V2ZW50SWQ6bn09czt0aGlzLmV2ZW50cy5kZWxldGUobiksdGhpcy5zaG91bGRQZXJzaXN0PSEwfSksRSh0aGlzLFwic2V0RXZlbnRMaXN0ZW5lcnNcIiwoKT0+e3RoaXMuY29yZS5oZWFydGJlYXQub24obmUucHVsc2UsYXN5bmMoKT0+e3RoaXMuc2hvdWxkUGVyc2lzdCYmYXdhaXQgdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZm9yRWFjaChzPT57aXQoRGF0ZS5ub3coKSktaXQocy50aW1lc3RhbXApPnRpJiYodGhpcy5ldmVudHMuZGVsZXRlKHMuZXZlbnRJZCksdGhpcy5zaG91bGRQZXJzaXN0PSEwKX0pfSl9KSxFKHRoaXMsXCJzZXRNZXRob2RzXCIscz0+KHthZGRUcmFjZTpuPT50aGlzLmFkZFRyYWNlKHMsbiksc2V0RXJyb3I6bj0+dGhpcy5zZXRFcnJvcihzLG4pfSkpLEUodGhpcyxcImFkZFRyYWNlXCIsKHMsbik9Pntjb25zdCBvPXRoaXMuZXZlbnRzLmdldChzKTtvJiYoby5wcm9wcy5wcm9wZXJ0aWVzLnRyYWNlLnB1c2gobiksdGhpcy5ldmVudHMuc2V0KHMsbyksdGhpcy5zaG91bGRQZXJzaXN0PSEwKX0pLEUodGhpcyxcInNldEVycm9yXCIsKHMsbik9Pntjb25zdCBvPXRoaXMuZXZlbnRzLmdldChzKTtvJiYoby5wcm9wcy50eXBlPW4sby50aW1lc3RhbXA9RGF0ZS5ub3coKSx0aGlzLmV2ZW50cy5zZXQocyxvKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApfSksRSh0aGlzLFwicGVyc2lzdFwiLGFzeW5jKCk9Pnthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxBcnJheS5mcm9tKHRoaXMuZXZlbnRzLnZhbHVlcygpKSksdGhpcy5zaG91bGRQZXJzaXN0PSExfSksRSh0aGlzLFwicmVzdG9yZVwiLGFzeW5jKCk9Pnt0cnl7Y29uc3Qgcz1hd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl8fFtdO2lmKCFzLmxlbmd0aClyZXR1cm47cy5mb3JFYWNoKG49Pnt0aGlzLmV2ZW50cy5zZXQobi5ldmVudElkLGJlKGJlKHt9LG4pLHRoaXMuc2V0TWV0aG9kcyhuLmV2ZW50SWQpKSl9KX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMpfX0pLEUodGhpcyxcInN1Ym1pdFwiLGFzeW5jKCk9PntpZighdGhpcy50ZWxlbWV0cnlFbmFibGVkfHx0aGlzLmV2ZW50cy5zaXplPT09MClyZXR1cm47Y29uc3Qgcz1bXTtmb3IoY29uc3RbbixvXW9mIHRoaXMuZXZlbnRzKW8ucHJvcHMudHlwZSYmcy5wdXNoKG8pO2lmKHMubGVuZ3RoIT09MCl0cnl7aWYoKGF3YWl0IHRoaXMuc2VuZEV2ZW50KHMpKS5vaylmb3IoY29uc3QgbiBvZiBzKXRoaXMuZXZlbnRzLmRlbGV0ZShuLmV2ZW50SWQpLHRoaXMuc2hvdWxkUGVyc2lzdD0hMH1jYXRjaChuKXt0aGlzLmxvZ2dlci53YXJuKG4pfX0pLEUodGhpcyxcInNlbmRFdmVudFwiLGFzeW5jIHM9Pntjb25zdCBuPXRoaXMuZ2V0QXBwRG9tYWluKCk/XCJcIjpcIiZzcD1kZXNrdG9wXCI7cmV0dXJuIGF3YWl0IGZldGNoKGAke2lpfT9wcm9qZWN0SWQ9JHt0aGlzLmNvcmUucHJvamVjdElkfSZzdD1ldmVudHNfc2RrJnN2PWpzLSR7X2V9JHtufWAse21ldGhvZDpcIlBPU1RcIixib2R5OkpTT04uc3RyaW5naWZ5KHMpfSl9KSxFKHRoaXMsXCJnZXRBcHBEb21haW5cIiwoKT0+anMoKS51cmwpLHRoaXMubG9nZ2VyPU4odCx0aGlzLmNvbnRleHQpLHRoaXMudGVsZW1ldHJ5RW5hYmxlZD1pLGk/dGhpcy5yZXN0b3JlKCkudGhlbihhc3luYygpPT57YXdhaXQgdGhpcy5zdWJtaXQoKSx0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCl9KTp0aGlzLnBlcnNpc3QoKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy5zdG9yYWdlVmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5jb250ZXh0fX12YXIgV289T2JqZWN0LmRlZmluZVByb3BlcnR5LFZpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsSG89T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxZbz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFFlPShyLGUsdCk9PmUgaW4gcj9XbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQscWk9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKUhvLmNhbGwoZSx0KSYmUWUocix0LGVbdF0pO2lmKFZpKWZvcih2YXIgdCBvZiBWaShlKSlZby5jYWxsKGUsdCkmJlFlKHIsdCxlW3RdKTtyZXR1cm4gcn0sdj0ocixlLHQpPT5RZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFRlIGV4dGVuZHMgYXN7Y29uc3RydWN0b3IoZSl7dmFyIHQ7c3VwZXIoZSksdih0aGlzLFwicHJvdG9jb2xcIix6ZSksdih0aGlzLFwidmVyc2lvblwiLExlKSx2KHRoaXMsXCJuYW1lXCIsaGUpLHYodGhpcyxcInJlbGF5VXJsXCIpLHYodGhpcyxcInByb2plY3RJZFwiKSx2KHRoaXMsXCJjdXN0b21TdG9yYWdlUHJlZml4XCIpLHYodGhpcyxcImV2ZW50c1wiLG5ldyBlZSksdih0aGlzLFwibG9nZ2VyXCIpLHYodGhpcyxcImhlYXJ0YmVhdFwiKSx2KHRoaXMsXCJyZWxheWVyXCIpLHYodGhpcyxcImNyeXB0b1wiKSx2KHRoaXMsXCJzdG9yYWdlXCIpLHYodGhpcyxcImhpc3RvcnlcIiksdih0aGlzLFwiZXhwaXJlclwiKSx2KHRoaXMsXCJwYWlyaW5nXCIpLHYodGhpcyxcInZlcmlmeVwiKSx2KHRoaXMsXCJlY2hvQ2xpZW50XCIpLHYodGhpcyxcImxpbmtNb2RlU3VwcG9ydGVkQXBwc1wiKSx2KHRoaXMsXCJldmVudENsaWVudFwiKSx2KHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSx2KHRoaXMsXCJsb2dDaHVua0NvbnRyb2xsZXJcIiksdih0aGlzLFwib25cIiwoYSxjKT0+dGhpcy5ldmVudHMub24oYSxjKSksdih0aGlzLFwib25jZVwiLChhLGMpPT50aGlzLmV2ZW50cy5vbmNlKGEsYykpLHYodGhpcyxcIm9mZlwiLChhLGMpPT50aGlzLmV2ZW50cy5vZmYoYSxjKSksdih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoYSxjKT0+dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoYSxjKSksdih0aGlzLFwiZGlzcGF0Y2hFbnZlbG9wZVwiLCh7dG9waWM6YSxtZXNzYWdlOmMsc2Vzc2lvbkV4aXN0czpofSk9PntpZighYXx8IWMpcmV0dXJuO2NvbnN0IGw9e3RvcGljOmEsbWVzc2FnZTpjLHB1Ymxpc2hlZEF0OkRhdGUubm93KCksdHJhbnNwb3J0VHlwZTpRLmxpbmtfbW9kZX07dGhpcy5yZWxheWVyLm9uTGlua01lc3NhZ2VFdmVudChsLHtzZXNzaW9uRXhpc3RzOmh9KX0pO2NvbnN0IGk9dGhpcy5nZXRHbG9iYWxDb3JlKGU/LmN1c3RvbVN0b3JhZ2VQcmVmaXgpO2lmKGkpdHJ5e3JldHVybiB0aGlzLmN1c3RvbVN0b3JhZ2VQcmVmaXg9aS5jdXN0b21TdG9yYWdlUHJlZml4LHRoaXMubG9nZ2VyPWkubG9nZ2VyLHRoaXMuaGVhcnRiZWF0PWkuaGVhcnRiZWF0LHRoaXMuY3J5cHRvPWkuY3J5cHRvLHRoaXMuaGlzdG9yeT1pLmhpc3RvcnksdGhpcy5leHBpcmVyPWkuZXhwaXJlcix0aGlzLnN0b3JhZ2U9aS5zdG9yYWdlLHRoaXMucmVsYXllcj1pLnJlbGF5ZXIsdGhpcy5wYWlyaW5nPWkucGFpcmluZyx0aGlzLnZlcmlmeT1pLnZlcmlmeSx0aGlzLmVjaG9DbGllbnQ9aS5lY2hvQ2xpZW50LHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzPWkubGlua01vZGVTdXBwb3J0ZWRBcHBzLHRoaXMuZXZlbnRDbGllbnQ9aS5ldmVudENsaWVudCx0aGlzLmluaXRpYWxpemVkPWkuaW5pdGlhbGl6ZWQsdGhpcy5sb2dDaHVua0NvbnRyb2xsZXI9aS5sb2dDaHVua0NvbnRyb2xsZXIsaX1jYXRjaChhKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gY29weSBnbG9iYWwgY29yZVwiLGEpfXRoaXMucHJvamVjdElkPWU/LnByb2plY3RJZCx0aGlzLnJlbGF5VXJsPWU/LnJlbGF5VXJsfHxVZSx0aGlzLmN1c3RvbVN0b3JhZ2VQcmVmaXg9ZSE9bnVsbCYmZS5jdXN0b21TdG9yYWdlUHJlZml4P2A6JHtlLmN1c3RvbVN0b3JhZ2VQcmVmaXh9YDpcIlwiO2NvbnN0IHM9ZXQoe2xldmVsOnR5cGVvZiBlPy5sb2dnZXI9PVwic3RyaW5nXCImJmUubG9nZ2VyP2UubG9nZ2VyOkV0LmxvZ2dlcixuYW1lOmhlfSkse2xvZ2dlcjpuLGNodW5rTG9nZ2VyQ29udHJvbGxlcjpvfT1KaSh7b3B0czpzLG1heFNpemVJbkJ5dGVzOmU/Lm1heExvZ0Jsb2JTaXplSW5CeXRlcyxsb2dnZXJPdmVycmlkZTplPy5sb2dnZXJ9KTt0aGlzLmxvZ0NodW5rQ29udHJvbGxlcj1vLCh0PXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKSE9bnVsbCYmdC5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyJiYod2luZG93LmRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXI9YXN5bmMoKT0+e3ZhciBhLGM7KGE9dGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpIT1udWxsJiZhLmRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXImJigoYz10aGlzLmxvZ0NodW5rQ29udHJvbGxlcik9PW51bGx8fGMuZG93bmxvYWRMb2dzQmxvYkluQnJvd3Nlcih7Y2xpZW50SWQ6YXdhaXQgdGhpcy5jcnlwdG8uZ2V0Q2xpZW50SWQoKX0pKX0pLHRoaXMubG9nZ2VyPU4obix0aGlzLm5hbWUpLHRoaXMuaGVhcnRiZWF0PW5ldyBXaSx0aGlzLmNyeXB0bz1uZXcgdmkodGhpcyx0aGlzLmxvZ2dlcixlPy5rZXljaGFpbiksdGhpcy5oaXN0b3J5PW5ldyBraSh0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLmV4cGlyZXI9bmV3IGppKHRoaXMsdGhpcy5sb2dnZXIpLHRoaXMuc3RvcmFnZT1lIT1udWxsJiZlLnN0b3JhZ2U/ZS5zdG9yYWdlOm5ldyBIaShxaShxaSh7fSxJdCksZT8uc3RvcmFnZU9wdGlvbnMpKSx0aGlzLnJlbGF5ZXI9bmV3IFNpKHtjb3JlOnRoaXMsbG9nZ2VyOnRoaXMubG9nZ2VyLHJlbGF5VXJsOnRoaXMucmVsYXlVcmwscHJvamVjdElkOnRoaXMucHJvamVjdElkfSksdGhpcy5wYWlyaW5nPW5ldyBMaSh0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLnZlcmlmeT1uZXcgVWkodGhpcyx0aGlzLmxvZ2dlcix0aGlzLnN0b3JhZ2UpLHRoaXMuZWNob0NsaWVudD1uZXcgTWkodGhpcy5wcm9qZWN0SWR8fFwiXCIsdGhpcy5sb2dnZXIpLHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzPVtdLHRoaXMuZXZlbnRDbGllbnQ9bmV3IEJpKHRoaXMsdGhpcy5sb2dnZXIsZT8udGVsZW1ldHJ5RW5hYmxlZCksdGhpcy5zZXRHbG9iYWxDb3JlKHRoaXMpfXN0YXRpYyBhc3luYyBpbml0KGUpe2NvbnN0IHQ9bmV3IFRlKGUpO2F3YWl0IHQuaW5pdGlhbGl6ZSgpO2NvbnN0IGk9YXdhaXQgdC5jcnlwdG8uZ2V0Q2xpZW50SWQoKTtyZXR1cm4gYXdhaXQgdC5zdG9yYWdlLnNldEl0ZW0oanQsaSksdH1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1hc3luYyBzdGFydCgpe3RoaXMuaW5pdGlhbGl6ZWR8fGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpfWFzeW5jIGdldExvZ3NCbG9iKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpPT1udWxsP3ZvaWQgMDplLmxvZ3NUb0Jsb2Ioe2NsaWVudElkOmF3YWl0IHRoaXMuY3J5cHRvLmdldENsaWVudElkKCl9KX1hc3luYyBhZGRMaW5rTW9kZVN1cHBvcnRlZEFwcChlKXt0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5pbmNsdWRlcyhlKXx8KHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzLnB1c2goZSksYXdhaXQgdGhpcy5zdG9yYWdlLnNldEl0ZW0oRmUsdGhpcy5saW5rTW9kZVN1cHBvcnRlZEFwcHMpKX1hc3luYyBpbml0aWFsaXplKCl7dGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKTt0cnl7YXdhaXQgdGhpcy5jcnlwdG8uaW5pdCgpLGF3YWl0IHRoaXMuaGlzdG9yeS5pbml0KCksYXdhaXQgdGhpcy5leHBpcmVyLmluaXQoKSxhd2FpdCB0aGlzLnJlbGF5ZXIuaW5pdCgpLGF3YWl0IHRoaXMuaGVhcnRiZWF0LmluaXQoKSxhd2FpdCB0aGlzLnBhaXJpbmcuaW5pdCgpLHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzPWF3YWl0IHRoaXMuc3RvcmFnZS5nZXRJdGVtKEZlKXx8W10sdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLmxvZ2dlci5pbmZvKFwiQ29yZSBJbml0aWFsaXphdGlvbiBTdWNjZXNzXCIpfWNhdGNoKGUpe3Rocm93IHRoaXMubG9nZ2VyLndhcm4oYENvcmUgSW5pdGlhbGl6YXRpb24gRmFpbHVyZSBhdCBlcG9jaCAke0RhdGUubm93KCl9YCxlKSx0aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpLGV9fWdldEdsb2JhbENvcmUoZT1cIlwiKXt0cnl7aWYodGhpcy5pc0dsb2JhbENvcmVEaXNhYmxlZCgpKXJldHVybjtjb25zdCB0PWBfd2FsbGV0Q29ubmVjdENvcmVfJHtlfWAsaT1gJHt0fV9jb3VudGA7cmV0dXJuIGdsb2JhbFRoaXNbaV09KGdsb2JhbFRoaXNbaV18fDApKzEsZ2xvYmFsVGhpc1tpXT4xJiZjb25zb2xlLndhcm4oYFdhbGxldENvbm5lY3QgQ29yZSBpcyBhbHJlYWR5IGluaXRpYWxpemVkLiBUaGlzIGlzIHByb2JhYmx5IGEgbWlzdGFrZSBhbmQgY2FuIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci4gSW5pdCgpIHdhcyBjYWxsZWQgJHtnbG9iYWxUaGlzW2ldfSB0aW1lcy5gKSxnbG9iYWxUaGlzW3RdfWNhdGNoKHQpe2NvbnNvbGUud2FybihcIkZhaWxlZCB0byBnZXQgZ2xvYmFsIFdhbGxldENvbm5lY3QgY29yZVwiLHQpO3JldHVybn19c2V0R2xvYmFsQ29yZShlKXt2YXIgdDt0cnl7aWYodGhpcy5pc0dsb2JhbENvcmVEaXNhYmxlZCgpKXJldHVybjtjb25zdCBpPWBfd2FsbGV0Q29ubmVjdENvcmVfJHsoKHQ9ZS5vcHRzKT09bnVsbD92b2lkIDA6dC5jdXN0b21TdG9yYWdlUHJlZml4KXx8XCJcIn1gO2dsb2JhbFRoaXNbaV09ZX1jYXRjaChpKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gc2V0IGdsb2JhbCBXYWxsZXRDb25uZWN0IGNvcmVcIixpKX19aXNHbG9iYWxDb3JlRGlzYWJsZWQoKXt0cnl7cmV0dXJuIHR5cGVvZiBwcm9jZXNzPFwidVwiJiZwcm9jZXNzLmVudi5ESVNBQkxFX0dMT0JBTF9DT1JFPT09XCJ0cnVlXCJ9Y2F0Y2h7cmV0dXJuITB9fX1jb25zdCBKbz1UZTtleHBvcnR7aGUgYXMgQ09SRV9DT05URVhULEV0IGFzIENPUkVfREVGQVVMVCx6ZSBhcyBDT1JFX1BST1RPQ09MLEl0IGFzIENPUkVfU1RPUkFHRV9PUFRJT05TLEIgYXMgQ09SRV9TVE9SQUdFX1BSRUZJWCxMZSBhcyBDT1JFX1ZFUlNJT04sa2UgYXMgQ1JZUFRPX0NMSUVOVF9TRUVELFR0IGFzIENSWVBUT19DT05URVhULEN0IGFzIENSWVBUT19KV1RfVFRMLEpvIGFzIENvcmUsdmkgYXMgQ3J5cHRvLFh0IGFzIEVDSE9fQ09OVEVYVCxadCBhcyBFQ0hPX1VSTCxpaSBhcyBFVkVOVFNfQ0xJRU5UX0FQSV9VUkwsdGkgYXMgRVZFTlRTX1NUT1JBR0VfQ0xFQU5VUF9JTlRFUlZBTCxlaSBhcyBFVkVOVFNfU1RPUkFHRV9DT05URVhULFF0IGFzIEVWRU5UU19TVE9SQUdFX1ZFUlNJT04saXIgYXMgRVZFTlRfQ0xJRU5UX0FVVEhFTlRJQ0FURV9FUlJPUlMsdHIgYXMgRVZFTlRfQ0xJRU5UX0FVVEhFTlRJQ0FURV9UUkFDRVMsWnMgYXMgRVZFTlRfQ0xJRU5UX0NPTlRFWFQsWSBhcyBFVkVOVF9DTElFTlRfUEFJUklOR19FUlJPUlMsRyBhcyBFVkVOVF9DTElFTlRfUEFJUklOR19UUkFDRVMsZXIgYXMgRVZFTlRfQ0xJRU5UX1NFU1NJT05fRVJST1JTLFFzIGFzIEVWRU5UX0NMSUVOVF9TRVNTSU9OX1RSQUNFUyxxdCBhcyBFWFBJUkVSX0NPTlRFWFQsSnMgYXMgRVhQSVJFUl9ERUZBVUxUX1RUTCxNIGFzIEVYUElSRVJfRVZFTlRTLEd0IGFzIEVYUElSRVJfU1RPUkFHRV9WRVJTSU9OLE1pIGFzIEVjaG9DbGllbnQsQmkgYXMgRXZlbnRDbGllbnQsamkgYXMgRXhwaXJlcixCdCBhcyBISVNUT1JZX0NPTlRFWFQsRiBhcyBISVNUT1JZX0VWRU5UUyxWdCBhcyBISVNUT1JZX1NUT1JBR0VfVkVSU0lPTixraSBhcyBKc29uUnBjSGlzdG9yeSxQdCBhcyBLRVlDSEFJTl9DT05URVhULFN0IGFzIEtFWUNIQUlOX1NUT1JBR0VfVkVSU0lPTixEaSBhcyBLZXlDaGFpbixSdCBhcyBNRVNTQUdFU19DT05URVhULE90IGFzIE1FU1NBR0VTX1NUT1JBR0VfVkVSU0lPTixsZSBhcyBNRVNTQUdFX0RJUkVDVElPTixfaSBhcyBNZXNzYWdlVHJhY2tlcixNdCBhcyBQQUlSSU5HX0NPTlRFWFQsWXMgYXMgUEFJUklOR19ERUZBVUxUX1RUTCxzZSBhcyBQQUlSSU5HX0VWRU5UUyxpZSBhcyBQQUlSSU5HX1JQQ19PUFRTLEt0IGFzIFBBSVJJTkdfU1RPUkFHRV9WRVJTSU9OLEhzIGFzIFBFTkRJTkdfU1VCX1JFU09MVVRJT05fVElNRU9VVCxBdCBhcyBQVUJMSVNIRVJfQ09OVEVYVCxqZSBhcyBQVUJMSVNIRVJfREVGQVVMVF9UVEwsTGkgYXMgUGFpcmluZywkdCBhcyBSRUxBWUVSX0NPTlRFWFQsTnQgYXMgUkVMQVlFUl9ERUZBVUxUX0xPR0dFUix4dCBhcyBSRUxBWUVSX0RFRkFVTFRfUFJPVE9DT0wsVWUgYXMgUkVMQVlFUl9ERUZBVUxUX1JFTEFZX1VSTCxDIGFzIFJFTEFZRVJfRVZFTlRTLEwgYXMgUkVMQVlFUl9QUk9WSURFUl9FVkVOVFMsTHQgYXMgUkVMQVlFUl9SRUNPTk5FQ1RfVElNRU9VVCxfZSBhcyBSRUxBWUVSX1NES19WRVJTSU9OLHFzIGFzIFJFTEFZRVJfU1RPUkFHRV9PUFRJT05TLHp0IGFzIFJFTEFZRVJfU1VCU0NSSUJFUl9TVUZGSVgsR3MgYXMgUkVMQVlFUl9UUkFOU1BPUlRfQ1VUT0ZGLFNpIGFzIFJlbGF5ZXIsa3QgYXMgU1RPUkVfU1RPUkFHRV9WRVJTSU9OLFV0IGFzIFNVQlNDUklCRVJfQ09OVEVYVCxXcyBhcyBTVUJTQ1JJQkVSX0RFRkFVTFRfVFRMLCQgYXMgU1VCU0NSSUJFUl9FVkVOVFMsRnQgYXMgU1VCU0NSSUJFUl9TVE9SQUdFX1ZFUlNJT04semkgYXMgU3RvcmUsVGkgYXMgU3Vic2NyaWJlcixRIGFzIFRSQU5TUE9SVF9UWVBFUyxKdCBhcyBUUlVTVEVEX1ZFUklGWV9VUkxTLFd0IGFzIFZFUklGWV9DT05URVhULHVlIGFzIFZFUklGWV9TRVJWRVIsWXQgYXMgVkVSSUZZX1NFUlZFUl9WMyxVaSBhcyBWZXJpZnksanQgYXMgV0FMTEVUQ09OTkVDVF9DTElFTlRfSUQsRmUgYXMgV0FMTEVUQ09OTkVDVF9MSU5LX01PREVfQVBQUyxUZSBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/core/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/core/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/core/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeyValueStorage: () => (/* binding */ h),\n/* harmony export */   \"default\": () => (/* binding */ h)\n/* harmony export */ });\n/* harmony import */ var unstorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! unstorage */ \"(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/index.mjs\");\n/* harmony import */ var idb_keyval__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! idb-keyval */ \"(ssr)/./node_modules/idb-keyval/dist/index.js\");\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\nfunction C(i){return i}const x=\"idb-keyval\";var z=(i={})=>{const t=i.base&&i.base.length>0?`${i.base}:`:\"\",e=s=>t+s;let n;return i.dbName&&i.storeName&&(n=(0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.createStore)(i.dbName,i.storeName)),{name:x,options:i,async hasItem(s){return!(typeof await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.get)(e(s),n)>\"u\")},async getItem(s){return await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.get)(e(s),n)??null},setItem(s,a){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.set)(e(s),a,n)},removeItem(s){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.del)(e(s),n)},getKeys(){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.keys)(n)},clear(){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.clear)(n)}}};const D=\"WALLET_CONNECT_V2_INDEXED_DB\",E=\"keyvaluestorage\";class _{constructor(){this.indexedDb=(0,unstorage__WEBPACK_IMPORTED_MODULE_2__.createStorage)({driver:z({dbName:D,storeName:E})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const e=await this.indexedDb.getItem(t);if(e!==null)return e}async setItem(t,e){await this.indexedDb.setItem(t,(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonStringify)(e))}async removeItem(t){await this.indexedDb.removeItem(t)}}var l=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{},c={exports:{}};(function(){let i;function t(){}i=t,i.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},i.prototype.setItem=function(e,n){this[e]=String(n)},i.prototype.removeItem=function(e){delete this[e]},i.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(n){e[n]=void 0,delete e[n]})},i.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},i.prototype.__defineGetter__(\"length\",function(){return Object.keys(this).length}),typeof l<\"u\"&&l.localStorage?c.exports=l.localStorage:typeof window<\"u\"&&window.localStorage?c.exports=window.localStorage:c.exports=new t})();function k(i){var t;return[i[0],(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonParse)((t=i[1])!=null?t:\"\")]}class K{constructor(){this.localStorage=c.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k)}async getItem(t){const e=this.localStorage.getItem(t);if(e!==null)return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonParse)(e)}async setItem(t,e){this.localStorage.setItem(t,(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonStringify)(e))}async removeItem(t){this.localStorage.removeItem(t)}}const N=\"wc_storage_version\",y=1,O=async(i,t,e)=>{const n=N,s=await t.getItem(n);if(s&&s>=y){e(t);return}const a=await i.getKeys();if(!a.length){e(t);return}const m=[];for(;a.length;){const r=a.shift();if(!r)continue;const o=r.toLowerCase();if(o.includes(\"wc@\")||o.includes(\"walletconnect\")||o.includes(\"wc_\")||o.includes(\"wallet_connect\")){const f=await i.getItem(r);await t.setItem(r,f),m.push(r)}}await t.setItem(n,y),e(t),j(i,m)},j=async(i,t)=>{t.length&&t.forEach(async e=>{await i.removeItem(e)})};class h{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const t=new K;this.storage=t;try{const e=new _;O(t,e,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const e=setInterval(()=>{this.initialized&&(clearInterval(e),t())},20)})}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qva2V5dmFsdWVzdG9yYWdlL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbU4sY0FBYyxTQUFTLHFCQUFxQixXQUFXLElBQUksbUNBQW1DLE9BQU8sZUFBZSxNQUFNLGlDQUFpQyx1REFBQyx5QkFBeUIsa0NBQWtDLHFCQUFxQiwrQ0FBQyxjQUFjLGtCQUFrQixhQUFhLCtDQUFDLGVBQWUsY0FBYyxPQUFPLCtDQUFDLFdBQVcsZUFBZSxPQUFPLCtDQUFDLFNBQVMsV0FBVyxPQUFPLGdEQUFDLElBQUksU0FBUyxPQUFPLGlEQUFDLE9BQU8sMkRBQTJELFFBQVEsY0FBYyxlQUFlLHdEQUFDLEVBQUUsVUFBVSxxQkFBcUIsRUFBRSxFQUFFLGdCQUFnQixnQ0FBZ0MsbUJBQW1CLDhGQUE4RixpQkFBaUIsd0NBQXdDLHFCQUFxQixtQkFBbUIsK0JBQStCLDJFQUFDLEtBQUssb0JBQW9CLG9DQUFvQyxnSEFBZ0gsSUFBSSxZQUFZLFlBQVksTUFBTSxjQUFjLG9DQUFvQyxtREFBbUQsbUNBQW1DLGtCQUFrQixvQ0FBb0MsZUFBZSw4QkFBOEIsYUFBYSxtQ0FBbUMsd0JBQXdCLEVBQUUsNkJBQTZCLG1DQUFtQyxrREFBa0QsZ0NBQWdDLDZJQUE2SSxJQUFJLGNBQWMsTUFBTSxZQUFZLHVFQUFDLHVCQUF1QixRQUFRLGNBQWMsNEJBQTRCLGdCQUFnQixzQ0FBc0MsbUJBQW1CLGdEQUFnRCxpQkFBaUIscUNBQXFDLG1CQUFtQix1RUFBQyxJQUFJLG1CQUFtQiw0QkFBNEIsMkVBQUMsS0FBSyxvQkFBb0IsaUNBQWlDLGtEQUFrRCwrQkFBK0IsWUFBWSxLQUFLLE9BQU8sMEJBQTBCLGNBQWMsS0FBSyxPQUFPLFdBQVcsS0FBSyxTQUFTLEVBQUUsa0JBQWtCLGVBQWUsd0JBQXdCLG9HQUFvRywyQkFBMkIsZ0NBQWdDLGlDQUFpQyxnQkFBZ0IsOEJBQThCLHNCQUFzQixHQUFHLFFBQVEsY0FBYyw0Q0FBNEMsb0NBQW9DLGNBQWMsZUFBZSxJQUFJLGNBQWMsMkJBQTJCLE1BQU0scUJBQXFCLGdCQUFnQixzREFBc0QsbUJBQW1CLHlEQUF5RCxpQkFBaUIsdURBQXVELG1CQUFtQix5REFBeUQsb0JBQW9CLDBEQUEwRCxtQkFBbUIsd0NBQXdDLHlCQUF5Qix5Q0FBeUMsS0FBSyxHQUE2QztBQUM3N0ciLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qva2V5dmFsdWVzdG9yYWdlL2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e2NyZWF0ZVN0b3JhZ2UgYXMgd31mcm9tXCJ1bnN0b3JhZ2VcIjtpbXBvcnR7Y3JlYXRlU3RvcmUgYXMgSSxnZXQgYXMgdSxzZXQgYXMgcCxkZWwgYXMgYixrZXlzIGFzIHYsY2xlYXIgYXMgU31mcm9tXCJpZGIta2V5dmFsXCI7aW1wb3J0e3NhZmVKc29uU3RyaW5naWZ5IGFzIGcsc2FmZUpzb25QYXJzZSBhcyBkfWZyb21cIkB3YWxsZXRjb25uZWN0L3NhZmUtanNvblwiO2Z1bmN0aW9uIEMoaSl7cmV0dXJuIGl9Y29uc3QgeD1cImlkYi1rZXl2YWxcIjt2YXIgej0oaT17fSk9Pntjb25zdCB0PWkuYmFzZSYmaS5iYXNlLmxlbmd0aD4wP2Ake2kuYmFzZX06YDpcIlwiLGU9cz0+dCtzO2xldCBuO3JldHVybiBpLmRiTmFtZSYmaS5zdG9yZU5hbWUmJihuPUkoaS5kYk5hbWUsaS5zdG9yZU5hbWUpKSx7bmFtZTp4LG9wdGlvbnM6aSxhc3luYyBoYXNJdGVtKHMpe3JldHVybiEodHlwZW9mIGF3YWl0IHUoZShzKSxuKT5cInVcIil9LGFzeW5jIGdldEl0ZW0ocyl7cmV0dXJuIGF3YWl0IHUoZShzKSxuKT8/bnVsbH0sc2V0SXRlbShzLGEpe3JldHVybiBwKGUocyksYSxuKX0scmVtb3ZlSXRlbShzKXtyZXR1cm4gYihlKHMpLG4pfSxnZXRLZXlzKCl7cmV0dXJuIHYobil9LGNsZWFyKCl7cmV0dXJuIFMobil9fX07Y29uc3QgRD1cIldBTExFVF9DT05ORUNUX1YyX0lOREVYRURfREJcIixFPVwia2V5dmFsdWVzdG9yYWdlXCI7Y2xhc3MgX3tjb25zdHJ1Y3Rvcigpe3RoaXMuaW5kZXhlZERiPXcoe2RyaXZlcjp6KHtkYk5hbWU6RCxzdG9yZU5hbWU6RX0pfSl9YXN5bmMgZ2V0S2V5cygpe3JldHVybiB0aGlzLmluZGV4ZWREYi5nZXRLZXlzKCl9YXN5bmMgZ2V0RW50cmllcygpe3JldHVybihhd2FpdCB0aGlzLmluZGV4ZWREYi5nZXRJdGVtcyhhd2FpdCB0aGlzLmluZGV4ZWREYi5nZXRLZXlzKCkpKS5tYXAodD0+W3Qua2V5LHQudmFsdWVdKX1hc3luYyBnZXRJdGVtKHQpe2NvbnN0IGU9YXdhaXQgdGhpcy5pbmRleGVkRGIuZ2V0SXRlbSh0KTtpZihlIT09bnVsbClyZXR1cm4gZX1hc3luYyBzZXRJdGVtKHQsZSl7YXdhaXQgdGhpcy5pbmRleGVkRGIuc2V0SXRlbSh0LGcoZSkpfWFzeW5jIHJlbW92ZUl0ZW0odCl7YXdhaXQgdGhpcy5pbmRleGVkRGIucmVtb3ZlSXRlbSh0KX19dmFyIGw9dHlwZW9mIGdsb2JhbFRoaXM8XCJ1XCI/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93PFwidVwiP3dpbmRvdzp0eXBlb2YgZ2xvYmFsPFwidVwiP2dsb2JhbDp0eXBlb2Ygc2VsZjxcInVcIj9zZWxmOnt9LGM9e2V4cG9ydHM6e319OyhmdW5jdGlvbigpe2xldCBpO2Z1bmN0aW9uIHQoKXt9aT10LGkucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaGFzT3duUHJvcGVydHkoZSk/U3RyaW5nKHRoaXNbZV0pOm51bGx9LGkucHJvdG90eXBlLnNldEl0ZW09ZnVuY3Rpb24oZSxuKXt0aGlzW2VdPVN0cmluZyhuKX0saS5wcm90b3R5cGUucmVtb3ZlSXRlbT1mdW5jdGlvbihlKXtkZWxldGUgdGhpc1tlXX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXM7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXtlW25dPXZvaWQgMCxkZWxldGUgZVtuXX0pfSxpLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8MCxPYmplY3Qua2V5cyh0aGlzKVtlXX0saS5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXyhcImxlbmd0aFwiLGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMpLmxlbmd0aH0pLHR5cGVvZiBsPFwidVwiJiZsLmxvY2FsU3RvcmFnZT9jLmV4cG9ydHM9bC5sb2NhbFN0b3JhZ2U6dHlwZW9mIHdpbmRvdzxcInVcIiYmd2luZG93LmxvY2FsU3RvcmFnZT9jLmV4cG9ydHM9d2luZG93LmxvY2FsU3RvcmFnZTpjLmV4cG9ydHM9bmV3IHR9KSgpO2Z1bmN0aW9uIGsoaSl7dmFyIHQ7cmV0dXJuW2lbMF0sZCgodD1pWzFdKSE9bnVsbD90OlwiXCIpXX1jbGFzcyBLe2NvbnN0cnVjdG9yKCl7dGhpcy5sb2NhbFN0b3JhZ2U9Yy5leHBvcnRzfWFzeW5jIGdldEtleXMoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5sb2NhbFN0b3JhZ2UpfWFzeW5jIGdldEVudHJpZXMoKXtyZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy5sb2NhbFN0b3JhZ2UpLm1hcChrKX1hc3luYyBnZXRJdGVtKHQpe2NvbnN0IGU9dGhpcy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0KTtpZihlIT09bnVsbClyZXR1cm4gZChlKX1hc3luYyBzZXRJdGVtKHQsZSl7dGhpcy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0LGcoZSkpfWFzeW5jIHJlbW92ZUl0ZW0odCl7dGhpcy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0KX19Y29uc3QgTj1cIndjX3N0b3JhZ2VfdmVyc2lvblwiLHk9MSxPPWFzeW5jKGksdCxlKT0+e2NvbnN0IG49TixzPWF3YWl0IHQuZ2V0SXRlbShuKTtpZihzJiZzPj15KXtlKHQpO3JldHVybn1jb25zdCBhPWF3YWl0IGkuZ2V0S2V5cygpO2lmKCFhLmxlbmd0aCl7ZSh0KTtyZXR1cm59Y29uc3QgbT1bXTtmb3IoO2EubGVuZ3RoOyl7Y29uc3Qgcj1hLnNoaWZ0KCk7aWYoIXIpY29udGludWU7Y29uc3Qgbz1yLnRvTG93ZXJDYXNlKCk7aWYoby5pbmNsdWRlcyhcIndjQFwiKXx8by5pbmNsdWRlcyhcIndhbGxldGNvbm5lY3RcIil8fG8uaW5jbHVkZXMoXCJ3Y19cIil8fG8uaW5jbHVkZXMoXCJ3YWxsZXRfY29ubmVjdFwiKSl7Y29uc3QgZj1hd2FpdCBpLmdldEl0ZW0ocik7YXdhaXQgdC5zZXRJdGVtKHIsZiksbS5wdXNoKHIpfX1hd2FpdCB0LnNldEl0ZW0obix5KSxlKHQpLGooaSxtKX0saj1hc3luYyhpLHQpPT57dC5sZW5ndGgmJnQuZm9yRWFjaChhc3luYyBlPT57YXdhaXQgaS5yZW1vdmVJdGVtKGUpfSl9O2NsYXNzIGh7Y29uc3RydWN0b3IoKXt0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuc2V0SW5pdGlhbGl6ZWQ9ZT0+e3RoaXMuc3RvcmFnZT1lLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9O2NvbnN0IHQ9bmV3IEs7dGhpcy5zdG9yYWdlPXQ7dHJ5e2NvbnN0IGU9bmV3IF87Tyh0LGUsdGhpcy5zZXRJbml0aWFsaXplZCl9Y2F0Y2h7dGhpcy5pbml0aWFsaXplZD0hMH19YXN5bmMgZ2V0S2V5cygpe3JldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemUoKSx0aGlzLnN0b3JhZ2UuZ2V0S2V5cygpfWFzeW5jIGdldEVudHJpZXMoKXtyZXR1cm4gYXdhaXQgdGhpcy5pbml0aWFsaXplKCksdGhpcy5zdG9yYWdlLmdldEVudHJpZXMoKX1hc3luYyBnZXRJdGVtKHQpe3JldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemUoKSx0aGlzLnN0b3JhZ2UuZ2V0SXRlbSh0KX1hc3luYyBzZXRJdGVtKHQsZSl7cmV0dXJuIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXMuc3RvcmFnZS5zZXRJdGVtKHQsZSl9YXN5bmMgcmVtb3ZlSXRlbSh0KXtyZXR1cm4gYXdhaXQgdGhpcy5pbml0aWFsaXplKCksdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0odCl9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMuaW5pdGlhbGl6ZWR8fGF3YWl0IG5ldyBQcm9taXNlKHQ9Pntjb25zdCBlPXNldEludGVydmFsKCgpPT57dGhpcy5pbml0aWFsaXplZCYmKGNsZWFySW50ZXJ2YWwoZSksdCgpKX0sMjApfSl9fWV4cG9ydHtoIGFzIEtleVZhbHVlU3RvcmFnZSxoIGFzIGRlZmF1bHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/core/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/core/node_modules/@walletconnect/types/dist/index.es.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/core/node_modules/@walletconnect/types/dist/index.es.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ICore: () => (/* binding */ h),\n/* harmony export */   ICrypto: () => (/* binding */ g),\n/* harmony export */   IEchoClient: () => (/* binding */ O),\n/* harmony export */   IEngine: () => (/* binding */ V),\n/* harmony export */   IEngineEvents: () => (/* binding */ K),\n/* harmony export */   IEventClient: () => (/* binding */ R),\n/* harmony export */   IExpirer: () => (/* binding */ S),\n/* harmony export */   IJsonRpcHistory: () => (/* binding */ I),\n/* harmony export */   IKeyChain: () => (/* binding */ j),\n/* harmony export */   IMessageTracker: () => (/* binding */ y),\n/* harmony export */   IPairing: () => (/* binding */ $),\n/* harmony export */   IPublisher: () => (/* binding */ m),\n/* harmony export */   IRelayer: () => (/* binding */ d),\n/* harmony export */   ISignClient: () => (/* binding */ J),\n/* harmony export */   ISignClientEvents: () => (/* binding */ H),\n/* harmony export */   IStore: () => (/* binding */ f),\n/* harmony export */   ISubscriber: () => (/* binding */ P),\n/* harmony export */   ISubscriberTopicMap: () => (/* binding */ C),\n/* harmony export */   IVerify: () => (/* binding */ M)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\nvar a=Object.defineProperty,u=(e,s,r)=>s in e?a(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,c=(e,s,r)=>u(e,typeof s!=\"symbol\"?s+\"\":s,r);class h extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super(),this.opts=s,c(this,\"protocol\",\"wc\"),c(this,\"version\",2)}}class g{constructor(s,r,t){this.core=s,this.logger=r}}var p=Object.defineProperty,b=(e,s,r)=>s in e?p(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,v=(e,s,r)=>b(e,typeof s!=\"symbol\"?s+\"\":s,r);class I extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r,v(this,\"records\",new Map)}}class y{constructor(s,r){this.logger=s,this.core=r}}class m extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class d extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super()}}class f{constructor(s,r,t,q){this.core=s,this.logger=r,this.name=t}}var E=Object.defineProperty,x=(e,s,r)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,w=(e,s,r)=>x(e,typeof s!=\"symbol\"?s+\"\":s,r);class C{constructor(){w(this,\"map\",new Map)}}class P extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class j{constructor(s,r){this.core=s,this.logger=r}}class S extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r}}class ${constructor(s,r){this.logger=s,this.core=r}}class M{constructor(s,r,t){this.core=s,this.logger=r,this.store=t}}class O{constructor(s,r){this.projectId=s,this.logger=r}}class R{constructor(s,r,t){this.core=s,this.logger=r,this.telemetryEnabled=t}}var T=Object.defineProperty,k=(e,s,r)=>s in e?T(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,i=(e,s,r)=>k(e,typeof s!=\"symbol\"?s+\"\":s,r);class H extends (events__WEBPACK_IMPORTED_MODULE_1___default()){constructor(){super()}}class J{constructor(s){this.opts=s,i(this,\"protocol\",\"wc\"),i(this,\"version\",2)}}class K extends events__WEBPACK_IMPORTED_MODULE_1__.EventEmitter{constructor(){super()}}class V{constructor(s){this.client=s}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdHlwZXMvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlGLHFEQUFxRCxrREFBa0QscURBQXFELGdCQUFnQiwwREFBQyxDQUFDLGVBQWUsaUVBQWlFLFFBQVEsbUJBQW1CLDJCQUEyQixxREFBcUQsa0RBQWtELHFEQUFxRCxnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsNkRBQTZELFFBQVEsaUJBQWlCLDJCQUEyQixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsc0NBQXNDLGdCQUFnQiwwREFBQyxDQUFDLGVBQWUsU0FBUyxRQUFRLHFCQUFxQix1Q0FBdUMscURBQXFELGtEQUFrRCxxREFBcUQsUUFBUSxjQUFjLHVCQUF1QixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsc0NBQXNDLFFBQVEsaUJBQWlCLDJCQUEyQixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsbUNBQW1DLFFBQVEsaUJBQWlCLDJCQUEyQixRQUFRLG1CQUFtQix3Q0FBd0MsUUFBUSxpQkFBaUIsZ0NBQWdDLFFBQVEsbUJBQW1CLG1EQUFtRCxxREFBcUQsa0RBQWtELHFEQUFxRCxnQkFBZ0IsK0NBQUMsQ0FBQyxjQUFjLFNBQVMsUUFBUSxlQUFlLHlEQUF5RCxnQkFBZ0IsZ0RBQUMsQ0FBQyxjQUFjLFNBQVMsUUFBUSxlQUFlLGVBQWdWO0FBQ25xRSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9jb3JlL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90eXBlcy9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtJRXZlbnRzIGFzIG99ZnJvbVwiQHdhbGxldGNvbm5lY3QvZXZlbnRzXCI7aW1wb3J0IG4se0V2ZW50RW1pdHRlciBhcyBsfWZyb21cImV2ZW50c1wiO3ZhciBhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx1PShlLHMscik9PnMgaW4gZT9hKGUscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbc109cixjPShlLHMscik9PnUoZSx0eXBlb2YgcyE9XCJzeW1ib2xcIj9zK1wiXCI6cyxyKTtjbGFzcyBoIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzKXtzdXBlcigpLHRoaXMub3B0cz1zLGModGhpcyxcInByb3RvY29sXCIsXCJ3Y1wiKSxjKHRoaXMsXCJ2ZXJzaW9uXCIsMil9fWNsYXNzIGd7Y29uc3RydWN0b3IocyxyLHQpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXJ9fXZhciBwPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxiPShlLHMscik9PnMgaW4gZT9wKGUscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbc109cix2PShlLHMscik9PmIoZSx0eXBlb2YgcyE9XCJzeW1ib2xcIj9zK1wiXCI6cyxyKTtjbGFzcyBJIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzLHIpe3N1cGVyKCksdGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cix2KHRoaXMsXCJyZWNvcmRzXCIsbmV3IE1hcCl9fWNsYXNzIHl7Y29uc3RydWN0b3IocyxyKXt0aGlzLmxvZ2dlcj1zLHRoaXMuY29yZT1yfX1jbGFzcyBtIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzLHIpe3N1cGVyKCksdGhpcy5yZWxheWVyPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgZCBleHRlbmRzIG97Y29uc3RydWN0b3Iocyl7c3VwZXIoKX19Y2xhc3MgZntjb25zdHJ1Y3RvcihzLHIsdCxxKXt0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHRoaXMubmFtZT10fX12YXIgRT1PYmplY3QuZGVmaW5lUHJvcGVydHkseD0oZSxzLHIpPT5zIGluIGU/RShlLHMse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnJ9KTplW3NdPXIsdz0oZSxzLHIpPT54KGUsdHlwZW9mIHMhPVwic3ltYm9sXCI/cytcIlwiOnMscik7Y2xhc3MgQ3tjb25zdHJ1Y3Rvcigpe3codGhpcyxcIm1hcFwiLG5ldyBNYXApfX1jbGFzcyBQIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzLHIpe3N1cGVyKCksdGhpcy5yZWxheWVyPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3Mgantjb25zdHJ1Y3RvcihzLHIpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXJ9fWNsYXNzIFMgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyAke2NvbnN0cnVjdG9yKHMscil7dGhpcy5sb2dnZXI9cyx0aGlzLmNvcmU9cn19Y2xhc3MgTXtjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cix0aGlzLnN0b3JlPXR9fWNsYXNzIE97Y29uc3RydWN0b3IocyxyKXt0aGlzLnByb2plY3RJZD1zLHRoaXMubG9nZ2VyPXJ9fWNsYXNzIFJ7Y29uc3RydWN0b3IocyxyLHQpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXIsdGhpcy50ZWxlbWV0cnlFbmFibGVkPXR9fXZhciBUPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxrPShlLHMscik9PnMgaW4gZT9UKGUscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbc109cixpPShlLHMscik9PmsoZSx0eXBlb2YgcyE9XCJzeW1ib2xcIj9zK1wiXCI6cyxyKTtjbGFzcyBIIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKCl9fWNsYXNzIEp7Y29uc3RydWN0b3Iocyl7dGhpcy5vcHRzPXMsaSh0aGlzLFwicHJvdG9jb2xcIixcIndjXCIpLGkodGhpcyxcInZlcnNpb25cIiwyKX19Y2xhc3MgSyBleHRlbmRzIGx7Y29uc3RydWN0b3IoKXtzdXBlcigpfX1jbGFzcyBWe2NvbnN0cnVjdG9yKHMpe3RoaXMuY2xpZW50PXN9fWV4cG9ydHtoIGFzIElDb3JlLGcgYXMgSUNyeXB0byxPIGFzIElFY2hvQ2xpZW50LFYgYXMgSUVuZ2luZSxLIGFzIElFbmdpbmVFdmVudHMsUiBhcyBJRXZlbnRDbGllbnQsUyBhcyBJRXhwaXJlcixJIGFzIElKc29uUnBjSGlzdG9yeSxqIGFzIElLZXlDaGFpbix5IGFzIElNZXNzYWdlVHJhY2tlciwkIGFzIElQYWlyaW5nLG0gYXMgSVB1Ymxpc2hlcixkIGFzIElSZWxheWVyLEogYXMgSVNpZ25DbGllbnQsSCBhcyBJU2lnbkNsaWVudEV2ZW50cyxmIGFzIElTdG9yZSxQIGFzIElTdWJzY3JpYmVyLEMgYXMgSVN1YnNjcmliZXJUb3BpY01hcCxNIGFzIElWZXJpZnl9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/core/node_modules/@walletconnect/types/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/index.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@walletconnect/core/node_modules/unstorage/dist/index.mjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   builtinDrivers: () => (/* binding */ builtinDrivers),\n/* harmony export */   createStorage: () => (/* binding */ createStorage),\n/* harmony export */   defineDriver: () => (/* binding */ defineDriver),\n/* harmony export */   filterKeyByBase: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   filterKeyByDepth: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.f),\n/* harmony export */   joinKeys: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.j),\n/* harmony export */   normalizeBaseKey: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n),\n/* harmony export */   normalizeKey: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   prefixStorage: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.p),\n/* harmony export */   restoreSnapshot: () => (/* binding */ restoreSnapshot),\n/* harmony export */   snapshot: () => (/* binding */ snapshot)\n/* harmony export */ });\n/* harmony import */ var destr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! destr */ \"(ssr)/./node_modules/destr/dist/index.mjs\");\n/* harmony import */ var _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shared/unstorage.mNKHTF5Y.mjs */ \"(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/shared/unstorage.mNKHTF5Y.mjs\");\n\n\n\n\nfunction defineDriver(factory) {\n  return factory;\n}\n\nconst DRIVER_NAME = \"memory\";\nconst memory = defineDriver(() => {\n  const data = /* @__PURE__ */ new Map();\n  return {\n    name: DRIVER_NAME,\n    getInstance: () => data,\n    hasItem(key) {\n      return data.has(key);\n    },\n    getItem(key) {\n      return data.get(key) ?? null;\n    },\n    getItemRaw(key) {\n      return data.get(key) ?? null;\n    },\n    setItem(key, value) {\n      data.set(key, value);\n    },\n    setItemRaw(key, value) {\n      data.set(key, value);\n    },\n    removeItem(key) {\n      data.delete(key);\n    },\n    getKeys() {\n      return [...data.keys()];\n    },\n    clear() {\n      data.clear();\n    },\n    dispose() {\n      data.clear();\n    }\n  };\n});\n\nfunction createStorage(options = {}) {\n  const context = {\n    mounts: { \"\": options.driver || memory() },\n    mountpoints: [\"\"],\n    watching: false,\n    watchListeners: [],\n    unwatch: {}\n  };\n  const getMount = (key) => {\n    for (const base of context.mountpoints) {\n      if (key.startsWith(base)) {\n        return {\n          base,\n          relativeKey: key.slice(base.length),\n          driver: context.mounts[base]\n        };\n      }\n    }\n    return {\n      base: \"\",\n      relativeKey: key,\n      driver: context.mounts[\"\"]\n    };\n  };\n  const getMounts = (base, includeParent) => {\n    return context.mountpoints.filter(\n      (mountpoint) => mountpoint.startsWith(base) || includeParent && base.startsWith(mountpoint)\n    ).map((mountpoint) => ({\n      relativeBase: base.length > mountpoint.length ? base.slice(mountpoint.length) : void 0,\n      mountpoint,\n      driver: context.mounts[mountpoint]\n    }));\n  };\n  const onChange = (event, key) => {\n    if (!context.watching) {\n      return;\n    }\n    key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n    for (const listener of context.watchListeners) {\n      listener(event, key);\n    }\n  };\n  const startWatch = async () => {\n    if (context.watching) {\n      return;\n    }\n    context.watching = true;\n    for (const mountpoint in context.mounts) {\n      context.unwatch[mountpoint] = await watch(\n        context.mounts[mountpoint],\n        onChange,\n        mountpoint\n      );\n    }\n  };\n  const stopWatch = async () => {\n    if (!context.watching) {\n      return;\n    }\n    for (const mountpoint in context.unwatch) {\n      await context.unwatch[mountpoint]();\n    }\n    context.unwatch = {};\n    context.watching = false;\n  };\n  const runBatch = (items, commonOptions, cb) => {\n    const batches = /* @__PURE__ */ new Map();\n    const getBatch = (mount) => {\n      let batch = batches.get(mount.base);\n      if (!batch) {\n        batch = {\n          driver: mount.driver,\n          base: mount.base,\n          items: []\n        };\n        batches.set(mount.base, batch);\n      }\n      return batch;\n    };\n    for (const item of items) {\n      const isStringItem = typeof item === \"string\";\n      const key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(isStringItem ? item : item.key);\n      const value = isStringItem ? void 0 : item.value;\n      const options2 = isStringItem || !item.options ? commonOptions : { ...commonOptions, ...item.options };\n      const mount = getMount(key);\n      getBatch(mount).items.push({\n        key,\n        value,\n        relativeKey: mount.relativeKey,\n        options: options2\n      });\n    }\n    return Promise.all([...batches.values()].map((batch) => cb(batch))).then(\n      (r) => r.flat()\n    );\n  };\n  const storage = {\n    // Item\n    hasItem(key, opts = {}) {\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.hasItem, relativeKey, opts);\n    },\n    getItem(key, opts = {}) {\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getItem, relativeKey, opts).then(\n        (value) => (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value)\n      );\n    },\n    getItems(items, commonOptions = {}) {\n      return runBatch(items, commonOptions, (batch) => {\n        if (batch.driver.getItems) {\n          return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n            batch.driver.getItems,\n            batch.items.map((item) => ({\n              key: item.relativeKey,\n              options: item.options\n            })),\n            commonOptions\n          ).then(\n            (r) => r.map((item) => ({\n              key: (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(batch.base, item.key),\n              value: (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(item.value)\n            }))\n          );\n        }\n        return Promise.all(\n          batch.items.map((item) => {\n            return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n              batch.driver.getItem,\n              item.relativeKey,\n              item.options\n            ).then((value) => ({\n              key: item.key,\n              value: (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value)\n            }));\n          })\n        );\n      });\n    },\n    getItemRaw(key, opts = {}) {\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (driver.getItemRaw) {\n        return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getItemRaw, relativeKey, opts);\n      }\n      return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getItem, relativeKey, opts).then(\n        (value) => (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.e)(value)\n      );\n    },\n    async setItem(key, value, opts = {}) {\n      if (value === void 0) {\n        return storage.removeItem(key);\n      }\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (!driver.setItem) {\n        return;\n      }\n      await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.setItem, relativeKey, (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(value), opts);\n      if (!driver.watch) {\n        onChange(\"update\", key);\n      }\n    },\n    async setItems(items, commonOptions) {\n      await runBatch(items, commonOptions, async (batch) => {\n        if (batch.driver.setItems) {\n          return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n            batch.driver.setItems,\n            batch.items.map((item) => ({\n              key: item.relativeKey,\n              value: (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(item.value),\n              options: item.options\n            })),\n            commonOptions\n          );\n        }\n        if (!batch.driver.setItem) {\n          return;\n        }\n        await Promise.all(\n          batch.items.map((item) => {\n            return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n              batch.driver.setItem,\n              item.relativeKey,\n              (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(item.value),\n              item.options\n            );\n          })\n        );\n      });\n    },\n    async setItemRaw(key, value, opts = {}) {\n      if (value === void 0) {\n        return storage.removeItem(key, opts);\n      }\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (driver.setItemRaw) {\n        await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.setItemRaw, relativeKey, value, opts);\n      } else if (driver.setItem) {\n        await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.setItem, relativeKey, (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(value), opts);\n      } else {\n        return;\n      }\n      if (!driver.watch) {\n        onChange(\"update\", key);\n      }\n    },\n    async removeItem(key, opts = {}) {\n      if (typeof opts === \"boolean\") {\n        opts = { removeMeta: opts };\n      }\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (!driver.removeItem) {\n        return;\n      }\n      await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.removeItem, relativeKey, opts);\n      if (opts.removeMeta || opts.removeMata) {\n        await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.removeItem, relativeKey + \"$\", opts);\n      }\n      if (!driver.watch) {\n        onChange(\"remove\", key);\n      }\n    },\n    // Meta\n    async getMeta(key, opts = {}) {\n      if (typeof opts === \"boolean\") {\n        opts = { nativeOnly: opts };\n      }\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      const meta = /* @__PURE__ */ Object.create(null);\n      if (driver.getMeta) {\n        Object.assign(meta, await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getMeta, relativeKey, opts));\n      }\n      if (!opts.nativeOnly) {\n        const value = await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n          driver.getItem,\n          relativeKey + \"$\",\n          opts\n        ).then((value_) => (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value_));\n        if (value && typeof value === \"object\") {\n          if (typeof value.atime === \"string\") {\n            value.atime = new Date(value.atime);\n          }\n          if (typeof value.mtime === \"string\") {\n            value.mtime = new Date(value.mtime);\n          }\n          Object.assign(meta, value);\n        }\n      }\n      return meta;\n    },\n    setMeta(key, value, opts = {}) {\n      return this.setItem(key + \"$\", value, opts);\n    },\n    removeMeta(key, opts = {}) {\n      return this.removeItem(key + \"$\", opts);\n    },\n    // Keys\n    async getKeys(base, opts = {}) {\n      base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      const mounts = getMounts(base, true);\n      let maskedMounts = [];\n      const allKeys = [];\n      let allMountsSupportMaxDepth = true;\n      for (const mount of mounts) {\n        if (!mount.driver.flags?.maxDepth) {\n          allMountsSupportMaxDepth = false;\n        }\n        const rawKeys = await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n          mount.driver.getKeys,\n          mount.relativeBase,\n          opts\n        );\n        for (const key of rawKeys) {\n          const fullKey = mount.mountpoint + (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n          if (!maskedMounts.some((p) => fullKey.startsWith(p))) {\n            allKeys.push(fullKey);\n          }\n        }\n        maskedMounts = [\n          mount.mountpoint,\n          ...maskedMounts.filter((p) => !p.startsWith(mount.mountpoint))\n        ];\n      }\n      const shouldFilterByDepth = opts.maxDepth !== void 0 && !allMountsSupportMaxDepth;\n      return allKeys.filter(\n        (key) => (!shouldFilterByDepth || (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(key, opts.maxDepth)) && (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(key, base)\n      );\n    },\n    // Utils\n    async clear(base, opts = {}) {\n      base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      await Promise.all(\n        getMounts(base, false).map(async (m) => {\n          if (m.driver.clear) {\n            return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(m.driver.clear, m.relativeBase, opts);\n          }\n          if (m.driver.removeItem) {\n            const keys = await m.driver.getKeys(m.relativeBase || \"\", opts);\n            return Promise.all(\n              keys.map((key) => m.driver.removeItem(key, opts))\n            );\n          }\n        })\n      );\n    },\n    async dispose() {\n      await Promise.all(\n        Object.values(context.mounts).map((driver) => dispose(driver))\n      );\n    },\n    async watch(callback) {\n      await startWatch();\n      context.watchListeners.push(callback);\n      return async () => {\n        context.watchListeners = context.watchListeners.filter(\n          (listener) => listener !== callback\n        );\n        if (context.watchListeners.length === 0) {\n          await stopWatch();\n        }\n      };\n    },\n    async unwatch() {\n      context.watchListeners = [];\n      await stopWatch();\n    },\n    // Mount\n    mount(base, driver) {\n      base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      if (base && context.mounts[base]) {\n        throw new Error(`already mounted at ${base}`);\n      }\n      if (base) {\n        context.mountpoints.push(base);\n        context.mountpoints.sort((a, b) => b.length - a.length);\n      }\n      context.mounts[base] = driver;\n      if (context.watching) {\n        Promise.resolve(watch(driver, onChange, base)).then((unwatcher) => {\n          context.unwatch[base] = unwatcher;\n        }).catch(console.error);\n      }\n      return storage;\n    },\n    async unmount(base, _dispose = true) {\n      base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      if (!base || !context.mounts[base]) {\n        return;\n      }\n      if (context.watching && base in context.unwatch) {\n        context.unwatch[base]?.();\n        delete context.unwatch[base];\n      }\n      if (_dispose) {\n        await dispose(context.mounts[base]);\n      }\n      context.mountpoints = context.mountpoints.filter((key) => key !== base);\n      delete context.mounts[base];\n    },\n    getMount(key = \"\") {\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key) + \":\";\n      const m = getMount(key);\n      return {\n        driver: m.driver,\n        base: m.base\n      };\n    },\n    getMounts(base = \"\", opts = {}) {\n      base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(base);\n      const mounts = getMounts(base, opts.parents);\n      return mounts.map((m) => ({\n        driver: m.driver,\n        base: m.mountpoint\n      }));\n    },\n    // Aliases\n    keys: (base, opts = {}) => storage.getKeys(base, opts),\n    get: (key, opts = {}) => storage.getItem(key, opts),\n    set: (key, value, opts = {}) => storage.setItem(key, value, opts),\n    has: (key, opts = {}) => storage.hasItem(key, opts),\n    del: (key, opts = {}) => storage.removeItem(key, opts),\n    remove: (key, opts = {}) => storage.removeItem(key, opts)\n  };\n  return storage;\n}\nasync function snapshot(storage, base) {\n  base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n  const keys = await storage.getKeys(base);\n  const snapshot2 = {};\n  await Promise.all(\n    keys.map(async (key) => {\n      snapshot2[key.slice(base.length)] = await storage.getItem(key);\n    })\n  );\n  return snapshot2;\n}\nasync function restoreSnapshot(driver, snapshot2, base = \"\") {\n  base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n  await Promise.all(\n    Object.entries(snapshot2).map((e) => driver.setItem(base + e[0], e[1]))\n  );\n}\nfunction watch(driver, onChange, base) {\n  return driver.watch ? driver.watch((event, key) => onChange(event, base + key)) : () => {\n  };\n}\nasync function dispose(driver) {\n  if (typeof driver.dispose === \"function\") {\n    await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.dispose);\n  }\n}\n\nconst builtinDrivers = {\n  \"azure-app-configuration\": \"unstorage/drivers/azure-app-configuration\",\n  \"azureAppConfiguration\": \"unstorage/drivers/azure-app-configuration\",\n  \"azure-cosmos\": \"unstorage/drivers/azure-cosmos\",\n  \"azureCosmos\": \"unstorage/drivers/azure-cosmos\",\n  \"azure-key-vault\": \"unstorage/drivers/azure-key-vault\",\n  \"azureKeyVault\": \"unstorage/drivers/azure-key-vault\",\n  \"azure-storage-blob\": \"unstorage/drivers/azure-storage-blob\",\n  \"azureStorageBlob\": \"unstorage/drivers/azure-storage-blob\",\n  \"azure-storage-table\": \"unstorage/drivers/azure-storage-table\",\n  \"azureStorageTable\": \"unstorage/drivers/azure-storage-table\",\n  \"capacitor-preferences\": \"unstorage/drivers/capacitor-preferences\",\n  \"capacitorPreferences\": \"unstorage/drivers/capacitor-preferences\",\n  \"cloudflare-kv-binding\": \"unstorage/drivers/cloudflare-kv-binding\",\n  \"cloudflareKVBinding\": \"unstorage/drivers/cloudflare-kv-binding\",\n  \"cloudflare-kv-http\": \"unstorage/drivers/cloudflare-kv-http\",\n  \"cloudflareKVHttp\": \"unstorage/drivers/cloudflare-kv-http\",\n  \"cloudflare-r2-binding\": \"unstorage/drivers/cloudflare-r2-binding\",\n  \"cloudflareR2Binding\": \"unstorage/drivers/cloudflare-r2-binding\",\n  \"db0\": \"unstorage/drivers/db0\",\n  \"deno-kv-node\": \"unstorage/drivers/deno-kv-node\",\n  \"denoKVNode\": \"unstorage/drivers/deno-kv-node\",\n  \"deno-kv\": \"unstorage/drivers/deno-kv\",\n  \"denoKV\": \"unstorage/drivers/deno-kv\",\n  \"fs-lite\": \"unstorage/drivers/fs-lite\",\n  \"fsLite\": \"unstorage/drivers/fs-lite\",\n  \"fs\": \"unstorage/drivers/fs\",\n  \"github\": \"unstorage/drivers/github\",\n  \"http\": \"unstorage/drivers/http\",\n  \"indexedb\": \"unstorage/drivers/indexedb\",\n  \"localstorage\": \"unstorage/drivers/localstorage\",\n  \"lru-cache\": \"unstorage/drivers/lru-cache\",\n  \"lruCache\": \"unstorage/drivers/lru-cache\",\n  \"memory\": \"unstorage/drivers/memory\",\n  \"mongodb\": \"unstorage/drivers/mongodb\",\n  \"netlify-blobs\": \"unstorage/drivers/netlify-blobs\",\n  \"netlifyBlobs\": \"unstorage/drivers/netlify-blobs\",\n  \"null\": \"unstorage/drivers/null\",\n  \"overlay\": \"unstorage/drivers/overlay\",\n  \"planetscale\": \"unstorage/drivers/planetscale\",\n  \"redis\": \"unstorage/drivers/redis\",\n  \"s3\": \"unstorage/drivers/s3\",\n  \"session-storage\": \"unstorage/drivers/session-storage\",\n  \"sessionStorage\": \"unstorage/drivers/session-storage\",\n  \"uploadthing\": \"unstorage/drivers/uploadthing\",\n  \"upstash\": \"unstorage/drivers/upstash\",\n  \"vercel-blob\": \"unstorage/drivers/vercel-blob\",\n  \"vercelBlob\": \"unstorage/drivers/vercel-blob\",\n  \"vercel-kv\": \"unstorage/drivers/vercel-kv\",\n  \"vercelKV\": \"unstorage/drivers/vercel-kv\"\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9ub2RlX21vZHVsZXMvdW5zdG9yYWdlL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEI7QUFDcU07QUFDMUo7O0FBRXJFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELG1DQUFtQztBQUNuQztBQUNBLGNBQWMsZ0NBQWdDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGlFQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlFQUFZO0FBQzlCO0FBQ0EseUVBQXlFO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFK0oiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9ub2RlX21vZHVsZXMvdW5zdG9yYWdlL2Rpc3QvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZXN0ciBmcm9tICdkZXN0cic7XG5pbXBvcnQgeyBuIGFzIG5vcm1hbGl6ZUJhc2VLZXksIGEgYXMgbm9ybWFsaXplS2V5LCBiIGFzIGFzeW5jQ2FsbCwgZiBhcyBmaWx0ZXJLZXlCeURlcHRoLCBjIGFzIGZpbHRlcktleUJ5QmFzZSwgcyBhcyBzZXJpYWxpemVSYXcsIGQgYXMgc3RyaW5naWZ5LCBlIGFzIGRlc2VyaWFsaXplUmF3LCBqIGFzIGpvaW5LZXlzIH0gZnJvbSAnLi9zaGFyZWQvdW5zdG9yYWdlLm1OS0hURjVZLm1qcyc7XG5leHBvcnQgeyBwIGFzIHByZWZpeFN0b3JhZ2UgfSBmcm9tICcuL3NoYXJlZC91bnN0b3JhZ2UubU5LSFRGNVkubWpzJztcblxuZnVuY3Rpb24gZGVmaW5lRHJpdmVyKGZhY3RvcnkpIHtcbiAgcmV0dXJuIGZhY3Rvcnk7XG59XG5cbmNvbnN0IERSSVZFUl9OQU1FID0gXCJtZW1vcnlcIjtcbmNvbnN0IG1lbW9yeSA9IGRlZmluZURyaXZlcigoKSA9PiB7XG4gIGNvbnN0IGRhdGEgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICByZXR1cm4ge1xuICAgIG5hbWU6IERSSVZFUl9OQU1FLFxuICAgIGdldEluc3RhbmNlOiAoKSA9PiBkYXRhLFxuICAgIGhhc0l0ZW0oa2V5KSB7XG4gICAgICByZXR1cm4gZGF0YS5oYXMoa2V5KTtcbiAgICB9LFxuICAgIGdldEl0ZW0oa2V5KSB7XG4gICAgICByZXR1cm4gZGF0YS5nZXQoa2V5KSA/PyBudWxsO1xuICAgIH0sXG4gICAgZ2V0SXRlbVJhdyhrZXkpIHtcbiAgICAgIHJldHVybiBkYXRhLmdldChrZXkpID8/IG51bGw7XG4gICAgfSxcbiAgICBzZXRJdGVtKGtleSwgdmFsdWUpIHtcbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgIH0sXG4gICAgc2V0SXRlbVJhdyhrZXksIHZhbHVlKSB7XG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICB9LFxuICAgIHJlbW92ZUl0ZW0oa2V5KSB7XG4gICAgICBkYXRhLmRlbGV0ZShrZXkpO1xuICAgIH0sXG4gICAgZ2V0S2V5cygpIHtcbiAgICAgIHJldHVybiBbLi4uZGF0YS5rZXlzKCldO1xuICAgIH0sXG4gICAgY2xlYXIoKSB7XG4gICAgICBkYXRhLmNsZWFyKCk7XG4gICAgfSxcbiAgICBkaXNwb3NlKCkge1xuICAgICAgZGF0YS5jbGVhcigpO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVTdG9yYWdlKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBjb250ZXh0ID0ge1xuICAgIG1vdW50czogeyBcIlwiOiBvcHRpb25zLmRyaXZlciB8fCBtZW1vcnkoKSB9LFxuICAgIG1vdW50cG9pbnRzOiBbXCJcIl0sXG4gICAgd2F0Y2hpbmc6IGZhbHNlLFxuICAgIHdhdGNoTGlzdGVuZXJzOiBbXSxcbiAgICB1bndhdGNoOiB7fVxuICB9O1xuICBjb25zdCBnZXRNb3VudCA9IChrZXkpID0+IHtcbiAgICBmb3IgKGNvbnN0IGJhc2Ugb2YgY29udGV4dC5tb3VudHBvaW50cykge1xuICAgICAgaWYgKGtleS5zdGFydHNXaXRoKGJhc2UpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYmFzZSxcbiAgICAgICAgICByZWxhdGl2ZUtleToga2V5LnNsaWNlKGJhc2UubGVuZ3RoKSxcbiAgICAgICAgICBkcml2ZXI6IGNvbnRleHQubW91bnRzW2Jhc2VdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBiYXNlOiBcIlwiLFxuICAgICAgcmVsYXRpdmVLZXk6IGtleSxcbiAgICAgIGRyaXZlcjogY29udGV4dC5tb3VudHNbXCJcIl1cbiAgICB9O1xuICB9O1xuICBjb25zdCBnZXRNb3VudHMgPSAoYmFzZSwgaW5jbHVkZVBhcmVudCkgPT4ge1xuICAgIHJldHVybiBjb250ZXh0Lm1vdW50cG9pbnRzLmZpbHRlcihcbiAgICAgIChtb3VudHBvaW50KSA9PiBtb3VudHBvaW50LnN0YXJ0c1dpdGgoYmFzZSkgfHwgaW5jbHVkZVBhcmVudCAmJiBiYXNlLnN0YXJ0c1dpdGgobW91bnRwb2ludClcbiAgICApLm1hcCgobW91bnRwb2ludCkgPT4gKHtcbiAgICAgIHJlbGF0aXZlQmFzZTogYmFzZS5sZW5ndGggPiBtb3VudHBvaW50Lmxlbmd0aCA/IGJhc2Uuc2xpY2UobW91bnRwb2ludC5sZW5ndGgpIDogdm9pZCAwLFxuICAgICAgbW91bnRwb2ludCxcbiAgICAgIGRyaXZlcjogY29udGV4dC5tb3VudHNbbW91bnRwb2ludF1cbiAgICB9KSk7XG4gIH07XG4gIGNvbnN0IG9uQ2hhbmdlID0gKGV2ZW50LCBrZXkpID0+IHtcbiAgICBpZiAoIWNvbnRleHQud2F0Y2hpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBjb250ZXh0LndhdGNoTGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcihldmVudCwga2V5KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHN0YXJ0V2F0Y2ggPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGNvbnRleHQud2F0Y2hpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29udGV4dC53YXRjaGluZyA9IHRydWU7XG4gICAgZm9yIChjb25zdCBtb3VudHBvaW50IGluIGNvbnRleHQubW91bnRzKSB7XG4gICAgICBjb250ZXh0LnVud2F0Y2hbbW91bnRwb2ludF0gPSBhd2FpdCB3YXRjaChcbiAgICAgICAgY29udGV4dC5tb3VudHNbbW91bnRwb2ludF0sXG4gICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICBtb3VudHBvaW50XG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc3RvcFdhdGNoID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY29udGV4dC53YXRjaGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG1vdW50cG9pbnQgaW4gY29udGV4dC51bndhdGNoKSB7XG4gICAgICBhd2FpdCBjb250ZXh0LnVud2F0Y2hbbW91bnRwb2ludF0oKTtcbiAgICB9XG4gICAgY29udGV4dC51bndhdGNoID0ge307XG4gICAgY29udGV4dC53YXRjaGluZyA9IGZhbHNlO1xuICB9O1xuICBjb25zdCBydW5CYXRjaCA9IChpdGVtcywgY29tbW9uT3B0aW9ucywgY2IpID0+IHtcbiAgICBjb25zdCBiYXRjaGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBjb25zdCBnZXRCYXRjaCA9IChtb3VudCkgPT4ge1xuICAgICAgbGV0IGJhdGNoID0gYmF0Y2hlcy5nZXQobW91bnQuYmFzZSk7XG4gICAgICBpZiAoIWJhdGNoKSB7XG4gICAgICAgIGJhdGNoID0ge1xuICAgICAgICAgIGRyaXZlcjogbW91bnQuZHJpdmVyLFxuICAgICAgICAgIGJhc2U6IG1vdW50LmJhc2UsXG4gICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIGJhdGNoZXMuc2V0KG1vdW50LmJhc2UsIGJhdGNoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXRjaDtcbiAgICB9O1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgY29uc3QgaXNTdHJpbmdJdGVtID0gdHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCI7XG4gICAgICBjb25zdCBrZXkgPSBub3JtYWxpemVLZXkoaXNTdHJpbmdJdGVtID8gaXRlbSA6IGl0ZW0ua2V5KTtcbiAgICAgIGNvbnN0IHZhbHVlID0gaXNTdHJpbmdJdGVtID8gdm9pZCAwIDogaXRlbS52YWx1ZTtcbiAgICAgIGNvbnN0IG9wdGlvbnMyID0gaXNTdHJpbmdJdGVtIHx8ICFpdGVtLm9wdGlvbnMgPyBjb21tb25PcHRpb25zIDogeyAuLi5jb21tb25PcHRpb25zLCAuLi5pdGVtLm9wdGlvbnMgfTtcbiAgICAgIGNvbnN0IG1vdW50ID0gZ2V0TW91bnQoa2V5KTtcbiAgICAgIGdldEJhdGNoKG1vdW50KS5pdGVtcy5wdXNoKHtcbiAgICAgICAga2V5LFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgcmVsYXRpdmVLZXk6IG1vdW50LnJlbGF0aXZlS2V5LFxuICAgICAgICBvcHRpb25zOiBvcHRpb25zMlxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChbLi4uYmF0Y2hlcy52YWx1ZXMoKV0ubWFwKChiYXRjaCkgPT4gY2IoYmF0Y2gpKSkudGhlbihcbiAgICAgIChyKSA9PiByLmZsYXQoKVxuICAgICk7XG4gIH07XG4gIGNvbnN0IHN0b3JhZ2UgPSB7XG4gICAgLy8gSXRlbVxuICAgIGhhc0l0ZW0oa2V5LCBvcHRzID0ge30pIHtcbiAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgY29uc3QgeyByZWxhdGl2ZUtleSwgZHJpdmVyIH0gPSBnZXRNb3VudChrZXkpO1xuICAgICAgcmV0dXJuIGFzeW5jQ2FsbChkcml2ZXIuaGFzSXRlbSwgcmVsYXRpdmVLZXksIG9wdHMpO1xuICAgIH0sXG4gICAgZ2V0SXRlbShrZXksIG9wdHMgPSB7fSkge1xuICAgICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gICAgICBjb25zdCB7IHJlbGF0aXZlS2V5LCBkcml2ZXIgfSA9IGdldE1vdW50KGtleSk7XG4gICAgICByZXR1cm4gYXN5bmNDYWxsKGRyaXZlci5nZXRJdGVtLCByZWxhdGl2ZUtleSwgb3B0cykudGhlbihcbiAgICAgICAgKHZhbHVlKSA9PiBkZXN0cih2YWx1ZSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBnZXRJdGVtcyhpdGVtcywgY29tbW9uT3B0aW9ucyA9IHt9KSB7XG4gICAgICByZXR1cm4gcnVuQmF0Y2goaXRlbXMsIGNvbW1vbk9wdGlvbnMsIChiYXRjaCkgPT4ge1xuICAgICAgICBpZiAoYmF0Y2guZHJpdmVyLmdldEl0ZW1zKSB7XG4gICAgICAgICAgcmV0dXJuIGFzeW5jQ2FsbChcbiAgICAgICAgICAgIGJhdGNoLmRyaXZlci5nZXRJdGVtcyxcbiAgICAgICAgICAgIGJhdGNoLml0ZW1zLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgICAgICAga2V5OiBpdGVtLnJlbGF0aXZlS2V5LFxuICAgICAgICAgICAgICBvcHRpb25zOiBpdGVtLm9wdGlvbnNcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGNvbW1vbk9wdGlvbnNcbiAgICAgICAgICApLnRoZW4oXG4gICAgICAgICAgICAocikgPT4gci5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgICAgICAgIGtleTogam9pbktleXMoYmF0Y2guYmFzZSwgaXRlbS5rZXkpLFxuICAgICAgICAgICAgICB2YWx1ZTogZGVzdHIoaXRlbS52YWx1ZSlcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgICAgIGJhdGNoLml0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGFzeW5jQ2FsbChcbiAgICAgICAgICAgICAgYmF0Y2guZHJpdmVyLmdldEl0ZW0sXG4gICAgICAgICAgICAgIGl0ZW0ucmVsYXRpdmVLZXksXG4gICAgICAgICAgICAgIGl0ZW0ub3B0aW9uc1xuICAgICAgICAgICAgKS50aGVuKCh2YWx1ZSkgPT4gKHtcbiAgICAgICAgICAgICAga2V5OiBpdGVtLmtleSxcbiAgICAgICAgICAgICAgdmFsdWU6IGRlc3RyKHZhbHVlKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW1SYXcoa2V5LCBvcHRzID0ge30pIHtcbiAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgY29uc3QgeyByZWxhdGl2ZUtleSwgZHJpdmVyIH0gPSBnZXRNb3VudChrZXkpO1xuICAgICAgaWYgKGRyaXZlci5nZXRJdGVtUmF3KSB7XG4gICAgICAgIHJldHVybiBhc3luY0NhbGwoZHJpdmVyLmdldEl0ZW1SYXcsIHJlbGF0aXZlS2V5LCBvcHRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhc3luY0NhbGwoZHJpdmVyLmdldEl0ZW0sIHJlbGF0aXZlS2V5LCBvcHRzKS50aGVuKFxuICAgICAgICAodmFsdWUpID0+IGRlc2VyaWFsaXplUmF3KHZhbHVlKVxuICAgICAgKTtcbiAgICB9LFxuICAgIGFzeW5jIHNldEl0ZW0oa2V5LCB2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gc3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICB9XG4gICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgIGNvbnN0IHsgcmVsYXRpdmVLZXksIGRyaXZlciB9ID0gZ2V0TW91bnQoa2V5KTtcbiAgICAgIGlmICghZHJpdmVyLnNldEl0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXdhaXQgYXN5bmNDYWxsKGRyaXZlci5zZXRJdGVtLCByZWxhdGl2ZUtleSwgc3RyaW5naWZ5KHZhbHVlKSwgb3B0cyk7XG4gICAgICBpZiAoIWRyaXZlci53YXRjaCkge1xuICAgICAgICBvbkNoYW5nZShcInVwZGF0ZVwiLCBrZXkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgc2V0SXRlbXMoaXRlbXMsIGNvbW1vbk9wdGlvbnMpIHtcbiAgICAgIGF3YWl0IHJ1bkJhdGNoKGl0ZW1zLCBjb21tb25PcHRpb25zLCBhc3luYyAoYmF0Y2gpID0+IHtcbiAgICAgICAgaWYgKGJhdGNoLmRyaXZlci5zZXRJdGVtcykge1xuICAgICAgICAgIHJldHVybiBhc3luY0NhbGwoXG4gICAgICAgICAgICBiYXRjaC5kcml2ZXIuc2V0SXRlbXMsXG4gICAgICAgICAgICBiYXRjaC5pdGVtcy5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgICAgICAgIGtleTogaXRlbS5yZWxhdGl2ZUtleSxcbiAgICAgICAgICAgICAgdmFsdWU6IHN0cmluZ2lmeShpdGVtLnZhbHVlKSxcbiAgICAgICAgICAgICAgb3B0aW9uczogaXRlbS5vcHRpb25zXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICBjb21tb25PcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJhdGNoLmRyaXZlci5zZXRJdGVtKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIGJhdGNoLml0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGFzeW5jQ2FsbChcbiAgICAgICAgICAgICAgYmF0Y2guZHJpdmVyLnNldEl0ZW0sXG4gICAgICAgICAgICAgIGl0ZW0ucmVsYXRpdmVLZXksXG4gICAgICAgICAgICAgIHN0cmluZ2lmeShpdGVtLnZhbHVlKSxcbiAgICAgICAgICAgICAgaXRlbS5vcHRpb25zXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIHNldEl0ZW1SYXcoa2V5LCB2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gc3RvcmFnZS5yZW1vdmVJdGVtKGtleSwgb3B0cyk7XG4gICAgICB9XG4gICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgIGNvbnN0IHsgcmVsYXRpdmVLZXksIGRyaXZlciB9ID0gZ2V0TW91bnQoa2V5KTtcbiAgICAgIGlmIChkcml2ZXIuc2V0SXRlbVJhdykge1xuICAgICAgICBhd2FpdCBhc3luY0NhbGwoZHJpdmVyLnNldEl0ZW1SYXcsIHJlbGF0aXZlS2V5LCB2YWx1ZSwgb3B0cyk7XG4gICAgICB9IGVsc2UgaWYgKGRyaXZlci5zZXRJdGVtKSB7XG4gICAgICAgIGF3YWl0IGFzeW5jQ2FsbChkcml2ZXIuc2V0SXRlbSwgcmVsYXRpdmVLZXksIHNlcmlhbGl6ZVJhdyh2YWx1ZSksIG9wdHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFkcml2ZXIud2F0Y2gpIHtcbiAgICAgICAgb25DaGFuZ2UoXCJ1cGRhdGVcIiwga2V5KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHJlbW92ZUl0ZW0oa2V5LCBvcHRzID0ge30pIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgb3B0cyA9IHsgcmVtb3ZlTWV0YTogb3B0cyB9O1xuICAgICAgfVxuICAgICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gICAgICBjb25zdCB7IHJlbGF0aXZlS2V5LCBkcml2ZXIgfSA9IGdldE1vdW50KGtleSk7XG4gICAgICBpZiAoIWRyaXZlci5yZW1vdmVJdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGF3YWl0IGFzeW5jQ2FsbChkcml2ZXIucmVtb3ZlSXRlbSwgcmVsYXRpdmVLZXksIG9wdHMpO1xuICAgICAgaWYgKG9wdHMucmVtb3ZlTWV0YSB8fCBvcHRzLnJlbW92ZU1hdGEpIHtcbiAgICAgICAgYXdhaXQgYXN5bmNDYWxsKGRyaXZlci5yZW1vdmVJdGVtLCByZWxhdGl2ZUtleSArIFwiJFwiLCBvcHRzKTtcbiAgICAgIH1cbiAgICAgIGlmICghZHJpdmVyLndhdGNoKSB7XG4gICAgICAgIG9uQ2hhbmdlKFwicmVtb3ZlXCIsIGtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBNZXRhXG4gICAgYXN5bmMgZ2V0TWV0YShrZXksIG9wdHMgPSB7fSkge1xuICAgICAgaWYgKHR5cGVvZiBvcHRzID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBvcHRzID0geyBuYXRpdmVPbmx5OiBvcHRzIH07XG4gICAgICB9XG4gICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgIGNvbnN0IHsgcmVsYXRpdmVLZXksIGRyaXZlciB9ID0gZ2V0TW91bnQoa2V5KTtcbiAgICAgIGNvbnN0IG1ldGEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIGlmIChkcml2ZXIuZ2V0TWV0YSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKG1ldGEsIGF3YWl0IGFzeW5jQ2FsbChkcml2ZXIuZ2V0TWV0YSwgcmVsYXRpdmVLZXksIG9wdHMpKTtcbiAgICAgIH1cbiAgICAgIGlmICghb3B0cy5uYXRpdmVPbmx5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgYXN5bmNDYWxsKFxuICAgICAgICAgIGRyaXZlci5nZXRJdGVtLFxuICAgICAgICAgIHJlbGF0aXZlS2V5ICsgXCIkXCIsXG4gICAgICAgICAgb3B0c1xuICAgICAgICApLnRoZW4oKHZhbHVlXykgPT4gZGVzdHIodmFsdWVfKSk7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlLmF0aW1lID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YWx1ZS5hdGltZSA9IG5ldyBEYXRlKHZhbHVlLmF0aW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZS5tdGltZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdmFsdWUubXRpbWUgPSBuZXcgRGF0ZSh2YWx1ZS5tdGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIE9iamVjdC5hc3NpZ24obWV0YSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbWV0YTtcbiAgICB9LFxuICAgIHNldE1ldGEoa2V5LCB2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXRJdGVtKGtleSArIFwiJFwiLCB2YWx1ZSwgb3B0cyk7XG4gICAgfSxcbiAgICByZW1vdmVNZXRhKGtleSwgb3B0cyA9IHt9KSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW1vdmVJdGVtKGtleSArIFwiJFwiLCBvcHRzKTtcbiAgICB9LFxuICAgIC8vIEtleXNcbiAgICBhc3luYyBnZXRLZXlzKGJhc2UsIG9wdHMgPSB7fSkge1xuICAgICAgYmFzZSA9IG5vcm1hbGl6ZUJhc2VLZXkoYmFzZSk7XG4gICAgICBjb25zdCBtb3VudHMgPSBnZXRNb3VudHMoYmFzZSwgdHJ1ZSk7XG4gICAgICBsZXQgbWFza2VkTW91bnRzID0gW107XG4gICAgICBjb25zdCBhbGxLZXlzID0gW107XG4gICAgICBsZXQgYWxsTW91bnRzU3VwcG9ydE1heERlcHRoID0gdHJ1ZTtcbiAgICAgIGZvciAoY29uc3QgbW91bnQgb2YgbW91bnRzKSB7XG4gICAgICAgIGlmICghbW91bnQuZHJpdmVyLmZsYWdzPy5tYXhEZXB0aCkge1xuICAgICAgICAgIGFsbE1vdW50c1N1cHBvcnRNYXhEZXB0aCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJhd0tleXMgPSBhd2FpdCBhc3luY0NhbGwoXG4gICAgICAgICAgbW91bnQuZHJpdmVyLmdldEtleXMsXG4gICAgICAgICAgbW91bnQucmVsYXRpdmVCYXNlLFxuICAgICAgICAgIG9wdHNcbiAgICAgICAgKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgcmF3S2V5cykge1xuICAgICAgICAgIGNvbnN0IGZ1bGxLZXkgPSBtb3VudC5tb3VudHBvaW50ICsgbm9ybWFsaXplS2V5KGtleSk7XG4gICAgICAgICAgaWYgKCFtYXNrZWRNb3VudHMuc29tZSgocCkgPT4gZnVsbEtleS5zdGFydHNXaXRoKHApKSkge1xuICAgICAgICAgICAgYWxsS2V5cy5wdXNoKGZ1bGxLZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYXNrZWRNb3VudHMgPSBbXG4gICAgICAgICAgbW91bnQubW91bnRwb2ludCxcbiAgICAgICAgICAuLi5tYXNrZWRNb3VudHMuZmlsdGVyKChwKSA9PiAhcC5zdGFydHNXaXRoKG1vdW50Lm1vdW50cG9pbnQpKVxuICAgICAgICBdO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2hvdWxkRmlsdGVyQnlEZXB0aCA9IG9wdHMubWF4RGVwdGggIT09IHZvaWQgMCAmJiAhYWxsTW91bnRzU3VwcG9ydE1heERlcHRoO1xuICAgICAgcmV0dXJuIGFsbEtleXMuZmlsdGVyKFxuICAgICAgICAoa2V5KSA9PiAoIXNob3VsZEZpbHRlckJ5RGVwdGggfHwgZmlsdGVyS2V5QnlEZXB0aChrZXksIG9wdHMubWF4RGVwdGgpKSAmJiBmaWx0ZXJLZXlCeUJhc2Uoa2V5LCBiYXNlKVxuICAgICAgKTtcbiAgICB9LFxuICAgIC8vIFV0aWxzXG4gICAgYXN5bmMgY2xlYXIoYmFzZSwgb3B0cyA9IHt9KSB7XG4gICAgICBiYXNlID0gbm9ybWFsaXplQmFzZUtleShiYXNlKTtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBnZXRNb3VudHMoYmFzZSwgZmFsc2UpLm1hcChhc3luYyAobSkgPT4ge1xuICAgICAgICAgIGlmIChtLmRyaXZlci5jbGVhcikge1xuICAgICAgICAgICAgcmV0dXJuIGFzeW5jQ2FsbChtLmRyaXZlci5jbGVhciwgbS5yZWxhdGl2ZUJhc2UsIG9wdHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobS5kcml2ZXIucmVtb3ZlSXRlbSkge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IGF3YWl0IG0uZHJpdmVyLmdldEtleXMobS5yZWxhdGl2ZUJhc2UgfHwgXCJcIiwgb3B0cyk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgIGtleXMubWFwKChrZXkpID0+IG0uZHJpdmVyLnJlbW92ZUl0ZW0oa2V5LCBvcHRzKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9LFxuICAgIGFzeW5jIGRpc3Bvc2UoKSB7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb250ZXh0Lm1vdW50cykubWFwKChkcml2ZXIpID0+IGRpc3Bvc2UoZHJpdmVyKSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBhc3luYyB3YXRjaChjYWxsYmFjaykge1xuICAgICAgYXdhaXQgc3RhcnRXYXRjaCgpO1xuICAgICAgY29udGV4dC53YXRjaExpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnRleHQud2F0Y2hMaXN0ZW5lcnMgPSBjb250ZXh0LndhdGNoTGlzdGVuZXJzLmZpbHRlcihcbiAgICAgICAgICAobGlzdGVuZXIpID0+IGxpc3RlbmVyICE9PSBjYWxsYmFja1xuICAgICAgICApO1xuICAgICAgICBpZiAoY29udGV4dC53YXRjaExpc3RlbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBhd2FpdCBzdG9wV2F0Y2goKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIGFzeW5jIHVud2F0Y2goKSB7XG4gICAgICBjb250ZXh0LndhdGNoTGlzdGVuZXJzID0gW107XG4gICAgICBhd2FpdCBzdG9wV2F0Y2goKTtcbiAgICB9LFxuICAgIC8vIE1vdW50XG4gICAgbW91bnQoYmFzZSwgZHJpdmVyKSB7XG4gICAgICBiYXNlID0gbm9ybWFsaXplQmFzZUtleShiYXNlKTtcbiAgICAgIGlmIChiYXNlICYmIGNvbnRleHQubW91bnRzW2Jhc2VdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgYWxyZWFkeSBtb3VudGVkIGF0ICR7YmFzZX1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChiYXNlKSB7XG4gICAgICAgIGNvbnRleHQubW91bnRwb2ludHMucHVzaChiYXNlKTtcbiAgICAgICAgY29udGV4dC5tb3VudHBvaW50cy5zb3J0KChhLCBiKSA9PiBiLmxlbmd0aCAtIGEubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQubW91bnRzW2Jhc2VdID0gZHJpdmVyO1xuICAgICAgaWYgKGNvbnRleHQud2F0Y2hpbmcpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHdhdGNoKGRyaXZlciwgb25DaGFuZ2UsIGJhc2UpKS50aGVuKCh1bndhdGNoZXIpID0+IHtcbiAgICAgICAgICBjb250ZXh0LnVud2F0Y2hbYmFzZV0gPSB1bndhdGNoZXI7XG4gICAgICAgIH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0b3JhZ2U7XG4gICAgfSxcbiAgICBhc3luYyB1bm1vdW50KGJhc2UsIF9kaXNwb3NlID0gdHJ1ZSkge1xuICAgICAgYmFzZSA9IG5vcm1hbGl6ZUJhc2VLZXkoYmFzZSk7XG4gICAgICBpZiAoIWJhc2UgfHwgIWNvbnRleHQubW91bnRzW2Jhc2VdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0LndhdGNoaW5nICYmIGJhc2UgaW4gY29udGV4dC51bndhdGNoKSB7XG4gICAgICAgIGNvbnRleHQudW53YXRjaFtiYXNlXT8uKCk7XG4gICAgICAgIGRlbGV0ZSBjb250ZXh0LnVud2F0Y2hbYmFzZV07XG4gICAgICB9XG4gICAgICBpZiAoX2Rpc3Bvc2UpIHtcbiAgICAgICAgYXdhaXQgZGlzcG9zZShjb250ZXh0Lm1vdW50c1tiYXNlXSk7XG4gICAgICB9XG4gICAgICBjb250ZXh0Lm1vdW50cG9pbnRzID0gY29udGV4dC5tb3VudHBvaW50cy5maWx0ZXIoKGtleSkgPT4ga2V5ICE9PSBiYXNlKTtcbiAgICAgIGRlbGV0ZSBjb250ZXh0Lm1vdW50c1tiYXNlXTtcbiAgICB9LFxuICAgIGdldE1vdW50KGtleSA9IFwiXCIpIHtcbiAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpICsgXCI6XCI7XG4gICAgICBjb25zdCBtID0gZ2V0TW91bnQoa2V5KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRyaXZlcjogbS5kcml2ZXIsXG4gICAgICAgIGJhc2U6IG0uYmFzZVxuICAgICAgfTtcbiAgICB9LFxuICAgIGdldE1vdW50cyhiYXNlID0gXCJcIiwgb3B0cyA9IHt9KSB7XG4gICAgICBiYXNlID0gbm9ybWFsaXplS2V5KGJhc2UpO1xuICAgICAgY29uc3QgbW91bnRzID0gZ2V0TW91bnRzKGJhc2UsIG9wdHMucGFyZW50cyk7XG4gICAgICByZXR1cm4gbW91bnRzLm1hcCgobSkgPT4gKHtcbiAgICAgICAgZHJpdmVyOiBtLmRyaXZlcixcbiAgICAgICAgYmFzZTogbS5tb3VudHBvaW50XG4gICAgICB9KSk7XG4gICAgfSxcbiAgICAvLyBBbGlhc2VzXG4gICAga2V5czogKGJhc2UsIG9wdHMgPSB7fSkgPT4gc3RvcmFnZS5nZXRLZXlzKGJhc2UsIG9wdHMpLFxuICAgIGdldDogKGtleSwgb3B0cyA9IHt9KSA9PiBzdG9yYWdlLmdldEl0ZW0oa2V5LCBvcHRzKSxcbiAgICBzZXQ6IChrZXksIHZhbHVlLCBvcHRzID0ge30pID0+IHN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlLCBvcHRzKSxcbiAgICBoYXM6IChrZXksIG9wdHMgPSB7fSkgPT4gc3RvcmFnZS5oYXNJdGVtKGtleSwgb3B0cyksXG4gICAgZGVsOiAoa2V5LCBvcHRzID0ge30pID0+IHN0b3JhZ2UucmVtb3ZlSXRlbShrZXksIG9wdHMpLFxuICAgIHJlbW92ZTogKGtleSwgb3B0cyA9IHt9KSA9PiBzdG9yYWdlLnJlbW92ZUl0ZW0oa2V5LCBvcHRzKVxuICB9O1xuICByZXR1cm4gc3RvcmFnZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNuYXBzaG90KHN0b3JhZ2UsIGJhc2UpIHtcbiAgYmFzZSA9IG5vcm1hbGl6ZUJhc2VLZXkoYmFzZSk7XG4gIGNvbnN0IGtleXMgPSBhd2FpdCBzdG9yYWdlLmdldEtleXMoYmFzZSk7XG4gIGNvbnN0IHNuYXBzaG90MiA9IHt9O1xuICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBrZXlzLm1hcChhc3luYyAoa2V5KSA9PiB7XG4gICAgICBzbmFwc2hvdDJba2V5LnNsaWNlKGJhc2UubGVuZ3RoKV0gPSBhd2FpdCBzdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICB9KVxuICApO1xuICByZXR1cm4gc25hcHNob3QyO1xufVxuYXN5bmMgZnVuY3Rpb24gcmVzdG9yZVNuYXBzaG90KGRyaXZlciwgc25hcHNob3QyLCBiYXNlID0gXCJcIikge1xuICBiYXNlID0gbm9ybWFsaXplQmFzZUtleShiYXNlKTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgT2JqZWN0LmVudHJpZXMoc25hcHNob3QyKS5tYXAoKGUpID0+IGRyaXZlci5zZXRJdGVtKGJhc2UgKyBlWzBdLCBlWzFdKSlcbiAgKTtcbn1cbmZ1bmN0aW9uIHdhdGNoKGRyaXZlciwgb25DaGFuZ2UsIGJhc2UpIHtcbiAgcmV0dXJuIGRyaXZlci53YXRjaCA/IGRyaXZlci53YXRjaCgoZXZlbnQsIGtleSkgPT4gb25DaGFuZ2UoZXZlbnQsIGJhc2UgKyBrZXkpKSA6ICgpID0+IHtcbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGRpc3Bvc2UoZHJpdmVyKSB7XG4gIGlmICh0eXBlb2YgZHJpdmVyLmRpc3Bvc2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGF3YWl0IGFzeW5jQ2FsbChkcml2ZXIuZGlzcG9zZSk7XG4gIH1cbn1cblxuY29uc3QgYnVpbHRpbkRyaXZlcnMgPSB7XG4gIFwiYXp1cmUtYXBwLWNvbmZpZ3VyYXRpb25cIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9henVyZS1hcHAtY29uZmlndXJhdGlvblwiLFxuICBcImF6dXJlQXBwQ29uZmlndXJhdGlvblwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2F6dXJlLWFwcC1jb25maWd1cmF0aW9uXCIsXG4gIFwiYXp1cmUtY29zbW9zXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvYXp1cmUtY29zbW9zXCIsXG4gIFwiYXp1cmVDb3Ntb3NcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9henVyZS1jb3Ntb3NcIixcbiAgXCJhenVyZS1rZXktdmF1bHRcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9henVyZS1rZXktdmF1bHRcIixcbiAgXCJhenVyZUtleVZhdWx0XCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvYXp1cmUta2V5LXZhdWx0XCIsXG4gIFwiYXp1cmUtc3RvcmFnZS1ibG9iXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvYXp1cmUtc3RvcmFnZS1ibG9iXCIsXG4gIFwiYXp1cmVTdG9yYWdlQmxvYlwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2F6dXJlLXN0b3JhZ2UtYmxvYlwiLFxuICBcImF6dXJlLXN0b3JhZ2UtdGFibGVcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9henVyZS1zdG9yYWdlLXRhYmxlXCIsXG4gIFwiYXp1cmVTdG9yYWdlVGFibGVcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9henVyZS1zdG9yYWdlLXRhYmxlXCIsXG4gIFwiY2FwYWNpdG9yLXByZWZlcmVuY2VzXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvY2FwYWNpdG9yLXByZWZlcmVuY2VzXCIsXG4gIFwiY2FwYWNpdG9yUHJlZmVyZW5jZXNcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9jYXBhY2l0b3ItcHJlZmVyZW5jZXNcIixcbiAgXCJjbG91ZGZsYXJlLWt2LWJpbmRpbmdcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9jbG91ZGZsYXJlLWt2LWJpbmRpbmdcIixcbiAgXCJjbG91ZGZsYXJlS1ZCaW5kaW5nXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvY2xvdWRmbGFyZS1rdi1iaW5kaW5nXCIsXG4gIFwiY2xvdWRmbGFyZS1rdi1odHRwXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvY2xvdWRmbGFyZS1rdi1odHRwXCIsXG4gIFwiY2xvdWRmbGFyZUtWSHR0cFwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2Nsb3VkZmxhcmUta3YtaHR0cFwiLFxuICBcImNsb3VkZmxhcmUtcjItYmluZGluZ1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2Nsb3VkZmxhcmUtcjItYmluZGluZ1wiLFxuICBcImNsb3VkZmxhcmVSMkJpbmRpbmdcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9jbG91ZGZsYXJlLXIyLWJpbmRpbmdcIixcbiAgXCJkYjBcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9kYjBcIixcbiAgXCJkZW5vLWt2LW5vZGVcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9kZW5vLWt2LW5vZGVcIixcbiAgXCJkZW5vS1ZOb2RlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvZGVuby1rdi1ub2RlXCIsXG4gIFwiZGVuby1rdlwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2Rlbm8ta3ZcIixcbiAgXCJkZW5vS1ZcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9kZW5vLWt2XCIsXG4gIFwiZnMtbGl0ZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2ZzLWxpdGVcIixcbiAgXCJmc0xpdGVcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9mcy1saXRlXCIsXG4gIFwiZnNcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9mc1wiLFxuICBcImdpdGh1YlwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2dpdGh1YlwiLFxuICBcImh0dHBcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9odHRwXCIsXG4gIFwiaW5kZXhlZGJcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9pbmRleGVkYlwiLFxuICBcImxvY2Fsc3RvcmFnZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2xvY2Fsc3RvcmFnZVwiLFxuICBcImxydS1jYWNoZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2xydS1jYWNoZVwiLFxuICBcImxydUNhY2hlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvbHJ1LWNhY2hlXCIsXG4gIFwibWVtb3J5XCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvbWVtb3J5XCIsXG4gIFwibW9uZ29kYlwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL21vbmdvZGJcIixcbiAgXCJuZXRsaWZ5LWJsb2JzXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvbmV0bGlmeS1ibG9ic1wiLFxuICBcIm5ldGxpZnlCbG9ic1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL25ldGxpZnktYmxvYnNcIixcbiAgXCJudWxsXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvbnVsbFwiLFxuICBcIm92ZXJsYXlcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9vdmVybGF5XCIsXG4gIFwicGxhbmV0c2NhbGVcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9wbGFuZXRzY2FsZVwiLFxuICBcInJlZGlzXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvcmVkaXNcIixcbiAgXCJzM1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL3MzXCIsXG4gIFwic2Vzc2lvbi1zdG9yYWdlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvc2Vzc2lvbi1zdG9yYWdlXCIsXG4gIFwic2Vzc2lvblN0b3JhZ2VcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9zZXNzaW9uLXN0b3JhZ2VcIixcbiAgXCJ1cGxvYWR0aGluZ1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL3VwbG9hZHRoaW5nXCIsXG4gIFwidXBzdGFzaFwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL3Vwc3Rhc2hcIixcbiAgXCJ2ZXJjZWwtYmxvYlwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL3ZlcmNlbC1ibG9iXCIsXG4gIFwidmVyY2VsQmxvYlwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL3ZlcmNlbC1ibG9iXCIsXG4gIFwidmVyY2VsLWt2XCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvdmVyY2VsLWt2XCIsXG4gIFwidmVyY2VsS1ZcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy92ZXJjZWwta3ZcIlxufTtcblxuZXhwb3J0IHsgYnVpbHRpbkRyaXZlcnMsIGNyZWF0ZVN0b3JhZ2UsIGRlZmluZURyaXZlciwgZmlsdGVyS2V5QnlCYXNlLCBmaWx0ZXJLZXlCeURlcHRoLCBqb2luS2V5cywgbm9ybWFsaXplQmFzZUtleSwgbm9ybWFsaXplS2V5LCByZXN0b3JlU25hcHNob3QsIHNuYXBzaG90IH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/shared/unstorage.mNKHTF5Y.mjs":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/core/node_modules/unstorage/dist/shared/unstorage.mNKHTF5Y.mjs ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ normalizeKey),\n/* harmony export */   b: () => (/* binding */ asyncCall),\n/* harmony export */   c: () => (/* binding */ filterKeyByBase),\n/* harmony export */   d: () => (/* binding */ stringify),\n/* harmony export */   e: () => (/* binding */ deserializeRaw),\n/* harmony export */   f: () => (/* binding */ filterKeyByDepth),\n/* harmony export */   j: () => (/* binding */ joinKeys),\n/* harmony export */   n: () => (/* binding */ normalizeBaseKey),\n/* harmony export */   p: () => (/* binding */ prefixStorage),\n/* harmony export */   s: () => (/* binding */ serializeRaw)\n/* harmony export */ });\nfunction wrapToPromise(value) {\n  if (!value || typeof value.then !== \"function\") {\n    return Promise.resolve(value);\n  }\n  return value;\n}\nfunction asyncCall(function_, ...arguments_) {\n  try {\n    return wrapToPromise(function_(...arguments_));\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\nfunction isPrimitive(value) {\n  const type = typeof value;\n  return value === null || type !== \"object\" && type !== \"function\";\n}\nfunction isPureObject(value) {\n  const proto = Object.getPrototypeOf(value);\n  return !proto || proto.isPrototypeOf(Object);\n}\nfunction stringify(value) {\n  if (isPrimitive(value)) {\n    return String(value);\n  }\n  if (isPureObject(value) || Array.isArray(value)) {\n    return JSON.stringify(value);\n  }\n  if (typeof value.toJSON === \"function\") {\n    return stringify(value.toJSON());\n  }\n  throw new Error(\"[unstorage] Cannot stringify value!\");\n}\nconst BASE64_PREFIX = \"base64:\";\nfunction serializeRaw(value) {\n  if (typeof value === \"string\") {\n    return value;\n  }\n  return BASE64_PREFIX + base64Encode(value);\n}\nfunction deserializeRaw(value) {\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  if (!value.startsWith(BASE64_PREFIX)) {\n    return value;\n  }\n  return base64Decode(value.slice(BASE64_PREFIX.length));\n}\nfunction base64Decode(input) {\n  if (globalThis.Buffer) {\n    return Buffer.from(input, \"base64\");\n  }\n  return Uint8Array.from(\n    globalThis.atob(input),\n    (c) => c.codePointAt(0)\n  );\n}\nfunction base64Encode(input) {\n  if (globalThis.Buffer) {\n    return Buffer.from(input).toString(\"base64\");\n  }\n  return globalThis.btoa(String.fromCodePoint(...input));\n}\n\nconst storageKeyProperties = [\n  \"has\",\n  \"hasItem\",\n  \"get\",\n  \"getItem\",\n  \"getItemRaw\",\n  \"set\",\n  \"setItem\",\n  \"setItemRaw\",\n  \"del\",\n  \"remove\",\n  \"removeItem\",\n  \"getMeta\",\n  \"setMeta\",\n  \"removeMeta\",\n  \"getKeys\",\n  \"clear\",\n  \"mount\",\n  \"unmount\"\n];\nfunction prefixStorage(storage, base) {\n  base = normalizeBaseKey(base);\n  if (!base) {\n    return storage;\n  }\n  const nsStorage = { ...storage };\n  for (const property of storageKeyProperties) {\n    nsStorage[property] = (key = \"\", ...args) => (\n      // @ts-ignore\n      storage[property](base + key, ...args)\n    );\n  }\n  nsStorage.getKeys = (key = \"\", ...arguments_) => storage.getKeys(base + key, ...arguments_).then((keys) => keys.map((key2) => key2.slice(base.length)));\n  return nsStorage;\n}\nfunction normalizeKey(key) {\n  if (!key) {\n    return \"\";\n  }\n  return key.split(\"?\")[0]?.replace(/[/\\\\]/g, \":\").replace(/:+/g, \":\").replace(/^:|:$/g, \"\") || \"\";\n}\nfunction joinKeys(...keys) {\n  return normalizeKey(keys.join(\":\"));\n}\nfunction normalizeBaseKey(base) {\n  base = normalizeKey(base);\n  return base ? base + \":\" : \"\";\n}\nfunction filterKeyByDepth(key, depth) {\n  if (depth === void 0) {\n    return true;\n  }\n  let substrCount = 0;\n  let index = key.indexOf(\":\");\n  while (index > -1) {\n    substrCount++;\n    index = key.indexOf(\":\", index + 1);\n  }\n  return substrCount <= depth;\n}\nfunction filterKeyByBase(key, base) {\n  if (base) {\n    return key.startsWith(base) && key[key.length - 1] !== \"$\";\n  }\n  return key[key.length - 1] !== \"$\";\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9ub2RlX21vZHVsZXMvdW5zdG9yYWdlL2Rpc3Qvc2hhcmVkL3Vuc3RvcmFnZS5tTktIVEY1WS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTRNIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2NvcmUvbm9kZV9tb2R1bGVzL3Vuc3RvcmFnZS9kaXN0L3NoYXJlZC91bnN0b3JhZ2UubU5LSFRGNVkubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHdyYXBUb1Byb21pc2UodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUudGhlbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gYXN5bmNDYWxsKGZ1bmN0aW9uXywgLi4uYXJndW1lbnRzXykge1xuICB0cnkge1xuICAgIHJldHVybiB3cmFwVG9Qcm9taXNlKGZ1bmN0aW9uXyguLi5hcmd1bWVudHNfKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcbiAgY29uc3QgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHR5cGUgIT09IFwib2JqZWN0XCIgJiYgdHlwZSAhPT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gaXNQdXJlT2JqZWN0KHZhbHVlKSB7XG4gIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgcmV0dXJuICFwcm90byB8fCBwcm90by5pc1Byb3RvdHlwZU9mKE9iamVjdCk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnkodmFsdWUpIHtcbiAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9XG4gIGlmIChpc1B1cmVPYmplY3QodmFsdWUpIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeSh2YWx1ZS50b0pTT04oKSk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiW3Vuc3RvcmFnZV0gQ2Fubm90IHN0cmluZ2lmeSB2YWx1ZSFcIik7XG59XG5jb25zdCBCQVNFNjRfUFJFRklYID0gXCJiYXNlNjQ6XCI7XG5mdW5jdGlvbiBzZXJpYWxpemVSYXcodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gQkFTRTY0X1BSRUZJWCArIGJhc2U2NEVuY29kZSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVJhdyh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICghdmFsdWUuc3RhcnRzV2l0aChCQVNFNjRfUFJFRklYKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gYmFzZTY0RGVjb2RlKHZhbHVlLnNsaWNlKEJBU0U2NF9QUkVGSVgubGVuZ3RoKSk7XG59XG5mdW5jdGlvbiBiYXNlNjREZWNvZGUoaW5wdXQpIHtcbiAgaWYgKGdsb2JhbFRoaXMuQnVmZmVyKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGlucHV0LCBcImJhc2U2NFwiKTtcbiAgfVxuICByZXR1cm4gVWludDhBcnJheS5mcm9tKFxuICAgIGdsb2JhbFRoaXMuYXRvYihpbnB1dCksXG4gICAgKGMpID0+IGMuY29kZVBvaW50QXQoMClcbiAgKTtcbn1cbmZ1bmN0aW9uIGJhc2U2NEVuY29kZShpbnB1dCkge1xuICBpZiAoZ2xvYmFsVGhpcy5CdWZmZXIpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oaW5wdXQpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICB9XG4gIHJldHVybiBnbG9iYWxUaGlzLmJ0b2EoU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uaW5wdXQpKTtcbn1cblxuY29uc3Qgc3RvcmFnZUtleVByb3BlcnRpZXMgPSBbXG4gIFwiaGFzXCIsXG4gIFwiaGFzSXRlbVwiLFxuICBcImdldFwiLFxuICBcImdldEl0ZW1cIixcbiAgXCJnZXRJdGVtUmF3XCIsXG4gIFwic2V0XCIsXG4gIFwic2V0SXRlbVwiLFxuICBcInNldEl0ZW1SYXdcIixcbiAgXCJkZWxcIixcbiAgXCJyZW1vdmVcIixcbiAgXCJyZW1vdmVJdGVtXCIsXG4gIFwiZ2V0TWV0YVwiLFxuICBcInNldE1ldGFcIixcbiAgXCJyZW1vdmVNZXRhXCIsXG4gIFwiZ2V0S2V5c1wiLFxuICBcImNsZWFyXCIsXG4gIFwibW91bnRcIixcbiAgXCJ1bm1vdW50XCJcbl07XG5mdW5jdGlvbiBwcmVmaXhTdG9yYWdlKHN0b3JhZ2UsIGJhc2UpIHtcbiAgYmFzZSA9IG5vcm1hbGl6ZUJhc2VLZXkoYmFzZSk7XG4gIGlmICghYmFzZSkge1xuICAgIHJldHVybiBzdG9yYWdlO1xuICB9XG4gIGNvbnN0IG5zU3RvcmFnZSA9IHsgLi4uc3RvcmFnZSB9O1xuICBmb3IgKGNvbnN0IHByb3BlcnR5IG9mIHN0b3JhZ2VLZXlQcm9wZXJ0aWVzKSB7XG4gICAgbnNTdG9yYWdlW3Byb3BlcnR5XSA9IChrZXkgPSBcIlwiLCAuLi5hcmdzKSA9PiAoXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBzdG9yYWdlW3Byb3BlcnR5XShiYXNlICsga2V5LCAuLi5hcmdzKVxuICAgICk7XG4gIH1cbiAgbnNTdG9yYWdlLmdldEtleXMgPSAoa2V5ID0gXCJcIiwgLi4uYXJndW1lbnRzXykgPT4gc3RvcmFnZS5nZXRLZXlzKGJhc2UgKyBrZXksIC4uLmFyZ3VtZW50c18pLnRoZW4oKGtleXMpID0+IGtleXMubWFwKChrZXkyKSA9PiBrZXkyLnNsaWNlKGJhc2UubGVuZ3RoKSkpO1xuICByZXR1cm4gbnNTdG9yYWdlO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplS2V5KGtleSkge1xuICBpZiAoIWtleSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIHJldHVybiBrZXkuc3BsaXQoXCI/XCIpWzBdPy5yZXBsYWNlKC9bL1xcXFxdL2csIFwiOlwiKS5yZXBsYWNlKC86Ky9nLCBcIjpcIikucmVwbGFjZSgvXjp8OiQvZywgXCJcIikgfHwgXCJcIjtcbn1cbmZ1bmN0aW9uIGpvaW5LZXlzKC4uLmtleXMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUtleShrZXlzLmpvaW4oXCI6XCIpKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUJhc2VLZXkoYmFzZSkge1xuICBiYXNlID0gbm9ybWFsaXplS2V5KGJhc2UpO1xuICByZXR1cm4gYmFzZSA/IGJhc2UgKyBcIjpcIiA6IFwiXCI7XG59XG5mdW5jdGlvbiBmaWx0ZXJLZXlCeURlcHRoKGtleSwgZGVwdGgpIHtcbiAgaWYgKGRlcHRoID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBsZXQgc3Vic3RyQ291bnQgPSAwO1xuICBsZXQgaW5kZXggPSBrZXkuaW5kZXhPZihcIjpcIik7XG4gIHdoaWxlIChpbmRleCA+IC0xKSB7XG4gICAgc3Vic3RyQ291bnQrKztcbiAgICBpbmRleCA9IGtleS5pbmRleE9mKFwiOlwiLCBpbmRleCArIDEpO1xuICB9XG4gIHJldHVybiBzdWJzdHJDb3VudCA8PSBkZXB0aDtcbn1cbmZ1bmN0aW9uIGZpbHRlcktleUJ5QmFzZShrZXksIGJhc2UpIHtcbiAgaWYgKGJhc2UpIHtcbiAgICByZXR1cm4ga2V5LnN0YXJ0c1dpdGgoYmFzZSkgJiYga2V5W2tleS5sZW5ndGggLSAxXSAhPT0gXCIkXCI7XG4gIH1cbiAgcmV0dXJuIGtleVtrZXkubGVuZ3RoIC0gMV0gIT09IFwiJFwiO1xufVxuXG5leHBvcnQgeyBub3JtYWxpemVLZXkgYXMgYSwgYXN5bmNDYWxsIGFzIGIsIGZpbHRlcktleUJ5QmFzZSBhcyBjLCBzdHJpbmdpZnkgYXMgZCwgZGVzZXJpYWxpemVSYXcgYXMgZSwgZmlsdGVyS2V5QnlEZXB0aCBhcyBmLCBqb2luS2V5cyBhcyBqLCBub3JtYWxpemVCYXNlS2V5IGFzIG4sIHByZWZpeFN0b3JhZ2UgYXMgcCwgc2VyaWFsaXplUmF3IGFzIHMgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/shared/unstorage.mNKHTF5Y.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/environment/dist/cjs/crypto.js":
/*!********************************************************************!*\
  !*** ./node_modules/@walletconnect/environment/dist/cjs/crypto.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isBrowserCryptoAvailable = exports.getSubtleCrypto = exports.getBrowerCrypto = void 0;\nfunction getBrowerCrypto() {\n    return (global === null || global === void 0 ? void 0 : global.crypto) || (global === null || global === void 0 ? void 0 : global.msCrypto) || {};\n}\nexports.getBrowerCrypto = getBrowerCrypto;\nfunction getSubtleCrypto() {\n    const browserCrypto = getBrowerCrypto();\n    return browserCrypto.subtle || browserCrypto.webkitSubtle;\n}\nexports.getSubtleCrypto = getSubtleCrypto;\nfunction isBrowserCryptoAvailable() {\n    return !!getBrowerCrypto() && !!getSubtleCrypto();\n}\nexports.isBrowserCryptoAvailable = isBrowserCryptoAvailable;\n//# sourceMappingURL=crypto.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvY3J5cHRvLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdDQUFnQyxHQUFHLHVCQUF1QixHQUFHLHVCQUF1QjtBQUNwRjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2Vudmlyb25tZW50L2Rpc3QvY2pzL2NyeXB0by5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNCcm93c2VyQ3J5cHRvQXZhaWxhYmxlID0gZXhwb3J0cy5nZXRTdWJ0bGVDcnlwdG8gPSBleHBvcnRzLmdldEJyb3dlckNyeXB0byA9IHZvaWQgMDtcbmZ1bmN0aW9uIGdldEJyb3dlckNyeXB0bygpIHtcbiAgICByZXR1cm4gKGdsb2JhbCA9PT0gbnVsbCB8fCBnbG9iYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdsb2JhbC5jcnlwdG8pIHx8IChnbG9iYWwgPT09IG51bGwgfHwgZ2xvYmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBnbG9iYWwubXNDcnlwdG8pIHx8IHt9O1xufVxuZXhwb3J0cy5nZXRCcm93ZXJDcnlwdG8gPSBnZXRCcm93ZXJDcnlwdG87XG5mdW5jdGlvbiBnZXRTdWJ0bGVDcnlwdG8oKSB7XG4gICAgY29uc3QgYnJvd3NlckNyeXB0byA9IGdldEJyb3dlckNyeXB0bygpO1xuICAgIHJldHVybiBicm93c2VyQ3J5cHRvLnN1YnRsZSB8fCBicm93c2VyQ3J5cHRvLndlYmtpdFN1YnRsZTtcbn1cbmV4cG9ydHMuZ2V0U3VidGxlQ3J5cHRvID0gZ2V0U3VidGxlQ3J5cHRvO1xuZnVuY3Rpb24gaXNCcm93c2VyQ3J5cHRvQXZhaWxhYmxlKCkge1xuICAgIHJldHVybiAhIWdldEJyb3dlckNyeXB0bygpICYmICEhZ2V0U3VidGxlQ3J5cHRvKCk7XG59XG5leHBvcnRzLmlzQnJvd3NlckNyeXB0b0F2YWlsYWJsZSA9IGlzQnJvd3NlckNyeXB0b0F2YWlsYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyeXB0by5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/environment/dist/cjs/crypto.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/environment/dist/cjs/env.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@walletconnect/environment/dist/cjs/env.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isBrowser = exports.isNode = exports.isReactNative = void 0;\nfunction isReactNative() {\n    return (typeof document === \"undefined\" &&\n        typeof navigator !== \"undefined\" &&\n        navigator.product === \"ReactNative\");\n}\nexports.isReactNative = isReactNative;\nfunction isNode() {\n    return (typeof process !== \"undefined\" &&\n        typeof process.versions !== \"undefined\" &&\n        typeof process.versions.node !== \"undefined\");\n}\nexports.isNode = isNode;\nfunction isBrowser() {\n    return !isReactNative() && !isNode();\n}\nexports.isBrowser = isBrowser;\n//# sourceMappingURL=env.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvZW52LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixHQUFHLGNBQWMsR0FBRyxxQkFBcUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9lbnZpcm9ubWVudC9kaXN0L2Nqcy9lbnYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzQnJvd3NlciA9IGV4cG9ydHMuaXNOb2RlID0gZXhwb3J0cy5pc1JlYWN0TmF0aXZlID0gdm9pZCAwO1xuZnVuY3Rpb24gaXNSZWFjdE5hdGl2ZSgpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSBcIlJlYWN0TmF0aXZlXCIpO1xufVxuZXhwb3J0cy5pc1JlYWN0TmF0aXZlID0gaXNSZWFjdE5hdGl2ZTtcbmZ1bmN0aW9uIGlzTm9kZSgpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgIT09IFwidW5kZWZpbmVkXCIpO1xufVxuZXhwb3J0cy5pc05vZGUgPSBpc05vZGU7XG5mdW5jdGlvbiBpc0Jyb3dzZXIoKSB7XG4gICAgcmV0dXJuICFpc1JlYWN0TmF0aXZlKCkgJiYgIWlzTm9kZSgpO1xufVxuZXhwb3J0cy5pc0Jyb3dzZXIgPSBpc0Jyb3dzZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnYuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/environment/dist/cjs/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/environment/dist/cjs/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@walletconnect/environment/dist/cjs/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/@walletconnect/environment/node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./crypto */ \"(ssr)/./node_modules/@walletconnect/environment/dist/cjs/crypto.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./env */ \"(ssr)/./node_modules/@walletconnect/environment/dist/cjs/env.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsOEZBQU87QUFDL0IscUJBQXFCLG1CQUFPLENBQUMsb0ZBQVU7QUFDdkMscUJBQXFCLG1CQUFPLENBQUMsOEVBQU87QUFDcEMiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY3J5cHRvXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2VudlwiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/environment/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/environment/node_modules/tslib/tslib.es6.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@walletconnect/environment/node_modules/tslib/tslib.es6.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __assign: () => (/* binding */ __assign),\n/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),\n/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),\n/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),\n/* harmony export */   __await: () => (/* binding */ __await),\n/* harmony export */   __awaiter: () => (/* binding */ __awaiter),\n/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),\n/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),\n/* harmony export */   __createBinding: () => (/* binding */ __createBinding),\n/* harmony export */   __decorate: () => (/* binding */ __decorate),\n/* harmony export */   __exportStar: () => (/* binding */ __exportStar),\n/* harmony export */   __extends: () => (/* binding */ __extends),\n/* harmony export */   __generator: () => (/* binding */ __generator),\n/* harmony export */   __importDefault: () => (/* binding */ __importDefault),\n/* harmony export */   __importStar: () => (/* binding */ __importStar),\n/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),\n/* harmony export */   __metadata: () => (/* binding */ __metadata),\n/* harmony export */   __param: () => (/* binding */ __param),\n/* harmony export */   __read: () => (/* binding */ __read),\n/* harmony export */   __rest: () => (/* binding */ __rest),\n/* harmony export */   __spread: () => (/* binding */ __spread),\n/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),\n/* harmony export */   __values: () => (/* binding */ __values)\n/* harmony export */ });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDbkYsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQTtBQUNBO0FBQ087QUFDUCxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUCw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCxjQUFjLDZCQUE2QiwwQkFBMEIsY0FBYyxxQkFBcUI7QUFDeEcsaUJBQWlCLG9EQUFvRCxxRUFBcUUsY0FBYztBQUN4Six1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QyxtQ0FBbUMsU0FBUztBQUM1QyxtQ0FBbUMsV0FBVyxVQUFVO0FBQ3hELDBDQUEwQyxjQUFjO0FBQ3hEO0FBQ0EsOEdBQThHLE9BQU87QUFDckgsaUZBQWlGLGlCQUFpQjtBQUNsRyx5REFBeUQsZ0JBQWdCLFFBQVE7QUFDakYsK0NBQStDLGdCQUFnQixnQkFBZ0I7QUFDL0U7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBLFVBQVUsWUFBWSxhQUFhLFNBQVMsVUFBVTtBQUN0RCxvQ0FBb0MsU0FBUztBQUM3QztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDZCQUE2QixzQkFBc0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGtEQUFrRCxRQUFRO0FBQzFELHlDQUF5QyxRQUFRO0FBQ2pELHlEQUF5RCxRQUFRO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxpQkFBaUIsdUZBQXVGLGNBQWM7QUFDdEgsdUJBQXVCLGdDQUFnQyxxQ0FBcUMsMkNBQTJDO0FBQ3ZJLDRCQUE0QixNQUFNLGlCQUFpQixZQUFZO0FBQy9ELHVCQUF1QjtBQUN2Qiw4QkFBOEI7QUFDOUIsNkJBQTZCO0FBQzdCLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ087QUFDUDtBQUNBLGlCQUFpQiw2Q0FBNkMsVUFBVSxzREFBc0QsY0FBYztBQUM1SSwwQkFBMEIsNkJBQTZCLG9CQUFvQixnREFBZ0Qsa0JBQWtCO0FBQzdJO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSwyR0FBMkcsdUZBQXVGLGNBQWM7QUFDaE4sdUJBQXVCLDhCQUE4QixnREFBZ0Qsd0RBQXdEO0FBQzdKLDZDQUE2QyxzQ0FBc0MsVUFBVSxtQkFBbUIsSUFBSTtBQUNwSDtBQUNBO0FBQ087QUFDUCxpQ0FBaUMsdUNBQXVDLFlBQVksS0FBSyxPQUFPO0FBQ2hHO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDZDQUE2QztBQUM3QztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9lbnZpcm9ubWVudC9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/environment/node_modules/tslib/tslib.es6.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/ethereum-provider/dist/index.es.js":
/*!************************************************************************!*\
  !*** ./node_modules/@walletconnect/ethereum-provider/dist/index.es.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EthereumProvider: () => (/* binding */ z),\n/* harmony export */   OPTIONAL_EVENTS: () => (/* binding */ O),\n/* harmony export */   OPTIONAL_METHODS: () => (/* binding */ M),\n/* harmony export */   REQUIRED_EVENTS: () => (/* binding */ m),\n/* harmony export */   REQUIRED_METHODS: () => (/* binding */ u),\n/* harmony export */   \"default\": () => (/* binding */ w)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/universal-provider */ \"(ssr)/./node_modules/@walletconnect/ethereum-provider/node_modules/@walletconnect/universal-provider/dist/index.es.js\");\nconst T=\"wc\",$=\"ethereum_provider\",j=`${T}@2:${$}:`,q=\"https://rpc.walletconnect.org/v1/\",u=[\"eth_sendTransaction\",\"personal_sign\"],M=[\"eth_accounts\",\"eth_requestAccounts\",\"eth_sendRawTransaction\",\"eth_sign\",\"eth_signTransaction\",\"eth_signTypedData\",\"eth_signTypedData_v3\",\"eth_signTypedData_v4\",\"eth_sendTransaction\",\"personal_sign\",\"wallet_switchEthereumChain\",\"wallet_addEthereumChain\",\"wallet_getPermissions\",\"wallet_requestPermissions\",\"wallet_registerOnboarding\",\"wallet_watchAsset\",\"wallet_scanQRCode\",\"wallet_sendCalls\",\"wallet_getCapabilities\",\"wallet_getCallsStatus\",\"wallet_showCallsStatus\"],m=[\"chainChanged\",\"accountsChanged\"],O=[\"chainChanged\",\"accountsChanged\",\"message\",\"disconnect\",\"connect\"];var N=Object.defineProperty,D=Object.defineProperties,U=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,y=(a,t,s)=>t in a?N(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,g=(a,t)=>{for(var s in t||(t={}))Q.call(t,s)&&y(a,s,t[s]);if(P)for(var s of P(t))L.call(t,s)&&y(a,s,t[s]);return a},_=(a,t)=>D(a,U(t)),o=(a,t,s)=>y(a,typeof t!=\"symbol\"?t+\"\":t,s);function v(a){return Number(a[0].split(\":\")[1])}function C(a){return`0x${a.toString(16)}`}function x(a){const{chains:t,optionalChains:s,methods:i,optionalMethods:e,events:n,optionalEvents:h,rpcMap:l}=a;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_2__.isValidArray)(t))throw new Error(\"Invalid chains\");const r={chains:t,methods:i||u,events:n||m,rpcMap:g({},t.length?{[v(t)]:l[v(t)]}:{})},d=n?.filter(p=>!m.includes(p)),c=i?.filter(p=>!u.includes(p));if(!s&&!h&&!e&&!(d!=null&&d.length)&&!(c!=null&&c.length))return{required:t.length?r:void 0};const I=d?.length&&c?.length||!s,f={chains:[...new Set(I?r.chains.concat(s||[]):s)],methods:[...new Set(r.methods.concat(e!=null&&e.length?e:M))],events:[...new Set(r.events.concat(h!=null&&h.length?h:O))],rpcMap:l};return{required:t.length?r:void 0,optional:s.length?f:void 0}}class w{constructor(){o(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),o(this,\"namespace\",\"eip155\"),o(this,\"accounts\",[]),o(this,\"signer\"),o(this,\"chainId\",1),o(this,\"modal\"),o(this,\"rpc\"),o(this,\"STORAGE_KEY\",j),o(this,\"on\",(t,s)=>(this.events.on(t,s),this)),o(this,\"once\",(t,s)=>(this.events.once(t,s),this)),o(this,\"removeListener\",(t,s)=>(this.events.removeListener(t,s),this)),o(this,\"off\",(t,s)=>(this.events.off(t,s),this)),o(this,\"parseAccount\",t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t),this.signer={},this.rpc={}}static async init(t){const s=new w;return await s.initialize(t),s}async request(t,s){return await this.signer.request(t,this.formatChainId(this.chainId),s)}sendAsync(t,s,i){this.signer.sendAsync(t,s,this.formatChainId(this.chainId),i)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:\"eth_requestAccounts\"})}async connect(t){if(!this.signer.client)throw new Error(\"Provider not initialized. Call init() first\");this.loadConnectOpts(t);const{required:s,optional:i}=x(this.rpc);try{const e=await new Promise(async(h,l)=>{var r;this.rpc.showQrModal&&((r=this.modal)==null||r.subscribeModal(c=>{!c.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error(\"Connection request reset. Please try again.\")))}));const d=t!=null&&t.scopedProperties?{[this.namespace]:t.scopedProperties}:void 0;await this.signer.connect(_(g({namespaces:g({},s&&{[this.namespace]:s})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:t?.pairingTopic,scopedProperties:d})).then(c=>{h(c)}).catch(c=>{l(new Error(c.message))})});if(!e)return;const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_2__.getAccountsFromNamespaces)(e.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:n),this.setAccounts(n),this.events.emit(\"connect\",{chainId:C(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{this.modal&&this.modal.closeModal()}}async authenticate(t,s){if(!this.signer.client)throw new Error(\"Provider not initialized. Call init() first\");this.loadConnectOpts({chains:t?.chains});try{const i=await new Promise(async(n,h)=>{var l;this.rpc.showQrModal&&((l=this.modal)==null||l.subscribeModal(r=>{!r.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),h(new Error(\"Connection request reset. Please try again.\")))})),await this.signer.authenticate(_(g({},t),{chains:this.rpc.chains}),s).then(r=>{n(r)}).catch(r=>{h(new Error(r.message))})}),e=i.session;if(e){const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_2__.getAccountsFromNamespaces)(e.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:n),this.setAccounts(n),this.events.emit(\"connect\",{chainId:C(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on(\"session_event\",t=>{const{params:s}=t,{event:i}=s;i.name===\"accountsChanged\"?(this.accounts=this.parseAccounts(i.data),this.events.emit(\"accountsChanged\",this.accounts)):i.name===\"chainChanged\"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit(\"session_event\",t)}),this.signer.on(\"accountsChanged\",t=>{this.accounts=this.parseAccounts(t),this.events.emit(\"accountsChanged\",this.accounts)}),this.signer.on(\"chainChanged\",t=>{const s=parseInt(t);this.chainId=s,this.events.emit(\"chainChanged\",C(this.chainId)),this.persist()}),this.signer.on(\"session_update\",t=>{this.events.emit(\"session_update\",t)}),this.signer.on(\"session_delete\",t=>{this.reset(),this.events.emit(\"session_delete\",t),this.events.emit(\"disconnect\",_(g({},(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_2__.getSdkError)(\"USER_DISCONNECTED\")),{data:t.topic,name:\"USER_DISCONNECTED\"}))}),this.signer.on(\"display_uri\",t=>{var s,i;this.rpc.showQrModal&&((s=this.modal)==null||s.closeModal(),(i=this.modal)==null||i.openModal({uri:t})),this.events.emit(\"display_uri\",t)})}switchEthereumChain(t){this.request({method:\"wallet_switchEthereumChain\",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t==\"string\"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(\":\")[1])}setChainIds(t){const s=t.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));s.length&&(this.chainId=s[0],this.events.emit(\"chainChanged\",C(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const s=this.parseChainId(t);this.chainId=s,this.switchEthereumChain(s)}}parseAccountId(t){const[s,i,e]=t.split(\":\");return{chainId:`${s}:${i}`,address:e}}setAccounts(t){this.accounts=t.filter(s=>this.parseChainId(this.parseAccountId(s).chainId)===this.chainId).map(s=>this.parseAccountId(s).address),this.events.emit(\"accountsChanged\",this.accounts)}getRpcConfig(t){var s,i;const e=(s=t?.chains)!=null?s:[],n=(i=t?.optionalChains)!=null?i:[],h=e.concat(n);if(!h.length)throw new Error(\"No chains specified in either `chains` or `optionalChains`\");const l=e.length?t?.methods||u:[],r=e.length?t?.events||m:[],d=t?.optionalMethods||[],c=t?.optionalEvents||[],I=t?.rpcMap||this.buildRpcMap(h,t.projectId),f=t?.qrModalOptions||void 0;return{chains:e?.map(p=>this.formatChainId(p)),optionalChains:n.map(p=>this.formatChainId(p)),methods:l,events:r,optionalMethods:d,optionalEvents:c,rpcMap:I,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:f,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,s){const i={};return t.forEach(e=>{i[e]=this.getRpcUrl(e,s)}),i}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?v(this.rpc.chains):v(this.rpc.optionalChains),this.signer=await _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_1__.UniversalProvider.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storage:t.storage,storageOptions:t.storageOptions,customStoragePrefix:t.customStoragePrefix,telemetryEnabled:t.telemetryEnabled,logger:t.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let s;try{const{WalletConnectModal:i}=await __webpack_require__.e(/*! import() */ \"vendor-chunks/@walletconnect\").then(__webpack_require__.bind(__webpack_require__, /*! @walletconnect/modal */ \"(ssr)/./node_modules/@walletconnect/modal/dist/index.js\"));s=i}catch{throw new Error(\"To use QR modal, please install @walletconnect/modal package\")}if(s)try{this.modal=new s(g({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(i){throw this.signer.logger.error(i),new Error(\"Could not generate WalletConnectModal Instance\")}}}loadConnectOpts(t){if(!t)return;const{chains:s,optionalChains:i,rpcMap:e}=t;s&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_2__.isValidArray)(s)&&(this.rpc.chains=s.map(n=>this.formatChainId(n)),s.forEach(n=>{this.rpc.rpcMap[n]=e?.[n]||this.getRpcUrl(n)})),i&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_2__.isValidArray)(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i?.map(n=>this.formatChainId(n)),i.forEach(n=>{this.rpc.rpcMap[n]=e?.[n]||this.getRpcUrl(n)}))}getRpcUrl(t,s){var i;return((i=this.rpc.rpcMap)==null?void 0:i[t])||`${q}?chainId=eip155:${t}&projectId=${s||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),s=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:s?.accounts),this.setAccounts(s?.accounts)}catch(t){this.signer.logger.error(\"Failed to load persisted session, clearing state...\"),this.signer.logger.error(t),await this.disconnect().catch(s=>this.signer.logger.warn(s))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t==\"string\"||t instanceof String?[this.parseAccount(t)]:t.map(s=>this.parseAccount(s))}}const z=w;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZXRoZXJldW0tcHJvdmlkZXIvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWdOLHdDQUF3QyxFQUFFLEtBQUssRUFBRSxxcEJBQXFwQiwyTkFBMk4sa0RBQWtELG1CQUFtQixxQkFBcUIsMkJBQTJCLGdEQUFnRCxTQUFTLGdFQUFnRSxjQUFjLGtDQUFrQyxjQUFjLFdBQVcsZUFBZSxFQUFFLGNBQWMsTUFBTSx5RkFBeUYsR0FBRyxJQUFJLGtFQUFDLHNDQUFzQyxTQUFTLDZDQUE2QyxXQUFXLGVBQWUsR0FBRyxFQUFFLCtEQUErRCxpRUFBaUUsNEJBQTRCLG9DQUFvQyxvTEFBb0wsT0FBTyx1REFBdUQsUUFBUSxjQUFjLG9CQUFvQixnREFBQywrY0FBK2MsYUFBYSxxQkFBcUIsY0FBYywrQkFBK0IsbUJBQW1CLHVFQUF1RSxpQkFBaUIsOERBQThELGdCQUFnQix1RUFBdUUsaUJBQWlCLHdFQUF3RSxlQUFlLDhEQUE4RCw2QkFBNkIsRUFBRSxpQkFBaUIsc0ZBQXNGLHdCQUF3QixNQUFNLHNCQUFzQixhQUFhLElBQUksdUNBQXVDLE1BQU0sa0VBQWtFLCtIQUErSCxHQUFHLHFDQUFxQyxvQ0FBb0MsUUFBUSwrQkFBK0IsZUFBZSxLQUFLLG1CQUFtQixFQUFFLEtBQUssb0JBQW9CLG9CQUFvQixHQUFHLGdEQUFnRCxZQUFZLEtBQUssWUFBWSx3QkFBd0IsRUFBRSxFQUFFLGFBQWEsUUFBUSwrRUFBQyxnQ0FBZ0MsMkdBQTJHLHdCQUF3QixFQUFFLFNBQVMsb0NBQW9DLFFBQVEscUNBQXFDLHdCQUF3QixzRkFBc0Ysc0JBQXNCLGlCQUFpQixFQUFFLElBQUksdUNBQXVDLE1BQU0sa0VBQWtFLCtIQUErSCx3Q0FBd0MsS0FBSyx1QkFBdUIsY0FBYyxLQUFLLFlBQVksd0JBQXdCLEVBQUUsY0FBYyxNQUFNLFFBQVEsK0VBQUMsZ0NBQWdDLDJHQUEyRyx3QkFBd0IsRUFBRSxTQUFTLFNBQVMsb0NBQW9DLFFBQVEscUNBQXFDLG1CQUFtQiwwREFBMEQsc0JBQXNCLFNBQVMsY0FBYywyQkFBMkIseUJBQXlCLG1DQUFtQyxNQUFNLFNBQVMsSUFBSSxRQUFRLEdBQUcsZ1FBQWdRLHVDQUF1QyxzRkFBc0Ysb0NBQW9DLG9CQUFvQiwrRUFBK0Usc0NBQXNDLHFDQUFxQyxzQ0FBc0Msc0ZBQXNGLENBQUMsaUVBQUMsd0JBQXdCLHNDQUFzQyxHQUFHLG1DQUFtQyxRQUFRLCtGQUErRixNQUFNLHFDQUFxQyxFQUFFLHVCQUF1QixjQUFjLDZDQUE2Qyx1QkFBdUIsRUFBRSxFQUFFLHVCQUF1QiwwQ0FBMEMsZUFBZSxPQUFPLGlCQUFpQixTQUFTLGVBQWUsR0FBRyxFQUFFLEVBQUUsZ0JBQWdCLCtCQUErQixlQUFlLDhFQUE4RSw4RkFBOEYsY0FBYyxnQ0FBZ0MsNkJBQTZCLDRDQUE0QyxrQkFBa0IsMEJBQTBCLE9BQU8sV0FBVyxFQUFFLEdBQUcsRUFBRSxhQUFhLGVBQWUscUxBQXFMLGdCQUFnQixRQUFRLGtGQUFrRiwyRkFBMkYsdUxBQXVMLE9BQU8seVBBQXlQLGlCQUFpQixXQUFXLHFCQUFxQix5QkFBeUIsSUFBSSxvQkFBb0IscUlBQXFJLGdGQUFDLE9BQU8sc1FBQXNRLHdGQUF3RixNQUFNLElBQUksTUFBTSxxQkFBcUIsT0FBTyxnTkFBOEIsQ0FBQyxJQUFJLE1BQU0sZ0ZBQWdGLFNBQVMsb0JBQW9CLDZCQUE2QiwyQkFBMkIsU0FBUyxnR0FBZ0csbUJBQW1CLGFBQWEsTUFBTSxtQ0FBbUMsR0FBRyxHQUFHLGtFQUFDLG9FQUFvRSw2Q0FBNkMsTUFBTSxrRUFBQyx3R0FBd0csNkNBQTZDLEdBQUcsZUFBZSxNQUFNLGtEQUFrRCxFQUFFLGtCQUFrQixFQUFFLGFBQWEsc0JBQXNCLEVBQUUsNkJBQTZCLG9CQUFvQix5REFBeUQsaUJBQWlCLHdDQUF3QyxlQUFlLEdBQUcsRUFBRSw4QkFBOEIsZUFBZSxHQUFHLEVBQUUsMkNBQTJDLHNGQUFzRixTQUFTLDBLQUEwSyxRQUFRLGdDQUFnQyxVQUFVLHlEQUF5RCxpQkFBaUIsd0JBQXdCLGlCQUFpQixzR0FBc0csVUFBMkk7QUFDeDFUIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2V0aGVyZXVtLXByb3ZpZGVyL2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0V2ZW50RW1pdHRlciBhcyBBfWZyb21cImV2ZW50c1wiO2ltcG9ydHtnZXRBY2NvdW50c0Zyb21OYW1lc3BhY2VzIGFzIGIsZ2V0U2RrRXJyb3IgYXMgUyxpc1ZhbGlkQXJyYXkgYXMgRX1mcm9tXCJAd2FsbGV0Y29ubmVjdC91dGlsc1wiO2ltcG9ydHtVbml2ZXJzYWxQcm92aWRlciBhcyBSfWZyb21cIkB3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlclwiO2NvbnN0IFQ9XCJ3Y1wiLCQ9XCJldGhlcmV1bV9wcm92aWRlclwiLGo9YCR7VH1AMjokeyR9OmAscT1cImh0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxL1wiLHU9W1wiZXRoX3NlbmRUcmFuc2FjdGlvblwiLFwicGVyc29uYWxfc2lnblwiXSxNPVtcImV0aF9hY2NvdW50c1wiLFwiZXRoX3JlcXVlc3RBY2NvdW50c1wiLFwiZXRoX3NlbmRSYXdUcmFuc2FjdGlvblwiLFwiZXRoX3NpZ25cIixcImV0aF9zaWduVHJhbnNhY3Rpb25cIixcImV0aF9zaWduVHlwZWREYXRhXCIsXCJldGhfc2lnblR5cGVkRGF0YV92M1wiLFwiZXRoX3NpZ25UeXBlZERhdGFfdjRcIixcImV0aF9zZW5kVHJhbnNhY3Rpb25cIixcInBlcnNvbmFsX3NpZ25cIixcIndhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluXCIsXCJ3YWxsZXRfYWRkRXRoZXJldW1DaGFpblwiLFwid2FsbGV0X2dldFBlcm1pc3Npb25zXCIsXCJ3YWxsZXRfcmVxdWVzdFBlcm1pc3Npb25zXCIsXCJ3YWxsZXRfcmVnaXN0ZXJPbmJvYXJkaW5nXCIsXCJ3YWxsZXRfd2F0Y2hBc3NldFwiLFwid2FsbGV0X3NjYW5RUkNvZGVcIixcIndhbGxldF9zZW5kQ2FsbHNcIixcIndhbGxldF9nZXRDYXBhYmlsaXRpZXNcIixcIndhbGxldF9nZXRDYWxsc1N0YXR1c1wiLFwid2FsbGV0X3Nob3dDYWxsc1N0YXR1c1wiXSxtPVtcImNoYWluQ2hhbmdlZFwiLFwiYWNjb3VudHNDaGFuZ2VkXCJdLE89W1wiY2hhaW5DaGFuZ2VkXCIsXCJhY2NvdW50c0NoYW5nZWRcIixcIm1lc3NhZ2VcIixcImRpc2Nvbm5lY3RcIixcImNvbm5lY3RcIl07dmFyIE49T2JqZWN0LmRlZmluZVByb3BlcnR5LEQ9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsVT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxQPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsUT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEw9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSx5PShhLHQscyk9PnQgaW4gYT9OKGEsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOmFbdF09cyxnPShhLHQpPT57Zm9yKHZhciBzIGluIHR8fCh0PXt9KSlRLmNhbGwodCxzKSYmeShhLHMsdFtzXSk7aWYoUClmb3IodmFyIHMgb2YgUCh0KSlMLmNhbGwodCxzKSYmeShhLHMsdFtzXSk7cmV0dXJuIGF9LF89KGEsdCk9PkQoYSxVKHQpKSxvPShhLHQscyk9PnkoYSx0eXBlb2YgdCE9XCJzeW1ib2xcIj90K1wiXCI6dCxzKTtmdW5jdGlvbiB2KGEpe3JldHVybiBOdW1iZXIoYVswXS5zcGxpdChcIjpcIilbMV0pfWZ1bmN0aW9uIEMoYSl7cmV0dXJuYDB4JHthLnRvU3RyaW5nKDE2KX1gfWZ1bmN0aW9uIHgoYSl7Y29uc3R7Y2hhaW5zOnQsb3B0aW9uYWxDaGFpbnM6cyxtZXRob2RzOmksb3B0aW9uYWxNZXRob2RzOmUsZXZlbnRzOm4sb3B0aW9uYWxFdmVudHM6aCxycGNNYXA6bH09YTtpZighRSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNoYWluc1wiKTtjb25zdCByPXtjaGFpbnM6dCxtZXRob2RzOml8fHUsZXZlbnRzOm58fG0scnBjTWFwOmcoe30sdC5sZW5ndGg/e1t2KHQpXTpsW3YodCldfTp7fSl9LGQ9bj8uZmlsdGVyKHA9PiFtLmluY2x1ZGVzKHApKSxjPWk/LmZpbHRlcihwPT4hdS5pbmNsdWRlcyhwKSk7aWYoIXMmJiFoJiYhZSYmIShkIT1udWxsJiZkLmxlbmd0aCkmJiEoYyE9bnVsbCYmYy5sZW5ndGgpKXJldHVybntyZXF1aXJlZDp0Lmxlbmd0aD9yOnZvaWQgMH07Y29uc3QgST1kPy5sZW5ndGgmJmM/Lmxlbmd0aHx8IXMsZj17Y2hhaW5zOlsuLi5uZXcgU2V0KEk/ci5jaGFpbnMuY29uY2F0KHN8fFtdKTpzKV0sbWV0aG9kczpbLi4ubmV3IFNldChyLm1ldGhvZHMuY29uY2F0KGUhPW51bGwmJmUubGVuZ3RoP2U6TSkpXSxldmVudHM6Wy4uLm5ldyBTZXQoci5ldmVudHMuY29uY2F0KGghPW51bGwmJmgubGVuZ3RoP2g6TykpXSxycGNNYXA6bH07cmV0dXJue3JlcXVpcmVkOnQubGVuZ3RoP3I6dm9pZCAwLG9wdGlvbmFsOnMubGVuZ3RoP2Y6dm9pZCAwfX1jbGFzcyB3e2NvbnN0cnVjdG9yKCl7byh0aGlzLFwiZXZlbnRzXCIsbmV3IEEpLG8odGhpcyxcIm5hbWVzcGFjZVwiLFwiZWlwMTU1XCIpLG8odGhpcyxcImFjY291bnRzXCIsW10pLG8odGhpcyxcInNpZ25lclwiKSxvKHRoaXMsXCJjaGFpbklkXCIsMSksbyh0aGlzLFwibW9kYWxcIiksbyh0aGlzLFwicnBjXCIpLG8odGhpcyxcIlNUT1JBR0VfS0VZXCIsaiksbyh0aGlzLFwib25cIiwodCxzKT0+KHRoaXMuZXZlbnRzLm9uKHQscyksdGhpcykpLG8odGhpcyxcIm9uY2VcIiwodCxzKT0+KHRoaXMuZXZlbnRzLm9uY2UodCxzKSx0aGlzKSksbyh0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwodCxzKT0+KHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKHQscyksdGhpcykpLG8odGhpcyxcIm9mZlwiLCh0LHMpPT4odGhpcy5ldmVudHMub2ZmKHQscyksdGhpcykpLG8odGhpcyxcInBhcnNlQWNjb3VudFwiLHQ9PnRoaXMuaXNDb21wYXRpYmxlQ2hhaW5JZCh0KT90aGlzLnBhcnNlQWNjb3VudElkKHQpLmFkZHJlc3M6dCksdGhpcy5zaWduZXI9e30sdGhpcy5ycGM9e319c3RhdGljIGFzeW5jIGluaXQodCl7Y29uc3Qgcz1uZXcgdztyZXR1cm4gYXdhaXQgcy5pbml0aWFsaXplKHQpLHN9YXN5bmMgcmVxdWVzdCh0LHMpe3JldHVybiBhd2FpdCB0aGlzLnNpZ25lci5yZXF1ZXN0KHQsdGhpcy5mb3JtYXRDaGFpbklkKHRoaXMuY2hhaW5JZCkscyl9c2VuZEFzeW5jKHQscyxpKXt0aGlzLnNpZ25lci5zZW5kQXN5bmModCxzLHRoaXMuZm9ybWF0Q2hhaW5JZCh0aGlzLmNoYWluSWQpLGkpfWdldCBjb25uZWN0ZWQoKXtyZXR1cm4gdGhpcy5zaWduZXIuY2xpZW50P3RoaXMuc2lnbmVyLmNsaWVudC5jb3JlLnJlbGF5ZXIuY29ubmVjdGVkOiExfWdldCBjb25uZWN0aW5nKCl7cmV0dXJuIHRoaXMuc2lnbmVyLmNsaWVudD90aGlzLnNpZ25lci5jbGllbnQuY29yZS5yZWxheWVyLmNvbm5lY3Rpbmc6ITF9YXN5bmMgZW5hYmxlKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbnx8YXdhaXQgdGhpcy5jb25uZWN0KCksYXdhaXQgdGhpcy5yZXF1ZXN0KHttZXRob2Q6XCJldGhfcmVxdWVzdEFjY291bnRzXCJ9KX1hc3luYyBjb25uZWN0KHQpe2lmKCF0aGlzLnNpZ25lci5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlkZXIgbm90IGluaXRpYWxpemVkLiBDYWxsIGluaXQoKSBmaXJzdFwiKTt0aGlzLmxvYWRDb25uZWN0T3B0cyh0KTtjb25zdHtyZXF1aXJlZDpzLG9wdGlvbmFsOml9PXgodGhpcy5ycGMpO3RyeXtjb25zdCBlPWF3YWl0IG5ldyBQcm9taXNlKGFzeW5jKGgsbCk9Pnt2YXIgcjt0aGlzLnJwYy5zaG93UXJNb2RhbCYmKChyPXRoaXMubW9kYWwpPT1udWxsfHxyLnN1YnNjcmliZU1vZGFsKGM9PnshYy5vcGVuJiYhdGhpcy5zaWduZXIuc2Vzc2lvbiYmKHRoaXMuc2lnbmVyLmFib3J0UGFpcmluZ0F0dGVtcHQoKSxsKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gcmVxdWVzdCByZXNldC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIikpKX0pKTtjb25zdCBkPXQhPW51bGwmJnQuc2NvcGVkUHJvcGVydGllcz97W3RoaXMubmFtZXNwYWNlXTp0LnNjb3BlZFByb3BlcnRpZXN9OnZvaWQgMDthd2FpdCB0aGlzLnNpZ25lci5jb25uZWN0KF8oZyh7bmFtZXNwYWNlczpnKHt9LHMmJntbdGhpcy5uYW1lc3BhY2VdOnN9KX0saSYme29wdGlvbmFsTmFtZXNwYWNlczp7W3RoaXMubmFtZXNwYWNlXTppfX0pLHtwYWlyaW5nVG9waWM6dD8ucGFpcmluZ1RvcGljLHNjb3BlZFByb3BlcnRpZXM6ZH0pKS50aGVuKGM9PntoKGMpfSkuY2F0Y2goYz0+e2wobmV3IEVycm9yKGMubWVzc2FnZSkpfSl9KTtpZighZSlyZXR1cm47Y29uc3Qgbj1iKGUubmFtZXNwYWNlcyxbdGhpcy5uYW1lc3BhY2VdKTt0aGlzLnNldENoYWluSWRzKHRoaXMucnBjLmNoYWlucy5sZW5ndGg/dGhpcy5ycGMuY2hhaW5zOm4pLHRoaXMuc2V0QWNjb3VudHMobiksdGhpcy5ldmVudHMuZW1pdChcImNvbm5lY3RcIix7Y2hhaW5JZDpDKHRoaXMuY2hhaW5JZCl9KX1jYXRjaChlKXt0aHJvdyB0aGlzLnNpZ25lci5sb2dnZXIuZXJyb3IoZSksZX1maW5hbGx5e3RoaXMubW9kYWwmJnRoaXMubW9kYWwuY2xvc2VNb2RhbCgpfX1hc3luYyBhdXRoZW50aWNhdGUodCxzKXtpZighdGhpcy5zaWduZXIuY2xpZW50KXRocm93IG5ldyBFcnJvcihcIlByb3ZpZGVyIG5vdCBpbml0aWFsaXplZC4gQ2FsbCBpbml0KCkgZmlyc3RcIik7dGhpcy5sb2FkQ29ubmVjdE9wdHMoe2NoYWluczp0Py5jaGFpbnN9KTt0cnl7Y29uc3QgaT1hd2FpdCBuZXcgUHJvbWlzZShhc3luYyhuLGgpPT57dmFyIGw7dGhpcy5ycGMuc2hvd1FyTW9kYWwmJigobD10aGlzLm1vZGFsKT09bnVsbHx8bC5zdWJzY3JpYmVNb2RhbChyPT57IXIub3BlbiYmIXRoaXMuc2lnbmVyLnNlc3Npb24mJih0aGlzLnNpZ25lci5hYm9ydFBhaXJpbmdBdHRlbXB0KCksaChuZXcgRXJyb3IoXCJDb25uZWN0aW9uIHJlcXVlc3QgcmVzZXQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpKSl9KSksYXdhaXQgdGhpcy5zaWduZXIuYXV0aGVudGljYXRlKF8oZyh7fSx0KSx7Y2hhaW5zOnRoaXMucnBjLmNoYWluc30pLHMpLnRoZW4ocj0+e24ocil9KS5jYXRjaChyPT57aChuZXcgRXJyb3Ioci5tZXNzYWdlKSl9KX0pLGU9aS5zZXNzaW9uO2lmKGUpe2NvbnN0IG49YihlLm5hbWVzcGFjZXMsW3RoaXMubmFtZXNwYWNlXSk7dGhpcy5zZXRDaGFpbklkcyh0aGlzLnJwYy5jaGFpbnMubGVuZ3RoP3RoaXMucnBjLmNoYWluczpuKSx0aGlzLnNldEFjY291bnRzKG4pLHRoaXMuZXZlbnRzLmVtaXQoXCJjb25uZWN0XCIse2NoYWluSWQ6Qyh0aGlzLmNoYWluSWQpfSl9cmV0dXJuIGl9Y2F0Y2goaSl7dGhyb3cgdGhpcy5zaWduZXIubG9nZ2VyLmVycm9yKGkpLGl9ZmluYWxseXt0aGlzLm1vZGFsJiZ0aGlzLm1vZGFsLmNsb3NlTW9kYWwoKX19YXN5bmMgZGlzY29ubmVjdCgpe3RoaXMuc2Vzc2lvbiYmYXdhaXQgdGhpcy5zaWduZXIuZGlzY29ubmVjdCgpLHRoaXMucmVzZXQoKX1nZXQgaXNXYWxsZXRDb25uZWN0KCl7cmV0dXJuITB9Z2V0IHNlc3Npb24oKXtyZXR1cm4gdGhpcy5zaWduZXIuc2Vzc2lvbn1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5zaWduZXIub24oXCJzZXNzaW9uX2V2ZW50XCIsdD0+e2NvbnN0e3BhcmFtczpzfT10LHtldmVudDppfT1zO2kubmFtZT09PVwiYWNjb3VudHNDaGFuZ2VkXCI/KHRoaXMuYWNjb3VudHM9dGhpcy5wYXJzZUFjY291bnRzKGkuZGF0YSksdGhpcy5ldmVudHMuZW1pdChcImFjY291bnRzQ2hhbmdlZFwiLHRoaXMuYWNjb3VudHMpKTppLm5hbWU9PT1cImNoYWluQ2hhbmdlZFwiP3RoaXMuc2V0Q2hhaW5JZCh0aGlzLmZvcm1hdENoYWluSWQoaS5kYXRhKSk6dGhpcy5ldmVudHMuZW1pdChpLm5hbWUsaS5kYXRhKSx0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9ldmVudFwiLHQpfSksdGhpcy5zaWduZXIub24oXCJhY2NvdW50c0NoYW5nZWRcIix0PT57dGhpcy5hY2NvdW50cz10aGlzLnBhcnNlQWNjb3VudHModCksdGhpcy5ldmVudHMuZW1pdChcImFjY291bnRzQ2hhbmdlZFwiLHRoaXMuYWNjb3VudHMpfSksdGhpcy5zaWduZXIub24oXCJjaGFpbkNoYW5nZWRcIix0PT57Y29uc3Qgcz1wYXJzZUludCh0KTt0aGlzLmNoYWluSWQ9cyx0aGlzLmV2ZW50cy5lbWl0KFwiY2hhaW5DaGFuZ2VkXCIsQyh0aGlzLmNoYWluSWQpKSx0aGlzLnBlcnNpc3QoKX0pLHRoaXMuc2lnbmVyLm9uKFwic2Vzc2lvbl91cGRhdGVcIix0PT57dGhpcy5ldmVudHMuZW1pdChcInNlc3Npb25fdXBkYXRlXCIsdCl9KSx0aGlzLnNpZ25lci5vbihcInNlc3Npb25fZGVsZXRlXCIsdD0+e3RoaXMucmVzZXQoKSx0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9kZWxldGVcIix0KSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzY29ubmVjdFwiLF8oZyh7fSxTKFwiVVNFUl9ESVNDT05ORUNURURcIikpLHtkYXRhOnQudG9waWMsbmFtZTpcIlVTRVJfRElTQ09OTkVDVEVEXCJ9KSl9KSx0aGlzLnNpZ25lci5vbihcImRpc3BsYXlfdXJpXCIsdD0+e3ZhciBzLGk7dGhpcy5ycGMuc2hvd1FyTW9kYWwmJigocz10aGlzLm1vZGFsKT09bnVsbHx8cy5jbG9zZU1vZGFsKCksKGk9dGhpcy5tb2RhbCk9PW51bGx8fGkub3Blbk1vZGFsKHt1cmk6dH0pKSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzcGxheV91cmlcIix0KX0pfXN3aXRjaEV0aGVyZXVtQ2hhaW4odCl7dGhpcy5yZXF1ZXN0KHttZXRob2Q6XCJ3YWxsZXRfc3dpdGNoRXRoZXJldW1DaGFpblwiLHBhcmFtczpbe2NoYWluSWQ6dC50b1N0cmluZygxNil9XX0pfWlzQ29tcGF0aWJsZUNoYWluSWQodCl7cmV0dXJuIHR5cGVvZiB0PT1cInN0cmluZ1wiP3Quc3RhcnRzV2l0aChgJHt0aGlzLm5hbWVzcGFjZX06YCk6ITF9Zm9ybWF0Q2hhaW5JZCh0KXtyZXR1cm5gJHt0aGlzLm5hbWVzcGFjZX06JHt0fWB9cGFyc2VDaGFpbklkKHQpe3JldHVybiBOdW1iZXIodC5zcGxpdChcIjpcIilbMV0pfXNldENoYWluSWRzKHQpe2NvbnN0IHM9dC5maWx0ZXIoaT0+dGhpcy5pc0NvbXBhdGlibGVDaGFpbklkKGkpKS5tYXAoaT0+dGhpcy5wYXJzZUNoYWluSWQoaSkpO3MubGVuZ3RoJiYodGhpcy5jaGFpbklkPXNbMF0sdGhpcy5ldmVudHMuZW1pdChcImNoYWluQ2hhbmdlZFwiLEModGhpcy5jaGFpbklkKSksdGhpcy5wZXJzaXN0KCkpfXNldENoYWluSWQodCl7aWYodGhpcy5pc0NvbXBhdGlibGVDaGFpbklkKHQpKXtjb25zdCBzPXRoaXMucGFyc2VDaGFpbklkKHQpO3RoaXMuY2hhaW5JZD1zLHRoaXMuc3dpdGNoRXRoZXJldW1DaGFpbihzKX19cGFyc2VBY2NvdW50SWQodCl7Y29uc3RbcyxpLGVdPXQuc3BsaXQoXCI6XCIpO3JldHVybntjaGFpbklkOmAke3N9OiR7aX1gLGFkZHJlc3M6ZX19c2V0QWNjb3VudHModCl7dGhpcy5hY2NvdW50cz10LmZpbHRlcihzPT50aGlzLnBhcnNlQ2hhaW5JZCh0aGlzLnBhcnNlQWNjb3VudElkKHMpLmNoYWluSWQpPT09dGhpcy5jaGFpbklkKS5tYXAocz0+dGhpcy5wYXJzZUFjY291bnRJZChzKS5hZGRyZXNzKSx0aGlzLmV2ZW50cy5lbWl0KFwiYWNjb3VudHNDaGFuZ2VkXCIsdGhpcy5hY2NvdW50cyl9Z2V0UnBjQ29uZmlnKHQpe3ZhciBzLGk7Y29uc3QgZT0ocz10Py5jaGFpbnMpIT1udWxsP3M6W10sbj0oaT10Py5vcHRpb25hbENoYWlucykhPW51bGw/aTpbXSxoPWUuY29uY2F0KG4pO2lmKCFoLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJObyBjaGFpbnMgc3BlY2lmaWVkIGluIGVpdGhlciBgY2hhaW5zYCBvciBgb3B0aW9uYWxDaGFpbnNgXCIpO2NvbnN0IGw9ZS5sZW5ndGg/dD8ubWV0aG9kc3x8dTpbXSxyPWUubGVuZ3RoP3Q/LmV2ZW50c3x8bTpbXSxkPXQ/Lm9wdGlvbmFsTWV0aG9kc3x8W10sYz10Py5vcHRpb25hbEV2ZW50c3x8W10sST10Py5ycGNNYXB8fHRoaXMuYnVpbGRScGNNYXAoaCx0LnByb2plY3RJZCksZj10Py5xck1vZGFsT3B0aW9uc3x8dm9pZCAwO3JldHVybntjaGFpbnM6ZT8ubWFwKHA9PnRoaXMuZm9ybWF0Q2hhaW5JZChwKSksb3B0aW9uYWxDaGFpbnM6bi5tYXAocD0+dGhpcy5mb3JtYXRDaGFpbklkKHApKSxtZXRob2RzOmwsZXZlbnRzOnIsb3B0aW9uYWxNZXRob2RzOmQsb3B0aW9uYWxFdmVudHM6YyxycGNNYXA6SSxzaG93UXJNb2RhbDohISh0IT1udWxsJiZ0LnNob3dRck1vZGFsKSxxck1vZGFsT3B0aW9uczpmLHByb2plY3RJZDp0LnByb2plY3RJZCxtZXRhZGF0YTp0Lm1ldGFkYXRhfX1idWlsZFJwY01hcCh0LHMpe2NvbnN0IGk9e307cmV0dXJuIHQuZm9yRWFjaChlPT57aVtlXT10aGlzLmdldFJwY1VybChlLHMpfSksaX1hc3luYyBpbml0aWFsaXplKHQpe2lmKHRoaXMucnBjPXRoaXMuZ2V0UnBjQ29uZmlnKHQpLHRoaXMuY2hhaW5JZD10aGlzLnJwYy5jaGFpbnMubGVuZ3RoP3YodGhpcy5ycGMuY2hhaW5zKTp2KHRoaXMucnBjLm9wdGlvbmFsQ2hhaW5zKSx0aGlzLnNpZ25lcj1hd2FpdCBSLmluaXQoe3Byb2plY3RJZDp0aGlzLnJwYy5wcm9qZWN0SWQsbWV0YWRhdGE6dGhpcy5ycGMubWV0YWRhdGEsZGlzYWJsZVByb3ZpZGVyUGluZzp0LmRpc2FibGVQcm92aWRlclBpbmcscmVsYXlVcmw6dC5yZWxheVVybCxzdG9yYWdlOnQuc3RvcmFnZSxzdG9yYWdlT3B0aW9uczp0LnN0b3JhZ2VPcHRpb25zLGN1c3RvbVN0b3JhZ2VQcmVmaXg6dC5jdXN0b21TdG9yYWdlUHJlZml4LHRlbGVtZXRyeUVuYWJsZWQ6dC50ZWxlbWV0cnlFbmFibGVkLGxvZ2dlcjp0LmxvZ2dlcn0pLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLGF3YWl0IHRoaXMubG9hZFBlcnNpc3RlZFNlc3Npb24oKSx0aGlzLnJwYy5zaG93UXJNb2RhbCl7bGV0IHM7dHJ5e2NvbnN0e1dhbGxldENvbm5lY3RNb2RhbDppfT1hd2FpdCBpbXBvcnQoXCJAd2FsbGV0Y29ubmVjdC9tb2RhbFwiKTtzPWl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKFwiVG8gdXNlIFFSIG1vZGFsLCBwbGVhc2UgaW5zdGFsbCBAd2FsbGV0Y29ubmVjdC9tb2RhbCBwYWNrYWdlXCIpfWlmKHMpdHJ5e3RoaXMubW9kYWw9bmV3IHMoZyh7cHJvamVjdElkOnRoaXMucnBjLnByb2plY3RJZH0sdGhpcy5ycGMucXJNb2RhbE9wdGlvbnMpKX1jYXRjaChpKXt0aHJvdyB0aGlzLnNpZ25lci5sb2dnZXIuZXJyb3IoaSksbmV3IEVycm9yKFwiQ291bGQgbm90IGdlbmVyYXRlIFdhbGxldENvbm5lY3RNb2RhbCBJbnN0YW5jZVwiKX19fWxvYWRDb25uZWN0T3B0cyh0KXtpZighdClyZXR1cm47Y29uc3R7Y2hhaW5zOnMsb3B0aW9uYWxDaGFpbnM6aSxycGNNYXA6ZX09dDtzJiZFKHMpJiYodGhpcy5ycGMuY2hhaW5zPXMubWFwKG49PnRoaXMuZm9ybWF0Q2hhaW5JZChuKSkscy5mb3JFYWNoKG49Pnt0aGlzLnJwYy5ycGNNYXBbbl09ZT8uW25dfHx0aGlzLmdldFJwY1VybChuKX0pKSxpJiZFKGkpJiYodGhpcy5ycGMub3B0aW9uYWxDaGFpbnM9W10sdGhpcy5ycGMub3B0aW9uYWxDaGFpbnM9aT8ubWFwKG49PnRoaXMuZm9ybWF0Q2hhaW5JZChuKSksaS5mb3JFYWNoKG49Pnt0aGlzLnJwYy5ycGNNYXBbbl09ZT8uW25dfHx0aGlzLmdldFJwY1VybChuKX0pKX1nZXRScGNVcmwodCxzKXt2YXIgaTtyZXR1cm4oKGk9dGhpcy5ycGMucnBjTWFwKT09bnVsbD92b2lkIDA6aVt0XSl8fGAke3F9P2NoYWluSWQ9ZWlwMTU1OiR7dH0mcHJvamVjdElkPSR7c3x8dGhpcy5ycGMucHJvamVjdElkfWB9YXN5bmMgbG9hZFBlcnNpc3RlZFNlc3Npb24oKXtpZih0aGlzLnNlc3Npb24pdHJ5e2NvbnN0IHQ9YXdhaXQgdGhpcy5zaWduZXIuY2xpZW50LmNvcmUuc3RvcmFnZS5nZXRJdGVtKGAke3RoaXMuU1RPUkFHRV9LRVl9L2NoYWluSWRgKSxzPXRoaXMuc2Vzc2lvbi5uYW1lc3BhY2VzW2Ake3RoaXMubmFtZXNwYWNlfToke3R9YF0/dGhpcy5zZXNzaW9uLm5hbWVzcGFjZXNbYCR7dGhpcy5uYW1lc3BhY2V9OiR7dH1gXTp0aGlzLnNlc3Npb24ubmFtZXNwYWNlc1t0aGlzLm5hbWVzcGFjZV07dGhpcy5zZXRDaGFpbklkcyh0P1t0aGlzLmZvcm1hdENoYWluSWQodCldOnM/LmFjY291bnRzKSx0aGlzLnNldEFjY291bnRzKHM/LmFjY291bnRzKX1jYXRjaCh0KXt0aGlzLnNpZ25lci5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBwZXJzaXN0ZWQgc2Vzc2lvbiwgY2xlYXJpbmcgc3RhdGUuLi5cIiksdGhpcy5zaWduZXIubG9nZ2VyLmVycm9yKHQpLGF3YWl0IHRoaXMuZGlzY29ubmVjdCgpLmNhdGNoKHM9PnRoaXMuc2lnbmVyLmxvZ2dlci53YXJuKHMpKX19cmVzZXQoKXt0aGlzLmNoYWluSWQ9MSx0aGlzLmFjY291bnRzPVtdfXBlcnNpc3QoKXt0aGlzLnNlc3Npb24mJnRoaXMuc2lnbmVyLmNsaWVudC5jb3JlLnN0b3JhZ2Uuc2V0SXRlbShgJHt0aGlzLlNUT1JBR0VfS0VZfS9jaGFpbklkYCx0aGlzLmNoYWluSWQpfXBhcnNlQWNjb3VudHModCl7cmV0dXJuIHR5cGVvZiB0PT1cInN0cmluZ1wifHx0IGluc3RhbmNlb2YgU3RyaW5nP1t0aGlzLnBhcnNlQWNjb3VudCh0KV06dC5tYXAocz0+dGhpcy5wYXJzZUFjY291bnQocykpfX1jb25zdCB6PXc7ZXhwb3J0e3ogYXMgRXRoZXJldW1Qcm92aWRlcixPIGFzIE9QVElPTkFMX0VWRU5UUyxNIGFzIE9QVElPTkFMX01FVEhPRFMsbSBhcyBSRVFVSVJFRF9FVkVOVFMsdSBhcyBSRVFVSVJFRF9NRVRIT0RTLHcgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/ethereum-provider/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/ethereum-provider/node_modules/@walletconnect/universal-provider/dist/index.es.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/ethereum-provider/node_modules/@walletconnect/universal-provider/dist/index.es.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UniversalProvider: () => (/* binding */ es),\n/* harmony export */   \"default\": () => (/* binding */ x)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/sign-client */ \"(ssr)/./node_modules/@walletconnect/sign-client/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/jsonrpc-http-connection */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_4__);\nconst tt=\"error\",St=\"wss://relay.walletconnect.org\",Dt=\"wc\",qt=\"universal_provider\",_=`${Dt}@2:${qt}:`,et=\"https://rpc.walletconnect.org/v1/\",w=\"generic\",jt=`${et}bundler`,d={DEFAULT_CHAIN_CHANGED:\"default_chain_changed\"};function Rt(){}function G(s){return s==null||typeof s!=\"object\"&&typeof s!=\"function\"}function J(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function _t(s){if(G(s))return s;if(Array.isArray(s)||J(s)||s instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&s instanceof SharedArrayBuffer)return s.slice(0);const t=Object.getPrototypeOf(s),e=t.constructor;if(s instanceof Date||s instanceof Map||s instanceof Set)return new e(s);if(s instanceof RegExp){const i=new e(s);return i.lastIndex=s.lastIndex,i}if(s instanceof DataView)return new e(s.buffer.slice(0));if(s instanceof Error){const i=new e(s.message);return i.stack=s.stack,i.name=s.name,i.cause=s.cause,i}if(typeof File<\"u\"&&s instanceof File)return new e([s],s.name,{type:s.type,lastModified:s.lastModified});if(typeof s==\"object\"){const i=Object.create(t);return Object.assign(i,s)}return s}function st(s){return typeof s==\"object\"&&s!==null}function it(s){return Object.getOwnPropertySymbols(s).filter(t=>Object.prototype.propertyIsEnumerable.call(s,t))}function rt(s){return s==null?s===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(s)}const Ut=\"[object RegExp]\",nt=\"[object String]\",at=\"[object Number]\",ct=\"[object Boolean]\",ot=\"[object Arguments]\",Ft=\"[object Symbol]\",Lt=\"[object Date]\",xt=\"[object Map]\",Mt=\"[object Set]\",Bt=\"[object Array]\",Gt=\"[object ArrayBuffer]\",Jt=\"[object Object]\",zt=\"[object DataView]\",kt=\"[object Uint8Array]\",Wt=\"[object Uint8ClampedArray]\",Kt=\"[object Uint16Array]\",Vt=\"[object Uint32Array]\",Xt=\"[object Int8Array]\",Yt=\"[object Int16Array]\",Qt=\"[object Int32Array]\",Zt=\"[object Float32Array]\",Tt=\"[object Float64Array]\";function te(s,t){return y(s,void 0,s,new Map,t)}function y(s,t,e,i=new Map,n=void 0){const a=n?.(s,t,e,i);if(a!=null)return a;if(G(s))return s;if(i.has(s))return i.get(s);if(Array.isArray(s)){const r=new Array(s.length);i.set(s,r);for(let c=0;c<s.length;c++)r[c]=y(s[c],c,e,i,n);return Object.hasOwn(s,\"index\")&&(r.index=s.index),Object.hasOwn(s,\"input\")&&(r.input=s.input),r}if(s instanceof Date)return new Date(s.getTime());if(s instanceof RegExp){const r=new RegExp(s.source,s.flags);return r.lastIndex=s.lastIndex,r}if(s instanceof Map){const r=new Map;i.set(s,r);for(const[c,o]of s)r.set(c,y(o,c,e,i,n));return r}if(s instanceof Set){const r=new Set;i.set(s,r);for(const c of s)r.add(y(c,void 0,e,i,n));return r}if(typeof Buffer<\"u\"&&Buffer.isBuffer(s))return s.subarray();if(J(s)){const r=new(Object.getPrototypeOf(s)).constructor(s.length);i.set(s,r);for(let c=0;c<s.length;c++)r[c]=y(s[c],c,e,i,n);return r}if(s instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&s instanceof SharedArrayBuffer)return s.slice(0);if(s instanceof DataView){const r=new DataView(s.buffer.slice(0),s.byteOffset,s.byteLength);return i.set(s,r),g(r,s,e,i,n),r}if(typeof File<\"u\"&&s instanceof File){const r=new File([s],s.name,{type:s.type});return i.set(s,r),g(r,s,e,i,n),r}if(s instanceof Blob){const r=new Blob([s],{type:s.type});return i.set(s,r),g(r,s,e,i,n),r}if(s instanceof Error){const r=new s.constructor;return i.set(s,r),r.message=s.message,r.name=s.name,r.stack=s.stack,r.cause=s.cause,g(r,s,e,i,n),r}if(typeof s==\"object\"&&ee(s)){const r=Object.create(Object.getPrototypeOf(s));return i.set(s,r),g(r,s,e,i,n),r}return s}function g(s,t,e=s,i,n){const a=[...Object.keys(t),...it(t)];for(let r=0;r<a.length;r++){const c=a[r],o=Object.getOwnPropertyDescriptor(s,c);(o==null||o.writable)&&(s[c]=y(t[c],c,e,i,n))}}function ee(s){switch(rt(s)){case ot:case Bt:case Gt:case zt:case ct:case Lt:case Zt:case Tt:case Xt:case Yt:case Qt:case xt:case at:case Jt:case Ut:case Mt:case nt:case Ft:case kt:case Wt:case Kt:case Vt:return!0;default:return!1}}function se(s,t){return te(s,(e,i,n,a)=>{const r=t?.(e,i,n,a);if(r!=null)return r;if(typeof s==\"object\")switch(Object.prototype.toString.call(s)){case at:case nt:case ct:{const c=new s.constructor(s?.valueOf());return g(c,s),c}case ot:{const c={};return g(c,s),c.length=s.length,c[Symbol.iterator]=s[Symbol.iterator],c}default:return}})}function ht(s){return se(s)}function pt(s){return s!==null&&typeof s==\"object\"&&rt(s)===\"[object Arguments]\"}function ie(s){return J(s)}function re(s){if(typeof s!=\"object\"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!==\"[object Object]\"){const e=s[Symbol.toStringTag];return e==null||!Object.getOwnPropertyDescriptor(s,Symbol.toStringTag)?.writable?!1:s.toString()===`[object ${e}]`}let t=s;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(s)===t}function ne(s,...t){const e=t.slice(0,-1),i=t[t.length-1];let n=s;for(let a=0;a<e.length;a++){const r=e[a];n=U(n,r,i,new Map)}return n}function U(s,t,e,i){if(G(s)&&(s=Object(s)),t==null||typeof t!=\"object\")return s;if(i.has(t))return _t(i.get(t));if(i.set(t,s),Array.isArray(t)){t=t.slice();for(let a=0;a<t.length;a++)t[a]=t[a]??void 0}const n=[...Object.keys(t),...it(t)];for(let a=0;a<n.length;a++){const r=n[a];let c=t[r],o=s[r];if(pt(c)&&(c={...c}),pt(o)&&(o={...o}),typeof Buffer<\"u\"&&Buffer.isBuffer(c)&&(c=ht(c)),Array.isArray(c))if(typeof o==\"object\"&&o!=null){const j=[],R=Reflect.ownKeys(o);for(let f=0;f<R.length;f++){const Y=R[f];j[Y]=o[Y]}o=j}else o=[];const v=e(o,c,r,s,t,i);v!=null?s[r]=v:Array.isArray(c)||st(o)&&st(c)?s[r]=U(o,c,e,i):o==null&&re(c)?s[r]=U({},c,e,i):o==null&&ie(c)?s[r]=ht(c):(o===void 0||c!==void 0)&&(s[r]=c)}return s}function ae(s,...t){return ne(s,...t,Rt)}var ce=Object.defineProperty,oe=Object.defineProperties,he=Object.getOwnPropertyDescriptors,dt=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,ut=(s,t,e)=>t in s?ce(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,F=(s,t)=>{for(var e in t||(t={}))pe.call(t,e)&&ut(s,e,t[e]);if(dt)for(var e of dt(t))de.call(t,e)&&ut(s,e,t[e]);return s},ue=(s,t)=>oe(s,he(t));function p(s,t,e){var i;const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(s);return((i=t.rpcMap)==null?void 0:i[n.reference])||`${et}?chainId=${n.namespace}:${n.reference}&projectId=${e}`}function P(s){return s.includes(\":\")?s.split(\":\")[1]:s}function lt(s){return s.map(t=>`${t.split(\":\")[0]}:${t.split(\":\")[1]}`)}function le(s,t){const e=Object.keys(t.namespaces).filter(n=>n.includes(s));if(!e.length)return[];const i=[];return e.forEach(n=>{const a=t.namespaces[n].accounts;i.push(...a)}),i}function z(s={},t={}){const e=ft(s),i=ft(t);return ae(e,i)}function ft(s){var t,e,i,n;const a={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(s))return a;for(const[r,c]of Object.entries(s)){const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isCaipNamespace)(r)?[r]:c.chains,v=c.methods||[],j=c.events||[],R=c.rpcMap||{},f=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(r);a[f]=ue(F(F({},a[f]),c),{chains:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(o,(t=a[f])==null?void 0:t.chains),methods:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(v,(e=a[f])==null?void 0:e.methods),events:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(j,(i=a[f])==null?void 0:i.events),rpcMap:F(F({},R),(n=a[f])==null?void 0:n.rpcMap)})}return a}function mt(s){return s.includes(\":\")?s.split(\":\")[2]:s}function vt(s){const t={};for(const[e,i]of Object.entries(s)){const n=i.methods||[],a=i.events||[],r=i.accounts||[],c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isCaipNamespace)(e)?[e]:i.chains?i.chains:lt(i.accounts);t[e]={chains:c,methods:n,events:a,accounts:r}}return t}function k(s){return typeof s==\"number\"?s:s.includes(\"0x\")?parseInt(s,16):(s=s.includes(\":\")?s.split(\":\")[1]:s,isNaN(Number(s))?s:Number(s))}const gt={},h=s=>gt[s],W=(s,t)=>{gt[s]=t};var fe=Object.defineProperty,me=(s,t,e)=>t in s?fe(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,b=(s,t,e)=>me(s,typeof t!=\"symbol\"?t+\"\":t,e);class ve{constructor(t){b(this,\"name\",\"polkadot\"),b(this,\"client\"),b(this,\"httpProviders\"),b(this,\"events\"),b(this,\"namespace\"),b(this,\"chainId\"),this.namespace=t.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=P(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,h(\"disableProviderPing\")))}}var ge=Object.defineProperty,Pe=Object.defineProperties,we=Object.getOwnPropertyDescriptors,Pt=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,K=(s,t,e)=>t in s?ge(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,wt=(s,t)=>{for(var e in t||(t={}))ye.call(t,e)&&K(s,e,t[e]);if(Pt)for(var e of Pt(t))be.call(t,e)&&K(s,e,t[e]);return s},yt=(s,t)=>Pe(s,we(t)),I=(s,t,e)=>K(s,typeof t!=\"symbol\"?t+\"\":t,e);class Ie{constructor(t){I(this,\"name\",\"eip155\"),I(this,\"client\"),I(this,\"chainId\"),I(this,\"namespace\"),I(this,\"httpProviders\"),I(this,\"events\"),this.namespace=t.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case\"eth_requestAccounts\":return this.getAccounts();case\"eth_accounts\":return this.getAccounts();case\"wallet_switchEthereumChain\":return await this.handleSwitchChain(t);case\"eth_chainId\":return parseInt(this.getDefaultChain());case\"wallet_getCapabilities\":return await this.getCapabilities(t);case\"wallet_getCallsStatus\":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(parseInt(t),e),this.chainId=parseInt(t),this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}createHttpProvider(t,e){const i=e||p(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__.HttpConnection(i,h(\"disableProviderPing\")))}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=parseInt(P(e));t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}getHttpProvider(){const t=this.chainId,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}async handleSwitchChain(t){var e,i;let n=t.request.params?(e=t.request.params[0])==null?void 0:e.chainId:\"0x0\";n=n.startsWith(\"0x\")?n:`0x${n}`;const a=parseInt(n,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes(\"wallet_switchEthereumChain\"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var e,i,n;const a=(i=(e=t.request)==null?void 0:e.params)==null?void 0:i[0];if(!a)throw new Error(\"Missing address parameter in `wallet_getCapabilities` request\");const r=this.client.session.get(t.topic),c=((n=r?.sessionProperties)==null?void 0:n.capabilities)||{};if(c!=null&&c[a])return c?.[a];const o=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:yt(wt({},r.sessionProperties||{}),{capabilities:yt(wt({},c||{}),{[a]:o})})})}catch(v){console.warn(\"Failed to update session with capabilities\",v)}return o}async getCallStatus(t){var e,i;const n=this.client.session.get(t.topic),a=(e=n.sessionProperties)==null?void 0:e.bundler_name;if(a){const c=this.getBundlerUrl(t.chainId,a);try{return await this.getUserOperationReceipt(c,t)}catch(o){console.warn(\"Failed to fetch call status from bundler\",o,c)}}const r=(i=n.sessionProperties)==null?void 0:i.bundler_url;if(r)try{return await this.getUserOperationReceipt(r,t)}catch(c){console.warn(\"Failed to fetch call status from custom bundler\",c,r)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error(\"Fetching call status not approved by the wallet.\")}async getUserOperationReceipt(t,e){var i;const n=new URL(t),a=await fetch(n,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"eth_getUserOperationReceipt\",[(i=e.request.params)==null?void 0:i[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(t,e){return`${jt}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${e}`}}var $e=Object.defineProperty,Oe=(s,t,e)=>t in s?$e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,$=(s,t,e)=>Oe(s,typeof t!=\"symbol\"?t+\"\":t,e);class Ae{constructor(t){$(this,\"name\",\"solana\"),$(this,\"client\"),$(this,\"httpProviders\"),$(this,\"events\"),$(this,\"namespace\"),$(this,\"chainId\"),this.namespace=t.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=P(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,h(\"disableProviderPing\")))}}var Ce=Object.defineProperty,He=(s,t,e)=>t in s?Ce(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,O=(s,t,e)=>He(s,typeof t!=\"symbol\"?t+\"\":t,e);class Ee{constructor(t){O(this,\"name\",\"cosmos\"),O(this,\"client\"),O(this,\"httpProviders\"),O(this,\"events\"),O(this,\"namespace\"),O(this,\"chainId\"),this.namespace=t.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=P(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,h(\"disableProviderPing\")))}}var Ne=Object.defineProperty,Se=(s,t,e)=>t in s?Ne(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,A=(s,t,e)=>Se(s,typeof t!=\"symbol\"?t+\"\":t,e);class De{constructor(t){A(this,\"name\",\"algorand\"),A(this,\"client\"),A(this,\"httpProviders\"),A(this,\"events\"),A(this,\"namespace\"),A(this,\"chainId\"),this.namespace=t.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(!this.httpProviders[t]){const i=e||p(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;t[e]=this.createHttpProvider(e,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);return typeof i>\"u\"?void 0:new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,h(\"disableProviderPing\")))}}var qe=Object.defineProperty,je=(s,t,e)=>t in s?qe(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,C=(s,t,e)=>je(s,typeof t!=\"symbol\"?t+\"\":t,e);class Re{constructor(t){C(this,\"name\",\"cip34\"),C(this,\"client\"),C(this,\"httpProviders\"),C(this,\"events\"),C(this,\"namespace\"),C(this,\"chainId\"),this.namespace=t.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{const i=this.getCardanoRPCUrl(e),n=P(e);t[n]=this.createHttpProvider(n,i)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}getCardanoRPCUrl(t){const e=this.namespace.rpcMap;if(e)return e[t]}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||this.getCardanoRPCUrl(t);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,h(\"disableProviderPing\")))}}var _e=Object.defineProperty,Ue=(s,t,e)=>t in s?_e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,H=(s,t,e)=>Ue(s,typeof t!=\"symbol\"?t+\"\":t,e);class Fe{constructor(t){H(this,\"name\",\"elrond\"),H(this,\"client\"),H(this,\"httpProviders\"),H(this,\"events\"),H(this,\"namespace\"),H(this,\"chainId\"),this.namespace=t.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=P(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,h(\"disableProviderPing\")))}}var Le=Object.defineProperty,xe=(s,t,e)=>t in s?Le(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,E=(s,t,e)=>xe(s,typeof t!=\"symbol\"?t+\"\":t,e);class Me{constructor(t){E(this,\"name\",\"multiversx\"),E(this,\"client\"),E(this,\"httpProviders\"),E(this,\"events\"),E(this,\"namespace\"),E(this,\"chainId\"),this.namespace=t.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=P(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,h(\"disableProviderPing\")))}}var Be=Object.defineProperty,Ge=(s,t,e)=>t in s?Be(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,N=(s,t,e)=>Ge(s,typeof t!=\"symbol\"?t+\"\":t,e);class Je{constructor(t){N(this,\"name\",\"near\"),N(this,\"client\"),N(this,\"httpProviders\"),N(this,\"events\"),N(this,\"namespace\"),N(this,\"chainId\"),this.namespace=t.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const i=e||p(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;t[e]=this.createHttpProvider(e,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace);return typeof i>\"u\"?void 0:new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,h(\"disableProviderPing\")))}}var ze=Object.defineProperty,ke=(s,t,e)=>t in s?ze(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,S=(s,t,e)=>ke(s,typeof t!=\"symbol\"?t+\"\":t,e);class We{constructor(t){S(this,\"name\",\"tezos\"),S(this,\"client\"),S(this,\"httpProviders\"),S(this,\"events\"),S(this,\"namespace\"),S(this,\"chainId\"),this.namespace=t.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const i=e||p(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{t[e]=this.createHttpProvider(e)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace);return typeof i>\"u\"?void 0:new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i))}}var Ke=Object.defineProperty,Ve=(s,t,e)=>t in s?Ke(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,D=(s,t,e)=>Ve(s,typeof t!=\"symbol\"?t+\"\":t,e);class Xe{constructor(t){D(this,\"name\",w),D(this,\"client\"),D(this,\"httpProviders\"),D(this,\"events\"),D(this,\"namespace\"),D(this,\"chainId\"),this.namespace=t.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){var t,e;const i={};return(e=(t=this.namespace)==null?void 0:t.accounts)==null||e.forEach(n=>{const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(n);i[`${a.namespace}:${a.reference}`]=this.createHttpProvider(n)}),i}getHttpProvider(t){const e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,h(\"disableProviderPing\")))}}var Ye=Object.defineProperty,Qe=Object.defineProperties,Ze=Object.getOwnPropertyDescriptors,bt=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,ts=Object.prototype.propertyIsEnumerable,V=(s,t,e)=>t in s?Ye(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,L=(s,t)=>{for(var e in t||(t={}))Te.call(t,e)&&V(s,e,t[e]);if(bt)for(var e of bt(t))ts.call(t,e)&&V(s,e,t[e]);return s},X=(s,t)=>Qe(s,Ze(t)),u=(s,t,e)=>V(s,typeof t!=\"symbol\"?t+\"\":t,e);class x{constructor(t){u(this,\"client\"),u(this,\"namespaces\"),u(this,\"optionalNamespaces\"),u(this,\"sessionProperties\"),u(this,\"scopedProperties\"),u(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_4___default())),u(this,\"rpcProviders\",{}),u(this,\"session\"),u(this,\"providerOpts\"),u(this,\"logger\"),u(this,\"uri\"),u(this,\"disableProviderPing\",!1),this.providerOpts=t,this.logger=typeof t?.logger<\"u\"&&typeof t?.logger!=\"string\"?t.logger:(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({level:t?.logger||tt})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const e=new x(t);return await e.initialize(),e}async request(t,e,i){const[n,a]=this.validateChain(e);if(!this.session)throw new Error(\"Please call connect() before request()\");return await this.getProvider(n).request({request:L({},t),chainId:`${n}:${a}`,topic:this.session.topic,expiry:i})}sendAsync(t,e,i,n){const a=new Date().getTime();this.request(t,i,n).then(r=>e(null,(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(a,r))).catch(r=>e(r,void 0))}async enable(){if(!this.client)throw new Error(\"Sign Client not initialized\");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error(\"Please call connect() before enable()\");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error(\"Sign Client not initialized\");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,e){if(!this.client)throw new Error(\"Sign Client not initialized\");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:i,response:n}=await this.client.authenticate(t,e);i&&(this.uri=i,this.events.emit(\"display_uri\",i));const a=await n();if(this.session=a.session,this.session){const r=vt(this.session.namespaces);this.namespaces=z(this.namespaces,r),await this.persist(\"namespaces\",this.namespaces),this.onConnect()}return a}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}removeListener(t,e){this.events.removeListener(t,e)}off(t,e){this.events.off(t,e)}get isWalletConnect(){return!0}async pair(t){const{uri:e,approval:i}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});e&&(this.uri=e,this.events.emit(\"display_uri\",e));const n=await i();this.session=n;const a=vt(n.namespaces);return this.namespaces=z(this.namespaces,a),await this.persist(\"namespaces\",this.namespaces),await this.persist(\"optionalNamespaces\",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,e){try{if(!this.session)return;const[i,n]=this.validateChain(t),a=this.getProvider(i);a.name===w?a.setDefaultChain(`${i}:${n}`,e):a.setDefaultChain(n,e)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(t={}){this.logger.info(\"Cleaning up inactive pairings...\");const e=this.client.pairing.getAll();if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(e)){for(const i of e)t.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${e.length}`)}}abortPairingAttempt(){this.logger.warn(\"abortPairingAttempt is deprecated. This is now a no-op.\")}async checkStorage(){this.namespaces=await this.getFromStore(\"namespaces\")||{},this.optionalNamespaces=await this.getFromStore(\"optionalNamespaces\")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace(\"Initialized\"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,e;if(this.client=this.providerOpts.client||await _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_6__[\"default\"].init({core:this.providerOpts.core,logger:this.providerOpts.logger||tt,relayUrl:this.providerOpts.relayUrl||St,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error(\"Failed to get session\",i),new Error(`The provided session: ${(e=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:e.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace(\"SignClient Initialized\")}createProviders(){if(!this.client)throw new Error(\"Sign Client not initialized\");if(!this.session)throw new Error(\"Session not initialized. Please call connect() before enable()\");const t=[...new Set(Object.keys(this.session.namespaces).map(e=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(e)))];W(\"client\",this.client),W(\"events\",this.events),W(\"disableProviderPing\",this.disableProviderPing),t.forEach(e=>{if(!this.session)return;const i=le(e,this.session),n=lt(i),a=z(this.namespaces,this.optionalNamespaces),r=X(L({},a[e]),{accounts:i,chains:n});switch(e){case\"eip155\":this.rpcProviders[e]=new Ie({namespace:r});break;case\"algorand\":this.rpcProviders[e]=new De({namespace:r});break;case\"solana\":this.rpcProviders[e]=new Ae({namespace:r});break;case\"cosmos\":this.rpcProviders[e]=new Ee({namespace:r});break;case\"polkadot\":this.rpcProviders[e]=new ve({namespace:r});break;case\"cip34\":this.rpcProviders[e]=new Re({namespace:r});break;case\"elrond\":this.rpcProviders[e]=new Fe({namespace:r});break;case\"multiversx\":this.rpcProviders[e]=new Me({namespace:r});break;case\"near\":this.rpcProviders[e]=new Je({namespace:r});break;case\"tezos\":this.rpcProviders[e]=new We({namespace:r});break;default:this.rpcProviders[w]?this.rpcProviders[w].updateNamespace(r):this.rpcProviders[w]=new Xe({namespace:r})}})}registerEventListeners(){if(typeof this.client>\"u\")throw new Error(\"Sign Client is not initialized\");this.client.on(\"session_ping\",t=>{var e;const{topic:i}=t;i===((e=this.session)==null?void 0:e.topic)&&this.events.emit(\"session_ping\",t)}),this.client.on(\"session_event\",t=>{var e;const{params:i,topic:n}=t;if(n!==((e=this.session)==null?void 0:e.topic))return;const{event:a}=i;if(a.name===\"accountsChanged\"){const r=a.data;r&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(r)&&this.events.emit(\"accountsChanged\",r.map(mt))}else if(a.name===\"chainChanged\"){const r=i.chainId,c=i.event.data,o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(r),v=k(r)!==k(c)?`${o}:${k(c)}`:r;this.onChainChanged(v)}else this.events.emit(a.name,a.data);this.events.emit(\"session_event\",t)}),this.client.on(\"session_update\",({topic:t,params:e})=>{var i,n;if(t!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:a}=e,r=(n=this.client)==null?void 0:n.session.get(t);this.session=X(L({},r),{namespaces:a}),this.onSessionUpdate(),this.events.emit(\"session_update\",{topic:t,params:e})}),this.client.on(\"session_delete\",async t=>{var e;t.topic===((e=this.session)==null?void 0:e.topic)&&(await this.cleanup(),this.events.emit(\"session_delete\",t),this.events.emit(\"disconnect\",X(L({},(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),{data:t.topic})))}),this.on(d.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[w]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var e;this.getProvider(t).updateNamespace((e=this.session)==null?void 0:e.namespaces[t])})}setNamespaces(t){const{namespaces:e,optionalNamespaces:i,sessionProperties:n,scopedProperties:a}=t;e&&Object.keys(e).length&&(this.namespaces=e),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=n,this.scopedProperties=a}validateChain(t){const[e,i]=t?.split(\":\")||[\"\",\"\"];if(!this.namespaces||!Object.keys(this.namespaces).length)return[e,i];if(e&&!Object.keys(this.namespaces||{}).map(r=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(r)).includes(e))throw new Error(`Namespace '${e}' is not configured. Please call connect() first with namespace config.`);if(e&&i)return[e,i];const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(Object.keys(this.namespaces)[0]),a=this.rpcProviders[n].getDefaultChain();return[n,a]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged(t,e=!1){if(!this.namespaces)return;const[i,n]=this.validateChain(t);if(!n)return;this.updateNamespaceChain(i,n),this.events.emit(\"chainChanged\",n);const a=this.getProvider(i).getDefaultChain();e||this.getProvider(i).setDefaultChain(n),this.emitAccountsChangedOnChainChange({namespace:i,previousChainId:a,newChainId:t}),await this.persist(\"namespaces\",this.namespaces)}emitAccountsChangedOnChainChange({namespace:t,previousChainId:e,newChainId:i}){var n,a;try{if(e===i)return;const r=(a=(n=this.session)==null?void 0:n.namespaces[t])==null?void 0:a.accounts;if(!r)return;const c=r.filter(o=>o.includes(`${i}:`)).map(mt);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(c))return;this.events.emit(\"accountsChanged\",c)}catch(r){this.logger.warn(\"Failed to emit accountsChanged on chain change\",r)}}updateNamespaceChain(t,e){if(!this.namespaces)return;const i=this.namespaces[t]?t:`${t}:${e}`,n={chains:[],methods:[],events:[],defaultChain:e};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=e):this.namespaces[i]=n}onConnect(){this.createProviders(),this.events.emit(\"connect\",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore(\"namespaces\"),await this.deleteFromStore(\"optionalNamespaces\"),await this.deleteFromStore(\"sessionProperties\"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,e){var i;const n=((i=this.session)==null?void 0:i.topic)||\"\";await this.client.core.storage.setItem(`${_}/${t}${n}`,e)}async getFromStore(t){var e;const i=((e=this.session)==null?void 0:e.topic)||\"\";return await this.client.core.storage.getItem(`${_}/${t}${i}`)}async deleteFromStore(t){var e;const i=((e=this.session)==null?void 0:e.topic)||\"\";await this.client.core.storage.removeItem(`${_}/${t}${i}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const e=await this.client.core.storage.getKeys();for(const i of e)i.startsWith(_)&&await this.client.core.storage.removeItem(i)}catch(e){this.logger.warn(\"Failed to cleanup storage\",e)}}}const es=x;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZXRoZXJldW0tcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBbWlCLHlGQUF5RixHQUFHLEtBQUssR0FBRyw0REFBNEQsR0FBRyxZQUFZLCtDQUErQyxlQUFlLGNBQWMseURBQXlELGNBQWMsdURBQXVELGVBQWUsaUJBQWlCLG9JQUFvSSxpREFBaUQseUVBQXlFLHdCQUF3QixpQkFBaUIsaUNBQWlDLHlEQUF5RCx1QkFBdUIseUJBQXlCLHVEQUF1RCwrREFBK0Qsd0NBQXdDLEVBQUUsdUJBQXVCLHlCQUF5QiwwQkFBMEIsU0FBUyxlQUFlLG9DQUFvQyxlQUFlLGtHQUFrRyxlQUFlLGlHQUFpRyxzZ0JBQXNnQixpQkFBaUIsK0JBQStCLHFDQUFxQyxxQkFBcUIsb0JBQW9CLGlCQUFpQiw0QkFBNEIscUJBQXFCLDRCQUE0QixXQUFXLFlBQVksV0FBVyx5QkFBeUIsaUdBQWlHLGtEQUFrRCx3QkFBd0IscUNBQXFDLGlDQUFpQyxxQkFBcUIsZ0JBQWdCLFdBQVcseUNBQXlDLFNBQVMscUJBQXFCLGdCQUFnQixXQUFXLDBDQUEwQyxTQUFTLDZEQUE2RCxTQUFTLDREQUE0RCxXQUFXLFlBQVksV0FBVyx5QkFBeUIsU0FBUyw0R0FBNEcsMEJBQTBCLGtFQUFrRSxpQ0FBaUMsdUNBQXVDLDZCQUE2QixZQUFZLEVBQUUsaUNBQWlDLHNCQUFzQixzQkFBc0IsWUFBWSxFQUFFLGlDQUFpQyx1QkFBdUIsMEJBQTBCLG1HQUFtRyw4QkFBOEIsZ0RBQWdELGlDQUFpQyxTQUFTLHdCQUF3QixxQ0FBcUMsWUFBWSxXQUFXLEtBQUssb0RBQW9ELCtDQUErQyxlQUFlLGNBQWMseUxBQXlMLGtCQUFrQixpQkFBaUIsd0JBQXdCLHFCQUFxQixvQkFBb0IsZ0VBQWdFLHlCQUF5Qix3Q0FBd0Ms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RSxZQUFZLHdCQUF3Qiw4QkFBOEIsbURBQW1ELDZCQUE2QiwyQkFBMkIsaUNBQWlDLGFBQWEsa0VBQWtFLDhDQUE4QyxpRkFBaUYsMkNBQTJDLG1EQUFtRCxrQ0FBa0MsMkNBQTJDLEVBQUUsUUFBUSxJQUFJLGdCQUFnQixrRkFBa0YsYUFBYSxrQ0FBa0MsRUFBRSxhQUFhLElBQUksa0VBQUMsV0FBVyxzQ0FBc0MsU0FBUyxzRUFBc0UsMEJBQTBCLDJCQUEyQixnQ0FBZ0MsRUFBRSxHQUFHLEVBQUUsS0FBSywrQ0FBK0MsZ0dBQWdHLFlBQVksbURBQW1ELHFCQUFxQixFQUFFLGdCQUFnQixxUkFBcVIsa0JBQWtCLDhCQUE4QixtQkFBbUIsTUFBTSxvREFBb0QsMENBQTBDLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxLQUFLLHNCQUFzQixNQUFNLG9EQUFvRCxpREFBaUQsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcseUJBQXlCLE1BQU0sb0RBQW9ELDZDQUE2QyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyx1QkFBdUIsTUFBTSxJQUFJLDREQUE0RCxpREFBaUQsK0VBQStFLFNBQVMsa0RBQWtELFdBQXdEO0FBQ3JzekMiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZXRoZXJldW0tcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJdCBmcm9tXCJAd2FsbGV0Y29ubmVjdC9zaWduLWNsaWVudFwiO2ltcG9ydHtpc1ZhbGlkT2JqZWN0IGFzICR0LGlzQ2FpcE5hbWVzcGFjZSBhcyBRLHBhcnNlTmFtZXNwYWNlS2V5IGFzIHEsbWVyZ2VBcnJheXMgYXMgTSxwYXJzZUNoYWluSWQgYXMgWixnZXRTZGtFcnJvciBhcyBULGlzVmFsaWRBcnJheSBhcyBCfWZyb21cIkB3YWxsZXRjb25uZWN0L3V0aWxzXCI7aW1wb3J0e3Bpbm8gYXMgT3QsZ2V0RGVmYXVsdExvZ2dlck9wdGlvbnMgYXMgQXR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvbG9nZ2VyXCI7aW1wb3J0IG0se0h0dHBDb25uZWN0aW9uIGFzIEN0fWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtaHR0cC1jb25uZWN0aW9uXCI7aW1wb3J0e0pzb25ScGNQcm92aWRlciBhcyBsfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtcHJvdmlkZXJcIjtpbXBvcnR7Zm9ybWF0SnNvblJwY1JlcXVlc3QgYXMgSHQsZm9ybWF0SnNvblJwY1Jlc3VsdCBhcyBFdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCI7aW1wb3J0IE50IGZyb21cImV2ZW50c1wiO2NvbnN0IHR0PVwiZXJyb3JcIixTdD1cIndzczovL3JlbGF5LndhbGxldGNvbm5lY3Qub3JnXCIsRHQ9XCJ3Y1wiLHF0PVwidW5pdmVyc2FsX3Byb3ZpZGVyXCIsXz1gJHtEdH1AMjoke3F0fTpgLGV0PVwiaHR0cHM6Ly9ycGMud2FsbGV0Y29ubmVjdC5vcmcvdjEvXCIsdz1cImdlbmVyaWNcIixqdD1gJHtldH1idW5kbGVyYCxkPXtERUZBVUxUX0NIQUlOX0NIQU5HRUQ6XCJkZWZhdWx0X2NoYWluX2NoYW5nZWRcIn07ZnVuY3Rpb24gUnQoKXt9ZnVuY3Rpb24gRyhzKXtyZXR1cm4gcz09bnVsbHx8dHlwZW9mIHMhPVwib2JqZWN0XCImJnR5cGVvZiBzIT1cImZ1bmN0aW9uXCJ9ZnVuY3Rpb24gSihzKXtyZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KHMpJiYhKHMgaW5zdGFuY2VvZiBEYXRhVmlldyl9ZnVuY3Rpb24gX3Qocyl7aWYoRyhzKSlyZXR1cm4gcztpZihBcnJheS5pc0FycmF5KHMpfHxKKHMpfHxzIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjxcInVcIiYmcyBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKXJldHVybiBzLnNsaWNlKDApO2NvbnN0IHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKHMpLGU9dC5jb25zdHJ1Y3RvcjtpZihzIGluc3RhbmNlb2YgRGF0ZXx8cyBpbnN0YW5jZW9mIE1hcHx8cyBpbnN0YW5jZW9mIFNldClyZXR1cm4gbmV3IGUocyk7aWYocyBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3QgaT1uZXcgZShzKTtyZXR1cm4gaS5sYXN0SW5kZXg9cy5sYXN0SW5kZXgsaX1pZihzIGluc3RhbmNlb2YgRGF0YVZpZXcpcmV0dXJuIG5ldyBlKHMuYnVmZmVyLnNsaWNlKDApKTtpZihzIGluc3RhbmNlb2YgRXJyb3Ipe2NvbnN0IGk9bmV3IGUocy5tZXNzYWdlKTtyZXR1cm4gaS5zdGFjaz1zLnN0YWNrLGkubmFtZT1zLm5hbWUsaS5jYXVzZT1zLmNhdXNlLGl9aWYodHlwZW9mIEZpbGU8XCJ1XCImJnMgaW5zdGFuY2VvZiBGaWxlKXJldHVybiBuZXcgZShbc10scy5uYW1lLHt0eXBlOnMudHlwZSxsYXN0TW9kaWZpZWQ6cy5sYXN0TW9kaWZpZWR9KTtpZih0eXBlb2Ygcz09XCJvYmplY3RcIil7Y29uc3QgaT1PYmplY3QuY3JlYXRlKHQpO3JldHVybiBPYmplY3QuYXNzaWduKGkscyl9cmV0dXJuIHN9ZnVuY3Rpb24gc3Qocyl7cmV0dXJuIHR5cGVvZiBzPT1cIm9iamVjdFwiJiZzIT09bnVsbH1mdW5jdGlvbiBpdChzKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKS5maWx0ZXIodD0+T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsdCkpfWZ1bmN0aW9uIHJ0KHMpe3JldHVybiBzPT1udWxsP3M9PT12b2lkIDA/XCJbb2JqZWN0IFVuZGVmaW5lZF1cIjpcIltvYmplY3QgTnVsbF1cIjpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocyl9Y29uc3QgVXQ9XCJbb2JqZWN0IFJlZ0V4cF1cIixudD1cIltvYmplY3QgU3RyaW5nXVwiLGF0PVwiW29iamVjdCBOdW1iZXJdXCIsY3Q9XCJbb2JqZWN0IEJvb2xlYW5dXCIsb3Q9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixGdD1cIltvYmplY3QgU3ltYm9sXVwiLEx0PVwiW29iamVjdCBEYXRlXVwiLHh0PVwiW29iamVjdCBNYXBdXCIsTXQ9XCJbb2JqZWN0IFNldF1cIixCdD1cIltvYmplY3QgQXJyYXldXCIsR3Q9XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiLEp0PVwiW29iamVjdCBPYmplY3RdXCIsenQ9XCJbb2JqZWN0IERhdGFWaWV3XVwiLGt0PVwiW29iamVjdCBVaW50OEFycmF5XVwiLFd0PVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIixLdD1cIltvYmplY3QgVWludDE2QXJyYXldXCIsVnQ9XCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiLFh0PVwiW29iamVjdCBJbnQ4QXJyYXldXCIsWXQ9XCJbb2JqZWN0IEludDE2QXJyYXldXCIsUXQ9XCJbb2JqZWN0IEludDMyQXJyYXldXCIsWnQ9XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixUdD1cIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiO2Z1bmN0aW9uIHRlKHMsdCl7cmV0dXJuIHkocyx2b2lkIDAscyxuZXcgTWFwLHQpfWZ1bmN0aW9uIHkocyx0LGUsaT1uZXcgTWFwLG49dm9pZCAwKXtjb25zdCBhPW4/LihzLHQsZSxpKTtpZihhIT1udWxsKXJldHVybiBhO2lmKEcocykpcmV0dXJuIHM7aWYoaS5oYXMocykpcmV0dXJuIGkuZ2V0KHMpO2lmKEFycmF5LmlzQXJyYXkocykpe2NvbnN0IHI9bmV3IEFycmF5KHMubGVuZ3RoKTtpLnNldChzLHIpO2ZvcihsZXQgYz0wO2M8cy5sZW5ndGg7YysrKXJbY109eShzW2NdLGMsZSxpLG4pO3JldHVybiBPYmplY3QuaGFzT3duKHMsXCJpbmRleFwiKSYmKHIuaW5kZXg9cy5pbmRleCksT2JqZWN0Lmhhc093bihzLFwiaW5wdXRcIikmJihyLmlucHV0PXMuaW5wdXQpLHJ9aWYocyBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKHMuZ2V0VGltZSgpKTtpZihzIGluc3RhbmNlb2YgUmVnRXhwKXtjb25zdCByPW5ldyBSZWdFeHAocy5zb3VyY2Uscy5mbGFncyk7cmV0dXJuIHIubGFzdEluZGV4PXMubGFzdEluZGV4LHJ9aWYocyBpbnN0YW5jZW9mIE1hcCl7Y29uc3Qgcj1uZXcgTWFwO2kuc2V0KHMscik7Zm9yKGNvbnN0W2Msb11vZiBzKXIuc2V0KGMseShvLGMsZSxpLG4pKTtyZXR1cm4gcn1pZihzIGluc3RhbmNlb2YgU2V0KXtjb25zdCByPW5ldyBTZXQ7aS5zZXQocyxyKTtmb3IoY29uc3QgYyBvZiBzKXIuYWRkKHkoYyx2b2lkIDAsZSxpLG4pKTtyZXR1cm4gcn1pZih0eXBlb2YgQnVmZmVyPFwidVwiJiZCdWZmZXIuaXNCdWZmZXIocykpcmV0dXJuIHMuc3ViYXJyYXkoKTtpZihKKHMpKXtjb25zdCByPW5ldyhPYmplY3QuZ2V0UHJvdG90eXBlT2YocykpLmNvbnN0cnVjdG9yKHMubGVuZ3RoKTtpLnNldChzLHIpO2ZvcihsZXQgYz0wO2M8cy5sZW5ndGg7YysrKXJbY109eShzW2NdLGMsZSxpLG4pO3JldHVybiByfWlmKHMgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPFwidVwiJiZzIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpcmV0dXJuIHMuc2xpY2UoMCk7aWYocyBpbnN0YW5jZW9mIERhdGFWaWV3KXtjb25zdCByPW5ldyBEYXRhVmlldyhzLmJ1ZmZlci5zbGljZSgwKSxzLmJ5dGVPZmZzZXQscy5ieXRlTGVuZ3RoKTtyZXR1cm4gaS5zZXQocyxyKSxnKHIscyxlLGksbikscn1pZih0eXBlb2YgRmlsZTxcInVcIiYmcyBpbnN0YW5jZW9mIEZpbGUpe2NvbnN0IHI9bmV3IEZpbGUoW3NdLHMubmFtZSx7dHlwZTpzLnR5cGV9KTtyZXR1cm4gaS5zZXQocyxyKSxnKHIscyxlLGksbikscn1pZihzIGluc3RhbmNlb2YgQmxvYil7Y29uc3Qgcj1uZXcgQmxvYihbc10se3R5cGU6cy50eXBlfSk7cmV0dXJuIGkuc2V0KHMsciksZyhyLHMsZSxpLG4pLHJ9aWYocyBpbnN0YW5jZW9mIEVycm9yKXtjb25zdCByPW5ldyBzLmNvbnN0cnVjdG9yO3JldHVybiBpLnNldChzLHIpLHIubWVzc2FnZT1zLm1lc3NhZ2Usci5uYW1lPXMubmFtZSxyLnN0YWNrPXMuc3RhY2ssci5jYXVzZT1zLmNhdXNlLGcocixzLGUsaSxuKSxyfWlmKHR5cGVvZiBzPT1cIm9iamVjdFwiJiZlZShzKSl7Y29uc3Qgcj1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihzKSk7cmV0dXJuIGkuc2V0KHMsciksZyhyLHMsZSxpLG4pLHJ9cmV0dXJuIHN9ZnVuY3Rpb24gZyhzLHQsZT1zLGksbil7Y29uc3QgYT1bLi4uT2JqZWN0LmtleXModCksLi4uaXQodCldO2ZvcihsZXQgcj0wO3I8YS5sZW5ndGg7cisrKXtjb25zdCBjPWFbcl0sbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMsYyk7KG89PW51bGx8fG8ud3JpdGFibGUpJiYoc1tjXT15KHRbY10sYyxlLGksbikpfX1mdW5jdGlvbiBlZShzKXtzd2l0Y2gocnQocykpe2Nhc2Ugb3Q6Y2FzZSBCdDpjYXNlIEd0OmNhc2UgenQ6Y2FzZSBjdDpjYXNlIEx0OmNhc2UgWnQ6Y2FzZSBUdDpjYXNlIFh0OmNhc2UgWXQ6Y2FzZSBRdDpjYXNlIHh0OmNhc2UgYXQ6Y2FzZSBKdDpjYXNlIFV0OmNhc2UgTXQ6Y2FzZSBudDpjYXNlIEZ0OmNhc2Uga3Q6Y2FzZSBXdDpjYXNlIEt0OmNhc2UgVnQ6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gc2Uocyx0KXtyZXR1cm4gdGUocywoZSxpLG4sYSk9Pntjb25zdCByPXQ/LihlLGksbixhKTtpZihyIT1udWxsKXJldHVybiByO2lmKHR5cGVvZiBzPT1cIm9iamVjdFwiKXN3aXRjaChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocykpe2Nhc2UgYXQ6Y2FzZSBudDpjYXNlIGN0Ontjb25zdCBjPW5ldyBzLmNvbnN0cnVjdG9yKHM/LnZhbHVlT2YoKSk7cmV0dXJuIGcoYyxzKSxjfWNhc2Ugb3Q6e2NvbnN0IGM9e307cmV0dXJuIGcoYyxzKSxjLmxlbmd0aD1zLmxlbmd0aCxjW1N5bWJvbC5pdGVyYXRvcl09c1tTeW1ib2wuaXRlcmF0b3JdLGN9ZGVmYXVsdDpyZXR1cm59fSl9ZnVuY3Rpb24gaHQocyl7cmV0dXJuIHNlKHMpfWZ1bmN0aW9uIHB0KHMpe3JldHVybiBzIT09bnVsbCYmdHlwZW9mIHM9PVwib2JqZWN0XCImJnJ0KHMpPT09XCJbb2JqZWN0IEFyZ3VtZW50c11cIn1mdW5jdGlvbiBpZShzKXtyZXR1cm4gSihzKX1mdW5jdGlvbiByZShzKXtpZih0eXBlb2YgcyE9XCJvYmplY3RcInx8cz09bnVsbClyZXR1cm4hMTtpZihPYmplY3QuZ2V0UHJvdG90eXBlT2Yocyk9PT1udWxsKXJldHVybiEwO2lmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzKSE9PVwiW29iamVjdCBPYmplY3RdXCIpe2NvbnN0IGU9c1tTeW1ib2wudG9TdHJpbmdUYWddO3JldHVybiBlPT1udWxsfHwhT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzLFN5bWJvbC50b1N0cmluZ1RhZyk/LndyaXRhYmxlPyExOnMudG9TdHJpbmcoKT09PWBbb2JqZWN0ICR7ZX1dYH1sZXQgdD1zO2Zvcig7T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpIT09bnVsbDspdD1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihzKT09PXR9ZnVuY3Rpb24gbmUocywuLi50KXtjb25zdCBlPXQuc2xpY2UoMCwtMSksaT10W3QubGVuZ3RoLTFdO2xldCBuPXM7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe2NvbnN0IHI9ZVthXTtuPVUobixyLGksbmV3IE1hcCl9cmV0dXJuIG59ZnVuY3Rpb24gVShzLHQsZSxpKXtpZihHKHMpJiYocz1PYmplY3QocykpLHQ9PW51bGx8fHR5cGVvZiB0IT1cIm9iamVjdFwiKXJldHVybiBzO2lmKGkuaGFzKHQpKXJldHVybiBfdChpLmdldCh0KSk7aWYoaS5zZXQodCxzKSxBcnJheS5pc0FycmF5KHQpKXt0PXQuc2xpY2UoKTtmb3IobGV0IGE9MDthPHQubGVuZ3RoO2ErKyl0W2FdPXRbYV0/P3ZvaWQgMH1jb25zdCBuPVsuLi5PYmplY3Qua2V5cyh0KSwuLi5pdCh0KV07Zm9yKGxldCBhPTA7YTxuLmxlbmd0aDthKyspe2NvbnN0IHI9blthXTtsZXQgYz10W3JdLG89c1tyXTtpZihwdChjKSYmKGM9ey4uLmN9KSxwdChvKSYmKG89ey4uLm99KSx0eXBlb2YgQnVmZmVyPFwidVwiJiZCdWZmZXIuaXNCdWZmZXIoYykmJihjPWh0KGMpKSxBcnJheS5pc0FycmF5KGMpKWlmKHR5cGVvZiBvPT1cIm9iamVjdFwiJiZvIT1udWxsKXtjb25zdCBqPVtdLFI9UmVmbGVjdC5vd25LZXlzKG8pO2ZvcihsZXQgZj0wO2Y8Ui5sZW5ndGg7ZisrKXtjb25zdCBZPVJbZl07altZXT1vW1ldfW89an1lbHNlIG89W107Y29uc3Qgdj1lKG8sYyxyLHMsdCxpKTt2IT1udWxsP3Nbcl09djpBcnJheS5pc0FycmF5KGMpfHxzdChvKSYmc3QoYyk/c1tyXT1VKG8sYyxlLGkpOm89PW51bGwmJnJlKGMpP3Nbcl09VSh7fSxjLGUsaSk6bz09bnVsbCYmaWUoYyk/c1tyXT1odChjKToobz09PXZvaWQgMHx8YyE9PXZvaWQgMCkmJihzW3JdPWMpfXJldHVybiBzfWZ1bmN0aW9uIGFlKHMsLi4udCl7cmV0dXJuIG5lKHMsLi4udCxSdCl9dmFyIGNlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxvZT1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxoZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxkdD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHBlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksZGU9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSx1dD0ocyx0LGUpPT50IGluIHM/Y2Uocyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6c1t0XT1lLEY9KHMsdCk9Pntmb3IodmFyIGUgaW4gdHx8KHQ9e30pKXBlLmNhbGwodCxlKSYmdXQocyxlLHRbZV0pO2lmKGR0KWZvcih2YXIgZSBvZiBkdCh0KSlkZS5jYWxsKHQsZSkmJnV0KHMsZSx0W2VdKTtyZXR1cm4gc30sdWU9KHMsdCk9Pm9lKHMsaGUodCkpO2Z1bmN0aW9uIHAocyx0LGUpe3ZhciBpO2NvbnN0IG49WihzKTtyZXR1cm4oKGk9dC5ycGNNYXApPT1udWxsP3ZvaWQgMDppW24ucmVmZXJlbmNlXSl8fGAke2V0fT9jaGFpbklkPSR7bi5uYW1lc3BhY2V9OiR7bi5yZWZlcmVuY2V9JnByb2plY3RJZD0ke2V9YH1mdW5jdGlvbiBQKHMpe3JldHVybiBzLmluY2x1ZGVzKFwiOlwiKT9zLnNwbGl0KFwiOlwiKVsxXTpzfWZ1bmN0aW9uIGx0KHMpe3JldHVybiBzLm1hcCh0PT5gJHt0LnNwbGl0KFwiOlwiKVswXX06JHt0LnNwbGl0KFwiOlwiKVsxXX1gKX1mdW5jdGlvbiBsZShzLHQpe2NvbnN0IGU9T2JqZWN0LmtleXModC5uYW1lc3BhY2VzKS5maWx0ZXIobj0+bi5pbmNsdWRlcyhzKSk7aWYoIWUubGVuZ3RoKXJldHVybltdO2NvbnN0IGk9W107cmV0dXJuIGUuZm9yRWFjaChuPT57Y29uc3QgYT10Lm5hbWVzcGFjZXNbbl0uYWNjb3VudHM7aS5wdXNoKC4uLmEpfSksaX1mdW5jdGlvbiB6KHM9e30sdD17fSl7Y29uc3QgZT1mdChzKSxpPWZ0KHQpO3JldHVybiBhZShlLGkpfWZ1bmN0aW9uIGZ0KHMpe3ZhciB0LGUsaSxuO2NvbnN0IGE9e307aWYoISR0KHMpKXJldHVybiBhO2Zvcihjb25zdFtyLGNdb2YgT2JqZWN0LmVudHJpZXMocykpe2NvbnN0IG89UShyKT9bcl06Yy5jaGFpbnMsdj1jLm1ldGhvZHN8fFtdLGo9Yy5ldmVudHN8fFtdLFI9Yy5ycGNNYXB8fHt9LGY9cShyKTthW2ZdPXVlKEYoRih7fSxhW2ZdKSxjKSx7Y2hhaW5zOk0obywodD1hW2ZdKT09bnVsbD92b2lkIDA6dC5jaGFpbnMpLG1ldGhvZHM6TSh2LChlPWFbZl0pPT1udWxsP3ZvaWQgMDplLm1ldGhvZHMpLGV2ZW50czpNKGosKGk9YVtmXSk9PW51bGw/dm9pZCAwOmkuZXZlbnRzKSxycGNNYXA6RihGKHt9LFIpLChuPWFbZl0pPT1udWxsP3ZvaWQgMDpuLnJwY01hcCl9KX1yZXR1cm4gYX1mdW5jdGlvbiBtdChzKXtyZXR1cm4gcy5pbmNsdWRlcyhcIjpcIik/cy5zcGxpdChcIjpcIilbMl06c31mdW5jdGlvbiB2dChzKXtjb25zdCB0PXt9O2Zvcihjb25zdFtlLGldb2YgT2JqZWN0LmVudHJpZXMocykpe2NvbnN0IG49aS5tZXRob2RzfHxbXSxhPWkuZXZlbnRzfHxbXSxyPWkuYWNjb3VudHN8fFtdLGM9UShlKT9bZV06aS5jaGFpbnM/aS5jaGFpbnM6bHQoaS5hY2NvdW50cyk7dFtlXT17Y2hhaW5zOmMsbWV0aG9kczpuLGV2ZW50czphLGFjY291bnRzOnJ9fXJldHVybiB0fWZ1bmN0aW9uIGsocyl7cmV0dXJuIHR5cGVvZiBzPT1cIm51bWJlclwiP3M6cy5pbmNsdWRlcyhcIjB4XCIpP3BhcnNlSW50KHMsMTYpOihzPXMuaW5jbHVkZXMoXCI6XCIpP3Muc3BsaXQoXCI6XCIpWzFdOnMsaXNOYU4oTnVtYmVyKHMpKT9zOk51bWJlcihzKSl9Y29uc3QgZ3Q9e30saD1zPT5ndFtzXSxXPShzLHQpPT57Z3Rbc109dH07dmFyIGZlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxtZT0ocyx0LGUpPT50IGluIHM/ZmUocyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6c1t0XT1lLGI9KHMsdCxlKT0+bWUocyx0eXBlb2YgdCE9XCJzeW1ib2xcIj90K1wiXCI6dCxlKTtjbGFzcyB2ZXtjb25zdHJ1Y3Rvcih0KXtiKHRoaXMsXCJuYW1lXCIsXCJwb2xrYWRvdFwiKSxiKHRoaXMsXCJjbGllbnRcIiksYih0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxiKHRoaXMsXCJldmVudHNcIiksYih0aGlzLFwibmFtZXNwYWNlXCIpLGIodGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9aChcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1oKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IHQ9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiB0LnNwbGl0KFwiOlwiKVsxXX1yZXF1ZXN0KHQpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKHQucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QodCk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KHQucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKHQsZSl7dGhpcy5odHRwUHJvdmlkZXJzW3RdfHx0aGlzLnNldEh0dHBQcm92aWRlcih0LGUpLHRoaXMuY2hhaW5JZD10LHRoaXMuZXZlbnRzLmVtaXQoZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3R9YCl9Z2V0QWNjb3VudHMoKXtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiB0P3QuZmlsdGVyKGU9PmUuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcChlPT5lLnNwbGl0KFwiOlwiKVsyXSl8fFtdOltdfWNyZWF0ZUh0dHBQcm92aWRlcnMoKXtjb25zdCB0PXt9O3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuZm9yRWFjaChlPT57dmFyIGk7Y29uc3Qgbj1QKGUpO3Rbbl09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIobiwoaT10aGlzLm5hbWVzcGFjZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW2VdKX0pLHR9Z2V0SHR0cFByb3ZpZGVyKCl7Y29uc3QgdD1gJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWAsZT10aGlzLmh0dHBQcm92aWRlcnNbdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHt0fSBub3QgZm91bmRgKTtyZXR1cm4gZX1zZXRIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHQsZSk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1t0XT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPWV8fHAodCx0aGlzLm5hbWVzcGFjZSx0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke3R9YCk7cmV0dXJuIG5ldyBsKG5ldyBtKGksaChcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX19dmFyIGdlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxQZT1PYmplY3QuZGVmaW5lUHJvcGVydGllcyx3ZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxQdD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHllPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksYmU9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxLPShzLHQsZSk9PnQgaW4gcz9nZShzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpzW3RdPWUsd3Q9KHMsdCk9Pntmb3IodmFyIGUgaW4gdHx8KHQ9e30pKXllLmNhbGwodCxlKSYmSyhzLGUsdFtlXSk7aWYoUHQpZm9yKHZhciBlIG9mIFB0KHQpKWJlLmNhbGwodCxlKSYmSyhzLGUsdFtlXSk7cmV0dXJuIHN9LHl0PShzLHQpPT5QZShzLHdlKHQpKSxJPShzLHQsZSk9Pksocyx0eXBlb2YgdCE9XCJzeW1ib2xcIj90K1wiXCI6dCxlKTtjbGFzcyBJZXtjb25zdHJ1Y3Rvcih0KXtJKHRoaXMsXCJuYW1lXCIsXCJlaXAxNTVcIiksSSh0aGlzLFwiY2xpZW50XCIpLEkodGhpcyxcImNoYWluSWRcIiksSSh0aGlzLFwibmFtZXNwYWNlXCIpLEkodGhpcyxcImh0dHBQcm92aWRlcnNcIiksSSh0aGlzLFwiZXZlbnRzXCIpLHRoaXMubmFtZXNwYWNlPXQubmFtZXNwYWNlLHRoaXMuZXZlbnRzPWgoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9aChcImNsaWVudFwiKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCksdGhpcy5jaGFpbklkPXBhcnNlSW50KHRoaXMuZ2V0RGVmYXVsdENoYWluKCkpfWFzeW5jIHJlcXVlc3QodCl7c3dpdGNoKHQucmVxdWVzdC5tZXRob2Qpe2Nhc2VcImV0aF9yZXF1ZXN0QWNjb3VudHNcIjpyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpO2Nhc2VcImV0aF9hY2NvdW50c1wiOnJldHVybiB0aGlzLmdldEFjY291bnRzKCk7Y2FzZVwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIjpyZXR1cm4gYXdhaXQgdGhpcy5oYW5kbGVTd2l0Y2hDaGFpbih0KTtjYXNlXCJldGhfY2hhaW5JZFwiOnJldHVybiBwYXJzZUludCh0aGlzLmdldERlZmF1bHRDaGFpbigpKTtjYXNlXCJ3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzXCI6cmV0dXJuIGF3YWl0IHRoaXMuZ2V0Q2FwYWJpbGl0aWVzKHQpO2Nhc2VcIndhbGxldF9nZXRDYWxsc1N0YXR1c1wiOnJldHVybiBhd2FpdCB0aGlzLmdldENhbGxTdGF0dXModCl9cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXModC5yZXF1ZXN0Lm1ldGhvZCk/YXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh0KTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QodC5yZXF1ZXN0KX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1zZXREZWZhdWx0Q2hhaW4odCxlKXt0aGlzLmh0dHBQcm92aWRlcnNbdF18fHRoaXMuc2V0SHR0cFByb3ZpZGVyKHBhcnNlSW50KHQpLGUpLHRoaXMuY2hhaW5JZD1wYXJzZUludCh0KSx0aGlzLmV2ZW50cy5lbWl0KGQuREVGQVVMVF9DSEFJTl9DSEFOR0VELGAke3RoaXMubmFtZX06JHt0fWApfXJlcXVlc3RBY2NvdW50cygpe3JldHVybiB0aGlzLmdldEFjY291bnRzKCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQudG9TdHJpbmcoKTtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5zcGxpdChcIjpcIilbMV19Y3JlYXRlSHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT1lfHxwKGAke3RoaXMubmFtZX06JHt0fWAsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHt0fWApO3JldHVybiBuZXcgbChuZXcgQ3QoaSxoKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfXNldEh0dHBQcm92aWRlcih0LGUpe2NvbnN0IGk9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIodCxlKTtpJiYodGhpcy5odHRwUHJvdmlkZXJzW3RdPWkpfWNyZWF0ZUh0dHBQcm92aWRlcnMoKXtjb25zdCB0PXt9O3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuZm9yRWFjaChlPT57dmFyIGk7Y29uc3Qgbj1wYXJzZUludChQKGUpKTt0W25dPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKG4sKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVtlXSl9KSx0fWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD9bLi4ubmV3IFNldCh0LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pKV06W119Z2V0SHR0cFByb3ZpZGVyKCl7Y29uc3QgdD10aGlzLmNoYWluSWQsZT10aGlzLmh0dHBQcm92aWRlcnNbdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHt0fSBub3QgZm91bmRgKTtyZXR1cm4gZX1hc3luYyBoYW5kbGVTd2l0Y2hDaGFpbih0KXt2YXIgZSxpO2xldCBuPXQucmVxdWVzdC5wYXJhbXM/KGU9dC5yZXF1ZXN0LnBhcmFtc1swXSk9PW51bGw/dm9pZCAwOmUuY2hhaW5JZDpcIjB4MFwiO249bi5zdGFydHNXaXRoKFwiMHhcIik/bjpgMHgke259YDtjb25zdCBhPXBhcnNlSW50KG4sMTYpO2lmKHRoaXMuaXNDaGFpbkFwcHJvdmVkKGEpKXRoaXMuc2V0RGVmYXVsdENoYWluKGAke2F9YCk7ZWxzZSBpZih0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKFwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIikpYXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh7dG9waWM6dC50b3BpYyxyZXF1ZXN0OnttZXRob2Q6dC5yZXF1ZXN0Lm1ldGhvZCxwYXJhbXM6W3tjaGFpbklkOm59XX0sY2hhaW5JZDooaT10aGlzLm5hbWVzcGFjZS5jaGFpbnMpPT1udWxsP3ZvaWQgMDppWzBdfSksdGhpcy5zZXREZWZhdWx0Q2hhaW4oYCR7YX1gKTtlbHNlIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHN3aXRjaCB0byBjaGFpbiAnZWlwMTU1OiR7YX0nLiBUaGUgY2hhaW4gaXMgbm90IGFwcHJvdmVkIG9yIHRoZSB3YWxsZXQgZG9lcyBub3Qgc3VwcG9ydCAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nIG1ldGhvZC5gKTtyZXR1cm4gbnVsbH1pc0NoYWluQXBwcm92ZWQodCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5pbmNsdWRlcyhgJHt0aGlzLm5hbWV9OiR7dH1gKX1hc3luYyBnZXRDYXBhYmlsaXRpZXModCl7dmFyIGUsaSxuO2NvbnN0IGE9KGk9KGU9dC5yZXF1ZXN0KT09bnVsbD92b2lkIDA6ZS5wYXJhbXMpPT1udWxsP3ZvaWQgMDppWzBdO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgYWRkcmVzcyBwYXJhbWV0ZXIgaW4gYHdhbGxldF9nZXRDYXBhYmlsaXRpZXNgIHJlcXVlc3RcIik7Y29uc3Qgcj10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0LnRvcGljKSxjPSgobj1yPy5zZXNzaW9uUHJvcGVydGllcyk9PW51bGw/dm9pZCAwOm4uY2FwYWJpbGl0aWVzKXx8e307aWYoYyE9bnVsbCYmY1thXSlyZXR1cm4gYz8uW2FdO2NvbnN0IG89YXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh0KTt0cnl7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodC50b3BpYyx7c2Vzc2lvblByb3BlcnRpZXM6eXQod3Qoe30sci5zZXNzaW9uUHJvcGVydGllc3x8e30pLHtjYXBhYmlsaXRpZXM6eXQod3Qoe30sY3x8e30pLHtbYV06b30pfSl9KX1jYXRjaCh2KXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gdXBkYXRlIHNlc3Npb24gd2l0aCBjYXBhYmlsaXRpZXNcIix2KX1yZXR1cm4gb31hc3luYyBnZXRDYWxsU3RhdHVzKHQpe3ZhciBlLGk7Y29uc3Qgbj10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0LnRvcGljKSxhPShlPW4uc2Vzc2lvblByb3BlcnRpZXMpPT1udWxsP3ZvaWQgMDplLmJ1bmRsZXJfbmFtZTtpZihhKXtjb25zdCBjPXRoaXMuZ2V0QnVuZGxlclVybCh0LmNoYWluSWQsYSk7dHJ5e3JldHVybiBhd2FpdCB0aGlzLmdldFVzZXJPcGVyYXRpb25SZWNlaXB0KGMsdCl9Y2F0Y2gobyl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGZldGNoIGNhbGwgc3RhdHVzIGZyb20gYnVuZGxlclwiLG8sYyl9fWNvbnN0IHI9KGk9bi5zZXNzaW9uUHJvcGVydGllcyk9PW51bGw/dm9pZCAwOmkuYnVuZGxlcl91cmw7aWYocil0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZ2V0VXNlck9wZXJhdGlvblJlY2VpcHQocix0KX1jYXRjaChjKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZmV0Y2ggY2FsbCBzdGF0dXMgZnJvbSBjdXN0b20gYnVuZGxlclwiLGMscil9aWYodGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyh0LnJlcXVlc3QubWV0aG9kKSlyZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh0KTt0aHJvdyBuZXcgRXJyb3IoXCJGZXRjaGluZyBjYWxsIHN0YXR1cyBub3QgYXBwcm92ZWQgYnkgdGhlIHdhbGxldC5cIil9YXN5bmMgZ2V0VXNlck9wZXJhdGlvblJlY2VpcHQodCxlKXt2YXIgaTtjb25zdCBuPW5ldyBVUkwodCksYT1hd2FpdCBmZXRjaChuLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeShIdChcImV0aF9nZXRVc2VyT3BlcmF0aW9uUmVjZWlwdFwiLFsoaT1lLnJlcXVlc3QucGFyYW1zKT09bnVsbD92b2lkIDA6aVswXV0pKX0pO2lmKCFhLm9rKXRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHVzZXIgb3BlcmF0aW9uIHJlY2VpcHQgLSAke2Euc3RhdHVzfWApO3JldHVybiBhd2FpdCBhLmpzb24oKX1nZXRCdW5kbGVyVXJsKHQsZSl7cmV0dXJuYCR7anR9P3Byb2plY3RJZD0ke3RoaXMuY2xpZW50LmNvcmUucHJvamVjdElkfSZjaGFpbklkPSR7dH0mYnVuZGxlcj0ke2V9YH19dmFyICRlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxPZT0ocyx0LGUpPT50IGluIHM/JGUocyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6c1t0XT1lLCQ9KHMsdCxlKT0+T2Uocyx0eXBlb2YgdCE9XCJzeW1ib2xcIj90K1wiXCI6dCxlKTtjbGFzcyBBZXtjb25zdHJ1Y3Rvcih0KXskKHRoaXMsXCJuYW1lXCIsXCJzb2xhbmFcIiksJCh0aGlzLFwiY2xpZW50XCIpLCQodGhpcyxcImh0dHBQcm92aWRlcnNcIiksJCh0aGlzLFwiZXZlbnRzXCIpLCQodGhpcyxcIm5hbWVzcGFjZVwiKSwkKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPXQubmFtZXNwYWNlLHRoaXMuZXZlbnRzPWgoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9aChcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKHQpe3RoaXMubmFtZXNwYWNlPU9iamVjdC5hc3NpZ24odGhpcy5uYW1lc3BhY2UsdCl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1yZXF1ZXN0KHQpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKHQucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QodCk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KHQucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKHQsZSl7dGhpcy5odHRwUHJvdmlkZXJzW3RdfHx0aGlzLnNldEh0dHBQcm92aWRlcih0LGUpLHRoaXMuY2hhaW5JZD10LHRoaXMuZXZlbnRzLmVtaXQoZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3R9YCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIHQuc3BsaXQoXCI6XCIpWzFdfWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD9bLi4ubmV3IFNldCh0LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IHQ9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKGU9Pnt2YXIgaTtjb25zdCBuPVAoZSk7dFtuXT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihuLChpPXRoaXMubmFtZXNwYWNlLnJwY01hcCk9PW51bGw/dm9pZCAwOmlbZV0pfSksdH1nZXRIdHRwUHJvdmlkZXIoKXtjb25zdCB0PWAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCxlPXRoaXMuaHR0cFByb3ZpZGVyc1t0XTtpZih0eXBlb2YgZT5cInVcIil0aHJvdyBuZXcgRXJyb3IoYEpTT04tUlBDIHByb3ZpZGVyIGZvciAke3R9IG5vdCBmb3VuZGApO3JldHVybiBlfXNldEh0dHBQcm92aWRlcih0LGUpe2NvbnN0IGk9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIodCxlKTtpJiYodGhpcy5odHRwUHJvdmlkZXJzW3RdPWkpfWNyZWF0ZUh0dHBQcm92aWRlcih0LGUpe2NvbnN0IGk9ZXx8cCh0LHRoaXMubmFtZXNwYWNlLHRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7dH1gKTtyZXR1cm4gbmV3IGwobmV3IG0oaSxoKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgQ2U9T2JqZWN0LmRlZmluZVByb3BlcnR5LEhlPShzLHQsZSk9PnQgaW4gcz9DZShzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpzW3RdPWUsTz0ocyx0LGUpPT5IZShzLHR5cGVvZiB0IT1cInN5bWJvbFwiP3QrXCJcIjp0LGUpO2NsYXNzIEVle2NvbnN0cnVjdG9yKHQpe08odGhpcyxcIm5hbWVcIixcImNvc21vc1wiKSxPKHRoaXMsXCJjbGllbnRcIiksTyh0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxPKHRoaXMsXCJldmVudHNcIiksTyh0aGlzLFwibmFtZXNwYWNlXCIpLE8odGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9aChcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1oKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IHQ9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiB0LnNwbGl0KFwiOlwiKVsxXX1yZXF1ZXN0KHQpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKHQucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QodCk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KHQucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKHQsZSl7dGhpcy5odHRwUHJvdmlkZXJzW3RdfHx0aGlzLnNldEh0dHBQcm92aWRlcih0LGUpLHRoaXMuY2hhaW5JZD10LHRoaXMuZXZlbnRzLmVtaXQoZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gKX1nZXRBY2NvdW50cygpe2NvbnN0IHQ9dGhpcy5uYW1lc3BhY2UuYWNjb3VudHM7cmV0dXJuIHQ/Wy4uLm5ldyBTZXQodC5maWx0ZXIoZT0+ZS5zcGxpdChcIjpcIilbMV09PT10aGlzLmNoYWluSWQudG9TdHJpbmcoKSkubWFwKGU9PmUuc3BsaXQoXCI6XCIpWzJdKSldOltdfWNyZWF0ZUh0dHBQcm92aWRlcnMoKXtjb25zdCB0PXt9O3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuZm9yRWFjaChlPT57dmFyIGk7Y29uc3Qgbj1QKGUpO3Rbbl09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIobiwoaT10aGlzLm5hbWVzcGFjZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW2VdKX0pLHR9Z2V0SHR0cFByb3ZpZGVyKCl7Y29uc3QgdD1gJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWAsZT10aGlzLmh0dHBQcm92aWRlcnNbdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHt0fSBub3QgZm91bmRgKTtyZXR1cm4gZX1zZXRIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHQsZSk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1t0XT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPWV8fHAodCx0aGlzLm5hbWVzcGFjZSx0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke3R9YCk7cmV0dXJuIG5ldyBsKG5ldyBtKGksaChcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX19dmFyIE5lPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxTZT0ocyx0LGUpPT50IGluIHM/TmUocyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6c1t0XT1lLEE9KHMsdCxlKT0+U2Uocyx0eXBlb2YgdCE9XCJzeW1ib2xcIj90K1wiXCI6dCxlKTtjbGFzcyBEZXtjb25zdHJ1Y3Rvcih0KXtBKHRoaXMsXCJuYW1lXCIsXCJhbGdvcmFuZFwiKSxBKHRoaXMsXCJjbGllbnRcIiksQSh0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxBKHRoaXMsXCJldmVudHNcIiksQSh0aGlzLFwibmFtZXNwYWNlXCIpLEEodGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9aChcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1oKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfXJlcXVlc3QodCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXModC5yZXF1ZXN0Lm1ldGhvZCk/dGhpcy5jbGllbnQucmVxdWVzdCh0KTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QodC5yZXF1ZXN0KX1zZXREZWZhdWx0Q2hhaW4odCxlKXtpZighdGhpcy5odHRwUHJvdmlkZXJzW3RdKXtjb25zdCBpPWV8fHAoYCR7dGhpcy5uYW1lfToke3R9YCx0aGlzLm5hbWVzcGFjZSx0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke3R9YCk7dGhpcy5zZXRIdHRwUHJvdmlkZXIodCxpKX10aGlzLmNoYWluSWQ9dCx0aGlzLmV2ZW50cy5lbWl0KGQuREVGQVVMVF9DSEFJTl9DSEFOR0VELGAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIHQuc3BsaXQoXCI6XCIpWzFdfWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD9bLi4ubmV3IFNldCh0LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IHQ9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKGU9Pnt2YXIgaTt0W2VdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUsKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVtlXSl9KSx0fWdldEh0dHBQcm92aWRlcigpe2NvbnN0IHQ9YCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gLGU9dGhpcy5odHRwUHJvdmlkZXJzW3RdO2lmKHR5cGVvZiBlPlwidVwiKXRocm93IG5ldyBFcnJvcihgSlNPTi1SUEMgcHJvdmlkZXIgZm9yICR7dH0gbm90IGZvdW5kYCk7cmV0dXJuIGV9c2V0SHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcih0LGUpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbdF09aSl9Y3JlYXRlSHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT1lfHxwKHQsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO3JldHVybiB0eXBlb2YgaT5cInVcIj92b2lkIDA6bmV3IGwobmV3IG0oaSxoKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgcWU9T2JqZWN0LmRlZmluZVByb3BlcnR5LGplPShzLHQsZSk9PnQgaW4gcz9xZShzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpzW3RdPWUsQz0ocyx0LGUpPT5qZShzLHR5cGVvZiB0IT1cInN5bWJvbFwiP3QrXCJcIjp0LGUpO2NsYXNzIFJle2NvbnN0cnVjdG9yKHQpe0ModGhpcyxcIm5hbWVcIixcImNpcDM0XCIpLEModGhpcyxcImNsaWVudFwiKSxDKHRoaXMsXCJodHRwUHJvdmlkZXJzXCIpLEModGhpcyxcImV2ZW50c1wiKSxDKHRoaXMsXCJuYW1lc3BhY2VcIiksQyh0aGlzLFwiY2hhaW5JZFwiKSx0aGlzLm5hbWVzcGFjZT10Lm5hbWVzcGFjZSx0aGlzLmV2ZW50cz1oKFwiZXZlbnRzXCIpLHRoaXMuY2xpZW50PWgoXCJjbGllbnRcIiksdGhpcy5jaGFpbklkPXRoaXMuZ2V0RGVmYXVsdENoYWluKCksdGhpcy5odHRwUHJvdmlkZXJzPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVycygpfXVwZGF0ZU5hbWVzcGFjZSh0KXt0aGlzLm5hbWVzcGFjZT1PYmplY3QuYXNzaWduKHRoaXMubmFtZXNwYWNlLHQpfXJlcXVlc3RBY2NvdW50cygpe3JldHVybiB0aGlzLmdldEFjY291bnRzKCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIHQuc3BsaXQoXCI6XCIpWzFdfXJlcXVlc3QodCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXModC5yZXF1ZXN0Lm1ldGhvZCk/dGhpcy5jbGllbnQucmVxdWVzdCh0KTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QodC5yZXF1ZXN0KX1zZXREZWZhdWx0Q2hhaW4odCxlKXt0aGlzLmh0dHBQcm92aWRlcnNbdF18fHRoaXMuc2V0SHR0cFByb3ZpZGVyKHQsZSksdGhpcy5jaGFpbklkPXQsdGhpcy5ldmVudHMuZW1pdChkLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxgJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWApfWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD9bLi4ubmV3IFNldCh0LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IHQ9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKGU9Pntjb25zdCBpPXRoaXMuZ2V0Q2FyZGFub1JQQ1VybChlKSxuPVAoZSk7dFtuXT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihuLGkpfSksdH1nZXRIdHRwUHJvdmlkZXIoKXtjb25zdCB0PWAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCxlPXRoaXMuaHR0cFByb3ZpZGVyc1t0XTtpZih0eXBlb2YgZT5cInVcIil0aHJvdyBuZXcgRXJyb3IoYEpTT04tUlBDIHByb3ZpZGVyIGZvciAke3R9IG5vdCBmb3VuZGApO3JldHVybiBlfWdldENhcmRhbm9SUENVcmwodCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5ycGNNYXA7aWYoZSlyZXR1cm4gZVt0XX1zZXRIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHQsZSk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1t0XT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPWV8fHRoaXMuZ2V0Q2FyZGFub1JQQ1VybCh0KTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7dH1gKTtyZXR1cm4gbmV3IGwobmV3IG0oaSxoKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgX2U9T2JqZWN0LmRlZmluZVByb3BlcnR5LFVlPShzLHQsZSk9PnQgaW4gcz9fZShzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpzW3RdPWUsSD0ocyx0LGUpPT5VZShzLHR5cGVvZiB0IT1cInN5bWJvbFwiP3QrXCJcIjp0LGUpO2NsYXNzIEZle2NvbnN0cnVjdG9yKHQpe0godGhpcyxcIm5hbWVcIixcImVscm9uZFwiKSxIKHRoaXMsXCJjbGllbnRcIiksSCh0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxIKHRoaXMsXCJldmVudHNcIiksSCh0aGlzLFwibmFtZXNwYWNlXCIpLEgodGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9aChcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1oKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfXJlcXVlc3QodCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXModC5yZXF1ZXN0Lm1ldGhvZCk/dGhpcy5jbGllbnQucmVxdWVzdCh0KTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QodC5yZXF1ZXN0KX1zZXREZWZhdWx0Q2hhaW4odCxlKXt0aGlzLmh0dHBQcm92aWRlcnNbdF18fHRoaXMuc2V0SHR0cFByb3ZpZGVyKHQsZSksdGhpcy5jaGFpbklkPXQsdGhpcy5ldmVudHMuZW1pdChkLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxgJHt0aGlzLm5hbWV9OiR7dH1gKX1nZXREZWZhdWx0Q2hhaW4oKXtpZih0aGlzLmNoYWluSWQpcmV0dXJuIHRoaXMuY2hhaW5JZDtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5zcGxpdChcIjpcIilbMV19Z2V0QWNjb3VudHMoKXtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiB0P1suLi5uZXcgU2V0KHQuZmlsdGVyKGU9PmUuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcChlPT5lLnNwbGl0KFwiOlwiKVsyXSkpXTpbXX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgdD17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2goZT0+e3ZhciBpO2NvbnN0IG49UChlKTt0W25dPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKG4sKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVtlXSl9KSx0fWdldEh0dHBQcm92aWRlcigpe2NvbnN0IHQ9YCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gLGU9dGhpcy5odHRwUHJvdmlkZXJzW3RdO2lmKHR5cGVvZiBlPlwidVwiKXRocm93IG5ldyBFcnJvcihgSlNPTi1SUEMgcHJvdmlkZXIgZm9yICR7dH0gbm90IGZvdW5kYCk7cmV0dXJuIGV9c2V0SHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcih0LGUpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbdF09aSl9Y3JlYXRlSHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT1lfHxwKHQsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHt0fWApO3JldHVybiBuZXcgbChuZXcgbShpLGgoXCJkaXNhYmxlUHJvdmlkZXJQaW5nXCIpKSl9fXZhciBMZT1PYmplY3QuZGVmaW5lUHJvcGVydHkseGU9KHMsdCxlKT0+dCBpbiBzP0xlKHMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnNbdF09ZSxFPShzLHQsZSk9PnhlKHMsdHlwZW9mIHQhPVwic3ltYm9sXCI/dCtcIlwiOnQsZSk7Y2xhc3MgTWV7Y29uc3RydWN0b3IodCl7RSh0aGlzLFwibmFtZVwiLFwibXVsdGl2ZXJzeFwiKSxFKHRoaXMsXCJjbGllbnRcIiksRSh0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxFKHRoaXMsXCJldmVudHNcIiksRSh0aGlzLFwibmFtZXNwYWNlXCIpLEUodGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9aChcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1oKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfXJlcXVlc3QodCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXModC5yZXF1ZXN0Lm1ldGhvZCk/dGhpcy5jbGllbnQucmVxdWVzdCh0KTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QodC5yZXF1ZXN0KX1zZXREZWZhdWx0Q2hhaW4odCxlKXt0aGlzLmh0dHBQcm92aWRlcnNbdF18fHRoaXMuc2V0SHR0cFByb3ZpZGVyKHQsZSksdGhpcy5jaGFpbklkPXQsdGhpcy5ldmVudHMuZW1pdChkLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxgJHt0aGlzLm5hbWV9OiR7dH1gKX1nZXREZWZhdWx0Q2hhaW4oKXtpZih0aGlzLmNoYWluSWQpcmV0dXJuIHRoaXMuY2hhaW5JZDtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5zcGxpdChcIjpcIilbMV19Z2V0QWNjb3VudHMoKXtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiB0P1suLi5uZXcgU2V0KHQuZmlsdGVyKGU9PmUuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcChlPT5lLnNwbGl0KFwiOlwiKVsyXSkpXTpbXX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgdD17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2goZT0+e3ZhciBpO2NvbnN0IG49UChlKTt0W25dPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKG4sKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVtlXSl9KSx0fWdldEh0dHBQcm92aWRlcigpe2NvbnN0IHQ9YCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gLGU9dGhpcy5odHRwUHJvdmlkZXJzW3RdO2lmKHR5cGVvZiBlPlwidVwiKXRocm93IG5ldyBFcnJvcihgSlNPTi1SUEMgcHJvdmlkZXIgZm9yICR7dH0gbm90IGZvdW5kYCk7cmV0dXJuIGV9c2V0SHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcih0LGUpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbdF09aSl9Y3JlYXRlSHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT1lfHxwKHQsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHt0fWApO3JldHVybiBuZXcgbChuZXcgbShpLGgoXCJkaXNhYmxlUHJvdmlkZXJQaW5nXCIpKSl9fXZhciBCZT1PYmplY3QuZGVmaW5lUHJvcGVydHksR2U9KHMsdCxlKT0+dCBpbiBzP0JlKHMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnNbdF09ZSxOPShzLHQsZSk9PkdlKHMsdHlwZW9mIHQhPVwic3ltYm9sXCI/dCtcIlwiOnQsZSk7Y2xhc3MgSmV7Y29uc3RydWN0b3IodCl7Tih0aGlzLFwibmFtZVwiLFwibmVhclwiKSxOKHRoaXMsXCJjbGllbnRcIiksTih0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxOKHRoaXMsXCJldmVudHNcIiksTih0aGlzLFwibmFtZXNwYWNlXCIpLE4odGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9aChcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1oKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IHQ9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiB0LnNwbGl0KFwiOlwiKVsxXX1yZXF1ZXN0KHQpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKHQucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QodCk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KHQucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKHQsZSl7aWYodGhpcy5jaGFpbklkPXQsIXRoaXMuaHR0cFByb3ZpZGVyc1t0XSl7Y29uc3QgaT1lfHxwKGAke3RoaXMubmFtZX06JHt0fWAsdGhpcy5uYW1lc3BhY2UpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHt0fWApO3RoaXMuc2V0SHR0cFByb3ZpZGVyKHQsaSl9dGhpcy5ldmVudHMuZW1pdChkLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxgJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWApfWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD90LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pfHxbXTpbXX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgdD17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2goZT0+e3ZhciBpO3RbZV09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIoZSwoaT10aGlzLm5hbWVzcGFjZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW2VdKX0pLHR9Z2V0SHR0cFByb3ZpZGVyKCl7Y29uc3QgdD1gJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWAsZT10aGlzLmh0dHBQcm92aWRlcnNbdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHt0fSBub3QgZm91bmRgKTtyZXR1cm4gZX1zZXRIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHQsZSk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1t0XT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPWV8fHAodCx0aGlzLm5hbWVzcGFjZSk7cmV0dXJuIHR5cGVvZiBpPlwidVwiP3ZvaWQgMDpuZXcgbChuZXcgbShpLGgoXCJkaXNhYmxlUHJvdmlkZXJQaW5nXCIpKSl9fXZhciB6ZT1PYmplY3QuZGVmaW5lUHJvcGVydHksa2U9KHMsdCxlKT0+dCBpbiBzP3plKHMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnNbdF09ZSxTPShzLHQsZSk9PmtlKHMsdHlwZW9mIHQhPVwic3ltYm9sXCI/dCtcIlwiOnQsZSk7Y2xhc3MgV2V7Y29uc3RydWN0b3IodCl7Uyh0aGlzLFwibmFtZVwiLFwidGV6b3NcIiksUyh0aGlzLFwiY2xpZW50XCIpLFModGhpcyxcImh0dHBQcm92aWRlcnNcIiksUyh0aGlzLFwiZXZlbnRzXCIpLFModGhpcyxcIm5hbWVzcGFjZVwiKSxTKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPXQubmFtZXNwYWNlLHRoaXMuZXZlbnRzPWgoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9aChcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKHQpe3RoaXMubmFtZXNwYWNlPU9iamVjdC5hc3NpZ24odGhpcy5uYW1lc3BhY2UsdCl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1nZXREZWZhdWx0Q2hhaW4oKXtpZih0aGlzLmNoYWluSWQpcmV0dXJuIHRoaXMuY2hhaW5JZDtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5zcGxpdChcIjpcIilbMV19cmVxdWVzdCh0KXtyZXR1cm4gdGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyh0LnJlcXVlc3QubWV0aG9kKT90aGlzLmNsaWVudC5yZXF1ZXN0KHQpOnRoaXMuZ2V0SHR0cFByb3ZpZGVyKCkucmVxdWVzdCh0LnJlcXVlc3QpfXNldERlZmF1bHRDaGFpbih0LGUpe2lmKHRoaXMuY2hhaW5JZD10LCF0aGlzLmh0dHBQcm92aWRlcnNbdF0pe2NvbnN0IGk9ZXx8cChgJHt0aGlzLm5hbWV9OiR7dH1gLHRoaXMubmFtZXNwYWNlKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7dH1gKTt0aGlzLnNldEh0dHBQcm92aWRlcih0LGkpfXRoaXMuZXZlbnRzLmVtaXQoZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gKX1nZXRBY2NvdW50cygpe2NvbnN0IHQ9dGhpcy5uYW1lc3BhY2UuYWNjb3VudHM7cmV0dXJuIHQ/dC5maWx0ZXIoZT0+ZS5zcGxpdChcIjpcIilbMV09PT10aGlzLmNoYWluSWQudG9TdHJpbmcoKSkubWFwKGU9PmUuc3BsaXQoXCI6XCIpWzJdKXx8W106W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IHQ9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKGU9Pnt0W2VdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUpfSksdH1nZXRIdHRwUHJvdmlkZXIoKXtjb25zdCB0PWAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCxlPXRoaXMuaHR0cFByb3ZpZGVyc1t0XTtpZih0eXBlb2YgZT5cInVcIil0aHJvdyBuZXcgRXJyb3IoYEpTT04tUlBDIHByb3ZpZGVyIGZvciAke3R9IG5vdCBmb3VuZGApO3JldHVybiBlfXNldEh0dHBQcm92aWRlcih0LGUpe2NvbnN0IGk9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIodCxlKTtpJiYodGhpcy5odHRwUHJvdmlkZXJzW3RdPWkpfWNyZWF0ZUh0dHBQcm92aWRlcih0LGUpe2NvbnN0IGk9ZXx8cCh0LHRoaXMubmFtZXNwYWNlKTtyZXR1cm4gdHlwZW9mIGk+XCJ1XCI/dm9pZCAwOm5ldyBsKG5ldyBtKGkpKX19dmFyIEtlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxWZT0ocyx0LGUpPT50IGluIHM/S2Uocyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6c1t0XT1lLEQ9KHMsdCxlKT0+VmUocyx0eXBlb2YgdCE9XCJzeW1ib2xcIj90K1wiXCI6dCxlKTtjbGFzcyBYZXtjb25zdHJ1Y3Rvcih0KXtEKHRoaXMsXCJuYW1lXCIsdyksRCh0aGlzLFwiY2xpZW50XCIpLEQodGhpcyxcImh0dHBQcm92aWRlcnNcIiksRCh0aGlzLFwiZXZlbnRzXCIpLEQodGhpcyxcIm5hbWVzcGFjZVwiKSxEKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPXQubmFtZXNwYWNlLHRoaXMuZXZlbnRzPWgoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9aChcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKHQpe3RoaXMubmFtZXNwYWNlLmNoYWlucz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuY2hhaW5zfHxbXSkuY29uY2F0KHQuY2hhaW5zfHxbXSkpXSx0aGlzLm5hbWVzcGFjZS5hY2NvdW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuYWNjb3VudHN8fFtdKS5jb25jYXQodC5hY2NvdW50c3x8W10pKV0sdGhpcy5uYW1lc3BhY2UubWV0aG9kcz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UubWV0aG9kc3x8W10pLmNvbmNhdCh0Lm1ldGhvZHN8fFtdKSldLHRoaXMubmFtZXNwYWNlLmV2ZW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuZXZlbnRzfHxbXSkuY29uY2F0KHQuZXZlbnRzfHxbXSkpXSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1yZXF1ZXN0KHQpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKHQucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QodCk6dGhpcy5nZXRIdHRwUHJvdmlkZXIodC5jaGFpbklkKS5yZXF1ZXN0KHQucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKHQsZSl7dGhpcy5odHRwUHJvdmlkZXJzW3RdfHx0aGlzLnNldEh0dHBQcm92aWRlcih0LGUpLHRoaXMuY2hhaW5JZD10LHRoaXMuZXZlbnRzLmVtaXQoZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3R9YCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIHQuc3BsaXQoXCI6XCIpWzFdfWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD9bLi4ubmV3IFNldCh0LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe3ZhciB0LGU7Y29uc3QgaT17fTtyZXR1cm4oZT0odD10aGlzLm5hbWVzcGFjZSk9PW51bGw/dm9pZCAwOnQuYWNjb3VudHMpPT1udWxsfHxlLmZvckVhY2gobj0+e2NvbnN0IGE9WihuKTtpW2Ake2EubmFtZXNwYWNlfToke2EucmVmZXJlbmNlfWBdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKG4pfSksaX1nZXRIdHRwUHJvdmlkZXIodCl7Y29uc3QgZT10aGlzLmh0dHBQcm92aWRlcnNbdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHt0fSBub3QgZm91bmRgKTtyZXR1cm4gZX1zZXRIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHQsZSk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1t0XT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPWV8fHAodCx0aGlzLm5hbWVzcGFjZSx0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke3R9YCk7cmV0dXJuIG5ldyBsKG5ldyBtKGksaChcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX19dmFyIFllPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxRZT1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxaZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxidD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFRlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdHM9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxWPShzLHQsZSk9PnQgaW4gcz9ZZShzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpzW3RdPWUsTD0ocyx0KT0+e2Zvcih2YXIgZSBpbiB0fHwodD17fSkpVGUuY2FsbCh0LGUpJiZWKHMsZSx0W2VdKTtpZihidClmb3IodmFyIGUgb2YgYnQodCkpdHMuY2FsbCh0LGUpJiZWKHMsZSx0W2VdKTtyZXR1cm4gc30sWD0ocyx0KT0+UWUocyxaZSh0KSksdT0ocyx0LGUpPT5WKHMsdHlwZW9mIHQhPVwic3ltYm9sXCI/dCtcIlwiOnQsZSk7Y2xhc3MgeHtjb25zdHJ1Y3Rvcih0KXt1KHRoaXMsXCJjbGllbnRcIiksdSh0aGlzLFwibmFtZXNwYWNlc1wiKSx1KHRoaXMsXCJvcHRpb25hbE5hbWVzcGFjZXNcIiksdSh0aGlzLFwic2Vzc2lvblByb3BlcnRpZXNcIiksdSh0aGlzLFwic2NvcGVkUHJvcGVydGllc1wiKSx1KHRoaXMsXCJldmVudHNcIixuZXcgTnQpLHUodGhpcyxcInJwY1Byb3ZpZGVyc1wiLHt9KSx1KHRoaXMsXCJzZXNzaW9uXCIpLHUodGhpcyxcInByb3ZpZGVyT3B0c1wiKSx1KHRoaXMsXCJsb2dnZXJcIiksdSh0aGlzLFwidXJpXCIpLHUodGhpcyxcImRpc2FibGVQcm92aWRlclBpbmdcIiwhMSksdGhpcy5wcm92aWRlck9wdHM9dCx0aGlzLmxvZ2dlcj10eXBlb2YgdD8ubG9nZ2VyPFwidVwiJiZ0eXBlb2YgdD8ubG9nZ2VyIT1cInN0cmluZ1wiP3QubG9nZ2VyOk90KEF0KHtsZXZlbDp0Py5sb2dnZXJ8fHR0fSkpLHRoaXMuZGlzYWJsZVByb3ZpZGVyUGluZz10Py5kaXNhYmxlUHJvdmlkZXJQaW5nfHwhMX1zdGF0aWMgYXN5bmMgaW5pdCh0KXtjb25zdCBlPW5ldyB4KHQpO3JldHVybiBhd2FpdCBlLmluaXRpYWxpemUoKSxlfWFzeW5jIHJlcXVlc3QodCxlLGkpe2NvbnN0W24sYV09dGhpcy52YWxpZGF0ZUNoYWluKGUpO2lmKCF0aGlzLnNlc3Npb24pdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIGNhbGwgY29ubmVjdCgpIGJlZm9yZSByZXF1ZXN0KClcIik7cmV0dXJuIGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIobikucmVxdWVzdCh7cmVxdWVzdDpMKHt9LHQpLGNoYWluSWQ6YCR7bn06JHthfWAsdG9waWM6dGhpcy5zZXNzaW9uLnRvcGljLGV4cGlyeTppfSl9c2VuZEFzeW5jKHQsZSxpLG4pe2NvbnN0IGE9bmV3IERhdGUoKS5nZXRUaW1lKCk7dGhpcy5yZXF1ZXN0KHQsaSxuKS50aGVuKHI9PmUobnVsbCxFdChhLHIpKSkuY2F0Y2gocj0+ZShyLHZvaWQgMCkpfWFzeW5jIGVuYWJsZSgpe2lmKCF0aGlzLmNsaWVudCl0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBub3QgaW5pdGlhbGl6ZWRcIik7cmV0dXJuIHRoaXMuc2Vzc2lvbnx8YXdhaXQgdGhpcy5jb25uZWN0KHtuYW1lc3BhY2VzOnRoaXMubmFtZXNwYWNlcyxvcHRpb25hbE5hbWVzcGFjZXM6dGhpcy5vcHRpb25hbE5hbWVzcGFjZXMsc2Vzc2lvblByb3BlcnRpZXM6dGhpcy5zZXNzaW9uUHJvcGVydGllcyxzY29wZWRQcm9wZXJ0aWVzOnRoaXMuc2NvcGVkUHJvcGVydGllc30pLGF3YWl0IHRoaXMucmVxdWVzdEFjY291bnRzKCl9YXN5bmMgZGlzY29ubmVjdCgpe3ZhciB0O2lmKCF0aGlzLnNlc3Npb24pdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIGNhbGwgY29ubmVjdCgpIGJlZm9yZSBlbmFibGUoKVwiKTthd2FpdCB0aGlzLmNsaWVudC5kaXNjb25uZWN0KHt0b3BpYzoodD10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDp0LnRvcGljLHJlYXNvbjpUKFwiVVNFUl9ESVNDT05ORUNURURcIil9KSxhd2FpdCB0aGlzLmNsZWFudXAoKX1hc3luYyBjb25uZWN0KHQpe2lmKCF0aGlzLmNsaWVudCl0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBub3QgaW5pdGlhbGl6ZWRcIik7aWYodGhpcy5zZXROYW1lc3BhY2VzKHQpLGF3YWl0IHRoaXMuY2xlYW51cFBlbmRpbmdQYWlyaW5ncygpLCF0LnNraXBQYWlyaW5nKXJldHVybiBhd2FpdCB0aGlzLnBhaXIodC5wYWlyaW5nVG9waWMpfWFzeW5jIGF1dGhlbnRpY2F0ZSh0LGUpe2lmKCF0aGlzLmNsaWVudCl0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBub3QgaW5pdGlhbGl6ZWRcIik7dGhpcy5zZXROYW1lc3BhY2VzKHQpLGF3YWl0IHRoaXMuY2xlYW51cFBlbmRpbmdQYWlyaW5ncygpO2NvbnN0e3VyaTppLHJlc3BvbnNlOm59PWF3YWl0IHRoaXMuY2xpZW50LmF1dGhlbnRpY2F0ZSh0LGUpO2kmJih0aGlzLnVyaT1pLHRoaXMuZXZlbnRzLmVtaXQoXCJkaXNwbGF5X3VyaVwiLGkpKTtjb25zdCBhPWF3YWl0IG4oKTtpZih0aGlzLnNlc3Npb249YS5zZXNzaW9uLHRoaXMuc2Vzc2lvbil7Y29uc3Qgcj12dCh0aGlzLnNlc3Npb24ubmFtZXNwYWNlcyk7dGhpcy5uYW1lc3BhY2VzPXoodGhpcy5uYW1lc3BhY2VzLHIpLGF3YWl0IHRoaXMucGVyc2lzdChcIm5hbWVzcGFjZXNcIix0aGlzLm5hbWVzcGFjZXMpLHRoaXMub25Db25uZWN0KCl9cmV0dXJuIGF9b24odCxlKXt0aGlzLmV2ZW50cy5vbih0LGUpfW9uY2UodCxlKXt0aGlzLmV2ZW50cy5vbmNlKHQsZSl9cmVtb3ZlTGlzdGVuZXIodCxlKXt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcih0LGUpfW9mZih0LGUpe3RoaXMuZXZlbnRzLm9mZih0LGUpfWdldCBpc1dhbGxldENvbm5lY3QoKXtyZXR1cm4hMH1hc3luYyBwYWlyKHQpe2NvbnN0e3VyaTplLGFwcHJvdmFsOml9PWF3YWl0IHRoaXMuY2xpZW50LmNvbm5lY3Qoe3BhaXJpbmdUb3BpYzp0LHJlcXVpcmVkTmFtZXNwYWNlczp0aGlzLm5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnRoaXMub3B0aW9uYWxOYW1lc3BhY2VzLHNlc3Npb25Qcm9wZXJ0aWVzOnRoaXMuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczp0aGlzLnNjb3BlZFByb3BlcnRpZXN9KTtlJiYodGhpcy51cmk9ZSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzcGxheV91cmlcIixlKSk7Y29uc3Qgbj1hd2FpdCBpKCk7dGhpcy5zZXNzaW9uPW47Y29uc3QgYT12dChuLm5hbWVzcGFjZXMpO3JldHVybiB0aGlzLm5hbWVzcGFjZXM9eih0aGlzLm5hbWVzcGFjZXMsYSksYXdhaXQgdGhpcy5wZXJzaXN0KFwibmFtZXNwYWNlc1wiLHRoaXMubmFtZXNwYWNlcyksYXdhaXQgdGhpcy5wZXJzaXN0KFwib3B0aW9uYWxOYW1lc3BhY2VzXCIsdGhpcy5vcHRpb25hbE5hbWVzcGFjZXMpLHRoaXMub25Db25uZWN0KCksdGhpcy5zZXNzaW9ufXNldERlZmF1bHRDaGFpbih0LGUpe3RyeXtpZighdGhpcy5zZXNzaW9uKXJldHVybjtjb25zdFtpLG5dPXRoaXMudmFsaWRhdGVDaGFpbih0KSxhPXRoaXMuZ2V0UHJvdmlkZXIoaSk7YS5uYW1lPT09dz9hLnNldERlZmF1bHRDaGFpbihgJHtpfToke259YCxlKTphLnNldERlZmF1bHRDaGFpbihuLGUpfWNhdGNoKGkpe2lmKCEvUGxlYXNlIGNhbGwgY29ubmVjdC8udGVzdChpLm1lc3NhZ2UpKXRocm93IGl9fWFzeW5jIGNsZWFudXBQZW5kaW5nUGFpcmluZ3ModD17fSl7dGhpcy5sb2dnZXIuaW5mbyhcIkNsZWFuaW5nIHVwIGluYWN0aXZlIHBhaXJpbmdzLi4uXCIpO2NvbnN0IGU9dGhpcy5jbGllbnQucGFpcmluZy5nZXRBbGwoKTtpZihCKGUpKXtmb3IoY29uc3QgaSBvZiBlKXQuZGVsZXRlUGFpcmluZ3M/dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChpLnRvcGljLDApOmF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKGkudG9waWMpO3RoaXMubG9nZ2VyLmluZm8oYEluYWN0aXZlIHBhaXJpbmdzIGNsZWFyZWQ6ICR7ZS5sZW5ndGh9YCl9fWFib3J0UGFpcmluZ0F0dGVtcHQoKXt0aGlzLmxvZ2dlci53YXJuKFwiYWJvcnRQYWlyaW5nQXR0ZW1wdCBpcyBkZXByZWNhdGVkLiBUaGlzIGlzIG5vdyBhIG5vLW9wLlwiKX1hc3luYyBjaGVja1N0b3JhZ2UoKXt0aGlzLm5hbWVzcGFjZXM9YXdhaXQgdGhpcy5nZXRGcm9tU3RvcmUoXCJuYW1lc3BhY2VzXCIpfHx7fSx0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcz1hd2FpdCB0aGlzLmdldEZyb21TdG9yZShcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKXx8e30sdGhpcy5zZXNzaW9uJiZ0aGlzLmNyZWF0ZVByb3ZpZGVycygpfWFzeW5jIGluaXRpYWxpemUoKXt0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLGF3YWl0IHRoaXMuY3JlYXRlQ2xpZW50KCksYXdhaXQgdGhpcy5jaGVja1N0b3JhZ2UoKSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKX1hc3luYyBjcmVhdGVDbGllbnQoKXt2YXIgdCxlO2lmKHRoaXMuY2xpZW50PXRoaXMucHJvdmlkZXJPcHRzLmNsaWVudHx8YXdhaXQgSXQuaW5pdCh7Y29yZTp0aGlzLnByb3ZpZGVyT3B0cy5jb3JlLGxvZ2dlcjp0aGlzLnByb3ZpZGVyT3B0cy5sb2dnZXJ8fHR0LHJlbGF5VXJsOnRoaXMucHJvdmlkZXJPcHRzLnJlbGF5VXJsfHxTdCxwcm9qZWN0SWQ6dGhpcy5wcm92aWRlck9wdHMucHJvamVjdElkLG1ldGFkYXRhOnRoaXMucHJvdmlkZXJPcHRzLm1ldGFkYXRhLHN0b3JhZ2VPcHRpb25zOnRoaXMucHJvdmlkZXJPcHRzLnN0b3JhZ2VPcHRpb25zLHN0b3JhZ2U6dGhpcy5wcm92aWRlck9wdHMuc3RvcmFnZSxuYW1lOnRoaXMucHJvdmlkZXJPcHRzLm5hbWUsY3VzdG9tU3RvcmFnZVByZWZpeDp0aGlzLnByb3ZpZGVyT3B0cy5jdXN0b21TdG9yYWdlUHJlZml4LHRlbGVtZXRyeUVuYWJsZWQ6dGhpcy5wcm92aWRlck9wdHMudGVsZW1ldHJ5RW5hYmxlZH0pLHRoaXMucHJvdmlkZXJPcHRzLnNlc3Npb24pdHJ5e3RoaXMuc2Vzc2lvbj10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0aGlzLnByb3ZpZGVyT3B0cy5zZXNzaW9uLnRvcGljKX1jYXRjaChpKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBnZXQgc2Vzc2lvblwiLGkpLG5ldyBFcnJvcihgVGhlIHByb3ZpZGVkIHNlc3Npb246ICR7KGU9KHQ9dGhpcy5wcm92aWRlck9wdHMpPT1udWxsP3ZvaWQgMDp0LnNlc3Npb24pPT1udWxsP3ZvaWQgMDplLnRvcGljfSBkb2Vzbid0IGV4aXN0IGluIHRoZSBTaWduIGNsaWVudGApfWVsc2V7Y29uc3QgaT10aGlzLmNsaWVudC5zZXNzaW9uLmdldEFsbCgpO3RoaXMuc2Vzc2lvbj1pWzBdfXRoaXMubG9nZ2VyLnRyYWNlKFwiU2lnbkNsaWVudCBJbml0aWFsaXplZFwiKX1jcmVhdGVQcm92aWRlcnMoKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO2lmKCF0aGlzLnNlc3Npb24pdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBjYWxsIGNvbm5lY3QoKSBiZWZvcmUgZW5hYmxlKClcIik7Y29uc3QgdD1bLi4ubmV3IFNldChPYmplY3Qua2V5cyh0aGlzLnNlc3Npb24ubmFtZXNwYWNlcykubWFwKGU9PnEoZSkpKV07VyhcImNsaWVudFwiLHRoaXMuY2xpZW50KSxXKFwiZXZlbnRzXCIsdGhpcy5ldmVudHMpLFcoXCJkaXNhYmxlUHJvdmlkZXJQaW5nXCIsdGhpcy5kaXNhYmxlUHJvdmlkZXJQaW5nKSx0LmZvckVhY2goZT0+e2lmKCF0aGlzLnNlc3Npb24pcmV0dXJuO2NvbnN0IGk9bGUoZSx0aGlzLnNlc3Npb24pLG49bHQoaSksYT16KHRoaXMubmFtZXNwYWNlcyx0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcykscj1YKEwoe30sYVtlXSkse2FjY291bnRzOmksY2hhaW5zOm59KTtzd2l0Y2goZSl7Y2FzZVwiZWlwMTU1XCI6dGhpcy5ycGNQcm92aWRlcnNbZV09bmV3IEllKHtuYW1lc3BhY2U6cn0pO2JyZWFrO2Nhc2VcImFsZ29yYW5kXCI6dGhpcy5ycGNQcm92aWRlcnNbZV09bmV3IERlKHtuYW1lc3BhY2U6cn0pO2JyZWFrO2Nhc2VcInNvbGFuYVwiOnRoaXMucnBjUHJvdmlkZXJzW2VdPW5ldyBBZSh7bmFtZXNwYWNlOnJ9KTticmVhaztjYXNlXCJjb3Ntb3NcIjp0aGlzLnJwY1Byb3ZpZGVyc1tlXT1uZXcgRWUoe25hbWVzcGFjZTpyfSk7YnJlYWs7Y2FzZVwicG9sa2Fkb3RcIjp0aGlzLnJwY1Byb3ZpZGVyc1tlXT1uZXcgdmUoe25hbWVzcGFjZTpyfSk7YnJlYWs7Y2FzZVwiY2lwMzRcIjp0aGlzLnJwY1Byb3ZpZGVyc1tlXT1uZXcgUmUoe25hbWVzcGFjZTpyfSk7YnJlYWs7Y2FzZVwiZWxyb25kXCI6dGhpcy5ycGNQcm92aWRlcnNbZV09bmV3IEZlKHtuYW1lc3BhY2U6cn0pO2JyZWFrO2Nhc2VcIm11bHRpdmVyc3hcIjp0aGlzLnJwY1Byb3ZpZGVyc1tlXT1uZXcgTWUoe25hbWVzcGFjZTpyfSk7YnJlYWs7Y2FzZVwibmVhclwiOnRoaXMucnBjUHJvdmlkZXJzW2VdPW5ldyBKZSh7bmFtZXNwYWNlOnJ9KTticmVhaztjYXNlXCJ0ZXpvc1wiOnRoaXMucnBjUHJvdmlkZXJzW2VdPW5ldyBXZSh7bmFtZXNwYWNlOnJ9KTticmVhaztkZWZhdWx0OnRoaXMucnBjUHJvdmlkZXJzW3ddP3RoaXMucnBjUHJvdmlkZXJzW3ddLnVwZGF0ZU5hbWVzcGFjZShyKTp0aGlzLnJwY1Byb3ZpZGVyc1t3XT1uZXcgWGUoe25hbWVzcGFjZTpyfSl9fSl9cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe2lmKHR5cGVvZiB0aGlzLmNsaWVudD5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWRcIik7dGhpcy5jbGllbnQub24oXCJzZXNzaW9uX3BpbmdcIix0PT57dmFyIGU7Y29uc3R7dG9waWM6aX09dDtpPT09KChlPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmUudG9waWMpJiZ0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9waW5nXCIsdCl9KSx0aGlzLmNsaWVudC5vbihcInNlc3Npb25fZXZlbnRcIix0PT57dmFyIGU7Y29uc3R7cGFyYW1zOmksdG9waWM6bn09dDtpZihuIT09KChlPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmUudG9waWMpKXJldHVybjtjb25zdHtldmVudDphfT1pO2lmKGEubmFtZT09PVwiYWNjb3VudHNDaGFuZ2VkXCIpe2NvbnN0IHI9YS5kYXRhO3ImJkIocikmJnRoaXMuZXZlbnRzLmVtaXQoXCJhY2NvdW50c0NoYW5nZWRcIixyLm1hcChtdCkpfWVsc2UgaWYoYS5uYW1lPT09XCJjaGFpbkNoYW5nZWRcIil7Y29uc3Qgcj1pLmNoYWluSWQsYz1pLmV2ZW50LmRhdGEsbz1xKHIpLHY9ayhyKSE9PWsoYyk/YCR7b306JHtrKGMpfWA6cjt0aGlzLm9uQ2hhaW5DaGFuZ2VkKHYpfWVsc2UgdGhpcy5ldmVudHMuZW1pdChhLm5hbWUsYS5kYXRhKTt0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9ldmVudFwiLHQpfSksdGhpcy5jbGllbnQub24oXCJzZXNzaW9uX3VwZGF0ZVwiLCh7dG9waWM6dCxwYXJhbXM6ZX0pPT57dmFyIGksbjtpZih0IT09KChpPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmkudG9waWMpKXJldHVybjtjb25zdHtuYW1lc3BhY2VzOmF9PWUscj0obj10aGlzLmNsaWVudCk9PW51bGw/dm9pZCAwOm4uc2Vzc2lvbi5nZXQodCk7dGhpcy5zZXNzaW9uPVgoTCh7fSxyKSx7bmFtZXNwYWNlczphfSksdGhpcy5vblNlc3Npb25VcGRhdGUoKSx0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl91cGRhdGVcIix7dG9waWM6dCxwYXJhbXM6ZX0pfSksdGhpcy5jbGllbnQub24oXCJzZXNzaW9uX2RlbGV0ZVwiLGFzeW5jIHQ9Pnt2YXIgZTt0LnRvcGljPT09KChlPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmUudG9waWMpJiYoYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5ldmVudHMuZW1pdChcInNlc3Npb25fZGVsZXRlXCIsdCksdGhpcy5ldmVudHMuZW1pdChcImRpc2Nvbm5lY3RcIixYKEwoe30sVChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx7ZGF0YTp0LnRvcGljfSkpKX0pLHRoaXMub24oZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsdD0+e3RoaXMub25DaGFpbkNoYW5nZWQodCwhMCl9KX1nZXRQcm92aWRlcih0KXtyZXR1cm4gdGhpcy5ycGNQcm92aWRlcnNbdF18fHRoaXMucnBjUHJvdmlkZXJzW3ddfW9uU2Vzc2lvblVwZGF0ZSgpe09iamVjdC5rZXlzKHRoaXMucnBjUHJvdmlkZXJzKS5mb3JFYWNoKHQ9Pnt2YXIgZTt0aGlzLmdldFByb3ZpZGVyKHQpLnVwZGF0ZU5hbWVzcGFjZSgoZT10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDplLm5hbWVzcGFjZXNbdF0pfSl9c2V0TmFtZXNwYWNlcyh0KXtjb25zdHtuYW1lc3BhY2VzOmUsb3B0aW9uYWxOYW1lc3BhY2VzOmksc2Vzc2lvblByb3BlcnRpZXM6bixzY29wZWRQcm9wZXJ0aWVzOmF9PXQ7ZSYmT2JqZWN0LmtleXMoZSkubGVuZ3RoJiYodGhpcy5uYW1lc3BhY2VzPWUpLGkmJk9iamVjdC5rZXlzKGkpLmxlbmd0aCYmKHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzPWkpLHRoaXMuc2Vzc2lvblByb3BlcnRpZXM9bix0aGlzLnNjb3BlZFByb3BlcnRpZXM9YX12YWxpZGF0ZUNoYWluKHQpe2NvbnN0W2UsaV09dD8uc3BsaXQoXCI6XCIpfHxbXCJcIixcIlwiXTtpZighdGhpcy5uYW1lc3BhY2VzfHwhT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzKS5sZW5ndGgpcmV0dXJuW2UsaV07aWYoZSYmIU9iamVjdC5rZXlzKHRoaXMubmFtZXNwYWNlc3x8e30pLm1hcChyPT5xKHIpKS5pbmNsdWRlcyhlKSl0aHJvdyBuZXcgRXJyb3IoYE5hbWVzcGFjZSAnJHtlfScgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjYWxsIGNvbm5lY3QoKSBmaXJzdCB3aXRoIG5hbWVzcGFjZSBjb25maWcuYCk7aWYoZSYmaSlyZXR1cm5bZSxpXTtjb25zdCBuPXEoT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzKVswXSksYT10aGlzLnJwY1Byb3ZpZGVyc1tuXS5nZXREZWZhdWx0Q2hhaW4oKTtyZXR1cm5bbixhXX1hc3luYyByZXF1ZXN0QWNjb3VudHMoKXtjb25zdFt0XT10aGlzLnZhbGlkYXRlQ2hhaW4oKTtyZXR1cm4gYXdhaXQgdGhpcy5nZXRQcm92aWRlcih0KS5yZXF1ZXN0QWNjb3VudHMoKX1hc3luYyBvbkNoYWluQ2hhbmdlZCh0LGU9ITEpe2lmKCF0aGlzLm5hbWVzcGFjZXMpcmV0dXJuO2NvbnN0W2ksbl09dGhpcy52YWxpZGF0ZUNoYWluKHQpO2lmKCFuKXJldHVybjt0aGlzLnVwZGF0ZU5hbWVzcGFjZUNoYWluKGksbiksdGhpcy5ldmVudHMuZW1pdChcImNoYWluQ2hhbmdlZFwiLG4pO2NvbnN0IGE9dGhpcy5nZXRQcm92aWRlcihpKS5nZXREZWZhdWx0Q2hhaW4oKTtlfHx0aGlzLmdldFByb3ZpZGVyKGkpLnNldERlZmF1bHRDaGFpbihuKSx0aGlzLmVtaXRBY2NvdW50c0NoYW5nZWRPbkNoYWluQ2hhbmdlKHtuYW1lc3BhY2U6aSxwcmV2aW91c0NoYWluSWQ6YSxuZXdDaGFpbklkOnR9KSxhd2FpdCB0aGlzLnBlcnNpc3QoXCJuYW1lc3BhY2VzXCIsdGhpcy5uYW1lc3BhY2VzKX1lbWl0QWNjb3VudHNDaGFuZ2VkT25DaGFpbkNoYW5nZSh7bmFtZXNwYWNlOnQscHJldmlvdXNDaGFpbklkOmUsbmV3Q2hhaW5JZDppfSl7dmFyIG4sYTt0cnl7aWYoZT09PWkpcmV0dXJuO2NvbnN0IHI9KGE9KG49dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6bi5uYW1lc3BhY2VzW3RdKT09bnVsbD92b2lkIDA6YS5hY2NvdW50cztpZighcilyZXR1cm47Y29uc3QgYz1yLmZpbHRlcihvPT5vLmluY2x1ZGVzKGAke2l9OmApKS5tYXAobXQpO2lmKCFCKGMpKXJldHVybjt0aGlzLmV2ZW50cy5lbWl0KFwiYWNjb3VudHNDaGFuZ2VkXCIsYyl9Y2F0Y2gocil7dGhpcy5sb2dnZXIud2FybihcIkZhaWxlZCB0byBlbWl0IGFjY291bnRzQ2hhbmdlZCBvbiBjaGFpbiBjaGFuZ2VcIixyKX19dXBkYXRlTmFtZXNwYWNlQ2hhaW4odCxlKXtpZighdGhpcy5uYW1lc3BhY2VzKXJldHVybjtjb25zdCBpPXRoaXMubmFtZXNwYWNlc1t0XT90OmAke3R9OiR7ZX1gLG49e2NoYWluczpbXSxtZXRob2RzOltdLGV2ZW50czpbXSxkZWZhdWx0Q2hhaW46ZX07dGhpcy5uYW1lc3BhY2VzW2ldP3RoaXMubmFtZXNwYWNlc1tpXSYmKHRoaXMubmFtZXNwYWNlc1tpXS5kZWZhdWx0Q2hhaW49ZSk6dGhpcy5uYW1lc3BhY2VzW2ldPW59b25Db25uZWN0KCl7dGhpcy5jcmVhdGVQcm92aWRlcnMoKSx0aGlzLmV2ZW50cy5lbWl0KFwiY29ubmVjdFwiLHtzZXNzaW9uOnRoaXMuc2Vzc2lvbn0pfWFzeW5jIGNsZWFudXAoKXt0aGlzLm5hbWVzcGFjZXM9dm9pZCAwLHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzPXZvaWQgMCx0aGlzLnNlc3Npb25Qcm9wZXJ0aWVzPXZvaWQgMCxhd2FpdCB0aGlzLmRlbGV0ZUZyb21TdG9yZShcIm5hbWVzcGFjZXNcIiksYXdhaXQgdGhpcy5kZWxldGVGcm9tU3RvcmUoXCJvcHRpb25hbE5hbWVzcGFjZXNcIiksYXdhaXQgdGhpcy5kZWxldGVGcm9tU3RvcmUoXCJzZXNzaW9uUHJvcGVydGllc1wiKSx0aGlzLnNlc3Npb249dm9pZCAwLGF3YWl0IHRoaXMuY2xlYW51cFBlbmRpbmdQYWlyaW5ncyh7ZGVsZXRlUGFpcmluZ3M6ITB9KSxhd2FpdCB0aGlzLmNsZWFudXBTdG9yYWdlKCl9YXN5bmMgcGVyc2lzdCh0LGUpe3ZhciBpO2NvbnN0IG49KChpPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmkudG9waWMpfHxcIlwiO2F3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5zZXRJdGVtKGAke199LyR7dH0ke259YCxlKX1hc3luYyBnZXRGcm9tU3RvcmUodCl7dmFyIGU7Y29uc3QgaT0oKGU9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6ZS50b3BpYyl8fFwiXCI7cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5nZXRJdGVtKGAke199LyR7dH0ke2l9YCl9YXN5bmMgZGVsZXRlRnJvbVN0b3JlKHQpe3ZhciBlO2NvbnN0IGk9KChlPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmUudG9waWMpfHxcIlwiO2F3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5yZW1vdmVJdGVtKGAke199LyR7dH0ke2l9YCl9YXN5bmMgY2xlYW51cFN0b3JhZ2UoKXt2YXIgdDt0cnl7aWYoKCh0PXRoaXMuY2xpZW50KT09bnVsbD92b2lkIDA6dC5zZXNzaW9uLmxlbmd0aCk+MClyZXR1cm47Y29uc3QgZT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UuZ2V0S2V5cygpO2Zvcihjb25zdCBpIG9mIGUpaS5zdGFydHNXaXRoKF8pJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UucmVtb3ZlSXRlbShpKX1jYXRjaChlKXt0aGlzLmxvZ2dlci53YXJuKFwiRmFpbGVkIHRvIGNsZWFudXAgc3RvcmFnZVwiLGUpfX19Y29uc3QgZXM9eDtleHBvcnR7ZXMgYXMgVW5pdmVyc2FsUHJvdmlkZXIseCBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/ethereum-provider/node_modules/@walletconnect/universal-provider/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/events/dist/esm/events.js":
/*!***************************************************************!*\
  !*** ./node_modules/@walletconnect/events/dist/esm/events.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IEvents: () => (/* binding */ IEvents)\n/* harmony export */ });\nclass IEvents {\n}\n//# sourceMappingURL=events.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZXZlbnRzL2Rpc3QvZXNtL2V2ZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2V2ZW50cy9kaXN0L2VzbS9ldmVudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIElFdmVudHMge1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/events/dist/esm/events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@walletconnect/events/dist/esm/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IEvents: () => (/* reexport safe */ _events__WEBPACK_IMPORTED_MODULE_0__.IEvents)\n/* harmony export */ });\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/events.js\");\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZXZlbnRzL2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlCO0FBQ3pCIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2V2ZW50cy9kaXN0L2VzbS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9ldmVudHNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/heartbeat/dist/index.es.js":
/*!****************************************************************!*\
  !*** ./node_modules/@walletconnect/heartbeat/dist/index.es.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HEARTBEAT_EVENTS: () => (/* binding */ r),\n/* harmony export */   HEARTBEAT_INTERVAL: () => (/* binding */ s),\n/* harmony export */   HeartBeat: () => (/* binding */ i),\n/* harmony export */   IHeartBeat: () => (/* binding */ n)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\");\nclass n extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_2__.IEvents{constructor(e){super()}}const s=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_SECONDS,r={pulse:\"heartbeat_pulse\"};class i extends n{constructor(e){super(e),this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.interval=s,this.interval=e?.interval||s}static async init(e){const t=new i(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(this.interval))}pulse(){this.events.emit(r.pulse)}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvaGVhcnRiZWF0L2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTRKLGdCQUFnQiwwREFBQyxDQUFDLGVBQWUsU0FBUyxRQUFRLDZEQUFDLElBQUkseUJBQXlCLGtCQUFrQixlQUFlLHlCQUF5QixnREFBQyw4Q0FBOEMscUJBQXFCLGlCQUFpQix3QkFBd0IsYUFBYSx3QkFBd0IsT0FBTyxnQ0FBZ0MsUUFBUSxvQkFBb0IsVUFBVSxzQkFBc0IsU0FBUyxxQkFBcUIsb0JBQW9CLGdDQUFnQyxtQkFBbUIsOENBQThDLGtFQUFDLGlCQUFpQixRQUFRLDJCQUFnSDtBQUN4ekIiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvaGVhcnRiZWF0L2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0V2ZW50RW1pdHRlciBhcyBhfWZyb21cImV2ZW50c1wiO2ltcG9ydHtGSVZFX1NFQ09ORFMgYXMgbyx0b01pbGlzZWNvbmRzIGFzIGx9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdGltZVwiO2ltcG9ydHtJRXZlbnRzIGFzIHZ9ZnJvbVwiQHdhbGxldGNvbm5lY3QvZXZlbnRzXCI7Y2xhc3MgbiBleHRlbmRzIHZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKX19Y29uc3Qgcz1vLHI9e3B1bHNlOlwiaGVhcnRiZWF0X3B1bHNlXCJ9O2NsYXNzIGkgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZXZlbnRzPW5ldyBhLHRoaXMuaW50ZXJ2YWw9cyx0aGlzLmludGVydmFsPWU/LmludGVydmFsfHxzfXN0YXRpYyBhc3luYyBpbml0KGUpe2NvbnN0IHQ9bmV3IGkoZSk7cmV0dXJuIGF3YWl0IHQuaW5pdCgpLHR9YXN5bmMgaW5pdCgpe2F3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpfXN0b3AoKXtjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxSZWYpfW9uKGUsdCl7dGhpcy5ldmVudHMub24oZSx0KX1vbmNlKGUsdCl7dGhpcy5ldmVudHMub25jZShlLHQpfW9mZihlLHQpe3RoaXMuZXZlbnRzLm9mZihlLHQpfXJlbW92ZUxpc3RlbmVyKGUsdCl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSx0KX1hc3luYyBpbml0aWFsaXplKCl7dGhpcy5pbnRlcnZhbFJlZj1zZXRJbnRlcnZhbCgoKT0+dGhpcy5wdWxzZSgpLGwodGhpcy5pbnRlcnZhbCkpfXB1bHNlKCl7dGhpcy5ldmVudHMuZW1pdChyLnB1bHNlKX19ZXhwb3J0e3IgYXMgSEVBUlRCRUFUX0VWRU5UUyxzIGFzIEhFQVJUQkVBVF9JTlRFUlZBTCxpIGFzIEhlYXJ0QmVhdCxuIGFzIElIZWFydEJlYXR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/heartbeat/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpConnection: () => (/* binding */ f),\n/* harmony export */   \"default\": () => (/* binding */ f)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cross_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cross-fetch */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/node_modules/cross-fetch/dist/node-ponyfill.js\");\n/* harmony import */ var cross_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cross_fetch__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nvar P=Object.defineProperty,w=Object.defineProperties,E=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,l=(r,t,e)=>t in r?P(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,p=(r,t)=>{for(var e in t||(t={}))L.call(t,e)&&l(r,e,t[e]);if(c)for(var e of c(t))O.call(t,e)&&l(r,e,t[e]);return r},v=(r,t)=>w(r,E(t));const j={Accept:\"application/json\",\"Content-Type\":\"application/json\"},T=\"POST\",d={headers:j,method:T},g=10;class f{constructor(t,e=!1){if(this.url=t,this.disableProviderPing=e,this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error(\"Connection already closed\");this.onClose()}async send(t){this.isAvailable||await this.register();try{const e=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__.safeJsonStringify)(t),s=await(await cross_fetch__WEBPACK_IMPORTED_MODULE_1___default()(this.url,v(p({},d),{body:e}))).json();this.onPayload({data:s})}catch(e){this.onError(t.id,e)}}async register(t=this.url){if(!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount(\"register_error\")>=e||this.events.listenerCount(\"open\")>=e)&&this.events.setMaxListeners(e+1),new Promise((s,i)=>{this.events.once(\"register_error\",n=>{this.resetMaxListeners(),i(n)}),this.events.once(\"open\",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>\"u\")return i(new Error(\"HTTP connection is missing or invalid\"));s()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const e=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__.safeJsonStringify)({id:1,jsonrpc:\"2.0\",method:\"test\",params:[]});await cross_fetch__WEBPACK_IMPORTED_MODULE_1___default()(t,v(p({},d),{body:e}))}this.onOpen()}catch(e){const s=this.parseError(e);throw this.events.emit(\"register_error\",s),this.onClose(),s}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit(\"open\")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit(\"close\")}onPayload(t){if(typeof t.data>\"u\")return;const e=typeof t.data==\"string\"?(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__.safeJsonParse)(t.data):t.data;this.events.emit(\"payload\",e)}onError(t,e){const s=this.parseError(e),i=s.message||s.toString(),n=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(t,i);this.events.emit(\"payload\",n)}parseError(t,e=this.url){return (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.parseConnectionError)(t,e,\"HTTP\")}resetMaxListeners(){this.events.getMaxListeners()>g&&this.events.setMaxListeners(g)}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy1odHRwLWNvbm5lY3Rpb24vZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE0UCwyTkFBMk4sa0RBQWtELG1CQUFtQixxQkFBcUIsMkJBQTJCLGdEQUFnRCxTQUFTLG9CQUFvQixTQUFTLDREQUE0RCxhQUFhLG1CQUFtQixNQUFNLFFBQVEsb0JBQW9CLHlEQUF5RCxnREFBQywwQ0FBMEMsdUVBQUMsNEVBQTRFLEVBQUUsR0FBRyxzQ0FBc0MsZ0JBQWdCLHdCQUF3QixpQkFBaUIsd0JBQXdCLFFBQVEsb0JBQW9CLFVBQVUsc0JBQXNCLFNBQVMscUJBQXFCLG9CQUFvQixnQ0FBZ0MsdUJBQXVCLHVCQUF1QixjQUFjLGtFQUFrRSxlQUFlLGNBQWMsd0NBQXdDLElBQUksUUFBUSwyRUFBQyxrQkFBa0Isa0RBQUMsZ0JBQWdCLEtBQUssT0FBTyxXQUFXLGdCQUFnQixPQUFPLEVBQUUsU0FBUyxzQkFBc0IsMkJBQTJCLElBQUksdUVBQUMsNEVBQTRFLEVBQUUsR0FBRyxxQkFBcUIsc0NBQXNDLG1KQUFtSixzQ0FBc0MsOEJBQThCLCtCQUErQixxSEFBcUgsSUFBSSxFQUFFLEVBQUUsK0JBQStCLElBQUksOEJBQThCLFFBQVEsMkVBQUMsRUFBRSwyQ0FBMkMsRUFBRSxNQUFNLGtEQUFDLFNBQVMsS0FBSyxPQUFPLEdBQUcsY0FBYyxTQUFTLDJCQUEyQiw2REFBNkQsU0FBUyxpRUFBaUUsVUFBVSxrRUFBa0UsYUFBYSw0QkFBNEIsZ0NBQWdDLHVFQUFDLGdCQUFnQiw4QkFBOEIsYUFBYSx1REFBdUQsZ0ZBQUMsTUFBTSw4QkFBOEIseUJBQXlCLE9BQU8sa0ZBQUMsYUFBYSxvQkFBb0IsaUVBQTBHO0FBQ3QyRiIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLWh0dHAtY29ubmVjdGlvbi9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtFdmVudEVtaXR0ZXIgYXMgbX1mcm9tXCJldmVudHNcIjtpbXBvcnQgbyBmcm9tXCJjcm9zcy1mZXRjaFwiO2ltcG9ydHtzYWZlSnNvblN0cmluZ2lmeSBhcyBhLHNhZmVKc29uUGFyc2UgYXMgeX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9zYWZlLWpzb25cIjtpbXBvcnR7aXNIdHRwVXJsIGFzIGgsZm9ybWF0SnNvblJwY0Vycm9yIGFzIGIscGFyc2VDb25uZWN0aW9uRXJyb3IgYXMgdX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCI7dmFyIFA9T2JqZWN0LmRlZmluZVByb3BlcnR5LHc9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsRT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsTD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LE89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxsPShyLHQsZSk9PnQgaW4gcj9QKHIsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnJbdF09ZSxwPShyLHQpPT57Zm9yKHZhciBlIGluIHR8fCh0PXt9KSlMLmNhbGwodCxlKSYmbChyLGUsdFtlXSk7aWYoYylmb3IodmFyIGUgb2YgYyh0KSlPLmNhbGwodCxlKSYmbChyLGUsdFtlXSk7cmV0dXJuIHJ9LHY9KHIsdCk9PncocixFKHQpKTtjb25zdCBqPXtBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uXCIsXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sVD1cIlBPU1RcIixkPXtoZWFkZXJzOmosbWV0aG9kOlR9LGc9MTA7Y2xhc3MgZntjb25zdHJ1Y3Rvcih0LGU9ITEpe2lmKHRoaXMudXJsPXQsdGhpcy5kaXNhYmxlUHJvdmlkZXJQaW5nPWUsdGhpcy5ldmVudHM9bmV3IG0sdGhpcy5pc0F2YWlsYWJsZT0hMSx0aGlzLnJlZ2lzdGVyaW5nPSExLCFoKHQpKXRocm93IG5ldyBFcnJvcihgUHJvdmlkZWQgVVJMIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggSFRUUCBjb25uZWN0aW9uOiAke3R9YCk7dGhpcy51cmw9dCx0aGlzLmRpc2FibGVQcm92aWRlclBpbmc9ZX1nZXQgY29ubmVjdGVkKCl7cmV0dXJuIHRoaXMuaXNBdmFpbGFibGV9Z2V0IGNvbm5lY3RpbmcoKXtyZXR1cm4gdGhpcy5yZWdpc3RlcmluZ31vbih0LGUpe3RoaXMuZXZlbnRzLm9uKHQsZSl9b25jZSh0LGUpe3RoaXMuZXZlbnRzLm9uY2UodCxlKX1vZmYodCxlKXt0aGlzLmV2ZW50cy5vZmYodCxlKX1yZW1vdmVMaXN0ZW5lcih0LGUpe3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKHQsZSl9YXN5bmMgb3Blbih0PXRoaXMudXJsKXthd2FpdCB0aGlzLnJlZ2lzdGVyKHQpfWFzeW5jIGNsb3NlKCl7aWYoIXRoaXMuaXNBdmFpbGFibGUpdGhyb3cgbmV3IEVycm9yKFwiQ29ubmVjdGlvbiBhbHJlYWR5IGNsb3NlZFwiKTt0aGlzLm9uQ2xvc2UoKX1hc3luYyBzZW5kKHQpe3RoaXMuaXNBdmFpbGFibGV8fGF3YWl0IHRoaXMucmVnaXN0ZXIoKTt0cnl7Y29uc3QgZT1hKHQpLHM9YXdhaXQoYXdhaXQgbyh0aGlzLnVybCx2KHAoe30sZCkse2JvZHk6ZX0pKSkuanNvbigpO3RoaXMub25QYXlsb2FkKHtkYXRhOnN9KX1jYXRjaChlKXt0aGlzLm9uRXJyb3IodC5pZCxlKX19YXN5bmMgcmVnaXN0ZXIodD10aGlzLnVybCl7aWYoIWgodCkpdGhyb3cgbmV3IEVycm9yKGBQcm92aWRlZCBVUkwgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBIVFRQIGNvbm5lY3Rpb246ICR7dH1gKTtpZih0aGlzLnJlZ2lzdGVyaW5nKXtjb25zdCBlPXRoaXMuZXZlbnRzLmdldE1heExpc3RlbmVycygpO3JldHVybih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KFwicmVnaXN0ZXJfZXJyb3JcIik+PWV8fHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoXCJvcGVuXCIpPj1lKSYmdGhpcy5ldmVudHMuc2V0TWF4TGlzdGVuZXJzKGUrMSksbmV3IFByb21pc2UoKHMsaSk9Pnt0aGlzLmV2ZW50cy5vbmNlKFwicmVnaXN0ZXJfZXJyb3JcIixuPT57dGhpcy5yZXNldE1heExpc3RlbmVycygpLGkobil9KSx0aGlzLmV2ZW50cy5vbmNlKFwib3BlblwiLCgpPT57aWYodGhpcy5yZXNldE1heExpc3RlbmVycygpLHR5cGVvZiB0aGlzLmlzQXZhaWxhYmxlPlwidVwiKXJldHVybiBpKG5ldyBFcnJvcihcIkhUVFAgY29ubmVjdGlvbiBpcyBtaXNzaW5nIG9yIGludmFsaWRcIikpO3MoKX0pfSl9dGhpcy51cmw9dCx0aGlzLnJlZ2lzdGVyaW5nPSEwO3RyeXtpZighdGhpcy5kaXNhYmxlUHJvdmlkZXJQaW5nKXtjb25zdCBlPWEoe2lkOjEsanNvbnJwYzpcIjIuMFwiLG1ldGhvZDpcInRlc3RcIixwYXJhbXM6W119KTthd2FpdCBvKHQsdihwKHt9LGQpLHtib2R5OmV9KSl9dGhpcy5vbk9wZW4oKX1jYXRjaChlKXtjb25zdCBzPXRoaXMucGFyc2VFcnJvcihlKTt0aHJvdyB0aGlzLmV2ZW50cy5lbWl0KFwicmVnaXN0ZXJfZXJyb3JcIixzKSx0aGlzLm9uQ2xvc2UoKSxzfX1vbk9wZW4oKXt0aGlzLmlzQXZhaWxhYmxlPSEwLHRoaXMucmVnaXN0ZXJpbmc9ITEsdGhpcy5ldmVudHMuZW1pdChcIm9wZW5cIil9b25DbG9zZSgpe3RoaXMuaXNBdmFpbGFibGU9ITEsdGhpcy5yZWdpc3RlcmluZz0hMSx0aGlzLmV2ZW50cy5lbWl0KFwiY2xvc2VcIil9b25QYXlsb2FkKHQpe2lmKHR5cGVvZiB0LmRhdGE+XCJ1XCIpcmV0dXJuO2NvbnN0IGU9dHlwZW9mIHQuZGF0YT09XCJzdHJpbmdcIj95KHQuZGF0YSk6dC5kYXRhO3RoaXMuZXZlbnRzLmVtaXQoXCJwYXlsb2FkXCIsZSl9b25FcnJvcih0LGUpe2NvbnN0IHM9dGhpcy5wYXJzZUVycm9yKGUpLGk9cy5tZXNzYWdlfHxzLnRvU3RyaW5nKCksbj1iKHQsaSk7dGhpcy5ldmVudHMuZW1pdChcInBheWxvYWRcIixuKX1wYXJzZUVycm9yKHQsZT10aGlzLnVybCl7cmV0dXJuIHUodCxlLFwiSFRUUFwiKX1yZXNldE1heExpc3RlbmVycygpe3RoaXMuZXZlbnRzLmdldE1heExpc3RlbmVycygpPmcmJnRoaXMuZXZlbnRzLnNldE1heExpc3RlbmVycyhnKX19ZXhwb3J0e2YgYXMgSHR0cENvbm5lY3Rpb24sZiBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/node_modules/cross-fetch/dist/node-ponyfill.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-http-connection/node_modules/cross-fetch/dist/node-ponyfill.js ***!
  \************************************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("const nodeFetch = __webpack_require__(/*! node-fetch */ \"(ssr)/./node_modules/node-fetch/lib/index.mjs\")\nconst realFetch = nodeFetch.default || nodeFetch\n\nconst fetch = function (url, options) {\n  // Support schemaless URIs on the server for parity with the browser.\n  // Ex: //github.com/ -> https://github.com/\n  if (/^\\/\\//.test(url)) {\n    url = 'https:' + url\n  }\n  return realFetch.call(this, url, options)\n}\n\nfetch.ponyfill = true\n\nmodule.exports = exports = fetch\nexports.fetch = fetch\nexports.Headers = nodeFetch.Headers\nexports.Request = nodeFetch.Request\nexports.Response = nodeFetch.Response\n\n// Needed for TypeScript consumers without esModuleInterop.\nexports[\"default\"] = fetch\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy1odHRwLWNvbm5lY3Rpb24vbm9kZV9tb2R1bGVzL2Nyb3NzLWZldGNoL2Rpc3Qvbm9kZS1wb255ZmlsbC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IsbUJBQU8sQ0FBQyxpRUFBWTtBQUN0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsYUFBYTtBQUNiLGVBQWU7QUFDZixlQUFlO0FBQ2YsZ0JBQWdCOztBQUVoQjtBQUNBLGtCQUFlIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtaHR0cC1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy9jcm9zcy1mZXRjaC9kaXN0L25vZGUtcG9ueWZpbGwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgbm9kZUZldGNoID0gcmVxdWlyZSgnbm9kZS1mZXRjaCcpXG5jb25zdCByZWFsRmV0Y2ggPSBub2RlRmV0Y2guZGVmYXVsdCB8fCBub2RlRmV0Y2hcblxuY29uc3QgZmV0Y2ggPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIC8vIFN1cHBvcnQgc2NoZW1hbGVzcyBVUklzIG9uIHRoZSBzZXJ2ZXIgZm9yIHBhcml0eSB3aXRoIHRoZSBicm93c2VyLlxuICAvLyBFeDogLy9naXRodWIuY29tLyAtPiBodHRwczovL2dpdGh1Yi5jb20vXG4gIGlmICgvXlxcL1xcLy8udGVzdCh1cmwpKSB7XG4gICAgdXJsID0gJ2h0dHBzOicgKyB1cmxcbiAgfVxuICByZXR1cm4gcmVhbEZldGNoLmNhbGwodGhpcywgdXJsLCBvcHRpb25zKVxufVxuXG5mZXRjaC5wb255ZmlsbCA9IHRydWVcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmV0Y2hcbmV4cG9ydHMuZmV0Y2ggPSBmZXRjaFxuZXhwb3J0cy5IZWFkZXJzID0gbm9kZUZldGNoLkhlYWRlcnNcbmV4cG9ydHMuUmVxdWVzdCA9IG5vZGVGZXRjaC5SZXF1ZXN0XG5leHBvcnRzLlJlc3BvbnNlID0gbm9kZUZldGNoLlJlc3BvbnNlXG5cbi8vIE5lZWRlZCBmb3IgVHlwZVNjcmlwdCBjb25zdW1lcnMgd2l0aG91dCBlc01vZHVsZUludGVyb3AuXG5leHBvcnRzLmRlZmF1bHQgPSBmZXRjaFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/node_modules/cross-fetch/dist/node-ponyfill.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonRpcProvider: () => (/* binding */ o),\n/* harmony export */   \"default\": () => (/* binding */ o)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nclass o extends _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.IJsonRpcProvider{constructor(t){super(t),this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async request(t,e){return this.requestStrict((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.formatJsonRpcRequest)(t.method,t.params||[],t.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.getBigIntRpcId)().toString()),e)}async requestStrict(t,e){return new Promise(async(i,s)=>{if(!this.connection.connected)try{await this.open()}catch(n){s(n)}this.events.on(`${t.id}`,n=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.isJsonRpcError)(n)?s(n.error):i(n.result)});try{await this.connection.send(t,e)}catch(n){s(n)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit(\"payload\",t),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.isJsonRpcResponse)(t)?this.events.emit(`${t.id}`,t):this.events.emit(\"message\",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit(\"error\",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:\"\"}`)),this.events.emit(\"disconnect\")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t==\"string\"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit(\"connect\"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on(\"payload\",t=>this.onPayload(t)),this.connection.on(\"close\",t=>this.onClose(t)),this.connection.on(\"error\",t=>this.events.emit(\"error\",t)),this.connection.on(\"register_error\",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy1wcm92aWRlci9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQStMLGdCQUFnQiwwRUFBQyxDQUFDLGVBQWUseUJBQXlCLGdEQUFDLG9JQUFvSSxpQ0FBaUMsbUJBQW1CLG1CQUFtQixtQkFBbUIsUUFBUSxvQkFBb0IsVUFBVSxzQkFBc0IsU0FBUyxxQkFBcUIsb0JBQW9CLGdDQUFnQyxtQkFBbUIsMEJBQTBCLGtGQUFDLDZCQUE2Qiw0RUFBQyxrQkFBa0IseUJBQXlCLGdDQUFnQyxrQ0FBa0Msa0JBQWtCLFNBQVMsS0FBSyxrQkFBa0IsS0FBSyxNQUFNLDRFQUFDLDJCQUEyQixFQUFFLElBQUksZ0NBQWdDLFNBQVMsTUFBTSxFQUFFLGlDQUFpQyxTQUFTLGFBQWEsOEJBQThCLCtFQUFDLHdCQUF3QixLQUFLLGlDQUFpQyw0QkFBNEIsRUFBRSxXQUFXLHlHQUF5RyxRQUFRLEVBQUUsYUFBYSxTQUFTLE1BQU0sbUNBQW1DLDhCQUE4Qiw2UkFBNlIsY0FBYyw4QkFBOEIseUJBQXlCLDZSQUF1VTtBQUNyK0QiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy1wcm92aWRlci9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtFdmVudEVtaXR0ZXIgYXMgY31mcm9tXCJldmVudHNcIjtpbXBvcnR7SUpzb25ScGNQcm92aWRlciBhcyByLGZvcm1hdEpzb25ScGNSZXF1ZXN0IGFzIGgsZ2V0QmlnSW50UnBjSWQgYXMgYSxpc0pzb25ScGNFcnJvciBhcyBkLGlzSnNvblJwY1Jlc3BvbnNlIGFzIHZ9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlsc1wiO2NsYXNzIG8gZXh0ZW5kcyBye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZXZlbnRzPW5ldyBjLHRoaXMuaGFzUmVnaXN0ZXJlZEV2ZW50TGlzdGVuZXJzPSExLHRoaXMuY29ubmVjdGlvbj10aGlzLnNldENvbm5lY3Rpb24odCksdGhpcy5jb25uZWN0aW9uLmNvbm5lY3RlZCYmdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl9YXN5bmMgY29ubmVjdCh0PXRoaXMuY29ubmVjdGlvbil7YXdhaXQgdGhpcy5vcGVuKHQpfWFzeW5jIGRpc2Nvbm5lY3QoKXthd2FpdCB0aGlzLmNsb3NlKCl9b24odCxlKXt0aGlzLmV2ZW50cy5vbih0LGUpfW9uY2UodCxlKXt0aGlzLmV2ZW50cy5vbmNlKHQsZSl9b2ZmKHQsZSl7dGhpcy5ldmVudHMub2ZmKHQsZSl9cmVtb3ZlTGlzdGVuZXIodCxlKXt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcih0LGUpfWFzeW5jIHJlcXVlc3QodCxlKXtyZXR1cm4gdGhpcy5yZXF1ZXN0U3RyaWN0KGgodC5tZXRob2QsdC5wYXJhbXN8fFtdLHQuaWR8fGEoKS50b1N0cmluZygpKSxlKX1hc3luYyByZXF1ZXN0U3RyaWN0KHQsZSl7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKGkscyk9PntpZighdGhpcy5jb25uZWN0aW9uLmNvbm5lY3RlZCl0cnl7YXdhaXQgdGhpcy5vcGVuKCl9Y2F0Y2gobil7cyhuKX10aGlzLmV2ZW50cy5vbihgJHt0LmlkfWAsbj0+e2Qobik/cyhuLmVycm9yKTppKG4ucmVzdWx0KX0pO3RyeXthd2FpdCB0aGlzLmNvbm5lY3Rpb24uc2VuZCh0LGUpfWNhdGNoKG4pe3Mobil9fSl9c2V0Q29ubmVjdGlvbih0PXRoaXMuY29ubmVjdGlvbil7cmV0dXJuIHR9b25QYXlsb2FkKHQpe3RoaXMuZXZlbnRzLmVtaXQoXCJwYXlsb2FkXCIsdCksdih0KT90aGlzLmV2ZW50cy5lbWl0KGAke3QuaWR9YCx0KTp0aGlzLmV2ZW50cy5lbWl0KFwibWVzc2FnZVwiLHt0eXBlOnQubWV0aG9kLGRhdGE6dC5wYXJhbXN9KX1vbkNsb3NlKHQpe3QmJnQuY29kZT09PTNlMyYmdGhpcy5ldmVudHMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKGBXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQgYWJub3JtYWxseSB3aXRoIGNvZGU6ICR7dC5jb2RlfSAke3QucmVhc29uP2AoJHt0LnJlYXNvbn0pYDpcIlwifWApKSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzY29ubmVjdFwiKX1hc3luYyBvcGVuKHQ9dGhpcy5jb25uZWN0aW9uKXt0aGlzLmNvbm5lY3Rpb249PT10JiZ0aGlzLmNvbm5lY3Rpb24uY29ubmVjdGVkfHwodGhpcy5jb25uZWN0aW9uLmNvbm5lY3RlZCYmdGhpcy5jbG9zZSgpLHR5cGVvZiB0PT1cInN0cmluZ1wiJiYoYXdhaXQgdGhpcy5jb25uZWN0aW9uLm9wZW4odCksdD10aGlzLmNvbm5lY3Rpb24pLHRoaXMuY29ubmVjdGlvbj10aGlzLnNldENvbm5lY3Rpb24odCksYXdhaXQgdGhpcy5jb25uZWN0aW9uLm9wZW4oKSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLmV2ZW50cy5lbWl0KFwiY29ubmVjdFwiKSl9YXN5bmMgY2xvc2UoKXthd2FpdCB0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5oYXNSZWdpc3RlcmVkRXZlbnRMaXN0ZW5lcnN8fCh0aGlzLmNvbm5lY3Rpb24ub24oXCJwYXlsb2FkXCIsdD0+dGhpcy5vblBheWxvYWQodCkpLHRoaXMuY29ubmVjdGlvbi5vbihcImNsb3NlXCIsdD0+dGhpcy5vbkNsb3NlKHQpKSx0aGlzLmNvbm5lY3Rpb24ub24oXCJlcnJvclwiLHQ9PnRoaXMuZXZlbnRzLmVtaXQoXCJlcnJvclwiLHQpKSx0aGlzLmNvbm5lY3Rpb24ub24oXCJyZWdpc3Rlcl9lcnJvclwiLHQ9PnRoaXMub25DbG9zZSgpKSx0aGlzLmhhc1JlZ2lzdGVyZWRFdmVudExpc3RlbmVycz0hMCl9fWV4cG9ydHtvIGFzIEpzb25ScGNQcm92aWRlcixvIGFzIGRlZmF1bHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js":
/*!********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IBaseJsonRpcProvider: () => (/* binding */ n),\n/* harmony export */   IEvents: () => (/* binding */ e),\n/* harmony export */   IJsonRpcConnection: () => (/* binding */ o),\n/* harmony export */   IJsonRpcProvider: () => (/* binding */ r)\n/* harmony export */ });\nclass e{}class o extends e{constructor(c){super()}}class n extends e{constructor(){super()}}class r extends n{constructor(c){super()}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy10eXBlcy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxTQUFTLGtCQUFrQixlQUFlLFNBQVMsa0JBQWtCLGNBQWMsU0FBUyxrQkFBa0IsZUFBZSxTQUFzRztBQUNuTyIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXR5cGVzL2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgZXt9Y2xhc3MgbyBleHRlbmRzIGV7Y29uc3RydWN0b3IoYyl7c3VwZXIoKX19Y2xhc3MgbiBleHRlbmRzIGV7Y29uc3RydWN0b3IoKXtzdXBlcigpfX1jbGFzcyByIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihjKXtzdXBlcigpfX1leHBvcnR7biBhcyBJQmFzZUpzb25ScGNQcm92aWRlcixlIGFzIElFdmVudHMsbyBhcyBJSnNvblJwY0Nvbm5lY3Rpb24sciBhcyBJSnNvblJwY1Byb3ZpZGVyfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_ERROR: () => (/* binding */ DEFAULT_ERROR),\n/* harmony export */   INTERNAL_ERROR: () => (/* binding */ INTERNAL_ERROR),\n/* harmony export */   INVALID_PARAMS: () => (/* binding */ INVALID_PARAMS),\n/* harmony export */   INVALID_REQUEST: () => (/* binding */ INVALID_REQUEST),\n/* harmony export */   METHOD_NOT_FOUND: () => (/* binding */ METHOD_NOT_FOUND),\n/* harmony export */   PARSE_ERROR: () => (/* binding */ PARSE_ERROR),\n/* harmony export */   RESERVED_ERROR_CODES: () => (/* binding */ RESERVED_ERROR_CODES),\n/* harmony export */   SERVER_ERROR: () => (/* binding */ SERVER_ERROR),\n/* harmony export */   SERVER_ERROR_CODE_RANGE: () => (/* binding */ SERVER_ERROR_CODE_RANGE),\n/* harmony export */   STANDARD_ERROR_MAP: () => (/* binding */ STANDARD_ERROR_MAP)\n/* harmony export */ });\nconst PARSE_ERROR = \"PARSE_ERROR\";\nconst INVALID_REQUEST = \"INVALID_REQUEST\";\nconst METHOD_NOT_FOUND = \"METHOD_NOT_FOUND\";\nconst INVALID_PARAMS = \"INVALID_PARAMS\";\nconst INTERNAL_ERROR = \"INTERNAL_ERROR\";\nconst SERVER_ERROR = \"SERVER_ERROR\";\nconst RESERVED_ERROR_CODES = [-32700, -32600, -32601, -32602, -32603];\nconst SERVER_ERROR_CODE_RANGE = [-32000, -32099];\nconst STANDARD_ERROR_MAP = {\n    [PARSE_ERROR]: { code: -32700, message: \"Parse error\" },\n    [INVALID_REQUEST]: { code: -32600, message: \"Invalid Request\" },\n    [METHOD_NOT_FOUND]: { code: -32601, message: \"Method not found\" },\n    [INVALID_PARAMS]: { code: -32602, message: \"Invalid params\" },\n    [INTERNAL_ERROR]: { code: -32603, message: \"Internal error\" },\n    [SERVER_ERROR]: { code: -32000, message: \"Server error\" },\n};\nconst DEFAULT_ERROR = SERVER_ERROR;\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNQLHFCQUFxQixzQ0FBc0M7QUFDM0QseUJBQXlCLDBDQUEwQztBQUNuRSwwQkFBMEIsMkNBQTJDO0FBQ3JFLHdCQUF3Qix5Q0FBeUM7QUFDakUsd0JBQXdCLHlDQUF5QztBQUNqRSxzQkFBc0IsdUNBQXVDO0FBQzdEO0FBQ087QUFDUCIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzL2Rpc3QvZXNtL2NvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUEFSU0VfRVJST1IgPSBcIlBBUlNFX0VSUk9SXCI7XG5leHBvcnQgY29uc3QgSU5WQUxJRF9SRVFVRVNUID0gXCJJTlZBTElEX1JFUVVFU1RcIjtcbmV4cG9ydCBjb25zdCBNRVRIT0RfTk9UX0ZPVU5EID0gXCJNRVRIT0RfTk9UX0ZPVU5EXCI7XG5leHBvcnQgY29uc3QgSU5WQUxJRF9QQVJBTVMgPSBcIklOVkFMSURfUEFSQU1TXCI7XG5leHBvcnQgY29uc3QgSU5URVJOQUxfRVJST1IgPSBcIklOVEVSTkFMX0VSUk9SXCI7XG5leHBvcnQgY29uc3QgU0VSVkVSX0VSUk9SID0gXCJTRVJWRVJfRVJST1JcIjtcbmV4cG9ydCBjb25zdCBSRVNFUlZFRF9FUlJPUl9DT0RFUyA9IFstMzI3MDAsIC0zMjYwMCwgLTMyNjAxLCAtMzI2MDIsIC0zMjYwM107XG5leHBvcnQgY29uc3QgU0VSVkVSX0VSUk9SX0NPREVfUkFOR0UgPSBbLTMyMDAwLCAtMzIwOTldO1xuZXhwb3J0IGNvbnN0IFNUQU5EQVJEX0VSUk9SX01BUCA9IHtcbiAgICBbUEFSU0VfRVJST1JdOiB7IGNvZGU6IC0zMjcwMCwgbWVzc2FnZTogXCJQYXJzZSBlcnJvclwiIH0sXG4gICAgW0lOVkFMSURfUkVRVUVTVF06IHsgY29kZTogLTMyNjAwLCBtZXNzYWdlOiBcIkludmFsaWQgUmVxdWVzdFwiIH0sXG4gICAgW01FVEhPRF9OT1RfRk9VTkRdOiB7IGNvZGU6IC0zMjYwMSwgbWVzc2FnZTogXCJNZXRob2Qgbm90IGZvdW5kXCIgfSxcbiAgICBbSU5WQUxJRF9QQVJBTVNdOiB7IGNvZGU6IC0zMjYwMiwgbWVzc2FnZTogXCJJbnZhbGlkIHBhcmFtc1wiIH0sXG4gICAgW0lOVEVSTkFMX0VSUk9SXTogeyBjb2RlOiAtMzI2MDMsIG1lc3NhZ2U6IFwiSW50ZXJuYWwgZXJyb3JcIiB9LFxuICAgIFtTRVJWRVJfRVJST1JdOiB7IGNvZGU6IC0zMjAwMCwgbWVzc2FnZTogXCJTZXJ2ZXIgZXJyb3JcIiB9LFxufTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0VSUk9SID0gU0VSVkVSX0VSUk9SO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isNodeJs: () => (/* binding */ isNodeJs)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/environment */ \"(ssr)/./node_modules/@walletconnect/environment/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__) if([\"default\",\"isNodeJs\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\nconst isNodeJs = _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__.isNode;\n\n//# sourceMappingURL=env.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9lbnYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW9EO0FBQzdDLGlCQUFpQiw4REFBTTtBQUNhO0FBQzNDIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHMvZGlzdC9lc20vZW52LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTm9kZSB9IGZyb20gXCJAd2FsbGV0Y29ubmVjdC9lbnZpcm9ubWVudFwiO1xuZXhwb3J0IGNvbnN0IGlzTm9kZUpzID0gaXNOb2RlO1xuZXhwb3J0ICogZnJvbSBcIkB3YWxsZXRjb25uZWN0L2Vudmlyb25tZW50XCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnYuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getError: () => (/* binding */ getError),\n/* harmony export */   getErrorByCode: () => (/* binding */ getErrorByCode),\n/* harmony export */   isReservedErrorCode: () => (/* binding */ isReservedErrorCode),\n/* harmony export */   isServerErrorCode: () => (/* binding */ isServerErrorCode),\n/* harmony export */   isValidErrorCode: () => (/* binding */ isValidErrorCode),\n/* harmony export */   parseConnectionError: () => (/* binding */ parseConnectionError),\n/* harmony export */   validateJsonRpcError: () => (/* binding */ validateJsonRpcError)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\");\n\nfunction isServerErrorCode(code) {\n    return code <= _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR_CODE_RANGE[0] && code >= _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR_CODE_RANGE[1];\n}\nfunction isReservedErrorCode(code) {\n    return _constants__WEBPACK_IMPORTED_MODULE_0__.RESERVED_ERROR_CODES.includes(code);\n}\nfunction isValidErrorCode(code) {\n    return typeof code === \"number\";\n}\nfunction getError(type) {\n    if (!Object.keys(_constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP).includes(type)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[_constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR];\n    }\n    return _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[type];\n}\nfunction getErrorByCode(code) {\n    const match = Object.values(_constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP).find(e => e.code === code);\n    if (!match) {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[_constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR];\n    }\n    return match;\n}\nfunction validateJsonRpcError(response) {\n    if (typeof response.error.code === \"undefined\") {\n        return { valid: false, error: \"Missing code for JSON-RPC error\" };\n    }\n    if (typeof response.error.message === \"undefined\") {\n        return { valid: false, error: \"Missing message for JSON-RPC error\" };\n    }\n    if (!isValidErrorCode(response.error.code)) {\n        return {\n            valid: false,\n            error: `Invalid error code type for JSON-RPC: ${response.error.code}`,\n        };\n    }\n    if (isReservedErrorCode(response.error.code)) {\n        const error = getErrorByCode(response.error.code);\n        if (error.message !== _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[_constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR].message &&\n            response.error.message === error.message) {\n            return {\n                valid: false,\n                error: `Invalid error code message for JSON-RPC: ${response.error.code}`,\n            };\n        }\n    }\n    return { valid: true };\n}\nfunction parseConnectionError(e, url, type) {\n    return e.message.includes(\"getaddrinfo ENOTFOUND\") || e.message.includes(\"connect ECONNREFUSED\")\n        ? new Error(`Unavailable ${type} RPC url at ${url}`)\n        : e;\n}\n//# sourceMappingURL=error.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9lcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFnSDtBQUN6RztBQUNQLG1CQUFtQiwrREFBdUIsZUFBZSwrREFBdUI7QUFDaEY7QUFDTztBQUNQLFdBQVcsNERBQW9CO0FBQy9CO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCxxQkFBcUIsMERBQWtCO0FBQ3ZDLGVBQWUsMERBQWtCLENBQUMscURBQWE7QUFDL0M7QUFDQSxXQUFXLDBEQUFrQjtBQUM3QjtBQUNPO0FBQ1AsZ0NBQWdDLDBEQUFrQjtBQUNsRDtBQUNBLGVBQWUsMERBQWtCLENBQUMscURBQWE7QUFDL0M7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELG9CQUFvQjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwREFBa0IsQ0FBQyxxREFBYTtBQUM5RDtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsb0JBQW9CO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQSxtQ0FBbUMsTUFBTSxhQUFhLElBQUk7QUFDMUQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHMvZGlzdC9lc20vZXJyb3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU0VSVkVSX0VSUk9SX0NPREVfUkFOR0UsIFJFU0VSVkVEX0VSUk9SX0NPREVTLCBTVEFOREFSRF9FUlJPUl9NQVAsIERFRkFVTFRfRVJST1IsIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgZnVuY3Rpb24gaXNTZXJ2ZXJFcnJvckNvZGUoY29kZSkge1xuICAgIHJldHVybiBjb2RlIDw9IFNFUlZFUl9FUlJPUl9DT0RFX1JBTkdFWzBdICYmIGNvZGUgPj0gU0VSVkVSX0VSUk9SX0NPREVfUkFOR0VbMV07XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZXNlcnZlZEVycm9yQ29kZShjb2RlKSB7XG4gICAgcmV0dXJuIFJFU0VSVkVEX0VSUk9SX0NPREVTLmluY2x1ZGVzKGNvZGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRFcnJvckNvZGUoY29kZSkge1xuICAgIHJldHVybiB0eXBlb2YgY29kZSA9PT0gXCJudW1iZXJcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvcih0eXBlKSB7XG4gICAgaWYgKCFPYmplY3Qua2V5cyhTVEFOREFSRF9FUlJPUl9NQVApLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgIHJldHVybiBTVEFOREFSRF9FUlJPUl9NQVBbREVGQVVMVF9FUlJPUl07XG4gICAgfVxuICAgIHJldHVybiBTVEFOREFSRF9FUlJPUl9NQVBbdHlwZV07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RXJyb3JCeUNvZGUoY29kZSkge1xuICAgIGNvbnN0IG1hdGNoID0gT2JqZWN0LnZhbHVlcyhTVEFOREFSRF9FUlJPUl9NQVApLmZpbmQoZSA9PiBlLmNvZGUgPT09IGNvZGUpO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIFNUQU5EQVJEX0VSUk9SX01BUFtERUZBVUxUX0VSUk9SXTtcbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSnNvblJwY0Vycm9yKHJlc3BvbnNlKSB7XG4gICAgaWYgKHR5cGVvZiByZXNwb25zZS5lcnJvci5jb2RlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6IFwiTWlzc2luZyBjb2RlIGZvciBKU09OLVJQQyBlcnJvclwiIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzcG9uc2UuZXJyb3IubWVzc2FnZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yOiBcIk1pc3NpbmcgbWVzc2FnZSBmb3IgSlNPTi1SUEMgZXJyb3JcIiB9O1xuICAgIH1cbiAgICBpZiAoIWlzVmFsaWRFcnJvckNvZGUocmVzcG9uc2UuZXJyb3IuY29kZSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBgSW52YWxpZCBlcnJvciBjb2RlIHR5cGUgZm9yIEpTT04tUlBDOiAke3Jlc3BvbnNlLmVycm9yLmNvZGV9YCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlzUmVzZXJ2ZWRFcnJvckNvZGUocmVzcG9uc2UuZXJyb3IuY29kZSkpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBnZXRFcnJvckJ5Q29kZShyZXNwb25zZS5lcnJvci5jb2RlKTtcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgIT09IFNUQU5EQVJEX0VSUk9SX01BUFtERUZBVUxUX0VSUk9SXS5tZXNzYWdlICYmXG4gICAgICAgICAgICByZXNwb25zZS5lcnJvci5tZXNzYWdlID09PSBlcnJvci5tZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogYEludmFsaWQgZXJyb3IgY29kZSBtZXNzYWdlIGZvciBKU09OLVJQQzogJHtyZXNwb25zZS5lcnJvci5jb2RlfWAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlIH07XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDb25uZWN0aW9uRXJyb3IoZSwgdXJsLCB0eXBlKSB7XG4gICAgcmV0dXJuIGUubWVzc2FnZS5pbmNsdWRlcyhcImdldGFkZHJpbmZvIEVOT1RGT1VORFwiKSB8fCBlLm1lc3NhZ2UuaW5jbHVkZXMoXCJjb25uZWN0IEVDT05OUkVGVVNFRFwiKVxuICAgICAgICA/IG5ldyBFcnJvcihgVW5hdmFpbGFibGUgJHt0eXBlfSBSUEMgdXJsIGF0ICR7dXJsfWApXG4gICAgICAgIDogZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatErrorMessage: () => (/* binding */ formatErrorMessage),\n/* harmony export */   formatJsonRpcError: () => (/* binding */ formatJsonRpcError),\n/* harmony export */   formatJsonRpcRequest: () => (/* binding */ formatJsonRpcRequest),\n/* harmony export */   formatJsonRpcResult: () => (/* binding */ formatJsonRpcResult),\n/* harmony export */   getBigIntRpcId: () => (/* binding */ getBigIntRpcId),\n/* harmony export */   payloadId: () => (/* binding */ payloadId)\n/* harmony export */ });\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\");\n\n\nfunction payloadId(entropy = 3) {\n    const date = Date.now() * Math.pow(10, entropy);\n    const extra = Math.floor(Math.random() * Math.pow(10, entropy));\n    return date + extra;\n}\nfunction getBigIntRpcId(entropy = 6) {\n    return BigInt(payloadId(entropy));\n}\nfunction formatJsonRpcRequest(method, params, id) {\n    return {\n        id: id || payloadId(),\n        jsonrpc: \"2.0\",\n        method,\n        params,\n    };\n}\nfunction formatJsonRpcResult(id, result) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        result,\n    };\n}\nfunction formatJsonRpcError(id, error, data) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        error: formatErrorMessage(error, data),\n    };\n}\nfunction formatErrorMessage(error, data) {\n    if (typeof error === \"undefined\") {\n        return (0,_error__WEBPACK_IMPORTED_MODULE_0__.getError)(_constants__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_ERROR);\n    }\n    if (typeof error === \"string\") {\n        error = Object.assign(Object.assign({}, (0,_error__WEBPACK_IMPORTED_MODULE_0__.getError)(_constants__WEBPACK_IMPORTED_MODULE_1__.SERVER_ERROR)), { message: error });\n    }\n    if (typeof data !== \"undefined\") {\n        error.data = data;\n    }\n    if ((0,_error__WEBPACK_IMPORTED_MODULE_0__.isReservedErrorCode)(error.code)) {\n        error = (0,_error__WEBPACK_IMPORTED_MODULE_0__.getErrorByCode)(error.code);\n    }\n    return error;\n}\n//# sourceMappingURL=format.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9mb3JtYXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBd0U7QUFDYjtBQUNwRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsZUFBZSxnREFBUSxDQUFDLHNEQUFjO0FBQ3RDO0FBQ0E7QUFDQSw4Q0FBOEMsRUFBRSxnREFBUSxDQUFDLG9EQUFZLE1BQU0sZ0JBQWdCO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyREFBbUI7QUFDM0IsZ0JBQWdCLHNEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHMvZGlzdC9lc20vZm9ybWF0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEVycm9yLCBnZXRFcnJvckJ5Q29kZSwgaXNSZXNlcnZlZEVycm9yQ29kZSB9IGZyb20gXCIuL2Vycm9yXCI7XG5pbXBvcnQgeyBJTlRFUk5BTF9FUlJPUiwgU0VSVkVSX0VSUk9SIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGF5bG9hZElkKGVudHJvcHkgPSAzKSB7XG4gICAgY29uc3QgZGF0ZSA9IERhdGUubm93KCkgKiBNYXRoLnBvdygxMCwgZW50cm9weSk7XG4gICAgY29uc3QgZXh0cmEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLnBvdygxMCwgZW50cm9weSkpO1xuICAgIHJldHVybiBkYXRlICsgZXh0cmE7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QmlnSW50UnBjSWQoZW50cm9weSA9IDYpIHtcbiAgICByZXR1cm4gQmlnSW50KHBheWxvYWRJZChlbnRyb3B5KSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0SnNvblJwY1JlcXVlc3QobWV0aG9kLCBwYXJhbXMsIGlkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGlkIHx8IHBheWxvYWRJZCgpLFxuICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICBtZXRob2QsXG4gICAgICAgIHBhcmFtcyxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEpzb25ScGNSZXN1bHQoaWQsIHJlc3VsdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICByZXN1bHQsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRKc29uUnBjRXJyb3IoaWQsIGVycm9yLCBkYXRhKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQsXG4gICAgICAgIGpzb25ycGM6IFwiMi4wXCIsXG4gICAgICAgIGVycm9yOiBmb3JtYXRFcnJvck1lc3NhZ2UoZXJyb3IsIGRhdGEpLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RXJyb3JNZXNzYWdlKGVycm9yLCBkYXRhKSB7XG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gZ2V0RXJyb3IoSU5URVJOQUxfRVJST1IpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGVycm9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGVycm9yID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBnZXRFcnJvcihTRVJWRVJfRVJST1IpKSwgeyBtZXNzYWdlOiBlcnJvciB9KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGVycm9yLmRhdGEgPSBkYXRhO1xuICAgIH1cbiAgICBpZiAoaXNSZXNlcnZlZEVycm9yQ29kZShlcnJvci5jb2RlKSkge1xuICAgICAgICBlcnJvciA9IGdldEVycm9yQnlDb2RlKGVycm9yLmNvZGUpO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3JtYXQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR),\n/* harmony export */   IBaseJsonRpcProvider: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IBaseJsonRpcProvider),\n/* harmony export */   IEvents: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IEvents),\n/* harmony export */   IJsonRpcConnection: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IJsonRpcConnection),\n/* harmony export */   IJsonRpcProvider: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IJsonRpcProvider),\n/* harmony export */   INTERNAL_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_ERROR),\n/* harmony export */   INVALID_PARAMS: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.INVALID_PARAMS),\n/* harmony export */   INVALID_REQUEST: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.INVALID_REQUEST),\n/* harmony export */   METHOD_NOT_FOUND: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.METHOD_NOT_FOUND),\n/* harmony export */   PARSE_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.PARSE_ERROR),\n/* harmony export */   RESERVED_ERROR_CODES: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.RESERVED_ERROR_CODES),\n/* harmony export */   SERVER_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR),\n/* harmony export */   SERVER_ERROR_CODE_RANGE: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR_CODE_RANGE),\n/* harmony export */   STANDARD_ERROR_MAP: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP),\n/* harmony export */   formatErrorMessage: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatErrorMessage),\n/* harmony export */   formatJsonRpcError: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError),\n/* harmony export */   formatJsonRpcRequest: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest),\n/* harmony export */   formatJsonRpcResult: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult),\n/* harmony export */   getBigIntRpcId: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId),\n/* harmony export */   getError: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.getError),\n/* harmony export */   getErrorByCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.getErrorByCode),\n/* harmony export */   isHttpUrl: () => (/* reexport safe */ _url__WEBPACK_IMPORTED_MODULE_6__.isHttpUrl),\n/* harmony export */   isJsonRpcError: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcError),\n/* harmony export */   isJsonRpcPayload: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcPayload),\n/* harmony export */   isJsonRpcRequest: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcRequest),\n/* harmony export */   isJsonRpcResponse: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcResponse),\n/* harmony export */   isJsonRpcResult: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcResult),\n/* harmony export */   isJsonRpcValidationInvalid: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcValidationInvalid),\n/* harmony export */   isLocalhostUrl: () => (/* reexport safe */ _url__WEBPACK_IMPORTED_MODULE_6__.isLocalhostUrl),\n/* harmony export */   isReservedErrorCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.isReservedErrorCode),\n/* harmony export */   isServerErrorCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.isServerErrorCode),\n/* harmony export */   isValidDefaultRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidDefaultRoute),\n/* harmony export */   isValidErrorCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.isValidErrorCode),\n/* harmony export */   isValidLeadingWildcardRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidLeadingWildcardRoute),\n/* harmony export */   isValidRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidRoute),\n/* harmony export */   isValidTrailingWildcardRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidTrailingWildcardRoute),\n/* harmony export */   isValidWildcardRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidWildcardRoute),\n/* harmony export */   isWsUrl: () => (/* reexport safe */ _url__WEBPACK_IMPORTED_MODULE_6__.isWsUrl),\n/* harmony export */   parseConnectionError: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.parseConnectionError),\n/* harmony export */   payloadId: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.payloadId),\n/* harmony export */   validateJsonRpcError: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.validateJsonRpcError)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js\");\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./env */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _env__WEBPACK_IMPORTED_MODULE_2__) if([\"default\",\"DEFAULT_ERROR\",\"INTERNAL_ERROR\",\"INVALID_PARAMS\",\"INVALID_REQUEST\",\"METHOD_NOT_FOUND\",\"PARSE_ERROR\",\"RESERVED_ERROR_CODES\",\"SERVER_ERROR\",\"SERVER_ERROR_CODE_RANGE\",\"STANDARD_ERROR_MAP\",\"getError\",\"getErrorByCode\",\"isReservedErrorCode\",\"isServerErrorCode\",\"isValidErrorCode\",\"parseConnectionError\",\"validateJsonRpcError\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _env__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _format__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./format */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js\");\n/* harmony import */ var _routing__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./routing */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js\");\n/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./url */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js\");\n/* harmony import */ var _validators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./validators */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js\");\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTRCO0FBQ0o7QUFDRjtBQUNHO0FBQ0M7QUFDRjtBQUNGO0FBQ087QUFDN0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2Vycm9yXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9lbnZcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2Zvcm1hdFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vcm91dGluZ1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdHlwZXNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3VybFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdmFsaWRhdG9yc1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isValidDefaultRoute: () => (/* binding */ isValidDefaultRoute),\n/* harmony export */   isValidLeadingWildcardRoute: () => (/* binding */ isValidLeadingWildcardRoute),\n/* harmony export */   isValidRoute: () => (/* binding */ isValidRoute),\n/* harmony export */   isValidTrailingWildcardRoute: () => (/* binding */ isValidTrailingWildcardRoute),\n/* harmony export */   isValidWildcardRoute: () => (/* binding */ isValidWildcardRoute)\n/* harmony export */ });\nfunction isValidRoute(route) {\n    if (route.includes(\"*\")) {\n        return isValidWildcardRoute(route);\n    }\n    if (/\\W/g.test(route)) {\n        return false;\n    }\n    return true;\n}\nfunction isValidDefaultRoute(route) {\n    return route === \"*\";\n}\nfunction isValidWildcardRoute(route) {\n    if (isValidDefaultRoute(route)) {\n        return true;\n    }\n    if (!route.includes(\"*\")) {\n        return false;\n    }\n    if (route.split(\"*\").length !== 2) {\n        return false;\n    }\n    if (route.split(\"*\").filter(x => x.trim() === \"\").length !== 1) {\n        return false;\n    }\n    return true;\n}\nfunction isValidLeadingWildcardRoute(route) {\n    return !isValidDefaultRoute(route) && isValidWildcardRoute(route) && !route.split(\"*\")[0].trim();\n}\nfunction isValidTrailingWildcardRoute(route) {\n    return !isValidDefaultRoute(route) && isValidWildcardRoute(route) && !route.split(\"*\")[1].trim();\n}\n//# sourceMappingURL=routing.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9yb3V0aW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9yb3V0aW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkUm91dGUocm91dGUpIHtcbiAgICBpZiAocm91dGUuaW5jbHVkZXMoXCIqXCIpKSB7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkV2lsZGNhcmRSb3V0ZShyb3V0ZSk7XG4gICAgfVxuICAgIGlmICgvXFxXL2cudGVzdChyb3V0ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRGVmYXVsdFJvdXRlKHJvdXRlKSB7XG4gICAgcmV0dXJuIHJvdXRlID09PSBcIipcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkV2lsZGNhcmRSb3V0ZShyb3V0ZSkge1xuICAgIGlmIChpc1ZhbGlkRGVmYXVsdFJvdXRlKHJvdXRlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFyb3V0ZS5pbmNsdWRlcyhcIipcIikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAocm91dGUuc3BsaXQoXCIqXCIpLmxlbmd0aCAhPT0gMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5zcGxpdChcIipcIikuZmlsdGVyKHggPT4geC50cmltKCkgPT09IFwiXCIpLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRMZWFkaW5nV2lsZGNhcmRSb3V0ZShyb3V0ZSkge1xuICAgIHJldHVybiAhaXNWYWxpZERlZmF1bHRSb3V0ZShyb3V0ZSkgJiYgaXNWYWxpZFdpbGRjYXJkUm91dGUocm91dGUpICYmICFyb3V0ZS5zcGxpdChcIipcIilbMF0udHJpbSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRUcmFpbGluZ1dpbGRjYXJkUm91dGUocm91dGUpIHtcbiAgICByZXR1cm4gIWlzVmFsaWREZWZhdWx0Um91dGUocm91dGUpICYmIGlzVmFsaWRXaWxkY2FyZFJvdXRlKHJvdXRlKSAmJiAhcm91dGUuc3BsaXQoXCIqXCIpWzFdLnRyaW0oKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdXRpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IBaseJsonRpcProvider: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IBaseJsonRpcProvider),\n/* harmony export */   IEvents: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IEvents),\n/* harmony export */   IJsonRpcConnection: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IJsonRpcConnection),\n/* harmony export */   IJsonRpcProvider: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IJsonRpcProvider)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/jsonrpc-types */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js\");\n\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE2QztBQUM3QyIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzL2Rpc3QvZXNtL3R5cGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXR5cGVzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isHttpUrl: () => (/* binding */ isHttpUrl),\n/* harmony export */   isLocalhostUrl: () => (/* binding */ isLocalhostUrl),\n/* harmony export */   isWsUrl: () => (/* binding */ isWsUrl)\n/* harmony export */ });\nconst HTTP_REGEX = \"^https?:\";\nconst WS_REGEX = \"^wss?:\";\nfunction getUrlProtocol(url) {\n    const matches = url.match(new RegExp(/^\\w+:/, \"gi\"));\n    if (!matches || !matches.length)\n        return;\n    return matches[0];\n}\nfunction matchRegexProtocol(url, regex) {\n    const protocol = getUrlProtocol(url);\n    if (typeof protocol === \"undefined\")\n        return false;\n    return new RegExp(regex).test(protocol);\n}\nfunction isHttpUrl(url) {\n    return matchRegexProtocol(url, HTTP_REGEX);\n}\nfunction isWsUrl(url) {\n    return matchRegexProtocol(url, WS_REGEX);\n}\nfunction isLocalhostUrl(url) {\n    return new RegExp(\"wss?://localhost(:d{2,5})?\").test(url);\n}\n//# sourceMappingURL=url.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS91cmwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1AsMkNBQTJDLElBQUk7QUFDL0M7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzL2Rpc3QvZXNtL3VybC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBIVFRQX1JFR0VYID0gXCJeaHR0cHM/OlwiO1xuY29uc3QgV1NfUkVHRVggPSBcIl53c3M/OlwiO1xuZnVuY3Rpb24gZ2V0VXJsUHJvdG9jb2wodXJsKSB7XG4gICAgY29uc3QgbWF0Y2hlcyA9IHVybC5tYXRjaChuZXcgUmVnRXhwKC9eXFx3KzovLCBcImdpXCIpKTtcbiAgICBpZiAoIW1hdGNoZXMgfHwgIW1hdGNoZXMubGVuZ3RoKVxuICAgICAgICByZXR1cm47XG4gICAgcmV0dXJuIG1hdGNoZXNbMF07XG59XG5mdW5jdGlvbiBtYXRjaFJlZ2V4UHJvdG9jb2wodXJsLCByZWdleCkge1xuICAgIGNvbnN0IHByb3RvY29sID0gZ2V0VXJsUHJvdG9jb2wodXJsKTtcbiAgICBpZiAodHlwZW9mIHByb3RvY29sID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAocmVnZXgpLnRlc3QocHJvdG9jb2wpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSHR0cFVybCh1cmwpIHtcbiAgICByZXR1cm4gbWF0Y2hSZWdleFByb3RvY29sKHVybCwgSFRUUF9SRUdFWCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNXc1VybCh1cmwpIHtcbiAgICByZXR1cm4gbWF0Y2hSZWdleFByb3RvY29sKHVybCwgV1NfUkVHRVgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9jYWxob3N0VXJsKHVybCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKFwid3NzPzovL2xvY2FsaG9zdCg6ZHsyLDV9KT9cIikudGVzdCh1cmwpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isJsonRpcError: () => (/* binding */ isJsonRpcError),\n/* harmony export */   isJsonRpcPayload: () => (/* binding */ isJsonRpcPayload),\n/* harmony export */   isJsonRpcRequest: () => (/* binding */ isJsonRpcRequest),\n/* harmony export */   isJsonRpcResponse: () => (/* binding */ isJsonRpcResponse),\n/* harmony export */   isJsonRpcResult: () => (/* binding */ isJsonRpcResult),\n/* harmony export */   isJsonRpcValidationInvalid: () => (/* binding */ isJsonRpcValidationInvalid)\n/* harmony export */ });\nfunction isJsonRpcPayload(payload) {\n    return (typeof payload === \"object\" &&\n        \"id\" in payload &&\n        \"jsonrpc\" in payload &&\n        payload.jsonrpc === \"2.0\");\n}\nfunction isJsonRpcRequest(payload) {\n    return isJsonRpcPayload(payload) && \"method\" in payload;\n}\nfunction isJsonRpcResponse(payload) {\n    return isJsonRpcPayload(payload) && (isJsonRpcResult(payload) || isJsonRpcError(payload));\n}\nfunction isJsonRpcResult(payload) {\n    return \"result\" in payload;\n}\nfunction isJsonRpcError(payload) {\n    return \"error\" in payload;\n}\nfunction isJsonRpcValidationInvalid(validation) {\n    return \"error\" in validation && validation.valid === false;\n}\n//# sourceMappingURL=validators.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS92YWxpZGF0b3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHMvZGlzdC9lc20vdmFsaWRhdG9ycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNKc29uUnBjUGF5bG9hZChwYXlsb2FkKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBcImlkXCIgaW4gcGF5bG9hZCAmJlxuICAgICAgICBcImpzb25ycGNcIiBpbiBwYXlsb2FkICYmXG4gICAgICAgIHBheWxvYWQuanNvbnJwYyA9PT0gXCIyLjBcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNKc29uUnBjUmVxdWVzdChwYXlsb2FkKSB7XG4gICAgcmV0dXJuIGlzSnNvblJwY1BheWxvYWQocGF5bG9hZCkgJiYgXCJtZXRob2RcIiBpbiBwYXlsb2FkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSnNvblJwY1Jlc3BvbnNlKHBheWxvYWQpIHtcbiAgICByZXR1cm4gaXNKc29uUnBjUGF5bG9hZChwYXlsb2FkKSAmJiAoaXNKc29uUnBjUmVzdWx0KHBheWxvYWQpIHx8IGlzSnNvblJwY0Vycm9yKHBheWxvYWQpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0pzb25ScGNSZXN1bHQocGF5bG9hZCkge1xuICAgIHJldHVybiBcInJlc3VsdFwiIGluIHBheWxvYWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNKc29uUnBjRXJyb3IocGF5bG9hZCkge1xuICAgIHJldHVybiBcImVycm9yXCIgaW4gcGF5bG9hZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0pzb25ScGNWYWxpZGF0aW9uSW52YWxpZCh2YWxpZGF0aW9uKSB7XG4gICAgcmV0dXJuIFwiZXJyb3JcIiBpbiB2YWxpZGF0aW9uICYmIHZhbGlkYXRpb24udmFsaWQgPT09IGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdG9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WsConnection: () => (/* binding */ f),\n/* harmony export */   \"default\": () => (/* binding */ f)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst v=()=>typeof WebSocket<\"u\"?WebSocket:typeof global<\"u\"&&typeof global.WebSocket<\"u\"?global.WebSocket:typeof window<\"u\"&&typeof window.WebSocket<\"u\"?window.WebSocket:typeof self<\"u\"&&typeof self.WebSocket<\"u\"?self.WebSocket:__webpack_require__(/*! ws */ \"(ssr)/./node_modules/ws/index.js\"),w=()=>typeof WebSocket<\"u\"||typeof global<\"u\"&&typeof global.WebSocket<\"u\"||typeof window<\"u\"&&typeof window.WebSocket<\"u\"||typeof self<\"u\"&&typeof self.WebSocket<\"u\",d=r=>r.split(\"?\")[0],h=10,b=v();class f{constructor(e){if(this.url=e,this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.registering=!1,!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<\"u\"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>\"u\"){t(new Error(\"Connection already closed\"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>\"u\"&&(this.socket=await this.register());try{this.socket.send((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount(\"register_error\")>=t||this.events.listenerCount(\"open\")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,s)=>{this.events.once(\"register_error\",o=>{this.resetMaxListeners(),s(o)}),this.events.once(\"open\",()=>{if(this.resetMaxListeners(),typeof this.socket>\"u\")return s(new Error(\"WebSocket connection is missing or invalid\"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{const s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isReactNative)()?void 0:{rejectUnauthorized:!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isLocalhostUrl)(e)},o=new b(e,[],s);w()?o.onerror=i=>{const a=i;n(this.emitError(a.error))}:o.on(\"error\",i=>{n(this.emitError(i))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit(\"open\")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit(\"close\",e)}onPayload(e){if(typeof e.data>\"u\")return;const t=typeof e.data==\"string\"?(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonParse)(e.data):e.data;this.events.emit(\"payload\",t)}onError(e,t){const n=this.parseError(t),s=n.message||n.toString(),o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.formatJsonRpcError)(e,s);this.events.emit(\"payload\",o)}parseError(e,t=this.url){return (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.parseConnectionError)(e,d(t),\"WS\")}resetMaxListeners(){this.events.getMaxListeners()>h&&this.events.setMaxListeners(h)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${d(this.url)}`));return this.events.emit(\"register_error\",t),t}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNRLHFPQUFxTyxtQkFBTyxDQUFDLDRDQUFJLHlNQUF5TSxRQUFRLGVBQWUsOEJBQThCLGdEQUFDLHNCQUFzQixxRUFBQyxpRkFBaUYsRUFBRSxHQUFHLFdBQVcsZ0JBQWdCLDhCQUE4QixpQkFBaUIsd0JBQXdCLFFBQVEsb0JBQW9CLFVBQVUsc0JBQXNCLFNBQVMscUJBQXFCLG9CQUFvQixnQ0FBZ0MsdUJBQXVCLHVCQUF1QixjQUFjLDJCQUEyQiwyQkFBMkIsMENBQTBDLE9BQU8sd0JBQXdCLG9CQUFvQixxQkFBcUIsRUFBRSxjQUFjLDREQUE0RCxJQUFJLGlCQUFpQiwyRUFBQyxLQUFLLFNBQVMsc0JBQXNCLHFCQUFxQixJQUFJLHFFQUFDLGlGQUFpRixFQUFFLEdBQUcscUJBQXFCLHNDQUFzQyxtSkFBbUosc0NBQXNDLDhCQUE4QiwrQkFBK0IscUhBQXFILGVBQWUsRUFBRSxFQUFFLDBEQUEwRCxRQUFRLDJFQUFDLFdBQVcsb0JBQW9CLDRFQUFDLElBQUksaUJBQWlCLGtCQUFrQixVQUFVLDJCQUEyQixrQkFBa0IscUJBQXFCLGdCQUFnQixxQkFBcUIsRUFBRSxVQUFVLHlIQUF5SCxXQUFXLG1FQUFtRSxhQUFhLDRCQUE0QixnQ0FBZ0MsdUVBQUMsZ0JBQWdCLDhCQUE4QixhQUFhLHVEQUF1RCxnRkFBQyxNQUFNLDhCQUE4Qix5QkFBeUIsT0FBTyxrRkFBQyxjQUFjLG9CQUFvQixnRUFBZ0UsYUFBYSx1RkFBdUYsWUFBWSxJQUFJLCtDQUFzRjtBQUNsK0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0V2ZW50RW1pdHRlciBhcyBsfWZyb21cImV2ZW50c1wiO2ltcG9ydHtzYWZlSnNvblN0cmluZ2lmeSBhcyB1LHNhZmVKc29uUGFyc2UgYXMgcH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9zYWZlLWpzb25cIjtpbXBvcnR7aXNXc1VybCBhcyBjLGlzUmVhY3ROYXRpdmUgYXMgZyxpc0xvY2FsaG9zdFVybCBhcyB5LGZvcm1hdEpzb25ScGNFcnJvciBhcyBrLHBhcnNlQ29ubmVjdGlvbkVycm9yIGFzIG19ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlsc1wiO2NvbnN0IHY9KCk9PnR5cGVvZiBXZWJTb2NrZXQ8XCJ1XCI/V2ViU29ja2V0OnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZiBnbG9iYWwuV2ViU29ja2V0PFwidVwiP2dsb2JhbC5XZWJTb2NrZXQ6dHlwZW9mIHdpbmRvdzxcInVcIiYmdHlwZW9mIHdpbmRvdy5XZWJTb2NrZXQ8XCJ1XCI/d2luZG93LldlYlNvY2tldDp0eXBlb2Ygc2VsZjxcInVcIiYmdHlwZW9mIHNlbGYuV2ViU29ja2V0PFwidVwiP3NlbGYuV2ViU29ja2V0OnJlcXVpcmUoXCJ3c1wiKSx3PSgpPT50eXBlb2YgV2ViU29ja2V0PFwidVwifHx0eXBlb2YgZ2xvYmFsPFwidVwiJiZ0eXBlb2YgZ2xvYmFsLldlYlNvY2tldDxcInVcInx8dHlwZW9mIHdpbmRvdzxcInVcIiYmdHlwZW9mIHdpbmRvdy5XZWJTb2NrZXQ8XCJ1XCJ8fHR5cGVvZiBzZWxmPFwidVwiJiZ0eXBlb2Ygc2VsZi5XZWJTb2NrZXQ8XCJ1XCIsZD1yPT5yLnNwbGl0KFwiP1wiKVswXSxoPTEwLGI9digpO2NsYXNzIGZ7Y29uc3RydWN0b3IoZSl7aWYodGhpcy51cmw9ZSx0aGlzLmV2ZW50cz1uZXcgbCx0aGlzLnJlZ2lzdGVyaW5nPSExLCFjKGUpKXRocm93IG5ldyBFcnJvcihgUHJvdmlkZWQgVVJMIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggV2ViU29ja2V0IGNvbm5lY3Rpb246ICR7ZX1gKTt0aGlzLnVybD1lfWdldCBjb25uZWN0ZWQoKXtyZXR1cm4gdHlwZW9mIHRoaXMuc29ja2V0PFwidVwifWdldCBjb25uZWN0aW5nKCl7cmV0dXJuIHRoaXMucmVnaXN0ZXJpbmd9b24oZSx0KXt0aGlzLmV2ZW50cy5vbihlLHQpfW9uY2UoZSx0KXt0aGlzLmV2ZW50cy5vbmNlKGUsdCl9b2ZmKGUsdCl7dGhpcy5ldmVudHMub2ZmKGUsdCl9cmVtb3ZlTGlzdGVuZXIoZSx0KXt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihlLHQpfWFzeW5jIG9wZW4oZT10aGlzLnVybCl7YXdhaXQgdGhpcy5yZWdpc3RlcihlKX1hc3luYyBjbG9zZSgpe3JldHVybiBuZXcgUHJvbWlzZSgoZSx0KT0+e2lmKHR5cGVvZiB0aGlzLnNvY2tldD5cInVcIil7dChuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGFscmVhZHkgY2xvc2VkXCIpKTtyZXR1cm59dGhpcy5zb2NrZXQub25jbG9zZT1uPT57dGhpcy5vbkNsb3NlKG4pLGUoKX0sdGhpcy5zb2NrZXQuY2xvc2UoKX0pfWFzeW5jIHNlbmQoZSl7dHlwZW9mIHRoaXMuc29ja2V0PlwidVwiJiYodGhpcy5zb2NrZXQ9YXdhaXQgdGhpcy5yZWdpc3RlcigpKTt0cnl7dGhpcy5zb2NrZXQuc2VuZCh1KGUpKX1jYXRjaCh0KXt0aGlzLm9uRXJyb3IoZS5pZCx0KX19cmVnaXN0ZXIoZT10aGlzLnVybCl7aWYoIWMoZSkpdGhyb3cgbmV3IEVycm9yKGBQcm92aWRlZCBVUkwgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBXZWJTb2NrZXQgY29ubmVjdGlvbjogJHtlfWApO2lmKHRoaXMucmVnaXN0ZXJpbmcpe2NvbnN0IHQ9dGhpcy5ldmVudHMuZ2V0TWF4TGlzdGVuZXJzKCk7cmV0dXJuKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoXCJyZWdpc3Rlcl9lcnJvclwiKT49dHx8dGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChcIm9wZW5cIik+PXQpJiZ0aGlzLmV2ZW50cy5zZXRNYXhMaXN0ZW5lcnModCsxKSxuZXcgUHJvbWlzZSgobixzKT0+e3RoaXMuZXZlbnRzLm9uY2UoXCJyZWdpc3Rlcl9lcnJvclwiLG89Pnt0aGlzLnJlc2V0TWF4TGlzdGVuZXJzKCkscyhvKX0pLHRoaXMuZXZlbnRzLm9uY2UoXCJvcGVuXCIsKCk9PntpZih0aGlzLnJlc2V0TWF4TGlzdGVuZXJzKCksdHlwZW9mIHRoaXMuc29ja2V0PlwidVwiKXJldHVybiBzKG5ldyBFcnJvcihcIldlYlNvY2tldCBjb25uZWN0aW9uIGlzIG1pc3Npbmcgb3IgaW52YWxpZFwiKSk7bih0aGlzLnNvY2tldCl9KX0pfXJldHVybiB0aGlzLnVybD1lLHRoaXMucmVnaXN0ZXJpbmc9ITAsbmV3IFByb21pc2UoKHQsbik9Pntjb25zdCBzPWcoKT92b2lkIDA6e3JlamVjdFVuYXV0aG9yaXplZDoheShlKX0sbz1uZXcgYihlLFtdLHMpO3coKT9vLm9uZXJyb3I9aT0+e2NvbnN0IGE9aTtuKHRoaXMuZW1pdEVycm9yKGEuZXJyb3IpKX06by5vbihcImVycm9yXCIsaT0+e24odGhpcy5lbWl0RXJyb3IoaSkpfSksby5vbm9wZW49KCk9Pnt0aGlzLm9uT3BlbihvKSx0KG8pfX0pfW9uT3BlbihlKXtlLm9ubWVzc2FnZT10PT50aGlzLm9uUGF5bG9hZCh0KSxlLm9uY2xvc2U9dD0+dGhpcy5vbkNsb3NlKHQpLHRoaXMuc29ja2V0PWUsdGhpcy5yZWdpc3RlcmluZz0hMSx0aGlzLmV2ZW50cy5lbWl0KFwib3BlblwiKX1vbkNsb3NlKGUpe3RoaXMuc29ja2V0PXZvaWQgMCx0aGlzLnJlZ2lzdGVyaW5nPSExLHRoaXMuZXZlbnRzLmVtaXQoXCJjbG9zZVwiLGUpfW9uUGF5bG9hZChlKXtpZih0eXBlb2YgZS5kYXRhPlwidVwiKXJldHVybjtjb25zdCB0PXR5cGVvZiBlLmRhdGE9PVwic3RyaW5nXCI/cChlLmRhdGEpOmUuZGF0YTt0aGlzLmV2ZW50cy5lbWl0KFwicGF5bG9hZFwiLHQpfW9uRXJyb3IoZSx0KXtjb25zdCBuPXRoaXMucGFyc2VFcnJvcih0KSxzPW4ubWVzc2FnZXx8bi50b1N0cmluZygpLG89ayhlLHMpO3RoaXMuZXZlbnRzLmVtaXQoXCJwYXlsb2FkXCIsbyl9cGFyc2VFcnJvcihlLHQ9dGhpcy51cmwpe3JldHVybiBtKGUsZCh0KSxcIldTXCIpfXJlc2V0TWF4TGlzdGVuZXJzKCl7dGhpcy5ldmVudHMuZ2V0TWF4TGlzdGVuZXJzKCk+aCYmdGhpcy5ldmVudHMuc2V0TWF4TGlzdGVuZXJzKGgpfWVtaXRFcnJvcihlKXtjb25zdCB0PXRoaXMucGFyc2VFcnJvcihuZXcgRXJyb3IoZT8ubWVzc2FnZXx8YFdlYlNvY2tldCBjb25uZWN0aW9uIGZhaWxlZCBmb3IgaG9zdDogJHtkKHRoaXMudXJsKX1gKSk7cmV0dXJuIHRoaXMuZXZlbnRzLmVtaXQoXCJyZWdpc3Rlcl9lcnJvclwiLHQpLHR9fWV4cG9ydHtmIGFzIFdzQ29ubmVjdGlvbixmIGFzIGRlZmF1bHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js":
/*!*************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/dist/index.es.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_LOG_SIZE_IN_BYTES_DEFAULT: () => (/* binding */ l),\n/* harmony export */   PINO_CUSTOM_CONTEXT_KEY: () => (/* binding */ n),\n/* harmony export */   PINO_LOGGER_DEFAULTS: () => (/* binding */ c),\n/* harmony export */   formatChildLoggerContext: () => (/* binding */ w),\n/* harmony export */   generateChildLogger: () => (/* binding */ E),\n/* harmony export */   generateClientLogger: () => (/* binding */ C),\n/* harmony export */   generatePlatformLogger: () => (/* binding */ A),\n/* harmony export */   generateServerLogger: () => (/* binding */ I),\n/* harmony export */   getBrowserLoggerContext: () => (/* binding */ v),\n/* harmony export */   getDefaultLoggerOptions: () => (/* binding */ k),\n/* harmony export */   getLoggerContext: () => (/* binding */ y),\n/* harmony export */   pino: () => (/* reexport default from dynamic */ pino__WEBPACK_IMPORTED_MODULE_0___default.a),\n/* harmony export */   setBrowserLoggerContext: () => (/* binding */ b)\n/* harmony export */ });\n/* harmony import */ var pino__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pino */ \"(ssr)/./node_modules/pino/pino.js\");\n/* harmony import */ var pino__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pino__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\nconst c={level:\"info\"},n=\"custom_context\",l=1e3*1024;class O{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class d{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new O(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}class L{constructor(e,t=l){this.level=e??\"error\",this.levelValue=pino__WEBPACK_IMPORTED_MODULE_0__.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new d(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.error?console.error(e):t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.warn?console.warn(e):t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.debug?console.debug(e):t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)({timestamp:new Date().toISOString(),log:e}));const t=typeof e==\"string\"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new d(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)({extraMetadata:e})),new Blob(t,{type:\"application/json\"})}}class m{constructor(e,t=l){this.baseChunkLogger=new L(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),o=document.createElement(\"a\");o.href=t,o.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}}class B{constructor(e,t=l){this.baseChunkLogger=new L(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var x=Object.defineProperty,S=Object.defineProperties,_=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,f=(r,e,t)=>e in r?x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,i=(r,e)=>{for(var t in e||(e={}))T.call(e,t)&&f(r,t,e[t]);if(p)for(var t of p(e))z.call(e,t)&&f(r,t,e[t]);return r},g=(r,e)=>S(r,_(e));function k(r){return g(i({},r),{level:r?.level||c.level})}function v(r,e=n){return r[e]||\"\"}function b(r,e,t=n){return r[t]=e,r}function y(r,e=n){let t=\"\";return typeof r.bindings>\"u\"?t=v(r,e):t=r.bindings().context||\"\",t}function w(r,e,t=n){const o=y(r,t);return o.trim()?`${o}/${e}`:e}function E(r,e,t=n){const o=w(r,e,t),a=r.child({context:o});return b(a,o,t)}function C(r){var e,t;const o=new m((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:pino__WEBPACK_IMPORTED_MODULE_0___default()(g(i({},r.opts),{level:\"trace\",browser:g(i({},(t=r.opts)==null?void 0:t.browser),{write:a=>o.write(a)})})),chunkLoggerController:o}}function I(r){var e;const t=new B((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:pino__WEBPACK_IMPORTED_MODULE_0___default()(g(i({},r.opts),{level:\"trace\"}),t),chunkLoggerController:t}}function A(r){return typeof r.loggerOverride<\"u\"&&typeof r.loggerOverride!=\"string\"?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<\"u\"?C(r):I(r)}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2SCxTQUFTLGFBQWEsK0JBQStCLFFBQVEsZUFBZSxpR0FBaUcsWUFBWSxzQkFBc0IsV0FBVyx5QkFBeUIsUUFBUSxlQUFlLDRGQUE0RixVQUFVLGlCQUFpQixpR0FBaUcsR0FBRyxZQUFZLE9BQU8sR0FBRyxLQUFLLHFDQUFxQyxjQUFjLDhIQUE4SCxRQUFRLHFCQUFxQixrQkFBa0IsbUdBQW1HLFVBQVUsV0FBVyxnQkFBZ0IsS0FBSyxTQUFTLDBCQUEwQixTQUFTLGFBQWEsMEJBQTBCLFdBQVcsd0JBQXdCLGlCQUFpQix3QkFBd0Isb0JBQW9CLGdCQUFnQixPQUFPLFVBQVUsYUFBYSxvQkFBb0IsZ0JBQWdCLGlCQUFpQixvQkFBb0IsUUFBUSxtQkFBbUIsc0NBQXNDLHdDQUFDLDZGQUE2RixzQkFBc0IsSUFBSSx3Q0FBQyxtQ0FBbUMsd0NBQUMsaUNBQWlDLHdDQUFDLG1DQUFtQyx3Q0FBQyw4Q0FBOEMsZ0JBQWdCLGlCQUFpQiwyRUFBQyxFQUFFLHlDQUF5QyxHQUFHLHVEQUF1RCwrQ0FBK0MsVUFBVSxpQkFBaUIsWUFBWSw0Q0FBNEMsY0FBYyw2QkFBNkIsY0FBYywyQkFBMkIsY0FBYywyRUFBQyxFQUFFLGdCQUFnQixlQUFlLHdCQUF3QixHQUFHLFFBQVEsbUJBQW1CLGdDQUFnQyxTQUFTLHFDQUFxQyxVQUFVLHNDQUFzQyxZQUFZLGlDQUFpQyxjQUFjLDBDQUEwQyxjQUFjLDBDQUEwQyw2QkFBNkIsOEVBQThFLDBDQUEwQyx5QkFBeUIsa0dBQWtHLFFBQVEsbUJBQW1CLGdDQUFnQyxTQUFTLHFDQUFxQyxVQUFVLHNDQUFzQyxZQUFZLGlDQUFpQyxjQUFjLDBDQUEwQyxjQUFjLDJDQUEyQywyTkFBMk4sa0RBQWtELG1CQUFtQixxQkFBcUIsMkJBQTJCLGdEQUFnRCxTQUFTLG9CQUFvQixjQUFjLGFBQWEsS0FBSyx3QkFBd0IsRUFBRSxrQkFBa0IsZ0JBQWdCLG9CQUFvQixnQkFBZ0Isa0JBQWtCLFNBQVMsbUVBQW1FLG9CQUFvQixlQUFlLG1CQUFtQixFQUFFLEdBQUcsRUFBRSxJQUFJLG9CQUFvQiw0QkFBNEIsVUFBVSxFQUFFLGdCQUFnQixjQUFjLFFBQVEsZ0VBQWdFLE9BQU8sT0FBTywyQ0FBQyxPQUFPLFVBQVUsNEJBQTRCLHFDQUFxQyxvQkFBb0IsRUFBRSw0QkFBNEIsY0FBYyxNQUFNLGdFQUFnRSxPQUFPLE9BQU8sMkNBQUMsT0FBTyxVQUFVLGNBQWMsOEJBQThCLGNBQWMsdUVBQXVFLG1EQUFtRCw2QkFBNlg7QUFDamlKIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBoLHtsZXZlbHMgYXMgc31mcm9tXCJwaW5vXCI7aW1wb3J0e2RlZmF1bHQgYXMgVX1mcm9tXCJwaW5vXCI7aW1wb3J0e3NhZmVKc29uU3RyaW5naWZ5IGFzIHV9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uXCI7Y29uc3QgYz17bGV2ZWw6XCJpbmZvXCJ9LG49XCJjdXN0b21fY29udGV4dFwiLGw9MWUzKjEwMjQ7Y2xhc3MgT3tjb25zdHJ1Y3RvcihlKXt0aGlzLm5vZGVWYWx1ZT1lLHRoaXMuc2l6ZUluQnl0ZXM9bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHRoaXMubm9kZVZhbHVlKS5sZW5ndGgsdGhpcy5uZXh0PW51bGx9Z2V0IHZhbHVlKCl7cmV0dXJuIHRoaXMubm9kZVZhbHVlfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuc2l6ZUluQnl0ZXN9fWNsYXNzIGR7Y29uc3RydWN0b3IoZSl7dGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGhJbk5vZGVzPTAsdGhpcy5tYXhTaXplSW5CeXRlcz1lLHRoaXMuc2l6ZUluQnl0ZXM9MH1hcHBlbmQoZSl7Y29uc3QgdD1uZXcgTyhlKTtpZih0LnNpemU+dGhpcy5tYXhTaXplSW5CeXRlcyl0aHJvdyBuZXcgRXJyb3IoYFtMaW5rZWRMaXN0XSBWYWx1ZSB0b28gYmlnIHRvIGluc2VydCBpbnRvIGxpc3Q6ICR7ZX0gd2l0aCBzaXplICR7dC5zaXplfWApO2Zvcig7dGhpcy5zaXplK3Quc2l6ZT50aGlzLm1heFNpemVJbkJ5dGVzOyl0aGlzLnNoaWZ0KCk7dGhpcy5oZWFkPyh0aGlzLnRhaWwmJih0aGlzLnRhaWwubmV4dD10KSx0aGlzLnRhaWw9dCk6KHRoaXMuaGVhZD10LHRoaXMudGFpbD10KSx0aGlzLmxlbmd0aEluTm9kZXMrKyx0aGlzLnNpemVJbkJ5dGVzKz10LnNpemV9c2hpZnQoKXtpZighdGhpcy5oZWFkKXJldHVybjtjb25zdCBlPXRoaXMuaGVhZDt0aGlzLmhlYWQ9dGhpcy5oZWFkLm5leHQsdGhpcy5oZWFkfHwodGhpcy50YWlsPW51bGwpLHRoaXMubGVuZ3RoSW5Ob2Rlcy0tLHRoaXMuc2l6ZUluQnl0ZXMtPWUuc2l6ZX10b0FycmF5KCl7Y29uc3QgZT1bXTtsZXQgdD10aGlzLmhlYWQ7Zm9yKDt0IT09bnVsbDspZS5wdXNoKHQudmFsdWUpLHQ9dC5uZXh0O3JldHVybiBlfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5sZW5ndGhJbk5vZGVzfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuc2l6ZUluQnl0ZXN9dG9PcmRlcmVkQXJyYXkoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzKX1bU3ltYm9sLml0ZXJhdG9yXSgpe2xldCBlPXRoaXMuaGVhZDtyZXR1cm57bmV4dDooKT0+e2lmKCFlKXJldHVybntkb25lOiEwLHZhbHVlOm51bGx9O2NvbnN0IHQ9ZS52YWx1ZTtyZXR1cm4gZT1lLm5leHQse2RvbmU6ITEsdmFsdWU6dH19fX19Y2xhc3MgTHtjb25zdHJ1Y3RvcihlLHQ9bCl7dGhpcy5sZXZlbD1lPz9cImVycm9yXCIsdGhpcy5sZXZlbFZhbHVlPXMudmFsdWVzW3RoaXMubGV2ZWxdLHRoaXMuTUFYX0xPR19TSVpFX0lOX0JZVEVTPXQsdGhpcy5sb2dzPW5ldyBkKHRoaXMuTUFYX0xPR19TSVpFX0lOX0JZVEVTKX1mb3J3YXJkVG9Db25zb2xlKGUsdCl7dD09PXMudmFsdWVzLmVycm9yP2NvbnNvbGUuZXJyb3IoZSk6dD09PXMudmFsdWVzLndhcm4/Y29uc29sZS53YXJuKGUpOnQ9PT1zLnZhbHVlcy5kZWJ1Zz9jb25zb2xlLmRlYnVnKGUpOnQ9PT1zLnZhbHVlcy50cmFjZT9jb25zb2xlLnRyYWNlKGUpOmNvbnNvbGUubG9nKGUpfWFwcGVuZFRvTG9ncyhlKXt0aGlzLmxvZ3MuYXBwZW5kKHUoe3RpbWVzdGFtcDpuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksbG9nOmV9KSk7Y29uc3QgdD10eXBlb2YgZT09XCJzdHJpbmdcIj9KU09OLnBhcnNlKGUpLmxldmVsOmUubGV2ZWw7dD49dGhpcy5sZXZlbFZhbHVlJiZ0aGlzLmZvcndhcmRUb0NvbnNvbGUoZSx0KX1nZXRMb2dzKCl7cmV0dXJuIHRoaXMubG9nc31jbGVhckxvZ3MoKXt0aGlzLmxvZ3M9bmV3IGQodGhpcy5NQVhfTE9HX1NJWkVfSU5fQllURVMpfWdldExvZ0FycmF5KCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5sb2dzKX1sb2dzVG9CbG9iKGUpe2NvbnN0IHQ9dGhpcy5nZXRMb2dBcnJheSgpO3JldHVybiB0LnB1c2godSh7ZXh0cmFNZXRhZGF0YTplfSkpLG5ldyBCbG9iKHQse3R5cGU6XCJhcHBsaWNhdGlvbi9qc29uXCJ9KX19Y2xhc3MgbXtjb25zdHJ1Y3RvcihlLHQ9bCl7dGhpcy5iYXNlQ2h1bmtMb2dnZXI9bmV3IEwoZSx0KX13cml0ZShlKXt0aGlzLmJhc2VDaHVua0xvZ2dlci5hcHBlbmRUb0xvZ3MoZSl9Z2V0TG9ncygpe3JldHVybiB0aGlzLmJhc2VDaHVua0xvZ2dlci5nZXRMb2dzKCl9Y2xlYXJMb2dzKCl7dGhpcy5iYXNlQ2h1bmtMb2dnZXIuY2xlYXJMb2dzKCl9Z2V0TG9nQXJyYXkoKXtyZXR1cm4gdGhpcy5iYXNlQ2h1bmtMb2dnZXIuZ2V0TG9nQXJyYXkoKX1sb2dzVG9CbG9iKGUpe3JldHVybiB0aGlzLmJhc2VDaHVua0xvZ2dlci5sb2dzVG9CbG9iKGUpfWRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXIoZSl7Y29uc3QgdD1VUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMubG9nc1RvQmxvYihlKSksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtvLmhyZWY9dCxvLmRvd25sb2FkPWB3YWxsZXRjb25uZWN0LWxvZ3MtJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9LnR4dGAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvKSxvLmNsaWNrKCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvKSxVUkwucmV2b2tlT2JqZWN0VVJMKHQpfX1jbGFzcyBCe2NvbnN0cnVjdG9yKGUsdD1sKXt0aGlzLmJhc2VDaHVua0xvZ2dlcj1uZXcgTChlLHQpfXdyaXRlKGUpe3RoaXMuYmFzZUNodW5rTG9nZ2VyLmFwcGVuZFRvTG9ncyhlKX1nZXRMb2dzKCl7cmV0dXJuIHRoaXMuYmFzZUNodW5rTG9nZ2VyLmdldExvZ3MoKX1jbGVhckxvZ3MoKXt0aGlzLmJhc2VDaHVua0xvZ2dlci5jbGVhckxvZ3MoKX1nZXRMb2dBcnJheSgpe3JldHVybiB0aGlzLmJhc2VDaHVua0xvZ2dlci5nZXRMb2dBcnJheSgpfWxvZ3NUb0Jsb2IoZSl7cmV0dXJuIHRoaXMuYmFzZUNodW5rTG9nZ2VyLmxvZ3NUb0Jsb2IoZSl9fXZhciB4PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxTPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLF89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMscD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx6PU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsZj0ocixlLHQpPT5lIGluIHI/eChyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsaT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpVC5jYWxsKGUsdCkmJmYocix0LGVbdF0pO2lmKHApZm9yKHZhciB0IG9mIHAoZSkpei5jYWxsKGUsdCkmJmYocix0LGVbdF0pO3JldHVybiByfSxnPShyLGUpPT5TKHIsXyhlKSk7ZnVuY3Rpb24gayhyKXtyZXR1cm4gZyhpKHt9LHIpLHtsZXZlbDpyPy5sZXZlbHx8Yy5sZXZlbH0pfWZ1bmN0aW9uIHYocixlPW4pe3JldHVybiByW2VdfHxcIlwifWZ1bmN0aW9uIGIocixlLHQ9bil7cmV0dXJuIHJbdF09ZSxyfWZ1bmN0aW9uIHkocixlPW4pe2xldCB0PVwiXCI7cmV0dXJuIHR5cGVvZiByLmJpbmRpbmdzPlwidVwiP3Q9dihyLGUpOnQ9ci5iaW5kaW5ncygpLmNvbnRleHR8fFwiXCIsdH1mdW5jdGlvbiB3KHIsZSx0PW4pe2NvbnN0IG89eShyLHQpO3JldHVybiBvLnRyaW0oKT9gJHtvfS8ke2V9YDplfWZ1bmN0aW9uIEUocixlLHQ9bil7Y29uc3Qgbz13KHIsZSx0KSxhPXIuY2hpbGQoe2NvbnRleHQ6b30pO3JldHVybiBiKGEsbyx0KX1mdW5jdGlvbiBDKHIpe3ZhciBlLHQ7Y29uc3Qgbz1uZXcgbSgoZT1yLm9wdHMpPT1udWxsP3ZvaWQgMDplLmxldmVsLHIubWF4U2l6ZUluQnl0ZXMpO3JldHVybntsb2dnZXI6aChnKGkoe30sci5vcHRzKSx7bGV2ZWw6XCJ0cmFjZVwiLGJyb3dzZXI6ZyhpKHt9LCh0PXIub3B0cyk9PW51bGw/dm9pZCAwOnQuYnJvd3Nlcikse3dyaXRlOmE9Pm8ud3JpdGUoYSl9KX0pKSxjaHVua0xvZ2dlckNvbnRyb2xsZXI6b319ZnVuY3Rpb24gSShyKXt2YXIgZTtjb25zdCB0PW5ldyBCKChlPXIub3B0cyk9PW51bGw/dm9pZCAwOmUubGV2ZWwsci5tYXhTaXplSW5CeXRlcyk7cmV0dXJue2xvZ2dlcjpoKGcoaSh7fSxyLm9wdHMpLHtsZXZlbDpcInRyYWNlXCJ9KSx0KSxjaHVua0xvZ2dlckNvbnRyb2xsZXI6dH19ZnVuY3Rpb24gQShyKXtyZXR1cm4gdHlwZW9mIHIubG9nZ2VyT3ZlcnJpZGU8XCJ1XCImJnR5cGVvZiByLmxvZ2dlck92ZXJyaWRlIT1cInN0cmluZ1wiP3tsb2dnZXI6ci5sb2dnZXJPdmVycmlkZSxjaHVua0xvZ2dlckNvbnRyb2xsZXI6bnVsbH06dHlwZW9mIHdpbmRvdzxcInVcIj9DKHIpOkkocil9ZXhwb3J0e2wgYXMgTUFYX0xPR19TSVpFX0lOX0JZVEVTX0RFRkFVTFQsbiBhcyBQSU5PX0NVU1RPTV9DT05URVhUX0tFWSxjIGFzIFBJTk9fTE9HR0VSX0RFRkFVTFRTLHcgYXMgZm9ybWF0Q2hpbGRMb2dnZXJDb250ZXh0LEUgYXMgZ2VuZXJhdGVDaGlsZExvZ2dlcixDIGFzIGdlbmVyYXRlQ2xpZW50TG9nZ2VyLEEgYXMgZ2VuZXJhdGVQbGF0Zm9ybUxvZ2dlcixJIGFzIGdlbmVyYXRlU2VydmVyTG9nZ2VyLHYgYXMgZ2V0QnJvd3NlckxvZ2dlckNvbnRleHQsayBhcyBnZXREZWZhdWx0TG9nZ2VyT3B0aW9ucyx5IGFzIGdldExvZ2dlckNvbnRleHQsVSBhcyBwaW5vLGIgYXMgc2V0QnJvd3NlckxvZ2dlckNvbnRleHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-core/dist/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigCtrl: () => (/* binding */ ConfigCtrl),\n/* harmony export */   CoreUtil: () => (/* binding */ CoreUtil),\n/* harmony export */   EventsCtrl: () => (/* binding */ EventsCtrl),\n/* harmony export */   ExplorerCtrl: () => (/* binding */ ExplorerCtrl),\n/* harmony export */   ModalCtrl: () => (/* binding */ ModalCtrl),\n/* harmony export */   OptionsCtrl: () => (/* binding */ OptionsCtrl),\n/* harmony export */   RouterCtrl: () => (/* binding */ RouterCtrl),\n/* harmony export */   ThemeCtrl: () => (/* binding */ ThemeCtrl),\n/* harmony export */   ToastCtrl: () => (/* binding */ ToastCtrl)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/@walletconnect/modal-core/node_modules/valtio/esm/vanilla.mjs\");\n\n\nconst state$7 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  history: [\"ConnectWallet\"],\n  view: \"ConnectWallet\",\n  data: void 0\n});\nconst RouterCtrl = {\n  state: state$7,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$7, () => callback(state$7));\n  },\n  push(view, data) {\n    if (view !== state$7.view) {\n      state$7.view = view;\n      if (data) {\n        state$7.data = data;\n      }\n      state$7.history.push(view);\n    }\n  },\n  reset(view) {\n    state$7.view = view;\n    state$7.history = [view];\n  },\n  replace(view) {\n    if (state$7.history.length > 1) {\n      state$7.history[state$7.history.length - 1] = view;\n      state$7.view = view;\n    }\n  },\n  goBack() {\n    if (state$7.history.length > 1) {\n      state$7.history.pop();\n      const [last] = state$7.history.slice(-1);\n      state$7.view = last;\n    }\n  },\n  setData(data) {\n    state$7.data = data;\n  }\n};\n\nconst CoreUtil = {\n  WALLETCONNECT_DEEPLINK_CHOICE: \"WALLETCONNECT_DEEPLINK_CHOICE\",\n  WCM_VERSION: \"WCM_VERSION\",\n  RECOMMENDED_WALLET_AMOUNT: 9,\n  isMobile() {\n    if (typeof window !== \"undefined\") {\n      return Boolean(\n        window.matchMedia(\"(pointer:coarse)\").matches || /Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)\n      );\n    }\n    return false;\n  },\n  isAndroid() {\n    return CoreUtil.isMobile() && navigator.userAgent.toLowerCase().includes(\"android\");\n  },\n  isIos() {\n    const ua = navigator.userAgent.toLowerCase();\n    return CoreUtil.isMobile() && (ua.includes(\"iphone\") || ua.includes(\"ipad\"));\n  },\n  isHttpUrl(url) {\n    return url.startsWith(\"http://\") || url.startsWith(\"https://\");\n  },\n  isArray(data) {\n    return Array.isArray(data) && data.length > 0;\n  },\n  isTelegram() {\n    return typeof window !== \"undefined\" && // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (Boolean(window.TelegramWebviewProxy) || // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Boolean(window.Telegram) || // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Boolean(window.TelegramWebviewProxyProto));\n  },\n  formatNativeUrl(appUrl, wcUri, name) {\n    if (CoreUtil.isHttpUrl(appUrl)) {\n      return this.formatUniversalUrl(appUrl, wcUri, name);\n    }\n    let safeAppUrl = appUrl;\n    if (!safeAppUrl.includes(\"://\")) {\n      safeAppUrl = appUrl.replaceAll(\"/\", \"\").replaceAll(\":\", \"\");\n      safeAppUrl = `${safeAppUrl}://`;\n    }\n    if (!safeAppUrl.endsWith(\"/\")) {\n      safeAppUrl = `${safeAppUrl}/`;\n    }\n    this.setWalletConnectDeepLink(safeAppUrl, name);\n    const encodedWcUrl = encodeURIComponent(wcUri);\n    return `${safeAppUrl}wc?uri=${encodedWcUrl}`;\n  },\n  formatUniversalUrl(appUrl, wcUri, name) {\n    if (!CoreUtil.isHttpUrl(appUrl)) {\n      return this.formatNativeUrl(appUrl, wcUri, name);\n    }\n    let safeAppUrl = appUrl;\n    if (safeAppUrl.startsWith(\"https://t.me\")) {\n      const formattedUri = Buffer.from(wcUri).toString(\"base64\").replace(/[=]/g, \"\");\n      if (safeAppUrl.endsWith(\"/\")) {\n        safeAppUrl = safeAppUrl.slice(0, -1);\n      }\n      this.setWalletConnectDeepLink(safeAppUrl, name);\n      const url = new URL(safeAppUrl);\n      url.searchParams.set(\"startapp\", formattedUri);\n      const link = url.toString();\n      return link;\n    }\n    if (!safeAppUrl.endsWith(\"/\")) {\n      safeAppUrl = `${safeAppUrl}/`;\n    }\n    this.setWalletConnectDeepLink(safeAppUrl, name);\n    const encodedWcUrl = encodeURIComponent(wcUri);\n    return `${safeAppUrl}wc?uri=${encodedWcUrl}`;\n  },\n  async wait(miliseconds) {\n    return new Promise((resolve) => {\n      setTimeout(resolve, miliseconds);\n    });\n  },\n  openHref(href, target) {\n    const adjustedTarget = this.isTelegram() ? \"_blank\" : target;\n    window.open(href, adjustedTarget, \"noreferrer noopener\");\n  },\n  setWalletConnectDeepLink(href, name) {\n    try {\n      localStorage.setItem(CoreUtil.WALLETCONNECT_DEEPLINK_CHOICE, JSON.stringify({ href, name }));\n    } catch (e) {\n      console.info(\"Unable to set WalletConnect deep link\");\n    }\n  },\n  setWalletConnectAndroidDeepLink(wcUri) {\n    try {\n      const [href] = wcUri.split(\"?\");\n      localStorage.setItem(\n        CoreUtil.WALLETCONNECT_DEEPLINK_CHOICE,\n        JSON.stringify({ href, name: \"Android\" })\n      );\n    } catch (e) {\n      console.info(\"Unable to set WalletConnect android deep link\");\n    }\n  },\n  removeWalletConnectDeepLink() {\n    try {\n      localStorage.removeItem(CoreUtil.WALLETCONNECT_DEEPLINK_CHOICE);\n    } catch (e) {\n      console.info(\"Unable to remove WalletConnect deep link\");\n    }\n  },\n  setModalVersionInStorage() {\n    try {\n      if (typeof localStorage !== \"undefined\") {\n        localStorage.setItem(CoreUtil.WCM_VERSION, \"2.7.0\");\n      }\n    } catch (e) {\n      console.info(\"Unable to set Web3Modal version in storage\");\n    }\n  },\n  getWalletRouterData() {\n    var _a;\n    const routerData = (_a = RouterCtrl.state.data) == null ? void 0 : _a.Wallet;\n    if (!routerData) {\n      throw new Error('Missing \"Wallet\" view data');\n    }\n    return routerData;\n  }\n};\n\nconst isEnabled = typeof location !== \"undefined\" && (location.hostname.includes(\"localhost\") || location.protocol.includes(\"https\"));\nconst state$6 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  enabled: isEnabled,\n  userSessionId: \"\",\n  events: [],\n  connectedWalletId: void 0\n});\nconst EventsCtrl = {\n  state: state$6,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$6.events, () => callback((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(state$6.events[state$6.events.length - 1])));\n  },\n  initialize() {\n    if (state$6.enabled && typeof (crypto == null ? void 0 : crypto.randomUUID) !== \"undefined\") {\n      state$6.userSessionId = crypto.randomUUID();\n    }\n  },\n  setConnectedWalletId(connectedWalletId) {\n    state$6.connectedWalletId = connectedWalletId;\n  },\n  click(data) {\n    if (state$6.enabled) {\n      const event = {\n        type: \"CLICK\",\n        name: data.name,\n        userSessionId: state$6.userSessionId,\n        timestamp: Date.now(),\n        data\n      };\n      state$6.events.push(event);\n    }\n  },\n  track(data) {\n    if (state$6.enabled) {\n      const event = {\n        type: \"TRACK\",\n        name: data.name,\n        userSessionId: state$6.userSessionId,\n        timestamp: Date.now(),\n        data\n      };\n      state$6.events.push(event);\n    }\n  },\n  view(data) {\n    if (state$6.enabled) {\n      const event = {\n        type: \"VIEW\",\n        name: data.name,\n        userSessionId: state$6.userSessionId,\n        timestamp: Date.now(),\n        data\n      };\n      state$6.events.push(event);\n    }\n  }\n};\n\nconst state$5 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  chains: void 0,\n  walletConnectUri: void 0,\n  isAuth: false,\n  isCustomDesktop: false,\n  isCustomMobile: false,\n  isDataLoaded: false,\n  isUiLoaded: false\n});\nconst OptionsCtrl = {\n  state: state$5,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$5, () => callback(state$5));\n  },\n  setChains(chains) {\n    state$5.chains = chains;\n  },\n  setWalletConnectUri(walletConnectUri) {\n    state$5.walletConnectUri = walletConnectUri;\n  },\n  setIsCustomDesktop(isCustomDesktop) {\n    state$5.isCustomDesktop = isCustomDesktop;\n  },\n  setIsCustomMobile(isCustomMobile) {\n    state$5.isCustomMobile = isCustomMobile;\n  },\n  setIsDataLoaded(isDataLoaded) {\n    state$5.isDataLoaded = isDataLoaded;\n  },\n  setIsUiLoaded(isUiLoaded) {\n    state$5.isUiLoaded = isUiLoaded;\n  },\n  setIsAuth(isAuth) {\n    state$5.isAuth = isAuth;\n  }\n};\n\nconst state$4 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  projectId: \"\",\n  mobileWallets: void 0,\n  desktopWallets: void 0,\n  walletImages: void 0,\n  chains: void 0,\n  enableAuthMode: false,\n  enableExplorer: true,\n  explorerExcludedWalletIds: void 0,\n  explorerRecommendedWalletIds: void 0,\n  termsOfServiceUrl: void 0,\n  privacyPolicyUrl: void 0\n});\nconst ConfigCtrl = {\n  state: state$4,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$4, () => callback(state$4));\n  },\n  setConfig(config) {\n    var _a, _b;\n    EventsCtrl.initialize();\n    OptionsCtrl.setChains(config.chains);\n    OptionsCtrl.setIsAuth(Boolean(config.enableAuthMode));\n    OptionsCtrl.setIsCustomMobile(Boolean((_a = config.mobileWallets) == null ? void 0 : _a.length));\n    OptionsCtrl.setIsCustomDesktop(Boolean((_b = config.desktopWallets) == null ? void 0 : _b.length));\n    CoreUtil.setModalVersionInStorage();\n    Object.assign(state$4, config);\n  }\n};\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$2.call(b, prop))\n      __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(b)) {\n      if (__propIsEnum$2.call(b, prop))\n        __defNormalProp$2(a, prop, b[prop]);\n    }\n  return a;\n};\nconst W3M_API = \"https://explorer-api.walletconnect.com\";\nconst SDK_TYPE = \"wcm\";\nconst SDK_VERSION = `js-${\"2.7.0\"}`;\nasync function fetchListings(endpoint, params) {\n  const allParams = __spreadValues$2({ sdkType: SDK_TYPE, sdkVersion: SDK_VERSION }, params);\n  const url = new URL(endpoint, W3M_API);\n  url.searchParams.append(\"projectId\", ConfigCtrl.state.projectId);\n  Object.entries(allParams).forEach(([key, value]) => {\n    if (value) {\n      url.searchParams.append(key, String(value));\n    }\n  });\n  const request = await fetch(url);\n  return request.json();\n}\nconst ExplorerUtil = {\n  async getDesktopListings(params) {\n    return fetchListings(\"/w3m/v1/getDesktopListings\", params);\n  },\n  async getMobileListings(params) {\n    return fetchListings(\"/w3m/v1/getMobileListings\", params);\n  },\n  async getInjectedListings(params) {\n    return fetchListings(\"/w3m/v1/getInjectedListings\", params);\n  },\n  async getAllListings(params) {\n    return fetchListings(\"/w3m/v1/getAllListings\", params);\n  },\n  getWalletImageUrl(imageId) {\n    return `${W3M_API}/w3m/v1/getWalletImage/${imageId}?projectId=${ConfigCtrl.state.projectId}&sdkType=${SDK_TYPE}&sdkVersion=${SDK_VERSION}`;\n  },\n  getAssetImageUrl(imageId) {\n    return `${W3M_API}/w3m/v1/getAssetImage/${imageId}?projectId=${ConfigCtrl.state.projectId}&sdkType=${SDK_TYPE}&sdkVersion=${SDK_VERSION}`;\n  }\n};\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nconst isMobile = CoreUtil.isMobile();\nconst state$3 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  wallets: { listings: [], total: 0, page: 1 },\n  search: { listings: [], total: 0, page: 1 },\n  recomendedWallets: []\n});\nconst ExplorerCtrl = {\n  state: state$3,\n  async getRecomendedWallets() {\n    const { explorerRecommendedWalletIds, explorerExcludedWalletIds } = ConfigCtrl.state;\n    if (explorerRecommendedWalletIds === \"NONE\" || explorerExcludedWalletIds === \"ALL\" && !explorerRecommendedWalletIds) {\n      return state$3.recomendedWallets;\n    }\n    if (CoreUtil.isArray(explorerRecommendedWalletIds)) {\n      const recommendedIds = explorerRecommendedWalletIds.join(\",\");\n      const params = { recommendedIds };\n      const { listings } = await ExplorerUtil.getAllListings(params);\n      const listingsArr = Object.values(listings);\n      listingsArr.sort((a, b) => {\n        const aIndex = explorerRecommendedWalletIds.indexOf(a.id);\n        const bIndex = explorerRecommendedWalletIds.indexOf(b.id);\n        return aIndex - bIndex;\n      });\n      state$3.recomendedWallets = listingsArr;\n    } else {\n      const { chains, isAuth } = OptionsCtrl.state;\n      const chainsFilter = chains == null ? void 0 : chains.join(\",\");\n      const isExcluded = CoreUtil.isArray(explorerExcludedWalletIds);\n      const params = {\n        page: 1,\n        sdks: isAuth ? \"auth_v1\" : void 0,\n        entries: CoreUtil.RECOMMENDED_WALLET_AMOUNT,\n        chains: chainsFilter,\n        version: 2,\n        excludedIds: isExcluded ? explorerExcludedWalletIds.join(\",\") : void 0\n      };\n      const { listings } = isMobile ? await ExplorerUtil.getMobileListings(params) : await ExplorerUtil.getDesktopListings(params);\n      state$3.recomendedWallets = Object.values(listings);\n    }\n    return state$3.recomendedWallets;\n  },\n  async getWallets(params) {\n    const extendedParams = __spreadValues$1({}, params);\n    const { explorerRecommendedWalletIds, explorerExcludedWalletIds } = ConfigCtrl.state;\n    const { recomendedWallets } = state$3;\n    if (explorerExcludedWalletIds === \"ALL\") {\n      return state$3.wallets;\n    }\n    if (recomendedWallets.length) {\n      extendedParams.excludedIds = recomendedWallets.map((wallet) => wallet.id).join(\",\");\n    } else if (CoreUtil.isArray(explorerRecommendedWalletIds)) {\n      extendedParams.excludedIds = explorerRecommendedWalletIds.join(\",\");\n    }\n    if (CoreUtil.isArray(explorerExcludedWalletIds)) {\n      extendedParams.excludedIds = [extendedParams.excludedIds, explorerExcludedWalletIds].filter(Boolean).join(\",\");\n    }\n    if (OptionsCtrl.state.isAuth) {\n      extendedParams.sdks = \"auth_v1\";\n    }\n    const { page, search } = params;\n    const { listings: listingsObj, total } = isMobile ? await ExplorerUtil.getMobileListings(extendedParams) : await ExplorerUtil.getDesktopListings(extendedParams);\n    const listings = Object.values(listingsObj);\n    const type = search ? \"search\" : \"wallets\";\n    state$3[type] = {\n      listings: [...state$3[type].listings, ...listings],\n      total,\n      page: page != null ? page : 1\n    };\n    return { listings, total };\n  },\n  getWalletImageUrl(imageId) {\n    return ExplorerUtil.getWalletImageUrl(imageId);\n  },\n  getAssetImageUrl(imageId) {\n    return ExplorerUtil.getAssetImageUrl(imageId);\n  },\n  resetSearch() {\n    state$3.search = { listings: [], total: 0, page: 1 };\n  }\n};\n\nconst state$2 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  open: false\n});\nconst ModalCtrl = {\n  state: state$2,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$2, () => callback(state$2));\n  },\n  async open(options) {\n    return new Promise((resolve) => {\n      const { isUiLoaded, isDataLoaded } = OptionsCtrl.state;\n      CoreUtil.removeWalletConnectDeepLink();\n      OptionsCtrl.setWalletConnectUri(options == null ? void 0 : options.uri);\n      OptionsCtrl.setChains(options == null ? void 0 : options.chains);\n      RouterCtrl.reset(\"ConnectWallet\");\n      if (isUiLoaded && isDataLoaded) {\n        state$2.open = true;\n        resolve();\n      } else {\n        const interval = setInterval(() => {\n          const opts = OptionsCtrl.state;\n          if (opts.isUiLoaded && opts.isDataLoaded) {\n            clearInterval(interval);\n            state$2.open = true;\n            resolve();\n          }\n        }, 200);\n      }\n    });\n  },\n  close() {\n    state$2.open = false;\n  }\n};\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction isDarkMode() {\n  return typeof matchMedia !== \"undefined\" && matchMedia(\"(prefers-color-scheme: dark)\").matches;\n}\nconst state$1 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  themeMode: isDarkMode() ? \"dark\" : \"light\"\n});\nconst ThemeCtrl = {\n  state: state$1,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$1, () => callback(state$1));\n  },\n  setThemeConfig(theme) {\n    const { themeMode, themeVariables } = theme;\n    if (themeMode) {\n      state$1.themeMode = themeMode;\n    }\n    if (themeVariables) {\n      state$1.themeVariables = __spreadValues({}, themeVariables);\n    }\n  }\n};\n\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  open: false,\n  message: \"\",\n  variant: \"success\"\n});\nconst ToastCtrl = {\n  state,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n  },\n  openToast(message, variant) {\n    state.open = true;\n    state.message = message;\n    state.variant = variant;\n  },\n  closeToast() {\n    state.open = false;\n  }\n};\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBNEQ7O0FBRTVELGdCQUFnQixxREFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5REFBUztBQUNwQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixXQUFXO0FBQ2pDO0FBQ0E7QUFDQSxzQkFBc0IsV0FBVztBQUNqQztBQUNBO0FBQ0E7QUFDQSxjQUFjLFdBQVcsU0FBUyxhQUFhO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFdBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0EsY0FBYyxXQUFXLFNBQVMsYUFBYTtBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxH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QTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUFTO0FBQ3BCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFb0g7QUFDcEgiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZS9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzdWJzY3JpYmUsIHNuYXBzaG90IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuXG5jb25zdCBzdGF0ZSQ3ID0gcHJveHkoe1xuICBoaXN0b3J5OiBbXCJDb25uZWN0V2FsbGV0XCJdLFxuICB2aWV3OiBcIkNvbm5lY3RXYWxsZXRcIixcbiAgZGF0YTogdm9pZCAwXG59KTtcbmNvbnN0IFJvdXRlckN0cmwgPSB7XG4gIHN0YXRlOiBzdGF0ZSQ3LFxuICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc3Vic2NyaWJlKHN0YXRlJDcsICgpID0+IGNhbGxiYWNrKHN0YXRlJDcpKTtcbiAgfSxcbiAgcHVzaCh2aWV3LCBkYXRhKSB7XG4gICAgaWYgKHZpZXcgIT09IHN0YXRlJDcudmlldykge1xuICAgICAgc3RhdGUkNy52aWV3ID0gdmlldztcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHN0YXRlJDcuZGF0YSA9IGRhdGE7XG4gICAgICB9XG4gICAgICBzdGF0ZSQ3Lmhpc3RvcnkucHVzaCh2aWV3KTtcbiAgICB9XG4gIH0sXG4gIHJlc2V0KHZpZXcpIHtcbiAgICBzdGF0ZSQ3LnZpZXcgPSB2aWV3O1xuICAgIHN0YXRlJDcuaGlzdG9yeSA9IFt2aWV3XTtcbiAgfSxcbiAgcmVwbGFjZSh2aWV3KSB7XG4gICAgaWYgKHN0YXRlJDcuaGlzdG9yeS5sZW5ndGggPiAxKSB7XG4gICAgICBzdGF0ZSQ3Lmhpc3Rvcnlbc3RhdGUkNy5oaXN0b3J5Lmxlbmd0aCAtIDFdID0gdmlldztcbiAgICAgIHN0YXRlJDcudmlldyA9IHZpZXc7XG4gICAgfVxuICB9LFxuICBnb0JhY2soKSB7XG4gICAgaWYgKHN0YXRlJDcuaGlzdG9yeS5sZW5ndGggPiAxKSB7XG4gICAgICBzdGF0ZSQ3Lmhpc3RvcnkucG9wKCk7XG4gICAgICBjb25zdCBbbGFzdF0gPSBzdGF0ZSQ3Lmhpc3Rvcnkuc2xpY2UoLTEpO1xuICAgICAgc3RhdGUkNy52aWV3ID0gbGFzdDtcbiAgICB9XG4gIH0sXG4gIHNldERhdGEoZGF0YSkge1xuICAgIHN0YXRlJDcuZGF0YSA9IGRhdGE7XG4gIH1cbn07XG5cbmNvbnN0IENvcmVVdGlsID0ge1xuICBXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRTogXCJXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRVwiLFxuICBXQ01fVkVSU0lPTjogXCJXQ01fVkVSU0lPTlwiLFxuICBSRUNPTU1FTkRFRF9XQUxMRVRfQU1PVU5UOiA5LFxuICBpc01vYmlsZSgpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oXG4gICAgICAgIHdpbmRvdy5tYXRjaE1lZGlhKFwiKHBvaW50ZXI6Y29hcnNlKVwiKS5tYXRjaGVzIHx8IC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxPcGVyYSBNaW5pL3UudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc0FuZHJvaWQoKSB7XG4gICAgcmV0dXJuIENvcmVVdGlsLmlzTW9iaWxlKCkgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiYW5kcm9pZFwiKTtcbiAgfSxcbiAgaXNJb3MoKSB7XG4gICAgY29uc3QgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIENvcmVVdGlsLmlzTW9iaWxlKCkgJiYgKHVhLmluY2x1ZGVzKFwiaXBob25lXCIpIHx8IHVhLmluY2x1ZGVzKFwiaXBhZFwiKSk7XG4gIH0sXG4gIGlzSHR0cFVybCh1cmwpIHtcbiAgICByZXR1cm4gdXJsLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpIHx8IHVybC5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik7XG4gIH0sXG4gIGlzQXJyYXkoZGF0YSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRhdGEpICYmIGRhdGEubGVuZ3RoID4gMDtcbiAgfSxcbiAgaXNUZWxlZ3JhbSgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIChCb29sZWFuKHdpbmRvdy5UZWxlZ3JhbVdlYnZpZXdQcm94eSkgfHwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBCb29sZWFuKHdpbmRvdy5UZWxlZ3JhbSkgfHwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBCb29sZWFuKHdpbmRvdy5UZWxlZ3JhbVdlYnZpZXdQcm94eVByb3RvKSk7XG4gIH0sXG4gIGZvcm1hdE5hdGl2ZVVybChhcHBVcmwsIHdjVXJpLCBuYW1lKSB7XG4gICAgaWYgKENvcmVVdGlsLmlzSHR0cFVybChhcHBVcmwpKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXRVbml2ZXJzYWxVcmwoYXBwVXJsLCB3Y1VyaSwgbmFtZSk7XG4gICAgfVxuICAgIGxldCBzYWZlQXBwVXJsID0gYXBwVXJsO1xuICAgIGlmICghc2FmZUFwcFVybC5pbmNsdWRlcyhcIjovL1wiKSkge1xuICAgICAgc2FmZUFwcFVybCA9IGFwcFVybC5yZXBsYWNlQWxsKFwiL1wiLCBcIlwiKS5yZXBsYWNlQWxsKFwiOlwiLCBcIlwiKTtcbiAgICAgIHNhZmVBcHBVcmwgPSBgJHtzYWZlQXBwVXJsfTovL2A7XG4gICAgfVxuICAgIGlmICghc2FmZUFwcFVybC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgIHNhZmVBcHBVcmwgPSBgJHtzYWZlQXBwVXJsfS9gO1xuICAgIH1cbiAgICB0aGlzLnNldFdhbGxldENvbm5lY3REZWVwTGluayhzYWZlQXBwVXJsLCBuYW1lKTtcbiAgICBjb25zdCBlbmNvZGVkV2NVcmwgPSBlbmNvZGVVUklDb21wb25lbnQod2NVcmkpO1xuICAgIHJldHVybiBgJHtzYWZlQXBwVXJsfXdjP3VyaT0ke2VuY29kZWRXY1VybH1gO1xuICB9LFxuICBmb3JtYXRVbml2ZXJzYWxVcmwoYXBwVXJsLCB3Y1VyaSwgbmFtZSkge1xuICAgIGlmICghQ29yZVV0aWwuaXNIdHRwVXJsKGFwcFVybCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdE5hdGl2ZVVybChhcHBVcmwsIHdjVXJpLCBuYW1lKTtcbiAgICB9XG4gICAgbGV0IHNhZmVBcHBVcmwgPSBhcHBVcmw7XG4gICAgaWYgKHNhZmVBcHBVcmwuc3RhcnRzV2l0aChcImh0dHBzOi8vdC5tZVwiKSkge1xuICAgICAgY29uc3QgZm9ybWF0dGVkVXJpID0gQnVmZmVyLmZyb20od2NVcmkpLnRvU3RyaW5nKFwiYmFzZTY0XCIpLnJlcGxhY2UoL1s9XS9nLCBcIlwiKTtcbiAgICAgIGlmIChzYWZlQXBwVXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICBzYWZlQXBwVXJsID0gc2FmZUFwcFVybC5zbGljZSgwLCAtMSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFdhbGxldENvbm5lY3REZWVwTGluayhzYWZlQXBwVXJsLCBuYW1lKTtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoc2FmZUFwcFVybCk7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcInN0YXJ0YXBwXCIsIGZvcm1hdHRlZFVyaSk7XG4gICAgICBjb25zdCBsaW5rID0gdXJsLnRvU3RyaW5nKCk7XG4gICAgICByZXR1cm4gbGluaztcbiAgICB9XG4gICAgaWYgKCFzYWZlQXBwVXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgc2FmZUFwcFVybCA9IGAke3NhZmVBcHBVcmx9L2A7XG4gICAgfVxuICAgIHRoaXMuc2V0V2FsbGV0Q29ubmVjdERlZXBMaW5rKHNhZmVBcHBVcmwsIG5hbWUpO1xuICAgIGNvbnN0IGVuY29kZWRXY1VybCA9IGVuY29kZVVSSUNvbXBvbmVudCh3Y1VyaSk7XG4gICAgcmV0dXJuIGAke3NhZmVBcHBVcmx9d2M/dXJpPSR7ZW5jb2RlZFdjVXJsfWA7XG4gIH0sXG4gIGFzeW5jIHdhaXQobWlsaXNlY29uZHMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgbWlsaXNlY29uZHMpO1xuICAgIH0pO1xuICB9LFxuICBvcGVuSHJlZihocmVmLCB0YXJnZXQpIHtcbiAgICBjb25zdCBhZGp1c3RlZFRhcmdldCA9IHRoaXMuaXNUZWxlZ3JhbSgpID8gXCJfYmxhbmtcIiA6IHRhcmdldDtcbiAgICB3aW5kb3cub3BlbihocmVmLCBhZGp1c3RlZFRhcmdldCwgXCJub3JlZmVycmVyIG5vb3BlbmVyXCIpO1xuICB9LFxuICBzZXRXYWxsZXRDb25uZWN0RGVlcExpbmsoaHJlZiwgbmFtZSkge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDb3JlVXRpbC5XQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRSwgSlNPTi5zdHJpbmdpZnkoeyBocmVmLCBuYW1lIH0pKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmluZm8oXCJVbmFibGUgdG8gc2V0IFdhbGxldENvbm5lY3QgZGVlcCBsaW5rXCIpO1xuICAgIH1cbiAgfSxcbiAgc2V0V2FsbGV0Q29ubmVjdEFuZHJvaWREZWVwTGluayh3Y1VyaSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbaHJlZl0gPSB3Y1VyaS5zcGxpdChcIj9cIik7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgQ29yZVV0aWwuV0FMTEVUQ09OTkVDVF9ERUVQTElOS19DSE9JQ0UsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHsgaHJlZiwgbmFtZTogXCJBbmRyb2lkXCIgfSlcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5pbmZvKFwiVW5hYmxlIHRvIHNldCBXYWxsZXRDb25uZWN0IGFuZHJvaWQgZGVlcCBsaW5rXCIpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlV2FsbGV0Q29ubmVjdERlZXBMaW5rKCkge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShDb3JlVXRpbC5XQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5pbmZvKFwiVW5hYmxlIHRvIHJlbW92ZSBXYWxsZXRDb25uZWN0IGRlZXAgbGlua1wiKTtcbiAgICB9XG4gIH0sXG4gIHNldE1vZGFsVmVyc2lvbkluU3RvcmFnZSgpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ29yZVV0aWwuV0NNX1ZFUlNJT04sIFwiMi43LjBcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5pbmZvKFwiVW5hYmxlIHRvIHNldCBXZWIzTW9kYWwgdmVyc2lvbiBpbiBzdG9yYWdlXCIpO1xuICAgIH1cbiAgfSxcbiAgZ2V0V2FsbGV0Um91dGVyRGF0YSgpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgcm91dGVyRGF0YSA9IChfYSA9IFJvdXRlckN0cmwuc3RhdGUuZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLldhbGxldDtcbiAgICBpZiAoIXJvdXRlckRhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBcIldhbGxldFwiIHZpZXcgZGF0YScpO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGVyRGF0YTtcbiAgfVxufTtcblxuY29uc3QgaXNFbmFibGVkID0gdHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIChsb2NhdGlvbi5ob3N0bmFtZS5pbmNsdWRlcyhcImxvY2FsaG9zdFwiKSB8fCBsb2NhdGlvbi5wcm90b2NvbC5pbmNsdWRlcyhcImh0dHBzXCIpKTtcbmNvbnN0IHN0YXRlJDYgPSBwcm94eSh7XG4gIGVuYWJsZWQ6IGlzRW5hYmxlZCxcbiAgdXNlclNlc3Npb25JZDogXCJcIixcbiAgZXZlbnRzOiBbXSxcbiAgY29ubmVjdGVkV2FsbGV0SWQ6IHZvaWQgMFxufSk7XG5jb25zdCBFdmVudHNDdHJsID0ge1xuICBzdGF0ZTogc3RhdGUkNixcbiAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHN1YnNjcmliZShzdGF0ZSQ2LmV2ZW50cywgKCkgPT4gY2FsbGJhY2soc25hcHNob3Qoc3RhdGUkNi5ldmVudHNbc3RhdGUkNi5ldmVudHMubGVuZ3RoIC0gMV0pKSk7XG4gIH0sXG4gIGluaXRpYWxpemUoKSB7XG4gICAgaWYgKHN0YXRlJDYuZW5hYmxlZCAmJiB0eXBlb2YgKGNyeXB0byA9PSBudWxsID8gdm9pZCAwIDogY3J5cHRvLnJhbmRvbVVVSUQpICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBzdGF0ZSQ2LnVzZXJTZXNzaW9uSWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIH1cbiAgfSxcbiAgc2V0Q29ubmVjdGVkV2FsbGV0SWQoY29ubmVjdGVkV2FsbGV0SWQpIHtcbiAgICBzdGF0ZSQ2LmNvbm5lY3RlZFdhbGxldElkID0gY29ubmVjdGVkV2FsbGV0SWQ7XG4gIH0sXG4gIGNsaWNrKGRhdGEpIHtcbiAgICBpZiAoc3RhdGUkNi5lbmFibGVkKSB7XG4gICAgICBjb25zdCBldmVudCA9IHtcbiAgICAgICAgdHlwZTogXCJDTElDS1wiLFxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIHVzZXJTZXNzaW9uSWQ6IHN0YXRlJDYudXNlclNlc3Npb25JZCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBkYXRhXG4gICAgICB9O1xuICAgICAgc3RhdGUkNi5ldmVudHMucHVzaChldmVudCk7XG4gICAgfVxuICB9LFxuICB0cmFjayhkYXRhKSB7XG4gICAgaWYgKHN0YXRlJDYuZW5hYmxlZCkge1xuICAgICAgY29uc3QgZXZlbnQgPSB7XG4gICAgICAgIHR5cGU6IFwiVFJBQ0tcIixcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICB1c2VyU2Vzc2lvbklkOiBzdGF0ZSQ2LnVzZXJTZXNzaW9uSWQsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgZGF0YVxuICAgICAgfTtcbiAgICAgIHN0YXRlJDYuZXZlbnRzLnB1c2goZXZlbnQpO1xuICAgIH1cbiAgfSxcbiAgdmlldyhkYXRhKSB7XG4gICAgaWYgKHN0YXRlJDYuZW5hYmxlZCkge1xuICAgICAgY29uc3QgZXZlbnQgPSB7XG4gICAgICAgIHR5cGU6IFwiVklFV1wiLFxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIHVzZXJTZXNzaW9uSWQ6IHN0YXRlJDYudXNlclNlc3Npb25JZCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBkYXRhXG4gICAgICB9O1xuICAgICAgc3RhdGUkNi5ldmVudHMucHVzaChldmVudCk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBzdGF0ZSQ1ID0gcHJveHkoe1xuICBjaGFpbnM6IHZvaWQgMCxcbiAgd2FsbGV0Q29ubmVjdFVyaTogdm9pZCAwLFxuICBpc0F1dGg6IGZhbHNlLFxuICBpc0N1c3RvbURlc2t0b3A6IGZhbHNlLFxuICBpc0N1c3RvbU1vYmlsZTogZmFsc2UsXG4gIGlzRGF0YUxvYWRlZDogZmFsc2UsXG4gIGlzVWlMb2FkZWQ6IGZhbHNlXG59KTtcbmNvbnN0IE9wdGlvbnNDdHJsID0ge1xuICBzdGF0ZTogc3RhdGUkNSxcbiAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHN1YnNjcmliZShzdGF0ZSQ1LCAoKSA9PiBjYWxsYmFjayhzdGF0ZSQ1KSk7XG4gIH0sXG4gIHNldENoYWlucyhjaGFpbnMpIHtcbiAgICBzdGF0ZSQ1LmNoYWlucyA9IGNoYWlucztcbiAgfSxcbiAgc2V0V2FsbGV0Q29ubmVjdFVyaSh3YWxsZXRDb25uZWN0VXJpKSB7XG4gICAgc3RhdGUkNS53YWxsZXRDb25uZWN0VXJpID0gd2FsbGV0Q29ubmVjdFVyaTtcbiAgfSxcbiAgc2V0SXNDdXN0b21EZXNrdG9wKGlzQ3VzdG9tRGVza3RvcCkge1xuICAgIHN0YXRlJDUuaXNDdXN0b21EZXNrdG9wID0gaXNDdXN0b21EZXNrdG9wO1xuICB9LFxuICBzZXRJc0N1c3RvbU1vYmlsZShpc0N1c3RvbU1vYmlsZSkge1xuICAgIHN0YXRlJDUuaXNDdXN0b21Nb2JpbGUgPSBpc0N1c3RvbU1vYmlsZTtcbiAgfSxcbiAgc2V0SXNEYXRhTG9hZGVkKGlzRGF0YUxvYWRlZCkge1xuICAgIHN0YXRlJDUuaXNEYXRhTG9hZGVkID0gaXNEYXRhTG9hZGVkO1xuICB9LFxuICBzZXRJc1VpTG9hZGVkKGlzVWlMb2FkZWQpIHtcbiAgICBzdGF0ZSQ1LmlzVWlMb2FkZWQgPSBpc1VpTG9hZGVkO1xuICB9LFxuICBzZXRJc0F1dGgoaXNBdXRoKSB7XG4gICAgc3RhdGUkNS5pc0F1dGggPSBpc0F1dGg7XG4gIH1cbn07XG5cbmNvbnN0IHN0YXRlJDQgPSBwcm94eSh7XG4gIHByb2plY3RJZDogXCJcIixcbiAgbW9iaWxlV2FsbGV0czogdm9pZCAwLFxuICBkZXNrdG9wV2FsbGV0czogdm9pZCAwLFxuICB3YWxsZXRJbWFnZXM6IHZvaWQgMCxcbiAgY2hhaW5zOiB2b2lkIDAsXG4gIGVuYWJsZUF1dGhNb2RlOiBmYWxzZSxcbiAgZW5hYmxlRXhwbG9yZXI6IHRydWUsXG4gIGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHM6IHZvaWQgMCxcbiAgZXhwbG9yZXJSZWNvbW1lbmRlZFdhbGxldElkczogdm9pZCAwLFxuICB0ZXJtc09mU2VydmljZVVybDogdm9pZCAwLFxuICBwcml2YWN5UG9saWN5VXJsOiB2b2lkIDBcbn0pO1xuY29uc3QgQ29uZmlnQ3RybCA9IHtcbiAgc3RhdGU6IHN0YXRlJDQsXG4gIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgIHJldHVybiBzdWJzY3JpYmUoc3RhdGUkNCwgKCkgPT4gY2FsbGJhY2soc3RhdGUkNCkpO1xuICB9LFxuICBzZXRDb25maWcoY29uZmlnKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBFdmVudHNDdHJsLmluaXRpYWxpemUoKTtcbiAgICBPcHRpb25zQ3RybC5zZXRDaGFpbnMoY29uZmlnLmNoYWlucyk7XG4gICAgT3B0aW9uc0N0cmwuc2V0SXNBdXRoKEJvb2xlYW4oY29uZmlnLmVuYWJsZUF1dGhNb2RlKSk7XG4gICAgT3B0aW9uc0N0cmwuc2V0SXNDdXN0b21Nb2JpbGUoQm9vbGVhbigoX2EgPSBjb25maWcubW9iaWxlV2FsbGV0cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkpO1xuICAgIE9wdGlvbnNDdHJsLnNldElzQ3VzdG9tRGVza3RvcChCb29sZWFuKChfYiA9IGNvbmZpZy5kZXNrdG9wV2FsbGV0cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmxlbmd0aCkpO1xuICAgIENvcmVVdGlsLnNldE1vZGFsVmVyc2lvbkluU3RvcmFnZSgpO1xuICAgIE9iamVjdC5hc3NpZ24oc3RhdGUkNCwgY29uZmlnKTtcbiAgfVxufTtcblxudmFyIF9fZGVmUHJvcCQyID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJDIgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSQyID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkMiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkMihvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkMiA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJDIuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCQyKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyQyKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQyKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJDIuY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJDIoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG5jb25zdCBXM01fQVBJID0gXCJodHRwczovL2V4cGxvcmVyLWFwaS53YWxsZXRjb25uZWN0LmNvbVwiO1xuY29uc3QgU0RLX1RZUEUgPSBcIndjbVwiO1xuY29uc3QgU0RLX1ZFUlNJT04gPSBganMtJHtcIjIuNy4wXCJ9YDtcbmFzeW5jIGZ1bmN0aW9uIGZldGNoTGlzdGluZ3MoZW5kcG9pbnQsIHBhcmFtcykge1xuICBjb25zdCBhbGxQYXJhbXMgPSBfX3NwcmVhZFZhbHVlcyQyKHsgc2RrVHlwZTogU0RLX1RZUEUsIHNka1ZlcnNpb246IFNES19WRVJTSU9OIH0sIHBhcmFtcyk7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwoZW5kcG9pbnQsIFczTV9BUEkpO1xuICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcInByb2plY3RJZFwiLCBDb25maWdDdHJsLnN0YXRlLnByb2plY3RJZCk7XG4gIE9iamVjdC5lbnRyaWVzKGFsbFBhcmFtcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIFN0cmluZyh2YWx1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICByZXR1cm4gcmVxdWVzdC5qc29uKCk7XG59XG5jb25zdCBFeHBsb3JlclV0aWwgPSB7XG4gIGFzeW5jIGdldERlc2t0b3BMaXN0aW5ncyhwYXJhbXMpIHtcbiAgICByZXR1cm4gZmV0Y2hMaXN0aW5ncyhcIi93M20vdjEvZ2V0RGVza3RvcExpc3RpbmdzXCIsIHBhcmFtcyk7XG4gIH0sXG4gIGFzeW5jIGdldE1vYmlsZUxpc3RpbmdzKHBhcmFtcykge1xuICAgIHJldHVybiBmZXRjaExpc3RpbmdzKFwiL3czbS92MS9nZXRNb2JpbGVMaXN0aW5nc1wiLCBwYXJhbXMpO1xuICB9LFxuICBhc3luYyBnZXRJbmplY3RlZExpc3RpbmdzKHBhcmFtcykge1xuICAgIHJldHVybiBmZXRjaExpc3RpbmdzKFwiL3czbS92MS9nZXRJbmplY3RlZExpc3RpbmdzXCIsIHBhcmFtcyk7XG4gIH0sXG4gIGFzeW5jIGdldEFsbExpc3RpbmdzKHBhcmFtcykge1xuICAgIHJldHVybiBmZXRjaExpc3RpbmdzKFwiL3czbS92MS9nZXRBbGxMaXN0aW5nc1wiLCBwYXJhbXMpO1xuICB9LFxuICBnZXRXYWxsZXRJbWFnZVVybChpbWFnZUlkKSB7XG4gICAgcmV0dXJuIGAke1czTV9BUEl9L3czbS92MS9nZXRXYWxsZXRJbWFnZS8ke2ltYWdlSWR9P3Byb2plY3RJZD0ke0NvbmZpZ0N0cmwuc3RhdGUucHJvamVjdElkfSZzZGtUeXBlPSR7U0RLX1RZUEV9JnNka1ZlcnNpb249JHtTREtfVkVSU0lPTn1gO1xuICB9LFxuICBnZXRBc3NldEltYWdlVXJsKGltYWdlSWQpIHtcbiAgICByZXR1cm4gYCR7VzNNX0FQSX0vdzNtL3YxL2dldEFzc2V0SW1hZ2UvJHtpbWFnZUlkfT9wcm9qZWN0SWQ9JHtDb25maWdDdHJsLnN0YXRlLnByb2plY3RJZH0mc2RrVHlwZT0ke1NES19UWVBFfSZzZGtWZXJzaW9uPSR7U0RLX1ZFUlNJT059YDtcbiAgfVxufTtcblxudmFyIF9fZGVmUHJvcCQxID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkMSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJDEgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSQxID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkMSA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkMShvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkMSA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJDEuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCQxKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyQxKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQxKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJDEuY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJDEoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG5jb25zdCBpc01vYmlsZSA9IENvcmVVdGlsLmlzTW9iaWxlKCk7XG5jb25zdCBzdGF0ZSQzID0gcHJveHkoe1xuICB3YWxsZXRzOiB7IGxpc3RpbmdzOiBbXSwgdG90YWw6IDAsIHBhZ2U6IDEgfSxcbiAgc2VhcmNoOiB7IGxpc3RpbmdzOiBbXSwgdG90YWw6IDAsIHBhZ2U6IDEgfSxcbiAgcmVjb21lbmRlZFdhbGxldHM6IFtdXG59KTtcbmNvbnN0IEV4cGxvcmVyQ3RybCA9IHtcbiAgc3RhdGU6IHN0YXRlJDMsXG4gIGFzeW5jIGdldFJlY29tZW5kZWRXYWxsZXRzKCkge1xuICAgIGNvbnN0IHsgZXhwbG9yZXJSZWNvbW1lbmRlZFdhbGxldElkcywgZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkcyB9ID0gQ29uZmlnQ3RybC5zdGF0ZTtcbiAgICBpZiAoZXhwbG9yZXJSZWNvbW1lbmRlZFdhbGxldElkcyA9PT0gXCJOT05FXCIgfHwgZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkcyA9PT0gXCJBTExcIiAmJiAhZXhwbG9yZXJSZWNvbW1lbmRlZFdhbGxldElkcykge1xuICAgICAgcmV0dXJuIHN0YXRlJDMucmVjb21lbmRlZFdhbGxldHM7XG4gICAgfVxuICAgIGlmIChDb3JlVXRpbC5pc0FycmF5KGV4cGxvcmVyUmVjb21tZW5kZWRXYWxsZXRJZHMpKSB7XG4gICAgICBjb25zdCByZWNvbW1lbmRlZElkcyA9IGV4cGxvcmVyUmVjb21tZW5kZWRXYWxsZXRJZHMuam9pbihcIixcIik7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7IHJlY29tbWVuZGVkSWRzIH07XG4gICAgICBjb25zdCB7IGxpc3RpbmdzIH0gPSBhd2FpdCBFeHBsb3JlclV0aWwuZ2V0QWxsTGlzdGluZ3MocGFyYW1zKTtcbiAgICAgIGNvbnN0IGxpc3RpbmdzQXJyID0gT2JqZWN0LnZhbHVlcyhsaXN0aW5ncyk7XG4gICAgICBsaXN0aW5nc0Fyci5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IGFJbmRleCA9IGV4cGxvcmVyUmVjb21tZW5kZWRXYWxsZXRJZHMuaW5kZXhPZihhLmlkKTtcbiAgICAgICAgY29uc3QgYkluZGV4ID0gZXhwbG9yZXJSZWNvbW1lbmRlZFdhbGxldElkcy5pbmRleE9mKGIuaWQpO1xuICAgICAgICByZXR1cm4gYUluZGV4IC0gYkluZGV4O1xuICAgICAgfSk7XG4gICAgICBzdGF0ZSQzLnJlY29tZW5kZWRXYWxsZXRzID0gbGlzdGluZ3NBcnI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgY2hhaW5zLCBpc0F1dGggfSA9IE9wdGlvbnNDdHJsLnN0YXRlO1xuICAgICAgY29uc3QgY2hhaW5zRmlsdGVyID0gY2hhaW5zID09IG51bGwgPyB2b2lkIDAgOiBjaGFpbnMuam9pbihcIixcIik7XG4gICAgICBjb25zdCBpc0V4Y2x1ZGVkID0gQ29yZVV0aWwuaXNBcnJheShleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgc2RrczogaXNBdXRoID8gXCJhdXRoX3YxXCIgOiB2b2lkIDAsXG4gICAgICAgIGVudHJpZXM6IENvcmVVdGlsLlJFQ09NTUVOREVEX1dBTExFVF9BTU9VTlQsXG4gICAgICAgIGNoYWluczogY2hhaW5zRmlsdGVyLFxuICAgICAgICB2ZXJzaW9uOiAyLFxuICAgICAgICBleGNsdWRlZElkczogaXNFeGNsdWRlZCA/IGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHMuam9pbihcIixcIikgOiB2b2lkIDBcbiAgICAgIH07XG4gICAgICBjb25zdCB7IGxpc3RpbmdzIH0gPSBpc01vYmlsZSA/IGF3YWl0IEV4cGxvcmVyVXRpbC5nZXRNb2JpbGVMaXN0aW5ncyhwYXJhbXMpIDogYXdhaXQgRXhwbG9yZXJVdGlsLmdldERlc2t0b3BMaXN0aW5ncyhwYXJhbXMpO1xuICAgICAgc3RhdGUkMy5yZWNvbWVuZGVkV2FsbGV0cyA9IE9iamVjdC52YWx1ZXMobGlzdGluZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUkMy5yZWNvbWVuZGVkV2FsbGV0cztcbiAgfSxcbiAgYXN5bmMgZ2V0V2FsbGV0cyhwYXJhbXMpIHtcbiAgICBjb25zdCBleHRlbmRlZFBhcmFtcyA9IF9fc3ByZWFkVmFsdWVzJDEoe30sIHBhcmFtcyk7XG4gICAgY29uc3QgeyBleHBsb3JlclJlY29tbWVuZGVkV2FsbGV0SWRzLCBleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzIH0gPSBDb25maWdDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHsgcmVjb21lbmRlZFdhbGxldHMgfSA9IHN0YXRlJDM7XG4gICAgaWYgKGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHMgPT09IFwiQUxMXCIpIHtcbiAgICAgIHJldHVybiBzdGF0ZSQzLndhbGxldHM7XG4gICAgfVxuICAgIGlmIChyZWNvbWVuZGVkV2FsbGV0cy5sZW5ndGgpIHtcbiAgICAgIGV4dGVuZGVkUGFyYW1zLmV4Y2x1ZGVkSWRzID0gcmVjb21lbmRlZFdhbGxldHMubWFwKCh3YWxsZXQpID0+IHdhbGxldC5pZCkuam9pbihcIixcIik7XG4gICAgfSBlbHNlIGlmIChDb3JlVXRpbC5pc0FycmF5KGV4cGxvcmVyUmVjb21tZW5kZWRXYWxsZXRJZHMpKSB7XG4gICAgICBleHRlbmRlZFBhcmFtcy5leGNsdWRlZElkcyA9IGV4cGxvcmVyUmVjb21tZW5kZWRXYWxsZXRJZHMuam9pbihcIixcIik7XG4gICAgfVxuICAgIGlmIChDb3JlVXRpbC5pc0FycmF5KGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHMpKSB7XG4gICAgICBleHRlbmRlZFBhcmFtcy5leGNsdWRlZElkcyA9IFtleHRlbmRlZFBhcmFtcy5leGNsdWRlZElkcywgZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkc10uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIsXCIpO1xuICAgIH1cbiAgICBpZiAoT3B0aW9uc0N0cmwuc3RhdGUuaXNBdXRoKSB7XG4gICAgICBleHRlbmRlZFBhcmFtcy5zZGtzID0gXCJhdXRoX3YxXCI7XG4gICAgfVxuICAgIGNvbnN0IHsgcGFnZSwgc2VhcmNoIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgeyBsaXN0aW5nczogbGlzdGluZ3NPYmosIHRvdGFsIH0gPSBpc01vYmlsZSA/IGF3YWl0IEV4cGxvcmVyVXRpbC5nZXRNb2JpbGVMaXN0aW5ncyhleHRlbmRlZFBhcmFtcykgOiBhd2FpdCBFeHBsb3JlclV0aWwuZ2V0RGVza3RvcExpc3RpbmdzKGV4dGVuZGVkUGFyYW1zKTtcbiAgICBjb25zdCBsaXN0aW5ncyA9IE9iamVjdC52YWx1ZXMobGlzdGluZ3NPYmopO1xuICAgIGNvbnN0IHR5cGUgPSBzZWFyY2ggPyBcInNlYXJjaFwiIDogXCJ3YWxsZXRzXCI7XG4gICAgc3RhdGUkM1t0eXBlXSA9IHtcbiAgICAgIGxpc3RpbmdzOiBbLi4uc3RhdGUkM1t0eXBlXS5saXN0aW5ncywgLi4ubGlzdGluZ3NdLFxuICAgICAgdG90YWwsXG4gICAgICBwYWdlOiBwYWdlICE9IG51bGwgPyBwYWdlIDogMVxuICAgIH07XG4gICAgcmV0dXJuIHsgbGlzdGluZ3MsIHRvdGFsIH07XG4gIH0sXG4gIGdldFdhbGxldEltYWdlVXJsKGltYWdlSWQpIHtcbiAgICByZXR1cm4gRXhwbG9yZXJVdGlsLmdldFdhbGxldEltYWdlVXJsKGltYWdlSWQpO1xuICB9LFxuICBnZXRBc3NldEltYWdlVXJsKGltYWdlSWQpIHtcbiAgICByZXR1cm4gRXhwbG9yZXJVdGlsLmdldEFzc2V0SW1hZ2VVcmwoaW1hZ2VJZCk7XG4gIH0sXG4gIHJlc2V0U2VhcmNoKCkge1xuICAgIHN0YXRlJDMuc2VhcmNoID0geyBsaXN0aW5nczogW10sIHRvdGFsOiAwLCBwYWdlOiAxIH07XG4gIH1cbn07XG5cbmNvbnN0IHN0YXRlJDIgPSBwcm94eSh7XG4gIG9wZW46IGZhbHNlXG59KTtcbmNvbnN0IE1vZGFsQ3RybCA9IHtcbiAgc3RhdGU6IHN0YXRlJDIsXG4gIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgIHJldHVybiBzdWJzY3JpYmUoc3RhdGUkMiwgKCkgPT4gY2FsbGJhY2soc3RhdGUkMikpO1xuICB9LFxuICBhc3luYyBvcGVuKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IHsgaXNVaUxvYWRlZCwgaXNEYXRhTG9hZGVkIH0gPSBPcHRpb25zQ3RybC5zdGF0ZTtcbiAgICAgIENvcmVVdGlsLnJlbW92ZVdhbGxldENvbm5lY3REZWVwTGluaygpO1xuICAgICAgT3B0aW9uc0N0cmwuc2V0V2FsbGV0Q29ubmVjdFVyaShvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnVyaSk7XG4gICAgICBPcHRpb25zQ3RybC5zZXRDaGFpbnMob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5jaGFpbnMpO1xuICAgICAgUm91dGVyQ3RybC5yZXNldChcIkNvbm5lY3RXYWxsZXRcIik7XG4gICAgICBpZiAoaXNVaUxvYWRlZCAmJiBpc0RhdGFMb2FkZWQpIHtcbiAgICAgICAgc3RhdGUkMi5vcGVuID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgb3B0cyA9IE9wdGlvbnNDdHJsLnN0YXRlO1xuICAgICAgICAgIGlmIChvcHRzLmlzVWlMb2FkZWQgJiYgb3B0cy5pc0RhdGFMb2FkZWQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgc3RhdGUkMi5vcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIGNsb3NlKCkge1xuICAgIHN0YXRlJDIub3BlbiA9IGZhbHNlO1xuICB9XG59O1xuXG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG5mdW5jdGlvbiBpc0RhcmtNb2RlKCkge1xuICByZXR1cm4gdHlwZW9mIG1hdGNoTWVkaWEgIT09IFwidW5kZWZpbmVkXCIgJiYgbWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikubWF0Y2hlcztcbn1cbmNvbnN0IHN0YXRlJDEgPSBwcm94eSh7XG4gIHRoZW1lTW9kZTogaXNEYXJrTW9kZSgpID8gXCJkYXJrXCIgOiBcImxpZ2h0XCJcbn0pO1xuY29uc3QgVGhlbWVDdHJsID0ge1xuICBzdGF0ZTogc3RhdGUkMSxcbiAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHN1YnNjcmliZShzdGF0ZSQxLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSQxKSk7XG4gIH0sXG4gIHNldFRoZW1lQ29uZmlnKHRoZW1lKSB7XG4gICAgY29uc3QgeyB0aGVtZU1vZGUsIHRoZW1lVmFyaWFibGVzIH0gPSB0aGVtZTtcbiAgICBpZiAodGhlbWVNb2RlKSB7XG4gICAgICBzdGF0ZSQxLnRoZW1lTW9kZSA9IHRoZW1lTW9kZTtcbiAgICB9XG4gICAgaWYgKHRoZW1lVmFyaWFibGVzKSB7XG4gICAgICBzdGF0ZSQxLnRoZW1lVmFyaWFibGVzID0gX19zcHJlYWRWYWx1ZXMoe30sIHRoZW1lVmFyaWFibGVzKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICBvcGVuOiBmYWxzZSxcbiAgbWVzc2FnZTogXCJcIixcbiAgdmFyaWFudDogXCJzdWNjZXNzXCJcbn0pO1xuY29uc3QgVG9hc3RDdHJsID0ge1xuICBzdGF0ZSxcbiAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHN1YnNjcmliZShzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgfSxcbiAgb3BlblRvYXN0KG1lc3NhZ2UsIHZhcmlhbnQpIHtcbiAgICBzdGF0ZS5vcGVuID0gdHJ1ZTtcbiAgICBzdGF0ZS5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICBzdGF0ZS52YXJpYW50ID0gdmFyaWFudDtcbiAgfSxcbiAgY2xvc2VUb2FzdCgpIHtcbiAgICBzdGF0ZS5vcGVuID0gZmFsc2U7XG4gIH1cbn07XG5cbmV4cG9ydCB7IENvbmZpZ0N0cmwsIENvcmVVdGlsLCBFdmVudHNDdHJsLCBFeHBsb3JlckN0cmwsIE1vZGFsQ3RybCwgT3B0aW9uc0N0cmwsIFJvdXRlckN0cmwsIFRoZW1lQ3RybCwgVG9hc3RDdHJsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-core/node_modules/proxy-compare/dist/index.modern.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-core/node_modules/proxy-compare/dist/index.modern.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   affectedToPathList: () => (/* binding */ w),\n/* harmony export */   createProxy: () => (/* binding */ a),\n/* harmony export */   getUntracked: () => (/* binding */ y),\n/* harmony export */   isChanged: () => (/* binding */ p),\n/* harmony export */   markToTrack: () => (/* binding */ h),\n/* harmony export */   replaceNewProxy: () => (/* binding */ O),\n/* harmony export */   trackMemo: () => (/* binding */ g)\n/* harmony export */ });\nconst e=Symbol(),t=Symbol(),r=\"a\",n=\"w\";let o=(e,t)=>new Proxy(e,t);const s=Object.getPrototypeOf,c=new WeakMap,l=e=>e&&(c.has(e)?c.get(e):s(e)===Object.prototype||s(e)===Array.prototype),f=e=>\"object\"==typeof e&&null!==e,i=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(e=>{e.configurable=!0}),Object.create(s(e),t)},u=e=>e[t]||e,a=(s,c,f,p)=>{if(!l(s))return s;let g=p&&p.get(s);if(!g){const e=u(s);g=(e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(e=>!e.configurable&&!e.writable))(e)?[e,i(e)]:[e],null==p||p.set(s,g)}const[y,h]=g;let w=f&&f.get(y);return w&&w[1].f===!!h||(w=((o,s)=>{const c={f:s};let l=!1;const f=(e,t)=>{if(!l){let s=c[r].get(o);if(s||(s={},c[r].set(o,s)),e===n)s[n]=!0;else{let r=s[e];r||(r=new Set,s[e]=r),r.add(t)}}},i={get:(e,n)=>n===t?o:(f(\"k\",n),a(Reflect.get(e,n),c[r],c.c,c.t)),has:(t,n)=>n===e?(l=!0,c[r].delete(o),!0):(f(\"h\",n),Reflect.has(t,n)),getOwnPropertyDescriptor:(e,t)=>(f(\"o\",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(f(n),Reflect.ownKeys(e))};return s&&(i.set=i.deleteProperty=()=>!1),[i,c]})(y,!!h),w[1].p=o(h||y,w[0]),f&&f.set(y,w)),w[1][r]=c,w[1].c=f,w[1].t=p,w[1].p},p=(e,t,r,o)=>{if(Object.is(e,t))return!1;if(!f(e)||!f(t))return!0;const s=r.get(u(e));if(!s)return!0;if(o){const r=o.get(e);if(r&&r.n===t)return r.g;o.set(e,{n:t,g:!1})}let c=null;try{for(const r of s.h||[])if(c=Reflect.has(e,r)!==Reflect.has(t,r),c)return c;if(!0===s[n]){if(c=((e,t)=>{const r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);return r.length!==n.length||r.some((e,t)=>e!==n[t])})(e,t),c)return c}else for(const r of s.o||[])if(c=!!Reflect.getOwnPropertyDescriptor(e,r)!=!!Reflect.getOwnPropertyDescriptor(t,r),c)return c;for(const n of s.k||[])if(c=p(e[n],t[n],r,o),c)return c;return null===c&&(c=!0),c}finally{o&&o.set(e,{n:t,g:c})}},g=t=>!!l(t)&&e in t,y=e=>l(e)&&e[t]||null,h=(e,t=!0)=>{c.set(e,t)},w=(e,t,r)=>{const o=[],s=new WeakSet,c=(e,l)=>{if(s.has(e))return;f(e)&&s.add(e);const i=f(e)&&t.get(u(e));if(i){var a,p;if(null==(a=i.h)||a.forEach(e=>{const t=`:has(${String(e)})`;o.push(l?[...l,t]:[t])}),!0===i[n]){const e=\":ownKeys\";o.push(l?[...l,e]:[e])}else{var g;null==(g=i.o)||g.forEach(e=>{const t=`:hasOwn(${String(e)})`;o.push(l?[...l,t]:[t])})}null==(p=i.k)||p.forEach(t=>{r&&!(\"value\"in(Object.getOwnPropertyDescriptor(e,t)||{}))||c(e[t],l?[...l,t]:[t])})}else l&&o.push(l)};return c(e),o},O=e=>{o=e};\n//# sourceMappingURL=index.modern.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZS9ub2RlX21vZHVsZXMvcHJveHktY29tcGFyZS9kaXN0L2luZGV4Lm1vZGVybi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsd0NBQXdDLDRCQUE0QixnS0FBZ0sseUNBQXlDLDRDQUE0QyxvQ0FBb0Msa0JBQWtCLHdCQUF3Qiw0QkFBNEIsa0JBQWtCLGtCQUFrQixPQUFPLGFBQWEsb0lBQW9JLGFBQWEsa0JBQWtCLG9DQUFvQyxTQUFTLEtBQUssU0FBUyxnQkFBZ0IsT0FBTyxrQkFBa0IsV0FBVyw4QkFBOEIsS0FBSyxXQUFXLGlDQUFpQyxJQUFJLDRQQUE0UCxnREFBZ0QsK0VBQStFLGVBQWUsMkJBQTJCLHlCQUF5QixvQkFBb0IsZUFBZSxNQUFNLGlCQUFpQix5QkFBeUIsU0FBUyxTQUFTLEVBQUUsV0FBVyxJQUFJLDJFQUEyRSxjQUFjLGNBQWMsZ0RBQWdELG9EQUFvRCxrQkFBa0IsNkhBQTZILHdEQUF3RCwwQkFBMEIsUUFBUSxZQUFZLFFBQVEsR0FBRyx3REFBd0QsV0FBVyxhQUFhLG1DQUFtQyxtQkFBbUIsZUFBZSwwQkFBMEIsTUFBTSxRQUFRLGdDQUFnQyxnQkFBZ0IsVUFBVSxHQUFHLHVCQUF1QixhQUFhLG1CQUFtQix1QkFBdUIsS0FBSyxNQUFNLDZCQUE2QixtQkFBbUIsVUFBVSxHQUFHLHVCQUF1QixFQUFFLDZCQUE2Qix1REFBdUQsMkJBQTJCLEVBQUUsbUJBQW1CLGNBQWMsT0FBTyxLQUE0STtBQUM3Z0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZS9ub2RlX21vZHVsZXMvcHJveHktY29tcGFyZS9kaXN0L2luZGV4Lm1vZGVybi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlPVN5bWJvbCgpLHQ9U3ltYm9sKCkscj1cImFcIixuPVwid1wiO2xldCBvPShlLHQpPT5uZXcgUHJveHkoZSx0KTtjb25zdCBzPU9iamVjdC5nZXRQcm90b3R5cGVPZixjPW5ldyBXZWFrTWFwLGw9ZT0+ZSYmKGMuaGFzKGUpP2MuZ2V0KGUpOnMoZSk9PT1PYmplY3QucHJvdG90eXBlfHxzKGUpPT09QXJyYXkucHJvdG90eXBlKSxmPWU9Plwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSxpPWU9PntpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBBcnJheS5mcm9tKGUpO2NvbnN0IHQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoZSk7cmV0dXJuIE9iamVjdC52YWx1ZXModCkuZm9yRWFjaChlPT57ZS5jb25maWd1cmFibGU9ITB9KSxPYmplY3QuY3JlYXRlKHMoZSksdCl9LHU9ZT0+ZVt0XXx8ZSxhPShzLGMsZixwKT0+e2lmKCFsKHMpKXJldHVybiBzO2xldCBnPXAmJnAuZ2V0KHMpO2lmKCFnKXtjb25zdCBlPXUocyk7Zz0oZT0+T2JqZWN0LnZhbHVlcyhPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhlKSkuc29tZShlPT4hZS5jb25maWd1cmFibGUmJiFlLndyaXRhYmxlKSkoZSk/W2UsaShlKV06W2VdLG51bGw9PXB8fHAuc2V0KHMsZyl9Y29uc3RbeSxoXT1nO2xldCB3PWYmJmYuZ2V0KHkpO3JldHVybiB3JiZ3WzFdLmY9PT0hIWh8fCh3PSgobyxzKT0+e2NvbnN0IGM9e2Y6c307bGV0IGw9ITE7Y29uc3QgZj0oZSx0KT0+e2lmKCFsKXtsZXQgcz1jW3JdLmdldChvKTtpZihzfHwocz17fSxjW3JdLnNldChvLHMpKSxlPT09bilzW25dPSEwO2Vsc2V7bGV0IHI9c1tlXTtyfHwocj1uZXcgU2V0LHNbZV09ciksci5hZGQodCl9fX0saT17Z2V0OihlLG4pPT5uPT09dD9vOihmKFwia1wiLG4pLGEoUmVmbGVjdC5nZXQoZSxuKSxjW3JdLGMuYyxjLnQpKSxoYXM6KHQsbik9Pm49PT1lPyhsPSEwLGNbcl0uZGVsZXRlKG8pLCEwKTooZihcImhcIixuKSxSZWZsZWN0Lmhhcyh0LG4pKSxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6KGUsdCk9PihmKFwib1wiLHQpLFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkpLG93bktleXM6ZT0+KGYobiksUmVmbGVjdC5vd25LZXlzKGUpKX07cmV0dXJuIHMmJihpLnNldD1pLmRlbGV0ZVByb3BlcnR5PSgpPT4hMSksW2ksY119KSh5LCEhaCksd1sxXS5wPW8oaHx8eSx3WzBdKSxmJiZmLnNldCh5LHcpKSx3WzFdW3JdPWMsd1sxXS5jPWYsd1sxXS50PXAsd1sxXS5wfSxwPShlLHQscixvKT0+e2lmKE9iamVjdC5pcyhlLHQpKXJldHVybiExO2lmKCFmKGUpfHwhZih0KSlyZXR1cm4hMDtjb25zdCBzPXIuZ2V0KHUoZSkpO2lmKCFzKXJldHVybiEwO2lmKG8pe2NvbnN0IHI9by5nZXQoZSk7aWYociYmci5uPT09dClyZXR1cm4gci5nO28uc2V0KGUse246dCxnOiExfSl9bGV0IGM9bnVsbDt0cnl7Zm9yKGNvbnN0IHIgb2Ygcy5ofHxbXSlpZihjPVJlZmxlY3QuaGFzKGUscikhPT1SZWZsZWN0Lmhhcyh0LHIpLGMpcmV0dXJuIGM7aWYoITA9PT1zW25dKXtpZihjPSgoZSx0KT0+e2NvbnN0IHI9UmVmbGVjdC5vd25LZXlzKGUpLG49UmVmbGVjdC5vd25LZXlzKHQpO3JldHVybiByLmxlbmd0aCE9PW4ubGVuZ3RofHxyLnNvbWUoKGUsdCk9PmUhPT1uW3RdKX0pKGUsdCksYylyZXR1cm4gY31lbHNlIGZvcihjb25zdCByIG9mIHMub3x8W10paWYoYz0hIVJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikhPSEhUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSxjKXJldHVybiBjO2Zvcihjb25zdCBuIG9mIHMua3x8W10paWYoYz1wKGVbbl0sdFtuXSxyLG8pLGMpcmV0dXJuIGM7cmV0dXJuIG51bGw9PT1jJiYoYz0hMCksY31maW5hbGx5e28mJm8uc2V0KGUse246dCxnOmN9KX19LGc9dD0+ISFsKHQpJiZlIGluIHQseT1lPT5sKGUpJiZlW3RdfHxudWxsLGg9KGUsdD0hMCk9PntjLnNldChlLHQpfSx3PShlLHQscik9Pntjb25zdCBvPVtdLHM9bmV3IFdlYWtTZXQsYz0oZSxsKT0+e2lmKHMuaGFzKGUpKXJldHVybjtmKGUpJiZzLmFkZChlKTtjb25zdCBpPWYoZSkmJnQuZ2V0KHUoZSkpO2lmKGkpe3ZhciBhLHA7aWYobnVsbD09KGE9aS5oKXx8YS5mb3JFYWNoKGU9Pntjb25zdCB0PWA6aGFzKCR7U3RyaW5nKGUpfSlgO28ucHVzaChsP1suLi5sLHRdOlt0XSl9KSwhMD09PWlbbl0pe2NvbnN0IGU9XCI6b3duS2V5c1wiO28ucHVzaChsP1suLi5sLGVdOltlXSl9ZWxzZXt2YXIgZztudWxsPT0oZz1pLm8pfHxnLmZvckVhY2goZT0+e2NvbnN0IHQ9YDpoYXNPd24oJHtTdHJpbmcoZSl9KWA7by5wdXNoKGw/Wy4uLmwsdF06W3RdKX0pfW51bGw9PShwPWkuayl8fHAuZm9yRWFjaCh0PT57ciYmIShcInZhbHVlXCJpbihPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCl8fHt9KSl8fGMoZVt0XSxsP1suLi5sLHRdOlt0XSl9KX1lbHNlIGwmJm8ucHVzaChsKX07cmV0dXJuIGMoZSksb30sTz1lPT57bz1lfTtleHBvcnR7dyBhcyBhZmZlY3RlZFRvUGF0aExpc3QsYSBhcyBjcmVhdGVQcm94eSx5IGFzIGdldFVudHJhY2tlZCxwIGFzIGlzQ2hhbmdlZCxoIGFzIG1hcmtUb1RyYWNrLE8gYXMgcmVwbGFjZU5ld1Byb3h5LGcgYXMgdHJhY2tNZW1vfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1vZGVybi5tanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-core/node_modules/proxy-compare/dist/index.modern.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-core/node_modules/valtio/esm/vanilla.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-core/node_modules/valtio/esm/vanilla.mjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getVersion: () => (/* binding */ getVersion),\n/* harmony export */   proxy: () => (/* binding */ proxy),\n/* harmony export */   ref: () => (/* binding */ ref),\n/* harmony export */   snapshot: () => (/* binding */ snapshot),\n/* harmony export */   subscribe: () => (/* binding */ subscribe),\n/* harmony export */   unstable_buildProxyFunction: () => (/* binding */ unstable_buildProxyFunction)\n/* harmony export */ });\n/* harmony import */ var proxy_compare__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! proxy-compare */ \"(ssr)/./node_modules/@walletconnect/modal-core/node_modules/proxy-compare/dist/index.modern.js\");\n\n\nconst isObject = (x) => typeof x === \"object\" && x !== null;\nconst proxyStateMap = /* @__PURE__ */ new WeakMap();\nconst refSet = /* @__PURE__ */ new WeakSet();\nconst buildProxyFunction = (objectIs = Object.is, newProxy = (target, handler) => new Proxy(target, handler), canProxy = (x) => isObject(x) && !refSet.has(x) && (Array.isArray(x) || !(Symbol.iterator in x)) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer), defaultHandlePromise = (promise) => {\n  switch (promise.status) {\n    case \"fulfilled\":\n      return promise.value;\n    case \"rejected\":\n      throw promise.reason;\n    default:\n      throw promise;\n  }\n}, snapCache = /* @__PURE__ */ new WeakMap(), createSnapshot = (target, version, handlePromise = defaultHandlePromise) => {\n  const cache = snapCache.get(target);\n  if ((cache == null ? void 0 : cache[0]) === version) {\n    return cache[1];\n  }\n  const snap = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\n  (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(snap, true);\n  snapCache.set(target, [version, snap]);\n  Reflect.ownKeys(target).forEach((key) => {\n    if (Object.getOwnPropertyDescriptor(snap, key)) {\n      return;\n    }\n    const value = Reflect.get(target, key);\n    const desc = {\n      value,\n      enumerable: true,\n      // This is intentional to avoid copying with proxy-compare.\n      // It's still non-writable, so it avoids assigning a value.\n      configurable: true\n    };\n    if (refSet.has(value)) {\n      (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(value, false);\n    } else if (value instanceof Promise) {\n      delete desc.value;\n      desc.get = () => handlePromise(value);\n    } else if (proxyStateMap.has(value)) {\n      const [target2, ensureVersion] = proxyStateMap.get(\n        value\n      );\n      desc.value = createSnapshot(\n        target2,\n        ensureVersion(),\n        handlePromise\n      );\n    }\n    Object.defineProperty(snap, key, desc);\n  });\n  return Object.preventExtensions(snap);\n}, proxyCache = /* @__PURE__ */ new WeakMap(), versionHolder = [1, 1], proxyFunction = (initialObject) => {\n  if (!isObject(initialObject)) {\n    throw new Error(\"object required\");\n  }\n  const found = proxyCache.get(initialObject);\n  if (found) {\n    return found;\n  }\n  let version = versionHolder[0];\n  const listeners = /* @__PURE__ */ new Set();\n  const notifyUpdate = (op, nextVersion = ++versionHolder[0]) => {\n    if (version !== nextVersion) {\n      version = nextVersion;\n      listeners.forEach((listener) => listener(op, nextVersion));\n    }\n  };\n  let checkVersion = versionHolder[1];\n  const ensureVersion = (nextCheckVersion = ++versionHolder[1]) => {\n    if (checkVersion !== nextCheckVersion && !listeners.size) {\n      checkVersion = nextCheckVersion;\n      propProxyStates.forEach(([propProxyState]) => {\n        const propVersion = propProxyState[1](nextCheckVersion);\n        if (propVersion > version) {\n          version = propVersion;\n        }\n      });\n    }\n    return version;\n  };\n  const createPropListener = (prop) => (op, nextVersion) => {\n    const newOp = [...op];\n    newOp[1] = [prop, ...newOp[1]];\n    notifyUpdate(newOp, nextVersion);\n  };\n  const propProxyStates = /* @__PURE__ */ new Map();\n  const addPropListener = (prop, propProxyState) => {\n    if (( false ? 0 : void 0) !== \"production\" && propProxyStates.has(prop)) {\n      throw new Error(\"prop listener already exists\");\n    }\n    if (listeners.size) {\n      const remove = propProxyState[3](createPropListener(prop));\n      propProxyStates.set(prop, [propProxyState, remove]);\n    } else {\n      propProxyStates.set(prop, [propProxyState]);\n    }\n  };\n  const removePropListener = (prop) => {\n    var _a;\n    const entry = propProxyStates.get(prop);\n    if (entry) {\n      propProxyStates.delete(prop);\n      (_a = entry[1]) == null ? void 0 : _a.call(entry);\n    }\n  };\n  const addListener = (listener) => {\n    listeners.add(listener);\n    if (listeners.size === 1) {\n      propProxyStates.forEach(([propProxyState, prevRemove], prop) => {\n        if (( false ? 0 : void 0) !== \"production\" && prevRemove) {\n          throw new Error(\"remove already exists\");\n        }\n        const remove = propProxyState[3](createPropListener(prop));\n        propProxyStates.set(prop, [propProxyState, remove]);\n      });\n    }\n    const removeListener = () => {\n      listeners.delete(listener);\n      if (listeners.size === 0) {\n        propProxyStates.forEach(([propProxyState, remove], prop) => {\n          if (remove) {\n            remove();\n            propProxyStates.set(prop, [propProxyState]);\n          }\n        });\n      }\n    };\n    return removeListener;\n  };\n  const baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));\n  const handler = {\n    deleteProperty(target, prop) {\n      const prevValue = Reflect.get(target, prop);\n      removePropListener(prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n      if (deleted) {\n        notifyUpdate([\"delete\", [prop], prevValue]);\n      }\n      return deleted;\n    },\n    set(target, prop, value, receiver) {\n      const hasPrevValue = Reflect.has(target, prop);\n      const prevValue = Reflect.get(target, prop, receiver);\n      if (hasPrevValue && (objectIs(prevValue, value) || proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value)))) {\n        return true;\n      }\n      removePropListener(prop);\n      if (isObject(value)) {\n        value = (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.getUntracked)(value) || value;\n      }\n      let nextValue = value;\n      if (value instanceof Promise) {\n        value.then((v) => {\n          value.status = \"fulfilled\";\n          value.value = v;\n          notifyUpdate([\"resolve\", [prop], v]);\n        }).catch((e) => {\n          value.status = \"rejected\";\n          value.reason = e;\n          notifyUpdate([\"reject\", [prop], e]);\n        });\n      } else {\n        if (!proxyStateMap.has(value) && canProxy(value)) {\n          nextValue = proxyFunction(value);\n        }\n        const childProxyState = !refSet.has(nextValue) && proxyStateMap.get(nextValue);\n        if (childProxyState) {\n          addPropListener(prop, childProxyState);\n        }\n      }\n      Reflect.set(target, prop, nextValue, receiver);\n      notifyUpdate([\"set\", [prop], value, prevValue]);\n      return true;\n    }\n  };\n  const proxyObject = newProxy(baseObject, handler);\n  proxyCache.set(initialObject, proxyObject);\n  const proxyState = [\n    baseObject,\n    ensureVersion,\n    createSnapshot,\n    addListener\n  ];\n  proxyStateMap.set(proxyObject, proxyState);\n  Reflect.ownKeys(initialObject).forEach((key) => {\n    const desc = Object.getOwnPropertyDescriptor(\n      initialObject,\n      key\n    );\n    if (\"value\" in desc) {\n      proxyObject[key] = initialObject[key];\n      delete desc.value;\n      delete desc.writable;\n    }\n    Object.defineProperty(baseObject, key, desc);\n  });\n  return proxyObject;\n}) => [\n  // public functions\n  proxyFunction,\n  // shared state\n  proxyStateMap,\n  refSet,\n  // internal things\n  objectIs,\n  newProxy,\n  canProxy,\n  defaultHandlePromise,\n  snapCache,\n  createSnapshot,\n  proxyCache,\n  versionHolder\n];\nconst [defaultProxyFunction] = buildProxyFunction();\nfunction proxy(initialObject = {}) {\n  return defaultProxyFunction(initialObject);\n}\nfunction getVersion(proxyObject) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  return proxyState == null ? void 0 : proxyState[1]();\n}\nfunction subscribe(proxyObject, callback, notifyInSync) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (( false ? 0 : void 0) !== \"production\" && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  let promise;\n  const ops = [];\n  const addListener = proxyState[3];\n  let isListenerActive = false;\n  const listener = (op) => {\n    ops.push(op);\n    if (notifyInSync) {\n      callback(ops.splice(0));\n      return;\n    }\n    if (!promise) {\n      promise = Promise.resolve().then(() => {\n        promise = void 0;\n        if (isListenerActive) {\n          callback(ops.splice(0));\n        }\n      });\n    }\n  };\n  const removeListener = addListener(listener);\n  isListenerActive = true;\n  return () => {\n    isListenerActive = false;\n    removeListener();\n  };\n}\nfunction snapshot(proxyObject, handlePromise) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (( false ? 0 : void 0) !== \"production\" && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  const [target, ensureVersion, createSnapshot] = proxyState;\n  return createSnapshot(target, ensureVersion(), handlePromise);\n}\nfunction ref(obj) {\n  refSet.add(obj);\n  return obj;\n}\nconst unstable_buildProxyFunction = buildProxyFunction;\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZS9ub2RlX21vZHVsZXMvdmFsdGlvL2VzbS92YW5pbGxhLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBEOztBQUUxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsMERBQVc7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwwREFBVztBQUNqQixNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLE1BQWUsR0FBRyxDQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsTUFBZSxHQUFHLENBQW9CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkRBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sTUFBZSxHQUFHLENBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxNQUFlLEdBQUcsQ0FBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9GIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLWNvcmUvbm9kZV9tb2R1bGVzL3ZhbHRpby9lc20vdmFuaWxsYS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWFya1RvVHJhY2ssIGdldFVudHJhY2tlZCB9IGZyb20gJ3Byb3h5LWNvbXBhcmUnO1xuXG5jb25zdCBpc09iamVjdCA9ICh4KSA9PiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4ICE9PSBudWxsO1xuY29uc3QgcHJveHlTdGF0ZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmVmU2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCk7XG5jb25zdCBidWlsZFByb3h5RnVuY3Rpb24gPSAob2JqZWN0SXMgPSBPYmplY3QuaXMsIG5ld1Byb3h5ID0gKHRhcmdldCwgaGFuZGxlcikgPT4gbmV3IFByb3h5KHRhcmdldCwgaGFuZGxlciksIGNhblByb3h5ID0gKHgpID0+IGlzT2JqZWN0KHgpICYmICFyZWZTZXQuaGFzKHgpICYmIChBcnJheS5pc0FycmF5KHgpIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIHgpKSAmJiAhKHggaW5zdGFuY2VvZiBXZWFrTWFwKSAmJiAhKHggaW5zdGFuY2VvZiBXZWFrU2V0KSAmJiAhKHggaW5zdGFuY2VvZiBFcnJvcikgJiYgISh4IGluc3RhbmNlb2YgTnVtYmVyKSAmJiAhKHggaW5zdGFuY2VvZiBEYXRlKSAmJiAhKHggaW5zdGFuY2VvZiBTdHJpbmcpICYmICEoeCBpbnN0YW5jZW9mIFJlZ0V4cCkgJiYgISh4IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpLCBkZWZhdWx0SGFuZGxlUHJvbWlzZSA9IChwcm9taXNlKSA9PiB7XG4gIHN3aXRjaCAocHJvbWlzZS5zdGF0dXMpIHtcbiAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICByZXR1cm4gcHJvbWlzZS52YWx1ZTtcbiAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgIHRocm93IHByb21pc2UucmVhc29uO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBwcm9taXNlO1xuICB9XG59LCBzbmFwQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgY3JlYXRlU25hcHNob3QgPSAodGFyZ2V0LCB2ZXJzaW9uLCBoYW5kbGVQcm9taXNlID0gZGVmYXVsdEhhbmRsZVByb21pc2UpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBzbmFwQ2FjaGUuZ2V0KHRhcmdldCk7XG4gIGlmICgoY2FjaGUgPT0gbnVsbCA/IHZvaWQgMCA6IGNhY2hlWzBdKSA9PT0gdmVyc2lvbikge1xuICAgIHJldHVybiBjYWNoZVsxXTtcbiAgfVxuICBjb25zdCBzbmFwID0gQXJyYXkuaXNBcnJheSh0YXJnZXQpID8gW10gOiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpKTtcbiAgbWFya1RvVHJhY2soc25hcCwgdHJ1ZSk7XG4gIHNuYXBDYWNoZS5zZXQodGFyZ2V0LCBbdmVyc2lvbiwgc25hcF0pO1xuICBSZWZsZWN0Lm93bktleXModGFyZ2V0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzbmFwLCBrZXkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXkpO1xuICAgIGNvbnN0IGRlc2MgPSB7XG4gICAgICB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsIHRvIGF2b2lkIGNvcHlpbmcgd2l0aCBwcm94eS1jb21wYXJlLlxuICAgICAgLy8gSXQncyBzdGlsbCBub24td3JpdGFibGUsIHNvIGl0IGF2b2lkcyBhc3NpZ25pbmcgYSB2YWx1ZS5cbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH07XG4gICAgaWYgKHJlZlNldC5oYXModmFsdWUpKSB7XG4gICAgICBtYXJrVG9UcmFjayh2YWx1ZSwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICBkZWxldGUgZGVzYy52YWx1ZTtcbiAgICAgIGRlc2MuZ2V0ID0gKCkgPT4gaGFuZGxlUHJvbWlzZSh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChwcm94eVN0YXRlTWFwLmhhcyh2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IFt0YXJnZXQyLCBlbnN1cmVWZXJzaW9uXSA9IHByb3h5U3RhdGVNYXAuZ2V0KFxuICAgICAgICB2YWx1ZVxuICAgICAgKTtcbiAgICAgIGRlc2MudmFsdWUgPSBjcmVhdGVTbmFwc2hvdChcbiAgICAgICAgdGFyZ2V0MixcbiAgICAgICAgZW5zdXJlVmVyc2lvbigpLFxuICAgICAgICBoYW5kbGVQcm9taXNlXG4gICAgICApO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc25hcCwga2V5LCBkZXNjKTtcbiAgfSk7XG4gIHJldHVybiBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoc25hcCk7XG59LCBwcm94eUNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIHZlcnNpb25Ib2xkZXIgPSBbMSwgMV0sIHByb3h5RnVuY3Rpb24gPSAoaW5pdGlhbE9iamVjdCkgPT4ge1xuICBpZiAoIWlzT2JqZWN0KGluaXRpYWxPYmplY3QpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwib2JqZWN0IHJlcXVpcmVkXCIpO1xuICB9XG4gIGNvbnN0IGZvdW5kID0gcHJveHlDYWNoZS5nZXQoaW5pdGlhbE9iamVjdCk7XG4gIGlmIChmb3VuZCkge1xuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuICBsZXQgdmVyc2lvbiA9IHZlcnNpb25Ib2xkZXJbMF07XG4gIGNvbnN0IGxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGNvbnN0IG5vdGlmeVVwZGF0ZSA9IChvcCwgbmV4dFZlcnNpb24gPSArK3ZlcnNpb25Ib2xkZXJbMF0pID0+IHtcbiAgICBpZiAodmVyc2lvbiAhPT0gbmV4dFZlcnNpb24pIHtcbiAgICAgIHZlcnNpb24gPSBuZXh0VmVyc2lvbjtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIob3AsIG5leHRWZXJzaW9uKSk7XG4gICAgfVxuICB9O1xuICBsZXQgY2hlY2tWZXJzaW9uID0gdmVyc2lvbkhvbGRlclsxXTtcbiAgY29uc3QgZW5zdXJlVmVyc2lvbiA9IChuZXh0Q2hlY2tWZXJzaW9uID0gKyt2ZXJzaW9uSG9sZGVyWzFdKSA9PiB7XG4gICAgaWYgKGNoZWNrVmVyc2lvbiAhPT0gbmV4dENoZWNrVmVyc2lvbiAmJiAhbGlzdGVuZXJzLnNpemUpIHtcbiAgICAgIGNoZWNrVmVyc2lvbiA9IG5leHRDaGVja1ZlcnNpb247XG4gICAgICBwcm9wUHJveHlTdGF0ZXMuZm9yRWFjaCgoW3Byb3BQcm94eVN0YXRlXSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9wVmVyc2lvbiA9IHByb3BQcm94eVN0YXRlWzFdKG5leHRDaGVja1ZlcnNpb24pO1xuICAgICAgICBpZiAocHJvcFZlcnNpb24gPiB2ZXJzaW9uKSB7XG4gICAgICAgICAgdmVyc2lvbiA9IHByb3BWZXJzaW9uO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZlcnNpb247XG4gIH07XG4gIGNvbnN0IGNyZWF0ZVByb3BMaXN0ZW5lciA9IChwcm9wKSA9PiAob3AsIG5leHRWZXJzaW9uKSA9PiB7XG4gICAgY29uc3QgbmV3T3AgPSBbLi4ub3BdO1xuICAgIG5ld09wWzFdID0gW3Byb3AsIC4uLm5ld09wWzFdXTtcbiAgICBub3RpZnlVcGRhdGUobmV3T3AsIG5leHRWZXJzaW9uKTtcbiAgfTtcbiAgY29uc3QgcHJvcFByb3h5U3RhdGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgY29uc3QgYWRkUHJvcExpc3RlbmVyID0gKHByb3AsIHByb3BQcm94eVN0YXRlKSA9PiB7XG4gICAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmIHByb3BQcm94eVN0YXRlcy5oYXMocHJvcCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInByb3AgbGlzdGVuZXIgYWxyZWFkeSBleGlzdHNcIik7XG4gICAgfVxuICAgIGlmIChsaXN0ZW5lcnMuc2l6ZSkge1xuICAgICAgY29uc3QgcmVtb3ZlID0gcHJvcFByb3h5U3RhdGVbM10oY3JlYXRlUHJvcExpc3RlbmVyKHByb3ApKTtcbiAgICAgIHByb3BQcm94eVN0YXRlcy5zZXQocHJvcCwgW3Byb3BQcm94eVN0YXRlLCByZW1vdmVdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvcFByb3h5U3RhdGVzLnNldChwcm9wLCBbcHJvcFByb3h5U3RhdGVdKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlbW92ZVByb3BMaXN0ZW5lciA9IChwcm9wKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGVudHJ5ID0gcHJvcFByb3h5U3RhdGVzLmdldChwcm9wKTtcbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIHByb3BQcm94eVN0YXRlcy5kZWxldGUocHJvcCk7XG4gICAgICAoX2EgPSBlbnRyeVsxXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoZW50cnkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYWRkTGlzdGVuZXIgPSAobGlzdGVuZXIpID0+IHtcbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICBpZiAobGlzdGVuZXJzLnNpemUgPT09IDEpIHtcbiAgICAgIHByb3BQcm94eVN0YXRlcy5mb3JFYWNoKChbcHJvcFByb3h5U3RhdGUsIHByZXZSZW1vdmVdLCBwcm9wKSA9PiB7XG4gICAgICAgIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIiAmJiBwcmV2UmVtb3ZlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicmVtb3ZlIGFscmVhZHkgZXhpc3RzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IHByb3BQcm94eVN0YXRlWzNdKGNyZWF0ZVByb3BMaXN0ZW5lcihwcm9wKSk7XG4gICAgICAgIHByb3BQcm94eVN0YXRlcy5zZXQocHJvcCwgW3Byb3BQcm94eVN0YXRlLCByZW1vdmVdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgaWYgKGxpc3RlbmVycy5zaXplID09PSAwKSB7XG4gICAgICAgIHByb3BQcm94eVN0YXRlcy5mb3JFYWNoKChbcHJvcFByb3h5U3RhdGUsIHJlbW92ZV0sIHByb3ApID0+IHtcbiAgICAgICAgICBpZiAocmVtb3ZlKSB7XG4gICAgICAgICAgICByZW1vdmUoKTtcbiAgICAgICAgICAgIHByb3BQcm94eVN0YXRlcy5zZXQocHJvcCwgW3Byb3BQcm94eVN0YXRlXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiByZW1vdmVMaXN0ZW5lcjtcbiAgfTtcbiAgY29uc3QgYmFzZU9iamVjdCA9IEFycmF5LmlzQXJyYXkoaW5pdGlhbE9iamVjdCkgPyBbXSA6IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKGluaXRpYWxPYmplY3QpKTtcbiAgY29uc3QgaGFuZGxlciA9IHtcbiAgICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApIHtcbiAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCk7XG4gICAgICByZW1vdmVQcm9wTGlzdGVuZXIocHJvcCk7XG4gICAgICBjb25zdCBkZWxldGVkID0gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApO1xuICAgICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgbm90aWZ5VXBkYXRlKFtcImRlbGV0ZVwiLCBbcHJvcF0sIHByZXZWYWx1ZV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlbGV0ZWQ7XG4gICAgfSxcbiAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgIGNvbnN0IGhhc1ByZXZWYWx1ZSA9IFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcCk7XG4gICAgICBjb25zdCBwcmV2VmFsdWUgPSBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgIGlmIChoYXNQcmV2VmFsdWUgJiYgKG9iamVjdElzKHByZXZWYWx1ZSwgdmFsdWUpIHx8IHByb3h5Q2FjaGUuaGFzKHZhbHVlKSAmJiBvYmplY3RJcyhwcmV2VmFsdWUsIHByb3h5Q2FjaGUuZ2V0KHZhbHVlKSkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmVtb3ZlUHJvcExpc3RlbmVyKHByb3ApO1xuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IGdldFVudHJhY2tlZCh2YWx1ZSkgfHwgdmFsdWU7XG4gICAgICB9XG4gICAgICBsZXQgbmV4dFZhbHVlID0gdmFsdWU7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHZhbHVlLnRoZW4oKHYpID0+IHtcbiAgICAgICAgICB2YWx1ZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiO1xuICAgICAgICAgIHZhbHVlLnZhbHVlID0gdjtcbiAgICAgICAgICBub3RpZnlVcGRhdGUoW1wicmVzb2x2ZVwiLCBbcHJvcF0sIHZdKTtcbiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICB2YWx1ZS5zdGF0dXMgPSBcInJlamVjdGVkXCI7XG4gICAgICAgICAgdmFsdWUucmVhc29uID0gZTtcbiAgICAgICAgICBub3RpZnlVcGRhdGUoW1wicmVqZWN0XCIsIFtwcm9wXSwgZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghcHJveHlTdGF0ZU1hcC5oYXModmFsdWUpICYmIGNhblByb3h5KHZhbHVlKSkge1xuICAgICAgICAgIG5leHRWYWx1ZSA9IHByb3h5RnVuY3Rpb24odmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoaWxkUHJveHlTdGF0ZSA9ICFyZWZTZXQuaGFzKG5leHRWYWx1ZSkgJiYgcHJveHlTdGF0ZU1hcC5nZXQobmV4dFZhbHVlKTtcbiAgICAgICAgaWYgKGNoaWxkUHJveHlTdGF0ZSkge1xuICAgICAgICAgIGFkZFByb3BMaXN0ZW5lcihwcm9wLCBjaGlsZFByb3h5U3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBSZWZsZWN0LnNldCh0YXJnZXQsIHByb3AsIG5leHRWYWx1ZSwgcmVjZWl2ZXIpO1xuICAgICAgbm90aWZ5VXBkYXRlKFtcInNldFwiLCBbcHJvcF0sIHZhbHVlLCBwcmV2VmFsdWVdKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJveHlPYmplY3QgPSBuZXdQcm94eShiYXNlT2JqZWN0LCBoYW5kbGVyKTtcbiAgcHJveHlDYWNoZS5zZXQoaW5pdGlhbE9iamVjdCwgcHJveHlPYmplY3QpO1xuICBjb25zdCBwcm94eVN0YXRlID0gW1xuICAgIGJhc2VPYmplY3QsXG4gICAgZW5zdXJlVmVyc2lvbixcbiAgICBjcmVhdGVTbmFwc2hvdCxcbiAgICBhZGRMaXN0ZW5lclxuICBdO1xuICBwcm94eVN0YXRlTWFwLnNldChwcm94eU9iamVjdCwgcHJveHlTdGF0ZSk7XG4gIFJlZmxlY3Qub3duS2V5cyhpbml0aWFsT2JqZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgIGluaXRpYWxPYmplY3QsXG4gICAgICBrZXlcbiAgICApO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzYykge1xuICAgICAgcHJveHlPYmplY3Rba2V5XSA9IGluaXRpYWxPYmplY3Rba2V5XTtcbiAgICAgIGRlbGV0ZSBkZXNjLnZhbHVlO1xuICAgICAgZGVsZXRlIGRlc2Mud3JpdGFibGU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiYXNlT2JqZWN0LCBrZXksIGRlc2MpO1xuICB9KTtcbiAgcmV0dXJuIHByb3h5T2JqZWN0O1xufSkgPT4gW1xuICAvLyBwdWJsaWMgZnVuY3Rpb25zXG4gIHByb3h5RnVuY3Rpb24sXG4gIC8vIHNoYXJlZCBzdGF0ZVxuICBwcm94eVN0YXRlTWFwLFxuICByZWZTZXQsXG4gIC8vIGludGVybmFsIHRoaW5nc1xuICBvYmplY3RJcyxcbiAgbmV3UHJveHksXG4gIGNhblByb3h5LFxuICBkZWZhdWx0SGFuZGxlUHJvbWlzZSxcbiAgc25hcENhY2hlLFxuICBjcmVhdGVTbmFwc2hvdCxcbiAgcHJveHlDYWNoZSxcbiAgdmVyc2lvbkhvbGRlclxuXTtcbmNvbnN0IFtkZWZhdWx0UHJveHlGdW5jdGlvbl0gPSBidWlsZFByb3h5RnVuY3Rpb24oKTtcbmZ1bmN0aW9uIHByb3h5KGluaXRpYWxPYmplY3QgPSB7fSkge1xuICByZXR1cm4gZGVmYXVsdFByb3h5RnVuY3Rpb24oaW5pdGlhbE9iamVjdCk7XG59XG5mdW5jdGlvbiBnZXRWZXJzaW9uKHByb3h5T2JqZWN0KSB7XG4gIGNvbnN0IHByb3h5U3RhdGUgPSBwcm94eVN0YXRlTWFwLmdldChwcm94eU9iamVjdCk7XG4gIHJldHVybiBwcm94eVN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBwcm94eVN0YXRlWzFdKCk7XG59XG5mdW5jdGlvbiBzdWJzY3JpYmUocHJveHlPYmplY3QsIGNhbGxiYWNrLCBub3RpZnlJblN5bmMpIHtcbiAgY29uc3QgcHJveHlTdGF0ZSA9IHByb3h5U3RhdGVNYXAuZ2V0KHByb3h5T2JqZWN0KTtcbiAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmICFwcm94eVN0YXRlKSB7XG4gICAgY29uc29sZS53YXJuKFwiUGxlYXNlIHVzZSBwcm94eSBvYmplY3RcIik7XG4gIH1cbiAgbGV0IHByb21pc2U7XG4gIGNvbnN0IG9wcyA9IFtdO1xuICBjb25zdCBhZGRMaXN0ZW5lciA9IHByb3h5U3RhdGVbM107XG4gIGxldCBpc0xpc3RlbmVyQWN0aXZlID0gZmFsc2U7XG4gIGNvbnN0IGxpc3RlbmVyID0gKG9wKSA9PiB7XG4gICAgb3BzLnB1c2gob3ApO1xuICAgIGlmIChub3RpZnlJblN5bmMpIHtcbiAgICAgIGNhbGxiYWNrKG9wcy5zcGxpY2UoMCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgcHJvbWlzZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGlzTGlzdGVuZXJBY3RpdmUpIHtcbiAgICAgICAgICBjYWxsYmFjayhvcHMuc3BsaWNlKDApKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmVMaXN0ZW5lciA9IGFkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgaXNMaXN0ZW5lckFjdGl2ZSA9IHRydWU7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaXNMaXN0ZW5lckFjdGl2ZSA9IGZhbHNlO1xuICAgIHJlbW92ZUxpc3RlbmVyKCk7XG4gIH07XG59XG5mdW5jdGlvbiBzbmFwc2hvdChwcm94eU9iamVjdCwgaGFuZGxlUHJvbWlzZSkge1xuICBjb25zdCBwcm94eVN0YXRlID0gcHJveHlTdGF0ZU1hcC5nZXQocHJveHlPYmplY3QpO1xuICBpZiAoKGltcG9ydC5tZXRhLmVudiA/IGltcG9ydC5tZXRhLmVudi5NT0RFIDogdm9pZCAwKSAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgIXByb3h5U3RhdGUpIHtcbiAgICBjb25zb2xlLndhcm4oXCJQbGVhc2UgdXNlIHByb3h5IG9iamVjdFwiKTtcbiAgfVxuICBjb25zdCBbdGFyZ2V0LCBlbnN1cmVWZXJzaW9uLCBjcmVhdGVTbmFwc2hvdF0gPSBwcm94eVN0YXRlO1xuICByZXR1cm4gY3JlYXRlU25hcHNob3QodGFyZ2V0LCBlbnN1cmVWZXJzaW9uKCksIGhhbmRsZVByb21pc2UpO1xufVxuZnVuY3Rpb24gcmVmKG9iaikge1xuICByZWZTZXQuYWRkKG9iaik7XG4gIHJldHVybiBvYmo7XG59XG5jb25zdCB1bnN0YWJsZV9idWlsZFByb3h5RnVuY3Rpb24gPSBidWlsZFByb3h5RnVuY3Rpb247XG5cbmV4cG9ydCB7IGdldFZlcnNpb24sIHByb3h5LCByZWYsIHNuYXBzaG90LCBzdWJzY3JpYmUsIHVuc3RhYmxlX2J1aWxkUHJveHlGdW5jdGlvbiB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-core/node_modules/valtio/esm/vanilla.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/dist/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/dist/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WcmModal: () => (/* binding */ WcmModal),\n/* harmony export */   WcmQrCode: () => (/* binding */ WcmQrCode)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/directives/class-map.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/class-map.js\");\n/* harmony import */ var _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/modal-core */ \"(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js\");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit-html */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\");\n/* harmony import */ var motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! motion */ \"(ssr)/./node_modules/motion/dist/animate.es.js\");\n/* harmony import */ var lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/directives/if-defined.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/if-defined.js\");\n/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! qrcode */ \"(ssr)/./node_modules/qrcode/lib/index.js\");\n\n\n\n\n\n\n\n\n\nvar __defProp$y = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp$y(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction themeModeVariables() {\n  var _a;\n  const themeMode = (_a = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeMode) != null ? _a : \"dark\";\n  const themeModePresets = {\n    light: {\n      foreground: { 1: `rgb(20,20,20)`, 2: `rgb(121,134,134)`, 3: `rgb(158,169,169)` },\n      background: { 1: `rgb(255,255,255)`, 2: `rgb(241,243,243)`, 3: `rgb(228,231,231)` },\n      overlay: \"rgba(0,0,0,0.1)\"\n    },\n    dark: {\n      foreground: { 1: `rgb(228,231,231)`, 2: `rgb(148,158,158)`, 3: `rgb(110,119,119)` },\n      background: { 1: `rgb(20,20,20)`, 2: `rgb(39,42,42)`, 3: `rgb(59,64,64)` },\n      overlay: \"rgba(255,255,255,0.1)\"\n    }\n  };\n  const themeModeColors = themeModePresets[themeMode];\n  return {\n    \"--wcm-color-fg-1\": themeModeColors.foreground[1],\n    \"--wcm-color-fg-2\": themeModeColors.foreground[2],\n    \"--wcm-color-fg-3\": themeModeColors.foreground[3],\n    \"--wcm-color-bg-1\": themeModeColors.background[1],\n    \"--wcm-color-bg-2\": themeModeColors.background[2],\n    \"--wcm-color-bg-3\": themeModeColors.background[3],\n    \"--wcm-color-overlay\": themeModeColors.overlay\n  };\n}\nfunction themeVariablesPresets() {\n  return {\n    \"--wcm-accent-color\": \"#3396FF\",\n    \"--wcm-accent-fill-color\": \"#FFFFFF\",\n    \"--wcm-z-index\": \"89\",\n    \"--wcm-background-color\": \"#3396FF\",\n    \"--wcm-background-border-radius\": \"8px\",\n    \"--wcm-container-border-radius\": \"30px\",\n    \"--wcm-wallet-icon-border-radius\": \"15px\",\n    \"--wcm-wallet-icon-large-border-radius\": \"30px\",\n    \"--wcm-wallet-icon-small-border-radius\": \"7px\",\n    \"--wcm-input-border-radius\": \"28px\",\n    \"--wcm-button-border-radius\": \"10px\",\n    \"--wcm-notification-border-radius\": \"36px\",\n    \"--wcm-secondary-button-border-radius\": \"28px\",\n    \"--wcm-icon-button-border-radius\": \"50%\",\n    \"--wcm-button-hover-highlight-border-radius\": \"10px\",\n    \"--wcm-text-big-bold-size\": \"20px\",\n    \"--wcm-text-big-bold-weight\": \"600\",\n    \"--wcm-text-big-bold-line-height\": \"24px\",\n    \"--wcm-text-big-bold-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-big-bold-text-transform\": \"none\",\n    \"--wcm-text-xsmall-bold-size\": \"10px\",\n    \"--wcm-text-xsmall-bold-weight\": \"700\",\n    \"--wcm-text-xsmall-bold-line-height\": \"12px\",\n    \"--wcm-text-xsmall-bold-letter-spacing\": \"0.02em\",\n    \"--wcm-text-xsmall-bold-text-transform\": \"uppercase\",\n    \"--wcm-text-xsmall-regular-size\": \"12px\",\n    \"--wcm-text-xsmall-regular-weight\": \"600\",\n    \"--wcm-text-xsmall-regular-line-height\": \"14px\",\n    \"--wcm-text-xsmall-regular-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-xsmall-regular-text-transform\": \"none\",\n    \"--wcm-text-small-thin-size\": \"14px\",\n    \"--wcm-text-small-thin-weight\": \"500\",\n    \"--wcm-text-small-thin-line-height\": \"16px\",\n    \"--wcm-text-small-thin-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-small-thin-text-transform\": \"none\",\n    \"--wcm-text-small-regular-size\": \"14px\",\n    \"--wcm-text-small-regular-weight\": \"600\",\n    \"--wcm-text-small-regular-line-height\": \"16px\",\n    \"--wcm-text-small-regular-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-small-regular-text-transform\": \"none\",\n    \"--wcm-text-medium-regular-size\": \"16px\",\n    \"--wcm-text-medium-regular-weight\": \"600\",\n    \"--wcm-text-medium-regular-line-height\": \"20px\",\n    \"--wcm-text-medium-regular-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-medium-regular-text-transform\": \"none\",\n    \"--wcm-font-family\": \"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif\",\n    \"--wcm-font-feature-settings\": `'tnum' on, 'lnum' on, 'case' on`,\n    \"--wcm-success-color\": \"rgb(38,181,98)\",\n    \"--wcm-error-color\": \"rgb(242, 90, 103)\",\n    \"--wcm-overlay-background-color\": \"rgba(0, 0, 0, 0.3)\",\n    \"--wcm-overlay-backdrop-filter\": \"none\"\n  };\n}\nconst ThemeUtil = {\n  getPreset(key) {\n    return themeVariablesPresets()[key];\n  },\n  setTheme() {\n    const root = document.querySelector(\":root\");\n    const { themeVariables } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state;\n    if (root) {\n      const variables = __spreadValues(__spreadValues(__spreadValues({}, themeModeVariables()), themeVariablesPresets()), themeVariables);\n      Object.entries(variables).forEach(([key, val]) => root.style.setProperty(key, val));\n    }\n  },\n  globalCss: (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`\n};\n\nconst styles$t = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;\n\nvar __defProp$x = Object.defineProperty;\nvar __getOwnPropDesc$x = Object.getOwnPropertyDescriptor;\nvar __decorateClass$x = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$x(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$x(target, key, result);\n  return result;\n};\nlet WcmButton = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.disabled = false;\n    this.iconLeft = void 0;\n    this.iconRight = void 0;\n    this.onClick = () => null;\n    this.variant = \"default\";\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-icon-left\": this.iconLeft !== void 0,\n      \"wcm-icon-right\": this.iconRight !== void 0,\n      \"wcm-ghost\": this.variant === \"ghost\",\n      \"wcm-outline\": this.variant === \"outline\"\n    };\n    let textColor = \"inverse\";\n    if (this.variant === \"ghost\") {\n      textColor = \"secondary\";\n    }\n    if (this.variant === \"outline\") {\n      textColor = \"accent\";\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\" ?disabled=\"${this.disabled}\" @click=\"${this.onClick}\">${this.iconLeft}<wcm-text variant=\"small-regular\" color=\"${textColor}\"><slot></slot></wcm-text>${this.iconRight}</button>`;\n  }\n};\nWcmButton.styles = [ThemeUtil.globalCss, styles$t];\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmButton.prototype, \"disabled\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"iconLeft\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"iconRight\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"onClick\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"variant\", 2);\nWcmButton = __decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-button\")\n], WcmButton);\n\nconst styles$s = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;\n\nvar __defProp$w = Object.defineProperty;\nvar __getOwnPropDesc$w = Object.getOwnPropertyDescriptor;\nvar __decorateClass$w = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$w(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$w(target, key, result);\n  return result;\n};\nlet WcmButtonBig = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.disabled = false;\n    this.variant = \"primary\";\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-secondary\": this.variant === \"secondary\"\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button ?disabled=\"${this.disabled}\" class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\"><slot></slot></button>`;\n  }\n};\nWcmButtonBig.styles = [ThemeUtil.globalCss, styles$s];\n__decorateClass$w([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmButtonBig.prototype, \"disabled\", 2);\n__decorateClass$w([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButtonBig.prototype, \"variant\", 2);\nWcmButtonBig = __decorateClass$w([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-button-big\")\n], WcmButtonBig);\n\nconst styles$r = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;\n\nvar __defProp$v = Object.defineProperty;\nvar __getOwnPropDesc$v = Object.getOwnPropertyDescriptor;\nvar __decorateClass$v = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$v(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$v(target, key, result);\n  return result;\n};\nlet WcmInfoFooter = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div><slot></slot></div>`;\n  }\n};\nWcmInfoFooter.styles = [ThemeUtil.globalCss, styles$r];\nWcmInfoFooter = __decorateClass$v([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-info-footer\")\n], WcmInfoFooter);\n\nconst SvgUtil = {\n  CROSS_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\"><path d=\"M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z\" fill=\"#fff\"/></svg>`,\n  WALLET_CONNECT_LOGO: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"178\" height=\"29\" viewBox=\"0 0 178 29\" id=\"wcm-wc-logo\"><path d=\"M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z\" fill=\"#fff\"/></svg>`,\n  WALLET_CONNECT_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"28\" height=\"20\" viewBox=\"0 0 28 20\"><g clip-path=\"url(#a)\"><path d=\"M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z\" fill=\"#000000\"/></g><defs><clipPath id=\"a\"><path fill=\"#ffffff\" d=\"M0 0h28v20H0z\"/></clipPath></defs></svg>`,\n  WALLET_CONNECT_ICON_COLORED: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"96\" height=\"96\" fill=\"none\"><path fill=\"#fff\" d=\"M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z\"/><path stroke=\"#000\" d=\"M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z\"/></svg>`,\n  BACK_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"10\" height=\"18\" viewBox=\"0 0 10 18\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z\" fill=\"#fff\"/></svg>`,\n  COPY_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"24\" height=\"24\" fill=\"none\"><path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z\" clip-rule=\"evenodd\"/></svg>`,\n  RETRY_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"15\" height=\"16\" viewBox=\"0 0 15 16\"><path d=\"M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z\" fill=\"#fff\"/></svg>`,\n  DESKTOP_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z\" fill=\"#fff\"/><path d=\"M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z\" fill=\"#fff\"/></svg>`,\n  MOBILE_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path d=\"M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z\" fill=\"#fff\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z\" fill=\"#fff\"/></svg>`,\n  ARROW_DOWN_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\"><path d=\"M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z\" fill=\"#fff\"/></svg>`,\n  ARROW_UP_RIGHT_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"15\" height=\"14\" fill=\"none\"><path d=\"M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z\" fill=\"#fff\"/></svg>`,\n  ARROW_RIGHT_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"6\" height=\"14\" viewBox=\"0 0 6 14\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z\" fill=\"#fff\"/></svg>`,\n  QRCODE_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\"><path d=\"M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z\" fill=\"#fff\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z\" fill=\"#fff\"/><path d=\"M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z\" fill=\"#fff\"/></svg>`,\n  SCAN_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" fill=\"none\"><path fill=\"#fff\" d=\"M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z\"/></svg>`,\n  CHECKMARK_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"13\" height=\"12\" viewBox=\"0 0 13 12\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z\" fill=\"#fff\"/></svg>`,\n  SEARCH_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"20\" height=\"21\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z\" fill=\"#949E9E\"/></svg>`,\n  WALLET_PLACEHOLDER: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"60\" height=\"60\" fill=\"none\" viewBox=\"0 0 60 60\"><g clip-path=\"url(#q)\"><path id=\"wallet-placeholder-fill\" fill=\"#fff\" d=\"M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z\"/><path id=\"wallet-placeholder-dash\" stroke=\"#000\" stroke-dasharray=\"4 4\" stroke-width=\"1.5\" d=\"M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z\"/><path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z\" clip-rule=\"evenodd\"/><path fill=\"#9EA9A9\" fill-rule=\"evenodd\" d=\"M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z\" clip-rule=\"evenodd\"/></g><defs><clipPath id=\"q\"><path fill=\"#fff\" d=\"M0 0h60v60H0z\"/></clipPath></defs></svg>`,\n  GLOBE_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z\" clip-rule=\"evenodd\"/></svg>`\n};\n\nconst styles$q = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;\n\nvar __defProp$u = Object.defineProperty;\nvar __getOwnPropDesc$u = Object.getOwnPropertyDescriptor;\nvar __decorateClass$u = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$u(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$u(target, key, result);\n  return result;\n};\nlet WcmModalBackcard = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"wcm-toolbar-placeholder\"></div><div class=\"wcm-toolbar\">${SvgUtil.WALLET_CONNECT_LOGO} <button @click=\"${_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.close}\">${SvgUtil.CROSS_ICON}</button></div>`;\n  }\n};\nWcmModalBackcard.styles = [ThemeUtil.globalCss, styles$q];\nWcmModalBackcard = __decorateClass$u([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-backcard\")\n], WcmModalBackcard);\n\nconst styles$p = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`main{padding:20px;padding-top:0;width:100%}`;\n\nvar __defProp$t = Object.defineProperty;\nvar __getOwnPropDesc$t = Object.getOwnPropertyDescriptor;\nvar __decorateClass$t = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$t(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$t(target, key, result);\n  return result;\n};\nlet WcmModalContent = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<main><slot></slot></main>`;\n  }\n};\nWcmModalContent.styles = [ThemeUtil.globalCss, styles$p];\nWcmModalContent = __decorateClass$t([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-content\")\n], WcmModalContent);\n\nconst styles$o = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;\n\nvar __defProp$s = Object.defineProperty;\nvar __getOwnPropDesc$s = Object.getOwnPropertyDescriptor;\nvar __decorateClass$s = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$s(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$s(target, key, result);\n  return result;\n};\nlet WcmModalFooter = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<footer><slot></slot></footer>`;\n  }\n};\nWcmModalFooter.styles = [ThemeUtil.globalCss, styles$o];\nWcmModalFooter = __decorateClass$s([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-footer\")\n], WcmModalFooter);\n\nconst styles$n = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;\n\nvar __defProp$r = Object.defineProperty;\nvar __getOwnPropDesc$r = Object.getOwnPropertyDescriptor;\nvar __decorateClass$r = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$r(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$r(target, key, result);\n  return result;\n};\nlet WcmModalHeader = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.title = \"\";\n    this.onAction = void 0;\n    this.actionIcon = void 0;\n    this.border = false;\n  }\n  // -- private ------------------------------------------------------ //\n  backBtnTemplate() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button class=\"wcm-back-btn\" @click=\"${_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.goBack}\">${SvgUtil.BACK_ICON}</button>`;\n  }\n  actionBtnTemplate() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button class=\"wcm-action-btn\" @click=\"${this.onAction}\">${this.actionIcon}</button>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-border\": this.border\n    };\n    const backBtn = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.history.length > 1;\n    const content = this.title ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text variant=\"big-bold\">${this.title}</wcm-text>` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<slot></slot>`;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<header class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${backBtn ? this.backBtnTemplate() : null} ${content} ${this.onAction ? this.actionBtnTemplate() : null}</header>`;\n  }\n};\nWcmModalHeader.styles = [ThemeUtil.globalCss, styles$n];\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmModalHeader.prototype, \"title\", 2);\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmModalHeader.prototype, \"onAction\", 2);\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmModalHeader.prototype, \"actionIcon\", 2);\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmModalHeader.prototype, \"border\", 2);\nWcmModalHeader = __decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-header\")\n], WcmModalHeader);\n\nconst UiUtil = {\n  MOBILE_BREAKPOINT: 600,\n  WCM_RECENT_WALLET_DATA: \"WCM_RECENT_WALLET_DATA\",\n  EXPLORER_WALLET_URL: \"https://explorer.walletconnect.com/?type=wallet\",\n  getShadowRootElement(root, selector) {\n    const el = root.renderRoot.querySelector(selector);\n    if (!el) {\n      throw new Error(`${selector} not found`);\n    }\n    return el;\n  },\n  getWalletIcon({ id, image_id }) {\n    const { walletImages } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    if (walletImages == null ? void 0 : walletImages[id]) {\n      return walletImages[id];\n    } else if (image_id) {\n      return _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.getWalletImageUrl(image_id);\n    }\n    return \"\";\n  },\n  getWalletName(name, short = false) {\n    return short && name.length > 8 ? `${name.substring(0, 8)}..` : name;\n  },\n  isMobileAnimation() {\n    return window.innerWidth <= UiUtil.MOBILE_BREAKPOINT;\n  },\n  async preloadImage(src) {\n    const imagePromise = new Promise((resolve, reject) => {\n      const image = new Image();\n      image.onload = resolve;\n      image.onerror = reject;\n      image.crossOrigin = \"anonymous\";\n      image.src = src;\n    });\n    return Promise.race([imagePromise, _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.wait(3e3)]);\n  },\n  getErrorMessage(err) {\n    return err instanceof Error ? err.message : \"Unknown Error\";\n  },\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  debounce(func, timeout = 500) {\n    let timer = void 0;\n    return (...args) => {\n      function next() {\n        func(...args);\n      }\n      if (timer) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(next, timeout);\n    };\n  },\n  handleMobileLinking(wallet, target = \"_self\") {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const { mobile, name } = wallet;\n    const nativeUrl = mobile == null ? void 0 : mobile.native;\n    const universalUrl = mobile == null ? void 0 : mobile.universal;\n    UiUtil.setRecentWallet(wallet);\n    function onRedirect(uri) {\n      if (nativeUrl) {\n        const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatNativeUrl(nativeUrl, uri, name);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n      } else if (universalUrl) {\n        const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n      }\n    }\n    if (walletConnectUri) {\n      onRedirect(walletConnectUri);\n    }\n  },\n  handleAndroidLinking() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    if (walletConnectUri) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.setWalletConnectAndroidDeepLink(walletConnectUri);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(walletConnectUri, _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram() ? \"_blank\" : \"_self\");\n    }\n  },\n  async handleUriCopy() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    if (walletConnectUri) {\n      try {\n        await navigator.clipboard.writeText(walletConnectUri);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(\"Link copied\", \"success\");\n      } catch (e) {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(\"Failed to copy\", \"error\");\n      }\n    }\n  },\n  getCustomImageUrls() {\n    const { walletImages } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const walletUrls = Object.values(walletImages != null ? walletImages : {});\n    return Object.values(walletUrls);\n  },\n  truncate(value, strLen = 8) {\n    if (value.length <= strLen) {\n      return value;\n    }\n    return `${value.substring(0, 4)}...${value.substring(value.length - 4)}`;\n  },\n  setRecentWallet(wallet) {\n    try {\n      localStorage.setItem(UiUtil.WCM_RECENT_WALLET_DATA, JSON.stringify(wallet));\n    } catch (e) {\n      console.info(\"Unable to set recent wallet\");\n    }\n  },\n  getRecentWallet() {\n    try {\n      const wallet = localStorage.getItem(UiUtil.WCM_RECENT_WALLET_DATA);\n      if (wallet) {\n        const json = JSON.parse(wallet);\n        return json;\n      }\n      return void 0;\n    } catch (e) {\n      console.info(\"Unable to get recent wallet\");\n    }\n    return void 0;\n  },\n  caseSafeIncludes(str1, str2) {\n    return str1.toUpperCase().includes(str2.toUpperCase());\n  },\n  openWalletExplorerUrl() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(UiUtil.EXPLORER_WALLET_URL, \"_blank\");\n  },\n  getCachedRouterWalletPlatforms() {\n    const { desktop, mobile } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const isDesktop = Boolean(desktop == null ? void 0 : desktop.native);\n    const isWeb = Boolean(desktop == null ? void 0 : desktop.universal);\n    const isMobile = Boolean(mobile == null ? void 0 : mobile.native) || Boolean(mobile == null ? void 0 : mobile.universal);\n    return { isDesktop, isMobile, isWeb };\n  },\n  goToConnectingView(wallet) {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.setData({ Wallet: wallet });\n    const isMobileDevice = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile();\n    const { isDesktop, isWeb, isMobile } = UiUtil.getCachedRouterWalletPlatforms();\n    if (isMobileDevice) {\n      if (isMobile) {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"MobileConnecting\");\n        if (!_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid() && _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram()) {\n          this.handleMobileLinking(wallet, \"_blank\");\n        }\n      } else if (isWeb) {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"WebConnecting\");\n      } else {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"InstallWallet\");\n      }\n    } else if (isDesktop) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"DesktopConnecting\");\n    } else if (isWeb) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"WebConnecting\");\n    } else if (isMobile) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"MobileQrcodeConnecting\");\n    } else {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"InstallWallet\");\n    }\n  }\n};\n\nconst styles$m = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;\n\nvar __defProp$q = Object.defineProperty;\nvar __getOwnPropDesc$q = Object.getOwnPropertyDescriptor;\nvar __decorateClass$q = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$q(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$q(target, key, result);\n  return result;\n};\nlet WcmModalRouter = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.view = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.view;\n    this.prevView = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.view;\n    // -- private ------------------------------------------------------ //\n    this.unsubscribe = void 0;\n    this.oldHeight = \"0px\";\n    this.resizeObserver = void 0;\n    this.unsubscribe = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.subscribe((routerState) => {\n      if (this.view !== routerState.view) {\n        this.onChangeRoute();\n      }\n    });\n  }\n  firstUpdated() {\n    this.resizeObserver = new ResizeObserver(([conetnt]) => {\n      const newHeight = `${conetnt.contentRect.height}px`;\n      if (this.oldHeight !== \"0px\") {\n        (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.routerEl, { height: [this.oldHeight, newHeight] }, { duration: 0.2 });\n      }\n      this.oldHeight = newHeight;\n    });\n    this.resizeObserver.observe(this.contentEl);\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    (_a = this.unsubscribe) == null ? void 0 : _a.call(this);\n    (_b = this.resizeObserver) == null ? void 0 : _b.disconnect();\n  }\n  get routerEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-router\");\n  }\n  get contentEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-content\");\n  }\n  viewTemplate() {\n    switch (this.view) {\n      case \"ConnectWallet\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;\n      case \"DesktopConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;\n      case \"MobileConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;\n      case \"WebConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-web-connecting-view></wcm-web-connecting-view>`;\n      case \"MobileQrcodeConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;\n      case \"WalletExplorer\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;\n      case \"Qrcode\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-qrcode-view></wcm-qrcode-view>`;\n      case \"InstallWallet\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-install-wallet-view></wcm-install-wallet-view>`;\n      default:\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div>Not Found</div>`;\n    }\n  }\n  async onChangeRoute() {\n    await (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(\n      this.routerEl,\n      { opacity: [1, 0], scale: [1, 1.02] },\n      { duration: 0.15, delay: 0.1 }\n    ).finished;\n    this.view = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.view;\n    (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.routerEl, { opacity: [0, 1], scale: [0.99, 1] }, { duration: 0.37, delay: 0.05 });\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"wcm-router\"><div class=\"wcm-content\">${this.viewTemplate()}</div></div>`;\n  }\n};\nWcmModalRouter.styles = [ThemeUtil.globalCss, styles$m];\n__decorateClass$q([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModalRouter.prototype, \"view\", 2);\n__decorateClass$q([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModalRouter.prototype, \"prevView\", 2);\nWcmModalRouter = __decorateClass$q([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-router\")\n], WcmModalRouter);\n\nconst styles$l = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;\n\nvar __defProp$p = Object.defineProperty;\nvar __getOwnPropDesc$p = Object.getOwnPropertyDescriptor;\nvar __decorateClass$p = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$p(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$p(target, key, result);\n  return result;\n};\nlet WcmModalToast = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super();\n    this.open = false;\n    // -- private ------------------------------------------------------ //\n    this.unsubscribe = void 0;\n    this.timeout = void 0;\n    this.unsubscribe = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.subscribe((newState) => {\n      if (newState.open) {\n        this.open = true;\n        this.timeout = setTimeout(() => _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.closeToast(), 2200);\n      } else {\n        this.open = false;\n        clearTimeout(this.timeout);\n      }\n    });\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.unsubscribe) == null ? void 0 : _a.call(this);\n    clearTimeout(this.timeout);\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.closeToast();\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { message, variant } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.state;\n    const classes = {\n      \"wcm-success\": variant === \"success\",\n      \"wcm-error\": variant === \"error\"\n    };\n    return this.open ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${variant === \"success\" ? SvgUtil.CHECKMARK_ICON : null} ${variant === \"error\" ? SvgUtil.CROSS_ICON : null}<wcm-text variant=\"small-regular\">${message}</wcm-text></div>` : null;\n  }\n};\nWcmModalToast.styles = [ThemeUtil.globalCss, styles$l];\n__decorateClass$p([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModalToast.prototype, \"open\", 2);\nWcmModalToast = __decorateClass$p([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-toast\")\n], WcmModalToast);\n\nconst CONNECTING_ERROR_MARGIN = 0.1;\nconst CIRCLE_SIZE_MODIFIER = 2.5;\nconst QRCODE_MATRIX_MARGIN = 7;\nfunction isAdjecentDots(cy, otherCy, cellSize) {\n  if (cy === otherCy) {\n    return false;\n  }\n  const diff = cy - otherCy < 0 ? otherCy - cy : cy - otherCy;\n  return diff <= cellSize + CONNECTING_ERROR_MARGIN;\n}\nfunction getMatrix(value, errorCorrectionLevel) {\n  const arr = Array.prototype.slice.call(\n    qrcode__WEBPACK_IMPORTED_MODULE_6__.create(value, { errorCorrectionLevel }).modules.data,\n    0\n  );\n  const sqrt = Math.sqrt(arr.length);\n  return arr.reduce(\n    (rows, key, index) => (index % sqrt === 0 ? rows.push([key]) : rows[rows.length - 1].push(key)) && rows,\n    []\n  );\n}\nconst QrCodeUtil = {\n  generate(uri, size, logoSize) {\n    const dotColor = \"#141414\";\n    const edgeColor = \"#ffffff\";\n    const dots = [];\n    const matrix = getMatrix(uri, \"Q\");\n    const cellSize = size / matrix.length;\n    const qrList = [\n      { x: 0, y: 0 },\n      { x: 1, y: 0 },\n      { x: 0, y: 1 }\n    ];\n    qrList.forEach(({ x, y }) => {\n      const x1 = (matrix.length - QRCODE_MATRIX_MARGIN) * cellSize * x;\n      const y1 = (matrix.length - QRCODE_MATRIX_MARGIN) * cellSize * y;\n      const borderRadius = 0.45;\n      for (let i = 0; i < qrList.length; i += 1) {\n        const dotSize = cellSize * (QRCODE_MATRIX_MARGIN - i * 2);\n        dots.push(\n          (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<rect fill=\"${i % 2 === 0 ? dotColor : edgeColor}\" height=\"${dotSize}\" rx=\"${dotSize * borderRadius}\" ry=\"${dotSize * borderRadius}\" width=\"${dotSize}\" x=\"${x1 + cellSize * i}\" y=\"${y1 + cellSize * i}\">`\n        );\n      }\n    });\n    const clearArenaSize = Math.floor((logoSize + 25) / cellSize);\n    const matrixMiddleStart = matrix.length / 2 - clearArenaSize / 2;\n    const matrixMiddleEnd = matrix.length / 2 + clearArenaSize / 2 - 1;\n    const circles = [];\n    matrix.forEach((row, i) => {\n      row.forEach((_, j) => {\n        if (matrix[i][j]) {\n          if (!(i < QRCODE_MATRIX_MARGIN && j < QRCODE_MATRIX_MARGIN || i > matrix.length - (QRCODE_MATRIX_MARGIN + 1) && j < QRCODE_MATRIX_MARGIN || i < QRCODE_MATRIX_MARGIN && j > matrix.length - (QRCODE_MATRIX_MARGIN + 1))) {\n            if (!(i > matrixMiddleStart && i < matrixMiddleEnd && j > matrixMiddleStart && j < matrixMiddleEnd)) {\n              const cx = i * cellSize + cellSize / 2;\n              const cy = j * cellSize + cellSize / 2;\n              circles.push([cx, cy]);\n            }\n          }\n        }\n      });\n    });\n    const circlesToConnect = {};\n    circles.forEach(([cx, cy]) => {\n      if (circlesToConnect[cx]) {\n        circlesToConnect[cx].push(cy);\n      } else {\n        circlesToConnect[cx] = [cy];\n      }\n    });\n    Object.entries(circlesToConnect).map(([cx, cys]) => {\n      const newCys = cys.filter(\n        (cy) => cys.every((otherCy) => !isAdjecentDots(cy, otherCy, cellSize))\n      );\n      return [Number(cx), newCys];\n    }).forEach(([cx, cys]) => {\n      cys.forEach((cy) => {\n        dots.push(\n          (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<circle cx=\"${cx}\" cy=\"${cy}\" fill=\"${dotColor}\" r=\"${cellSize / CIRCLE_SIZE_MODIFIER}\">`\n        );\n      });\n    });\n    Object.entries(circlesToConnect).filter(([_, cys]) => cys.length > 1).map(([cx, cys]) => {\n      const newCys = cys.filter((cy) => cys.some((otherCy) => isAdjecentDots(cy, otherCy, cellSize)));\n      return [Number(cx), newCys];\n    }).map(([cx, cys]) => {\n      cys.sort((a, b) => a < b ? -1 : 1);\n      const groups = [];\n      for (const cy of cys) {\n        const group = groups.find(\n          (item) => item.some((otherCy) => isAdjecentDots(cy, otherCy, cellSize))\n        );\n        if (group) {\n          group.push(cy);\n        } else {\n          groups.push([cy]);\n        }\n      }\n      return [cx, groups.map((item) => [item[0], item[item.length - 1]])];\n    }).forEach(([cx, groups]) => {\n      groups.forEach(([y1, y2]) => {\n        dots.push(\n          (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<line x1=\"${cx}\" x2=\"${cx}\" y1=\"${y1}\" y2=\"${y2}\" stroke=\"${dotColor}\" stroke-width=\"${cellSize / (CIRCLE_SIZE_MODIFIER / 2)}\" stroke-linecap=\"round\">`\n        );\n      });\n    });\n    return dots;\n  }\n};\n\nconst styles$k = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$o = Object.defineProperty;\nvar __getOwnPropDesc$o = Object.getOwnPropertyDescriptor;\nvar __decorateClass$o = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$o(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$o(target, key, result);\n  return result;\n};\nlet WcmQrCode = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.uri = \"\";\n    this.size = 0;\n    this.imageId = void 0;\n    this.walletId = void 0;\n    this.imageUrl = void 0;\n  }\n  // -- private ------------------------------------------------------ //\n  svgTemplate() {\n    const isLightMode = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeMode === \"light\";\n    const size = isLightMode ? this.size : this.size - 18 * 2;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<svg height=\"${size}\" width=\"${size}\">${QrCodeUtil.generate(this.uri, size, size / 4)}</svg>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-dark\": _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeMode === \"dark\"\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div style=\"${`width: ${this.size}px`}\" class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${this.walletId || this.imageUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-image walletId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.walletId)}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\" imageUrl=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageUrl)}\"></wcm-wallet-image>` : SvgUtil.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`;\n  }\n};\nWcmQrCode.styles = [ThemeUtil.globalCss, styles$k];\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"uri\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Number })\n], WcmQrCode.prototype, \"size\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"imageId\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"walletId\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"imageUrl\", 2);\nWcmQrCode = __decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-qrcode\")\n], WcmQrCode);\n\nconst styles$j = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;\n\nvar __defProp$n = Object.defineProperty;\nvar __getOwnPropDesc$n = Object.getOwnPropertyDescriptor;\nvar __decorateClass$n = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$n(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$n(target, key, result);\n  return result;\n};\nlet WcmSearchInput = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.onChange = () => null;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<input type=\"text\" @input=\"${this.onChange}\" placeholder=\"Search wallets\"> ${SvgUtil.SEARCH_ICON}`;\n  }\n};\nWcmSearchInput.styles = [ThemeUtil.globalCss, styles$j];\n__decorateClass$n([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmSearchInput.prototype, \"onChange\", 2);\nWcmSearchInput = __decorateClass$n([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-search-input\")\n], WcmSearchInput);\n\nconst styles$i = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;\n\nvar __defProp$m = Object.defineProperty;\nvar __getOwnPropDesc$m = Object.getOwnPropertyDescriptor;\nvar __decorateClass$m = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$m(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$m(target, key, result);\n  return result;\n};\nlet WcmSpinner = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<svg viewBox=\"0 0 50 50\" width=\"24\" height=\"24\"><circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"4\" stroke=\"#fff\"/></svg>`;\n  }\n};\nWcmSpinner.styles = [ThemeUtil.globalCss, styles$i];\nWcmSpinner = __decorateClass$m([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-spinner\")\n], WcmSpinner);\n\nconst styles$h = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;\n\nvar __defProp$l = Object.defineProperty;\nvar __getOwnPropDesc$l = Object.getOwnPropertyDescriptor;\nvar __decorateClass$l = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$l(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$l(target, key, result);\n  return result;\n};\nlet WcmText = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.variant = \"medium-regular\";\n    this.color = \"primary\";\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-big-bold\": this.variant === \"big-bold\",\n      \"wcm-medium-regular\": this.variant === \"medium-regular\",\n      \"wcm-small-regular\": this.variant === \"small-regular\",\n      \"wcm-small-thin\": this.variant === \"small-thin\",\n      \"wcm-xsmall-regular\": this.variant === \"xsmall-regular\",\n      \"wcm-xsmall-bold\": this.variant === \"xsmall-bold\",\n      \"wcm-color-primary\": this.color === \"primary\",\n      \"wcm-color-secondary\": this.color === \"secondary\",\n      \"wcm-color-tertiary\": this.color === \"tertiary\",\n      \"wcm-color-inverse\": this.color === \"inverse\",\n      \"wcm-color-accnt\": this.color === \"accent\",\n      \"wcm-color-error\": this.color === \"error\"\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<span><slot class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\"></slot></span>`;\n  }\n};\nWcmText.styles = [ThemeUtil.globalCss, styles$h];\n__decorateClass$l([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmText.prototype, \"variant\", 2);\n__decorateClass$l([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmText.prototype, \"color\", 2);\nWcmText = __decorateClass$l([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-text\")\n], WcmText);\n\nconst styles$g = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;\n\nvar __defProp$k = Object.defineProperty;\nvar __getOwnPropDesc$k = Object.getOwnPropertyDescriptor;\nvar __decorateClass$k = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$k(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$k(target, key, result);\n  return result;\n};\nlet WcmWalletButton = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.onClick = () => null;\n    this.name = \"\";\n    this.walletId = \"\";\n    this.label = void 0;\n    this.imageId = void 0;\n    this.installed = false;\n    this.recent = false;\n  }\n  // -- private ------------------------------------------------------ //\n  sublabelTemplate() {\n    if (this.recent) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text class=\"wcm-sublabel\" variant=\"xsmall-bold\" color=\"tertiary\">RECENT</wcm-text>`;\n    } else if (this.installed) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text class=\"wcm-sublabel\" variant=\"xsmall-bold\" color=\"tertiary\">INSTALLED</wcm-text>`;\n    }\n    return null;\n  }\n  handleClick() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.EventsCtrl.click({ name: \"WALLET_BUTTON\", walletId: this.walletId });\n    this.onClick();\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    var _a;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button @click=\"${this.handleClick.bind(this)}\"><div><wcm-wallet-image walletId=\"${this.walletId}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\"></wcm-wallet-image><wcm-text variant=\"xsmall-regular\">${(_a = this.label) != null ? _a : UiUtil.getWalletName(this.name, true)}</wcm-text>${this.sublabelTemplate()}</div></button>`;\n  }\n};\nWcmWalletButton.styles = [ThemeUtil.globalCss, styles$g];\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"onClick\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"name\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"walletId\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"label\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"imageId\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmWalletButton.prototype, \"installed\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmWalletButton.prototype, \"recent\", 2);\nWcmWalletButton = __decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-wallet-button\")\n], WcmWalletButton);\n\nconst styles$f = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$j = Object.defineProperty;\nvar __getOwnPropDesc$j = Object.getOwnPropertyDescriptor;\nvar __decorateClass$j = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$j(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$j(target, key, result);\n  return result;\n};\nlet WcmWalletImage = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.walletId = \"\";\n    this.imageId = void 0;\n    this.imageUrl = void 0;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    var _a;\n    const src = ((_a = this.imageUrl) == null ? void 0 : _a.length) ? this.imageUrl : UiUtil.getWalletIcon({ id: this.walletId, image_id: this.imageId });\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`${src.length ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div><img crossorigin=\"anonymous\" src=\"${src}\" alt=\"${this.id}\"></div>` : SvgUtil.WALLET_PLACEHOLDER}`;\n  }\n};\nWcmWalletImage.styles = [ThemeUtil.globalCss, styles$f];\n__decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletImage.prototype, \"walletId\", 2);\n__decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletImage.prototype, \"imageId\", 2);\n__decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletImage.prototype, \"imageUrl\", 2);\nWcmWalletImage = __decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-wallet-image\")\n], WcmWalletImage);\n\nvar __defProp$i = Object.defineProperty;\nvar __getOwnPropDesc$i = Object.getOwnPropertyDescriptor;\nvar __decorateClass$i = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$i(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$i(target, key, result);\n  return result;\n};\nlet WcmExplorerContext = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.preload = true;\n    this.preloadData();\n  }\n  // -- private ------------------------------------------------------ //\n  async loadImages(images) {\n    try {\n      if (images == null ? void 0 : images.length) {\n        await Promise.all(images.map(async (url) => UiUtil.preloadImage(url)));\n      }\n    } catch (e) {\n      console.info(\"Unsuccessful attempt at preloading some images\", images);\n    }\n  }\n  async preloadListings() {\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state.enableExplorer) {\n      await _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.getRecomendedWallets();\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.setIsDataLoaded(true);\n      const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n      const walletImgs = recomendedWallets.map((wallet) => UiUtil.getWalletIcon(wallet));\n      await this.loadImages(walletImgs);\n    } else {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.setIsDataLoaded(true);\n    }\n  }\n  async preloadCustomImages() {\n    const images = UiUtil.getCustomImageUrls();\n    await this.loadImages(images);\n  }\n  async preloadData() {\n    try {\n      if (this.preload) {\n        this.preload = false;\n        await Promise.all([this.preloadListings(), this.preloadCustomImages()]);\n      }\n    } catch (err) {\n      console.error(err);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(\"Failed preloading\", \"error\");\n    }\n  }\n};\n__decorateClass$i([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmExplorerContext.prototype, \"preload\", 2);\nWcmExplorerContext = __decorateClass$i([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-explorer-context\")\n], WcmExplorerContext);\n\nvar __defProp$h = Object.defineProperty;\nvar __getOwnPropDesc$h = Object.getOwnPropertyDescriptor;\nvar __decorateClass$h = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$h(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$h(target, key, result);\n  return result;\n};\nlet WcmThemeContext = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    // -- private ------------------------------------------------------ //\n    this.unsubscribeTheme = void 0;\n    ThemeUtil.setTheme();\n    this.unsubscribeTheme = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.subscribe(ThemeUtil.setTheme);\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.unsubscribeTheme) == null ? void 0 : _a.call(this);\n  }\n};\nWcmThemeContext = __decorateClass$h([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-theme-context\")\n], WcmThemeContext);\n\nconst styles$e = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$g = Object.defineProperty;\nvar __getOwnPropDesc$g = Object.getOwnPropertyDescriptor;\nvar __decorateClass$g = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$g(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$g(target, key, result);\n  return result;\n};\nlet WcmAndroidWalletSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  onGoToQrcode() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"Qrcode\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const wallets = [...recomendedWallets, ...recomendedWallets];\n    const recomendedCount = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.RECOMMENDED_WALLET_AMOUNT * 2;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"Connect your wallet\" .onAction=\"${this.onGoToQrcode}\" .actionIcon=\"${SvgUtil.QRCODE_ICON}\"></wcm-modal-header><wcm-modal-content><div class=\"wcm-title\">${SvgUtil.MOBILE_ICON}<wcm-text variant=\"small-regular\" color=\"accent\">WalletConnect</wcm-text></div><div class=\"wcm-slider\"><div class=\"wcm-track\">${[...Array(recomendedCount)].map((_, index) => {\n      const wallet = wallets[index % wallets.length];\n      return wallet ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-image walletId=\"${wallet.id}\" imageId=\"${wallet.image_id}\"></wcm-wallet-image>` : SvgUtil.WALLET_PLACEHOLDER;\n    })}</div><wcm-button-big @click=\"${UiUtil.handleAndroidLinking}\"><wcm-text variant=\"medium-regular\" color=\"inverse\">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`;\n  }\n};\nWcmAndroidWalletSelection.styles = [ThemeUtil.globalCss, styles$e];\nWcmAndroidWalletSelection = __decorateClass$g([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-android-wallet-selection\")\n], WcmAndroidWalletSelection);\n\nconst styles$d = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;\n\nvar __defProp$f = Object.defineProperty;\nvar __getOwnPropDesc$f = Object.getOwnPropertyDescriptor;\nvar __decorateClass$f = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$f(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$f(target, key, result);\n  return result;\n};\nlet WcmConnectorWaiting = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.walletId = void 0;\n    this.imageId = void 0;\n    this.isError = false;\n    this.isStale = false;\n    this.label = \"\";\n  }\n  // -- private ------------------------------------------------------ //\n  svgLoaderTemplate() {\n    var _a, _b;\n    const ICON_SIZE = 88;\n    const DH_ARRAY = 317;\n    const DH_OFFSET = 425;\n    const radius = (_b = (_a = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeVariables) == null ? void 0 : _a[\"--wcm-wallet-icon-large-border-radius\"]) != null ? _b : ThemeUtil.getPreset(\"--wcm-wallet-icon-large-border-radius\");\n    let numRadius = 0;\n    if (radius.includes(\"%\")) {\n      numRadius = ICON_SIZE / 100 * parseInt(radius, 10);\n    } else {\n      numRadius = parseInt(radius, 10);\n    }\n    numRadius *= 1.17;\n    const dashArray = DH_ARRAY - numRadius * 1.57;\n    const dashOffset = DH_OFFSET - numRadius * 1.8;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<svg viewBox=\"0 0 110 110\" width=\"110\" height=\"110\"><rect id=\"wcm-loader\" x=\"2\" y=\"2\" width=\"106\" height=\"106\" rx=\"${numRadius}\"/><use xlink:href=\"#wcm-loader\" stroke-dasharray=\"106 ${dashArray}\" stroke-dashoffset=\"${dashOffset}\"></use></svg>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-error\": this.isError,\n      \"wcm-stale\": this.isStale\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${this.svgLoaderTemplate()}<wcm-wallet-image walletId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.walletId)}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\"></wcm-wallet-image></div><wcm-text variant=\"medium-regular\" color=\"${this.isError ? \"error\" : \"primary\"}\">${this.isError ? \"Connection declined\" : this.label}</wcm-text>`;\n  }\n};\nWcmConnectorWaiting.styles = [ThemeUtil.globalCss, styles$d];\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmConnectorWaiting.prototype, \"walletId\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmConnectorWaiting.prototype, \"imageId\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmConnectorWaiting.prototype, \"isError\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmConnectorWaiting.prototype, \"isStale\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmConnectorWaiting.prototype, \"label\", 2);\nWcmConnectorWaiting = __decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-connector-waiting\")\n], WcmConnectorWaiting);\n\nconst DataUtil = {\n  manualWallets() {\n    var _a, _b;\n    const { mobileWallets, desktopWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const recentWalletId = (_a = DataUtil.recentWallet()) == null ? void 0 : _a.id;\n    const platformWallets = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile() ? mobileWallets : desktopWallets;\n    const wallets = platformWallets == null ? void 0 : platformWallets.filter((wallet) => recentWalletId !== wallet.id);\n    return (_b = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile() ? wallets == null ? void 0 : wallets.map(({ id, name, links }) => ({ id, name, mobile: links, links })) : wallets == null ? void 0 : wallets.map(({ id, name, links }) => ({ id, name, desktop: links, links }))) != null ? _b : [];\n  },\n  recentWallet() {\n    return UiUtil.getRecentWallet();\n  },\n  recomendedWallets(skipRecent = false) {\n    var _a;\n    const recentWalletId = skipRecent ? void 0 : (_a = DataUtil.recentWallet()) == null ? void 0 : _a.id;\n    const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const wallets = recomendedWallets.filter((wallet) => recentWalletId !== wallet.id);\n    return wallets;\n  }\n};\n\nconst TemplateUtil = {\n  onConnecting(data) {\n    UiUtil.goToConnectingView(data);\n  },\n  manualWalletsTemplate() {\n    const wallets = DataUtil.manualWallets();\n    return wallets.map(\n      (wallet) => (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button walletId=\"${wallet.id}\" name=\"${wallet.name}\" .onClick=\"${() => this.onConnecting(wallet)}\"></wcm-wallet-button>`\n    );\n  },\n  recomendedWalletsTemplate(skipRecent = false) {\n    const wallets = DataUtil.recomendedWallets(skipRecent);\n    return wallets.map(\n      (wallet) => (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button name=\"${wallet.name}\" walletId=\"${wallet.id}\" imageId=\"${wallet.image_id}\" .onClick=\"${() => this.onConnecting(wallet)}\"></wcm-wallet-button>`\n    );\n  },\n  recentWalletTemplate() {\n    const wallet = DataUtil.recentWallet();\n    if (!wallet) {\n      return void 0;\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button name=\"${wallet.name}\" walletId=\"${wallet.id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(wallet.image_id)}\" .recent=\"${true}\" .onClick=\"${() => this.onConnecting(wallet)}\"></wcm-wallet-button>`;\n  }\n};\n\nconst styles$c = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;\n\nvar __defProp$e = Object.defineProperty;\nvar __getOwnPropDesc$e = Object.getOwnPropertyDescriptor;\nvar __decorateClass$e = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$e(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$e(target, key, result);\n  return result;\n};\nlet WcmDesktopWalletSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { explorerExcludedWalletIds, enableExplorer } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const isExplorerWallets = explorerExcludedWalletIds !== \"ALL\" && enableExplorer;\n    const manualTemplate = TemplateUtil.manualWalletsTemplate();\n    const recomendedTemplate = TemplateUtil.recomendedWalletsTemplate();\n    const recentTemplate = TemplateUtil.recentWalletTemplate();\n    let templates = [recentTemplate, ...manualTemplate, ...recomendedTemplate];\n    templates = templates.filter(Boolean);\n    const isViewAll = templates.length > 4 || isExplorerWallets;\n    let wallets = [];\n    if (isViewAll) {\n      wallets = templates.slice(0, 3);\n    } else {\n      wallets = templates;\n    }\n    const isWallets = Boolean(wallets.length);\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header .border=\"${true}\" title=\"Connect your wallet\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><div class=\"wcm-mobile-title\"><div class=\"wcm-subtitle\">${SvgUtil.MOBILE_ICON}<wcm-text variant=\"small-regular\" color=\"accent\">Mobile</wcm-text></div><div class=\"wcm-subtitle\">${SvgUtil.SCAN_ICON}<wcm-text variant=\"small-regular\" color=\"secondary\">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${isWallets ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-footer><div class=\"wcm-desktop-title\">${SvgUtil.DESKTOP_ICON}<wcm-text variant=\"small-regular\" color=\"accent\">Desktop</wcm-text></div><div class=\"wcm-grid\">${wallets} ${isViewAll ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>` : null}</div></wcm-modal-footer>` : null}`;\n  }\n};\nWcmDesktopWalletSelection.styles = [ThemeUtil.globalCss, styles$c];\nWcmDesktopWalletSelection = __decorateClass$e([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-desktop-wallet-selection\")\n], WcmDesktopWalletSelection);\n\nconst styles$b = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;\n\nvar __defProp$d = Object.defineProperty;\nvar __getOwnPropDesc$d = Object.getOwnPropertyDescriptor;\nvar __decorateClass$d = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$d(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$d(target, key, result);\n  return result;\n};\nlet WcmLegalNotice = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { termsOfServiceUrl, privacyPolicyUrl } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const isLegal = termsOfServiceUrl != null ? termsOfServiceUrl : privacyPolicyUrl;\n    if (!isLegal) {\n      return null;\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div><wcm-text variant=\"small-regular\" color=\"secondary\">By connecting your wallet to this app, you agree to the app's ${termsOfServiceUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<a href=\"${termsOfServiceUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">Terms of Service</a>` : null} ${termsOfServiceUrl && privacyPolicyUrl ? \"and\" : null} ${privacyPolicyUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<a href=\"${privacyPolicyUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">Privacy Policy</a>` : null}</wcm-text></div>`;\n  }\n};\nWcmLegalNotice.styles = [ThemeUtil.globalCss, styles$b];\nWcmLegalNotice = __decorateClass$d([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-legal-notice\")\n], WcmLegalNotice);\n\nconst styles$a = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;\n\nvar __defProp$c = Object.defineProperty;\nvar __getOwnPropDesc$c = Object.getOwnPropertyDescriptor;\nvar __decorateClass$c = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$c(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$c(target, key, result);\n  return result;\n};\nlet WcmMobileWalletSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  onQrcode() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"Qrcode\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { explorerExcludedWalletIds, enableExplorer } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const isExplorerWallets = explorerExcludedWalletIds !== \"ALL\" && enableExplorer;\n    const manualTemplate = TemplateUtil.manualWalletsTemplate();\n    const recomendedTemplate = TemplateUtil.recomendedWalletsTemplate();\n    const recentTemplate = TemplateUtil.recentWalletTemplate();\n    let templates = [recentTemplate, ...manualTemplate, ...recomendedTemplate];\n    templates = templates.filter(Boolean);\n    const isViewAll = templates.length > 8 || isExplorerWallets;\n    let wallets = [];\n    if (isViewAll) {\n      wallets = templates.slice(0, 7);\n    } else {\n      wallets = templates;\n    }\n    const isWallets = Boolean(wallets.length);\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"Connect your wallet\" .onAction=\"${this.onQrcode}\" .actionIcon=\"${SvgUtil.QRCODE_ICON}\"></wcm-modal-header>${isWallets ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-content><div>${wallets} ${isViewAll ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>` : null}</div></wcm-modal-content>` : null}`;\n  }\n};\nWcmMobileWalletSelection.styles = [ThemeUtil.globalCss, styles$a];\nWcmMobileWalletSelection = __decorateClass$c([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-mobile-wallet-selection\")\n], WcmMobileWalletSelection);\n\nconst styles$9 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;\n\nvar __defProp$b = Object.defineProperty;\nvar __getOwnPropDesc$b = Object.getOwnPropertyDescriptor;\nvar __decorateClass$b = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$b(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$b(target, key, result);\n  return result;\n};\nlet WcmModal = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.open = false;\n    this.active = false;\n    // -- private ------------------------------------------------------ //\n    this.unsubscribeModal = void 0;\n    this.abortController = void 0;\n    this.unsubscribeModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.subscribe((modalState) => {\n      if (modalState.open) {\n        this.onOpenModalEvent();\n      } else {\n        this.onCloseModalEvent();\n      }\n    });\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.unsubscribeModal) == null ? void 0 : _a.call(this);\n  }\n  get overlayEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-overlay\");\n  }\n  get containerEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-container\");\n  }\n  toggleBodyScroll(enabled) {\n    const body = document.querySelector(\"body\");\n    if (body) {\n      if (enabled) {\n        const wcmStyles = document.getElementById(\"wcm-styles\");\n        wcmStyles == null ? void 0 : wcmStyles.remove();\n      } else {\n        document.head.insertAdjacentHTML(\n          \"beforeend\",\n          `<style id=\"wcm-styles\">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>`\n        );\n      }\n    }\n  }\n  onCloseModal(event) {\n    if (event.target === event.currentTarget) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.close();\n    }\n  }\n  onOpenModalEvent() {\n    this.toggleBodyScroll(false);\n    this.addKeyboardEvents();\n    this.open = true;\n    setTimeout(async () => {\n      const animation = UiUtil.isMobileAnimation() ? { y: [\"50vh\", \"0vh\"] } : { scale: [0.98, 1] };\n      const delay = 0.1;\n      const duration = 0.2;\n      await Promise.all([\n        (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.overlayEl, { opacity: [0, 1] }, { delay, duration }).finished,\n        (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.containerEl, animation, { delay, duration }).finished\n      ]);\n      this.active = true;\n    }, 0);\n  }\n  async onCloseModalEvent() {\n    this.toggleBodyScroll(true);\n    this.removeKeyboardEvents();\n    const animation = UiUtil.isMobileAnimation() ? { y: [\"0vh\", \"50vh\"] } : { scale: [1, 0.98] };\n    const duration = 0.2;\n    await Promise.all([\n      (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.overlayEl, { opacity: [1, 0] }, { duration }).finished,\n      (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.containerEl, animation, { duration }).finished\n    ]);\n    this.containerEl.removeAttribute(\"style\");\n    this.active = false;\n    this.open = false;\n  }\n  addKeyboardEvents() {\n    this.abortController = new AbortController();\n    window.addEventListener(\n      \"keydown\",\n      (event) => {\n        var _a;\n        if (event.key === \"Escape\") {\n          _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.close();\n        } else if (event.key === \"Tab\") {\n          if (!((_a = event.target) == null ? void 0 : _a.tagName.includes(\"wcm-\"))) {\n            this.containerEl.focus();\n          }\n        }\n      },\n      this.abortController\n    );\n    this.containerEl.focus();\n  }\n  removeKeyboardEvents() {\n    var _a;\n    (_a = this.abortController) == null ? void 0 : _a.abort();\n    this.abortController = void 0;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-overlay\": true,\n      \"wcm-active\": this.active\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id=\"wcm-modal\" class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\" @click=\"${this.onCloseModal}\" role=\"alertdialog\" aria-modal=\"true\"><div class=\"wcm-container\" tabindex=\"0\">${this.open ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-backcard></wcm-modal-backcard><div class=\"wcm-card\"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>` : null}</div></div>`;\n  }\n};\nWcmModal.styles = [ThemeUtil.globalCss, styles$9];\n__decorateClass$b([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModal.prototype, \"open\", 2);\n__decorateClass$b([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModal.prototype, \"active\", 2);\nWcmModal = __decorateClass$b([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal\")\n], WcmModal);\n\nconst styles$8 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;\n\nvar __defProp$a = Object.defineProperty;\nvar __getOwnPropDesc$a = Object.getOwnPropertyDescriptor;\nvar __decorateClass$a = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$a(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$a(target, key, result);\n  return result;\n};\nlet WcmPlatformSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.isMobile = false;\n    this.isDesktop = false;\n    this.isWeb = false;\n    this.isRetry = false;\n  }\n  // -- private ------------------------------------------------------ //\n  onMobile() {\n    const isMobile = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile();\n    if (isMobile) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"MobileConnecting\");\n    } else {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"MobileQrcodeConnecting\");\n    }\n  }\n  onDesktop() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"DesktopConnecting\");\n  }\n  onWeb() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"WebConnecting\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div>${this.isRetry ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<slot></slot>` : null} ${this.isMobile ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-button .onClick=\"${this.onMobile}\" .iconLeft=\"${SvgUtil.MOBILE_ICON}\" variant=\"outline\">Mobile</wcm-button>` : null} ${this.isDesktop ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-button .onClick=\"${this.onDesktop}\" .iconLeft=\"${SvgUtil.DESKTOP_ICON}\" variant=\"outline\">Desktop</wcm-button>` : null} ${this.isWeb ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-button .onClick=\"${this.onWeb}\" .iconLeft=\"${SvgUtil.GLOBE_ICON}\" variant=\"outline\">Web</wcm-button>` : null}</div>`;\n  }\n};\nWcmPlatformSelection.styles = [ThemeUtil.globalCss, styles$8];\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isMobile\", 2);\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isDesktop\", 2);\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isWeb\", 2);\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isRetry\", 2);\nWcmPlatformSelection = __decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-platform-selection\")\n], WcmPlatformSelection);\n\nconst styles$7 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$9 = Object.defineProperty;\nvar __getOwnPropDesc$9 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$9 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$9(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$9(target, key, result);\n  return result;\n};\nlet WcmViewAllWalletsButton = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  onClick() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"WalletExplorer\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const manualWallets = DataUtil.manualWallets();\n    const reversedWallets = [...recomendedWallets, ...manualWallets].reverse().slice(0, 4);\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button @click=\"${this.onClick}\"><div class=\"wcm-icons\">${reversedWallets.map((wallet) => {\n      const explorerImg = UiUtil.getWalletIcon(wallet);\n      if (explorerImg) {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<img crossorigin=\"anonymous\" src=\"${explorerImg}\">`;\n      }\n      const src = UiUtil.getWalletIcon({ id: wallet.id });\n      return src ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<img crossorigin=\"anonymous\" src=\"${src}\">` : SvgUtil.WALLET_PLACEHOLDER;\n    })} ${[...Array(4 - reversedWallets.length)].map(() => SvgUtil.WALLET_PLACEHOLDER)}</div><wcm-text variant=\"xsmall-regular\">View All</wcm-text></button>`;\n  }\n};\nWcmViewAllWalletsButton.styles = [ThemeUtil.globalCss, styles$7];\nWcmViewAllWalletsButton = __decorateClass$9([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-view-all-wallets-button\")\n], WcmViewAllWalletsButton);\n\nconst styles$6 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;\n\nvar __defProp$8 = Object.defineProperty;\nvar __getOwnPropDesc$8 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$8 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$8(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$8(target, key, result);\n  return result;\n};\nlet WcmWalletConnectQr = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.walletId = \"\";\n    this.imageId = \"\";\n    this.uri = \"\";\n    setTimeout(() => {\n      const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n      this.uri = walletConnectUri;\n    }, 0);\n  }\n  // -- private ------------------------------------------------------ //\n  get overlayEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-qr-container\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"wcm-qr-container\">${this.uri ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-qrcode size=\"${this.overlayEl.offsetWidth}\" uri=\"${this.uri}\" walletId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.walletId)}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\"></wcm-qrcode>` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-spinner></wcm-spinner>`}</div>`;\n  }\n};\nWcmWalletConnectQr.styles = [ThemeUtil.globalCss, styles$6];\n__decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletConnectQr.prototype, \"walletId\", 2);\n__decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletConnectQr.prototype, \"imageId\", 2);\n__decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletConnectQr.prototype, \"uri\", 2);\nWcmWalletConnectQr = __decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-walletconnect-qr\")\n], WcmWalletConnectQr);\n\nvar __defProp$7 = Object.defineProperty;\nvar __getOwnPropDesc$7 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$7 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$7(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$7(target, key, result);\n  return result;\n};\nlet WcmConnectWalletView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  viewTemplate() {\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid() && !_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram()) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-android-wallet-selection></wcm-android-wallet-selection>`;\n    }\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile()) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`;\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`;\n  }\n};\nWcmConnectWalletView.styles = [ThemeUtil.globalCss];\nWcmConnectWalletView = __decorateClass$7([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-connect-wallet-view\")\n], WcmConnectWalletView);\n\nconst styles$5 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;\n\nvar __defProp$6 = Object.defineProperty;\nvar __getOwnPropDesc$6 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$6 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$6(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$6(target, key, result);\n  return result;\n};\nlet WcmDesktopConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.isError = false;\n    this.openDesktopApp();\n  }\n  // -- private ------------------------------------------------------ //\n  onFormatAndRedirect(uri) {\n    const { desktop, name } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const nativeUrl = desktop == null ? void 0 : desktop.native;\n    const universalUrl = desktop == null ? void 0 : desktop.universal;\n    if (nativeUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatNativeUrl(nativeUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, \"_self\");\n    } else if (universalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, \"_blank\");\n    }\n  }\n  openDesktopApp() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const routerData = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    UiUtil.setRecentWallet(routerData);\n    if (walletConnectUri) {\n      this.onFormatAndRedirect(walletConnectUri);\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isMobile, isWeb } = UiUtil.getCachedRouterWalletPlatforms();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"${`Continue in ${name}...`}\" .isError=\"${this.isError}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`Connection can continue loading if ${name} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile=\"${isMobile}\" .isWeb=\"${isWeb}\" .isRetry=\"${true}\"><wcm-button .onClick=\"${this.openDesktopApp.bind(this)}\" .iconRight=\"${SvgUtil.RETRY_ICON}\">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`;\n  }\n};\nWcmDesktopConnectingView.styles = [ThemeUtil.globalCss, styles$5];\n__decorateClass$6([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmDesktopConnectingView.prototype, \"isError\", 2);\nWcmDesktopConnectingView = __decorateClass$6([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-desktop-connecting-view\")\n], WcmDesktopConnectingView);\n\nconst styles$4 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;\n\nvar __defProp$5 = Object.defineProperty;\nvar __getOwnPropDesc$5 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$5 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$5(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$5(target, key, result);\n  return result;\n};\nlet WcmInstallWalletView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  onInstall(uri) {\n    if (uri) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(uri, \"_blank\");\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id, homepage } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"Not Detected\" .isStale=\"${true}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`Download ${name} to continue. If multiple browser extensions are installed, disable non ${name} ones and try again`}</wcm-text><wcm-button .onClick=\"${() => this.onInstall(homepage)}\" .iconLeft=\"${SvgUtil.ARROW_DOWN_ICON}\">Download</wcm-button></wcm-info-footer>`;\n  }\n};\nWcmInstallWalletView.styles = [ThemeUtil.globalCss, styles$4];\nWcmInstallWalletView = __decorateClass$5([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-install-wallet-view\")\n], WcmInstallWalletView);\n\nconst styles$3 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;\n\nvar __defProp$4 = Object.defineProperty;\nvar __getOwnPropDesc$4 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$4 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$4(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$4(target, key, result);\n  return result;\n};\nlet WcmMobileConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.isError = false;\n    this.openMobileApp();\n  }\n  // -- private ------------------------------------------------------ //\n  onFormatAndRedirect(uri, forceUniversalUrl = false) {\n    const { mobile, name } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const nativeUrl = mobile == null ? void 0 : mobile.native;\n    const universalUrl = mobile == null ? void 0 : mobile.universal;\n    const target = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram() ? \"_blank\" : \"_self\";\n    uri = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram() && _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid() ? encodeURIComponent(uri) : uri;\n    if (nativeUrl && !forceUniversalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatNativeUrl(nativeUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n    } else if (universalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n    }\n  }\n  openMobileApp(forceUniversalUrl = false) {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const routerData = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    if (walletConnectUri) {\n      this.onFormatAndRedirect(walletConnectUri, forceUniversalUrl);\n    }\n    UiUtil.setRecentWallet(routerData);\n  }\n  onGoToAppStore(downloadUrl) {\n    if (downloadUrl) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(downloadUrl, \"_blank\");\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id, app, mobile } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isWeb } = UiUtil.getCachedRouterWalletPlatforms();\n    const downloadUrl = app == null ? void 0 : app.ios;\n    const universalUrl = mobile == null ? void 0 : mobile.universal;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"Tap 'Open' to continue…\" .isError=\"${this.isError}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class=\"wcm-note\"><wcm-platform-selection .isWeb=\"${isWeb}\" .isRetry=\"${true}\"><wcm-button .onClick=\"${() => this.openMobileApp(false)}\" .iconRight=\"${SvgUtil.RETRY_ICON}\">Retry</wcm-button></wcm-platform-selection>${universalUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text color=\"secondary\" variant=\"small-thin\">Still doesn't work? <span tabindex=\"0\" @click=\"${() => this.openMobileApp(true)}\">Try this alternate link</span></wcm-text>` : null}</wcm-info-footer><wcm-info-footer class=\"wcm-app-store\"><div><wcm-wallet-image walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\"></wcm-wallet-image><wcm-text>${`Get ${name}`}</wcm-text></div><wcm-button .iconRight=\"${SvgUtil.ARROW_RIGHT_ICON}\" .onClick=\"${() => this.onGoToAppStore(downloadUrl)}\" variant=\"ghost\">App Store</wcm-button></wcm-info-footer>`;\n  }\n};\nWcmMobileConnectingView.styles = [ThemeUtil.globalCss, styles$3];\n__decorateClass$4([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmMobileConnectingView.prototype, \"isError\", 2);\nWcmMobileConnectingView = __decorateClass$4([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-mobile-connecting-view\")\n], WcmMobileConnectingView);\n\nconst styles$2 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;\n\nvar __defProp$3 = Object.defineProperty;\nvar __getOwnPropDesc$3 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$3 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$3(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$3(target, key, result);\n  return result;\n};\nlet WcmMobileQrConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isDesktop, isWeb } = UiUtil.getCachedRouterWalletPlatforms();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`Scan this QR Code with your phone's camera or inside ${name} app`}</wcm-text><wcm-platform-selection .isDesktop=\"${isDesktop}\" .isWeb=\"${isWeb}\"></wcm-platform-selection></wcm-info-footer>`;\n  }\n};\nWcmMobileQrConnectingView.styles = [ThemeUtil.globalCss, styles$2];\nWcmMobileQrConnectingView = __decorateClass$3([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-mobile-qr-connecting-view\")\n], WcmMobileQrConnectingView);\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropDesc$2 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$2 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$2(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$2(target, key, result);\n  return result;\n};\nlet WcmQrcodeView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"Scan the code\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`;\n  }\n};\nWcmQrcodeView.styles = [ThemeUtil.globalCss];\nWcmQrcodeView = __decorateClass$2([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-qrcode-view\")\n], WcmQrcodeView);\n\nconst styles$1 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropDesc$1 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$1 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$1(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$1(target, key, result);\n  return result;\n};\nconst PAGE_ENTRIES = 40;\nlet WcmWalletExplorerView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.loading = !_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state.wallets.listings.length;\n    this.firstFetch = !_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state.wallets.listings.length;\n    this.search = \"\";\n    this.endReached = false;\n    this.intersectionObserver = void 0;\n    this.searchDebounce = UiUtil.debounce((value) => {\n      if (value.length >= 1) {\n        this.firstFetch = true;\n        this.endReached = false;\n        this.search = value;\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.resetSearch();\n        this.fetchWallets();\n      } else if (this.search) {\n        this.search = \"\";\n        this.endReached = this.isLastPage();\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.resetSearch();\n      }\n    });\n  }\n  // -- lifecycle ---------------------------------------------------- //\n  firstUpdated() {\n    this.createPaginationObserver();\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.intersectionObserver) == null ? void 0 : _a.disconnect();\n  }\n  // -- private ------------------------------------------------------ //\n  get placeholderEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-placeholder-block\");\n  }\n  createPaginationObserver() {\n    this.intersectionObserver = new IntersectionObserver(([element]) => {\n      if (element.isIntersecting && !(this.search && this.firstFetch)) {\n        this.fetchWallets();\n      }\n    });\n    this.intersectionObserver.observe(this.placeholderEl);\n  }\n  isLastPage() {\n    const { wallets, search } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const { listings, total } = this.search ? search : wallets;\n    return total <= PAGE_ENTRIES || listings.length >= total;\n  }\n  async fetchWallets() {\n    var _a;\n    const { wallets, search } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const { listings, total, page } = this.search ? search : wallets;\n    if (!this.endReached && (this.firstFetch || total > PAGE_ENTRIES && listings.length < total)) {\n      try {\n        this.loading = true;\n        const chains = (_a = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state.chains) == null ? void 0 : _a.join(\",\");\n        const { listings: newListings } = await _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.getWallets({\n          page: this.firstFetch ? 1 : page + 1,\n          entries: PAGE_ENTRIES,\n          search: this.search,\n          version: 2,\n          chains\n        });\n        const explorerImages = newListings.map((wallet) => UiUtil.getWalletIcon(wallet));\n        await Promise.all([\n          ...explorerImages.map(async (url) => UiUtil.preloadImage(url)),\n          _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.wait(300)\n        ]);\n        this.endReached = this.isLastPage();\n      } catch (err) {\n        console.error(err);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(UiUtil.getErrorMessage(err), \"error\");\n      } finally {\n        this.loading = false;\n        this.firstFetch = false;\n      }\n    }\n  }\n  onConnect(listing) {\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid()) {\n      UiUtil.handleMobileLinking(listing);\n    } else {\n      UiUtil.goToConnectingView(listing);\n    }\n  }\n  onSearchChange(event) {\n    const { value } = event.target;\n    this.searchDebounce(value);\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { wallets, search } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const { listings } = this.search ? search : wallets;\n    const isLoading = this.loading && !listings.length;\n    const isSearch = this.search.length >= 3;\n    let manualWallets = TemplateUtil.manualWalletsTemplate();\n    let recomendedWallets = TemplateUtil.recomendedWalletsTemplate(true);\n    if (isSearch) {\n      manualWallets = manualWallets.filter(\n        ({ values }) => UiUtil.caseSafeIncludes(values[0], this.search)\n      );\n      recomendedWallets = recomendedWallets.filter(\n        ({ values }) => UiUtil.caseSafeIncludes(values[0], this.search)\n      );\n    }\n    const isEmpty = !this.loading && !listings.length && !recomendedWallets.length;\n    const classes = {\n      \"wcm-loading\": isLoading,\n      \"wcm-end-reached\": this.endReached || !this.loading,\n      \"wcm-empty\": isEmpty\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header><wcm-search-input .onChange=\"${this.onSearchChange.bind(this)}\"></wcm-search-input></wcm-modal-header><wcm-modal-content class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\"><div class=\"wcm-grid\">${isLoading ? null : manualWallets} ${isLoading ? null : recomendedWallets} ${isLoading ? null : listings.map(\n      (listing) => (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`${listing ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button imageId=\"${listing.image_id}\" name=\"${listing.name}\" walletId=\"${listing.id}\" .onClick=\"${() => this.onConnect(listing)}\"></wcm-wallet-button>` : null}`\n    )}</div><div class=\"wcm-placeholder-block\">${isEmpty ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text variant=\"big-bold\" color=\"secondary\">No results found</wcm-text>` : null} ${!isEmpty && this.loading ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-spinner></wcm-spinner>` : null}</div></wcm-modal-content>`;\n  }\n};\nWcmWalletExplorerView.styles = [ThemeUtil.globalCss, styles$1];\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"loading\", 2);\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"firstFetch\", 2);\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"search\", 2);\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"endReached\", 2);\nWcmWalletExplorerView = __decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-wallet-explorer-view\")\n], WcmWalletExplorerView);\n\nconst styles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nlet WcmWebConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.isError = false;\n    this.openWebWallet();\n  }\n  // -- private ------------------------------------------------------ //\n  onFormatAndRedirect(uri) {\n    const { desktop, name } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const universalUrl = desktop == null ? void 0 : desktop.universal;\n    if (universalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, \"_blank\");\n    }\n  }\n  openWebWallet() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const routerData = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    UiUtil.setRecentWallet(routerData);\n    if (walletConnectUri) {\n      this.onFormatAndRedirect(walletConnectUri);\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isMobile, isDesktop } = UiUtil.getCachedRouterWalletPlatforms();\n    const isMobilePlatform = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"${`Continue in ${name}...`}\" .isError=\"${this.isError}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`${name} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile=\"${isMobile}\" .isDesktop=\"${isMobilePlatform ? false : isDesktop}\" .isRetry=\"${true}\"><wcm-button .onClick=\"${this.openWebWallet.bind(this)}\" .iconRight=\"${SvgUtil.RETRY_ICON}\">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`;\n  }\n};\nWcmWebConnectingView.styles = [ThemeUtil.globalCss, styles];\n__decorateClass([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWebConnectingView.prototype, \"isError\", 2);\nWcmWebConnectingView = __decorateClass([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-web-connecting-view\")\n], WcmWebConnectingView);\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTBEO0FBQ1M7QUFDWjtBQUM4RjtBQUN0SDtBQUNFO0FBQ3dCO0FBQ3pCOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRiw2REFBNkQ7QUFDN0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnRUFBUztBQUNuQztBQUNBO0FBQ0Esb0JBQW9CLGtFQUFrRTtBQUN0RixvQkFBb0IscUVBQXFFO0FBQ3pGO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0JBQW9CLHFFQUFxRTtBQUN6RixvQkFBb0IsNERBQTREO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsWUFBWSxpQkFBaUIsRUFBRSxnRUFBUztBQUN4QztBQUNBLHVFQUF1RTtBQUN2RTtBQUNBO0FBQ0EsR0FBRztBQUNILGFBQWEsd0NBQUcsb0JBQW9CLFNBQVMsVUFBVSxzQkFBc0Isa0JBQWtCLDZCQUE2QixtQ0FB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a2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcywgTGl0RWxlbWVudCwgaHRtbCwgc3ZnIGFzIHN2ZyQxIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHByb3BlcnR5LCBjdXN0b21FbGVtZW50LCBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IGNsYXNzTWFwIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwLmpzJztcbmltcG9ydCB7IFRoZW1lQ3RybCwgTW9kYWxDdHJsLCBSb3V0ZXJDdHJsLCBDb25maWdDdHJsLCBFeHBsb3JlckN0cmwsIENvcmVVdGlsLCBPcHRpb25zQ3RybCwgVG9hc3RDdHJsLCBFdmVudHNDdHJsIH0gZnJvbSAnQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZSc7XG5pbXBvcnQgeyBzdmcgfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgeyBhbmltYXRlIH0gZnJvbSAnbW90aW9uJztcbmltcG9ydCB7IGlmRGVmaW5lZCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMnO1xuaW1wb3J0IFFSQ29kZVV0aWwgZnJvbSAncXJjb2RlJztcblxudmFyIF9fZGVmUHJvcCR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJHkob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmZ1bmN0aW9uIHRoZW1lTW9kZVZhcmlhYmxlcygpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB0aGVtZU1vZGUgPSAoX2EgPSBUaGVtZUN0cmwuc3RhdGUudGhlbWVNb2RlKSAhPSBudWxsID8gX2EgOiBcImRhcmtcIjtcbiAgY29uc3QgdGhlbWVNb2RlUHJlc2V0cyA9IHtcbiAgICBsaWdodDoge1xuICAgICAgZm9yZWdyb3VuZDogeyAxOiBgcmdiKDIwLDIwLDIwKWAsIDI6IGByZ2IoMTIxLDEzNCwxMzQpYCwgMzogYHJnYigxNTgsMTY5LDE2OSlgIH0sXG4gICAgICBiYWNrZ3JvdW5kOiB7IDE6IGByZ2IoMjU1LDI1NSwyNTUpYCwgMjogYHJnYigyNDEsMjQzLDI0MylgLCAzOiBgcmdiKDIyOCwyMzEsMjMxKWAgfSxcbiAgICAgIG92ZXJsYXk6IFwicmdiYSgwLDAsMCwwLjEpXCJcbiAgICB9LFxuICAgIGRhcms6IHtcbiAgICAgIGZvcmVncm91bmQ6IHsgMTogYHJnYigyMjgsMjMxLDIzMSlgLCAyOiBgcmdiKDE0OCwxNTgsMTU4KWAsIDM6IGByZ2IoMTEwLDExOSwxMTkpYCB9LFxuICAgICAgYmFja2dyb3VuZDogeyAxOiBgcmdiKDIwLDIwLDIwKWAsIDI6IGByZ2IoMzksNDIsNDIpYCwgMzogYHJnYig1OSw2NCw2NClgIH0sXG4gICAgICBvdmVybGF5OiBcInJnYmEoMjU1LDI1NSwyNTUsMC4xKVwiXG4gICAgfVxuICB9O1xuICBjb25zdCB0aGVtZU1vZGVDb2xvcnMgPSB0aGVtZU1vZGVQcmVzZXRzW3RoZW1lTW9kZV07XG4gIHJldHVybiB7XG4gICAgXCItLXdjbS1jb2xvci1mZy0xXCI6IHRoZW1lTW9kZUNvbG9ycy5mb3JlZ3JvdW5kWzFdLFxuICAgIFwiLS13Y20tY29sb3ItZmctMlwiOiB0aGVtZU1vZGVDb2xvcnMuZm9yZWdyb3VuZFsyXSxcbiAgICBcIi0td2NtLWNvbG9yLWZnLTNcIjogdGhlbWVNb2RlQ29sb3JzLmZvcmVncm91bmRbM10sXG4gICAgXCItLXdjbS1jb2xvci1iZy0xXCI6IHRoZW1lTW9kZUNvbG9ycy5iYWNrZ3JvdW5kWzFdLFxuICAgIFwiLS13Y20tY29sb3ItYmctMlwiOiB0aGVtZU1vZGVDb2xvcnMuYmFja2dyb3VuZFsyXSxcbiAgICBcIi0td2NtLWNvbG9yLWJnLTNcIjogdGhlbWVNb2RlQ29sb3JzLmJhY2tncm91bmRbM10sXG4gICAgXCItLXdjbS1jb2xvci1vdmVybGF5XCI6IHRoZW1lTW9kZUNvbG9ycy5vdmVybGF5XG4gIH07XG59XG5mdW5jdGlvbiB0aGVtZVZhcmlhYmxlc1ByZXNldHMoKSB7XG4gIHJldHVybiB7XG4gICAgXCItLXdjbS1hY2NlbnQtY29sb3JcIjogXCIjMzM5NkZGXCIsXG4gICAgXCItLXdjbS1hY2NlbnQtZmlsbC1jb2xvclwiOiBcIiNGRkZGRkZcIixcbiAgICBcIi0td2NtLXotaW5kZXhcIjogXCI4OVwiLFxuICAgIFwiLS13Y20tYmFja2dyb3VuZC1jb2xvclwiOiBcIiMzMzk2RkZcIixcbiAgICBcIi0td2NtLWJhY2tncm91bmQtYm9yZGVyLXJhZGl1c1wiOiBcIjhweFwiLFxuICAgIFwiLS13Y20tY29udGFpbmVyLWJvcmRlci1yYWRpdXNcIjogXCIzMHB4XCIsXG4gICAgXCItLXdjbS13YWxsZXQtaWNvbi1ib3JkZXItcmFkaXVzXCI6IFwiMTVweFwiLFxuICAgIFwiLS13Y20td2FsbGV0LWljb24tbGFyZ2UtYm9yZGVyLXJhZGl1c1wiOiBcIjMwcHhcIixcbiAgICBcIi0td2NtLXdhbGxldC1pY29uLXNtYWxsLWJvcmRlci1yYWRpdXNcIjogXCI3cHhcIixcbiAgICBcIi0td2NtLWlucHV0LWJvcmRlci1yYWRpdXNcIjogXCIyOHB4XCIsXG4gICAgXCItLXdjbS1idXR0b24tYm9yZGVyLXJhZGl1c1wiOiBcIjEwcHhcIixcbiAgICBcIi0td2NtLW5vdGlmaWNhdGlvbi1ib3JkZXItcmFkaXVzXCI6IFwiMzZweFwiLFxuICAgIFwiLS13Y20tc2Vjb25kYXJ5LWJ1dHRvbi1ib3JkZXItcmFkaXVzXCI6IFwiMjhweFwiLFxuICAgIFwiLS13Y20taWNvbi1idXR0b24tYm9yZGVyLXJhZGl1c1wiOiBcIjUwJVwiLFxuICAgIFwiLS13Y20tYnV0dG9uLWhvdmVyLWhpZ2hsaWdodC1ib3JkZXItcmFkaXVzXCI6IFwiMTBweFwiLFxuICAgIFwiLS13Y20tdGV4dC1iaWctYm9sZC1zaXplXCI6IFwiMjBweFwiLFxuICAgIFwiLS13Y20tdGV4dC1iaWctYm9sZC13ZWlnaHRcIjogXCI2MDBcIixcbiAgICBcIi0td2NtLXRleHQtYmlnLWJvbGQtbGluZS1oZWlnaHRcIjogXCIyNHB4XCIsXG4gICAgXCItLXdjbS10ZXh0LWJpZy1ib2xkLWxldHRlci1zcGFjaW5nXCI6IFwiLTAuMDNlbVwiLFxuICAgIFwiLS13Y20tdGV4dC1iaWctYm9sZC10ZXh0LXRyYW5zZm9ybVwiOiBcIm5vbmVcIixcbiAgICBcIi0td2NtLXRleHQteHNtYWxsLWJvbGQtc2l6ZVwiOiBcIjEwcHhcIixcbiAgICBcIi0td2NtLXRleHQteHNtYWxsLWJvbGQtd2VpZ2h0XCI6IFwiNzAwXCIsXG4gICAgXCItLXdjbS10ZXh0LXhzbWFsbC1ib2xkLWxpbmUtaGVpZ2h0XCI6IFwiMTJweFwiLFxuICAgIFwiLS13Y20tdGV4dC14c21hbGwtYm9sZC1sZXR0ZXItc3BhY2luZ1wiOiBcIjAuMDJlbVwiLFxuICAgIFwiLS13Y20tdGV4dC14c21hbGwtYm9sZC10ZXh0LXRyYW5zZm9ybVwiOiBcInVwcGVyY2FzZVwiLFxuICAgIFwiLS13Y20tdGV4dC14c21hbGwtcmVndWxhci1zaXplXCI6IFwiMTJweFwiLFxuICAgIFwiLS13Y20tdGV4dC14c21hbGwtcmVndWxhci13ZWlnaHRcIjogXCI2MDBcIixcbiAgICBcIi0td2NtLXRleHQteHNtYWxsLXJlZ3VsYXItbGluZS1oZWlnaHRcIjogXCIxNHB4XCIsXG4gICAgXCItLXdjbS10ZXh0LXhzbWFsbC1yZWd1bGFyLWxldHRlci1zcGFjaW5nXCI6IFwiLTAuMDNlbVwiLFxuICAgIFwiLS13Y20tdGV4dC14c21hbGwtcmVndWxhci10ZXh0LXRyYW5zZm9ybVwiOiBcIm5vbmVcIixcbiAgICBcIi0td2NtLXRleHQtc21hbGwtdGhpbi1zaXplXCI6IFwiMTRweFwiLFxuICAgIFwiLS13Y20tdGV4dC1zbWFsbC10aGluLXdlaWdodFwiOiBcIjUwMFwiLFxuICAgIFwiLS13Y20tdGV4dC1zbWFsbC10aGluLWxpbmUtaGVpZ2h0XCI6IFwiMTZweFwiLFxuICAgIFwiLS13Y20tdGV4dC1zbWFsbC10aGluLWxldHRlci1zcGFjaW5nXCI6IFwiLTAuMDNlbVwiLFxuICAgIFwiLS13Y20tdGV4dC1zbWFsbC10aGluLXRleHQtdHJhbnNmb3JtXCI6IFwibm9uZVwiLFxuICAgIFwiLS13Y20tdGV4dC1zbWFsbC1yZWd1bGFyLXNpemVcIjogXCIxNHB4XCIsXG4gICAgXCItLXdjbS10ZXh0LXNtYWxsLXJlZ3VsYXItd2VpZ2h0XCI6IFwiNjAwXCIsXG4gICAgXCItLXdjbS10ZXh0LXNtYWxsLXJlZ3VsYXItbGluZS1oZWlnaHRcIjogXCIxNnB4XCIsXG4gICAgXCItLXdjbS10ZXh0LXNtYWxsLXJlZ3VsYXItbGV0dGVyLXNwYWNpbmdcIjogXCItMC4wM2VtXCIsXG4gICAgXCItLXdjbS10ZXh0LXNtYWxsLXJlZ3VsYXItdGV4dC10cmFuc2Zvcm1cIjogXCJub25lXCIsXG4gICAgXCItLXdjbS10ZXh0LW1lZGl1bS1yZWd1bGFyLXNpemVcIjogXCIxNnB4XCIsXG4gICAgXCItLXdjbS10ZXh0LW1lZGl1bS1yZWd1bGFyLXdlaWdodFwiOiBcIjYwMFwiLFxuICAgIFwiLS13Y20tdGV4dC1tZWRpdW0tcmVndWxhci1saW5lLWhlaWdodFwiOiBcIjIwcHhcIixcbiAgICBcIi0td2NtLXRleHQtbWVkaXVtLXJlZ3VsYXItbGV0dGVyLXNwYWNpbmdcIjogXCItMC4wM2VtXCIsXG4gICAgXCItLXdjbS10ZXh0LW1lZGl1bS1yZWd1bGFyLXRleHQtdHJhbnNmb3JtXCI6IFwibm9uZVwiLFxuICAgIFwiLS13Y20tZm9udC1mYW1pbHlcIjogXCItYXBwbGUtc3lzdGVtLCBzeXN0ZW0tdWksIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgUm9ib3RvLCBVYnVudHUsICdIZWx2ZXRpY2EgTmV1ZScsIHNhbnMtc2VyaWZcIixcbiAgICBcIi0td2NtLWZvbnQtZmVhdHVyZS1zZXR0aW5nc1wiOiBgJ3RudW0nIG9uLCAnbG51bScgb24sICdjYXNlJyBvbmAsXG4gICAgXCItLXdjbS1zdWNjZXNzLWNvbG9yXCI6IFwicmdiKDM4LDE4MSw5OClcIixcbiAgICBcIi0td2NtLWVycm9yLWNvbG9yXCI6IFwicmdiKDI0MiwgOTAsIDEwMylcIixcbiAgICBcIi0td2NtLW92ZXJsYXktYmFja2dyb3VuZC1jb2xvclwiOiBcInJnYmEoMCwgMCwgMCwgMC4zKVwiLFxuICAgIFwiLS13Y20tb3ZlcmxheS1iYWNrZHJvcC1maWx0ZXJcIjogXCJub25lXCJcbiAgfTtcbn1cbmNvbnN0IFRoZW1lVXRpbCA9IHtcbiAgZ2V0UHJlc2V0KGtleSkge1xuICAgIHJldHVybiB0aGVtZVZhcmlhYmxlc1ByZXNldHMoKVtrZXldO1xuICB9LFxuICBzZXRUaGVtZSgpIHtcbiAgICBjb25zdCByb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIjpyb290XCIpO1xuICAgIGNvbnN0IHsgdGhlbWVWYXJpYWJsZXMgfSA9IFRoZW1lQ3RybC5zdGF0ZTtcbiAgICBpZiAocm9vdCkge1xuICAgICAgY29uc3QgdmFyaWFibGVzID0gX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIHRoZW1lTW9kZVZhcmlhYmxlcygpKSwgdGhlbWVWYXJpYWJsZXNQcmVzZXRzKCkpLCB0aGVtZVZhcmlhYmxlcyk7XG4gICAgICBPYmplY3QuZW50cmllcyh2YXJpYWJsZXMpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWwpKTtcbiAgICB9XG4gIH0sXG4gIGdsb2JhbENzczogY3NzYCosOjphZnRlciw6OmJlZm9yZXttYXJnaW46MDtwYWRkaW5nOjA7Ym94LXNpemluZzpib3JkZXItYm94O2ZvbnQtc3R5bGU6bm9ybWFsO3RleHQtcmVuZGVyaW5nOm9wdGltaXplU3BlZWQ7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnRyYW5zcGFyZW50O2JhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVufWJ1dHRvbntjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZX1AbWVkaWEgKGhvdmVyOmhvdmVyKSBhbmQgKHBvaW50ZXI6ZmluZSl7YnV0dG9uOmFjdGl2ZXt0cmFuc2l0aW9uOmFsbCAuMXMgZWFzZTt0cmFuc2Zvcm06c2NhbGUoLjkzKX19YnV0dG9uOjphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciwuMnMgZWFzZX1idXR0b246ZGlzYWJsZWR7Y3Vyc29yOm5vdC1hbGxvd2VkfWJ1dHRvbiBzdmcsYnV0dG9uIHdjbS10ZXh0e3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MX1pbnB1dHtib3JkZXI6bm9uZTtvdXRsaW5lOjA7YXBwZWFyYW5jZTpub25lfWltZ3tkaXNwbGF5OmJsb2NrfTo6c2VsZWN0aW9ue2NvbG9yOnZhcigtLXdjbS1hY2NlbnQtZmlsbC1jb2xvcik7YmFja2dyb3VuZDp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX1gXG59O1xuXG5jb25zdCBzdHlsZXMkdCA9IGNzc2BidXR0b257Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20tc2Vjb25kYXJ5LWJ1dHRvbi1ib3JkZXItcmFkaXVzKTtoZWlnaHQ6MjhweDtwYWRkaW5nOjAgMTBweDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfWJ1dHRvbiBwYXRoe2ZpbGw6dmFyKC0td2NtLWFjY2VudC1maWxsLWNvbG9yKX1idXR0b246OmFmdGVye2JvcmRlci1yYWRpdXM6aW5oZXJpdDtib3JkZXI6MXB4IHNvbGlkIHZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1idXR0b246ZGlzYWJsZWQ6OmFmdGVye2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9LndjbS1pY29uLWxlZnQgc3Zne21hcmdpbi1yaWdodDo1cHh9LndjbS1pY29uLXJpZ2h0IHN2Z3ttYXJnaW4tbGVmdDo1cHh9YnV0dG9uOmFjdGl2ZTo6YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9LndjbS1naG9zdCwud2NtLWdob3N0OmFjdGl2ZTo6YWZ0ZXIsLndjbS1vdXRsaW5le2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9LndjbS1naG9zdDphY3RpdmV7b3BhY2l0eTouNX1AbWVkaWEoaG92ZXI6aG92ZXIpe2J1dHRvbjpob3Zlcjo6YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9LndjbS1naG9zdDpob3Zlcjo6YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ud2NtLWdob3N0OmhvdmVye29wYWNpdHk6LjV9fWJ1dHRvbjpkaXNhYmxlZHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1iZy0zKTtwb2ludGVyLWV2ZW50czpub25lfS53Y20tZ2hvc3Q6OmFmdGVye2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH0ud2NtLWdob3N0IHBhdGh7ZmlsbDp2YXIoLS13Y20tY29sb3ItZmctMil9LndjbS1vdXRsaW5lIHBhdGh7ZmlsbDp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX0ud2NtLW91dGxpbmU6ZGlzYWJsZWR7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtvcGFjaXR5Oi41fWA7XG5cbnZhciBfX2RlZlByb3AkeCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJHggPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyR4ID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJHgodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJHgodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbUJ1dHRvbiA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuaWNvbkxlZnQgPSB2b2lkIDA7XG4gICAgdGhpcy5pY29uUmlnaHQgPSB2b2lkIDA7XG4gICAgdGhpcy5vbkNsaWNrID0gKCkgPT4gbnVsbDtcbiAgICB0aGlzLnZhcmlhbnQgPSBcImRlZmF1bHRcIjtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFwid2NtLWljb24tbGVmdFwiOiB0aGlzLmljb25MZWZ0ICE9PSB2b2lkIDAsXG4gICAgICBcIndjbS1pY29uLXJpZ2h0XCI6IHRoaXMuaWNvblJpZ2h0ICE9PSB2b2lkIDAsXG4gICAgICBcIndjbS1naG9zdFwiOiB0aGlzLnZhcmlhbnQgPT09IFwiZ2hvc3RcIixcbiAgICAgIFwid2NtLW91dGxpbmVcIjogdGhpcy52YXJpYW50ID09PSBcIm91dGxpbmVcIlxuICAgIH07XG4gICAgbGV0IHRleHRDb2xvciA9IFwiaW52ZXJzZVwiO1xuICAgIGlmICh0aGlzLnZhcmlhbnQgPT09IFwiZ2hvc3RcIikge1xuICAgICAgdGV4dENvbG9yID0gXCJzZWNvbmRhcnlcIjtcbiAgICB9XG4gICAgaWYgKHRoaXMudmFyaWFudCA9PT0gXCJvdXRsaW5lXCIpIHtcbiAgICAgIHRleHRDb2xvciA9IFwiYWNjZW50XCI7XG4gICAgfVxuICAgIHJldHVybiBodG1sYDxidXR0b24gY2xhc3M9XCIke2NsYXNzTWFwKGNsYXNzZXMpfVwiID9kaXNhYmxlZD1cIiR7dGhpcy5kaXNhYmxlZH1cIiBAY2xpY2s9XCIke3RoaXMub25DbGlja31cIj4ke3RoaXMuaWNvbkxlZnR9PHdjbS10ZXh0IHZhcmlhbnQ9XCJzbWFsbC1yZWd1bGFyXCIgY29sb3I9XCIke3RleHRDb2xvcn1cIj48c2xvdD48L3Nsb3Q+PC93Y20tdGV4dD4ke3RoaXMuaWNvblJpZ2h0fTwvYnV0dG9uPmA7XG4gIH1cbn07XG5XY21CdXR0b24uc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyR0XTtcbl9fZGVjb3JhdGVDbGFzcyR4KFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXY21CdXR0b24ucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJHgoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21CdXR0b24ucHJvdG90eXBlLCBcImljb25MZWZ0XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJHgoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21CdXR0b24ucHJvdG90eXBlLCBcImljb25SaWdodFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyR4KFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtQnV0dG9uLnByb3RvdHlwZSwgXCJvbkNsaWNrXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJHgoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21CdXR0b24ucHJvdG90eXBlLCBcInZhcmlhbnRcIiwgMik7XG5XY21CdXR0b24gPSBfX2RlY29yYXRlQ2xhc3MkeChbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tYnV0dG9uXCIpXG5dLCBXY21CdXR0b24pO1xuXG5jb25zdCBzdHlsZXMkcyA9IGNzc2A6aG9zdHtkaXNwbGF5OmlubGluZS1ibG9ja31idXR0b257cGFkZGluZzowIDE1cHggMXB4O2hlaWdodDo0MHB4O2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLWJ1dHRvbi1ib3JkZXItcmFkaXVzKTtjb2xvcjp2YXIoLS13Y20tYWNjZW50LWZpbGwtY29sb3IpO2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9YnV0dG9uOjphZnRlcntjb250ZW50OicnO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLXJhZGl1czppbmhlcml0O3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnMgZWFzZTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1idXR0b246YWN0aXZlOjphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1idXR0b246ZGlzYWJsZWR7cGFkZGluZy1ib3R0b206MDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1iZy0zKTtjb2xvcjp2YXIoLS13Y20tY29sb3ItZmctMyl9LndjbS1zZWNvbmRhcnl7Y29sb3I6dmFyKC0td2NtLWFjY2VudC1jb2xvcik7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ud2NtLXNlY29uZGFyeTo6YWZ0ZXJ7ZGlzcGxheTpub25lfUBtZWRpYShob3Zlcjpob3Zlcil7YnV0dG9uOmhvdmVyOjphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX19YDtcblxudmFyIF9fZGVmUHJvcCR3ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkdyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJHcgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2Mkdyh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3Akdyh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtQnV0dG9uQmlnID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy52YXJpYW50ID0gXCJwcmltYXJ5XCI7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB7XG4gICAgICBcIndjbS1zZWNvbmRhcnlcIjogdGhpcy52YXJpYW50ID09PSBcInNlY29uZGFyeVwiXG4gICAgfTtcbiAgICByZXR1cm4gaHRtbGA8YnV0dG9uID9kaXNhYmxlZD1cIiR7dGhpcy5kaXNhYmxlZH1cIiBjbGFzcz1cIiR7Y2xhc3NNYXAoY2xhc3Nlcyl9XCI+PHNsb3Q+PC9zbG90PjwvYnV0dG9uPmA7XG4gIH1cbn07XG5XY21CdXR0b25CaWcuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRzXTtcbl9fZGVjb3JhdGVDbGFzcyR3KFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXY21CdXR0b25CaWcucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJHcoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21CdXR0b25CaWcucHJvdG90eXBlLCBcInZhcmlhbnRcIiwgMik7XG5XY21CdXR0b25CaWcgPSBfX2RlY29yYXRlQ2xhc3MkdyhbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tYnV0dG9uLWJpZ1wiKVxuXSwgV2NtQnV0dG9uQmlnKTtcblxuY29uc3Qgc3R5bGVzJHIgPSBjc3NgOmhvc3R7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3ItYmctMik7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0td2NtLWNvbG9yLWJnLTMpfWRpdntwYWRkaW5nOjEwcHggMjBweDtkaXNwbGF5OmluaGVyaXQ7ZmxleC1kaXJlY3Rpb246aW5oZXJpdDthbGlnbi1pdGVtczppbmhlcml0O3dpZHRoOmluaGVyaXQ7anVzdGlmeS1jb250ZW50OmluaGVyaXR9YDtcblxudmFyIF9fZGVmUHJvcCR2ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkdiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJHYgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2Mkdih0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3Akdih0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtSW5mb0Zvb3RlciA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGA8ZGl2PjxzbG90Pjwvc2xvdD48L2Rpdj5gO1xuICB9XG59O1xuV2NtSW5mb0Zvb3Rlci5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJHJdO1xuV2NtSW5mb0Zvb3RlciA9IF9fZGVjb3JhdGVDbGFzcyR2KFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1pbmZvLWZvb3RlclwiKVxuXSwgV2NtSW5mb0Zvb3Rlcik7XG5cbmNvbnN0IFN2Z1V0aWwgPSB7XG4gIENST1NTX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMTIgMTJcIj48cGF0aCBkPVwiTTkuOTQgMTFBLjc1Ljc1IDAgMSAwIDExIDkuOTRMNy40MTQgNi4zNTNhLjUuNSAwIDAgMSAwLS43MDhMMTEgMi4wNjFBLjc1Ljc1IDAgMSAwIDkuOTQgMUw2LjM1MyA0LjU4NmEuNS41IDAgMCAxLS43MDggMEwyLjA2MSAxQS43NS43NSAwIDAgMCAxIDIuMDZsMy41ODYgMy41ODZhLjUuNSAwIDAgMSAwIC43MDhMMSA5LjkzOUEuNzUuNzUgMCAxIDAgMi4wNiAxMWwzLjU4Ni0zLjU4NmEuNS41IDAgMCAxIC43MDggMEw5LjkzOSAxMVpcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz5gLFxuICBXQUxMRVRfQ09OTkVDVF9MT0dPOiBzdmdgPHN2ZyB3aWR0aD1cIjE3OFwiIGhlaWdodD1cIjI5XCIgdmlld0JveD1cIjAgMCAxNzggMjlcIiBpZD1cIndjbS13Yy1sb2dvXCI+PHBhdGggZD1cIk0xMC42ODMgNy45MjZjNS4yODQtNS4xNyAxMy44NS01LjE3IDE5LjEzNCAwbC42MzYuNjIzYS42NTIuNjUyIDAgMCAxIDAgLjkzNmwtMi4xNzYgMi4xMjlhLjM0My4zNDMgMCAwIDEtLjQ3OCAwbC0uODc1LS44NTdjLTMuNjg2LTMuNjA3LTkuNjYyLTMuNjA3LTEzLjM0OCAwbC0uOTM3LjkxOGEuMzQzLjM0MyAwIDAgMS0uNDc5IDBsLTIuMTc1LTIuMTNhLjY1Mi42NTIgMCAwIDEgMC0uOTM2bC42OTgtLjY4M1ptMjMuNjMzIDQuNDAzIDEuOTM1IDEuODk1YS42NTIuNjUyIDAgMCAxIDAgLjkzNmwtOC43MyA4LjU0M2EuNjg3LjY4NyAwIDAgMS0uOTU2IDBMMjAuMzcgMTcuNjRhLjE3Mi4xNzIgMCAwIDAtLjIzOSAwbC02LjE5NSA2LjA2M2EuNjg3LjY4NyAwIDAgMS0uOTU3IDBsLTguNzMtOC41NDNhLjY1Mi42NTIgMCAwIDEgMC0uOTM2bDEuOTM2LTEuODk1YS42ODcuNjg3IDAgMCAxIC45NTcgMGw2LjE5NiA2LjA2NGEuMTcyLjE3MiAwIDAgMCAuMjM5IDBsNi4xOTUtNi4wNjRhLjY4Ny42ODcgMCAwIDEgLjk1NyAwbDYuMTk2IDYuMDY0YS4xNzIuMTcyIDAgMCAwIC4yNCAwbDYuMTk1LTYuMDY0YS42ODcuNjg3IDAgMCAxIC45NTYgMFpNNDguMDkzIDIwLjk0OGwyLjMzOC05LjM1NWMuMTM5LS41MTUuMjU4LTEuMDcuNDE2LTEuOTQyLjEyLjg3Mi4yNTggMS40MjcuMzU3IDEuOTQybDIuMDIyIDkuMzU1aDQuMTgxbDMuNTI4LTEzLjg3NGgtMy4yMWwtMS45NDMgOC41MjNhMjQuODI1IDI0LjgyNSAwIDAgMC0uNDU2IDIuNDU3Yy0uMTU4LS45MzEtLjMxNy0xLjYyNS0uNDk1LTIuNDM4bC0xLjg4My04LjU0MmgtNC4yMDFsLTIuMDQyIDguNTQyYTQxLjIwNCA0MS4yMDQgMCAwIDAtLjQ3NSAyLjQzOCA0MS4yMDggNDEuMjA4IDAgMCAwLS40NzYtMi40MzhsLTEuOTAzLTguNTQyaC0zLjM0OWwzLjUwOCAxMy44NzRoNC4wODNaTTYzLjMzIDIxLjMwNGMxLjU4NSAwIDIuNTk2LS42NTQgMy4xMS0xLjYwNS0uMDU5LjI5Ny0uMDc4LjU5NS0uMDc4Ljg5MnYuMzU3aDIuNjU1VjE1LjIyYzAtMi43MzUtMS4yNDgtNC4zMi00LjMtNC4zMi0yLjYzNiAwLTQuMzYgMS40NjYtNC41MiAzLjQ4N2gyLjkxNGMuMS0uODkxLjczNC0xLjQyNiAxLjcwNS0xLjQyNi45MTEgMCAxLjQwNy41MTUgMS40MDcgMS4xMSAwIC40MzUtLjI1OC42OTMtMS4wMy43OTJsLTEuMzg4LjE1OWMtMi4wNjEuMjU3LTMuODI1IDEuMDEtMy44MjUgMy4xOSAwIDEuOTgyIDEuNjQ1IDMuMDkyIDMuMzUgMy4wOTJabS44OTEtMi4wNDFjLS43NzMgMC0xLjM0OC0uNDM2LTEuMzQ4LTEuMTkgMC0uNzMzLjY1NS0xLjA5IDEuNjQ1LTEuMjY4bC42NzQtLjExOWMuNTc1LS4xMTguODkyLS4yMTggMS4wOS0uMzk2di45MTJjMCAxLjIyOC0uODkyIDIuMDYtMi4wNiAyLjA2Wk03MC4zOTggNy4wNzR2MTMuODc0aDIuODc0VjcuMDc0aC0yLjg3NFpNNzQuOTM0IDcuMDc0djEzLjg3NGgyLjg3NFY3LjA3NGgtMi44NzRaTTg0LjA4IDIxLjMwNGMyLjczNSAwIDQuNS0xLjU0NiA0LjY5Ny0zLjU2N2gtMi44OTNjLS4xMzkuODkyLS44OTIgMS4zODctMS44MDQgMS4zODctMS4yMjggMC0yLjEyLS45OS0yLjE0LTIuMzU4aDYuODk3di0uNTU1YzAtMy4yMS0xLjc2NC01LjMxMi00LjgxNi01LjMxMi0yLjkzMyAwLTQuOTk0IDIuMDYyLTQuOTk0IDUuMTczIDAgMy4zNyAyLjEyIDUuMjMyIDUuMDUzIDUuMjMyWm0tMi4xNi02LjQyMWMuMTE5LTEuMTEuOTMyLTEuOTIyIDIuMDgxLTEuOTIyIDEuMTEgMCAxLjg4My43NzIgMS45MDMgMS45MjJIODEuOTJaTTk0LjkyIDIxLjE0NmMuNjMzIDAgMS4yNDgtLjEgMS41MjUtLjE3OXYtMi4xOGMtLjIxOC4wNC0uNDc1LjA2LS42OTMuMDYtMS4wNSAwLTEuNDI3LS41OTUtMS40MjctMS41NjZ2LTMuODA1aDIuMzM4di0yLjI0aC0yLjMzOFY3Ljc4OEg5MS40N3YzLjQ0OEg4OS4zN3YyLjI0aDIuMXY0LjIwMWMwIDIuMyAxLjE1IDMuNDY5IDMuNDUgMy40NjlaTTEwNC42MiAyMS4zMDRjMy45MjQgMCA2LjMwMi0yLjI5OSA2LjU5OS01LjYwOGgtMy4xMTFjLS4yMzggMS44MDMtMS41MDYgMy4wMzItMy4zNjkgMy4wMzItMi4yIDAtMy43NDYtMS43ODQtMy43NDYtNC43OTYgMC0yLjk1MyAxLjYwNS00LjYzOCAzLjgwNS00LjYzOCAxLjg4MyAwIDIuOTUzIDEuMTUgMy4xNzEgMi44MzRoMy4xOTFjLS4zMTctMy40NDgtMi44NTQtNS40MS02LjM0Mi01LjQxLTMuOTg0IDAtNy4wMzYgMi42OTUtNy4wMzYgNy4yMTQgMCA0LjY3NyAyLjY3NiA3LjM3MiA2LjgzOCA3LjM3MlpNMTE3LjQ0OSAyMS4zMDRjMi45OTMgMCA1LjExNC0xLjg4MiA1LjExNC01LjE3MiAwLTMuMjMtMi4xMjEtNS4yMzMtNS4xMTQtNS4yMzMtMi45NzIgMC01LjA5MyAyLjAwMi01LjA5MyA1LjIzMyAwIDMuMjkgMi4xMDEgNS4xNzIgNS4wOTMgNS4xNzJabTAtMi4yMmMtMS4zMjcgMC0yLjE4LTEuMDktMi4xOC0yLjk1MiAwLTEuOTAzLjg5Mi0yLjk3MyAyLjE4LTIuOTczIDEuMzA4IDAgMi4yIDEuMDcgMi4yIDIuOTczIDAgMS44NjItLjg3MiAyLjk1My0yLjIgMi45NTNaTTEyNi41NjkgMjAuOTQ4di01LjY4OWMwLTEuMjA4Ljc1My0yLjEgMS44MjMtMi4xIDEuMDExIDAgMS42MDYuNzczIDEuNjA2IDIuMDZ2NS43MjloMi44NzN2LTYuMTQ0YzAtMi4zMzktMS4yMjktMy45MDUtMy40MjgtMy45MDUtMS41MjYgMC0yLjQ1OC43MzQtMi45NTMgMS42MDZhNS4zMSA1LjMxIDAgMCAwIC4wNzktLjg5MnYtLjM3N2gtMi44NzR2OS43MTJoMi44NzRaTTEzNy40NjQgMjAuOTQ4di01LjY4OWMwLTEuMjA4Ljc1My0yLjEgMS44MjMtMi4xIDEuMDExIDAgMS42MDYuNzczIDEuNjA2IDIuMDZ2NS43MjloMi44NzN2LTYuMTQ0YzAtMi4zMzktMS4yMjgtMy45MDUtMy40MjgtMy45MDUtMS41MjYgMC0yLjQ1OC43MzQtMi45NTMgMS42MDZhNS4zMSA1LjMxIDAgMCAwIC4wNzktLjg5MnYtLjM3N2gtMi44NzR2OS43MTJoMi44NzRaTTE0OS45NDkgMjEuMzA0YzIuNzM1IDAgNC40OTktMS41NDYgNC42OTctMy41NjdoLTIuODkzYy0uMTM5Ljg5Mi0uODkyIDEuMzg3LTEuODA0IDEuMzg3LTEuMjI4IDAtMi4xMi0uOTktMi4xNC0yLjM1OGg2Ljg5N3YtLjU1NWMwLTMuMjEtMS43NjQtNS4zMTItNC44MTYtNS4zMTItMi45MzMgMC00Ljk5NCAyLjA2Mi00Ljk5NCA1LjE3MyAwIDMuMzcgMi4xMiA1LjIzMiA1LjA1MyA1LjIzMlptLTIuMTYtNi40MjFjLjExOS0xLjExLjkzMi0xLjkyMiAyLjA4MS0xLjkyMiAxLjExIDAgMS44ODMuNzcyIDEuOTAzIDEuOTIyaC0zLjk4NFpNMTYwLjg3NiAyMS4zMDRjMy4wMTMgMCA0LjY1OC0xLjY0NSA0Ljk3NS00LjIwMWgtMi44NzRjLS4wOTkgMS4wNy0uNzEzIDEuOTgyLTIuMDAxIDEuOTgyLTEuMzA5IDAtMi4yLTEuMjEtMi4yLTIuOTkzIDAtMS45NDIgMS4wMy0yLjkzMyAyLjI1OS0yLjkzMyAxLjIwOSAwIDEuODAzLjg3MiAxLjg4MyAxLjg4MmgyLjg3M2MtLjIxOC0yLjM1OC0xLjgyMy00LjE0Mi00Ljc3Ni00LjE0Mi0yLjg3NCAwLTUuMTUzIDEuOTAzLTUuMTUzIDUuMTkzIDAgMy4yNSAxLjkyMyA1LjIxMiA1LjAxNCA1LjIxMlpNMTcyLjA2NyAyMS4xNDZjLjYzNCAwIDEuMjQ4LS4xIDEuNTI2LS4xNzl2LTIuMThjLS4yMTguMDQtLjQ3Ni4wNi0uNjk0LjA2LTEuMDUgMC0xLjQyNy0uNTk1LTEuNDI3LTEuNTY2di0zLjgwNWgyLjMzOXYtMi4yNGgtMi4zMzlWNy43ODhoLTIuODU0djMuNDQ4aC0yLjF2Mi4yNGgyLjF2NC4yMDFjMCAyLjMgMS4xNSAzLjQ2OSAzLjQ0OSAzLjQ2OVpcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz5gLFxuICBXQUxMRVRfQ09OTkVDVF9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjI4XCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI4IDIwXCI+PGcgY2xpcC1wYXRoPVwidXJsKCNhKVwiPjxwYXRoIGQ9XCJNNy4zODYgNi40ODJjMy42NTMtMy41NzYgOS41NzUtMy41NzYgMTMuMjI4IDBsLjQ0LjQzYS40NTEuNDUxIDAgMCAxIDAgLjY0OEwxOS41NSA5LjAzM2EuMjM3LjIzNyAwIDAgMS0uMzMgMGwtLjYwNi0uNTkyYy0yLjU0OC0yLjQ5Ni02LjY4LTIuNDk2LTkuMjI4IDBsLS42NDguNjM0YS4yMzcuMjM3IDAgMCAxLS4zMyAwTDYuOTAyIDcuNjAyYS40NTEuNDUxIDAgMCAxIDAtLjY0N2wuNDgzLS40NzNabTE2LjMzOCAzLjA0NiAxLjMzOSAxLjMxYS40NTEuNDUxIDAgMCAxIDAgLjY0OGwtNi4wMzUgNS45MDlhLjQ3NS40NzUgMCAwIDEtLjY2MiAwTDE0LjA4MyAxMy4yYS4xMTkuMTE5IDAgMCAwLS4xNjYgMGwtNC4yODMgNC4xOTRhLjQ3NS40NzUgMCAwIDEtLjY2MiAwbC02LjAzNS01LjkxYS40NTEuNDUxIDAgMCAxIDAtLjY0N2wxLjMzOC0xLjMxYS40NzUuNDc1IDAgMCAxIC42NjIgMGw0LjI4MyA0LjE5NGMuMDQ2LjA0NC4xMi4wNDQuMTY2IDBsNC4yODMtNC4xOTRhLjQ3NS40NzUgMCAwIDEgLjY2MiAwbDQuMjgzIDQuMTk0Yy4wNDYuMDQ0LjEyLjA0NC4xNjYgMGw0LjI4My00LjE5NGEuNDc1LjQ3NSAwIDAgMSAuNjYyIDBaXCIgZmlsbD1cIiMwMDAwMDBcIi8+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD1cImFcIj48cGF0aCBmaWxsPVwiI2ZmZmZmZlwiIGQ9XCJNMCAwaDI4djIwSDB6XCIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPmAsXG4gIFdBTExFVF9DT05ORUNUX0lDT05fQ09MT1JFRDogc3ZnYDxzdmcgd2lkdGg9XCI5NlwiIGhlaWdodD1cIjk2XCIgZmlsbD1cIm5vbmVcIj48cGF0aCBmaWxsPVwiI2ZmZlwiIGQ9XCJNMjUuMzIyIDMzLjU5N2MxMi41MjUtMTIuMjYzIDMyLjgzLTEyLjI2MyA0NS4zNTUgMGwxLjUwNyAxLjQ3NmExLjU0NyAxLjU0NyAwIDAgMSAwIDIuMjJsLTUuMTU2IDUuMDQ4YS44MTQuODE0IDAgMCAxLTEuMTM0IDBsLTIuMDc0LTIuMDNjLTguNzM3LTguNTU1LTIyLjkwMy04LjU1NS0zMS42NCAwbC0yLjIyMiAyLjE3NWEuODE0LjgxNCAwIDAgMS0xLjEzNCAwbC01LjE1Ni01LjA0OWExLjU0NyAxLjU0NyAwIDAgMSAwLTIuMjJsMS42NTQtMS42MlptNTYuMDE5IDEwLjQ0IDQuNTg5IDQuNDk0YTEuNTQ3IDEuNTQ3IDAgMCAxIDAgMi4yMmwtMjAuNjkzIDIwLjI2YTEuNjI4IDEuNjI4IDAgMCAxLTIuMjY3IDBMNDguMjgzIDU2LjYzMmEuNDA3LjQwNyAwIDAgMC0uNTY3IDBMMzMuMDMgNzEuMDEyYTEuNjI4IDEuNjI4IDAgMCAxLTIuMjY4IDBMMTAuMDcgNTAuNzVhMS41NDcgMS41NDcgMCAwIDEgMC0yLjIybDQuNTktNC40OTRhMS42MjggMS42MjggMCAwIDEgMi4yNjcgMGwxNC42ODcgMTQuMzhjLjE1Ni4xNTMuNDEuMTUzLjU2NyAwbDE0LjY4NS0xNC4zOGExLjYyOCAxLjYyOCAwIDAgMSAyLjI2OCAwbDE0LjY4NyAxNC4zOGMuMTU2LjE1My40MS4xNTMuNTY3IDBsMTQuNjg2LTE0LjM4YTEuNjI4IDEuNjI4IDAgMCAxIDIuMjY4IDBaXCIvPjxwYXRoIHN0cm9rZT1cIiMwMDBcIiBkPVwiTTI1LjY3MiAzMy45NTRjMTIuMzMtMTIuMDcyIDMyLjMyNS0xMi4wNzIgNDQuNjU1IDBsMS41MDggMS40NzZhMS4wNDcgMS4wNDcgMCAwIDEgMCAxLjUwNmwtNS4xNTcgNS4wNDhhLjMxNC4zMTQgMCAwIDEtLjQzNCAwbC0yLjA3NC0yLjAzYy04LjkzMi04Ljc0Ni0yMy40MDktOC43NDYtMzIuMzQgMGwtMi4yMjIgMi4xNzRhLjMxNC4zMTQgMCAwIDEtLjQzNCAwbC01LjE1Ny01LjA0OGExLjA0NyAxLjA0NyAwIDAgMSAwLTEuNTA2bDEuNjU1LTEuNjJabTU1LjMxOSAxMC40NCA0LjU5IDQuNDk0YTEuMDQ3IDEuMDQ3IDAgMCAxIDAgMS41MDZsLTIwLjY5NCAyMC4yNmExLjEyOCAxLjEyOCAwIDAgMS0xLjU2OCAwbC0xNC42ODYtMTQuMzhhLjkwNy45MDcgMCAwIDAtMS4yNjcgMEwzMi42OCA3MC42NTVhMS4xMjggMS4xMjggMCAwIDEtMS41NjggMEwxMC40MiA1MC4zOTRhMS4wNDcgMS4wNDcgMCAwIDEgMC0xLjUwNmw0LjU5LTQuNDkzYTEuMTI4IDEuMTI4IDAgMCAxIDEuNTY3IDBsMTQuNjg3IDE0LjM3OWEuOTA3LjkwNyAwIDAgMCAxLjI2NiAwbC0uMzUtLjM1Ny4zNS4zNTcgMTQuNjg2LTE0LjM4YTEuMTI4IDEuMTI4IDAgMCAxIDEuNTY4IDBsMTQuNjg3IDE0LjM4YS45MDcuOTA3IDAgMCAwIDEuMjY3IDBsMTQuNjg2LTE0LjM4YTEuMTI4IDEuMTI4IDAgMCAxIDEuNTY4IDBaXCIvPjwvc3ZnPmAsXG4gIEJBQ0tfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAxMCAxOFwiPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk04LjczNS4xNzlhLjc1Ljc1IDAgMCAxIC4wODcgMS4wNTdMMi45MiA4LjE5MmExLjI1IDEuMjUgMCAwIDAgMCAxLjYxN2w1LjkwMiA2Ljk1NmEuNzUuNzUgMCAxIDEtMS4xNDQuOTdMMS43NzYgMTAuNzhhMi43NSAyLjc1IDAgMCAxIDAtMy41NTlMNy42NzguMjY1QS43NS43NSAwIDAgMSA4LjczNS4xOFpcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz5gLFxuICBDT1BZX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCI+PHBhdGggZmlsbD1cIiNmZmZcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgZD1cIk03LjAxIDcuMDFjLjAzLTEuNTQ1LjEzOC0yLjUuNTM1LTMuMjhBNSA1IDAgMCAxIDkuNzMgMS41NDVDMTAuOCAxIDEyLjIgMSAxNSAxYzIuOCAwIDQuMiAwIDUuMjcuNTQ1YTUgNSAwIDAgMSAyLjE4NSAyLjE4NUMyMyA0LjggMjMgNi4yIDIzIDljMCAyLjggMCA0LjItLjU0NSA1LjI3YTUgNSAwIDAgMS0yLjE4NSAyLjE4NWMtLjc4LjM5Ny0xLjczNS41MDUtMy4yOC41MzRsLS4wMDEuMDFjLS4wMyAxLjU0LS4xMzggMi40OTMtLjUzNCAzLjI3YTUgNSAwIDAgMS0yLjE4NSAyLjE4NkMxMy4yIDIzIDExLjggMjMgOSAyM2MtMi44IDAtNC4yIDAtNS4yNy0uNTQ1YTUgNSAwIDAgMS0yLjE4NS0yLjE4NUMxIDE5LjIgMSAxNy44IDEgMTVjMC0yLjggMC00LjIuNTQ1LTUuMjdBNSA1IDAgMCAxIDMuNzMgNy41NDVDNC41MDggNy4xNDkgNS40NiA3LjA0IDcgNy4wMWguMDFaTTE1IDE1LjVjLTEuNDI1IDAtMi40MDMtLjAwMS0zLjE2Mi0uMDYzLS43NC0uMDYtMS4xMzktLjE3Mi0xLjQyNy0uMzE5YTMuNSAzLjUgMCAwIDEtMS41My0xLjUyOWMtLjE0Ni0uMjg4LS4yNTctLjY4Ni0uMzE4LTEuNDI3QzguNTAxIDExLjQwMyA4LjUgMTAuNDI1IDguNSA5YzAtMS40MjUuMDAxLTIuNDAzLjA2My0zLjE2Mi4wNi0uNzQuMTcyLTEuMTM5LjMxOC0xLjQyN2EzLjUgMy41IDAgMCAxIDEuNTMtMS41M2MuMjg4LS4xNDYuNjg2LS4yNTcgMS40MjctLjMxOC43NTktLjA2MiAxLjczNy0uMDYzIDMuMTYyLS4wNjMgMS40MjUgMCAyLjQwMy4wMDEgMy4xNjIuMDYzLjc0LjA2IDEuMTM5LjE3MiAxLjQyNy4zMThhMy41IDMuNSAwIDAgMSAxLjUzIDEuNTNjLjE0Ni4yODguMjU3LjY4Ni4zMTggMS40MjcuMDYyLjc1OS4wNjMgMS43MzcuMDYzIDMuMTYyIDAgMS40MjUtLjAwMSAyLjQwMy0uMDYzIDMuMTYyLS4wNi43NC0uMTcyIDEuMTM5LS4zMTkgMS40MjdhMy41IDMuNSAwIDAgMS0xLjUyOSAxLjUzYy0uMjg4LjE0Ni0uNjg2LjI1Ny0xLjQyNy4zMTgtLjc1OS4wNjItMS43MzcuMDYzLTMuMTYyLjA2M1pNNyA4LjUxMWMtLjQ0NC4wMDktLjgyNS4wMjUtMS4xNjIuMDUyLS43NC4wNi0xLjEzOS4xNzItMS40MjcuMzE4YTMuNSAzLjUgMCAwIDAtMS41MyAxLjUzYy0uMTQ2LjI4OC0uMjU3LjY4Ni0uMzE4IDEuNDI3LS4wNjIuNzU5LS4wNjMgMS43MzctLjA2MyAzLjE2MiAwIDEuNDI1LjAwMSAyLjQwMy4wNjMgMy4xNjIuMDYuNzQuMTcyIDEuMTM5LjMxOCAxLjQyN2EzLjUgMy41IDAgMCAwIDEuNTMgMS41M2MuMjg4LjE0Ni42ODYuMjU3IDEuNDI3LjMxOC43NTkuMDYyIDEuNzM3LjA2MyAzLjE2Mi4wNjMgMS40MjUgMCAyLjQwMy0uMDAxIDMuMTYyLS4wNjMuNzQtLjA2IDEuMTM5LS4xNzIgMS40MjctLjMxOWEzLjUgMy41IDAgMCAwIDEuNTMtMS41M2MuMTQ2LS4yODcuMjU3LS42ODUuMzE4LTEuNDI2LjAyNy0uMzM3LjA0My0uNzE4LjA1Mi0xLjE2MkgxNWMtMi44IDAtNC4yIDAtNS4yNy0uNTQ1YTUgNSAwIDAgMS0yLjE4NS0yLjE4NUM3IDEzLjIgNyAxMS44IDcgOXYtLjQ4OVpcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPmAsXG4gIFJFVFJZX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMTVcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMTUgMTZcIj48cGF0aCBkPVwiTTYuNDY0IDIuMDNBLjc1Ljc1IDAgMCAwIDUuNDAzLjk3TDIuMDggNC4yOTNhMSAxIDAgMCAwIDAgMS40MTRMNS40MDMgOS4wM2EuNzUuNzUgMCAwIDAgMS4wNi0xLjA2TDQuNjcyIDYuMTc3YS4yNS4yNSAwIDAgMSAuMTc3LS40MjdoMi4wODVhNCA0IDAgMSAxLTMuOTMgNC43NDZjLS4wNzctLjQwNy0uNDA1LS43NDYtLjgyLS43NDYtLjQxNCAwLS43NTUuMzM4LS43Ljc0OGE1LjUwMSA1LjUwMSAwIDEgMCA1LjQ1LTYuMjQ4SDQuODQ4YS4yNS4yNSAwIDAgMS0uMTc3LS40MjdMNi40NjQgMi4wM1pcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz5gLFxuICBERVNLVE9QX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj48cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMCA1Ljk4YzAtMS44NSAwLTIuNzc1LjM5NC0zLjQ2NmEzIDMgMCAwIDEgMS4xMi0xLjEyQzIuMjA0IDEgMy4xMyAxIDQuOTggMWg2LjA0YzEuODUgMCAyLjc3NSAwIDMuNDY2LjM5NGEzIDMgMCAwIDEgMS4xMiAxLjEyQzE2IDMuMjA0IDE2IDQuMTMgMTYgNS45OHYxLjA0YzAgMS44NSAwIDIuNzc1LS4zOTQgMy40NjZhMyAzIDAgMCAxLTEuMTIgMS4xMkMxMy43OTYgMTIgMTIuODcgMTIgMTEuMDIgMTJINC45OGMtMS44NSAwLTIuNzc1IDAtMy40NjYtLjM5NGEzIDMgMCAwIDEtMS4xMi0xLjEyQzAgOS43OTYgMCA4Ljg3IDAgNy4wMlY1Ljk4Wk00Ljk4IDIuNWg2LjA0Yy45NTMgMCAxLjU2OC4wMDEgMi4wMzQuMDQzLjQ0Ni4wNC42MDguMTA4LjY5LjE1NGExLjUgMS41IDAgMCAxIC41NTkuNTZjLjA0Ni4wOC4xMTQuMjQzLjE1NC42OS4wNDIuNDY1LjA0MyAxLjA4LjA0MyAyLjAzM3YxLjA0YzAgLjk1Mi0uMDAxIDEuNTY4LS4wNDMgMi4wMzQtLjA0LjQ0Ni0uMTA4LjYwOC0uMTU0LjY5YTEuNDk5IDEuNDk5IDAgMCAxLS41Ni41NTljLS4wOC4wNDYtLjI0My4xMTQtLjY5LjE1NC0uNDY2LjA0Mi0xLjA4LjA0My0yLjAzMy4wNDNINC45OGMtLjk1MiAwLTEuNTY4LS4wMDEtMi4wMzQtLjA0My0uNDQ2LS4wNC0uNjA4LS4xMDgtLjY5LS4xNTRhMS41IDEuNSAwIDAgMS0uNTU5LS41NmMtLjA0Ni0uMDgtLjExNC0uMjQzLS4xNTQtLjY5LS4wNDItLjQ2NS0uMDQzLTEuMDgtLjA0My0yLjAzM1Y1Ljk4YzAtLjk1Mi4wMDEtMS41NjguMDQzLTIuMDM0LjA0LS40NDYuMTA4LS42MDguMTU0LS42OWExLjUgMS41IDAgMCAxIC41Ni0uNTU5Yy4wOC0uMDQ2LjI0My0uMTE0LjY5LS4xNTQuNDY1LS4wNDIgMS4wOC0uMDQzIDIuMDMzLS4wNDNaXCIgZmlsbD1cIiNmZmZcIi8+PHBhdGggZD1cIk00IDE0LjI1YS43NS43NSAwIDAgMSAuNzUtLjc1aDYuNWEuNzUuNzUgMCAwIDEgMCAxLjVoLTYuNWEuNzUuNzUgMCAwIDEtLjc1LS43NVpcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz5gLFxuICBNT0JJTEVfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPjxwYXRoIGQ9XCJNNi43NSA1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjVaXCIgZmlsbD1cIiNmZmZcIi8+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTMgNC45OGMwLTEuODUgMC0yLjc3NS4zOTQtMy40NjZhMyAzIDAgMCAxIDEuMTItMS4xMkM1LjIwNCAwIDYuMTM2IDAgOCAwczIuNzk1IDAgMy40ODYuMzk0YTMgMyAwIDAgMSAxLjEyIDEuMTJDMTMgMi4yMDQgMTMgMy4xMyAxMyA0Ljk4djYuMDRjMCAxLjg1IDAgMi43NzUtLjM5NCAzLjQ2NmEzIDMgMCAwIDEtMS4xMiAxLjEyQzEwLjc5NiAxNiA5Ljg2NCAxNiA4IDE2cy0yLjc5NSAwLTMuNDg2LS4zOTRhMyAzIDAgMCAxLTEuMTItMS4xMkMzIDEzLjc5NiAzIDEyLjg3IDMgMTEuMDJWNC45OFptOC41IDB2Ni4wNGMwIC45NTMtLjAwMSAxLjU2OC0uMDQzIDIuMDM0LS4wNC40NDYtLjEwOC42MDgtLjE1NC42OWExLjQ5OSAxLjQ5OSAwIDAgMS0uNTYuNTU5Yy0uMDguMDQ1LS4yNDIuMTEzLS42OTMuMTU0LS40Ny4wNDItMS4wOTEuMDQzLTIuMDUuMDQzLS45NTkgMC0xLjU4LS4wMDEtMi4wNS0uMDQzLS40NS0uMDQtLjYxMy0uMTA5LS42OTMtLjE1NGExLjUgMS41IDAgMCAxLS41Ni0uNTZjLS4wNDYtLjA4LS4xMTQtLjI0My0uMTU0LS42OS0uMDQyLS40NjYtLjA0My0xLjA4LS4wNDMtMi4wMzNWNC45OGMwLS45NTIuMDAxLTEuNTY4LjA0My0yLjAzNC4wNC0uNDQ2LjEwOC0uNjA4LjE1NC0uNjlhMS41IDEuNSAwIDAgMSAuNTYtLjU1OWMuMDgtLjA0NS4yNDMtLjExMy42OTMtLjE1NEM2LjQyIDEuNTAxIDcuMDQxIDEuNSA4IDEuNWMuOTU5IDAgMS41OC4wMDEgMi4wNS4wNDMuNDUuMDQuNjEzLjEwOS42OTMuMTU0YTEuNSAxLjUgMCAwIDEgLjU2LjU2Yy4wNDYuMDguMTE0LjI0My4xNTQuNjkuMDQyLjQ2NS4wNDMgMS4wOC4wNDMgMi4wMzNaXCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcbiAgQVJST1dfRE9XTl9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjE0XCIgaGVpZ2h0PVwiMTRcIiB2aWV3Qm94PVwiMCAwIDE0IDE0XCI+PHBhdGggZD1cIk0yLjI4IDcuNDdhLjc1Ljc1IDAgMCAwLTEuMDYgMS4wNmw1LjI1IDUuMjVhLjc1Ljc1IDAgMCAwIDEuMDYgMGw1LjI1LTUuMjVhLjc1Ljc1IDAgMCAwLTEuMDYtMS4wNmwtMy41NDQgMy41NDNhLjI1LjI1IDAgMCAxLS40MjYtLjE3N1YuNzVhLjc1Ljc1IDAgMCAwLTEuNSAwdjEwLjA4NmEuMjUuMjUgMCAwIDEtLjQyNy4xNzZMMi4yOCA3LjQ3WlwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG4gIEFSUk9XX1VQX1JJR0hUX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMTVcIiBoZWlnaHQ9XCIxNFwiIGZpbGw9XCJub25lXCI+PHBhdGggZD1cIk00LjUgMS43NUEuNzUuNzUgMCAwIDEgNS4yNSAxSDEyYTEuNSAxLjUgMCAwIDEgMS41IDEuNXY2Ljc1YS43NS43NSAwIDAgMS0xLjUgMFY0LjE2NGEuMjUuMjUgMCAwIDAtLjQyNy0uMTc2TDQuMDYxIDExLjVBLjc1Ljc1IDAgMCAxIDMgMTAuNDRsNy41MTMtNy41MTNhLjI1LjI1IDAgMCAwLS4xNzctLjQyN0g1LjI1YS43NS43NSAwIDAgMS0uNzUtLjc1WlwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG4gIEFSUk9XX1JJR0hUX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiNlwiIGhlaWdodD1cIjE0XCIgdmlld0JveD1cIjAgMCA2IDE0XCI+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTIuMTgxIDEuMDk5YS43NS43NSAwIDAgMSAxLjAyNC4yNzlsMi40MzMgNC4yNThhMi43NSAyLjc1IDAgMCAxIDAgMi43MjlsLTIuNDMzIDQuMjU3YS43NS43NSAwIDEgMS0xLjMwMy0uNzQ0TDQuMzM1IDcuNjJhMS4yNSAxLjI1IDAgMCAwIDAtMS4yNEwxLjkwMiAyLjEyMmEuNzUuNzUgMCAwIDEgLjI4LTEuMDIzWlwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG4gIFFSQ09ERV9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjI1XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI1IDI0XCI+PHBhdGggZD1cIk0yMy43NDggOWEuNzQ4Ljc0OCAwIDAgMCAuNzQ4LS43NTJjLS4wMTgtMi41OTYtLjEyOC00LjA3LS43ODQtNS4yMmE2IDYgMCAwIDAtMi4yNC0yLjI0Yy0xLjE1LS42NTYtMi42MjQtLjc2Ni01LjIyLS43ODRhLjc0OC43NDggMCAwIDAtLjc1Mi43NDhjMCAuNDE0LjMzNS43NDkuNzQ4Ljc1MiAxLjAxNS4wMDcgMS44Mi4wMjggMi40OTQuMDg4Ljk5NS4wOSAxLjU2MS4yNTYgMS45ODguNS43LjM5OCAxLjI4Ljk3OCAxLjY3OSAxLjY3OC4yNDMuNDI3LjQxLjk5My40OTggMS45ODguMDYxLjY3NS4wODIgMS40NzkuMDkgMi40OTNhLjc1My43NTMgMCAwIDAgLjc1Ljc0OVpNMy41MjcuNzg4QzQuNjc3LjEzMiA2LjE1Mi4wMjIgOC43NDcuMDA0QS43NDguNzQ4IDAgMCAxIDkuNS43NTJhLjc1My43NTMgMCAwIDEtLjc0OS43NTJjLTEuMDE0LjAwNy0xLjgxOC4wMjgtMi40OTMuMDg4LS45OTUuMDktMS41NjEuMjU2LTEuOTg4LjUtLjcuMzk4LTEuMjguOTc4LTEuNjc5IDEuNjc4LS4yNDMuNDI3LS40MS45OTMtLjQ5OSAxLjk4OC0uMDYuNjc1LS4wODEgMS40NzktLjA4OCAyLjQ5M0EuNzUzLjc1MyAwIDAgMSAxLjI1MiA5YS43NDguNzQ4IDAgMCAxLS43NDgtLjc1MmMuMDE4LTIuNTk2LjEyOC00LjA3Ljc4NC01LjIyYTYgNiAwIDAgMSAyLjI0LTIuMjRaTTEuMjUyIDE1YS43NDguNzQ4IDAgMCAwLS43NDguNzUyYy4wMTggMi41OTYuMTI4IDQuMDcuNzg0IDUuMjJhNiA2IDAgMCAwIDIuMjQgMi4yNGMxLjE1LjY1NiAyLjYyNC43NjYgNS4yMi43ODRhLjc0OC43NDggMCAwIDAgLjc1Mi0uNzQ4Ljc1My43NTMgMCAwIDAtLjc0OS0uNzUyYy0xLjAxNC0uMDA3LTEuODE4LS4wMjgtMi40OTMtLjA4OS0uOTk1LS4wODktMS41NjEtLjI1NS0xLjk4OC0uNDk4YTQuNSA0LjUgMCAwIDEtMS42NzktMS42OGMtLjI0My0uNDI2LS40MS0uOTkyLS40OTktMS45ODctLjA2LS42NzUtLjA4MS0xLjQ3OS0uMDg4LTIuNDkzQS43NTMuNzUzIDAgMCAwIDEuMjUyIDE1Wk0yMi45OTYgMTUuNzQ5YS43NTMuNzUzIDAgMCAxIC43NTItLjc0OWMuNDE1IDAgLjc1MS4zMzguNzQ4Ljc1Mi0uMDE4IDIuNTk2LS4xMjggNC4wNy0uNzg0IDUuMjJhNiA2IDAgMCAxLTIuMjQgMi4yNGMtMS4xNS42NTYtMi42MjQuNzY2LTUuMjIuNzg0YS43NDguNzQ4IDAgMCAxLS43NTItLjc0OGMwLS40MTQuMzM1LS43NDkuNzQ4LS43NTIgMS4wMTUtLjAwNyAxLjgyLS4wMjggMi40OTQtLjA4OS45OTUtLjA4OSAxLjU2MS0uMjU1IDEuOTg4LS40OThhNC41IDQuNSAwIDAgMCAxLjY3OS0xLjY4Yy4yNDMtLjQyNi40MS0uOTkyLjQ5OC0xLjk4Ny4wNjEtLjY3NS4wODItMS40NzkuMDktMi40OTNaXCIgZmlsbD1cIiNmZmZcIi8+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTcgNGEyLjUgMi41IDAgMCAwLTIuNSAyLjV2MkEyLjUgMi41IDAgMCAwIDcgMTFoMmEyLjUgMi41IDAgMCAwIDIuNS0yLjV2LTJBMi41IDIuNSAwIDAgMCA5IDRIN1ptMiAxLjVIN2ExIDEgMCAwIDAtMSAxdjJhMSAxIDAgMCAwIDEgMWgyYTEgMSAwIDAgMCAxLTF2LTJhMSAxIDAgMCAwLTEtMVpNMTMuNSA2LjVBMi41IDIuNSAwIDAgMSAxNiA0aDJhMi41IDIuNSAwIDAgMSAyLjUgMi41djJBMi41IDIuNSAwIDAgMSAxOCAxMWgtMmEyLjUgMi41IDAgMCAxLTIuNS0yLjV2LTJabTIuNS0xaDJhMSAxIDAgMCAxIDEgMXYyYTEgMSAwIDAgMS0xIDFoLTJhMSAxIDAgMCAxLTEtMXYtMmExIDEgMCAwIDEgMS0xWk03IDEzYTIuNSAyLjUgMCAwIDAtMi41IDIuNXYyQTIuNSAyLjUgMCAwIDAgNyAyMGgyYTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtMkEyLjUgMi41IDAgMCAwIDkgMTNIN1ptMiAxLjVIN2ExIDEgMCAwIDAtMSAxdjJhMSAxIDAgMCAwIDEgMWgyYTEgMSAwIDAgMCAxLTF2LTJhMSAxIDAgMCAwLTEtMVpcIiBmaWxsPVwiI2ZmZlwiLz48cGF0aCBkPVwiTTEzLjUgMTUuNWMwLS40NjUgMC0uNjk3LjAzOC0uODlhMiAyIDAgMCAxIDEuNTcyLTEuNTcyQzE1LjMwMyAxMyAxNS41MzUgMTMgMTYgMTN2Mi41aC0yLjVaTTE4IDEzYy40NjUgMCAuNjk3IDAgLjg5LjAzOGEyIDIgMCAwIDEgMS41NzIgMS41NzJjLjAzOC4xOTMuMDM4LjQyNS4wMzguODlIMThWMTNaTTE4IDE3LjVoMi41YzAgLjQ2NSAwIC42OTctLjAzOC44OWEyIDIgMCAwIDEtMS41NzIgMS41NzJDMTguNjk3IDIwIDE4LjQ2NSAyMCAxOCAyMHYtMi41Wk0xMy41IDE3LjVIMTZWMjBjLS40NjUgMC0uNjk3IDAtLjg5LS4wMzhhMiAyIDAgMCAxLTEuNTcyLTEuNTcyYy0uMDM4LS4xOTMtLjAzOC0uNDI1LS4wMzgtLjg5WlwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG4gIFNDQU5fSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgZmlsbD1cIm5vbmVcIj48cGF0aCBmaWxsPVwiI2ZmZlwiIGQ9XCJNMTAgMTUuMjE2YzAgLjQyMi4zNDcuNzYzLjc2OC43NCAxLjIwMi0uMDY0IDIuMDI1LS4yMjIgMi43MS0uNjEzYTUuMDAxIDUuMDAxIDAgMCAwIDEuODY1LTEuODY2Yy4zOS0uNjg0LjU0OS0xLjUwNy42MTMtMi43MDlhLjczNS43MzUgMCAwIDAtLjc0LS43NjguNzY4Ljc2OCAwIDAgMC0uNzYuNzMyYy0uMDA5LjE1Ny0uMDIuMzA2LS4wMzIuNDQ3LS4wNzMuODEyLS4yMDYgMS4yNDQtLjM4NCAxLjU1NS0uMzEuNTQ1LS43NjEuOTk2LTEuMzA2IDEuMzA2LS4zMTEuMTc4LS43NDMuMzExLTEuNTU1LjM4NC0uMTQxLjAxMy0uMjkuMDIzLS40NDcuMDMyYS43NjguNzY4IDAgMCAwLS43MzIuNzZaTTEwIC43ODRjMCAuNDA3LjMyNS43MzcuNzMyLjc2LjE1Ny4wMDkuMzA2LjAyLjQ0Ny4wMzIuODEyLjA3MyAxLjI0NC4yMDYgMS41NTUuMzg0YTMuNSAzLjUgMCAwIDEgMS4zMDYgMS4zMDZjLjE3OC4zMTEuMzExLjc0My4zODQgMS41NTUuMDEzLjE0Mi4wMjMuMjkuMDMyLjQ0N2EuNzY4Ljc2OCAwIDAgMCAuNzYuNzMyLjczNC43MzQgMCAwIDAgLjc0LS43NjhjLS4wNjQtMS4yMDItLjIyMi0yLjAyNS0uNjEzLTIuNzFBNSA1IDAgMCAwIDEzLjQ3Ny42NThjLS42ODQtLjM5LTEuNTA3LS41NDktMi43MDktLjYxM2EuNzM1LjczNSAwIDAgMC0uNzY4Ljc0Wk01LjIzMi4wNDRBLjczNS43MzUgMCAwIDEgNiAuNzg0YS43NjguNzY4IDAgMCAxLS43MzIuNzZjLS4xNTcuMDA5LS4zMDUuMDItLjQ0Ny4wMzItLjgxMi4wNzMtMS4yNDQuMjA2LTEuNTU1LjM4NEEzLjUgMy41IDAgMCAwIDEuOTYgMy4yNjZjLS4xNzguMzExLS4zMTEuNzQzLS4zODQgMS41NTUtLjAxMy4xNDItLjAyMy4yOS0uMDMyLjQ0N0EuNzY4Ljc2OCAwIDAgMSAuNzg0IDZhLjczNS43MzUgMCAwIDEtLjc0LS43NjhjLjA2NC0xLjIwMi4yMjItMi4wMjUuNjEzLTIuNzFBNSA1IDAgMCAxIDIuNTIzLjY1OEMzLjIwNy4yNjcgNC4wMy4xMDggNS4yMzMuMDQ0Wk01LjI2OCAxNC40NTZhLjc2OC43NjggMCAwIDEgLjczMi43Ni43MzQuNzM0IDAgMCAxLS43NjguNzRjLTEuMjAyLS4wNjQtMi4wMjUtLjIyMi0yLjcxLS42MTNhNSA1IDAgMCAxLTEuODY1LTEuODY2Yy0uMzktLjY4NC0uNTQ5LTEuNTA3LS42MTMtMi43MDlBLjczNS43MzUgMCAwIDEgLjc4NCAxMGMuNDA3IDAgLjczNy4zMjUuNzYuNzMyLjAwOS4xNTcuMDIuMzA2LjAzMi40NDcuMDczLjgxMi4yMDYgMS4yNDQuMzg0IDEuNTU1YTMuNSAzLjUgMCAwIDAgMS4zMDYgMS4zMDZjLjMxMS4xNzguNzQzLjMxMSAxLjU1NS4zODQuMTQyLjAxMy4yOS4wMjMuNDQ3LjAzMlpcIi8+PC9zdmc+YCxcbiAgQ0hFQ0tNQVJLX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMTNcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMTMgMTJcIj48cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTIuMTU1LjEzMmEuNzUuNzUgMCAwIDEgLjIzMiAxLjAzNUw1LjgyMSAxMS41MzVhMSAxIDAgMCAxLTEuNjI2LjA5TC42NjUgNy4yMWEuNzUuNzUgMCAxIDEgMS4xNy0uOTM3TDQuNzEgOS44NjdhLjI1LjI1IDAgMCAwIC40MDYtLjAyM0wxMS4xMi4zNjRhLjc1Ljc1IDAgMCAxIDEuMDM1LS4yMzJaXCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcbiAgU0VBUkNIX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMVwiPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xMi40MzIgMTMuOTkyYy0uMzU0LS4zNTMtLjkxLS4zODItMS4zNS0uMTQ2YTUuNSA1LjUgMCAxIDEgMi4yNjUtMi4yNjVjLS4yMzcuNDQxLS4yMDguOTk3LjE0NSAxLjM1bDMuMjk2IDMuMjk2YS43NS43NSAwIDEgMS0xLjA2IDEuMDYxbC0zLjI5Ni0zLjI5NlptLjA2LTVhNCA0IDAgMSAxLTggMCA0IDQgMCAwIDEgOCAwWlwiIGZpbGw9XCIjOTQ5RTlFXCIvPjwvc3ZnPmAsXG4gIFdBTExFVF9QTEFDRUhPTERFUjogc3ZnYDxzdmcgd2lkdGg9XCI2MFwiIGhlaWdodD1cIjYwXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDYwIDYwXCI+PGcgY2xpcC1wYXRoPVwidXJsKCNxKVwiPjxwYXRoIGlkPVwid2FsbGV0LXBsYWNlaG9sZGVyLWZpbGxcIiBmaWxsPVwiI2ZmZlwiIGQ9XCJNMCAyNC45YzAtOS4yNTEgMC0xMy44NzcgMS45Ny0xNy4zMzJhMTUgMTUgMCAwIDEgNS41OTgtNS41OTdDMTEuMDIzIDAgMTUuNjQ4IDAgMjQuOSAwaDEwLjJjOS4yNTIgMCAxMy44NzcgMCAxNy4zMzIgMS45N2ExNSAxNSAwIDAgMSA1LjU5NyA1LjU5OEM2MCAxMS4wMjMgNjAgMTUuNjQ4IDYwIDI0Ljl2MTAuMmMwIDkuMjUyIDAgMTMuODc3LTEuOTcgMTcuMzMyYTE1LjAwMSAxNS4wMDEgMCAwIDEtNS41OTggNS41OTdDNDguOTc3IDYwIDQ0LjM1MiA2MCAzNS4xIDYwSDI0LjljLTkuMjUxIDAtMTMuODc3IDAtMTcuMzMyLTEuOTdhMTUgMTUgMCAwIDEtNS41OTctNS41OThDMCA0OC45NzcgMCA0NC4zNTIgMCAzNS4xVjI0LjlaXCIvPjxwYXRoIGlkPVwid2FsbGV0LXBsYWNlaG9sZGVyLWRhc2hcIiBzdHJva2U9XCIjMDAwXCIgc3Ryb2tlLWRhc2hhcnJheT1cIjQgNFwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIGQ9XCJNLjA0IDQxLjcwOGEyMzEuNTk4IDIzMS41OTggMCAwIDEtLjAzOS00LjQwM2wuNzUtLjAwMUwuNzUgMzUuMXYtMi41NUgwdi01LjFoLjc1VjI0LjlsLjAwMS0yLjIwNGgtLjc1Yy4wMDMtMS42MTcuMDExLTMuMDc3LjAzOS00LjQwNGwuNzUuMDE2Yy4wMzQtMS42NS4wOTktMy4wOC4yMTgtNC4zNDNsLS43NDYtLjA3Yy4xNTgtMS42NzguNDEyLTMuMDgzLjgyLTQuMzE2bC43MTMuMjM2Yy4yMjQtLjY3OS40OTctMS4yOTYuODI3LTEuODc1YTE0LjI1IDE0LjI1IDAgMCAxIDEuMDUtMS41ODVMMy4wNzYgNS45QTE1IDE1IDAgMCAxIDUuOSAzLjA3NmwuNDU1LjU5NmExNC4yNSAxNC4yNSAwIDAgMSAxLjU4NS0xLjA1Yy41NzktLjMzIDEuMTk2LS42MDMgMS44NzUtLjgyN2wtLjIzNi0uNzEyQzEwLjgxMi42NzQgMTIuMjE3LjQyIDEzLjg5NS4yNjJsLjA3Ljc0NkMxNS4yMy44OSAxNi42Ni44MjQgMTguMzA4Ljc5bC0uMDE2LS43NUMxOS42Mi4wMTIgMjEuMDguMDA0IDIyLjY5NS4wMDFsLjAwMS43NUwyNC45Ljc1aDIuNTVWMGg1LjF2Ljc1aDIuNTVsMi4yMDQuMDAxdi0uNzVjMS42MTcuMDAzIDMuMDc3LjAxMSA0LjQwNC4wMzlsLS4wMTYuNzVjMS42NS4wMzQgMy4wOC4wOTkgNC4zNDMuMjE4bC4wNy0uNzQ2YzEuNjc4LjE1OCAzLjA4My40MTIgNC4zMTYuODJsLS4yMzYuNzEzYy42NzkuMjI0IDEuMjk2LjQ5NyAxLjg3NS44MjdhMTQuMjQgMTQuMjQgMCAwIDEgMS41ODUgMS4wNWwuNDU1LS41OTZBMTQuOTk5IDE0Ljk5OSAwIDAgMSA1Ni45MjQgNS45bC0uNTk2LjQ1NWMuMzg0LjUwMi43MzUgMS4wMzIgMS4wNSAxLjU4NS4zMy41NzkuNjAyIDEuMTk2LjgyNyAxLjg3NWwuNzEyLS4yMzZjLjQwOSAxLjIzMy42NjMgMi42MzguODIyIDQuMzE2bC0uNzQ3LjA3Yy4xMTkgMS4yNjQuMTg0IDIuNjk0LjIxOCA0LjM0M2wuNzUtLjAxNmMuMDI4IDEuMzI3LjAzNiAyLjc4Ny4wMzkgNC40MDNsLS43NS4wMDEuMDAxIDIuMjA0djIuNTVINjB2NS4xaC0uNzV2Mi41NWwtLjAwMSAyLjIwNGguNzVhMjMxLjQzMSAyMzEuNDMxIDAgMCAxLS4wMzkgNC40MDRsLS43NS0uMDE2Yy0uMDM0IDEuNjUtLjA5OSAzLjA4LS4yMTggNC4zNDNsLjc0Ny4wN2MtLjE1OSAxLjY3OC0uNDEzIDMuMDgzLS44MjIgNC4zMTZsLS43MTItLjIzNmExMC4yNTUgMTAuMjU1IDAgMCAxLS44MjcgMS44NzUgMTQuMjQyIDE0LjI0MiAwIDAgMS0xLjA1IDEuNTg1bC41OTYuNDU1YTE0Ljk5NyAxNC45OTcgMCAwIDEtMi44MjQgMi44MjRsLS40NTUtLjU5NmMtLjUwMi4zODQtMS4wMzIuNzM1LTEuNTg1IDEuMDUtLjU3OS4zMy0xLjE5Ni42MDItMS44NzUuODI3bC4yMzYuNzEyYy0xLjIzMy40MDktMi42MzguNjYzLTQuMzE2LjgyMmwtLjA3LS43NDdjLTEuMjY0LjExOS0yLjY5NC4xODQtNC4zNDMuMjE4bC4wMTYuNzVjLTEuMzI3LjAyOC0yLjc4Ny4wMzYtNC40MDMuMDM5bC0uMDAxLS43NS0yLjIwNC4wMDFoLTIuNTVWNjBoLTUuMXYtLjc1SDI0LjlsLTIuMjA0LS4wMDF2Ljc1YTIzMS40MzEgMjMxLjQzMSAwIDAgMS00LjQwNC0uMDM5bC4wMTYtLjc1Yy0xLjY1LS4wMzQtMy4wOC0uMDk5LTQuMzQzLS4yMThsLS4wNy43NDdjLTEuNjc4LS4xNTktMy4wODMtLjQxMy00LjMxNi0uODIybC4yMzYtLjcxMmExMC4yNTggMTAuMjU4IDAgMCAxLTEuODc1LS44MjcgMTQuMjUyIDE0LjI1MiAwIDAgMS0xLjU4NS0xLjA1bC0uNDU1LjU5NkExNC45OTkgMTQuOTk5IDAgMCAxIDMuMDc2IDU0LjFsLjU5Ni0uNDU1YTE0LjI0IDE0LjI0IDAgMCAxLTEuMDUtMS41ODUgMTAuMjU5IDEwLjI1OSAwIDAgMS0uODI3LTEuODc1bC0uNzEyLjIzNkMuNjc0IDQ5LjE4OC40MiA0Ny43ODMuMjYyIDQ2LjEwNWwuNzQ2LS4wN0MuODkgNDQuNzcuODI0IDQzLjM0Ljc5IDQxLjY5MmwtLjc1LjAxNlpcIi8+PHBhdGggZmlsbD1cIiNmZmZcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0zNS42NDMgMzIuMTQ1Yy0uMjk3LS43NDMtLjQ0NS0xLjExNC0uNDAxLTEuMjc1YS40Mi40MiAwIDAgMSAuMTgyLS4yN2MuMTM0LS4xLjQ2My0uMSAxLjEyMy0uMS43NDIgMCAxLjQ5OS4wNDYgMi4yMzYtLjA1YTYgNiAwIDAgMCA1LjE2Ni01LjE2NmMuMDUxLS4zOS4wNTEtLjg1NS4wNTEtMS43ODQgMC0uOTI4IDAtMS4zOTMtLjA1MS0xLjc4M2E2IDYgMCAwIDAtNS4xNjYtNS4xNjVjLS4zOS0uMDUyLS44NTQtLjA1Mi0xLjc4My0uMDUyaC03LjcyYy00LjkzNCAwLTcuNDAxIDAtOS4yNDQgMS4wNTFhOCA4IDAgMCAwLTIuOTg1IDIuOTg2QzE2LjA1NyAyMi4yOCAxNi4wMDMgMjQuNTggMTYgMjkgMTUuOTk4IDMxLjA3NSAxNiAzMy4xNSAxNiAzNS4yMjRBNy43NzggNy43NzggMCAwIDAgMjMuNzc4IDQzSDI4LjVjMS4zOTQgMCAyLjA5IDAgMi42Ny0uMTE2YTYgNiAwIDAgMCA0LjcxNS00LjcxNGMuMTE1LS41OC4xMTUtMS4zMDEuMTE1LTIuNzQ0IDAtMS4zMSAwLTEuOTY0LS4xMTQtMi40OWE0Ljk5OCA0Ljk5OCAwIDAgMC0uMjQzLS43OTJaXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiLz48cGF0aCBmaWxsPVwiIzlFQTlBOVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTM3IDE4aC03LjcyYy0yLjQ5NCAwLTQuMjY2LjAwMi01LjY0Ny4xMjYtMS4zNjEuMTIyLTIuMTk3LjM1NC0yLjg1NC43MjhhNi41IDYuNSAwIDAgMC0yLjQyNSAyLjQyNmMtLjM3NS42NTctLjYwNyAxLjQ5Mi0uNzI5IDIuODUzLS4xMSAxLjIzMy0uMTIzIDIuNzc3LS4xMjUgNC44NjcgMCAuNyAwIDEuMDUuMDk3IDEuMTgxLjA5Ni4xMy4xODIuMTgxLjM0My4yLjE2My4wMi41MTgtLjE4IDEuMjI5LS41ODFhNi4xOTUgNi4xOTUgMCAwIDEgMy4wNTMtLjhIMzdjLjk3NyAwIDEuMzItLjAwMyAxLjU4Ny0uMDM4YTQuNSA0LjUgMCAwIDAgMy44NzQtMy44NzRjLjAzNi0uMjY4LjAzOS0uNjExLjAzOS0xLjU4OCAwLS45NzYtLjAwMy0xLjMxOS0uMDM4LTEuNTg3YTQuNSA0LjUgMCAwIDAtMy44NzUtMy44NzRDMzguMzIgMTguMDA0IDM3Ljk3NyAxOCAzNyAxOFptLTcuMzY0IDEyLjVoLTcuNDE0YTQuNzIyIDQuNzIyIDAgMCAwLTQuNzIyIDQuNzIzIDYuMjc4IDYuMjc4IDAgMCAwIDYuMjc4IDYuMjc4SDI4LjVjMS40NjYgMCAxLjk4LS4wMDggMi4zNzgtLjA4N2E0LjUgNC41IDAgMCAwIDMuNTM1LTMuNTM2Yy4wOC0uMzk3LjA4Ny0uOTMzLjA4Ny0yLjQ1MSAwLTEuMzkxLS4wMDktMS44NDMtLjA4LTIuMTdhMy41IDMuNSAwIDAgMC0yLjY3Ni0yLjY3NmMtLjMyOC0uMDcyLS43NjItLjA4LTIuMTA4LS4wOFpcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9XCJxXCI+PHBhdGggZmlsbD1cIiNmZmZcIiBkPVwiTTAgMGg2MHY2MEgwelwiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz5gLFxuICBHTE9CRV9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj48cGF0aCBmaWxsPVwiI2ZmZlwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTE1LjUgOGE3LjUgNy41IDAgMSAxLTE1IDAgNy41IDcuNSAwIDAgMSAxNSAwWm0tMi4xMTMuNzVjLjMwMSAwIC41MzUuMjY0LjQ3LjU1OGE2LjAxIDYuMDEgMCAwIDEtMi44NjcgMy44OTZjLS4yMDMuMTE2LS40Mi0uMTAzLS4zMzQtLjMyLjQwOS0xLjAxOC42OTEtMi4yNzQuNzk3LTMuNjU3YS41MTIuNTEyIDAgMCAxIC41MDctLjQ3N2gxLjQyN1ptLjQ3LTIuMDU4Yy4wNjUuMjk0LS4xNjkuNTU4LS40Ny41NThIMTEuOTZhLjUxMi41MTIgMCAwIDEtLjUwNy0uNDc3Yy0uMTA2LTEuMzgzLS4zODktMi42MzgtLjc5Ny0zLjY1Ni0uMDg3LS4yMTcuMTMtLjQzNy4zMzMtLjMyYTYuMDEgNi4wMSAwIDAgMSAyLjg2OCAzLjg5NVptLTQuNDAyLjU1OGMuMjg2IDAgLjUxNS0uMjQuNDktLjUyNS0uMTIxLTEuMzYxLS40MjktMi41MzQtLjgzLTMuMzkzLS4yNzktLjYtLjU0OS0uOTMtLjc1My0xLjExMmEuNTM1LjUzNSAwIDAgMC0uNzI0IDBjLS4yMDQuMTgyLS40NzQuNTEzLS43NTQgMS4xMTItLjQuODU5LS43MDggMi4wMzItLjgyOCAzLjM5M2EuNDg2LjQ4NiAwIDAgMCAuNDkuNTI1aDIuOTA5Wm0tNS40MTUgMGMuMjY3IDAgLjQ4Ni0uMjEuNTA3LS40NzcuMTA2LTEuMzgzLjM4OS0yLjYzOC43OTctMy42NTYuMDg3LS4yMTctLjEzLS40MzctLjMzMy0uMzJhNi4wMSA2LjAxIDAgMCAwLTIuODY4IDMuODk1Yy0uMDY1LjI5NC4xNjkuNTU4LjQ3LjU1OEg0LjA0Wk0yLjE0MyA5LjMwOGMtLjA2NS0uMjk0LjE2OS0uNTU4LjQ3LS41NThINC4wNGMuMjY3IDAgLjQ4Ni4yMS41MDcuNDc3LjEwNiAxLjM4My4zODkgMi42MzkuNzk3IDMuNjU3LjA4Ny4yMTctLjEzLjQzNi0uMzMzLjMyYTYuMDEgNi4wMSAwIDAgMS0yLjg2OC0zLjg5NlptMy45MTMtLjAzM2EuNDg2LjQ4NiAwIDAgMSAuNDktLjUyNWgyLjkwOWMuMjg2IDAgLjUxNS4yNC40OS41MjUtLjEyMSAxLjM2MS0uNDI4IDIuNTM1LS44MyAzLjM5NC0uMjc5LjYtLjU0OS45My0uNzUzIDEuMTEyYS41MzUuNTM1IDAgMCAxLS43MjQgMGMtLjIwNC0uMTgyLS40NzQtLjUxMy0uNzU0LTEuMTEyLS40LS44NTktLjcwOC0yLjAzMy0uODI4LTMuMzk0WlwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+YFxufTtcblxuY29uc3Qgc3R5bGVzJHEgPSBjc3NgLndjbS10b29sYmFyLXBsYWNlaG9sZGVye3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO3dpZHRoOjEwMCU7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jaztwb2ludGVyLWV2ZW50czpub25lO2hlaWdodDoxMDBweDtib3JkZXItcmFkaXVzOmNhbGModmFyKC0td2NtLWJhY2tncm91bmQtYm9yZGVyLXJhZGl1cykgKiAuOSk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tYmFja2dyb3VuZC1jb2xvcik7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7YmFja2dyb3VuZC1zaXplOmNvdmVyfS53Y20tdG9vbGJhcntoZWlnaHQ6MzhweDtkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjVweCAxNXB4IDVweCA1cHg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyfS53Y20tdG9vbGJhciBpbWcsLndjbS10b29sYmFyIHN2Z3toZWlnaHQ6MjhweDtvYmplY3QtcG9zaXRpb246bGVmdCBjZW50ZXI7b2JqZWN0LWZpdDpjb250YWlufSN3Y20td2MtbG9nbyBwYXRoe2ZpbGw6dmFyKC0td2NtLWFjY2VudC1maWxsLWNvbG9yKX1idXR0b257d2lkdGg6MjhweDtoZWlnaHQ6MjhweDtib3JkZXItcmFkaXVzOnZhcigtLXdjbS1pY29uLWJ1dHRvbi1ib3JkZXItcmFkaXVzKTtib3JkZXI6MDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3ItYmctMSk7Ym94LXNoYWRvdzowIDAgMCAxcHggdmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfWJ1dHRvbjphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3ItYmctMil9YnV0dG9uIHN2Z3tkaXNwbGF5OmJsb2NrO29iamVjdC1wb3NpdGlvbjpjZW50ZXJ9YnV0dG9uIHBhdGh7ZmlsbDp2YXIoLS13Y20tY29sb3ItZmctMSl9LndjbS10b29sYmFyIGRpdntkaXNwbGF5OmZsZXh9QG1lZGlhKGhvdmVyOmhvdmVyKXtidXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3ItYmctMil9fWA7XG5cbnZhciBfX2RlZlByb3AkdSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJHUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyR1ID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJHUodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJHUodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbU1vZGFsQmFja2NhcmQgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cIndjbS10b29sYmFyLXBsYWNlaG9sZGVyXCI+PC9kaXY+PGRpdiBjbGFzcz1cIndjbS10b29sYmFyXCI+JHtTdmdVdGlsLldBTExFVF9DT05ORUNUX0xPR099IDxidXR0b24gQGNsaWNrPVwiJHtNb2RhbEN0cmwuY2xvc2V9XCI+JHtTdmdVdGlsLkNST1NTX0lDT059PC9idXR0b24+PC9kaXY+YDtcbiAgfVxufTtcbldjbU1vZGFsQmFja2NhcmQuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRxXTtcbldjbU1vZGFsQmFja2NhcmQgPSBfX2RlY29yYXRlQ2xhc3MkdShbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tbW9kYWwtYmFja2NhcmRcIilcbl0sIFdjbU1vZGFsQmFja2NhcmQpO1xuXG5jb25zdCBzdHlsZXMkcCA9IGNzc2BtYWlue3BhZGRpbmc6MjBweDtwYWRkaW5nLXRvcDowO3dpZHRoOjEwMCV9YDtcblxudmFyIF9fZGVmUHJvcCR0ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkdCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJHQgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkdCh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkdCh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtTW9kYWxDb250ZW50ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDxtYWluPjxzbG90Pjwvc2xvdD48L21haW4+YDtcbiAgfVxufTtcbldjbU1vZGFsQ29udGVudC5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJHBdO1xuV2NtTW9kYWxDb250ZW50ID0gX19kZWNvcmF0ZUNsYXNzJHQoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLW1vZGFsLWNvbnRlbnRcIilcbl0sIFdjbU1vZGFsQ29udGVudCk7XG5cbmNvbnN0IHN0eWxlcyRvID0gY3NzYGZvb3RlcntwYWRkaW5nOjEwcHg7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczppbmhlcml0O2p1c3RpZnktY29udGVudDppbmhlcml0O2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLXdjbS1jb2xvci1iZy0yKX1gO1xuXG52YXIgX19kZWZQcm9wJHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkcyA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRzKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRzKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Nb2RhbEZvb3RlciA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGA8Zm9vdGVyPjxzbG90Pjwvc2xvdD48L2Zvb3Rlcj5gO1xuICB9XG59O1xuV2NtTW9kYWxGb290ZXIuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRvXTtcbldjbU1vZGFsRm9vdGVyID0gX19kZWNvcmF0ZUNsYXNzJHMoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLW1vZGFsLWZvb3RlclwiKVxuXSwgV2NtTW9kYWxGb290ZXIpO1xuXG5jb25zdCBzdHlsZXMkbiA9IGNzc2BoZWFkZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6MjBweDtwb3NpdGlvbjpyZWxhdGl2ZX0ud2NtLWJvcmRlcntib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS13Y20tY29sb3ItYmctMik7bWFyZ2luLWJvdHRvbToyMHB4fWhlYWRlciBidXR0b257cGFkZGluZzoxNXB4IDIwcHh9aGVhZGVyIGJ1dHRvbjphY3RpdmV7b3BhY2l0eTouNX1AbWVkaWEoaG92ZXI6aG92ZXIpe2hlYWRlciBidXR0b246aG92ZXJ7b3BhY2l0eTouNX19LndjbS1iYWNrLWJ0bntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjB9LndjbS1hY3Rpb24tYnRue3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjB9cGF0aHtmaWxsOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfWA7XG5cbnZhciBfX2RlZlByb3AkciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJHIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRyID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJHIodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJHIodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbU1vZGFsSGVhZGVyID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnRpdGxlID0gXCJcIjtcbiAgICB0aGlzLm9uQWN0aW9uID0gdm9pZCAwO1xuICAgIHRoaXMuYWN0aW9uSWNvbiA9IHZvaWQgMDtcbiAgICB0aGlzLmJvcmRlciA9IGZhbHNlO1xuICB9XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGJhY2tCdG5UZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gaHRtbGA8YnV0dG9uIGNsYXNzPVwid2NtLWJhY2stYnRuXCIgQGNsaWNrPVwiJHtSb3V0ZXJDdHJsLmdvQmFja31cIj4ke1N2Z1V0aWwuQkFDS19JQ09OfTwvYnV0dG9uPmA7XG4gIH1cbiAgYWN0aW9uQnRuVGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGh0bWxgPGJ1dHRvbiBjbGFzcz1cIndjbS1hY3Rpb24tYnRuXCIgQGNsaWNrPVwiJHt0aGlzLm9uQWN0aW9ufVwiPiR7dGhpcy5hY3Rpb25JY29ufTwvYnV0dG9uPmA7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB7XG4gICAgICBcIndjbS1ib3JkZXJcIjogdGhpcy5ib3JkZXJcbiAgICB9O1xuICAgIGNvbnN0IGJhY2tCdG4gPSBSb3V0ZXJDdHJsLnN0YXRlLmhpc3RvcnkubGVuZ3RoID4gMTtcbiAgICBjb25zdCBjb250ZW50ID0gdGhpcy50aXRsZSA/IGh0bWxgPHdjbS10ZXh0IHZhcmlhbnQ9XCJiaWctYm9sZFwiPiR7dGhpcy50aXRsZX08L3djbS10ZXh0PmAgOiBodG1sYDxzbG90Pjwvc2xvdD5gO1xuICAgIHJldHVybiBodG1sYDxoZWFkZXIgY2xhc3M9XCIke2NsYXNzTWFwKGNsYXNzZXMpfVwiPiR7YmFja0J0biA/IHRoaXMuYmFja0J0blRlbXBsYXRlKCkgOiBudWxsfSAke2NvbnRlbnR9ICR7dGhpcy5vbkFjdGlvbiA/IHRoaXMuYWN0aW9uQnRuVGVtcGxhdGUoKSA6IG51bGx9PC9oZWFkZXI+YDtcbiAgfVxufTtcbldjbU1vZGFsSGVhZGVyLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkbl07XG5fX2RlY29yYXRlQ2xhc3MkcihbXG4gIHByb3BlcnR5KClcbl0sIFdjbU1vZGFsSGVhZGVyLnByb3RvdHlwZSwgXCJ0aXRsZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRyKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtTW9kYWxIZWFkZXIucHJvdG90eXBlLCBcIm9uQWN0aW9uXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJHIoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21Nb2RhbEhlYWRlci5wcm90b3R5cGUsIFwiYWN0aW9uSWNvblwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRyKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXY21Nb2RhbEhlYWRlci5wcm90b3R5cGUsIFwiYm9yZGVyXCIsIDIpO1xuV2NtTW9kYWxIZWFkZXIgPSBfX2RlY29yYXRlQ2xhc3MkcihbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tbW9kYWwtaGVhZGVyXCIpXG5dLCBXY21Nb2RhbEhlYWRlcik7XG5cbmNvbnN0IFVpVXRpbCA9IHtcbiAgTU9CSUxFX0JSRUFLUE9JTlQ6IDYwMCxcbiAgV0NNX1JFQ0VOVF9XQUxMRVRfREFUQTogXCJXQ01fUkVDRU5UX1dBTExFVF9EQVRBXCIsXG4gIEVYUExPUkVSX1dBTExFVF9VUkw6IFwiaHR0cHM6Ly9leHBsb3Jlci53YWxsZXRjb25uZWN0LmNvbS8/dHlwZT13YWxsZXRcIixcbiAgZ2V0U2hhZG93Um9vdEVsZW1lbnQocm9vdCwgc2VsZWN0b3IpIHtcbiAgICBjb25zdCBlbCA9IHJvb3QucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICBpZiAoIWVsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7c2VsZWN0b3J9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH0sXG4gIGdldFdhbGxldEljb24oeyBpZCwgaW1hZ2VfaWQgfSkge1xuICAgIGNvbnN0IHsgd2FsbGV0SW1hZ2VzIH0gPSBDb25maWdDdHJsLnN0YXRlO1xuICAgIGlmICh3YWxsZXRJbWFnZXMgPT0gbnVsbCA/IHZvaWQgMCA6IHdhbGxldEltYWdlc1tpZF0pIHtcbiAgICAgIHJldHVybiB3YWxsZXRJbWFnZXNbaWRdO1xuICAgIH0gZWxzZSBpZiAoaW1hZ2VfaWQpIHtcbiAgICAgIHJldHVybiBFeHBsb3JlckN0cmwuZ2V0V2FsbGV0SW1hZ2VVcmwoaW1hZ2VfaWQpO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfSxcbiAgZ2V0V2FsbGV0TmFtZShuYW1lLCBzaG9ydCA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHNob3J0ICYmIG5hbWUubGVuZ3RoID4gOCA/IGAke25hbWUuc3Vic3RyaW5nKDAsIDgpfS4uYCA6IG5hbWU7XG4gIH0sXG4gIGlzTW9iaWxlQW5pbWF0aW9uKCkge1xuICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA8PSBVaVV0aWwuTU9CSUxFX0JSRUFLUE9JTlQ7XG4gIH0sXG4gIGFzeW5jIHByZWxvYWRJbWFnZShzcmMpIHtcbiAgICBjb25zdCBpbWFnZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1hZ2Uub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgIGltYWdlLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICBpbWFnZS5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCI7XG4gICAgICBpbWFnZS5zcmMgPSBzcmM7XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShbaW1hZ2VQcm9taXNlLCBDb3JlVXRpbC53YWl0KDNlMyldKTtcbiAgfSxcbiAgZ2V0RXJyb3JNZXNzYWdlKGVycikge1xuICAgIHJldHVybiBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJVbmtub3duIEVycm9yXCI7XG4gIH0sXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIGRlYm91bmNlKGZ1bmMsIHRpbWVvdXQgPSA1MDApIHtcbiAgICBsZXQgdGltZXIgPSB2b2lkIDA7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICBmdW5jKC4uLmFyZ3MpO1xuICAgICAgfVxuICAgICAgaWYgKHRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB9XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQobmV4dCwgdGltZW91dCk7XG4gICAgfTtcbiAgfSxcbiAgaGFuZGxlTW9iaWxlTGlua2luZyh3YWxsZXQsIHRhcmdldCA9IFwiX3NlbGZcIikge1xuICAgIGNvbnN0IHsgd2FsbGV0Q29ubmVjdFVyaSB9ID0gT3B0aW9uc0N0cmwuc3RhdGU7XG4gICAgY29uc3QgeyBtb2JpbGUsIG5hbWUgfSA9IHdhbGxldDtcbiAgICBjb25zdCBuYXRpdmVVcmwgPSBtb2JpbGUgPT0gbnVsbCA/IHZvaWQgMCA6IG1vYmlsZS5uYXRpdmU7XG4gICAgY29uc3QgdW5pdmVyc2FsVXJsID0gbW9iaWxlID09IG51bGwgPyB2b2lkIDAgOiBtb2JpbGUudW5pdmVyc2FsO1xuICAgIFVpVXRpbC5zZXRSZWNlbnRXYWxsZXQod2FsbGV0KTtcbiAgICBmdW5jdGlvbiBvblJlZGlyZWN0KHVyaSkge1xuICAgICAgaWYgKG5hdGl2ZVVybCkge1xuICAgICAgICBjb25zdCBocmVmID0gQ29yZVV0aWwuZm9ybWF0TmF0aXZlVXJsKG5hdGl2ZVVybCwgdXJpLCBuYW1lKTtcbiAgICAgICAgQ29yZVV0aWwub3BlbkhyZWYoaHJlZiwgdGFyZ2V0KTtcbiAgICAgIH0gZWxzZSBpZiAodW5pdmVyc2FsVXJsKSB7XG4gICAgICAgIGNvbnN0IGhyZWYgPSBDb3JlVXRpbC5mb3JtYXRVbml2ZXJzYWxVcmwodW5pdmVyc2FsVXJsLCB1cmksIG5hbWUpO1xuICAgICAgICBDb3JlVXRpbC5vcGVuSHJlZihocmVmLCB0YXJnZXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAod2FsbGV0Q29ubmVjdFVyaSkge1xuICAgICAgb25SZWRpcmVjdCh3YWxsZXRDb25uZWN0VXJpKTtcbiAgICB9XG4gIH0sXG4gIGhhbmRsZUFuZHJvaWRMaW5raW5nKCkge1xuICAgIGNvbnN0IHsgd2FsbGV0Q29ubmVjdFVyaSB9ID0gT3B0aW9uc0N0cmwuc3RhdGU7XG4gICAgaWYgKHdhbGxldENvbm5lY3RVcmkpIHtcbiAgICAgIENvcmVVdGlsLnNldFdhbGxldENvbm5lY3RBbmRyb2lkRGVlcExpbmsod2FsbGV0Q29ubmVjdFVyaSk7XG4gICAgICBDb3JlVXRpbC5vcGVuSHJlZih3YWxsZXRDb25uZWN0VXJpLCBDb3JlVXRpbC5pc1RlbGVncmFtKCkgPyBcIl9ibGFua1wiIDogXCJfc2VsZlwiKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGhhbmRsZVVyaUNvcHkoKSB7XG4gICAgY29uc3QgeyB3YWxsZXRDb25uZWN0VXJpIH0gPSBPcHRpb25zQ3RybC5zdGF0ZTtcbiAgICBpZiAod2FsbGV0Q29ubmVjdFVyaSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQod2FsbGV0Q29ubmVjdFVyaSk7XG4gICAgICAgIFRvYXN0Q3RybC5vcGVuVG9hc3QoXCJMaW5rIGNvcGllZFwiLCBcInN1Y2Nlc3NcIik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIFRvYXN0Q3RybC5vcGVuVG9hc3QoXCJGYWlsZWQgdG8gY29weVwiLCBcImVycm9yXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZ2V0Q3VzdG9tSW1hZ2VVcmxzKCkge1xuICAgIGNvbnN0IHsgd2FsbGV0SW1hZ2VzIH0gPSBDb25maWdDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHdhbGxldFVybHMgPSBPYmplY3QudmFsdWVzKHdhbGxldEltYWdlcyAhPSBudWxsID8gd2FsbGV0SW1hZ2VzIDoge30pO1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHdhbGxldFVybHMpO1xuICB9LFxuICB0cnVuY2F0ZSh2YWx1ZSwgc3RyTGVuID0gOCkge1xuICAgIGlmICh2YWx1ZS5sZW5ndGggPD0gc3RyTGVuKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBgJHt2YWx1ZS5zdWJzdHJpbmcoMCwgNCl9Li4uJHt2YWx1ZS5zdWJzdHJpbmcodmFsdWUubGVuZ3RoIC0gNCl9YDtcbiAgfSxcbiAgc2V0UmVjZW50V2FsbGV0KHdhbGxldCkge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShVaVV0aWwuV0NNX1JFQ0VOVF9XQUxMRVRfREFUQSwgSlNPTi5zdHJpbmdpZnkod2FsbGV0KSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5pbmZvKFwiVW5hYmxlIHRvIHNldCByZWNlbnQgd2FsbGV0XCIpO1xuICAgIH1cbiAgfSxcbiAgZ2V0UmVjZW50V2FsbGV0KCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB3YWxsZXQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShVaVV0aWwuV0NNX1JFQ0VOVF9XQUxMRVRfREFUQSk7XG4gICAgICBpZiAod2FsbGV0KSB7XG4gICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKHdhbGxldCk7XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmluZm8oXCJVbmFibGUgdG8gZ2V0IHJlY2VudCB3YWxsZXRcIik7XG4gICAgfVxuICAgIHJldHVybiB2b2lkIDA7XG4gIH0sXG4gIGNhc2VTYWZlSW5jbHVkZXMoc3RyMSwgc3RyMikge1xuICAgIHJldHVybiBzdHIxLnRvVXBwZXJDYXNlKCkuaW5jbHVkZXMoc3RyMi50b1VwcGVyQ2FzZSgpKTtcbiAgfSxcbiAgb3BlbldhbGxldEV4cGxvcmVyVXJsKCkge1xuICAgIENvcmVVdGlsLm9wZW5IcmVmKFVpVXRpbC5FWFBMT1JFUl9XQUxMRVRfVVJMLCBcIl9ibGFua1wiKTtcbiAgfSxcbiAgZ2V0Q2FjaGVkUm91dGVyV2FsbGV0UGxhdGZvcm1zKCkge1xuICAgIGNvbnN0IHsgZGVza3RvcCwgbW9iaWxlIH0gPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgY29uc3QgaXNEZXNrdG9wID0gQm9vbGVhbihkZXNrdG9wID09IG51bGwgPyB2b2lkIDAgOiBkZXNrdG9wLm5hdGl2ZSk7XG4gICAgY29uc3QgaXNXZWIgPSBCb29sZWFuKGRlc2t0b3AgPT0gbnVsbCA/IHZvaWQgMCA6IGRlc2t0b3AudW5pdmVyc2FsKTtcbiAgICBjb25zdCBpc01vYmlsZSA9IEJvb2xlYW4obW9iaWxlID09IG51bGwgPyB2b2lkIDAgOiBtb2JpbGUubmF0aXZlKSB8fCBCb29sZWFuKG1vYmlsZSA9PSBudWxsID8gdm9pZCAwIDogbW9iaWxlLnVuaXZlcnNhbCk7XG4gICAgcmV0dXJuIHsgaXNEZXNrdG9wLCBpc01vYmlsZSwgaXNXZWIgfTtcbiAgfSxcbiAgZ29Ub0Nvbm5lY3RpbmdWaWV3KHdhbGxldCkge1xuICAgIFJvdXRlckN0cmwuc2V0RGF0YSh7IFdhbGxldDogd2FsbGV0IH0pO1xuICAgIGNvbnN0IGlzTW9iaWxlRGV2aWNlID0gQ29yZVV0aWwuaXNNb2JpbGUoKTtcbiAgICBjb25zdCB7IGlzRGVza3RvcCwgaXNXZWIsIGlzTW9iaWxlIH0gPSBVaVV0aWwuZ2V0Q2FjaGVkUm91dGVyV2FsbGV0UGxhdGZvcm1zKCk7XG4gICAgaWYgKGlzTW9iaWxlRGV2aWNlKSB7XG4gICAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgICAgUm91dGVyQ3RybC5wdXNoKFwiTW9iaWxlQ29ubmVjdGluZ1wiKTtcbiAgICAgICAgaWYgKCFDb3JlVXRpbC5pc0FuZHJvaWQoKSAmJiBDb3JlVXRpbC5pc1RlbGVncmFtKCkpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZU1vYmlsZUxpbmtpbmcod2FsbGV0LCBcIl9ibGFua1wiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1dlYikge1xuICAgICAgICBSb3V0ZXJDdHJsLnB1c2goXCJXZWJDb25uZWN0aW5nXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUm91dGVyQ3RybC5wdXNoKFwiSW5zdGFsbFdhbGxldFwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzRGVza3RvcCkge1xuICAgICAgUm91dGVyQ3RybC5wdXNoKFwiRGVza3RvcENvbm5lY3RpbmdcIik7XG4gICAgfSBlbHNlIGlmIChpc1dlYikge1xuICAgICAgUm91dGVyQ3RybC5wdXNoKFwiV2ViQ29ubmVjdGluZ1wiKTtcbiAgICB9IGVsc2UgaWYgKGlzTW9iaWxlKSB7XG4gICAgICBSb3V0ZXJDdHJsLnB1c2goXCJNb2JpbGVRcmNvZGVDb25uZWN0aW5nXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBSb3V0ZXJDdHJsLnB1c2goXCJJbnN0YWxsV2FsbGV0XCIpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3Qgc3R5bGVzJG0gPSBjc3NgLndjbS1yb3V0ZXJ7b3ZlcmZsb3c6aGlkZGVuO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0ud2NtLWNvbnRlbnR7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn1gO1xuXG52YXIgX19kZWZQcm9wJHEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRxID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkcSA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRxKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRxKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Nb2RhbFJvdXRlciA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIGxpZmVjeWNsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy52aWV3ID0gUm91dGVyQ3RybC5zdGF0ZS52aWV3O1xuICAgIHRoaXMucHJldlZpZXcgPSBSb3V0ZXJDdHJsLnN0YXRlLnZpZXc7XG4gICAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgICB0aGlzLnVuc3Vic2NyaWJlID0gdm9pZCAwO1xuICAgIHRoaXMub2xkSGVpZ2h0ID0gXCIwcHhcIjtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gdm9pZCAwO1xuICAgIHRoaXMudW5zdWJzY3JpYmUgPSBSb3V0ZXJDdHJsLnN1YnNjcmliZSgocm91dGVyU3RhdGUpID0+IHtcbiAgICAgIGlmICh0aGlzLnZpZXcgIT09IHJvdXRlclN0YXRlLnZpZXcpIHtcbiAgICAgICAgdGhpcy5vbkNoYW5nZVJvdXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZmlyc3RVcGRhdGVkKCkge1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKFtjb25ldG50XSkgPT4ge1xuICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gYCR7Y29uZXRudC5jb250ZW50UmVjdC5oZWlnaHR9cHhgO1xuICAgICAgaWYgKHRoaXMub2xkSGVpZ2h0ICE9PSBcIjBweFwiKSB7XG4gICAgICAgIGFuaW1hdGUodGhpcy5yb3V0ZXJFbCwgeyBoZWlnaHQ6IFt0aGlzLm9sZEhlaWdodCwgbmV3SGVpZ2h0XSB9LCB7IGR1cmF0aW9uOiAwLjIgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLm9sZEhlaWdodCA9IG5ld0hlaWdodDtcbiAgICB9KTtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5jb250ZW50RWwpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgKF9hID0gdGhpcy51bnN1YnNjcmliZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcyk7XG4gICAgKF9iID0gdGhpcy5yZXNpemVPYnNlcnZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmRpc2Nvbm5lY3QoKTtcbiAgfVxuICBnZXQgcm91dGVyRWwoKSB7XG4gICAgcmV0dXJuIFVpVXRpbC5nZXRTaGFkb3dSb290RWxlbWVudCh0aGlzLCBcIi53Y20tcm91dGVyXCIpO1xuICB9XG4gIGdldCBjb250ZW50RWwoKSB7XG4gICAgcmV0dXJuIFVpVXRpbC5nZXRTaGFkb3dSb290RWxlbWVudCh0aGlzLCBcIi53Y20tY29udGVudFwiKTtcbiAgfVxuICB2aWV3VGVtcGxhdGUoKSB7XG4gICAgc3dpdGNoICh0aGlzLnZpZXcpIHtcbiAgICAgIGNhc2UgXCJDb25uZWN0V2FsbGV0XCI6XG4gICAgICAgIHJldHVybiBodG1sYDx3Y20tY29ubmVjdC13YWxsZXQtdmlldz48L3djbS1jb25uZWN0LXdhbGxldC12aWV3PmA7XG4gICAgICBjYXNlIFwiRGVza3RvcENvbm5lY3RpbmdcIjpcbiAgICAgICAgcmV0dXJuIGh0bWxgPHdjbS1kZXNrdG9wLWNvbm5lY3Rpbmctdmlldz48L3djbS1kZXNrdG9wLWNvbm5lY3Rpbmctdmlldz5gO1xuICAgICAgY2FzZSBcIk1vYmlsZUNvbm5lY3RpbmdcIjpcbiAgICAgICAgcmV0dXJuIGh0bWxgPHdjbS1tb2JpbGUtY29ubmVjdGluZy12aWV3Pjwvd2NtLW1vYmlsZS1jb25uZWN0aW5nLXZpZXc+YDtcbiAgICAgIGNhc2UgXCJXZWJDb25uZWN0aW5nXCI6XG4gICAgICAgIHJldHVybiBodG1sYDx3Y20td2ViLWNvbm5lY3Rpbmctdmlldz48L3djbS13ZWItY29ubmVjdGluZy12aWV3PmA7XG4gICAgICBjYXNlIFwiTW9iaWxlUXJjb2RlQ29ubmVjdGluZ1wiOlxuICAgICAgICByZXR1cm4gaHRtbGA8d2NtLW1vYmlsZS1xci1jb25uZWN0aW5nLXZpZXc+PC93Y20tbW9iaWxlLXFyLWNvbm5lY3Rpbmctdmlldz5gO1xuICAgICAgY2FzZSBcIldhbGxldEV4cGxvcmVyXCI6XG4gICAgICAgIHJldHVybiBodG1sYDx3Y20td2FsbGV0LWV4cGxvcmVyLXZpZXc+PC93Y20td2FsbGV0LWV4cGxvcmVyLXZpZXc+YDtcbiAgICAgIGNhc2UgXCJRcmNvZGVcIjpcbiAgICAgICAgcmV0dXJuIGh0bWxgPHdjbS1xcmNvZGUtdmlldz48L3djbS1xcmNvZGUtdmlldz5gO1xuICAgICAgY2FzZSBcIkluc3RhbGxXYWxsZXRcIjpcbiAgICAgICAgcmV0dXJuIGh0bWxgPHdjbS1pbnN0YWxsLXdhbGxldC12aWV3Pjwvd2NtLWluc3RhbGwtd2FsbGV0LXZpZXc+YDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBodG1sYDxkaXY+Tm90IEZvdW5kPC9kaXY+YDtcbiAgICB9XG4gIH1cbiAgYXN5bmMgb25DaGFuZ2VSb3V0ZSgpIHtcbiAgICBhd2FpdCBhbmltYXRlKFxuICAgICAgdGhpcy5yb3V0ZXJFbCxcbiAgICAgIHsgb3BhY2l0eTogWzEsIDBdLCBzY2FsZTogWzEsIDEuMDJdIH0sXG4gICAgICB7IGR1cmF0aW9uOiAwLjE1LCBkZWxheTogMC4xIH1cbiAgICApLmZpbmlzaGVkO1xuICAgIHRoaXMudmlldyA9IFJvdXRlckN0cmwuc3RhdGUudmlldztcbiAgICBhbmltYXRlKHRoaXMucm91dGVyRWwsIHsgb3BhY2l0eTogWzAsIDFdLCBzY2FsZTogWzAuOTksIDFdIH0sIHsgZHVyYXRpb246IDAuMzcsIGRlbGF5OiAwLjA1IH0pO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwid2NtLXJvdXRlclwiPjxkaXYgY2xhc3M9XCJ3Y20tY29udGVudFwiPiR7dGhpcy52aWV3VGVtcGxhdGUoKX08L2Rpdj48L2Rpdj5gO1xuICB9XG59O1xuV2NtTW9kYWxSb3V0ZXIuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRtXTtcbl9fZGVjb3JhdGVDbGFzcyRxKFtcbiAgc3RhdGUoKVxuXSwgV2NtTW9kYWxSb3V0ZXIucHJvdG90eXBlLCBcInZpZXdcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkcShbXG4gIHN0YXRlKClcbl0sIFdjbU1vZGFsUm91dGVyLnByb3RvdHlwZSwgXCJwcmV2Vmlld1wiLCAyKTtcbldjbU1vZGFsUm91dGVyID0gX19kZWNvcmF0ZUNsYXNzJHEoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLW1vZGFsLXJvdXRlclwiKVxuXSwgV2NtTW9kYWxSb3V0ZXIpO1xuXG5jb25zdCBzdHlsZXMkbCA9IGNzc2BkaXZ7aGVpZ2h0OjM2cHg7d2lkdGg6bWF4LWNvbnRlbnQ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6OXB4IDE1cHggMTFweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTJweDtib3gtc2hhZG93OjAgNnB4IDE0cHggLTZweCByZ2JhKDEwLDE2LDMxLC4zKSwwIDEwcHggMzJweCAtNHB4IHJnYmEoMTAsMTYsMzEsLjE1KTt6LWluZGV4OjI7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7cG9pbnRlci1ldmVudHM6bm9uZTtiYWNrZHJvcC1maWx0ZXI6Ymx1cigyMHB4KSBzYXR1cmF0ZSgxLjgpOy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOmJsdXIoMjBweCkgc2F0dXJhdGUoMS44KTtib3JkZXItcmFkaXVzOnZhcigtLXdjbS1ub3RpZmljYXRpb24tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS13Y20tY29sb3Itb3ZlcmxheSk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9c3Zne21hcmdpbi1yaWdodDo1cHh9QC1tb3otZG9jdW1lbnQgdXJsLXByZWZpeCgpe2RpdntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1iZy0zKX19LndjbS1zdWNjZXNzIHBhdGh7ZmlsbDp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX0ud2NtLWVycm9yIHBhdGh7ZmlsbDp2YXIoLS13Y20tZXJyb3ItY29sb3IpfWA7XG5cbnZhciBfX2RlZlByb3AkcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRwID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJHAodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJHAodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbU1vZGFsVG9hc3QgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gICAgdGhpcy51bnN1YnNjcmliZSA9IHZvaWQgMDtcbiAgICB0aGlzLnRpbWVvdXQgPSB2b2lkIDA7XG4gICAgdGhpcy51bnN1YnNjcmliZSA9IFRvYXN0Q3RybC5zdWJzY3JpYmUoKG5ld1N0YXRlKSA9PiB7XG4gICAgICBpZiAobmV3U3RhdGUub3Blbikge1xuICAgICAgICB0aGlzLm9wZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IFRvYXN0Q3RybC5jbG9zZVRvYXN0KCksIDIyMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLnVuc3Vic2NyaWJlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICBUb2FzdEN0cmwuY2xvc2VUb2FzdCgpO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2UsIHZhcmlhbnQgfSA9IFRvYXN0Q3RybC5zdGF0ZTtcbiAgICBjb25zdCBjbGFzc2VzID0ge1xuICAgICAgXCJ3Y20tc3VjY2Vzc1wiOiB2YXJpYW50ID09PSBcInN1Y2Nlc3NcIixcbiAgICAgIFwid2NtLWVycm9yXCI6IHZhcmlhbnQgPT09IFwiZXJyb3JcIlxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMub3BlbiA/IGh0bWxgPGRpdiBjbGFzcz1cIiR7Y2xhc3NNYXAoY2xhc3Nlcyl9XCI+JHt2YXJpYW50ID09PSBcInN1Y2Nlc3NcIiA/IFN2Z1V0aWwuQ0hFQ0tNQVJLX0lDT04gOiBudWxsfSAke3ZhcmlhbnQgPT09IFwiZXJyb3JcIiA/IFN2Z1V0aWwuQ1JPU1NfSUNPTiA6IG51bGx9PHdjbS10ZXh0IHZhcmlhbnQ9XCJzbWFsbC1yZWd1bGFyXCI+JHttZXNzYWdlfTwvd2NtLXRleHQ+PC9kaXY+YCA6IG51bGw7XG4gIH1cbn07XG5XY21Nb2RhbFRvYXN0LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkbF07XG5fX2RlY29yYXRlQ2xhc3MkcChbXG4gIHN0YXRlKClcbl0sIFdjbU1vZGFsVG9hc3QucHJvdG90eXBlLCBcIm9wZW5cIiwgMik7XG5XY21Nb2RhbFRvYXN0ID0gX19kZWNvcmF0ZUNsYXNzJHAoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLW1vZGFsLXRvYXN0XCIpXG5dLCBXY21Nb2RhbFRvYXN0KTtcblxuY29uc3QgQ09OTkVDVElOR19FUlJPUl9NQVJHSU4gPSAwLjE7XG5jb25zdCBDSVJDTEVfU0laRV9NT0RJRklFUiA9IDIuNTtcbmNvbnN0IFFSQ09ERV9NQVRSSVhfTUFSR0lOID0gNztcbmZ1bmN0aW9uIGlzQWRqZWNlbnREb3RzKGN5LCBvdGhlckN5LCBjZWxsU2l6ZSkge1xuICBpZiAoY3kgPT09IG90aGVyQ3kpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgZGlmZiA9IGN5IC0gb3RoZXJDeSA8IDAgPyBvdGhlckN5IC0gY3kgOiBjeSAtIG90aGVyQ3k7XG4gIHJldHVybiBkaWZmIDw9IGNlbGxTaXplICsgQ09OTkVDVElOR19FUlJPUl9NQVJHSU47XG59XG5mdW5jdGlvbiBnZXRNYXRyaXgodmFsdWUsIGVycm9yQ29ycmVjdGlvbkxldmVsKSB7XG4gIGNvbnN0IGFyciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgIFFSQ29kZVV0aWwuY3JlYXRlKHZhbHVlLCB7IGVycm9yQ29ycmVjdGlvbkxldmVsIH0pLm1vZHVsZXMuZGF0YSxcbiAgICAwXG4gICk7XG4gIGNvbnN0IHNxcnQgPSBNYXRoLnNxcnQoYXJyLmxlbmd0aCk7XG4gIHJldHVybiBhcnIucmVkdWNlKFxuICAgIChyb3dzLCBrZXksIGluZGV4KSA9PiAoaW5kZXggJSBzcXJ0ID09PSAwID8gcm93cy5wdXNoKFtrZXldKSA6IHJvd3Nbcm93cy5sZW5ndGggLSAxXS5wdXNoKGtleSkpICYmIHJvd3MsXG4gICAgW11cbiAgKTtcbn1cbmNvbnN0IFFyQ29kZVV0aWwgPSB7XG4gIGdlbmVyYXRlKHVyaSwgc2l6ZSwgbG9nb1NpemUpIHtcbiAgICBjb25zdCBkb3RDb2xvciA9IFwiIzE0MTQxNFwiO1xuICAgIGNvbnN0IGVkZ2VDb2xvciA9IFwiI2ZmZmZmZlwiO1xuICAgIGNvbnN0IGRvdHMgPSBbXTtcbiAgICBjb25zdCBtYXRyaXggPSBnZXRNYXRyaXgodXJpLCBcIlFcIik7XG4gICAgY29uc3QgY2VsbFNpemUgPSBzaXplIC8gbWF0cml4Lmxlbmd0aDtcbiAgICBjb25zdCBxckxpc3QgPSBbXG4gICAgICB7IHg6IDAsIHk6IDAgfSxcbiAgICAgIHsgeDogMSwgeTogMCB9LFxuICAgICAgeyB4OiAwLCB5OiAxIH1cbiAgICBdO1xuICAgIHFyTGlzdC5mb3JFYWNoKCh7IHgsIHkgfSkgPT4ge1xuICAgICAgY29uc3QgeDEgPSAobWF0cml4Lmxlbmd0aCAtIFFSQ09ERV9NQVRSSVhfTUFSR0lOKSAqIGNlbGxTaXplICogeDtcbiAgICAgIGNvbnN0IHkxID0gKG1hdHJpeC5sZW5ndGggLSBRUkNPREVfTUFUUklYX01BUkdJTikgKiBjZWxsU2l6ZSAqIHk7XG4gICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSAwLjQ1O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxckxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgZG90U2l6ZSA9IGNlbGxTaXplICogKFFSQ09ERV9NQVRSSVhfTUFSR0lOIC0gaSAqIDIpO1xuICAgICAgICBkb3RzLnB1c2goXG4gICAgICAgICAgc3ZnJDFgPHJlY3QgZmlsbD1cIiR7aSAlIDIgPT09IDAgPyBkb3RDb2xvciA6IGVkZ2VDb2xvcn1cIiBoZWlnaHQ9XCIke2RvdFNpemV9XCIgcng9XCIke2RvdFNpemUgKiBib3JkZXJSYWRpdXN9XCIgcnk9XCIke2RvdFNpemUgKiBib3JkZXJSYWRpdXN9XCIgd2lkdGg9XCIke2RvdFNpemV9XCIgeD1cIiR7eDEgKyBjZWxsU2l6ZSAqIGl9XCIgeT1cIiR7eTEgKyBjZWxsU2l6ZSAqIGl9XCI+YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNsZWFyQXJlbmFTaXplID0gTWF0aC5mbG9vcigobG9nb1NpemUgKyAyNSkgLyBjZWxsU2l6ZSk7XG4gICAgY29uc3QgbWF0cml4TWlkZGxlU3RhcnQgPSBtYXRyaXgubGVuZ3RoIC8gMiAtIGNsZWFyQXJlbmFTaXplIC8gMjtcbiAgICBjb25zdCBtYXRyaXhNaWRkbGVFbmQgPSBtYXRyaXgubGVuZ3RoIC8gMiArIGNsZWFyQXJlbmFTaXplIC8gMiAtIDE7XG4gICAgY29uc3QgY2lyY2xlcyA9IFtdO1xuICAgIG1hdHJpeC5mb3JFYWNoKChyb3csIGkpID0+IHtcbiAgICAgIHJvdy5mb3JFYWNoKChfLCBqKSA9PiB7XG4gICAgICAgIGlmIChtYXRyaXhbaV1bal0pIHtcbiAgICAgICAgICBpZiAoIShpIDwgUVJDT0RFX01BVFJJWF9NQVJHSU4gJiYgaiA8IFFSQ09ERV9NQVRSSVhfTUFSR0lOIHx8IGkgPiBtYXRyaXgubGVuZ3RoIC0gKFFSQ09ERV9NQVRSSVhfTUFSR0lOICsgMSkgJiYgaiA8IFFSQ09ERV9NQVRSSVhfTUFSR0lOIHx8IGkgPCBRUkNPREVfTUFUUklYX01BUkdJTiAmJiBqID4gbWF0cml4Lmxlbmd0aCAtIChRUkNPREVfTUFUUklYX01BUkdJTiArIDEpKSkge1xuICAgICAgICAgICAgaWYgKCEoaSA+IG1hdHJpeE1pZGRsZVN0YXJ0ICYmIGkgPCBtYXRyaXhNaWRkbGVFbmQgJiYgaiA+IG1hdHJpeE1pZGRsZVN0YXJ0ICYmIGogPCBtYXRyaXhNaWRkbGVFbmQpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGN4ID0gaSAqIGNlbGxTaXplICsgY2VsbFNpemUgLyAyO1xuICAgICAgICAgICAgICBjb25zdCBjeSA9IGogKiBjZWxsU2l6ZSArIGNlbGxTaXplIC8gMjtcbiAgICAgICAgICAgICAgY2lyY2xlcy5wdXNoKFtjeCwgY3ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IGNpcmNsZXNUb0Nvbm5lY3QgPSB7fTtcbiAgICBjaXJjbGVzLmZvckVhY2goKFtjeCwgY3ldKSA9PiB7XG4gICAgICBpZiAoY2lyY2xlc1RvQ29ubmVjdFtjeF0pIHtcbiAgICAgICAgY2lyY2xlc1RvQ29ubmVjdFtjeF0ucHVzaChjeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaXJjbGVzVG9Db25uZWN0W2N4XSA9IFtjeV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgT2JqZWN0LmVudHJpZXMoY2lyY2xlc1RvQ29ubmVjdCkubWFwKChbY3gsIGN5c10pID0+IHtcbiAgICAgIGNvbnN0IG5ld0N5cyA9IGN5cy5maWx0ZXIoXG4gICAgICAgIChjeSkgPT4gY3lzLmV2ZXJ5KChvdGhlckN5KSA9PiAhaXNBZGplY2VudERvdHMoY3ksIG90aGVyQ3ksIGNlbGxTaXplKSlcbiAgICAgICk7XG4gICAgICByZXR1cm4gW051bWJlcihjeCksIG5ld0N5c107XG4gICAgfSkuZm9yRWFjaCgoW2N4LCBjeXNdKSA9PiB7XG4gICAgICBjeXMuZm9yRWFjaCgoY3kpID0+IHtcbiAgICAgICAgZG90cy5wdXNoKFxuICAgICAgICAgIHN2ZyQxYDxjaXJjbGUgY3g9XCIke2N4fVwiIGN5PVwiJHtjeX1cIiBmaWxsPVwiJHtkb3RDb2xvcn1cIiByPVwiJHtjZWxsU2l6ZSAvIENJUkNMRV9TSVpFX01PRElGSUVSfVwiPmBcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIE9iamVjdC5lbnRyaWVzKGNpcmNsZXNUb0Nvbm5lY3QpLmZpbHRlcigoW18sIGN5c10pID0+IGN5cy5sZW5ndGggPiAxKS5tYXAoKFtjeCwgY3lzXSkgPT4ge1xuICAgICAgY29uc3QgbmV3Q3lzID0gY3lzLmZpbHRlcigoY3kpID0+IGN5cy5zb21lKChvdGhlckN5KSA9PiBpc0FkamVjZW50RG90cyhjeSwgb3RoZXJDeSwgY2VsbFNpemUpKSk7XG4gICAgICByZXR1cm4gW051bWJlcihjeCksIG5ld0N5c107XG4gICAgfSkubWFwKChbY3gsIGN5c10pID0+IHtcbiAgICAgIGN5cy5zb3J0KChhLCBiKSA9PiBhIDwgYiA/IC0xIDogMSk7XG4gICAgICBjb25zdCBncm91cHMgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgY3kgb2YgY3lzKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBzLmZpbmQoXG4gICAgICAgICAgKGl0ZW0pID0+IGl0ZW0uc29tZSgob3RoZXJDeSkgPT4gaXNBZGplY2VudERvdHMoY3ksIG90aGVyQ3ksIGNlbGxTaXplKSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgZ3JvdXAucHVzaChjeSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ3JvdXBzLnB1c2goW2N5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbY3gsIGdyb3Vwcy5tYXAoKGl0ZW0pID0+IFtpdGVtWzBdLCBpdGVtW2l0ZW0ubGVuZ3RoIC0gMV1dKV07XG4gICAgfSkuZm9yRWFjaCgoW2N4LCBncm91cHNdKSA9PiB7XG4gICAgICBncm91cHMuZm9yRWFjaCgoW3kxLCB5Ml0pID0+IHtcbiAgICAgICAgZG90cy5wdXNoKFxuICAgICAgICAgIHN2ZyQxYDxsaW5lIHgxPVwiJHtjeH1cIiB4Mj1cIiR7Y3h9XCIgeTE9XCIke3kxfVwiIHkyPVwiJHt5Mn1cIiBzdHJva2U9XCIke2RvdENvbG9yfVwiIHN0cm9rZS13aWR0aD1cIiR7Y2VsbFNpemUgLyAoQ0lSQ0xFX1NJWkVfTU9ESUZJRVIgLyAyKX1cIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCI+YFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRvdHM7XG4gIH1cbn07XG5cbmNvbnN0IHN0eWxlcyRrID0gY3NzYEBrZXlmcmFtZXMgZmFkZUluezAle29wYWNpdHk6MH0xMDAle29wYWNpdHk6MX19ZGl2e3Bvc2l0aW9uOnJlbGF0aXZlO3VzZXItc2VsZWN0Om5vbmU7ZGlzcGxheTpibG9jaztvdmVyZmxvdzpoaWRkZW47YXNwZWN0LXJhdGlvOjEvMTthbmltYXRpb246ZmFkZUluIGVhc2UgLjJzfS53Y20tZGFya3tiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20tY29udGFpbmVyLWJvcmRlci1yYWRpdXMpO3BhZGRpbmc6MThweDtib3gtc2hhZG93OjAgMnB4IDVweCAjMDAwfXN2ZzpmaXJzdC1jaGlsZCx3Y20td2FsbGV0LWltYWdle3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgtNTAlKX13Y20td2FsbGV0LWltYWdle3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpIHRyYW5zbGF0ZVgoLTUwJSl9d2NtLXdhbGxldC1pbWFnZXt3aWR0aDoyNSU7aGVpZ2h0OjI1JTtib3JkZXItcmFkaXVzOnZhcigtLXdjbS13YWxsZXQtaWNvbi1ib3JkZXItcmFkaXVzKX1zdmc6Zmlyc3QtY2hpbGR7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgtNTAlKSBzY2FsZSguOSl9c3ZnOmZpcnN0LWNoaWxkIHBhdGg6Zmlyc3QtY2hpbGR7ZmlsbDp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX1zdmc6Zmlyc3QtY2hpbGQgcGF0aDpsYXN0LWNoaWxke3N0cm9rZTp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9YDtcblxudmFyIF9fZGVmUHJvcCRvID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJG8gPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2Mkbyh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3Akbyh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtUXJDb2RlID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnVyaSA9IFwiXCI7XG4gICAgdGhpcy5zaXplID0gMDtcbiAgICB0aGlzLmltYWdlSWQgPSB2b2lkIDA7XG4gICAgdGhpcy53YWxsZXRJZCA9IHZvaWQgMDtcbiAgICB0aGlzLmltYWdlVXJsID0gdm9pZCAwO1xuICB9XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHN2Z1RlbXBsYXRlKCkge1xuICAgIGNvbnN0IGlzTGlnaHRNb2RlID0gVGhlbWVDdHJsLnN0YXRlLnRoZW1lTW9kZSA9PT0gXCJsaWdodFwiO1xuICAgIGNvbnN0IHNpemUgPSBpc0xpZ2h0TW9kZSA/IHRoaXMuc2l6ZSA6IHRoaXMuc2l6ZSAtIDE4ICogMjtcbiAgICByZXR1cm4gc3ZnJDFgPHN2ZyBoZWlnaHQ9XCIke3NpemV9XCIgd2lkdGg9XCIke3NpemV9XCI+JHtRckNvZGVVdGlsLmdlbmVyYXRlKHRoaXMudXJpLCBzaXplLCBzaXplIC8gNCl9PC9zdmc+YDtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFwid2NtLWRhcmtcIjogVGhlbWVDdHJsLnN0YXRlLnRoZW1lTW9kZSA9PT0gXCJkYXJrXCJcbiAgICB9O1xuICAgIHJldHVybiBodG1sYDxkaXYgc3R5bGU9XCIke2B3aWR0aDogJHt0aGlzLnNpemV9cHhgfVwiIGNsYXNzPVwiJHtjbGFzc01hcChjbGFzc2VzKX1cIj4ke3RoaXMud2FsbGV0SWQgfHwgdGhpcy5pbWFnZVVybCA/IGh0bWxgPHdjbS13YWxsZXQtaW1hZ2Ugd2FsbGV0SWQ9XCIke2lmRGVmaW5lZCh0aGlzLndhbGxldElkKX1cIiBpbWFnZUlkPVwiJHtpZkRlZmluZWQodGhpcy5pbWFnZUlkKX1cIiBpbWFnZVVybD1cIiR7aWZEZWZpbmVkKHRoaXMuaW1hZ2VVcmwpfVwiPjwvd2NtLXdhbGxldC1pbWFnZT5gIDogU3ZnVXRpbC5XQUxMRVRfQ09OTkVDVF9JQ09OX0NPTE9SRUR9ICR7dGhpcy5zdmdUZW1wbGF0ZSgpfTwvZGl2PmA7XG4gIH1cbn07XG5XY21RckNvZGUuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRrXTtcbl9fZGVjb3JhdGVDbGFzcyRvKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtUXJDb2RlLnByb3RvdHlwZSwgXCJ1cmlcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkbyhbXG4gIHByb3BlcnR5KHsgdHlwZTogTnVtYmVyIH0pXG5dLCBXY21RckNvZGUucHJvdG90eXBlLCBcInNpemVcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkbyhbXG4gIHByb3BlcnR5KClcbl0sIFdjbVFyQ29kZS5wcm90b3R5cGUsIFwiaW1hZ2VJZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRvKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtUXJDb2RlLnByb3RvdHlwZSwgXCJ3YWxsZXRJZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRvKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtUXJDb2RlLnByb3RvdHlwZSwgXCJpbWFnZVVybFwiLCAyKTtcbldjbVFyQ29kZSA9IF9fZGVjb3JhdGVDbGFzcyRvKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1xcmNvZGVcIilcbl0sIFdjbVFyQ29kZSk7XG5cbmNvbnN0IHN0eWxlcyRqID0gY3NzYDpob3N0e3Bvc2l0aW9uOnJlbGF0aXZlO2hlaWdodDoyOHB4O3dpZHRoOjgwJX1pbnB1dHt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2xpbmUtaGVpZ2h0OjI4cHghaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLWlucHV0LWJvcmRlci1yYWRpdXMpO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sc3lzdGVtLXVpLEJsaW5rTWFjU3lzdGVtRm9udCwnU2Vnb2UgVUknLFJvYm90byxVYnVudHUsJ0hlbHZldGljYSBOZXVlJyxzYW5zLXNlcmlmO2ZvbnQtZmVhdHVyZS1zZXR0aW5nczonY2FzZScgb247Zm9udC13ZWlnaHQ6NTAwO2ZvbnQtc2l6ZToxNnB4O2xldHRlci1zcGFjaW5nOi0uMDNlbTtwYWRkaW5nOjAgMTBweCAwIDM0cHg7dHJhbnNpdGlvbjouMnMgYWxsIGVhc2U7Y29sb3I6dmFyKC0td2NtLWNvbG9yLWZnLTEpO2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLWJnLTMpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4IHZhcigtLXdjbS1jb2xvci1vdmVybGF5KTtjYXJldC1jb2xvcjp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX1pbnB1dDo6cGxhY2Vob2xkZXJ7Y29sb3I6dmFyKC0td2NtLWNvbG9yLWZnLTIpfXN2Z3tsZWZ0OjEwcHg7dG9wOjRweDtwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHh9aW5wdXQ6Zm9jdXMtd2l0aGlue2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4IHZhcigtLXdjbS1hY2NlbnQtY29sb3IpfXBhdGh7ZmlsbDp2YXIoLS13Y20tY29sb3ItZmctMil9YDtcblxudmFyIF9fZGVmUHJvcCRuID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkbiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJG4gPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2Mkbih0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3Akbih0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtU2VhcmNoSW5wdXQgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMub25DaGFuZ2UgPSAoKSA9PiBudWxsO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGA8aW5wdXQgdHlwZT1cInRleHRcIiBAaW5wdXQ9XCIke3RoaXMub25DaGFuZ2V9XCIgcGxhY2Vob2xkZXI9XCJTZWFyY2ggd2FsbGV0c1wiPiAke1N2Z1V0aWwuU0VBUkNIX0lDT059YDtcbiAgfVxufTtcbldjbVNlYXJjaElucHV0LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkal07XG5fX2RlY29yYXRlQ2xhc3MkbihbXG4gIHByb3BlcnR5KClcbl0sIFdjbVNlYXJjaElucHV0LnByb3RvdHlwZSwgXCJvbkNoYW5nZVwiLCAyKTtcbldjbVNlYXJjaElucHV0ID0gX19kZWNvcmF0ZUNsYXNzJG4oW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXNlYXJjaC1pbnB1dFwiKVxuXSwgV2NtU2VhcmNoSW5wdXQpO1xuXG5jb25zdCBzdHlsZXMkaSA9IGNzc2BAa2V5ZnJhbWVzIHJvdGF0ZXsxMDAle3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19QGtleWZyYW1lcyBkYXNoezAle3N0cm9rZS1kYXNoYXJyYXk6MSwxNTA7c3Ryb2tlLWRhc2hvZmZzZXQ6MH01MCV7c3Ryb2tlLWRhc2hhcnJheTo5MCwxNTA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTM1fTEwMCV7c3Ryb2tlLWRhc2hhcnJheTo5MCwxNTA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTEyNH19c3Zne2FuaW1hdGlvbjpyb3RhdGUgMnMgbGluZWFyIGluZmluaXRlO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn1zdmcgY2lyY2xle3N0cm9rZS1saW5lY2FwOnJvdW5kO2FuaW1hdGlvbjpkYXNoIDEuNXMgZWFzZSBpbmZpbml0ZTtzdHJva2U6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9YDtcblxudmFyIF9fZGVmUHJvcCRtID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkbSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJG0gPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkbSh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkbSh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtU3Bpbm5lciA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGA8c3ZnIHZpZXdCb3g9XCIwIDAgNTAgNTBcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIj48Y2lyY2xlIGN4PVwiMjVcIiBjeT1cIjI1XCIgcj1cIjIwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCI0XCIgc3Ryb2tlPVwiI2ZmZlwiLz48L3N2Zz5gO1xuICB9XG59O1xuV2NtU3Bpbm5lci5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGldO1xuV2NtU3Bpbm5lciA9IF9fZGVjb3JhdGVDbGFzcyRtKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1zcGlubmVyXCIpXG5dLCBXY21TcGlubmVyKTtcblxuY29uc3Qgc3R5bGVzJGggPSBjc3Ngc3Bhbntmb250LXN0eWxlOm5vcm1hbDtmb250LWZhbWlseTp2YXIoLS13Y20tZm9udC1mYW1pbHkpO2ZvbnQtZmVhdHVyZS1zZXR0aW5nczp2YXIoLS13Y20tZm9udC1mZWF0dXJlLXNldHRpbmdzKX0ud2NtLXhzbWFsbC1ib2xke2ZvbnQtZmFtaWx5OnZhcigtLXdjbS10ZXh0LXhzbWFsbC1ib2xkLWZvbnQtZmFtaWx5KTtmb250LXdlaWdodDp2YXIoLS13Y20tdGV4dC14c21hbGwtYm9sZC13ZWlnaHQpO2ZvbnQtc2l6ZTp2YXIoLS13Y20tdGV4dC14c21hbGwtYm9sZC1zaXplKTtsaW5lLWhlaWdodDp2YXIoLS13Y20tdGV4dC14c21hbGwtYm9sZC1saW5lLWhlaWdodCk7bGV0dGVyLXNwYWNpbmc6dmFyKC0td2NtLXRleHQteHNtYWxsLWJvbGQtbGV0dGVyLXNwYWNpbmcpO3RleHQtdHJhbnNmb3JtOnZhcigtLXdjbS10ZXh0LXhzbWFsbC1ib2xkLXRleHQtdHJhbnNmb3JtKX0ud2NtLXhzbWFsbC1yZWd1bGFye2ZvbnQtZmFtaWx5OnZhcigtLXdjbS10ZXh0LXhzbWFsbC1yZWd1bGFyLWZvbnQtZmFtaWx5KTtmb250LXdlaWdodDp2YXIoLS13Y20tdGV4dC14c21hbGwtcmVndWxhci13ZWlnaHQpO2ZvbnQtc2l6ZTp2YXIoLS13Y20tdGV4dC14c21hbGwtcmVndWxhci1zaXplKTtsaW5lLWhlaWdodDp2YXIoLS13Y20tdGV4dC14c21hbGwtcmVndWxhci1saW5lLWhlaWdodCk7bGV0dGVyLXNwYWNpbmc6dmFyKC0td2NtLXRleHQteHNtYWxsLXJlZ3VsYXItbGV0dGVyLXNwYWNpbmcpO3RleHQtdHJhbnNmb3JtOnZhcigtLXdjbS10ZXh0LXhzbWFsbC1yZWd1bGFyLXRleHQtdHJhbnNmb3JtKX0ud2NtLXNtYWxsLXRoaW57Zm9udC1mYW1pbHk6dmFyKC0td2NtLXRleHQtc21hbGwtdGhpbi1mb250LWZhbWlseSk7Zm9udC13ZWlnaHQ6dmFyKC0td2NtLXRleHQtc21hbGwtdGhpbi13ZWlnaHQpO2ZvbnQtc2l6ZTp2YXIoLS13Y20tdGV4dC1zbWFsbC10aGluLXNpemUpO2xpbmUtaGVpZ2h0OnZhcigtLXdjbS10ZXh0LXNtYWxsLXRoaW4tbGluZS1oZWlnaHQpO2xldHRlci1zcGFjaW5nOnZhcigtLXdjbS10ZXh0LXNtYWxsLXRoaW4tbGV0dGVyLXNwYWNpbmcpO3RleHQtdHJhbnNmb3JtOnZhcigtLXdjbS10ZXh0LXNtYWxsLXRoaW4tdGV4dC10cmFuc2Zvcm0pfS53Y20tc21hbGwtcmVndWxhcntmb250LWZhbWlseTp2YXIoLS13Y20tdGV4dC1zbWFsbC1yZWd1bGFyLWZvbnQtZmFtaWx5KTtmb250LXdlaWdodDp2YXIoLS13Y20tdGV4dC1zbWFsbC1yZWd1bGFyLXdlaWdodCk7Zm9udC1zaXplOnZhcigtLXdjbS10ZXh0LXNtYWxsLXJlZ3VsYXItc2l6ZSk7bGluZS1oZWlnaHQ6dmFyKC0td2NtLXRleHQtc21hbGwtcmVndWxhci1saW5lLWhlaWdodCk7bGV0dGVyLXNwYWNpbmc6dmFyKC0td2NtLXRleHQtc21hbGwtcmVndWxhci1sZXR0ZXItc3BhY2luZyk7dGV4dC10cmFuc2Zvcm06dmFyKC0td2NtLXRleHQtc21hbGwtcmVndWxhci10ZXh0LXRyYW5zZm9ybSl9LndjbS1tZWRpdW0tcmVndWxhcntmb250LWZhbWlseTp2YXIoLS13Y20tdGV4dC1tZWRpdW0tcmVndWxhci1mb250LWZhbWlseSk7Zm9udC13ZWlnaHQ6dmFyKC0td2NtLXRleHQtbWVkaXVtLXJlZ3VsYXItd2VpZ2h0KTtmb250LXNpemU6dmFyKC0td2NtLXRleHQtbWVkaXVtLXJlZ3VsYXItc2l6ZSk7bGluZS1oZWlnaHQ6dmFyKC0td2NtLXRleHQtbWVkaXVtLXJlZ3VsYXItbGluZS1oZWlnaHQpO2xldHRlci1zcGFjaW5nOnZhcigtLXdjbS10ZXh0LW1lZGl1bS1yZWd1bGFyLWxldHRlci1zcGFjaW5nKTt0ZXh0LXRyYW5zZm9ybTp2YXIoLS13Y20tdGV4dC1tZWRpdW0tcmVndWxhci10ZXh0LXRyYW5zZm9ybSl9LndjbS1iaWctYm9sZHtmb250LWZhbWlseTp2YXIoLS13Y20tdGV4dC1iaWctYm9sZC1mb250LWZhbWlseSk7Zm9udC13ZWlnaHQ6dmFyKC0td2NtLXRleHQtYmlnLWJvbGQtd2VpZ2h0KTtmb250LXNpemU6dmFyKC0td2NtLXRleHQtYmlnLWJvbGQtc2l6ZSk7bGluZS1oZWlnaHQ6dmFyKC0td2NtLXRleHQtYmlnLWJvbGQtbGluZS1oZWlnaHQpO2xldHRlci1zcGFjaW5nOnZhcigtLXdjbS10ZXh0LWJpZy1ib2xkLWxldHRlci1zcGFjaW5nKTt0ZXh0LXRyYW5zZm9ybTp2YXIoLS13Y20tdGV4dC1iaWctYm9sZC10ZXh0LXRyYW5zZm9ybSl9Omhvc3QoKil7Y29sb3I6dmFyKC0td2NtLWNvbG9yLWZnLTEpfS53Y20tY29sb3ItcHJpbWFyeXtjb2xvcjp2YXIoLS13Y20tY29sb3ItZmctMSl9LndjbS1jb2xvci1zZWNvbmRhcnl7Y29sb3I6dmFyKC0td2NtLWNvbG9yLWZnLTIpfS53Y20tY29sb3ItdGVydGlhcnl7Y29sb3I6dmFyKC0td2NtLWNvbG9yLWZnLTMpfS53Y20tY29sb3ItaW52ZXJzZXtjb2xvcjp2YXIoLS13Y20tYWNjZW50LWZpbGwtY29sb3IpfS53Y20tY29sb3ItYWNjbnR7Y29sb3I6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9LndjbS1jb2xvci1lcnJvcntjb2xvcjp2YXIoLS13Y20tZXJyb3ItY29sb3IpfWA7XG5cbnZhciBfX2RlZlByb3AkbCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGwgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRsID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGwodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGwodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVRleHQgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMudmFyaWFudCA9IFwibWVkaXVtLXJlZ3VsYXJcIjtcbiAgICB0aGlzLmNvbG9yID0gXCJwcmltYXJ5XCI7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB7XG4gICAgICBcIndjbS1iaWctYm9sZFwiOiB0aGlzLnZhcmlhbnQgPT09IFwiYmlnLWJvbGRcIixcbiAgICAgIFwid2NtLW1lZGl1bS1yZWd1bGFyXCI6IHRoaXMudmFyaWFudCA9PT0gXCJtZWRpdW0tcmVndWxhclwiLFxuICAgICAgXCJ3Y20tc21hbGwtcmVndWxhclwiOiB0aGlzLnZhcmlhbnQgPT09IFwic21hbGwtcmVndWxhclwiLFxuICAgICAgXCJ3Y20tc21hbGwtdGhpblwiOiB0aGlzLnZhcmlhbnQgPT09IFwic21hbGwtdGhpblwiLFxuICAgICAgXCJ3Y20teHNtYWxsLXJlZ3VsYXJcIjogdGhpcy52YXJpYW50ID09PSBcInhzbWFsbC1yZWd1bGFyXCIsXG4gICAgICBcIndjbS14c21hbGwtYm9sZFwiOiB0aGlzLnZhcmlhbnQgPT09IFwieHNtYWxsLWJvbGRcIixcbiAgICAgIFwid2NtLWNvbG9yLXByaW1hcnlcIjogdGhpcy5jb2xvciA9PT0gXCJwcmltYXJ5XCIsXG4gICAgICBcIndjbS1jb2xvci1zZWNvbmRhcnlcIjogdGhpcy5jb2xvciA9PT0gXCJzZWNvbmRhcnlcIixcbiAgICAgIFwid2NtLWNvbG9yLXRlcnRpYXJ5XCI6IHRoaXMuY29sb3IgPT09IFwidGVydGlhcnlcIixcbiAgICAgIFwid2NtLWNvbG9yLWludmVyc2VcIjogdGhpcy5jb2xvciA9PT0gXCJpbnZlcnNlXCIsXG4gICAgICBcIndjbS1jb2xvci1hY2NudFwiOiB0aGlzLmNvbG9yID09PSBcImFjY2VudFwiLFxuICAgICAgXCJ3Y20tY29sb3ItZXJyb3JcIjogdGhpcy5jb2xvciA9PT0gXCJlcnJvclwiXG4gICAgfTtcbiAgICByZXR1cm4gaHRtbGA8c3Bhbj48c2xvdCBjbGFzcz1cIiR7Y2xhc3NNYXAoY2xhc3Nlcyl9XCI+PC9zbG90Pjwvc3Bhbj5gO1xuICB9XG59O1xuV2NtVGV4dC5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGhdO1xuX19kZWNvcmF0ZUNsYXNzJGwoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21UZXh0LnByb3RvdHlwZSwgXCJ2YXJpYW50XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGwoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21UZXh0LnByb3RvdHlwZSwgXCJjb2xvclwiLCAyKTtcbldjbVRleHQgPSBfX2RlY29yYXRlQ2xhc3MkbChbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tdGV4dFwiKVxuXSwgV2NtVGV4dCk7XG5cbmNvbnN0IHN0eWxlcyRnID0gY3NzYGJ1dHRvbnt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLWJ1dHRvbi1ob3Zlci1oaWdobGlnaHQtYm9yZGVyLXJhZGl1cyk7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmZsZXgtc3RhcnR9YnV0dG9uOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1AbWVkaWEoaG92ZXI6aG92ZXIpe2J1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX19YnV0dG9uPmRpdnt3aWR0aDo4MHB4O3BhZGRpbmc6NXB4IDA7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXJ9d2NtLXRleHR7d2lkdGg6MTAwJTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7dGV4dC1hbGlnbjpjZW50ZXJ9d2NtLXdhbGxldC1pbWFnZXtoZWlnaHQ6NjBweDt3aWR0aDo2MHB4O3RyYW5zaXRpb246YWxsIC4ycyBlYXNlO2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLXdhbGxldC1pY29uLWJvcmRlci1yYWRpdXMpO21hcmdpbi1ib3R0b206NXB4fS53Y20tc3VibGFiZWx7bWFyZ2luLXRvcDoycHh9YDtcblxudmFyIF9fZGVmUHJvcCRrID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkayA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGsgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2Mkayh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3Akayh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtV2FsbGV0QnV0dG9uID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLm9uQ2xpY2sgPSAoKSA9PiBudWxsO1xuICAgIHRoaXMubmFtZSA9IFwiXCI7XG4gICAgdGhpcy53YWxsZXRJZCA9IFwiXCI7XG4gICAgdGhpcy5sYWJlbCA9IHZvaWQgMDtcbiAgICB0aGlzLmltYWdlSWQgPSB2b2lkIDA7XG4gICAgdGhpcy5pbnN0YWxsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlY2VudCA9IGZhbHNlO1xuICB9XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHN1YmxhYmVsVGVtcGxhdGUoKSB7XG4gICAgaWYgKHRoaXMucmVjZW50KSB7XG4gICAgICByZXR1cm4gaHRtbGA8d2NtLXRleHQgY2xhc3M9XCJ3Y20tc3VibGFiZWxcIiB2YXJpYW50PVwieHNtYWxsLWJvbGRcIiBjb2xvcj1cInRlcnRpYXJ5XCI+UkVDRU5UPC93Y20tdGV4dD5gO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pbnN0YWxsZWQpIHtcbiAgICAgIHJldHVybiBodG1sYDx3Y20tdGV4dCBjbGFzcz1cIndjbS1zdWJsYWJlbFwiIHZhcmlhbnQ9XCJ4c21hbGwtYm9sZFwiIGNvbG9yPVwidGVydGlhcnlcIj5JTlNUQUxMRUQ8L3djbS10ZXh0PmA7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIEV2ZW50c0N0cmwuY2xpY2soeyBuYW1lOiBcIldBTExFVF9CVVRUT05cIiwgd2FsbGV0SWQ6IHRoaXMud2FsbGV0SWQgfSk7XG4gICAgdGhpcy5vbkNsaWNrKCk7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gaHRtbGA8YnV0dG9uIEBjbGljaz1cIiR7dGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpfVwiPjxkaXY+PHdjbS13YWxsZXQtaW1hZ2Ugd2FsbGV0SWQ9XCIke3RoaXMud2FsbGV0SWR9XCIgaW1hZ2VJZD1cIiR7aWZEZWZpbmVkKHRoaXMuaW1hZ2VJZCl9XCI+PC93Y20td2FsbGV0LWltYWdlPjx3Y20tdGV4dCB2YXJpYW50PVwieHNtYWxsLXJlZ3VsYXJcIj4keyhfYSA9IHRoaXMubGFiZWwpICE9IG51bGwgPyBfYSA6IFVpVXRpbC5nZXRXYWxsZXROYW1lKHRoaXMubmFtZSwgdHJ1ZSl9PC93Y20tdGV4dD4ke3RoaXMuc3VibGFiZWxUZW1wbGF0ZSgpfTwvZGl2PjwvYnV0dG9uPmA7XG4gIH1cbn07XG5XY21XYWxsZXRCdXR0b24uc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRnXTtcbl9fZGVjb3JhdGVDbGFzcyRrKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtV2FsbGV0QnV0dG9uLnByb3RvdHlwZSwgXCJvbkNsaWNrXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGsoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21XYWxsZXRCdXR0b24ucHJvdG90eXBlLCBcIm5hbWVcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkayhbXG4gIHByb3BlcnR5KClcbl0sIFdjbVdhbGxldEJ1dHRvbi5wcm90b3R5cGUsIFwid2FsbGV0SWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkayhbXG4gIHByb3BlcnR5KClcbl0sIFdjbVdhbGxldEJ1dHRvbi5wcm90b3R5cGUsIFwibGFiZWxcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkayhbXG4gIHByb3BlcnR5KClcbl0sIFdjbVdhbGxldEJ1dHRvbi5wcm90b3R5cGUsIFwiaW1hZ2VJZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRrKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXY21XYWxsZXRCdXR0b24ucHJvdG90eXBlLCBcImluc3RhbGxlZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRrKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXY21XYWxsZXRCdXR0b24ucHJvdG90eXBlLCBcInJlY2VudFwiLCAyKTtcbldjbVdhbGxldEJ1dHRvbiA9IF9fZGVjb3JhdGVDbGFzcyRrKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS13YWxsZXQtYnV0dG9uXCIpXG5dLCBXY21XYWxsZXRCdXR0b24pO1xuXG5jb25zdCBzdHlsZXMkZiA9IGNzc2A6aG9zdHtkaXNwbGF5OmJsb2NrfWRpdntvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXJhZGl1czppbmhlcml0O3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9c3Zne3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9ZGl2OjphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO2JvcmRlci1yYWRpdXM6aW5oZXJpdDtib3JkZXI6MXB4IHNvbGlkIHZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1kaXYgaW1ne3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b2JqZWN0LWZpdDpjb3ZlcjtvYmplY3QtcG9zaXRpb246Y2VudGVyfSN3YWxsZXQtcGxhY2Vob2xkZXItZmlsbHtmaWxsOnZhcigtLXdjbS1jb2xvci1iZy0zKX0jd2FsbGV0LXBsYWNlaG9sZGVyLWRhc2h7c3Ryb2tlOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1gO1xuXG52YXIgX19kZWZQcm9wJGogPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRqID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkaiA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRqKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRqKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21XYWxsZXRJbWFnZSA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy53YWxsZXRJZCA9IFwiXCI7XG4gICAgdGhpcy5pbWFnZUlkID0gdm9pZCAwO1xuICAgIHRoaXMuaW1hZ2VVcmwgPSB2b2lkIDA7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBzcmMgPSAoKF9hID0gdGhpcy5pbWFnZVVybCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPyB0aGlzLmltYWdlVXJsIDogVWlVdGlsLmdldFdhbGxldEljb24oeyBpZDogdGhpcy53YWxsZXRJZCwgaW1hZ2VfaWQ6IHRoaXMuaW1hZ2VJZCB9KTtcbiAgICByZXR1cm4gaHRtbGAke3NyYy5sZW5ndGggPyBodG1sYDxkaXY+PGltZyBjcm9zc29yaWdpbj1cImFub255bW91c1wiIHNyYz1cIiR7c3JjfVwiIGFsdD1cIiR7dGhpcy5pZH1cIj48L2Rpdj5gIDogU3ZnVXRpbC5XQUxMRVRfUExBQ0VIT0xERVJ9YDtcbiAgfVxufTtcbldjbVdhbGxldEltYWdlLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkZl07XG5fX2RlY29yYXRlQ2xhc3MkaihbXG4gIHByb3BlcnR5KClcbl0sIFdjbVdhbGxldEltYWdlLnByb3RvdHlwZSwgXCJ3YWxsZXRJZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRqKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtV2FsbGV0SW1hZ2UucHJvdG90eXBlLCBcImltYWdlSWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkaihbXG4gIHByb3BlcnR5KClcbl0sIFdjbVdhbGxldEltYWdlLnByb3RvdHlwZSwgXCJpbWFnZVVybFwiLCAyKTtcbldjbVdhbGxldEltYWdlID0gX19kZWNvcmF0ZUNsYXNzJGooW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXdhbGxldC1pbWFnZVwiKVxuXSwgV2NtV2FsbGV0SW1hZ2UpO1xuXG52YXIgX19kZWZQcm9wJGkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRpID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkaSA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRpKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRpKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21FeHBsb3JlckNvbnRleHQgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBsaWZlY3ljbGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMucHJlbG9hZCA9IHRydWU7XG4gICAgdGhpcy5wcmVsb2FkRGF0YSgpO1xuICB9XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGFzeW5jIGxvYWRJbWFnZXMoaW1hZ2VzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpbWFnZXMgPT0gbnVsbCA/IHZvaWQgMCA6IGltYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoaW1hZ2VzLm1hcChhc3luYyAodXJsKSA9PiBVaVV0aWwucHJlbG9hZEltYWdlKHVybCkpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmluZm8oXCJVbnN1Y2Nlc3NmdWwgYXR0ZW1wdCBhdCBwcmVsb2FkaW5nIHNvbWUgaW1hZ2VzXCIsIGltYWdlcyk7XG4gICAgfVxuICB9XG4gIGFzeW5jIHByZWxvYWRMaXN0aW5ncygpIHtcbiAgICBpZiAoQ29uZmlnQ3RybC5zdGF0ZS5lbmFibGVFeHBsb3Jlcikge1xuICAgICAgYXdhaXQgRXhwbG9yZXJDdHJsLmdldFJlY29tZW5kZWRXYWxsZXRzKCk7XG4gICAgICBPcHRpb25zQ3RybC5zZXRJc0RhdGFMb2FkZWQodHJ1ZSk7XG4gICAgICBjb25zdCB7IHJlY29tZW5kZWRXYWxsZXRzIH0gPSBFeHBsb3JlckN0cmwuc3RhdGU7XG4gICAgICBjb25zdCB3YWxsZXRJbWdzID0gcmVjb21lbmRlZFdhbGxldHMubWFwKCh3YWxsZXQpID0+IFVpVXRpbC5nZXRXYWxsZXRJY29uKHdhbGxldCkpO1xuICAgICAgYXdhaXQgdGhpcy5sb2FkSW1hZ2VzKHdhbGxldEltZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBPcHRpb25zQ3RybC5zZXRJc0RhdGFMb2FkZWQodHJ1ZSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIHByZWxvYWRDdXN0b21JbWFnZXMoKSB7XG4gICAgY29uc3QgaW1hZ2VzID0gVWlVdGlsLmdldEN1c3RvbUltYWdlVXJscygpO1xuICAgIGF3YWl0IHRoaXMubG9hZEltYWdlcyhpbWFnZXMpO1xuICB9XG4gIGFzeW5jIHByZWxvYWREYXRhKCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy5wcmVsb2FkKSB7XG4gICAgICAgIHRoaXMucHJlbG9hZCA9IGZhbHNlO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wcmVsb2FkTGlzdGluZ3MoKSwgdGhpcy5wcmVsb2FkQ3VzdG9tSW1hZ2VzKCldKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIFRvYXN0Q3RybC5vcGVuVG9hc3QoXCJGYWlsZWQgcHJlbG9hZGluZ1wiLCBcImVycm9yXCIpO1xuICAgIH1cbiAgfVxufTtcbl9fZGVjb3JhdGVDbGFzcyRpKFtcbiAgc3RhdGUoKVxuXSwgV2NtRXhwbG9yZXJDb250ZXh0LnByb3RvdHlwZSwgXCJwcmVsb2FkXCIsIDIpO1xuV2NtRXhwbG9yZXJDb250ZXh0ID0gX19kZWNvcmF0ZUNsYXNzJGkoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLWV4cGxvcmVyLWNvbnRleHRcIilcbl0sIFdjbUV4cGxvcmVyQ29udGV4dCk7XG5cbnZhciBfX2RlZlByb3AkaCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGggPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRoID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGgodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGgodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVRoZW1lQ29udGV4dCA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIGxpZmVjeWNsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgICB0aGlzLnVuc3Vic2NyaWJlVGhlbWUgPSB2b2lkIDA7XG4gICAgVGhlbWVVdGlsLnNldFRoZW1lKCk7XG4gICAgdGhpcy51bnN1YnNjcmliZVRoZW1lID0gVGhlbWVDdHJsLnN1YnNjcmliZShUaGVtZVV0aWwuc2V0VGhlbWUpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLnVuc3Vic2NyaWJlVGhlbWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpO1xuICB9XG59O1xuV2NtVGhlbWVDb250ZXh0ID0gX19kZWNvcmF0ZUNsYXNzJGgoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXRoZW1lLWNvbnRleHRcIilcbl0sIFdjbVRoZW1lQ29udGV4dCk7XG5cbmNvbnN0IHN0eWxlcyRlID0gY3NzYEBrZXlmcmFtZXMgc2Nyb2xsezAle3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoY2FsYygtNzBweCAqIDkpLDAsMCl9fS53Y20tc2xpZGVye3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93LXg6aGlkZGVuO3BhZGRpbmc6MTBweCAwO21hcmdpbjowIC0yMHB4O3dpZHRoOmNhbGMoMTAwJSArIDQwcHgpfS53Y20tdHJhY2t7ZGlzcGxheTpmbGV4O3dpZHRoOmNhbGMoNzBweCAqIDE4KTthbmltYXRpb246c2Nyb2xsIDIwcyBsaW5lYXIgaW5maW5pdGU7b3BhY2l0eTouN30ud2NtLXRyYWNrIHN2Z3ttYXJnaW46MCA1cHh9d2NtLXdhbGxldC1pbWFnZXt3aWR0aDo2MHB4O2hlaWdodDo2MHB4O21hcmdpbjowIDVweDtib3JkZXItcmFkaXVzOnZhcigtLXdjbS13YWxsZXQtaWNvbi1ib3JkZXItcmFkaXVzKX0ud2NtLWdyaWR7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoNCw4MHB4KTtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0ud2NtLXRpdGxle2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luLWJvdHRvbToxMHB4fS53Y20tdGl0bGUgc3Zne21hcmdpbi1yaWdodDo2cHh9LndjbS10aXRsZSBwYXRoe2ZpbGw6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9d2NtLW1vZGFsLWZvb3RlciAud2NtLXRpdGxle3BhZGRpbmc6MCAxMHB4fXdjbS1idXR0b24tYmlne3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgtNTAlKTtmaWx0ZXI6ZHJvcC1zaGFkb3coMCAwIDE3cHggdmFyKC0td2NtLWNvbG9yLWJnLTEpKX13Y20taW5mby1mb290ZXJ7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJTtwYWRkaW5nOjVweCAwfXdjbS1pbmZvLWZvb3RlciB3Y20tdGV4dHt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tYm90dG9tOjE1cHh9I3dhbGxldC1wbGFjZWhvbGRlci1maWxse2ZpbGw6dmFyKC0td2NtLWNvbG9yLWJnLTMpfSN3YWxsZXQtcGxhY2Vob2xkZXItZGFzaHtzdHJva2U6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfWA7XG5cbnZhciBfX2RlZlByb3AkZyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGcgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRnID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGcodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGcodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbUFuZHJvaWRXYWxsZXRTZWxlY3Rpb24gPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBvbkdvVG9RcmNvZGUoKSB7XG4gICAgUm91dGVyQ3RybC5wdXNoKFwiUXJjb2RlXCIpO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHJlY29tZW5kZWRXYWxsZXRzIH0gPSBFeHBsb3JlckN0cmwuc3RhdGU7XG4gICAgY29uc3Qgd2FsbGV0cyA9IFsuLi5yZWNvbWVuZGVkV2FsbGV0cywgLi4ucmVjb21lbmRlZFdhbGxldHNdO1xuICAgIGNvbnN0IHJlY29tZW5kZWRDb3VudCA9IENvcmVVdGlsLlJFQ09NTUVOREVEX1dBTExFVF9BTU9VTlQgKiAyO1xuICAgIHJldHVybiBodG1sYDx3Y20tbW9kYWwtaGVhZGVyIHRpdGxlPVwiQ29ubmVjdCB5b3VyIHdhbGxldFwiIC5vbkFjdGlvbj1cIiR7dGhpcy5vbkdvVG9RcmNvZGV9XCIgLmFjdGlvbkljb249XCIke1N2Z1V0aWwuUVJDT0RFX0lDT059XCI+PC93Y20tbW9kYWwtaGVhZGVyPjx3Y20tbW9kYWwtY29udGVudD48ZGl2IGNsYXNzPVwid2NtLXRpdGxlXCI+JHtTdmdVdGlsLk1PQklMRV9JQ09OfTx3Y20tdGV4dCB2YXJpYW50PVwic21hbGwtcmVndWxhclwiIGNvbG9yPVwiYWNjZW50XCI+V2FsbGV0Q29ubmVjdDwvd2NtLXRleHQ+PC9kaXY+PGRpdiBjbGFzcz1cIndjbS1zbGlkZXJcIj48ZGl2IGNsYXNzPVwid2NtLXRyYWNrXCI+JHtbLi4uQXJyYXkocmVjb21lbmRlZENvdW50KV0ubWFwKChfLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3Qgd2FsbGV0ID0gd2FsbGV0c1tpbmRleCAlIHdhbGxldHMubGVuZ3RoXTtcbiAgICAgIHJldHVybiB3YWxsZXQgPyBodG1sYDx3Y20td2FsbGV0LWltYWdlIHdhbGxldElkPVwiJHt3YWxsZXQuaWR9XCIgaW1hZ2VJZD1cIiR7d2FsbGV0LmltYWdlX2lkfVwiPjwvd2NtLXdhbGxldC1pbWFnZT5gIDogU3ZnVXRpbC5XQUxMRVRfUExBQ0VIT0xERVI7XG4gICAgfSl9PC9kaXY+PHdjbS1idXR0b24tYmlnIEBjbGljaz1cIiR7VWlVdGlsLmhhbmRsZUFuZHJvaWRMaW5raW5nfVwiPjx3Y20tdGV4dCB2YXJpYW50PVwibWVkaXVtLXJlZ3VsYXJcIiBjb2xvcj1cImludmVyc2VcIj5TZWxlY3QgV2FsbGV0PC93Y20tdGV4dD48L3djbS1idXR0b24tYmlnPjwvZGl2Pjwvd2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS1pbmZvLWZvb3Rlcj48d2NtLXRleHQgY29sb3I9XCJzZWNvbmRhcnlcIiB2YXJpYW50PVwic21hbGwtdGhpblwiPkNob29zZSBXYWxsZXRDb25uZWN0IHRvIHNlZSBzdXBwb3J0ZWQgYXBwcyBvbiB5b3VyIGRldmljZTwvd2NtLXRleHQ+PC93Y20taW5mby1mb290ZXI+YDtcbiAgfVxufTtcbldjbUFuZHJvaWRXYWxsZXRTZWxlY3Rpb24uc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRlXTtcbldjbUFuZHJvaWRXYWxsZXRTZWxlY3Rpb24gPSBfX2RlY29yYXRlQ2xhc3MkZyhbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tYW5kcm9pZC13YWxsZXQtc2VsZWN0aW9uXCIpXG5dLCBXY21BbmRyb2lkV2FsbGV0U2VsZWN0aW9uKTtcblxuY29uc3Qgc3R5bGVzJGQgPSBjc3NgQGtleWZyYW1lcyBsb2FkaW5ne3Rve3N0cm9rZS1kYXNob2Zmc2V0OjB9fUBrZXlmcmFtZXMgc2hha2V7MTAlLDkwJXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTFweCwwLDApfTIwJSw4MCV7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDFweCwwLDApfTMwJSw1MCUsNzAle3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMnB4LDAsMCl9NDAlLDYwJXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMnB4LDAsMCl9fTpob3N0e2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyfWRpdntwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMTBweDtoZWlnaHQ6MTEwcHg7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbjo0MHB4IDAgMjBweCAwO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9c3Zne3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjExMHB4O2hlaWdodDoxMTBweDtmaWxsOm5vbmU7c3Ryb2tlOnRyYW5zcGFyZW50O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS13aWR0aDoycHg7dG9wOjA7bGVmdDowfXVzZXtzdHJva2U6dmFyKC0td2NtLWFjY2VudC1jb2xvcik7YW5pbWF0aW9uOmxvYWRpbmcgMXMgbGluZWFyIGluZmluaXRlfXdjbS13YWxsZXQtaW1hZ2V7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20td2FsbGV0LWljb24tbGFyZ2UtYm9yZGVyLXJhZGl1cyk7d2lkdGg6OTBweDtoZWlnaHQ6OTBweH13Y20tdGV4dHttYXJnaW4tYm90dG9tOjQwcHh9LndjbS1lcnJvciBzdmd7c3Ryb2tlOnZhcigtLXdjbS1lcnJvci1jb2xvcil9LndjbS1lcnJvciB1c2V7ZGlzcGxheTpub25lfS53Y20tZXJyb3J7YW5pbWF0aW9uOnNoYWtlIC40cyBjdWJpYy1iZXppZXIoLjM2LC4wNywuMTksLjk3KSBib3RofS53Y20tc3RhbGUgc3ZnLC53Y20tc3RhbGUgdXNle2Rpc3BsYXk6bm9uZX1gO1xuXG52YXIgX19kZWZQcm9wJGYgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRmID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkZiA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRmKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRmKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Db25uZWN0b3JXYWl0aW5nID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLndhbGxldElkID0gdm9pZCAwO1xuICAgIHRoaXMuaW1hZ2VJZCA9IHZvaWQgMDtcbiAgICB0aGlzLmlzRXJyb3IgPSBmYWxzZTtcbiAgICB0aGlzLmlzU3RhbGUgPSBmYWxzZTtcbiAgICB0aGlzLmxhYmVsID0gXCJcIjtcbiAgfVxuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBzdmdMb2FkZXJUZW1wbGF0ZSgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IElDT05fU0laRSA9IDg4O1xuICAgIGNvbnN0IERIX0FSUkFZID0gMzE3O1xuICAgIGNvbnN0IERIX09GRlNFVCA9IDQyNTtcbiAgICBjb25zdCByYWRpdXMgPSAoX2IgPSAoX2EgPSBUaGVtZUN0cmwuc3RhdGUudGhlbWVWYXJpYWJsZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYVtcIi0td2NtLXdhbGxldC1pY29uLWxhcmdlLWJvcmRlci1yYWRpdXNcIl0pICE9IG51bGwgPyBfYiA6IFRoZW1lVXRpbC5nZXRQcmVzZXQoXCItLXdjbS13YWxsZXQtaWNvbi1sYXJnZS1ib3JkZXItcmFkaXVzXCIpO1xuICAgIGxldCBudW1SYWRpdXMgPSAwO1xuICAgIGlmIChyYWRpdXMuaW5jbHVkZXMoXCIlXCIpKSB7XG4gICAgICBudW1SYWRpdXMgPSBJQ09OX1NJWkUgLyAxMDAgKiBwYXJzZUludChyYWRpdXMsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbnVtUmFkaXVzID0gcGFyc2VJbnQocmFkaXVzLCAxMCk7XG4gICAgfVxuICAgIG51bVJhZGl1cyAqPSAxLjE3O1xuICAgIGNvbnN0IGRhc2hBcnJheSA9IERIX0FSUkFZIC0gbnVtUmFkaXVzICogMS41NztcbiAgICBjb25zdCBkYXNoT2Zmc2V0ID0gREhfT0ZGU0VUIC0gbnVtUmFkaXVzICogMS44O1xuICAgIHJldHVybiBodG1sYDxzdmcgdmlld0JveD1cIjAgMCAxMTAgMTEwXCIgd2lkdGg9XCIxMTBcIiBoZWlnaHQ9XCIxMTBcIj48cmVjdCBpZD1cIndjbS1sb2FkZXJcIiB4PVwiMlwiIHk9XCIyXCIgd2lkdGg9XCIxMDZcIiBoZWlnaHQ9XCIxMDZcIiByeD1cIiR7bnVtUmFkaXVzfVwiLz48dXNlIHhsaW5rOmhyZWY9XCIjd2NtLWxvYWRlclwiIHN0cm9rZS1kYXNoYXJyYXk9XCIxMDYgJHtkYXNoQXJyYXl9XCIgc3Ryb2tlLWRhc2hvZmZzZXQ9XCIke2Rhc2hPZmZzZXR9XCI+PC91c2U+PC9zdmc+YDtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFwid2NtLWVycm9yXCI6IHRoaXMuaXNFcnJvcixcbiAgICAgIFwid2NtLXN0YWxlXCI6IHRoaXMuaXNTdGFsZVxuICAgIH07XG4gICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cIiR7Y2xhc3NNYXAoY2xhc3Nlcyl9XCI+JHt0aGlzLnN2Z0xvYWRlclRlbXBsYXRlKCl9PHdjbS13YWxsZXQtaW1hZ2Ugd2FsbGV0SWQ9XCIke2lmRGVmaW5lZCh0aGlzLndhbGxldElkKX1cIiBpbWFnZUlkPVwiJHtpZkRlZmluZWQodGhpcy5pbWFnZUlkKX1cIj48L3djbS13YWxsZXQtaW1hZ2U+PC9kaXY+PHdjbS10ZXh0IHZhcmlhbnQ9XCJtZWRpdW0tcmVndWxhclwiIGNvbG9yPVwiJHt0aGlzLmlzRXJyb3IgPyBcImVycm9yXCIgOiBcInByaW1hcnlcIn1cIj4ke3RoaXMuaXNFcnJvciA/IFwiQ29ubmVjdGlvbiBkZWNsaW5lZFwiIDogdGhpcy5sYWJlbH08L3djbS10ZXh0PmA7XG4gIH1cbn07XG5XY21Db25uZWN0b3JXYWl0aW5nLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkZF07XG5fX2RlY29yYXRlQ2xhc3MkZihbXG4gIHByb3BlcnR5KClcbl0sIFdjbUNvbm5lY3RvcldhaXRpbmcucHJvdG90eXBlLCBcIndhbGxldElkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGYoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21Db25uZWN0b3JXYWl0aW5nLnByb3RvdHlwZSwgXCJpbWFnZUlkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGYoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFdjbUNvbm5lY3RvcldhaXRpbmcucHJvdG90eXBlLCBcImlzRXJyb3JcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkZihbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV2NtQ29ubmVjdG9yV2FpdGluZy5wcm90b3R5cGUsIFwiaXNTdGFsZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRmKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtQ29ubmVjdG9yV2FpdGluZy5wcm90b3R5cGUsIFwibGFiZWxcIiwgMik7XG5XY21Db25uZWN0b3JXYWl0aW5nID0gX19kZWNvcmF0ZUNsYXNzJGYoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLWNvbm5lY3Rvci13YWl0aW5nXCIpXG5dLCBXY21Db25uZWN0b3JXYWl0aW5nKTtcblxuY29uc3QgRGF0YVV0aWwgPSB7XG4gIG1hbnVhbFdhbGxldHMoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB7IG1vYmlsZVdhbGxldHMsIGRlc2t0b3BXYWxsZXRzIH0gPSBDb25maWdDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHJlY2VudFdhbGxldElkID0gKF9hID0gRGF0YVV0aWwucmVjZW50V2FsbGV0KCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pZDtcbiAgICBjb25zdCBwbGF0Zm9ybVdhbGxldHMgPSBDb3JlVXRpbC5pc01vYmlsZSgpID8gbW9iaWxlV2FsbGV0cyA6IGRlc2t0b3BXYWxsZXRzO1xuICAgIGNvbnN0IHdhbGxldHMgPSBwbGF0Zm9ybVdhbGxldHMgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtV2FsbGV0cy5maWx0ZXIoKHdhbGxldCkgPT4gcmVjZW50V2FsbGV0SWQgIT09IHdhbGxldC5pZCk7XG4gICAgcmV0dXJuIChfYiA9IENvcmVVdGlsLmlzTW9iaWxlKCkgPyB3YWxsZXRzID09IG51bGwgPyB2b2lkIDAgOiB3YWxsZXRzLm1hcCgoeyBpZCwgbmFtZSwgbGlua3MgfSkgPT4gKHsgaWQsIG5hbWUsIG1vYmlsZTogbGlua3MsIGxpbmtzIH0pKSA6IHdhbGxldHMgPT0gbnVsbCA/IHZvaWQgMCA6IHdhbGxldHMubWFwKCh7IGlkLCBuYW1lLCBsaW5rcyB9KSA9PiAoeyBpZCwgbmFtZSwgZGVza3RvcDogbGlua3MsIGxpbmtzIH0pKSkgIT0gbnVsbCA/IF9iIDogW107XG4gIH0sXG4gIHJlY2VudFdhbGxldCgpIHtcbiAgICByZXR1cm4gVWlVdGlsLmdldFJlY2VudFdhbGxldCgpO1xuICB9LFxuICByZWNvbWVuZGVkV2FsbGV0cyhza2lwUmVjZW50ID0gZmFsc2UpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmVjZW50V2FsbGV0SWQgPSBza2lwUmVjZW50ID8gdm9pZCAwIDogKF9hID0gRGF0YVV0aWwucmVjZW50V2FsbGV0KCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pZDtcbiAgICBjb25zdCB7IHJlY29tZW5kZWRXYWxsZXRzIH0gPSBFeHBsb3JlckN0cmwuc3RhdGU7XG4gICAgY29uc3Qgd2FsbGV0cyA9IHJlY29tZW5kZWRXYWxsZXRzLmZpbHRlcigod2FsbGV0KSA9PiByZWNlbnRXYWxsZXRJZCAhPT0gd2FsbGV0LmlkKTtcbiAgICByZXR1cm4gd2FsbGV0cztcbiAgfVxufTtcblxuY29uc3QgVGVtcGxhdGVVdGlsID0ge1xuICBvbkNvbm5lY3RpbmcoZGF0YSkge1xuICAgIFVpVXRpbC5nb1RvQ29ubmVjdGluZ1ZpZXcoZGF0YSk7XG4gIH0sXG4gIG1hbnVhbFdhbGxldHNUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCB3YWxsZXRzID0gRGF0YVV0aWwubWFudWFsV2FsbGV0cygpO1xuICAgIHJldHVybiB3YWxsZXRzLm1hcChcbiAgICAgICh3YWxsZXQpID0+IGh0bWxgPHdjbS13YWxsZXQtYnV0dG9uIHdhbGxldElkPVwiJHt3YWxsZXQuaWR9XCIgbmFtZT1cIiR7d2FsbGV0Lm5hbWV9XCIgLm9uQ2xpY2s9XCIkeygpID0+IHRoaXMub25Db25uZWN0aW5nKHdhbGxldCl9XCI+PC93Y20td2FsbGV0LWJ1dHRvbj5gXG4gICAgKTtcbiAgfSxcbiAgcmVjb21lbmRlZFdhbGxldHNUZW1wbGF0ZShza2lwUmVjZW50ID0gZmFsc2UpIHtcbiAgICBjb25zdCB3YWxsZXRzID0gRGF0YVV0aWwucmVjb21lbmRlZFdhbGxldHMoc2tpcFJlY2VudCk7XG4gICAgcmV0dXJuIHdhbGxldHMubWFwKFxuICAgICAgKHdhbGxldCkgPT4gaHRtbGA8d2NtLXdhbGxldC1idXR0b24gbmFtZT1cIiR7d2FsbGV0Lm5hbWV9XCIgd2FsbGV0SWQ9XCIke3dhbGxldC5pZH1cIiBpbWFnZUlkPVwiJHt3YWxsZXQuaW1hZ2VfaWR9XCIgLm9uQ2xpY2s9XCIkeygpID0+IHRoaXMub25Db25uZWN0aW5nKHdhbGxldCl9XCI+PC93Y20td2FsbGV0LWJ1dHRvbj5gXG4gICAgKTtcbiAgfSxcbiAgcmVjZW50V2FsbGV0VGVtcGxhdGUoKSB7XG4gICAgY29uc3Qgd2FsbGV0ID0gRGF0YVV0aWwucmVjZW50V2FsbGV0KCk7XG4gICAgaWYgKCF3YWxsZXQpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBodG1sYDx3Y20td2FsbGV0LWJ1dHRvbiBuYW1lPVwiJHt3YWxsZXQubmFtZX1cIiB3YWxsZXRJZD1cIiR7d2FsbGV0LmlkfVwiIGltYWdlSWQ9XCIke2lmRGVmaW5lZCh3YWxsZXQuaW1hZ2VfaWQpfVwiIC5yZWNlbnQ9XCIke3RydWV9XCIgLm9uQ2xpY2s9XCIkeygpID0+IHRoaXMub25Db25uZWN0aW5nKHdhbGxldCl9XCI+PC93Y20td2FsbGV0LWJ1dHRvbj5gO1xuICB9XG59O1xuXG5jb25zdCBzdHlsZXMkYyA9IGNzc2Aud2NtLWdyaWR7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoNCw4MHB4KTtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0ud2NtLWRlc2t0b3AtdGl0bGUsLndjbS1tb2JpbGUtdGl0bGV7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0ud2NtLW1vYmlsZS10aXRsZXtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjttYXJnaW4tYm90dG9tOjIwcHg7bWFyZ2luLXRvcDotMTBweH0ud2NtLWRlc2t0b3AtdGl0bGV7bWFyZ2luLWJvdHRvbToxMHB4O3BhZGRpbmc6MCAxMHB4fS53Y20tc3VidGl0bGV7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0ud2NtLXN1YnRpdGxlOmxhc3QtY2hpbGQgcGF0aHtmaWxsOnZhcigtLXdjbS1jb2xvci1mZy0zKX0ud2NtLWRlc2t0b3AtdGl0bGUgc3ZnLC53Y20tbW9iaWxlLXRpdGxlIHN2Z3ttYXJnaW4tcmlnaHQ6NnB4fS53Y20tZGVza3RvcC10aXRsZSBwYXRoLC53Y20tbW9iaWxlLXRpdGxlIHBhdGh7ZmlsbDp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX1gO1xuXG52YXIgX19kZWZQcm9wJGUgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkZSA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRlKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRlKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21EZXNrdG9wV2FsbGV0U2VsZWN0aW9uID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkcywgZW5hYmxlRXhwbG9yZXIgfSA9IENvbmZpZ0N0cmwuc3RhdGU7XG4gICAgY29uc3QgaXNFeHBsb3JlcldhbGxldHMgPSBleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzICE9PSBcIkFMTFwiICYmIGVuYWJsZUV4cGxvcmVyO1xuICAgIGNvbnN0IG1hbnVhbFRlbXBsYXRlID0gVGVtcGxhdGVVdGlsLm1hbnVhbFdhbGxldHNUZW1wbGF0ZSgpO1xuICAgIGNvbnN0IHJlY29tZW5kZWRUZW1wbGF0ZSA9IFRlbXBsYXRlVXRpbC5yZWNvbWVuZGVkV2FsbGV0c1RlbXBsYXRlKCk7XG4gICAgY29uc3QgcmVjZW50VGVtcGxhdGUgPSBUZW1wbGF0ZVV0aWwucmVjZW50V2FsbGV0VGVtcGxhdGUoKTtcbiAgICBsZXQgdGVtcGxhdGVzID0gW3JlY2VudFRlbXBsYXRlLCAuLi5tYW51YWxUZW1wbGF0ZSwgLi4ucmVjb21lbmRlZFRlbXBsYXRlXTtcbiAgICB0ZW1wbGF0ZXMgPSB0ZW1wbGF0ZXMuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGNvbnN0IGlzVmlld0FsbCA9IHRlbXBsYXRlcy5sZW5ndGggPiA0IHx8IGlzRXhwbG9yZXJXYWxsZXRzO1xuICAgIGxldCB3YWxsZXRzID0gW107XG4gICAgaWYgKGlzVmlld0FsbCkge1xuICAgICAgd2FsbGV0cyA9IHRlbXBsYXRlcy5zbGljZSgwLCAzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FsbGV0cyA9IHRlbXBsYXRlcztcbiAgICB9XG4gICAgY29uc3QgaXNXYWxsZXRzID0gQm9vbGVhbih3YWxsZXRzLmxlbmd0aCk7XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1tb2RhbC1oZWFkZXIgLmJvcmRlcj1cIiR7dHJ1ZX1cIiB0aXRsZT1cIkNvbm5lY3QgeW91ciB3YWxsZXRcIiAub25BY3Rpb249XCIke1VpVXRpbC5oYW5kbGVVcmlDb3B5fVwiIC5hY3Rpb25JY29uPVwiJHtTdmdVdGlsLkNPUFlfSUNPTn1cIj48L3djbS1tb2RhbC1oZWFkZXI+PHdjbS1tb2RhbC1jb250ZW50PjxkaXYgY2xhc3M9XCJ3Y20tbW9iaWxlLXRpdGxlXCI+PGRpdiBjbGFzcz1cIndjbS1zdWJ0aXRsZVwiPiR7U3ZnVXRpbC5NT0JJTEVfSUNPTn08d2NtLXRleHQgdmFyaWFudD1cInNtYWxsLXJlZ3VsYXJcIiBjb2xvcj1cImFjY2VudFwiPk1vYmlsZTwvd2NtLXRleHQ+PC9kaXY+PGRpdiBjbGFzcz1cIndjbS1zdWJ0aXRsZVwiPiR7U3ZnVXRpbC5TQ0FOX0lDT059PHdjbS10ZXh0IHZhcmlhbnQ9XCJzbWFsbC1yZWd1bGFyXCIgY29sb3I9XCJzZWNvbmRhcnlcIj5TY2FuIHdpdGggeW91ciB3YWxsZXQ8L3djbS10ZXh0PjwvZGl2PjwvZGl2Pjx3Y20td2FsbGV0Y29ubmVjdC1xcj48L3djbS13YWxsZXRjb25uZWN0LXFyPjwvd2NtLW1vZGFsLWNvbnRlbnQ+JHtpc1dhbGxldHMgPyBodG1sYDx3Y20tbW9kYWwtZm9vdGVyPjxkaXYgY2xhc3M9XCJ3Y20tZGVza3RvcC10aXRsZVwiPiR7U3ZnVXRpbC5ERVNLVE9QX0lDT059PHdjbS10ZXh0IHZhcmlhbnQ9XCJzbWFsbC1yZWd1bGFyXCIgY29sb3I9XCJhY2NlbnRcIj5EZXNrdG9wPC93Y20tdGV4dD48L2Rpdj48ZGl2IGNsYXNzPVwid2NtLWdyaWRcIj4ke3dhbGxldHN9ICR7aXNWaWV3QWxsID8gaHRtbGA8d2NtLXZpZXctYWxsLXdhbGxldHMtYnV0dG9uPjwvd2NtLXZpZXctYWxsLXdhbGxldHMtYnV0dG9uPmAgOiBudWxsfTwvZGl2Pjwvd2NtLW1vZGFsLWZvb3Rlcj5gIDogbnVsbH1gO1xuICB9XG59O1xuV2NtRGVza3RvcFdhbGxldFNlbGVjdGlvbi5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGNdO1xuV2NtRGVza3RvcFdhbGxldFNlbGVjdGlvbiA9IF9fZGVjb3JhdGVDbGFzcyRlKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1kZXNrdG9wLXdhbGxldC1zZWxlY3Rpb25cIilcbl0sIFdjbURlc2t0b3BXYWxsZXRTZWxlY3Rpb24pO1xuXG5jb25zdCBzdHlsZXMkYiA9IGNzc2BkaXZ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3ItYmctMik7cGFkZGluZzoxMHB4IDIwcHggMTVweCAyMHB4O2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLXdjbS1jb2xvci1iZy0zKTt0ZXh0LWFsaWduOmNlbnRlcn1he2NvbG9yOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpO3RleHQtZGVjb3JhdGlvbjpub25lO3RyYW5zaXRpb246b3BhY2l0eSAuMnMgZWFzZS1pbi1vdXQ7ZGlzcGxheTppbmxpbmV9YTphY3RpdmV7b3BhY2l0eTouOH1AbWVkaWEoaG92ZXI6aG92ZXIpe2E6aG92ZXJ7b3BhY2l0eTouOH19YDtcblxudmFyIF9fZGVmUHJvcCRkID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGQgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkZCh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkZCh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtTGVnYWxOb3RpY2UgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB0ZXJtc09mU2VydmljZVVybCwgcHJpdmFjeVBvbGljeVVybCB9ID0gQ29uZmlnQ3RybC5zdGF0ZTtcbiAgICBjb25zdCBpc0xlZ2FsID0gdGVybXNPZlNlcnZpY2VVcmwgIT0gbnVsbCA/IHRlcm1zT2ZTZXJ2aWNlVXJsIDogcHJpdmFjeVBvbGljeVVybDtcbiAgICBpZiAoIWlzTGVnYWwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbGA8ZGl2Pjx3Y20tdGV4dCB2YXJpYW50PVwic21hbGwtcmVndWxhclwiIGNvbG9yPVwic2Vjb25kYXJ5XCI+QnkgY29ubmVjdGluZyB5b3VyIHdhbGxldCB0byB0aGlzIGFwcCwgeW91IGFncmVlIHRvIHRoZSBhcHAncyAke3Rlcm1zT2ZTZXJ2aWNlVXJsID8gaHRtbGA8YSBocmVmPVwiJHt0ZXJtc09mU2VydmljZVVybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+VGVybXMgb2YgU2VydmljZTwvYT5gIDogbnVsbH0gJHt0ZXJtc09mU2VydmljZVVybCAmJiBwcml2YWN5UG9saWN5VXJsID8gXCJhbmRcIiA6IG51bGx9ICR7cHJpdmFjeVBvbGljeVVybCA/IGh0bWxgPGEgaHJlZj1cIiR7cHJpdmFjeVBvbGljeVVybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+UHJpdmFjeSBQb2xpY3k8L2E+YCA6IG51bGx9PC93Y20tdGV4dD48L2Rpdj5gO1xuICB9XG59O1xuV2NtTGVnYWxOb3RpY2Uuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRiXTtcbldjbUxlZ2FsTm90aWNlID0gX19kZWNvcmF0ZUNsYXNzJGQoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLWxlZ2FsLW5vdGljZVwiKVxuXSwgV2NtTGVnYWxOb3RpY2UpO1xuXG5jb25zdCBzdHlsZXMkYSA9IGNzc2BkaXZ7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoNCw4MHB4KTttYXJnaW46MCAtMTBweDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbjtyb3ctZ2FwOjEwcHh9YDtcblxudmFyIF9fZGVmUHJvcCRjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGMgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkYyh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkYyh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtTW9iaWxlV2FsbGV0U2VsZWN0aW9uID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgb25RcmNvZGUoKSB7XG4gICAgUm91dGVyQ3RybC5wdXNoKFwiUXJjb2RlXCIpO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHMsIGVuYWJsZUV4cGxvcmVyIH0gPSBDb25maWdDdHJsLnN0YXRlO1xuICAgIGNvbnN0IGlzRXhwbG9yZXJXYWxsZXRzID0gZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkcyAhPT0gXCJBTExcIiAmJiBlbmFibGVFeHBsb3JlcjtcbiAgICBjb25zdCBtYW51YWxUZW1wbGF0ZSA9IFRlbXBsYXRlVXRpbC5tYW51YWxXYWxsZXRzVGVtcGxhdGUoKTtcbiAgICBjb25zdCByZWNvbWVuZGVkVGVtcGxhdGUgPSBUZW1wbGF0ZVV0aWwucmVjb21lbmRlZFdhbGxldHNUZW1wbGF0ZSgpO1xuICAgIGNvbnN0IHJlY2VudFRlbXBsYXRlID0gVGVtcGxhdGVVdGlsLnJlY2VudFdhbGxldFRlbXBsYXRlKCk7XG4gICAgbGV0IHRlbXBsYXRlcyA9IFtyZWNlbnRUZW1wbGF0ZSwgLi4ubWFudWFsVGVtcGxhdGUsIC4uLnJlY29tZW5kZWRUZW1wbGF0ZV07XG4gICAgdGVtcGxhdGVzID0gdGVtcGxhdGVzLmZpbHRlcihCb29sZWFuKTtcbiAgICBjb25zdCBpc1ZpZXdBbGwgPSB0ZW1wbGF0ZXMubGVuZ3RoID4gOCB8fCBpc0V4cGxvcmVyV2FsbGV0cztcbiAgICBsZXQgd2FsbGV0cyA9IFtdO1xuICAgIGlmIChpc1ZpZXdBbGwpIHtcbiAgICAgIHdhbGxldHMgPSB0ZW1wbGF0ZXMuc2xpY2UoMCwgNyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhbGxldHMgPSB0ZW1wbGF0ZXM7XG4gICAgfVxuICAgIGNvbnN0IGlzV2FsbGV0cyA9IEJvb2xlYW4od2FsbGV0cy5sZW5ndGgpO1xuICAgIHJldHVybiBodG1sYDx3Y20tbW9kYWwtaGVhZGVyIHRpdGxlPVwiQ29ubmVjdCB5b3VyIHdhbGxldFwiIC5vbkFjdGlvbj1cIiR7dGhpcy5vblFyY29kZX1cIiAuYWN0aW9uSWNvbj1cIiR7U3ZnVXRpbC5RUkNPREVfSUNPTn1cIj48L3djbS1tb2RhbC1oZWFkZXI+JHtpc1dhbGxldHMgPyBodG1sYDx3Y20tbW9kYWwtY29udGVudD48ZGl2PiR7d2FsbGV0c30gJHtpc1ZpZXdBbGwgPyBodG1sYDx3Y20tdmlldy1hbGwtd2FsbGV0cy1idXR0b24+PC93Y20tdmlldy1hbGwtd2FsbGV0cy1idXR0b24+YCA6IG51bGx9PC9kaXY+PC93Y20tbW9kYWwtY29udGVudD5gIDogbnVsbH1gO1xuICB9XG59O1xuV2NtTW9iaWxlV2FsbGV0U2VsZWN0aW9uLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkYV07XG5XY21Nb2JpbGVXYWxsZXRTZWxlY3Rpb24gPSBfX2RlY29yYXRlQ2xhc3MkYyhbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tbW9iaWxlLXdhbGxldC1zZWxlY3Rpb25cIilcbl0sIFdjbU1vYmlsZVdhbGxldFNlbGVjdGlvbik7XG5cbmNvbnN0IHN0eWxlcyQ5ID0gY3NzYDpob3N0e2FsbDppbml0aWFsfS53Y20tb3ZlcmxheXt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OnZhcigtLXdjbS16LWluZGV4KTtvdmVyZmxvdzpoaWRkZW47ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lO2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLW92ZXJsYXktYmFja2dyb3VuZC1jb2xvcik7YmFja2Ryb3AtZmlsdGVyOnZhcigtLXdjbS1vdmVybGF5LWJhY2tkcm9wLWZpbHRlcil9QG1lZGlhKG1heC1oZWlnaHQ6NzIwcHgpIGFuZCAob3JpZW50YXRpb246bGFuZHNjYXBlKXsud2NtLW92ZXJsYXl7b3ZlcmZsb3c6c2Nyb2xsO2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7cGFkZGluZzoyMHB4IDB9fS53Y20tYWN0aXZle3BvaW50ZXItZXZlbnRzOmF1dG99LndjbS1jb250YWluZXJ7cG9zaXRpb246cmVsYXRpdmU7bWF4LXdpZHRoOjM2MHB4O3dpZHRoOjEwMCU7b3V0bGluZTowO2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLWJhY2tncm91bmQtYm9yZGVyLXJhZGl1cykgdmFyKC0td2NtLWJhY2tncm91bmQtYm9yZGVyLXJhZGl1cykgdmFyKC0td2NtLWNvbnRhaW5lci1ib3JkZXItcmFkaXVzKSB2YXIoLS13Y20tY29udGFpbmVyLWJvcmRlci1yYWRpdXMpO2JvcmRlcjoxcHggc29saWQgdmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpO292ZXJmbG93OmhpZGRlbn0ud2NtLWNhcmR7d2lkdGg6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXItcmFkaXVzOnZhcigtLXdjbS1jb250YWluZXItYm9yZGVyLXJhZGl1cyk7b3ZlcmZsb3c6aGlkZGVuO2JveC1zaGFkb3c6MCA2cHggMTRweCAtNnB4IHJnYmEoMTAsMTYsMzEsLjEyKSwwIDEwcHggMzJweCAtNHB4IHJnYmEoMTAsMTYsMzEsLjEpLDAgMCAwIDFweCB2YXIoLS13Y20tY29sb3Itb3ZlcmxheSk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3ItYmctMSk7Y29sb3I6dmFyKC0td2NtLWNvbG9yLWZnLTEpfUBtZWRpYShtYXgtd2lkdGg6NjAwcHgpey53Y20tY29udGFpbmVye21heC13aWR0aDo0NDBweDtib3JkZXItcmFkaXVzOnZhcigtLXdjbS1iYWNrZ3JvdW5kLWJvcmRlci1yYWRpdXMpIHZhcigtLXdjbS1iYWNrZ3JvdW5kLWJvcmRlci1yYWRpdXMpIDAgMH0ud2NtLWNhcmR7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20tY29udGFpbmVyLWJvcmRlci1yYWRpdXMpIHZhcigtLXdjbS1jb250YWluZXItYm9yZGVyLXJhZGl1cykgMCAwfS53Y20tb3ZlcmxheXthbGlnbi1pdGVtczpmbGV4LWVuZH19QG1lZGlhKG1heC13aWR0aDo0NDBweCl7LndjbS1jb250YWluZXJ7Ym9yZGVyOjB9fWA7XG5cbnZhciBfX2RlZlByb3AkYiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRiID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGIodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGIodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbU1vZGFsID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gbGlmZWN5Y2xlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gICAgdGhpcy51bnN1YnNjcmliZU1vZGFsID0gdm9pZCAwO1xuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gdm9pZCAwO1xuICAgIHRoaXMudW5zdWJzY3JpYmVNb2RhbCA9IE1vZGFsQ3RybC5zdWJzY3JpYmUoKG1vZGFsU3RhdGUpID0+IHtcbiAgICAgIGlmIChtb2RhbFN0YXRlLm9wZW4pIHtcbiAgICAgICAgdGhpcy5vbk9wZW5Nb2RhbEV2ZW50KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uQ2xvc2VNb2RhbEV2ZW50KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHRoaXMudW5zdWJzY3JpYmVNb2RhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcyk7XG4gIH1cbiAgZ2V0IG92ZXJsYXlFbCgpIHtcbiAgICByZXR1cm4gVWlVdGlsLmdldFNoYWRvd1Jvb3RFbGVtZW50KHRoaXMsIFwiLndjbS1vdmVybGF5XCIpO1xuICB9XG4gIGdldCBjb250YWluZXJFbCgpIHtcbiAgICByZXR1cm4gVWlVdGlsLmdldFNoYWRvd1Jvb3RFbGVtZW50KHRoaXMsIFwiLndjbS1jb250YWluZXJcIik7XG4gIH1cbiAgdG9nZ2xlQm9keVNjcm9sbChlbmFibGVkKSB7XG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuICAgIGlmIChib2R5KSB7XG4gICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICBjb25zdCB3Y21TdHlsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndjbS1zdHlsZXNcIik7XG4gICAgICAgIHdjbVN0eWxlcyA9PSBudWxsID8gdm9pZCAwIDogd2NtU3R5bGVzLnJlbW92ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICAgICAgXCJiZWZvcmVlbmRcIixcbiAgICAgICAgICBgPHN0eWxlIGlkPVwid2NtLXN0eWxlc1wiPmh0bWwsYm9keXt0b3VjaC1hY3Rpb246bm9uZTtvdmVyZmxvdzpoaWRkZW47b3ZlcnNjcm9sbC1iZWhhdmlvcjpjb250YWluO308L3N0eWxlPmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgb25DbG9zZU1vZGFsKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgTW9kYWxDdHJsLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIG9uT3Blbk1vZGFsRXZlbnQoKSB7XG4gICAgdGhpcy50b2dnbGVCb2R5U2Nyb2xsKGZhbHNlKTtcbiAgICB0aGlzLmFkZEtleWJvYXJkRXZlbnRzKCk7XG4gICAgdGhpcy5vcGVuID0gdHJ1ZTtcbiAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IFVpVXRpbC5pc01vYmlsZUFuaW1hdGlvbigpID8geyB5OiBbXCI1MHZoXCIsIFwiMHZoXCJdIH0gOiB7IHNjYWxlOiBbMC45OCwgMV0gfTtcbiAgICAgIGNvbnN0IGRlbGF5ID0gMC4xO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSAwLjI7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGFuaW1hdGUodGhpcy5vdmVybGF5RWwsIHsgb3BhY2l0eTogWzAsIDFdIH0sIHsgZGVsYXksIGR1cmF0aW9uIH0pLmZpbmlzaGVkLFxuICAgICAgICBhbmltYXRlKHRoaXMuY29udGFpbmVyRWwsIGFuaW1hdGlvbiwgeyBkZWxheSwgZHVyYXRpb24gfSkuZmluaXNoZWRcbiAgICAgIF0pO1xuICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgIH0sIDApO1xuICB9XG4gIGFzeW5jIG9uQ2xvc2VNb2RhbEV2ZW50KCkge1xuICAgIHRoaXMudG9nZ2xlQm9keVNjcm9sbCh0cnVlKTtcbiAgICB0aGlzLnJlbW92ZUtleWJvYXJkRXZlbnRzKCk7XG4gICAgY29uc3QgYW5pbWF0aW9uID0gVWlVdGlsLmlzTW9iaWxlQW5pbWF0aW9uKCkgPyB7IHk6IFtcIjB2aFwiLCBcIjUwdmhcIl0gfSA6IHsgc2NhbGU6IFsxLCAwLjk4XSB9O1xuICAgIGNvbnN0IGR1cmF0aW9uID0gMC4yO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGFuaW1hdGUodGhpcy5vdmVybGF5RWwsIHsgb3BhY2l0eTogWzEsIDBdIH0sIHsgZHVyYXRpb24gfSkuZmluaXNoZWQsXG4gICAgICBhbmltYXRlKHRoaXMuY29udGFpbmVyRWwsIGFuaW1hdGlvbiwgeyBkdXJhdGlvbiB9KS5maW5pc2hlZFxuICAgIF0pO1xuICAgIHRoaXMuY29udGFpbmVyRWwucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIik7XG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgfVxuICBhZGRLZXlib2FyZEV2ZW50cygpIHtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwia2V5ZG93blwiLFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICAgIE1vZGFsQ3RybC5jbG9zZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJUYWJcIikge1xuICAgICAgICAgIGlmICghKChfYSA9IGV2ZW50LnRhcmdldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnRhZ05hbWUuaW5jbHVkZXMoXCJ3Y20tXCIpKSkge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyXG4gICAgKTtcbiAgICB0aGlzLmNvbnRhaW5lckVsLmZvY3VzKCk7XG4gIH1cbiAgcmVtb3ZlS2V5Ym9hcmRFdmVudHMoKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHRoaXMuYWJvcnRDb250cm9sbGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EuYWJvcnQoKTtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlciA9IHZvaWQgMDtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFwid2NtLW92ZXJsYXlcIjogdHJ1ZSxcbiAgICAgIFwid2NtLWFjdGl2ZVwiOiB0aGlzLmFjdGl2ZVxuICAgIH07XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1leHBsb3Jlci1jb250ZXh0Pjwvd2NtLWV4cGxvcmVyLWNvbnRleHQ+PHdjbS10aGVtZS1jb250ZXh0Pjwvd2NtLXRoZW1lLWNvbnRleHQ+PGRpdiBpZD1cIndjbS1tb2RhbFwiIGNsYXNzPVwiJHtjbGFzc01hcChjbGFzc2VzKX1cIiBAY2xpY2s9XCIke3RoaXMub25DbG9zZU1vZGFsfVwiIHJvbGU9XCJhbGVydGRpYWxvZ1wiIGFyaWEtbW9kYWw9XCJ0cnVlXCI+PGRpdiBjbGFzcz1cIndjbS1jb250YWluZXJcIiB0YWJpbmRleD1cIjBcIj4ke3RoaXMub3BlbiA/IGh0bWxgPHdjbS1tb2RhbC1iYWNrY2FyZD48L3djbS1tb2RhbC1iYWNrY2FyZD48ZGl2IGNsYXNzPVwid2NtLWNhcmRcIj48d2NtLW1vZGFsLXJvdXRlcj48L3djbS1tb2RhbC1yb3V0ZXI+PHdjbS1tb2RhbC10b2FzdD48L3djbS1tb2RhbC10b2FzdD48L2Rpdj5gIDogbnVsbH08L2Rpdj48L2Rpdj5gO1xuICB9XG59O1xuV2NtTW9kYWwuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyQ5XTtcbl9fZGVjb3JhdGVDbGFzcyRiKFtcbiAgc3RhdGUoKVxuXSwgV2NtTW9kYWwucHJvdG90eXBlLCBcIm9wZW5cIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkYihbXG4gIHN0YXRlKClcbl0sIFdjbU1vZGFsLnByb3RvdHlwZSwgXCJhY3RpdmVcIiwgMik7XG5XY21Nb2RhbCA9IF9fZGVjb3JhdGVDbGFzcyRiKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1tb2RhbFwiKVxuXSwgV2NtTW9kYWwpO1xuXG5jb25zdCBzdHlsZXMkOCA9IGNzc2BkaXZ7ZGlzcGxheTpmbGV4O21hcmdpbi10b3A6MTVweH1zbG90e2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbjowIDVweH13Y20tYnV0dG9ue21hcmdpbjowIDVweH1gO1xuXG52YXIgX19kZWZQcm9wJGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRhID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkYSA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRhKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRhKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21QbGF0Zm9ybVNlbGVjdGlvbiA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5pc01vYmlsZSA9IGZhbHNlO1xuICAgIHRoaXMuaXNEZXNrdG9wID0gZmFsc2U7XG4gICAgdGhpcy5pc1dlYiA9IGZhbHNlO1xuICAgIHRoaXMuaXNSZXRyeSA9IGZhbHNlO1xuICB9XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIG9uTW9iaWxlKCkge1xuICAgIGNvbnN0IGlzTW9iaWxlID0gQ29yZVV0aWwuaXNNb2JpbGUoKTtcbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgIFJvdXRlckN0cmwucmVwbGFjZShcIk1vYmlsZUNvbm5lY3RpbmdcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJvdXRlckN0cmwucmVwbGFjZShcIk1vYmlsZVFyY29kZUNvbm5lY3RpbmdcIik7XG4gICAgfVxuICB9XG4gIG9uRGVza3RvcCgpIHtcbiAgICBSb3V0ZXJDdHJsLnJlcGxhY2UoXCJEZXNrdG9wQ29ubmVjdGluZ1wiKTtcbiAgfVxuICBvbldlYigpIHtcbiAgICBSb3V0ZXJDdHJsLnJlcGxhY2UoXCJXZWJDb25uZWN0aW5nXCIpO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGA8ZGl2PiR7dGhpcy5pc1JldHJ5ID8gaHRtbGA8c2xvdD48L3Nsb3Q+YCA6IG51bGx9ICR7dGhpcy5pc01vYmlsZSA/IGh0bWxgPHdjbS1idXR0b24gLm9uQ2xpY2s9XCIke3RoaXMub25Nb2JpbGV9XCIgLmljb25MZWZ0PVwiJHtTdmdVdGlsLk1PQklMRV9JQ09OfVwiIHZhcmlhbnQ9XCJvdXRsaW5lXCI+TW9iaWxlPC93Y20tYnV0dG9uPmAgOiBudWxsfSAke3RoaXMuaXNEZXNrdG9wID8gaHRtbGA8d2NtLWJ1dHRvbiAub25DbGljaz1cIiR7dGhpcy5vbkRlc2t0b3B9XCIgLmljb25MZWZ0PVwiJHtTdmdVdGlsLkRFU0tUT1BfSUNPTn1cIiB2YXJpYW50PVwib3V0bGluZVwiPkRlc2t0b3A8L3djbS1idXR0b24+YCA6IG51bGx9ICR7dGhpcy5pc1dlYiA/IGh0bWxgPHdjbS1idXR0b24gLm9uQ2xpY2s9XCIke3RoaXMub25XZWJ9XCIgLmljb25MZWZ0PVwiJHtTdmdVdGlsLkdMT0JFX0lDT059XCIgdmFyaWFudD1cIm91dGxpbmVcIj5XZWI8L3djbS1idXR0b24+YCA6IG51bGx9PC9kaXY+YDtcbiAgfVxufTtcbldjbVBsYXRmb3JtU2VsZWN0aW9uLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkOF07XG5fX2RlY29yYXRlQ2xhc3MkYShbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV2NtUGxhdGZvcm1TZWxlY3Rpb24ucHJvdG90eXBlLCBcImlzTW9iaWxlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGEoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFdjbVBsYXRmb3JtU2VsZWN0aW9uLnByb3RvdHlwZSwgXCJpc0Rlc2t0b3BcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkYShbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV2NtUGxhdGZvcm1TZWxlY3Rpb24ucHJvdG90eXBlLCBcImlzV2ViXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGEoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFdjbVBsYXRmb3JtU2VsZWN0aW9uLnByb3RvdHlwZSwgXCJpc1JldHJ5XCIsIDIpO1xuV2NtUGxhdGZvcm1TZWxlY3Rpb24gPSBfX2RlY29yYXRlQ2xhc3MkYShbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tcGxhdGZvcm0tc2VsZWN0aW9uXCIpXG5dLCBXY21QbGF0Zm9ybVNlbGVjdGlvbik7XG5cbmNvbnN0IHN0eWxlcyQ3ID0gY3NzYGJ1dHRvbntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO3BhZGRpbmc6NXB4IDEwcHg7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20tYnV0dG9uLWhvdmVyLWhpZ2hsaWdodC1ib3JkZXItcmFkaXVzKTtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydH0ud2NtLWljb25ze3dpZHRoOjYwcHg7aGVpZ2h0OjYwcHg7ZGlzcGxheTpmbGV4O2ZsZXgtd3JhcDp3cmFwO3BhZGRpbmc6N3B4O2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLXdhbGxldC1pY29uLWJvcmRlci1yYWRpdXMpO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW4tYm90dG9tOjVweDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1iZy0yKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCB2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9YnV0dG9uOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1AbWVkaWEoaG92ZXI6aG92ZXIpe2J1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX19LndjbS1pY29ucyBpbWd7d2lkdGg6MjFweDtoZWlnaHQ6MjFweDtvYmplY3QtZml0OmNvdmVyO29iamVjdC1wb3NpdGlvbjpjZW50ZXI7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLXdjbS13YWxsZXQtaWNvbi1ib3JkZXItcmFkaXVzKS8gMik7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9LndjbS1pY29ucyBzdmd7d2lkdGg6MjFweDtoZWlnaHQ6MjFweH0ud2NtLWljb25zIGltZzpudGgtY2hpbGQoMSksLndjbS1pY29ucyBpbWc6bnRoLWNoaWxkKDIpLC53Y20taWNvbnMgc3ZnOm50aC1jaGlsZCgxKSwud2NtLWljb25zIHN2ZzpudGgtY2hpbGQoMil7bWFyZ2luLWJvdHRvbTo0cHh9d2NtLXRleHR7d2lkdGg6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcn0jd2FsbGV0LXBsYWNlaG9sZGVyLWZpbGx7ZmlsbDp2YXIoLS13Y20tY29sb3ItYmctMyl9I3dhbGxldC1wbGFjZWhvbGRlci1kYXNoe3N0cm9rZTp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9YDtcblxudmFyIF9fZGVmUHJvcCQ5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkOSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJDkgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkOSh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkOSh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtVmlld0FsbFdhbGxldHNCdXR0b24gPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBvbkNsaWNrKCkge1xuICAgIFJvdXRlckN0cmwucHVzaChcIldhbGxldEV4cGxvcmVyXCIpO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHJlY29tZW5kZWRXYWxsZXRzIH0gPSBFeHBsb3JlckN0cmwuc3RhdGU7XG4gICAgY29uc3QgbWFudWFsV2FsbGV0cyA9IERhdGFVdGlsLm1hbnVhbFdhbGxldHMoKTtcbiAgICBjb25zdCByZXZlcnNlZFdhbGxldHMgPSBbLi4ucmVjb21lbmRlZFdhbGxldHMsIC4uLm1hbnVhbFdhbGxldHNdLnJldmVyc2UoKS5zbGljZSgwLCA0KTtcbiAgICByZXR1cm4gaHRtbGA8YnV0dG9uIEBjbGljaz1cIiR7dGhpcy5vbkNsaWNrfVwiPjxkaXYgY2xhc3M9XCJ3Y20taWNvbnNcIj4ke3JldmVyc2VkV2FsbGV0cy5tYXAoKHdhbGxldCkgPT4ge1xuICAgICAgY29uc3QgZXhwbG9yZXJJbWcgPSBVaVV0aWwuZ2V0V2FsbGV0SWNvbih3YWxsZXQpO1xuICAgICAgaWYgKGV4cGxvcmVySW1nKSB7XG4gICAgICAgIHJldHVybiBodG1sYDxpbWcgY3Jvc3NvcmlnaW49XCJhbm9ueW1vdXNcIiBzcmM9XCIke2V4cGxvcmVySW1nfVwiPmA7XG4gICAgICB9XG4gICAgICBjb25zdCBzcmMgPSBVaVV0aWwuZ2V0V2FsbGV0SWNvbih7IGlkOiB3YWxsZXQuaWQgfSk7XG4gICAgICByZXR1cm4gc3JjID8gaHRtbGA8aW1nIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCIgc3JjPVwiJHtzcmN9XCI+YCA6IFN2Z1V0aWwuV0FMTEVUX1BMQUNFSE9MREVSO1xuICAgIH0pfSAke1suLi5BcnJheSg0IC0gcmV2ZXJzZWRXYWxsZXRzLmxlbmd0aCldLm1hcCgoKSA9PiBTdmdVdGlsLldBTExFVF9QTEFDRUhPTERFUil9PC9kaXY+PHdjbS10ZXh0IHZhcmlhbnQ9XCJ4c21hbGwtcmVndWxhclwiPlZpZXcgQWxsPC93Y20tdGV4dD48L2J1dHRvbj5gO1xuICB9XG59O1xuV2NtVmlld0FsbFdhbGxldHNCdXR0b24uc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyQ3XTtcbldjbVZpZXdBbGxXYWxsZXRzQnV0dG9uID0gX19kZWNvcmF0ZUNsYXNzJDkoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXZpZXctYWxsLXdhbGxldHMtYnV0dG9uXCIpXG5dLCBXY21WaWV3QWxsV2FsbGV0c0J1dHRvbik7XG5cbmNvbnN0IHN0eWxlcyQ2ID0gY3NzYC53Y20tcXItY29udGFpbmVye3dpZHRoOjEwMCU7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2FzcGVjdC1yYXRpbzoxLzF9YDtcblxudmFyIF9fZGVmUHJvcCQ4ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkOCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJDggPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkOCh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkOCh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtV2FsbGV0Q29ubmVjdFFyID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gbGlmZWN5Y2xlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLndhbGxldElkID0gXCJcIjtcbiAgICB0aGlzLmltYWdlSWQgPSBcIlwiO1xuICAgIHRoaXMudXJpID0gXCJcIjtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IHsgd2FsbGV0Q29ubmVjdFVyaSB9ID0gT3B0aW9uc0N0cmwuc3RhdGU7XG4gICAgICB0aGlzLnVyaSA9IHdhbGxldENvbm5lY3RVcmk7XG4gICAgfSwgMCk7XG4gIH1cbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgZ2V0IG92ZXJsYXlFbCgpIHtcbiAgICByZXR1cm4gVWlVdGlsLmdldFNoYWRvd1Jvb3RFbGVtZW50KHRoaXMsIFwiLndjbS1xci1jb250YWluZXJcIik7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJ3Y20tcXItY29udGFpbmVyXCI+JHt0aGlzLnVyaSA/IGh0bWxgPHdjbS1xcmNvZGUgc2l6ZT1cIiR7dGhpcy5vdmVybGF5RWwub2Zmc2V0V2lkdGh9XCIgdXJpPVwiJHt0aGlzLnVyaX1cIiB3YWxsZXRJZD1cIiR7aWZEZWZpbmVkKHRoaXMud2FsbGV0SWQpfVwiIGltYWdlSWQ9XCIke2lmRGVmaW5lZCh0aGlzLmltYWdlSWQpfVwiPjwvd2NtLXFyY29kZT5gIDogaHRtbGA8d2NtLXNwaW5uZXI+PC93Y20tc3Bpbm5lcj5gfTwvZGl2PmA7XG4gIH1cbn07XG5XY21XYWxsZXRDb25uZWN0UXIuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyQ2XTtcbl9fZGVjb3JhdGVDbGFzcyQ4KFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtV2FsbGV0Q29ubmVjdFFyLnByb3RvdHlwZSwgXCJ3YWxsZXRJZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyQ4KFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtV2FsbGV0Q29ubmVjdFFyLnByb3RvdHlwZSwgXCJpbWFnZUlkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJDgoW1xuICBzdGF0ZSgpXG5dLCBXY21XYWxsZXRDb25uZWN0UXIucHJvdG90eXBlLCBcInVyaVwiLCAyKTtcbldjbVdhbGxldENvbm5lY3RRciA9IF9fZGVjb3JhdGVDbGFzcyQ4KFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS13YWxsZXRjb25uZWN0LXFyXCIpXG5dLCBXY21XYWxsZXRDb25uZWN0UXIpO1xuXG52YXIgX19kZWZQcm9wJDcgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyQ3ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkNyA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyQ3KHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCQ3KHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Db25uZWN0V2FsbGV0VmlldyA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHZpZXdUZW1wbGF0ZSgpIHtcbiAgICBpZiAoQ29yZVV0aWwuaXNBbmRyb2lkKCkgJiYgIUNvcmVVdGlsLmlzVGVsZWdyYW0oKSkge1xuICAgICAgcmV0dXJuIGh0bWxgPHdjbS1hbmRyb2lkLXdhbGxldC1zZWxlY3Rpb24+PC93Y20tYW5kcm9pZC13YWxsZXQtc2VsZWN0aW9uPmA7XG4gICAgfVxuICAgIGlmIChDb3JlVXRpbC5pc01vYmlsZSgpKSB7XG4gICAgICByZXR1cm4gaHRtbGA8d2NtLW1vYmlsZS13YWxsZXQtc2VsZWN0aW9uPjwvd2NtLW1vYmlsZS13YWxsZXQtc2VsZWN0aW9uPmA7XG4gICAgfVxuICAgIHJldHVybiBodG1sYDx3Y20tZGVza3RvcC13YWxsZXQtc2VsZWN0aW9uPjwvd2NtLWRlc2t0b3Atd2FsbGV0LXNlbGVjdGlvbj5gO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGAke3RoaXMudmlld1RlbXBsYXRlKCl9PHdjbS1sZWdhbC1ub3RpY2U+PC93Y20tbGVnYWwtbm90aWNlPmA7XG4gIH1cbn07XG5XY21Db25uZWN0V2FsbGV0Vmlldy5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzc107XG5XY21Db25uZWN0V2FsbGV0VmlldyA9IF9fZGVjb3JhdGVDbGFzcyQ3KFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1jb25uZWN0LXdhbGxldC12aWV3XCIpXG5dLCBXY21Db25uZWN0V2FsbGV0Vmlldyk7XG5cbmNvbnN0IHN0eWxlcyQ1ID0gY3NzYHdjbS1pbmZvLWZvb3RlcntmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO3BhZGRpbmc6NXB4IDB9d2NtLXRleHR7dGV4dC1hbGlnbjpjZW50ZXJ9YDtcblxudmFyIF9fZGVmUHJvcCQ2ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkNiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJDYgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkNih0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkNih0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtRGVza3RvcENvbm5lY3RpbmdWaWV3ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gbGlmZWN5Y2xlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlzRXJyb3IgPSBmYWxzZTtcbiAgICB0aGlzLm9wZW5EZXNrdG9wQXBwKCk7XG4gIH1cbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgb25Gb3JtYXRBbmRSZWRpcmVjdCh1cmkpIHtcbiAgICBjb25zdCB7IGRlc2t0b3AsIG5hbWUgfSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICBjb25zdCBuYXRpdmVVcmwgPSBkZXNrdG9wID09IG51bGwgPyB2b2lkIDAgOiBkZXNrdG9wLm5hdGl2ZTtcbiAgICBjb25zdCB1bml2ZXJzYWxVcmwgPSBkZXNrdG9wID09IG51bGwgPyB2b2lkIDAgOiBkZXNrdG9wLnVuaXZlcnNhbDtcbiAgICBpZiAobmF0aXZlVXJsKSB7XG4gICAgICBjb25zdCBocmVmID0gQ29yZVV0aWwuZm9ybWF0TmF0aXZlVXJsKG5hdGl2ZVVybCwgdXJpLCBuYW1lKTtcbiAgICAgIENvcmVVdGlsLm9wZW5IcmVmKGhyZWYsIFwiX3NlbGZcIik7XG4gICAgfSBlbHNlIGlmICh1bml2ZXJzYWxVcmwpIHtcbiAgICAgIGNvbnN0IGhyZWYgPSBDb3JlVXRpbC5mb3JtYXRVbml2ZXJzYWxVcmwodW5pdmVyc2FsVXJsLCB1cmksIG5hbWUpO1xuICAgICAgQ29yZVV0aWwub3BlbkhyZWYoaHJlZiwgXCJfYmxhbmtcIik7XG4gICAgfVxuICB9XG4gIG9wZW5EZXNrdG9wQXBwKCkge1xuICAgIGNvbnN0IHsgd2FsbGV0Q29ubmVjdFVyaSB9ID0gT3B0aW9uc0N0cmwuc3RhdGU7XG4gICAgY29uc3Qgcm91dGVyRGF0YSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICBVaVV0aWwuc2V0UmVjZW50V2FsbGV0KHJvdXRlckRhdGEpO1xuICAgIGlmICh3YWxsZXRDb25uZWN0VXJpKSB7XG4gICAgICB0aGlzLm9uRm9ybWF0QW5kUmVkaXJlY3Qod2FsbGV0Q29ubmVjdFVyaSk7XG4gICAgfVxuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG5hbWUsIGlkLCBpbWFnZV9pZCB9ID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIGNvbnN0IHsgaXNNb2JpbGUsIGlzV2ViIH0gPSBVaVV0aWwuZ2V0Q2FjaGVkUm91dGVyV2FsbGV0UGxhdGZvcm1zKCk7XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1tb2RhbC1oZWFkZXIgdGl0bGU9XCIke25hbWV9XCIgLm9uQWN0aW9uPVwiJHtVaVV0aWwuaGFuZGxlVXJpQ29weX1cIiAuYWN0aW9uSWNvbj1cIiR7U3ZnVXRpbC5DT1BZX0lDT059XCI+PC93Y20tbW9kYWwtaGVhZGVyPjx3Y20tbW9kYWwtY29udGVudD48d2NtLWNvbm5lY3Rvci13YWl0aW5nIHdhbGxldElkPVwiJHtpZH1cIiBpbWFnZUlkPVwiJHtpZkRlZmluZWQoaW1hZ2VfaWQpfVwiIGxhYmVsPVwiJHtgQ29udGludWUgaW4gJHtuYW1lfS4uLmB9XCIgLmlzRXJyb3I9XCIke3RoaXMuaXNFcnJvcn1cIj48L3djbS1jb25uZWN0b3Itd2FpdGluZz48L3djbS1tb2RhbC1jb250ZW50Pjx3Y20taW5mby1mb290ZXI+PHdjbS10ZXh0IGNvbG9yPVwic2Vjb25kYXJ5XCIgdmFyaWFudD1cInNtYWxsLXRoaW5cIj4ke2BDb25uZWN0aW9uIGNhbiBjb250aW51ZSBsb2FkaW5nIGlmICR7bmFtZX0gaXMgbm90IGluc3RhbGxlZCBvbiB5b3VyIGRldmljZWB9PC93Y20tdGV4dD48d2NtLXBsYXRmb3JtLXNlbGVjdGlvbiAuaXNNb2JpbGU9XCIke2lzTW9iaWxlfVwiIC5pc1dlYj1cIiR7aXNXZWJ9XCIgLmlzUmV0cnk9XCIke3RydWV9XCI+PHdjbS1idXR0b24gLm9uQ2xpY2s9XCIke3RoaXMub3BlbkRlc2t0b3BBcHAuYmluZCh0aGlzKX1cIiAuaWNvblJpZ2h0PVwiJHtTdmdVdGlsLlJFVFJZX0lDT059XCI+UmV0cnk8L3djbS1idXR0b24+PC93Y20tcGxhdGZvcm0tc2VsZWN0aW9uPjwvd2NtLWluZm8tZm9vdGVyPmA7XG4gIH1cbn07XG5XY21EZXNrdG9wQ29ubmVjdGluZ1ZpZXcuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyQ1XTtcbl9fZGVjb3JhdGVDbGFzcyQ2KFtcbiAgc3RhdGUoKVxuXSwgV2NtRGVza3RvcENvbm5lY3RpbmdWaWV3LnByb3RvdHlwZSwgXCJpc0Vycm9yXCIsIDIpO1xuV2NtRGVza3RvcENvbm5lY3RpbmdWaWV3ID0gX19kZWNvcmF0ZUNsYXNzJDYoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLWRlc2t0b3AtY29ubmVjdGluZy12aWV3XCIpXG5dLCBXY21EZXNrdG9wQ29ubmVjdGluZ1ZpZXcpO1xuXG5jb25zdCBzdHlsZXMkNCA9IGNzc2B3Y20taW5mby1mb290ZXJ7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJTtwYWRkaW5nOjVweCAwfXdjbS10ZXh0e3RleHQtYWxpZ246Y2VudGVyfXdjbS1idXR0b257bWFyZ2luLXRvcDoxNXB4fWA7XG5cbnZhciBfX2RlZlByb3AkNSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJDUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyQ1ID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJDUodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJDUodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbUluc3RhbGxXYWxsZXRWaWV3ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgb25JbnN0YWxsKHVyaSkge1xuICAgIGlmICh1cmkpIHtcbiAgICAgIENvcmVVdGlsLm9wZW5IcmVmKHVyaSwgXCJfYmxhbmtcIik7XG4gICAgfVxuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG5hbWUsIGlkLCBpbWFnZV9pZCwgaG9tZXBhZ2UgfSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICByZXR1cm4gaHRtbGA8d2NtLW1vZGFsLWhlYWRlciB0aXRsZT1cIiR7bmFtZX1cIj48L3djbS1tb2RhbC1oZWFkZXI+PHdjbS1tb2RhbC1jb250ZW50Pjx3Y20tY29ubmVjdG9yLXdhaXRpbmcgd2FsbGV0SWQ9XCIke2lkfVwiIGltYWdlSWQ9XCIke2lmRGVmaW5lZChpbWFnZV9pZCl9XCIgbGFiZWw9XCJOb3QgRGV0ZWN0ZWRcIiAuaXNTdGFsZT1cIiR7dHJ1ZX1cIj48L3djbS1jb25uZWN0b3Itd2FpdGluZz48L3djbS1tb2RhbC1jb250ZW50Pjx3Y20taW5mby1mb290ZXI+PHdjbS10ZXh0IGNvbG9yPVwic2Vjb25kYXJ5XCIgdmFyaWFudD1cInNtYWxsLXRoaW5cIj4ke2BEb3dubG9hZCAke25hbWV9IHRvIGNvbnRpbnVlLiBJZiBtdWx0aXBsZSBicm93c2VyIGV4dGVuc2lvbnMgYXJlIGluc3RhbGxlZCwgZGlzYWJsZSBub24gJHtuYW1lfSBvbmVzIGFuZCB0cnkgYWdhaW5gfTwvd2NtLXRleHQ+PHdjbS1idXR0b24gLm9uQ2xpY2s9XCIkeygpID0+IHRoaXMub25JbnN0YWxsKGhvbWVwYWdlKX1cIiAuaWNvbkxlZnQ9XCIke1N2Z1V0aWwuQVJST1dfRE9XTl9JQ09OfVwiPkRvd25sb2FkPC93Y20tYnV0dG9uPjwvd2NtLWluZm8tZm9vdGVyPmA7XG4gIH1cbn07XG5XY21JbnN0YWxsV2FsbGV0Vmlldy5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJDRdO1xuV2NtSW5zdGFsbFdhbGxldFZpZXcgPSBfX2RlY29yYXRlQ2xhc3MkNShbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20taW5zdGFsbC13YWxsZXQtdmlld1wiKVxuXSwgV2NtSW5zdGFsbFdhbGxldFZpZXcpO1xuXG5jb25zdCBzdHlsZXMkMyA9IGNzc2B3Y20td2FsbGV0LWltYWdle2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLXdhbGxldC1pY29uLWxhcmdlLWJvcmRlci1yYWRpdXMpO3dpZHRoOjk2cHg7aGVpZ2h0Ojk2cHg7bWFyZ2luLWJvdHRvbToyMHB4fXdjbS1pbmZvLWZvb3RlcntkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJX0ud2NtLWFwcC1zdG9yZXtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0ud2NtLWFwcC1zdG9yZSB3Y20td2FsbGV0LWltYWdle21hcmdpbi1yaWdodDoxMHB4O21hcmdpbi1ib3R0b206MDt3aWR0aDoyOHB4O2hlaWdodDoyOHB4O2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLXdhbGxldC1pY29uLXNtYWxsLWJvcmRlci1yYWRpdXMpfS53Y20tYXBwLXN0b3JlIGRpdntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyfS53Y20tYXBwLXN0b3JlIHdjbS1idXR0b257bWFyZ2luLXJpZ2h0Oi0xMHB4fS53Y20tbm90ZXtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6NXB4IDB9LndjbS1ub3RlIHdjbS10ZXh0e3RleHQtYWxpZ246Y2VudGVyfXdjbS1wbGF0Zm9ybS1zZWxlY3Rpb257bWFyZ2luLXRvcDotMTVweH0ud2NtLW5vdGUgd2NtLXRleHR7bWFyZ2luLXRvcDoxNXB4fS53Y20tbm90ZSB3Y20tdGV4dCBzcGFue2NvbG9yOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfWA7XG5cbnZhciBfX2RlZlByb3AkNCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJDQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyQ0ID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJDQodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJDQodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbU1vYmlsZUNvbm5lY3RpbmdWaWV3ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gbGlmZWN5Y2xlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlzRXJyb3IgPSBmYWxzZTtcbiAgICB0aGlzLm9wZW5Nb2JpbGVBcHAoKTtcbiAgfVxuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBvbkZvcm1hdEFuZFJlZGlyZWN0KHVyaSwgZm9yY2VVbml2ZXJzYWxVcmwgPSBmYWxzZSkge1xuICAgIGNvbnN0IHsgbW9iaWxlLCBuYW1lIH0gPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgY29uc3QgbmF0aXZlVXJsID0gbW9iaWxlID09IG51bGwgPyB2b2lkIDAgOiBtb2JpbGUubmF0aXZlO1xuICAgIGNvbnN0IHVuaXZlcnNhbFVybCA9IG1vYmlsZSA9PSBudWxsID8gdm9pZCAwIDogbW9iaWxlLnVuaXZlcnNhbDtcbiAgICBjb25zdCB0YXJnZXQgPSBDb3JlVXRpbC5pc1RlbGVncmFtKCkgPyBcIl9ibGFua1wiIDogXCJfc2VsZlwiO1xuICAgIHVyaSA9IENvcmVVdGlsLmlzVGVsZWdyYW0oKSAmJiBDb3JlVXRpbC5pc0FuZHJvaWQoKSA/IGVuY29kZVVSSUNvbXBvbmVudCh1cmkpIDogdXJpO1xuICAgIGlmIChuYXRpdmVVcmwgJiYgIWZvcmNlVW5pdmVyc2FsVXJsKSB7XG4gICAgICBjb25zdCBocmVmID0gQ29yZVV0aWwuZm9ybWF0TmF0aXZlVXJsKG5hdGl2ZVVybCwgdXJpLCBuYW1lKTtcbiAgICAgIENvcmVVdGlsLm9wZW5IcmVmKGhyZWYsIHRhcmdldCk7XG4gICAgfSBlbHNlIGlmICh1bml2ZXJzYWxVcmwpIHtcbiAgICAgIGNvbnN0IGhyZWYgPSBDb3JlVXRpbC5mb3JtYXRVbml2ZXJzYWxVcmwodW5pdmVyc2FsVXJsLCB1cmksIG5hbWUpO1xuICAgICAgQ29yZVV0aWwub3BlbkhyZWYoaHJlZiwgdGFyZ2V0KTtcbiAgICB9XG4gIH1cbiAgb3Blbk1vYmlsZUFwcChmb3JjZVVuaXZlcnNhbFVybCA9IGZhbHNlKSB7XG4gICAgY29uc3QgeyB3YWxsZXRDb25uZWN0VXJpIH0gPSBPcHRpb25zQ3RybC5zdGF0ZTtcbiAgICBjb25zdCByb3V0ZXJEYXRhID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIGlmICh3YWxsZXRDb25uZWN0VXJpKSB7XG4gICAgICB0aGlzLm9uRm9ybWF0QW5kUmVkaXJlY3Qod2FsbGV0Q29ubmVjdFVyaSwgZm9yY2VVbml2ZXJzYWxVcmwpO1xuICAgIH1cbiAgICBVaVV0aWwuc2V0UmVjZW50V2FsbGV0KHJvdXRlckRhdGEpO1xuICB9XG4gIG9uR29Ub0FwcFN0b3JlKGRvd25sb2FkVXJsKSB7XG4gICAgaWYgKGRvd25sb2FkVXJsKSB7XG4gICAgICBDb3JlVXRpbC5vcGVuSHJlZihkb3dubG9hZFVybCwgXCJfYmxhbmtcIik7XG4gICAgfVxuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG5hbWUsIGlkLCBpbWFnZV9pZCwgYXBwLCBtb2JpbGUgfSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICBjb25zdCB7IGlzV2ViIH0gPSBVaVV0aWwuZ2V0Q2FjaGVkUm91dGVyV2FsbGV0UGxhdGZvcm1zKCk7XG4gICAgY29uc3QgZG93bmxvYWRVcmwgPSBhcHAgPT0gbnVsbCA/IHZvaWQgMCA6IGFwcC5pb3M7XG4gICAgY29uc3QgdW5pdmVyc2FsVXJsID0gbW9iaWxlID09IG51bGwgPyB2b2lkIDAgOiBtb2JpbGUudW5pdmVyc2FsO1xuICAgIHJldHVybiBodG1sYDx3Y20tbW9kYWwtaGVhZGVyIHRpdGxlPVwiJHtuYW1lfVwiPjwvd2NtLW1vZGFsLWhlYWRlcj48d2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS1jb25uZWN0b3Itd2FpdGluZyB3YWxsZXRJZD1cIiR7aWR9XCIgaW1hZ2VJZD1cIiR7aWZEZWZpbmVkKGltYWdlX2lkKX1cIiBsYWJlbD1cIlRhcCAnT3BlbicgdG8gY29udGludWXigKZcIiAuaXNFcnJvcj1cIiR7dGhpcy5pc0Vycm9yfVwiPjwvd2NtLWNvbm5lY3Rvci13YWl0aW5nPjwvd2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS1pbmZvLWZvb3RlciBjbGFzcz1cIndjbS1ub3RlXCI+PHdjbS1wbGF0Zm9ybS1zZWxlY3Rpb24gLmlzV2ViPVwiJHtpc1dlYn1cIiAuaXNSZXRyeT1cIiR7dHJ1ZX1cIj48d2NtLWJ1dHRvbiAub25DbGljaz1cIiR7KCkgPT4gdGhpcy5vcGVuTW9iaWxlQXBwKGZhbHNlKX1cIiAuaWNvblJpZ2h0PVwiJHtTdmdVdGlsLlJFVFJZX0lDT059XCI+UmV0cnk8L3djbS1idXR0b24+PC93Y20tcGxhdGZvcm0tc2VsZWN0aW9uPiR7dW5pdmVyc2FsVXJsID8gaHRtbGA8d2NtLXRleHQgY29sb3I9XCJzZWNvbmRhcnlcIiB2YXJpYW50PVwic21hbGwtdGhpblwiPlN0aWxsIGRvZXNuJ3Qgd29yaz8gPHNwYW4gdGFiaW5kZXg9XCIwXCIgQGNsaWNrPVwiJHsoKSA9PiB0aGlzLm9wZW5Nb2JpbGVBcHAodHJ1ZSl9XCI+VHJ5IHRoaXMgYWx0ZXJuYXRlIGxpbms8L3NwYW4+PC93Y20tdGV4dD5gIDogbnVsbH08L3djbS1pbmZvLWZvb3Rlcj48d2NtLWluZm8tZm9vdGVyIGNsYXNzPVwid2NtLWFwcC1zdG9yZVwiPjxkaXY+PHdjbS13YWxsZXQtaW1hZ2Ugd2FsbGV0SWQ9XCIke2lkfVwiIGltYWdlSWQ9XCIke2lmRGVmaW5lZChpbWFnZV9pZCl9XCI+PC93Y20td2FsbGV0LWltYWdlPjx3Y20tdGV4dD4ke2BHZXQgJHtuYW1lfWB9PC93Y20tdGV4dD48L2Rpdj48d2NtLWJ1dHRvbiAuaWNvblJpZ2h0PVwiJHtTdmdVdGlsLkFSUk9XX1JJR0hUX0lDT059XCIgLm9uQ2xpY2s9XCIkeygpID0+IHRoaXMub25Hb1RvQXBwU3RvcmUoZG93bmxvYWRVcmwpfVwiIHZhcmlhbnQ9XCJnaG9zdFwiPkFwcCBTdG9yZTwvd2NtLWJ1dHRvbj48L3djbS1pbmZvLWZvb3Rlcj5gO1xuICB9XG59O1xuV2NtTW9iaWxlQ29ubmVjdGluZ1ZpZXcuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyQzXTtcbl9fZGVjb3JhdGVDbGFzcyQ0KFtcbiAgc3RhdGUoKVxuXSwgV2NtTW9iaWxlQ29ubmVjdGluZ1ZpZXcucHJvdG90eXBlLCBcImlzRXJyb3JcIiwgMik7XG5XY21Nb2JpbGVDb25uZWN0aW5nVmlldyA9IF9fZGVjb3JhdGVDbGFzcyQ0KFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1tb2JpbGUtY29ubmVjdGluZy12aWV3XCIpXG5dLCBXY21Nb2JpbGVDb25uZWN0aW5nVmlldyk7XG5cbmNvbnN0IHN0eWxlcyQyID0gY3NzYHdjbS1pbmZvLWZvb3RlcntmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO3BhZGRpbmc6NXB4IDB9d2NtLXRleHR7dGV4dC1hbGlnbjpjZW50ZXJ9YDtcblxudmFyIF9fZGVmUHJvcCQzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkMyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJDMgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkMyh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkMyh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtTW9iaWxlUXJDb25uZWN0aW5nVmlldyA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG5hbWUsIGlkLCBpbWFnZV9pZCB9ID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIGNvbnN0IHsgaXNEZXNrdG9wLCBpc1dlYiB9ID0gVWlVdGlsLmdldENhY2hlZFJvdXRlcldhbGxldFBsYXRmb3JtcygpO1xuICAgIHJldHVybiBodG1sYDx3Y20tbW9kYWwtaGVhZGVyIHRpdGxlPVwiJHtuYW1lfVwiIC5vbkFjdGlvbj1cIiR7VWlVdGlsLmhhbmRsZVVyaUNvcHl9XCIgLmFjdGlvbkljb249XCIke1N2Z1V0aWwuQ09QWV9JQ09OfVwiPjwvd2NtLW1vZGFsLWhlYWRlcj48d2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS13YWxsZXRjb25uZWN0LXFyIHdhbGxldElkPVwiJHtpZH1cIiBpbWFnZUlkPVwiJHtpZkRlZmluZWQoaW1hZ2VfaWQpfVwiPjwvd2NtLXdhbGxldGNvbm5lY3QtcXI+PC93Y20tbW9kYWwtY29udGVudD48d2NtLWluZm8tZm9vdGVyPjx3Y20tdGV4dCBjb2xvcj1cInNlY29uZGFyeVwiIHZhcmlhbnQ9XCJzbWFsbC10aGluXCI+JHtgU2NhbiB0aGlzIFFSIENvZGUgd2l0aCB5b3VyIHBob25lJ3MgY2FtZXJhIG9yIGluc2lkZSAke25hbWV9IGFwcGB9PC93Y20tdGV4dD48d2NtLXBsYXRmb3JtLXNlbGVjdGlvbiAuaXNEZXNrdG9wPVwiJHtpc0Rlc2t0b3B9XCIgLmlzV2ViPVwiJHtpc1dlYn1cIj48L3djbS1wbGF0Zm9ybS1zZWxlY3Rpb24+PC93Y20taW5mby1mb290ZXI+YDtcbiAgfVxufTtcbldjbU1vYmlsZVFyQ29ubmVjdGluZ1ZpZXcuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyQyXTtcbldjbU1vYmlsZVFyQ29ubmVjdGluZ1ZpZXcgPSBfX2RlY29yYXRlQ2xhc3MkMyhbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tbW9iaWxlLXFyLWNvbm5lY3Rpbmctdmlld1wiKVxuXSwgV2NtTW9iaWxlUXJDb25uZWN0aW5nVmlldyk7XG5cbnZhciBfX2RlZlByb3AkMiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJDIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyQyID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJDIodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJDIodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVFyY29kZVZpZXcgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1tb2RhbC1oZWFkZXIgdGl0bGU9XCJTY2FuIHRoZSBjb2RlXCIgLm9uQWN0aW9uPVwiJHtVaVV0aWwuaGFuZGxlVXJpQ29weX1cIiAuYWN0aW9uSWNvbj1cIiR7U3ZnVXRpbC5DT1BZX0lDT059XCI+PC93Y20tbW9kYWwtaGVhZGVyPjx3Y20tbW9kYWwtY29udGVudD48d2NtLXdhbGxldGNvbm5lY3QtcXI+PC93Y20td2FsbGV0Y29ubmVjdC1xcj48L3djbS1tb2RhbC1jb250ZW50PmA7XG4gIH1cbn07XG5XY21RcmNvZGVWaWV3LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzXTtcbldjbVFyY29kZVZpZXcgPSBfX2RlY29yYXRlQ2xhc3MkMihbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tcXJjb2RlLXZpZXdcIilcbl0sIFdjbVFyY29kZVZpZXcpO1xuXG5jb25zdCBzdHlsZXMkMSA9IGNzc2B3Y20tbW9kYWwtY29udGVudHtoZWlnaHQ6Y2xhbXAoMjAwcHgsNjB2aCw2MDBweCk7ZGlzcGxheTpibG9jaztvdmVyZmxvdzpzY3JvbGw7c2Nyb2xsYmFyLXdpZHRoOm5vbmU7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luLXRvcDoxcHh9LndjbS1ncmlke2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDQsODBweCk7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47bWFyZ2luOi0xNXB4IC0xMHB4O3BhZGRpbmctdG9wOjIwcHh9d2NtLW1vZGFsLWNvbnRlbnQ6OmFmdGVyLHdjbS1tb2RhbC1jb250ZW50OjpiZWZvcmV7Y29udGVudDonJztwb3NpdGlvbjpmaXhlZDtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6MTt3aWR0aDoxMDAlO2hlaWdodDoyMHB4O29wYWNpdHk6MX13Y20tbW9kYWwtY29udGVudDo6YmVmb3Jle2JveC1zaGFkb3c6MCAtMXB4IDAgMCB2YXIoLS13Y20tY29sb3ItYmctMSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodmFyKC0td2NtLWNvbG9yLWJnLTEpLHJnYmEoMjU1LDI1NSwyNTUsMCkpfXdjbS1tb2RhbC1jb250ZW50OjphZnRlcntib3gtc2hhZG93OjAgMXB4IDAgMCB2YXIoLS13Y20tY29sb3ItYmctMSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQocmdiYSgyNTUsMjU1LDI1NSwwKSx2YXIoLS13Y20tY29sb3ItYmctMSkpO3RvcDpjYWxjKDEwMCUgLSAyMHB4KX13Y20tbW9kYWwtY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXJ7ZGlzcGxheTpub25lfS53Y20tcGxhY2Vob2xkZXItYmxvY2t7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2hlaWdodDoxMDBweDtvdmVyZmxvdzpoaWRkZW59LndjbS1lbXB0eSwud2NtLWxvYWRpbmd7ZGlzcGxheTpmbGV4fS53Y20tbG9hZGluZyAud2NtLXBsYWNlaG9sZGVyLWJsb2Nre2hlaWdodDoxMDAlfS53Y20tZW5kLXJlYWNoZWQgLndjbS1wbGFjZWhvbGRlci1ibG9ja3toZWlnaHQ6MDtvcGFjaXR5OjB9LndjbS1lbXB0eSAud2NtLXBsYWNlaG9sZGVyLWJsb2Nre29wYWNpdHk6MTtoZWlnaHQ6MTAwJX13Y20td2FsbGV0LWJ1dHRvbnttYXJnaW46Y2FsYygoMTAwJSAtIDYwcHgpLyAzKSAwfWA7XG5cbnZhciBfX2RlZlByb3AkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJDEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyQxID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJDEodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJDEodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuY29uc3QgUEFHRV9FTlRSSUVTID0gNDA7XG5sZXQgV2NtV2FsbGV0RXhwbG9yZXJWaWV3ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmxvYWRpbmcgPSAhRXhwbG9yZXJDdHJsLnN0YXRlLndhbGxldHMubGlzdGluZ3MubGVuZ3RoO1xuICAgIHRoaXMuZmlyc3RGZXRjaCA9ICFFeHBsb3JlckN0cmwuc3RhdGUud2FsbGV0cy5saXN0aW5ncy5sZW5ndGg7XG4gICAgdGhpcy5zZWFyY2ggPSBcIlwiO1xuICAgIHRoaXMuZW5kUmVhY2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSB2b2lkIDA7XG4gICAgdGhpcy5zZWFyY2hEZWJvdW5jZSA9IFVpVXRpbC5kZWJvdW5jZSgodmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPj0gMSkge1xuICAgICAgICB0aGlzLmZpcnN0RmV0Y2ggPSB0cnVlO1xuICAgICAgICB0aGlzLmVuZFJlYWNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSB2YWx1ZTtcbiAgICAgICAgRXhwbG9yZXJDdHJsLnJlc2V0U2VhcmNoKCk7XG4gICAgICAgIHRoaXMuZmV0Y2hXYWxsZXRzKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2VhcmNoKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gXCJcIjtcbiAgICAgICAgdGhpcy5lbmRSZWFjaGVkID0gdGhpcy5pc0xhc3RQYWdlKCk7XG4gICAgICAgIEV4cGxvcmVyQ3RybC5yZXNldFNlYXJjaCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8vIC0tIGxpZmVjeWNsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGZpcnN0VXBkYXRlZCgpIHtcbiAgICB0aGlzLmNyZWF0ZVBhZ2luYXRpb25PYnNlcnZlcigpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZGlzY29ubmVjdCgpO1xuICB9XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGdldCBwbGFjZWhvbGRlckVsKCkge1xuICAgIHJldHVybiBVaVV0aWwuZ2V0U2hhZG93Um9vdEVsZW1lbnQodGhpcywgXCIud2NtLXBsYWNlaG9sZGVyLWJsb2NrXCIpO1xuICB9XG4gIGNyZWF0ZVBhZ2luYXRpb25PYnNlcnZlcigpIHtcbiAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChbZWxlbWVudF0pID0+IHtcbiAgICAgIGlmIChlbGVtZW50LmlzSW50ZXJzZWN0aW5nICYmICEodGhpcy5zZWFyY2ggJiYgdGhpcy5maXJzdEZldGNoKSkge1xuICAgICAgICB0aGlzLmZldGNoV2FsbGV0cygpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnBsYWNlaG9sZGVyRWwpO1xuICB9XG4gIGlzTGFzdFBhZ2UoKSB7XG4gICAgY29uc3QgeyB3YWxsZXRzLCBzZWFyY2ggfSA9IEV4cGxvcmVyQ3RybC5zdGF0ZTtcbiAgICBjb25zdCB7IGxpc3RpbmdzLCB0b3RhbCB9ID0gdGhpcy5zZWFyY2ggPyBzZWFyY2ggOiB3YWxsZXRzO1xuICAgIHJldHVybiB0b3RhbCA8PSBQQUdFX0VOVFJJRVMgfHwgbGlzdGluZ3MubGVuZ3RoID49IHRvdGFsO1xuICB9XG4gIGFzeW5jIGZldGNoV2FsbGV0cygpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgeyB3YWxsZXRzLCBzZWFyY2ggfSA9IEV4cGxvcmVyQ3RybC5zdGF0ZTtcbiAgICBjb25zdCB7IGxpc3RpbmdzLCB0b3RhbCwgcGFnZSB9ID0gdGhpcy5zZWFyY2ggPyBzZWFyY2ggOiB3YWxsZXRzO1xuICAgIGlmICghdGhpcy5lbmRSZWFjaGVkICYmICh0aGlzLmZpcnN0RmV0Y2ggfHwgdG90YWwgPiBQQUdFX0VOVFJJRVMgJiYgbGlzdGluZ3MubGVuZ3RoIDwgdG90YWwpKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICBjb25zdCBjaGFpbnMgPSAoX2EgPSBPcHRpb25zQ3RybC5zdGF0ZS5jaGFpbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5qb2luKFwiLFwiKTtcbiAgICAgICAgY29uc3QgeyBsaXN0aW5nczogbmV3TGlzdGluZ3MgfSA9IGF3YWl0IEV4cGxvcmVyQ3RybC5nZXRXYWxsZXRzKHtcbiAgICAgICAgICBwYWdlOiB0aGlzLmZpcnN0RmV0Y2ggPyAxIDogcGFnZSArIDEsXG4gICAgICAgICAgZW50cmllczogUEFHRV9FTlRSSUVTLFxuICAgICAgICAgIHNlYXJjaDogdGhpcy5zZWFyY2gsXG4gICAgICAgICAgdmVyc2lvbjogMixcbiAgICAgICAgICBjaGFpbnNcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGV4cGxvcmVySW1hZ2VzID0gbmV3TGlzdGluZ3MubWFwKCh3YWxsZXQpID0+IFVpVXRpbC5nZXRXYWxsZXRJY29uKHdhbGxldCkpO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgLi4uZXhwbG9yZXJJbWFnZXMubWFwKGFzeW5jICh1cmwpID0+IFVpVXRpbC5wcmVsb2FkSW1hZ2UodXJsKSksXG4gICAgICAgICAgQ29yZVV0aWwud2FpdCgzMDApXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmVuZFJlYWNoZWQgPSB0aGlzLmlzTGFzdFBhZ2UoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIFRvYXN0Q3RybC5vcGVuVG9hc3QoVWlVdGlsLmdldEVycm9yTWVzc2FnZShlcnIpLCBcImVycm9yXCIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmlyc3RGZXRjaCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBvbkNvbm5lY3QobGlzdGluZykge1xuICAgIGlmIChDb3JlVXRpbC5pc0FuZHJvaWQoKSkge1xuICAgICAgVWlVdGlsLmhhbmRsZU1vYmlsZUxpbmtpbmcobGlzdGluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFVpVXRpbC5nb1RvQ29ubmVjdGluZ1ZpZXcobGlzdGluZyk7XG4gICAgfVxuICB9XG4gIG9uU2VhcmNoQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gZXZlbnQudGFyZ2V0O1xuICAgIHRoaXMuc2VhcmNoRGVib3VuY2UodmFsdWUpO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHdhbGxldHMsIHNlYXJjaCB9ID0gRXhwbG9yZXJDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHsgbGlzdGluZ3MgfSA9IHRoaXMuc2VhcmNoID8gc2VhcmNoIDogd2FsbGV0cztcbiAgICBjb25zdCBpc0xvYWRpbmcgPSB0aGlzLmxvYWRpbmcgJiYgIWxpc3RpbmdzLmxlbmd0aDtcbiAgICBjb25zdCBpc1NlYXJjaCA9IHRoaXMuc2VhcmNoLmxlbmd0aCA+PSAzO1xuICAgIGxldCBtYW51YWxXYWxsZXRzID0gVGVtcGxhdGVVdGlsLm1hbnVhbFdhbGxldHNUZW1wbGF0ZSgpO1xuICAgIGxldCByZWNvbWVuZGVkV2FsbGV0cyA9IFRlbXBsYXRlVXRpbC5yZWNvbWVuZGVkV2FsbGV0c1RlbXBsYXRlKHRydWUpO1xuICAgIGlmIChpc1NlYXJjaCkge1xuICAgICAgbWFudWFsV2FsbGV0cyA9IG1hbnVhbFdhbGxldHMuZmlsdGVyKFxuICAgICAgICAoeyB2YWx1ZXMgfSkgPT4gVWlVdGlsLmNhc2VTYWZlSW5jbHVkZXModmFsdWVzWzBdLCB0aGlzLnNlYXJjaClcbiAgICAgICk7XG4gICAgICByZWNvbWVuZGVkV2FsbGV0cyA9IHJlY29tZW5kZWRXYWxsZXRzLmZpbHRlcihcbiAgICAgICAgKHsgdmFsdWVzIH0pID0+IFVpVXRpbC5jYXNlU2FmZUluY2x1ZGVzKHZhbHVlc1swXSwgdGhpcy5zZWFyY2gpXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBpc0VtcHR5ID0gIXRoaXMubG9hZGluZyAmJiAhbGlzdGluZ3MubGVuZ3RoICYmICFyZWNvbWVuZGVkV2FsbGV0cy5sZW5ndGg7XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFwid2NtLWxvYWRpbmdcIjogaXNMb2FkaW5nLFxuICAgICAgXCJ3Y20tZW5kLXJlYWNoZWRcIjogdGhpcy5lbmRSZWFjaGVkIHx8ICF0aGlzLmxvYWRpbmcsXG4gICAgICBcIndjbS1lbXB0eVwiOiBpc0VtcHR5XG4gICAgfTtcbiAgICByZXR1cm4gaHRtbGA8d2NtLW1vZGFsLWhlYWRlcj48d2NtLXNlYXJjaC1pbnB1dCAub25DaGFuZ2U9XCIke3RoaXMub25TZWFyY2hDaGFuZ2UuYmluZCh0aGlzKX1cIj48L3djbS1zZWFyY2gtaW5wdXQ+PC93Y20tbW9kYWwtaGVhZGVyPjx3Y20tbW9kYWwtY29udGVudCBjbGFzcz1cIiR7Y2xhc3NNYXAoY2xhc3Nlcyl9XCI+PGRpdiBjbGFzcz1cIndjbS1ncmlkXCI+JHtpc0xvYWRpbmcgPyBudWxsIDogbWFudWFsV2FsbGV0c30gJHtpc0xvYWRpbmcgPyBudWxsIDogcmVjb21lbmRlZFdhbGxldHN9ICR7aXNMb2FkaW5nID8gbnVsbCA6IGxpc3RpbmdzLm1hcChcbiAgICAgIChsaXN0aW5nKSA9PiBodG1sYCR7bGlzdGluZyA/IGh0bWxgPHdjbS13YWxsZXQtYnV0dG9uIGltYWdlSWQ9XCIke2xpc3RpbmcuaW1hZ2VfaWR9XCIgbmFtZT1cIiR7bGlzdGluZy5uYW1lfVwiIHdhbGxldElkPVwiJHtsaXN0aW5nLmlkfVwiIC5vbkNsaWNrPVwiJHsoKSA9PiB0aGlzLm9uQ29ubmVjdChsaXN0aW5nKX1cIj48L3djbS13YWxsZXQtYnV0dG9uPmAgOiBudWxsfWBcbiAgICApfTwvZGl2PjxkaXYgY2xhc3M9XCJ3Y20tcGxhY2Vob2xkZXItYmxvY2tcIj4ke2lzRW1wdHkgPyBodG1sYDx3Y20tdGV4dCB2YXJpYW50PVwiYmlnLWJvbGRcIiBjb2xvcj1cInNlY29uZGFyeVwiPk5vIHJlc3VsdHMgZm91bmQ8L3djbS10ZXh0PmAgOiBudWxsfSAkeyFpc0VtcHR5ICYmIHRoaXMubG9hZGluZyA/IGh0bWxgPHdjbS1zcGlubmVyPjwvd2NtLXNwaW5uZXI+YCA6IG51bGx9PC9kaXY+PC93Y20tbW9kYWwtY29udGVudD5gO1xuICB9XG59O1xuV2NtV2FsbGV0RXhwbG9yZXJWaWV3LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkMV07XG5fX2RlY29yYXRlQ2xhc3MkMShbXG4gIHN0YXRlKClcbl0sIFdjbVdhbGxldEV4cGxvcmVyVmlldy5wcm90b3R5cGUsIFwibG9hZGluZ1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyQxKFtcbiAgc3RhdGUoKVxuXSwgV2NtV2FsbGV0RXhwbG9yZXJWaWV3LnByb3RvdHlwZSwgXCJmaXJzdEZldGNoXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJDEoW1xuICBzdGF0ZSgpXG5dLCBXY21XYWxsZXRFeHBsb3JlclZpZXcucHJvdG90eXBlLCBcInNlYXJjaFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyQxKFtcbiAgc3RhdGUoKVxuXSwgV2NtV2FsbGV0RXhwbG9yZXJWaWV3LnByb3RvdHlwZSwgXCJlbmRSZWFjaGVkXCIsIDIpO1xuV2NtV2FsbGV0RXhwbG9yZXJWaWV3ID0gX19kZWNvcmF0ZUNsYXNzJDEoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXdhbGxldC1leHBsb3Jlci12aWV3XCIpXG5dLCBXY21XYWxsZXRFeHBsb3JlclZpZXcpO1xuXG5jb25zdCBzdHlsZXMgPSBjc3Ngd2NtLWluZm8tZm9vdGVye2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7cGFkZGluZzo1cHggMH13Y20tdGV4dHt0ZXh0LWFsaWduOmNlbnRlcn1gO1xuXG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVdlYkNvbm5lY3RpbmdWaWV3ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gbGlmZWN5Y2xlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlzRXJyb3IgPSBmYWxzZTtcbiAgICB0aGlzLm9wZW5XZWJXYWxsZXQoKTtcbiAgfVxuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBvbkZvcm1hdEFuZFJlZGlyZWN0KHVyaSkge1xuICAgIGNvbnN0IHsgZGVza3RvcCwgbmFtZSB9ID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIGNvbnN0IHVuaXZlcnNhbFVybCA9IGRlc2t0b3AgPT0gbnVsbCA/IHZvaWQgMCA6IGRlc2t0b3AudW5pdmVyc2FsO1xuICAgIGlmICh1bml2ZXJzYWxVcmwpIHtcbiAgICAgIGNvbnN0IGhyZWYgPSBDb3JlVXRpbC5mb3JtYXRVbml2ZXJzYWxVcmwodW5pdmVyc2FsVXJsLCB1cmksIG5hbWUpO1xuICAgICAgQ29yZVV0aWwub3BlbkhyZWYoaHJlZiwgXCJfYmxhbmtcIik7XG4gICAgfVxuICB9XG4gIG9wZW5XZWJXYWxsZXQoKSB7XG4gICAgY29uc3QgeyB3YWxsZXRDb25uZWN0VXJpIH0gPSBPcHRpb25zQ3RybC5zdGF0ZTtcbiAgICBjb25zdCByb3V0ZXJEYXRhID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIFVpVXRpbC5zZXRSZWNlbnRXYWxsZXQocm91dGVyRGF0YSk7XG4gICAgaWYgKHdhbGxldENvbm5lY3RVcmkpIHtcbiAgICAgIHRoaXMub25Gb3JtYXRBbmRSZWRpcmVjdCh3YWxsZXRDb25uZWN0VXJpKTtcbiAgICB9XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbmFtZSwgaWQsIGltYWdlX2lkIH0gPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgY29uc3QgeyBpc01vYmlsZSwgaXNEZXNrdG9wIH0gPSBVaVV0aWwuZ2V0Q2FjaGVkUm91dGVyV2FsbGV0UGxhdGZvcm1zKCk7XG4gICAgY29uc3QgaXNNb2JpbGVQbGF0Zm9ybSA9IENvcmVVdGlsLmlzTW9iaWxlKCk7XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1tb2RhbC1oZWFkZXIgdGl0bGU9XCIke25hbWV9XCIgLm9uQWN0aW9uPVwiJHtVaVV0aWwuaGFuZGxlVXJpQ29weX1cIiAuYWN0aW9uSWNvbj1cIiR7U3ZnVXRpbC5DT1BZX0lDT059XCI+PC93Y20tbW9kYWwtaGVhZGVyPjx3Y20tbW9kYWwtY29udGVudD48d2NtLWNvbm5lY3Rvci13YWl0aW5nIHdhbGxldElkPVwiJHtpZH1cIiBpbWFnZUlkPVwiJHtpZkRlZmluZWQoaW1hZ2VfaWQpfVwiIGxhYmVsPVwiJHtgQ29udGludWUgaW4gJHtuYW1lfS4uLmB9XCIgLmlzRXJyb3I9XCIke3RoaXMuaXNFcnJvcn1cIj48L3djbS1jb25uZWN0b3Itd2FpdGluZz48L3djbS1tb2RhbC1jb250ZW50Pjx3Y20taW5mby1mb290ZXI+PHdjbS10ZXh0IGNvbG9yPVwic2Vjb25kYXJ5XCIgdmFyaWFudD1cInNtYWxsLXRoaW5cIj4ke2Ake25hbWV9IHdlYiBhcHAgaGFzIG9wZW5lZCBpbiBhIG5ldyB0YWIuIEdvIHRoZXJlLCBhY2NlcHQgdGhlIGNvbm5lY3Rpb24sIGFuZCBjb21lIGJhY2tgfTwvd2NtLXRleHQ+PHdjbS1wbGF0Zm9ybS1zZWxlY3Rpb24gLmlzTW9iaWxlPVwiJHtpc01vYmlsZX1cIiAuaXNEZXNrdG9wPVwiJHtpc01vYmlsZVBsYXRmb3JtID8gZmFsc2UgOiBpc0Rlc2t0b3B9XCIgLmlzUmV0cnk9XCIke3RydWV9XCI+PHdjbS1idXR0b24gLm9uQ2xpY2s9XCIke3RoaXMub3BlbldlYldhbGxldC5iaW5kKHRoaXMpfVwiIC5pY29uUmlnaHQ9XCIke1N2Z1V0aWwuUkVUUllfSUNPTn1cIj5SZXRyeTwvd2NtLWJ1dHRvbj48L3djbS1wbGF0Zm9ybS1zZWxlY3Rpb24+PC93Y20taW5mby1mb290ZXI+YDtcbiAgfVxufTtcbldjbVdlYkNvbm5lY3RpbmdWaWV3LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXNdO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgc3RhdGUoKVxuXSwgV2NtV2ViQ29ubmVjdGluZ1ZpZXcucHJvdG90eXBlLCBcImlzRXJyb3JcIiwgMik7XG5XY21XZWJDb25uZWN0aW5nVmlldyA9IF9fZGVjb3JhdGVDbGFzcyhbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20td2ViLWNvbm5lY3Rpbmctdmlld1wiKVxuXSwgV2NtV2ViQ29ubmVjdGluZ1ZpZXcpO1xuXG5leHBvcnQgeyBXY21Nb2RhbCwgV2NtUXJDb2RlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/css-tag.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/css-tag.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* binding */ CSSResult),\n/* harmony export */   adoptStyles: () => (/* binding */ adoptStyles),\n/* harmony export */   css: () => (/* binding */ css),\n/* harmony export */   getCompatibleStyle: () => (/* binding */ getCompatibleStyle),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* binding */ supportsAdoptingStyleSheets),\n/* harmony export */   unsafeCSS: () => (/* binding */ unsafeCSS)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst global = globalThis ;\n/**\n * Whether the current browser supports `adoptedStyleSheets`.\n */\nconst supportsAdoptingStyleSheets = global.ShadowRoot &&\n    (global.ShadyCSS === undefined || global.ShadyCSS.nativeShadow) &&\n    'adoptedStyleSheets' in Document.prototype &&\n    'replace' in CSSStyleSheet.prototype;\nconst constructionToken = Symbol();\nconst cssTagCache = new WeakMap();\n/**\n * A container for a string of CSS text, that may be used to create a CSSStyleSheet.\n *\n * CSSResult is the return value of `css`-tagged template literals and\n * `unsafeCSS()`. In order to ensure that CSSResults are only created via the\n * `css` tag and `unsafeCSS()`, CSSResult cannot be constructed directly.\n */\nclass CSSResult {\n    constructor(cssText, strings, safeToken) {\n        // This property needs to remain unminified.\n        this['_$cssResult$'] = true;\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n        this._strings = strings;\n    }\n    // This is a getter so that it's lazy. In practice, this means stylesheets\n    // are not created until the first element instance is made.\n    get styleSheet() {\n        // If `supportsAdoptingStyleSheets` is true then we assume CSSStyleSheet is\n        // constructable.\n        let styleSheet = this._styleSheet;\n        const strings = this._strings;\n        if (supportsAdoptingStyleSheets && styleSheet === undefined) {\n            const cacheable = strings !== undefined && strings.length === 1;\n            if (cacheable) {\n                styleSheet = cssTagCache.get(strings);\n            }\n            if (styleSheet === undefined) {\n                (this._styleSheet = styleSheet = new CSSStyleSheet()).replaceSync(this.cssText);\n                if (cacheable) {\n                    cssTagCache.set(strings, styleSheet);\n                }\n            }\n        }\n        return styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\nconst textFromCSSResult = (value) => {\n    // This property needs to remain unminified.\n    if (value['_$cssResult$'] === true) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ` +\n            `${value}. Use 'unsafeCSS' to pass non-literal values, but take care ` +\n            `to ensure page security.`);\n    }\n};\n/**\n * Wrap a value for interpolation in a {@linkcode css} tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nconst unsafeCSS = (value) => new CSSResult(typeof value === 'string' ? value : String(value), undefined, constructionToken);\n/**\n * A template literal tag which can be used with LitElement's\n * {@linkcode LitElement.styles} property to set element styles.\n *\n * For security reasons, only literal string values and number may be used in\n * embedded expressions. To incorporate non-literal values {@linkcode unsafeCSS}\n * may be used inside an expression.\n */\nconst css = (strings, ...values) => {\n    const cssText = strings.length === 1\n        ? strings[0]\n        : values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, strings, constructionToken);\n};\n/**\n * Applies the given styles to a `shadowRoot`. When Shadow DOM is\n * available but `adoptedStyleSheets` is not, styles are appended to the\n * `shadowRoot` to [mimic spec behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n * Note, when shimming is used, any styles that are subsequently placed into\n * the shadowRoot should be placed *before* any shimmed adopted styles. This\n * will match spec behavior that gives adopted sheets precedence over styles in\n * shadowRoot.\n */\nconst adoptStyles = (renderRoot, styles) => {\n    if (supportsAdoptingStyleSheets) {\n        renderRoot.adoptedStyleSheets = styles.map((s) => s instanceof CSSStyleSheet ? s : s.styleSheet);\n    }\n    else {\n        styles.forEach((s) => {\n            const style = document.createElement('style');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const nonce = global['litNonce'];\n            if (nonce !== undefined) {\n                style.setAttribute('nonce', nonce);\n            }\n            style.textContent = s.cssText;\n            renderRoot.appendChild(style);\n        });\n    }\n};\nconst cssResultFromStyleSheet = (sheet) => {\n    let cssText = '';\n    for (const rule of sheet.cssRules) {\n        cssText += rule.cssText;\n    }\n    return unsafeCSS(cssText);\n};\nconst getCompatibleStyle = supportsAdoptingStyleSheets ||\n    (global.CSSStyleSheet === undefined)\n    ? (s) => s\n    : (s) => s instanceof CSSStyleSheet ? cssResultFromStyleSheet(s) : s;\n\n\n//# sourceMappingURL=css-tag.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2Nzcy10YWcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZUFBZTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSw2QkFBNkI7QUFDakM7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFbUc7QUFDbkciLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2Nzcy10YWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzIDtcbi8qKlxuICogV2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIHN1cHBvcnRzIGBhZG9wdGVkU3R5bGVTaGVldHNgLlxuICovXG5jb25zdCBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgPSBnbG9iYWwuU2hhZG93Um9vdCAmJlxuICAgIChnbG9iYWwuU2hhZHlDU1MgPT09IHVuZGVmaW5lZCB8fCBnbG9iYWwuU2hhZHlDU1MubmF0aXZlU2hhZG93KSAmJlxuICAgICdhZG9wdGVkU3R5bGVTaGVldHMnIGluIERvY3VtZW50LnByb3RvdHlwZSAmJlxuICAgICdyZXBsYWNlJyBpbiBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZTtcbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5jb25zdCBjc3NUYWdDYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIEEgY29udGFpbmVyIGZvciBhIHN0cmluZyBvZiBDU1MgdGV4dCwgdGhhdCBtYXkgYmUgdXNlZCB0byBjcmVhdGUgYSBDU1NTdHlsZVNoZWV0LlxuICpcbiAqIENTU1Jlc3VsdCBpcyB0aGUgcmV0dXJuIHZhbHVlIG9mIGBjc3NgLXRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFscyBhbmRcbiAqIGB1bnNhZmVDU1MoKWAuIEluIG9yZGVyIHRvIGVuc3VyZSB0aGF0IENTU1Jlc3VsdHMgYXJlIG9ubHkgY3JlYXRlZCB2aWEgdGhlXG4gKiBgY3NzYCB0YWcgYW5kIGB1bnNhZmVDU1MoKWAsIENTU1Jlc3VsdCBjYW5ub3QgYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuXG4gKi9cbmNsYXNzIENTU1Jlc3VsdCB7XG4gICAgY29uc3RydWN0b3IoY3NzVGV4dCwgc3RyaW5ncywgc2FmZVRva2VuKSB7XG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgIHRoaXNbJ18kY3NzUmVzdWx0JCddID0gdHJ1ZTtcbiAgICAgICAgaWYgKHNhZmVUb2tlbiAhPT0gY29uc3RydWN0aW9uVG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNzc1RleHQgPSBjc3NUZXh0O1xuICAgICAgICB0aGlzLl9zdHJpbmdzID0gc3RyaW5ncztcbiAgICB9XG4gICAgLy8gVGhpcyBpcyBhIGdldHRlciBzbyB0aGF0IGl0J3MgbGF6eS4gSW4gcHJhY3RpY2UsIHRoaXMgbWVhbnMgc3R5bGVzaGVldHNcbiAgICAvLyBhcmUgbm90IGNyZWF0ZWQgdW50aWwgdGhlIGZpcnN0IGVsZW1lbnQgaW5zdGFuY2UgaXMgbWFkZS5cbiAgICBnZXQgc3R5bGVTaGVldCgpIHtcbiAgICAgICAgLy8gSWYgYHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0c2AgaXMgdHJ1ZSB0aGVuIHdlIGFzc3VtZSBDU1NTdHlsZVNoZWV0IGlzXG4gICAgICAgIC8vIGNvbnN0cnVjdGFibGUuXG4gICAgICAgIGxldCBzdHlsZVNoZWV0ID0gdGhpcy5fc3R5bGVTaGVldDtcbiAgICAgICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuX3N0cmluZ3M7XG4gICAgICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgJiYgc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWFibGUgPSBzdHJpbmdzICE9PSB1bmRlZmluZWQgJiYgc3RyaW5ncy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVTaGVldCA9IGNzc1RhZ0NhY2hlLmdldChzdHJpbmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdHlsZVNoZWV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAodGhpcy5fc3R5bGVTaGVldCA9IHN0eWxlU2hlZXQgPSBuZXcgQ1NTU3R5bGVTaGVldCgpKS5yZXBsYWNlU3luYyh0aGlzLmNzc1RleHQpO1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZWFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3NzVGFnQ2FjaGUuc2V0KHN0cmluZ3MsIHN0eWxlU2hlZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3R5bGVTaGVldDtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNzc1RleHQ7XG4gICAgfVxufVxuY29uc3QgdGV4dEZyb21DU1NSZXN1bHQgPSAodmFsdWUpID0+IHtcbiAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgIGlmICh2YWx1ZVsnXyRjc3NSZXN1bHQkJ10gPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLmNzc1RleHQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogYCArXG4gICAgICAgICAgICBgJHt2YWx1ZX0uIFVzZSAndW5zYWZlQ1NTJyB0byBwYXNzIG5vbi1saXRlcmFsIHZhbHVlcywgYnV0IHRha2UgY2FyZSBgICtcbiAgICAgICAgICAgIGB0byBlbnN1cmUgcGFnZSBzZWN1cml0eS5gKTtcbiAgICB9XG59O1xuLyoqXG4gKiBXcmFwIGEgdmFsdWUgZm9yIGludGVycG9sYXRpb24gaW4gYSB7QGxpbmtjb2RlIGNzc30gdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWwuXG4gKlxuICogVGhpcyBpcyB1bnNhZmUgYmVjYXVzZSB1bnRydXN0ZWQgQ1NTIHRleHQgY2FuIGJlIHVzZWQgdG8gcGhvbmUgaG9tZVxuICogb3IgZXhmaWx0cmF0ZSBkYXRhIHRvIGFuIGF0dGFja2VyIGNvbnRyb2xsZWQgc2l0ZS4gVGFrZSBjYXJlIHRvIG9ubHkgdXNlXG4gKiB0aGlzIHdpdGggdHJ1c3RlZCBpbnB1dC5cbiAqL1xuY29uc3QgdW5zYWZlQ1NTID0gKHZhbHVlKSA9PiBuZXcgQ1NTUmVzdWx0KHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSksIHVuZGVmaW5lZCwgY29uc3RydWN0aW9uVG9rZW4pO1xuLyoqXG4gKiBBIHRlbXBsYXRlIGxpdGVyYWwgdGFnIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggTGl0RWxlbWVudCdzXG4gKiB7QGxpbmtjb2RlIExpdEVsZW1lbnQuc3R5bGVzfSBwcm9wZXJ0eSB0byBzZXQgZWxlbWVudCBzdHlsZXMuXG4gKlxuICogRm9yIHNlY3VyaXR5IHJlYXNvbnMsIG9ubHkgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIGFuZCBudW1iZXIgbWF5IGJlIHVzZWQgaW5cbiAqIGVtYmVkZGVkIGV4cHJlc3Npb25zLiBUbyBpbmNvcnBvcmF0ZSBub24tbGl0ZXJhbCB2YWx1ZXMge0BsaW5rY29kZSB1bnNhZmVDU1N9XG4gKiBtYXkgYmUgdXNlZCBpbnNpZGUgYW4gZXhwcmVzc2lvbi5cbiAqL1xuY29uc3QgY3NzID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4ge1xuICAgIGNvbnN0IGNzc1RleHQgPSBzdHJpbmdzLmxlbmd0aCA9PT0gMVxuICAgICAgICA/IHN0cmluZ3NbMF1cbiAgICAgICAgOiB2YWx1ZXMucmVkdWNlKChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLCBzdHJpbmdzWzBdKTtcbiAgICByZXR1cm4gbmV3IENTU1Jlc3VsdChjc3NUZXh0LCBzdHJpbmdzLCBjb25zdHJ1Y3Rpb25Ub2tlbik7XG59O1xuLyoqXG4gKiBBcHBsaWVzIHRoZSBnaXZlbiBzdHlsZXMgdG8gYSBgc2hhZG93Um9vdGAuIFdoZW4gU2hhZG93IERPTSBpc1xuICogYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gKiBgc2hhZG93Um9vdGAgdG8gW21pbWljIHNwZWMgYmVoYXZpb3JdKGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29uc3RydWN0LXN0eWxlc2hlZXRzLyN1c2luZy1jb25zdHJ1Y3RlZC1zdHlsZXNoZWV0cykuXG4gKiBOb3RlLCB3aGVuIHNoaW1taW5nIGlzIHVzZWQsIGFueSBzdHlsZXMgdGhhdCBhcmUgc3Vic2VxdWVudGx5IHBsYWNlZCBpbnRvXG4gKiB0aGUgc2hhZG93Um9vdCBzaG91bGQgYmUgcGxhY2VkICpiZWZvcmUqIGFueSBzaGltbWVkIGFkb3B0ZWQgc3R5bGVzLiBUaGlzXG4gKiB3aWxsIG1hdGNoIHNwZWMgYmVoYXZpb3IgdGhhdCBnaXZlcyBhZG9wdGVkIHNoZWV0cyBwcmVjZWRlbmNlIG92ZXIgc3R5bGVzIGluXG4gKiBzaGFkb3dSb290LlxuICovXG5jb25zdCBhZG9wdFN0eWxlcyA9IChyZW5kZXJSb290LCBzdHlsZXMpID0+IHtcbiAgICBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzKSB7XG4gICAgICAgIHJlbmRlclJvb3QuYWRvcHRlZFN0eWxlU2hlZXRzID0gc3R5bGVzLm1hcCgocykgPT4gcyBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQgPyBzIDogcy5zdHlsZVNoZWV0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0eWxlcy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgY29uc3Qgbm9uY2UgPSBnbG9iYWxbJ2xpdE5vbmNlJ107XG4gICAgICAgICAgICBpZiAobm9uY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHMuY3NzVGV4dDtcbiAgICAgICAgICAgIHJlbmRlclJvb3QuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3QgY3NzUmVzdWx0RnJvbVN0eWxlU2hlZXQgPSAoc2hlZXQpID0+IHtcbiAgICBsZXQgY3NzVGV4dCA9ICcnO1xuICAgIGZvciAoY29uc3QgcnVsZSBvZiBzaGVldC5jc3NSdWxlcykge1xuICAgICAgICBjc3NUZXh0ICs9IHJ1bGUuY3NzVGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHVuc2FmZUNTUyhjc3NUZXh0KTtcbn07XG5jb25zdCBnZXRDb21wYXRpYmxlU3R5bGUgPSBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgfHxcbiAgICAoZ2xvYmFsLkNTU1N0eWxlU2hlZXQgPT09IHVuZGVmaW5lZClcbiAgICA/IChzKSA9PiBzXG4gICAgOiAocykgPT4gcyBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQgPyBjc3NSZXN1bHRGcm9tU3R5bGVTaGVldChzKSA6IHM7XG5cbmV4cG9ydCB7IENTU1Jlc3VsdCwgYWRvcHRTdHlsZXMsIGNzcywgZ2V0Q29tcGF0aWJsZVN0eWxlLCBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMsIHVuc2FmZUNTUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLXRhZy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/css-tag.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decorateProperty: () => (/* binding */ decorateProperty),\n/* harmony export */   legacyPrototypeMethod: () => (/* binding */ legacyPrototypeMethod),\n/* harmony export */   standardPrototypeMethod: () => (/* binding */ standardPrototypeMethod)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst legacyPrototypeMethod = (descriptor, proto, name) => {\n    Object.defineProperty(proto, name, descriptor);\n};\nconst standardPrototypeMethod = (descriptor, element) => ({\n    kind: 'method',\n    placement: 'prototype',\n    key: element.key,\n    descriptor,\n});\n/**\n * Helper for decorating a property that is compatible with both TypeScript\n * and Babel decorators. The optional `finisher` can be used to perform work on\n * the class. The optional `descriptor` should return a PropertyDescriptor\n * to install for the given property.\n *\n * @param finisher {function} Optional finisher method; receives the element\n * constructor and property key as arguments and has no return value.\n * @param descriptor {function} Optional descriptor method; receives the\n * property key as an argument and returns a property descriptor to define for\n * the given property.\n * @returns {ClassElement|void}\n */\nconst decorateProperty = ({ finisher, descriptor, }) => (protoOrDescriptor, name\n// Note TypeScript requires the return type to be `void|any`\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) => {\n    var _a;\n    // TypeScript / Babel legacy mode\n    if (name !== undefined) {\n        const ctor = protoOrDescriptor\n            .constructor;\n        if (descriptor !== undefined) {\n            Object.defineProperty(protoOrDescriptor, name, descriptor(name));\n        }\n        finisher === null || finisher === void 0 ? void 0 : finisher(ctor, name);\n        // Babel standard mode\n    }\n    else {\n        // Note, the @property decorator saves `key` as `originalKey`\n        // so try to use it here.\n        const key = \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (_a = protoOrDescriptor.originalKey) !== null && _a !== void 0 ? _a : protoOrDescriptor.key;\n        const info = descriptor != undefined\n            ? {\n                kind: 'method',\n                placement: 'prototype',\n                key,\n                descriptor: descriptor(protoOrDescriptor.key),\n            }\n            : { ...protoOrDescriptor, key };\n        if (finisher != undefined) {\n            info.finisher = function (ctor) {\n                finisher(ctor, key);\n            };\n        }\n        return info;\n    }\n};\n\n\n//# sourceMappingURL=base.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVSwwQkFBMEI7QUFDeEQ7QUFDQSxzQkFBc0IsVUFBVSw0QkFBNEI7QUFDNUQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDRCQUE0Qix1QkFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTRFO0FBQzVFIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvbm9kZS9kZXZlbG9wbWVudC9kZWNvcmF0b3JzL2Jhc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCBsZWdhY3lQcm90b3R5cGVNZXRob2QgPSAoZGVzY3JpcHRvciwgcHJvdG8sIG5hbWUpID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIG5hbWUsIGRlc2NyaXB0b3IpO1xufTtcbmNvbnN0IHN0YW5kYXJkUHJvdG90eXBlTWV0aG9kID0gKGRlc2NyaXB0b3IsIGVsZW1lbnQpID0+ICh7XG4gICAga2luZDogJ21ldGhvZCcsXG4gICAgcGxhY2VtZW50OiAncHJvdG90eXBlJyxcbiAgICBrZXk6IGVsZW1lbnQua2V5LFxuICAgIGRlc2NyaXB0b3IsXG59KTtcbi8qKlxuICogSGVscGVyIGZvciBkZWNvcmF0aW5nIGEgcHJvcGVydHkgdGhhdCBpcyBjb21wYXRpYmxlIHdpdGggYm90aCBUeXBlU2NyaXB0XG4gKiBhbmQgQmFiZWwgZGVjb3JhdG9ycy4gVGhlIG9wdGlvbmFsIGBmaW5pc2hlcmAgY2FuIGJlIHVzZWQgdG8gcGVyZm9ybSB3b3JrIG9uXG4gKiB0aGUgY2xhc3MuIFRoZSBvcHRpb25hbCBgZGVzY3JpcHRvcmAgc2hvdWxkIHJldHVybiBhIFByb3BlcnR5RGVzY3JpcHRvclxuICogdG8gaW5zdGFsbCBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSBmaW5pc2hlciB7ZnVuY3Rpb259IE9wdGlvbmFsIGZpbmlzaGVyIG1ldGhvZDsgcmVjZWl2ZXMgdGhlIGVsZW1lbnRcbiAqIGNvbnN0cnVjdG9yIGFuZCBwcm9wZXJ0eSBrZXkgYXMgYXJndW1lbnRzIGFuZCBoYXMgbm8gcmV0dXJuIHZhbHVlLlxuICogQHBhcmFtIGRlc2NyaXB0b3Ige2Z1bmN0aW9ufSBPcHRpb25hbCBkZXNjcmlwdG9yIG1ldGhvZDsgcmVjZWl2ZXMgdGhlXG4gKiBwcm9wZXJ0eSBrZXkgYXMgYW4gYXJndW1lbnQgYW5kIHJldHVybnMgYSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHRvIGRlZmluZSBmb3JcbiAqIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAqIEByZXR1cm5zIHtDbGFzc0VsZW1lbnR8dm9pZH1cbiAqL1xuY29uc3QgZGVjb3JhdGVQcm9wZXJ0eSA9ICh7IGZpbmlzaGVyLCBkZXNjcmlwdG9yLCB9KSA9PiAocHJvdG9PckRlc2NyaXB0b3IsIG5hbWVcbi8vIE5vdGUgVHlwZVNjcmlwdCByZXF1aXJlcyB0aGUgcmV0dXJuIHR5cGUgdG8gYmUgYHZvaWR8YW55YFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbikgPT4ge1xuICAgIHZhciBfYTtcbiAgICAvLyBUeXBlU2NyaXB0IC8gQmFiZWwgbGVnYWN5IG1vZGVcbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGN0b3IgPSBwcm90b09yRGVzY3JpcHRvclxuICAgICAgICAgICAgLmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoZGVzY3JpcHRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG9PckRlc2NyaXB0b3IsIG5hbWUsIGRlc2NyaXB0b3IobmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmlzaGVyID09PSBudWxsIHx8IGZpbmlzaGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaW5pc2hlcihjdG9yLCBuYW1lKTtcbiAgICAgICAgLy8gQmFiZWwgc3RhbmRhcmQgbW9kZVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gTm90ZSwgdGhlIEBwcm9wZXJ0eSBkZWNvcmF0b3Igc2F2ZXMgYGtleWAgYXMgYG9yaWdpbmFsS2V5YFxuICAgICAgICAvLyBzbyB0cnkgdG8gdXNlIGl0IGhlcmUuXG4gICAgICAgIGNvbnN0IGtleSA9IFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAoX2EgPSBwcm90b09yRGVzY3JpcHRvci5vcmlnaW5hbEtleSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcHJvdG9PckRlc2NyaXB0b3Iua2V5O1xuICAgICAgICBjb25zdCBpbmZvID0gZGVzY3JpcHRvciAhPSB1bmRlZmluZWRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdtZXRob2QnLFxuICAgICAgICAgICAgICAgIHBsYWNlbWVudDogJ3Byb3RvdHlwZScsXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3IocHJvdG9PckRlc2NyaXB0b3Iua2V5KSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogeyAuLi5wcm90b09yRGVzY3JpcHRvciwga2V5IH07XG4gICAgICAgIGlmIChmaW5pc2hlciAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGluZm8uZmluaXNoZXIgPSBmdW5jdGlvbiAoY3Rvcikge1xuICAgICAgICAgICAgICAgIGZpbmlzaGVyKGN0b3IsIGtleSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IGRlY29yYXRlUHJvcGVydHksIGxlZ2FjeVByb3RvdHlwZU1ldGhvZCwgc3RhbmRhcmRQcm90b3R5cGVNZXRob2QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/custom-element.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/custom-element.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customElement: () => (/* binding */ customElement)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst legacyCustomElement = (tagName, clazz) => {\n    customElements.define(tagName, clazz);\n    // Cast as any because TS doesn't recognize the return type as being a\n    // subtype of the decorated class when clazz is typed as\n    // `Constructor<HTMLElement>` for some reason.\n    // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n    // applied to elements however.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return clazz;\n};\nconst standardCustomElement = (tagName, descriptor) => {\n    const { kind, elements } = descriptor;\n    return {\n        kind,\n        elements,\n        // This callback is called once the class is otherwise fully defined\n        finisher(clazz) {\n            customElements.define(tagName, clazz);\n        },\n    };\n};\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * ```js\n * @customElement('my-element')\n * class MyElement extends LitElement {\n *   render() {\n *     return html``;\n *   }\n * }\n * ```\n * @category Decorator\n * @param tagName The tag name of the custom element to define.\n */\nconst customElement = (tagName) => (classOrDescriptor) => typeof classOrDescriptor === 'function'\n    ? legacyCustomElement(tagName, classOrDescriptor)\n    : standardCustomElement(tagName, classOrDescriptor);\n\n\n//# sourceMappingURL=custom-element.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvY3VzdG9tLWVsZW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV5QjtBQUN6QiIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L25vZGUvZGV2ZWxvcG1lbnQvZGVjb3JhdG9ycy9jdXN0b20tZWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmNvbnN0IGxlZ2FjeUN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZSwgY2xhenopID0+IHtcbiAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgIC8vIENhc3QgYXMgYW55IGJlY2F1c2UgVFMgZG9lc24ndCByZWNvZ25pemUgdGhlIHJldHVybiB0eXBlIGFzIGJlaW5nIGFcbiAgICAvLyBzdWJ0eXBlIG9mIHRoZSBkZWNvcmF0ZWQgY2xhc3Mgd2hlbiBjbGF6eiBpcyB0eXBlZCBhc1xuICAgIC8vIGBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD5gIGZvciBzb21lIHJlYXNvbi5cbiAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBpcyBoZWxwZnVsIHRvIG1ha2Ugc3VyZSB0aGUgZGVjb3JhdG9yIGlzXG4gICAgLy8gYXBwbGllZCB0byBlbGVtZW50cyBob3dldmVyLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgcmV0dXJuIGNsYXp6O1xufTtcbmNvbnN0IHN0YW5kYXJkQ3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lLCBkZXNjcmlwdG9yKSA9PiB7XG4gICAgY29uc3QgeyBraW5kLCBlbGVtZW50cyB9ID0gZGVzY3JpcHRvcjtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kLFxuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgLy8gVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgb25jZSB0aGUgY2xhc3MgaXMgb3RoZXJ3aXNlIGZ1bGx5IGRlZmluZWRcbiAgICAgICAgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBjbGF6eik7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG4vKipcbiAqIENsYXNzIGRlY29yYXRvciBmYWN0b3J5IHRoYXQgZGVmaW5lcyB0aGUgZGVjb3JhdGVkIGNsYXNzIGFzIGEgY3VzdG9tIGVsZW1lbnQuXG4gKlxuICogYGBganNcbiAqIEBjdXN0b21FbGVtZW50KCdteS1lbGVtZW50JylcbiAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgYDtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBAY2F0ZWdvcnkgRGVjb3JhdG9yXG4gKiBAcGFyYW0gdGFnTmFtZSBUaGUgdGFnIG5hbWUgb2YgdGhlIGN1c3RvbSBlbGVtZW50IHRvIGRlZmluZS5cbiAqL1xuY29uc3QgY3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lKSA9PiAoY2xhc3NPckRlc2NyaXB0b3IpID0+IHR5cGVvZiBjbGFzc09yRGVzY3JpcHRvciA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gbGVnYWN5Q3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcilcbiAgICA6IHN0YW5kYXJkQ3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcik7XG5cbmV4cG9ydCB7IGN1c3RvbUVsZW1lbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWN1c3RvbS1lbGVtZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/custom-element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/event-options.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/event-options.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   eventOptions: () => (/* binding */ eventOptions)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifies event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * ```ts\n * class MyElement {\n *   clicked = false;\n *\n *   render() {\n *     return html`\n *       <div @click=${this._onClick}>\n *         <button></button>\n *       </div>\n *     `;\n *   }\n *\n *   @eventOptions({capture: true})\n *   _onClick(e) {\n *     this.clicked = true;\n *   }\n * }\n * ```\n * @category Decorator\n */\nfunction eventOptions(options) {\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        finisher: (ctor, name) => {\n            Object.assign(\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            ctor.prototype[name], options);\n        },\n    });\n}\n\n\n//# sourceMappingURL=event-options.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvZXZlbnQtb3B0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE2Qzs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGNBQWM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBEQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRXdCO0FBQ3hCIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvbm9kZS9kZXZlbG9wbWVudC9kZWNvcmF0b3JzL2V2ZW50LW9wdGlvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVjb3JhdGVQcm9wZXJ0eSB9IGZyb20gJy4vYmFzZS5qcyc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuLyoqXG4gKiBBZGRzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgdG8gYSBtZXRob2QgdXNlZCBhcyBhbiBldmVudCBsaXN0ZW5lciBpbiBhXG4gKiBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBBbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyBhcyBhY2NlcHRlZCBieVxuICogYEV2ZW50VGFyZ2V0I2FkZEV2ZW50TGlzdGVuZXJgIGFuZCBgRXZlbnRUYXJnZXQjcmVtb3ZlRXZlbnRMaXN0ZW5lcmAuXG4gKlxuICogQ3VycmVudCBicm93c2VycyBzdXBwb3J0IHRoZSBgY2FwdHVyZWAsIGBwYXNzaXZlYCwgYW5kIGBvbmNlYCBvcHRpb25zLiBTZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRXZlbnRUYXJnZXQvYWRkRXZlbnRMaXN0ZW5lciNQYXJhbWV0ZXJzXG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIGNsaWNrZWQgPSBmYWxzZTtcbiAqXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgIDxkaXYgQGNsaWNrPSR7dGhpcy5fb25DbGlja30+XG4gKiAgICAgICAgIDxidXR0b24+PC9idXR0b24+XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICBgO1xuICogICB9XG4gKlxuICogICBAZXZlbnRPcHRpb25zKHtjYXB0dXJlOiB0cnVlfSlcbiAqICAgX29uQ2xpY2soZSkge1xuICogICAgIHRoaXMuY2xpY2tlZCA9IHRydWU7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5mdW5jdGlvbiBldmVudE9wdGlvbnMob3B0aW9ucykge1xuICAgIHJldHVybiBkZWNvcmF0ZVByb3BlcnR5KHtcbiAgICAgICAgZmluaXNoZXI6IChjdG9yLCBuYW1lKSA9PiB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGN0b3IucHJvdG90eXBlW25hbWVdLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgZXZlbnRPcHRpb25zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudC1vcHRpb25zLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/event-options.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/property.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/property.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   property: () => (/* binding */ property)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst standardProperty = (options, element) => {\n    // When decorating an accessor, pass it through and add property metadata.\n    // Note, the `hasOwnProperty` check in `createProperty` ensures we don't\n    // stomp over the user's accessor.\n    if (element.kind === 'method' &&\n        element.descriptor &&\n        !('value' in element.descriptor)) {\n        return {\n            ...element,\n            finisher(clazz) {\n                clazz.createProperty(element.key, options);\n            },\n        };\n    }\n    else {\n        // createProperty() takes care of defining the property, but we still\n        // must return some kind of descriptor, so return a descriptor for an\n        // unused prototype field. The finisher calls createProperty().\n        return {\n            kind: 'field',\n            key: Symbol(),\n            placement: 'own',\n            descriptor: {},\n            // store the original key so subsequent decorators have access to it.\n            originalKey: element.key,\n            // When @babel/plugin-proposal-decorators implements initializers,\n            // do this instead of the initializer below. See:\n            // https://github.com/babel/babel/issues/9260 extras: [\n            //   {\n            //     kind: 'initializer',\n            //     placement: 'own',\n            //     initializer: descriptor.initializer,\n            //   }\n            // ],\n            initializer() {\n                if (typeof element.initializer === 'function') {\n                    this[element.key] = element.initializer.call(this);\n                }\n            },\n            finisher(clazz) {\n                clazz.createProperty(element.key, options);\n            },\n        };\n    }\n};\nconst legacyProperty = (options, proto, name) => {\n    proto.constructor.createProperty(name, options);\n};\n/**\n * A property decorator which creates a reactive property that reflects a\n * corresponding attribute value. When a decorated property is set\n * the element will update and render. A {@linkcode PropertyDeclaration} may\n * optionally be supplied to configure property features.\n *\n * This decorator should only be used for public fields. As public fields,\n * properties should be considered as primarily settable by element users,\n * either via attribute or the property itself.\n *\n * Generally, properties that are changed by the element should be private or\n * protected fields and should use the {@linkcode state} decorator.\n *\n * However, sometimes element code does need to set a public property. This\n * should typically only be done in response to user interaction, and an event\n * should be fired informing the user; for example, a checkbox sets its\n * `checked` property when clicked and fires a `changed` event. Mutating public\n * properties should typically not be done for non-primitive (object or array)\n * properties. In other cases when an element needs to manage state, a private\n * property decorated via the {@linkcode state} decorator should be used. When\n * needed, state properties can be initialized via public properties to\n * facilitate complex interactions.\n *\n * ```ts\n * class MyElement {\n *   @property({ type: Boolean })\n *   clicked = false;\n * }\n * ```\n * @category Decorator\n * @ExportDecoratedItems\n */\nfunction property(options) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (protoOrDescriptor, name) => name !== undefined\n        ? legacyProperty(options, protoOrDescriptor, name)\n        : standardProperty(options, protoOrDescriptor);\n}\n\n\n//# sourceMappingURL=property.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcHJvcGVydHkuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywrQkFBK0I7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsaUJBQWlCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUJBQWlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9CO0FBQ3BCIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvbm9kZS9kZXZlbG9wbWVudC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuY29uc3Qgc3RhbmRhcmRQcm9wZXJ0eSA9IChvcHRpb25zLCBlbGVtZW50KSA9PiB7XG4gICAgLy8gV2hlbiBkZWNvcmF0aW5nIGFuIGFjY2Vzc29yLCBwYXNzIGl0IHRocm91Z2ggYW5kIGFkZCBwcm9wZXJ0eSBtZXRhZGF0YS5cbiAgICAvLyBOb3RlLCB0aGUgYGhhc093blByb3BlcnR5YCBjaGVjayBpbiBgY3JlYXRlUHJvcGVydHlgIGVuc3VyZXMgd2UgZG9uJ3RcbiAgICAvLyBzdG9tcCBvdmVyIHRoZSB1c2VyJ3MgYWNjZXNzb3IuXG4gICAgaWYgKGVsZW1lbnQua2luZCA9PT0gJ21ldGhvZCcgJiZcbiAgICAgICAgZWxlbWVudC5kZXNjcmlwdG9yICYmXG4gICAgICAgICEoJ3ZhbHVlJyBpbiBlbGVtZW50LmRlc2NyaXB0b3IpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5lbGVtZW50LFxuICAgICAgICAgICAgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgICAgICBjbGF6ei5jcmVhdGVQcm9wZXJ0eShlbGVtZW50LmtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gY3JlYXRlUHJvcGVydHkoKSB0YWtlcyBjYXJlIG9mIGRlZmluaW5nIHRoZSBwcm9wZXJ0eSwgYnV0IHdlIHN0aWxsXG4gICAgICAgIC8vIG11c3QgcmV0dXJuIHNvbWUga2luZCBvZiBkZXNjcmlwdG9yLCBzbyByZXR1cm4gYSBkZXNjcmlwdG9yIGZvciBhblxuICAgICAgICAvLyB1bnVzZWQgcHJvdG90eXBlIGZpZWxkLiBUaGUgZmluaXNoZXIgY2FsbHMgY3JlYXRlUHJvcGVydHkoKS5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6ICdmaWVsZCcsXG4gICAgICAgICAgICBrZXk6IFN5bWJvbCgpLFxuICAgICAgICAgICAgcGxhY2VtZW50OiAnb3duJyxcbiAgICAgICAgICAgIGRlc2NyaXB0b3I6IHt9LFxuICAgICAgICAgICAgLy8gc3RvcmUgdGhlIG9yaWdpbmFsIGtleSBzbyBzdWJzZXF1ZW50IGRlY29yYXRvcnMgaGF2ZSBhY2Nlc3MgdG8gaXQuXG4gICAgICAgICAgICBvcmlnaW5hbEtleTogZWxlbWVudC5rZXksXG4gICAgICAgICAgICAvLyBXaGVuIEBiYWJlbC9wbHVnaW4tcHJvcG9zYWwtZGVjb3JhdG9ycyBpbXBsZW1lbnRzIGluaXRpYWxpemVycyxcbiAgICAgICAgICAgIC8vIGRvIHRoaXMgaW5zdGVhZCBvZiB0aGUgaW5pdGlhbGl6ZXIgYmVsb3cuIFNlZTpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iYWJlbC9iYWJlbC9pc3N1ZXMvOTI2MCBleHRyYXM6IFtcbiAgICAgICAgICAgIC8vICAge1xuICAgICAgICAgICAgLy8gICAgIGtpbmQ6ICdpbml0aWFsaXplcicsXG4gICAgICAgICAgICAvLyAgICAgcGxhY2VtZW50OiAnb3duJyxcbiAgICAgICAgICAgIC8vICAgICBpbml0aWFsaXplcjogZGVzY3JpcHRvci5pbml0aWFsaXplcixcbiAgICAgICAgICAgIC8vICAgfVxuICAgICAgICAgICAgLy8gXSxcbiAgICAgICAgICAgIGluaXRpYWxpemVyKCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5pbml0aWFsaXplciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2VsZW1lbnQua2V5XSA9IGVsZW1lbnQuaW5pdGlhbGl6ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgICAgICBjbGF6ei5jcmVhdGVQcm9wZXJ0eShlbGVtZW50LmtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn07XG5jb25zdCBsZWdhY3lQcm9wZXJ0eSA9IChvcHRpb25zLCBwcm90bywgbmFtZSkgPT4ge1xuICAgIHByb3RvLmNvbnN0cnVjdG9yLmNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xufTtcbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3Igd2hpY2ggY3JlYXRlcyBhIHJlYWN0aXZlIHByb3BlcnR5IHRoYXQgcmVmbGVjdHMgYVxuICogY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUgdmFsdWUuIFdoZW4gYSBkZWNvcmF0ZWQgcHJvcGVydHkgaXMgc2V0XG4gKiB0aGUgZWxlbWVudCB3aWxsIHVwZGF0ZSBhbmQgcmVuZGVyLiBBIHtAbGlua2NvZGUgUHJvcGVydHlEZWNsYXJhdGlvbn0gbWF5XG4gKiBvcHRpb25hbGx5IGJlIHN1cHBsaWVkIHRvIGNvbmZpZ3VyZSBwcm9wZXJ0eSBmZWF0dXJlcy5cbiAqXG4gKiBUaGlzIGRlY29yYXRvciBzaG91bGQgb25seSBiZSB1c2VkIGZvciBwdWJsaWMgZmllbGRzLiBBcyBwdWJsaWMgZmllbGRzLFxuICogcHJvcGVydGllcyBzaG91bGQgYmUgY29uc2lkZXJlZCBhcyBwcmltYXJpbHkgc2V0dGFibGUgYnkgZWxlbWVudCB1c2VycyxcbiAqIGVpdGhlciB2aWEgYXR0cmlidXRlIG9yIHRoZSBwcm9wZXJ0eSBpdHNlbGYuXG4gKlxuICogR2VuZXJhbGx5LCBwcm9wZXJ0aWVzIHRoYXQgYXJlIGNoYW5nZWQgYnkgdGhlIGVsZW1lbnQgc2hvdWxkIGJlIHByaXZhdGUgb3JcbiAqIHByb3RlY3RlZCBmaWVsZHMgYW5kIHNob3VsZCB1c2UgdGhlIHtAbGlua2NvZGUgc3RhdGV9IGRlY29yYXRvci5cbiAqXG4gKiBIb3dldmVyLCBzb21ldGltZXMgZWxlbWVudCBjb2RlIGRvZXMgbmVlZCB0byBzZXQgYSBwdWJsaWMgcHJvcGVydHkuIFRoaXNcbiAqIHNob3VsZCB0eXBpY2FsbHkgb25seSBiZSBkb25lIGluIHJlc3BvbnNlIHRvIHVzZXIgaW50ZXJhY3Rpb24sIGFuZCBhbiBldmVudFxuICogc2hvdWxkIGJlIGZpcmVkIGluZm9ybWluZyB0aGUgdXNlcjsgZm9yIGV4YW1wbGUsIGEgY2hlY2tib3ggc2V0cyBpdHNcbiAqIGBjaGVja2VkYCBwcm9wZXJ0eSB3aGVuIGNsaWNrZWQgYW5kIGZpcmVzIGEgYGNoYW5nZWRgIGV2ZW50LiBNdXRhdGluZyBwdWJsaWNcbiAqIHByb3BlcnRpZXMgc2hvdWxkIHR5cGljYWxseSBub3QgYmUgZG9uZSBmb3Igbm9uLXByaW1pdGl2ZSAob2JqZWN0IG9yIGFycmF5KVxuICogcHJvcGVydGllcy4gSW4gb3RoZXIgY2FzZXMgd2hlbiBhbiBlbGVtZW50IG5lZWRzIHRvIG1hbmFnZSBzdGF0ZSwgYSBwcml2YXRlXG4gKiBwcm9wZXJ0eSBkZWNvcmF0ZWQgdmlhIHRoZSB7QGxpbmtjb2RlIHN0YXRlfSBkZWNvcmF0b3Igc2hvdWxkIGJlIHVzZWQuIFdoZW5cbiAqIG5lZWRlZCwgc3RhdGUgcHJvcGVydGllcyBjYW4gYmUgaW5pdGlhbGl6ZWQgdmlhIHB1YmxpYyBwcm9wZXJ0aWVzIHRvXG4gKiBmYWNpbGl0YXRlIGNvbXBsZXggaW50ZXJhY3Rpb25zLlxuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBNeUVsZW1lbnQge1xuICogICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG4gKiAgIGNsaWNrZWQgPSBmYWxzZTtcbiAqIH1cbiAqIGBgYFxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmZ1bmN0aW9uIHByb3BlcnR5KG9wdGlvbnMpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpID0+IG5hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IGxlZ2FjeVByb3BlcnR5KG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKVxuICAgICAgICA6IHN0YW5kYXJkUHJvcGVydHkob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IpO1xufVxuXG5leHBvcnQgeyBwcm9wZXJ0eSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvcGVydHkuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/property.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-all.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-all.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryAll: () => (/* binding */ queryAll)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\n *\n * ```ts\n * class MyElement {\n *   @queryAll('div')\n *   divs: NodeListOf<HTMLDivElement>;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nfunction queryAll(selector) {\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        descriptor: (_name) => ({\n            get() {\n                var _a, _b;\n                return (_b = (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelectorAll(selector)) !== null && _b !== void 0 ? _b : [];\n            },\n            enumerable: true,\n            configurable: true,\n        }),\n    });\n}\n\n\n//# sourceMappingURL=query-all.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYWxsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTZDOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBEQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFb0I7QUFDcEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlY29yYXRlUHJvcGVydHkgfSBmcm9tICcuL2Jhc2UuanMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3IgdGhhdCBjb252ZXJ0cyBhIGNsYXNzIHByb3BlcnR5IGludG8gYSBnZXR0ZXJcbiAqIHRoYXQgZXhlY3V0ZXMgYSBxdWVyeVNlbGVjdG9yQWxsIG9uIHRoZSBlbGVtZW50J3MgcmVuZGVyUm9vdC5cbiAqXG4gKiBAcGFyYW0gc2VsZWN0b3IgQSBET01TdHJpbmcgY29udGFpbmluZyBvbmUgb3IgbW9yZSBzZWxlY3RvcnMgdG8gbWF0Y2guXG4gKlxuICogU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RvY3VtZW50L3F1ZXJ5U2VsZWN0b3JBbGxcbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgTXlFbGVtZW50IHtcbiAqICAgQHF1ZXJ5QWxsKCdkaXYnKVxuICogICBkaXZzOiBOb2RlTGlzdE9mPEhUTUxEaXZFbGVtZW50PjtcbiAqXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgIDxkaXYgaWQ9XCJmaXJzdFwiPjwvZGl2PlxuICogICAgICAgPGRpdiBpZD1cInNlY29uZFwiPjwvZGl2PlxuICogICAgIGA7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5mdW5jdGlvbiBxdWVyeUFsbChzZWxlY3Rvcikge1xuICAgIHJldHVybiBkZWNvcmF0ZVByb3BlcnR5KHtcbiAgICAgICAgZGVzY3JpcHRvcjogKF9uYW1lKSA9PiAoe1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMucmVuZGVyUm9vdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9KSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgcXVlcnlBbGwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5LWFsbC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-all.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-elements.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-elements.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryAssignedElements: () => (/* binding */ queryAssignedElements)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n\n\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar _a;\nconst global = globalThis ;\n/**\n * A tiny module scoped polyfill for HTMLSlotElement.assignedElements.\n */\nconst slotAssignedElements = ((_a = global.HTMLSlotElement) === null || _a === void 0 ? void 0 : _a.prototype.assignedElements) != null\n    ? (slot, opts) => slot.assignedElements(opts)\n    : (slot, opts) => slot\n        .assignedNodes(opts)\n        .filter((node) => node.nodeType === Node.ELEMENT_NODE);\n/**\n * A property decorator that converts a class property into a getter that\n * returns the `assignedElements` of the given `slot`. Provides a declarative\n * way to use\n * [`HTMLSlotElement.assignedElements`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSlotElement/assignedElements).\n *\n * Can be passed an optional {@linkcode QueryAssignedElementsOptions} object.\n *\n * Example usage:\n * ```ts\n * class MyElement {\n *   @queryAssignedElements({ slot: 'list' })\n *   listItems!: Array<HTMLElement>;\n *   @queryAssignedElements()\n *   unnamedSlotEls!: Array<HTMLElement>;\n *\n *   render() {\n *     return html`\n *       <slot name=\"list\"></slot>\n *       <slot></slot>\n *     `;\n *   }\n * }\n * ```\n *\n * Note, the type of this property should be annotated as `Array<HTMLElement>`.\n *\n * @category Decorator\n */\nfunction queryAssignedElements(options) {\n    const { slot, selector } = options !== null && options !== void 0 ? options : {};\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        descriptor: (_name) => ({\n            get() {\n                var _a;\n                const slotSelector = `slot${slot ? `[name=${slot}]` : ':not([name])'}`;\n                const slotEl = (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelector(slotSelector);\n                const elements = slotEl != null ? slotAssignedElements(slotEl, options) : [];\n                if (selector) {\n                    return elements.filter((node) => node.matches(selector));\n                }\n                return elements;\n            },\n            enumerable: true,\n            configurable: true,\n        }),\n    });\n}\n\n\n//# sourceMappingURL=query-assigned-elements.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtZWxlbWVudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkM7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix3Q0FBd0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsY0FBYztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QixXQUFXLDBEQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsZ0JBQWdCLEtBQUssb0JBQW9CO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFaUM7QUFDakMiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtZWxlbWVudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVjb3JhdGVQcm9wZXJ0eSB9IGZyb20gJy4vYmFzZS5qcyc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xudmFyIF9hO1xuY29uc3QgZ2xvYmFsID0gZ2xvYmFsVGhpcyA7XG4vKipcbiAqIEEgdGlueSBtb2R1bGUgc2NvcGVkIHBvbHlmaWxsIGZvciBIVE1MU2xvdEVsZW1lbnQuYXNzaWduZWRFbGVtZW50cy5cbiAqL1xuY29uc3Qgc2xvdEFzc2lnbmVkRWxlbWVudHMgPSAoKF9hID0gZ2xvYmFsLkhUTUxTbG90RWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnByb3RvdHlwZS5hc3NpZ25lZEVsZW1lbnRzKSAhPSBudWxsXG4gICAgPyAoc2xvdCwgb3B0cykgPT4gc2xvdC5hc3NpZ25lZEVsZW1lbnRzKG9wdHMpXG4gICAgOiAoc2xvdCwgb3B0cykgPT4gc2xvdFxuICAgICAgICAuYXNzaWduZWROb2RlcyhvcHRzKVxuICAgICAgICAuZmlsdGVyKChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSk7XG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyIHRoYXRcbiAqIHJldHVybnMgdGhlIGBhc3NpZ25lZEVsZW1lbnRzYCBvZiB0aGUgZ2l2ZW4gYHNsb3RgLiBQcm92aWRlcyBhIGRlY2xhcmF0aXZlXG4gKiB3YXkgdG8gdXNlXG4gKiBbYEhUTUxTbG90RWxlbWVudC5hc3NpZ25lZEVsZW1lbnRzYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxTbG90RWxlbWVudC9hc3NpZ25lZEVsZW1lbnRzKS5cbiAqXG4gKiBDYW4gYmUgcGFzc2VkIGFuIG9wdGlvbmFsIHtAbGlua2NvZGUgUXVlcnlBc3NpZ25lZEVsZW1lbnRzT3B0aW9uc30gb2JqZWN0LlxuICpcbiAqIEV4YW1wbGUgdXNhZ2U6XG4gKiBgYGB0c1xuICogY2xhc3MgTXlFbGVtZW50IHtcbiAqICAgQHF1ZXJ5QXNzaWduZWRFbGVtZW50cyh7IHNsb3Q6ICdsaXN0JyB9KVxuICogICBsaXN0SXRlbXMhOiBBcnJheTxIVE1MRWxlbWVudD47XG4gKiAgIEBxdWVyeUFzc2lnbmVkRWxlbWVudHMoKVxuICogICB1bm5hbWVkU2xvdEVscyE6IEFycmF5PEhUTUxFbGVtZW50PjtcbiAqXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgIDxzbG90IG5hbWU9XCJsaXN0XCI+PC9zbG90PlxuICogICAgICAgPHNsb3Q+PC9zbG90PlxuICogICAgIGA7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIE5vdGUsIHRoZSB0eXBlIG9mIHRoaXMgcHJvcGVydHkgc2hvdWxkIGJlIGFubm90YXRlZCBhcyBgQXJyYXk8SFRNTEVsZW1lbnQ+YC5cbiAqXG4gKiBAY2F0ZWdvcnkgRGVjb3JhdG9yXG4gKi9cbmZ1bmN0aW9uIHF1ZXJ5QXNzaWduZWRFbGVtZW50cyhvcHRpb25zKSB7XG4gICAgY29uc3QgeyBzbG90LCBzZWxlY3RvciB9ID0gb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDoge307XG4gICAgcmV0dXJuIGRlY29yYXRlUHJvcGVydHkoe1xuICAgICAgICBkZXNjcmlwdG9yOiAoX25hbWUpID0+ICh7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsb3RTZWxlY3RvciA9IGBzbG90JHtzbG90ID8gYFtuYW1lPSR7c2xvdH1dYCA6ICc6bm90KFtuYW1lXSknfWA7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvdEVsID0gKF9hID0gdGhpcy5yZW5kZXJSb290KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucXVlcnlTZWxlY3RvcihzbG90U2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gc2xvdEVsICE9IG51bGwgPyBzbG90QXNzaWduZWRFbGVtZW50cyhzbG90RWwsIG9wdGlvbnMpIDogW107XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50cy5maWx0ZXIoKG5vZGUpID0+IG5vZGUubWF0Y2hlcyhzZWxlY3RvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSksXG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IHF1ZXJ5QXNzaWduZWRFbGVtZW50cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnktYXNzaWduZWQtZWxlbWVudHMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-elements.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-nodes.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-nodes.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryAssignedNodes: () => (/* binding */ queryAssignedNodes)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n/* harmony import */ var _query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./query-assigned-elements.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-elements.js\");\n\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction queryAssignedNodes(slotOrOptions, flatten, selector) {\n    // Normalize the overloaded arguments.\n    let slot = slotOrOptions;\n    let assignedNodesOptions;\n    if (typeof slotOrOptions === 'object') {\n        slot = slotOrOptions.slot;\n        assignedNodesOptions = slotOrOptions;\n    }\n    else {\n        assignedNodesOptions = { flatten };\n    }\n    // For backwards compatibility, queryAssignedNodes with a selector behaves\n    // exactly like queryAssignedElements with a selector.\n    if (selector) {\n        return (0,_query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_1__.queryAssignedElements)({\n            slot: slot,\n            flatten,\n            selector,\n        });\n    }\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        descriptor: (_name) => ({\n            get() {\n                var _a, _b;\n                const slotSelector = `slot${slot ? `[name=${slot}]` : ':not([name])'}`;\n                const slotEl = (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelector(slotSelector);\n                return (_b = slotEl === null || slotEl === void 0 ? void 0 : slotEl.assignedNodes(assignedNodesOptions)) !== null && _b !== void 0 ? _b : [];\n            },\n            enumerable: true,\n            configurable: true,\n        }),\n    });\n}\n\n\n//# sourceMappingURL=query-assigned-nodes.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtbm9kZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQ3dCOztBQUVyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrRkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsV0FBVywwREFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGdCQUFnQixLQUFLLG9CQUFvQjtBQUNyRjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMOztBQUU4QjtBQUM5QiIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L25vZGUvZGV2ZWxvcG1lbnQvZGVjb3JhdG9ycy9xdWVyeS1hc3NpZ25lZC1ub2Rlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWNvcmF0ZVByb3BlcnR5IH0gZnJvbSAnLi9iYXNlLmpzJztcbmltcG9ydCB7IHF1ZXJ5QXNzaWduZWRFbGVtZW50cyB9IGZyb20gJy4vcXVlcnktYXNzaWduZWQtZWxlbWVudHMuanMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmZ1bmN0aW9uIHF1ZXJ5QXNzaWduZWROb2RlcyhzbG90T3JPcHRpb25zLCBmbGF0dGVuLCBzZWxlY3Rvcikge1xuICAgIC8vIE5vcm1hbGl6ZSB0aGUgb3ZlcmxvYWRlZCBhcmd1bWVudHMuXG4gICAgbGV0IHNsb3QgPSBzbG90T3JPcHRpb25zO1xuICAgIGxldCBhc3NpZ25lZE5vZGVzT3B0aW9ucztcbiAgICBpZiAodHlwZW9mIHNsb3RPck9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHNsb3QgPSBzbG90T3JPcHRpb25zLnNsb3Q7XG4gICAgICAgIGFzc2lnbmVkTm9kZXNPcHRpb25zID0gc2xvdE9yT3B0aW9ucztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFzc2lnbmVkTm9kZXNPcHRpb25zID0geyBmbGF0dGVuIH07XG4gICAgfVxuICAgIC8vIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgcXVlcnlBc3NpZ25lZE5vZGVzIHdpdGggYSBzZWxlY3RvciBiZWhhdmVzXG4gICAgLy8gZXhhY3RseSBsaWtlIHF1ZXJ5QXNzaWduZWRFbGVtZW50cyB3aXRoIGEgc2VsZWN0b3IuXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBxdWVyeUFzc2lnbmVkRWxlbWVudHMoe1xuICAgICAgICAgICAgc2xvdDogc2xvdCxcbiAgICAgICAgICAgIGZsYXR0ZW4sXG4gICAgICAgICAgICBzZWxlY3RvcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBkZWNvcmF0ZVByb3BlcnR5KHtcbiAgICAgICAgZGVzY3JpcHRvcjogKF9uYW1lKSA9PiAoe1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvdFNlbGVjdG9yID0gYHNsb3Qke3Nsb3QgPyBgW25hbWU9JHtzbG90fV1gIDogJzpub3QoW25hbWVdKSd9YDtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG90RWwgPSAoX2EgPSB0aGlzLnJlbmRlclJvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5xdWVyeVNlbGVjdG9yKHNsb3RTZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfYiA9IHNsb3RFbCA9PT0gbnVsbCB8fCBzbG90RWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNsb3RFbC5hc3NpZ25lZE5vZGVzKGFzc2lnbmVkTm9kZXNPcHRpb25zKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW107XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSksXG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IHF1ZXJ5QXNzaWduZWROb2RlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnktYXNzaWduZWQtbm9kZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-nodes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-async.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-async.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryAsync: () => (/* binding */ queryAsync)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n// Note, in the future, we may extend this decorator to support the use case\n// where the queried element may need to do work to become ready to interact\n// with (e.g. load some implementation code). If so, we might elect to\n// add a second argument defining a function that can be run to make the\n// queried element loaded/updated/ready.\n/**\n * A property decorator that converts a class property into a getter that\n * returns a promise that resolves to the result of a querySelector on the\n * element's renderRoot done after the element's `updateComplete` promise\n * resolves. When the queried property may change with element state, this\n * decorator can be used instead of requiring users to await the\n * `updateComplete` before accessing the property.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * ```ts\n * class MyElement {\n *   @queryAsync('#first')\n *   first: Promise<HTMLDivElement>;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n *\n * // external usage\n * async doSomethingWithFirst() {\n *  (await aMyElement.first).doSomething();\n * }\n * ```\n * @category Decorator\n */\nfunction queryAsync(selector) {\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        descriptor: (_name) => ({\n            async get() {\n                var _a;\n                await this.updateComplete;\n                return (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelector(selector);\n            },\n            enumerable: true,\n            configurable: true,\n        }),\n    });\n}\n\n\n//# sourceMappingURL=query-async.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYXN5bmMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkM7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwREFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFc0I7QUFDdEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYXN5bmMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVjb3JhdGVQcm9wZXJ0eSB9IGZyb20gJy4vYmFzZS5qcyc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuLy8gTm90ZSwgaW4gdGhlIGZ1dHVyZSwgd2UgbWF5IGV4dGVuZCB0aGlzIGRlY29yYXRvciB0byBzdXBwb3J0IHRoZSB1c2UgY2FzZVxuLy8gd2hlcmUgdGhlIHF1ZXJpZWQgZWxlbWVudCBtYXkgbmVlZCB0byBkbyB3b3JrIHRvIGJlY29tZSByZWFkeSB0byBpbnRlcmFjdFxuLy8gd2l0aCAoZS5nLiBsb2FkIHNvbWUgaW1wbGVtZW50YXRpb24gY29kZSkuIElmIHNvLCB3ZSBtaWdodCBlbGVjdCB0b1xuLy8gYWRkIGEgc2Vjb25kIGFyZ3VtZW50IGRlZmluaW5nIGEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgcnVuIHRvIG1ha2UgdGhlXG4vLyBxdWVyaWVkIGVsZW1lbnQgbG9hZGVkL3VwZGF0ZWQvcmVhZHkuXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyIHRoYXRcbiAqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHJlc3VsdCBvZiBhIHF1ZXJ5U2VsZWN0b3Igb24gdGhlXG4gKiBlbGVtZW50J3MgcmVuZGVyUm9vdCBkb25lIGFmdGVyIHRoZSBlbGVtZW50J3MgYHVwZGF0ZUNvbXBsZXRlYCBwcm9taXNlXG4gKiByZXNvbHZlcy4gV2hlbiB0aGUgcXVlcmllZCBwcm9wZXJ0eSBtYXkgY2hhbmdlIHdpdGggZWxlbWVudCBzdGF0ZSwgdGhpc1xuICogZGVjb3JhdG9yIGNhbiBiZSB1c2VkIGluc3RlYWQgb2YgcmVxdWlyaW5nIHVzZXJzIHRvIGF3YWl0IHRoZVxuICogYHVwZGF0ZUNvbXBsZXRlYCBiZWZvcmUgYWNjZXNzaW5nIHRoZSBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0gc2VsZWN0b3IgQSBET01TdHJpbmcgY29udGFpbmluZyBvbmUgb3IgbW9yZSBzZWxlY3RvcnMgdG8gbWF0Y2guXG4gKlxuICogU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRG9jdW1lbnQvcXVlcnlTZWxlY3RvclxuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBNeUVsZW1lbnQge1xuICogICBAcXVlcnlBc3luYygnI2ZpcnN0JylcbiAqICAgZmlyc3Q6IFByb21pc2U8SFRNTERpdkVsZW1lbnQ+O1xuICpcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYFxuICogICAgICAgPGRpdiBpZD1cImZpcnN0XCI+PC9kaXY+XG4gKiAgICAgICA8ZGl2IGlkPVwic2Vjb25kXCI+PC9kaXY+XG4gKiAgICAgYDtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIGV4dGVybmFsIHVzYWdlXG4gKiBhc3luYyBkb1NvbWV0aGluZ1dpdGhGaXJzdCgpIHtcbiAqICAoYXdhaXQgYU15RWxlbWVudC5maXJzdCkuZG9Tb21ldGhpbmcoKTtcbiAqIH1cbiAqIGBgYFxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5mdW5jdGlvbiBxdWVyeUFzeW5jKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGRlY29yYXRlUHJvcGVydHkoe1xuICAgICAgICBkZXNjcmlwdG9yOiAoX25hbWUpID0+ICh7XG4gICAgICAgICAgICBhc3luYyBnZXQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlQ29tcGxldGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMucmVuZGVyUm9vdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0pLFxuICAgIH0pO1xufVxuXG5leHBvcnQgeyBxdWVyeUFzeW5jIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeS1hc3luYy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-async.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   query: () => (/* binding */ query)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n * @param cache An optional boolean which when true performs the DOM query only\n *     once and caches the result.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * ```ts\n * class MyElement {\n *   @query('#first')\n *   first: HTMLDivElement;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nfunction query(selector, cache) {\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        descriptor: (name) => {\n            const descriptor = {\n                get() {\n                    var _a, _b;\n                    return (_b = (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelector(selector)) !== null && _b !== void 0 ? _b : null;\n                },\n                enumerable: true,\n                configurable: true,\n            };\n            if (cache) {\n                const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n                descriptor.get = function () {\n                    var _a, _b;\n                    if (this[key] === undefined) {\n                        this[key] = (_b = (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelector(selector)) !== null && _b !== void 0 ? _b : null;\n                    }\n                    return this[key];\n                };\n            }\n            return descriptor;\n        },\n    });\n}\n\n\n//# sourceMappingURL=query.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkM7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwREFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxLQUFLO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRWlCO0FBQ2pCIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvbm9kZS9kZXZlbG9wbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlY29yYXRlUHJvcGVydHkgfSBmcm9tICcuL2Jhc2UuanMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3IgdGhhdCBjb252ZXJ0cyBhIGNsYXNzIHByb3BlcnR5IGludG8gYSBnZXR0ZXIgdGhhdFxuICogZXhlY3V0ZXMgYSBxdWVyeVNlbGVjdG9yIG9uIHRoZSBlbGVtZW50J3MgcmVuZGVyUm9vdC5cbiAqXG4gKiBAcGFyYW0gc2VsZWN0b3IgQSBET01TdHJpbmcgY29udGFpbmluZyBvbmUgb3IgbW9yZSBzZWxlY3RvcnMgdG8gbWF0Y2guXG4gKiBAcGFyYW0gY2FjaGUgQW4gb3B0aW9uYWwgYm9vbGVhbiB3aGljaCB3aGVuIHRydWUgcGVyZm9ybXMgdGhlIERPTSBxdWVyeSBvbmx5XG4gKiAgICAgb25jZSBhbmQgY2FjaGVzIHRoZSByZXN1bHQuXG4gKlxuICogU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRG9jdW1lbnQvcXVlcnlTZWxlY3RvclxuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBNeUVsZW1lbnQge1xuICogICBAcXVlcnkoJyNmaXJzdCcpXG4gKiAgIGZpcnN0OiBIVE1MRGl2RWxlbWVudDtcbiAqXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgIDxkaXYgaWQ9XCJmaXJzdFwiPjwvZGl2PlxuICogICAgICAgPGRpdiBpZD1cInNlY29uZFwiPjwvZGl2PlxuICogICAgIGA7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5mdW5jdGlvbiBxdWVyeShzZWxlY3RvciwgY2FjaGUpIHtcbiAgICByZXR1cm4gZGVjb3JhdGVQcm9wZXJ0eSh7XG4gICAgICAgIGRlc2NyaXB0b3I6IChuYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMucmVuZGVyUm9vdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnID8gU3ltYm9sKCkgOiBgX18ke25hbWV9YDtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSAoX2IgPSAoX2EgPSB0aGlzLnJlbmRlclJvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1trZXldO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgcXVlcnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/state.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/state.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   state: () => (/* binding */ state)\n/* harmony export */ });\n/* harmony import */ var _property_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./property.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/property.js\");\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * Declares a private or protected reactive property that still triggers\n * updates to the element when it changes. It does not reflect from the\n * corresponding attribute.\n *\n * Properties declared this way must not be used from HTML or HTML templating\n * systems, they're solely for properties internal to the element. These\n * properties may be renamed by optimization tools like closure compiler.\n * @category Decorator\n */\nfunction state(options) {\n    return (0,_property_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n        ...options,\n        state: true,\n    });\n}\n\n\n//# sourceMappingURL=state.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvc3RhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUM7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxzREFBUTtBQUNuQjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVpQjtBQUNqQiIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L25vZGUvZGV2ZWxvcG1lbnQvZGVjb3JhdG9ycy9zdGF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJy4vcHJvcGVydHkuanMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbi8qKlxuICogRGVjbGFyZXMgYSBwcml2YXRlIG9yIHByb3RlY3RlZCByZWFjdGl2ZSBwcm9wZXJ0eSB0aGF0IHN0aWxsIHRyaWdnZXJzXG4gKiB1cGRhdGVzIHRvIHRoZSBlbGVtZW50IHdoZW4gaXQgY2hhbmdlcy4gSXQgZG9lcyBub3QgcmVmbGVjdCBmcm9tIHRoZVxuICogY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUuXG4gKlxuICogUHJvcGVydGllcyBkZWNsYXJlZCB0aGlzIHdheSBtdXN0IG5vdCBiZSB1c2VkIGZyb20gSFRNTCBvciBIVE1MIHRlbXBsYXRpbmdcbiAqIHN5c3RlbXMsIHRoZXkncmUgc29sZWx5IGZvciBwcm9wZXJ0aWVzIGludGVybmFsIHRvIHRoZSBlbGVtZW50LiBUaGVzZVxuICogcHJvcGVydGllcyBtYXkgYmUgcmVuYW1lZCBieSBvcHRpbWl6YXRpb24gdG9vbHMgbGlrZSBjbG9zdXJlIGNvbXBpbGVyLlxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5mdW5jdGlvbiBzdGF0ZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5KHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgc3RhdGU6IHRydWUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IHN0YXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/state.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/reactive-element.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/reactive-element.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.CSSResult),\n/* harmony export */   ReactiveElement: () => (/* binding */ ReactiveElement),\n/* harmony export */   adoptStyles: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.adoptStyles),\n/* harmony export */   css: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.css),\n/* harmony export */   defaultConverter: () => (/* binding */ defaultConverter),\n/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.getCompatibleStyle),\n/* harmony export */   notEqual: () => (/* binding */ notEqual),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.supportsAdoptingStyleSheets),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.unsafeCSS)\n/* harmony export */ });\n/* harmony import */ var _lit_labs_ssr_dom_shim__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit-labs/ssr-dom-shim */ \"(ssr)/./node_modules/@lit-labs/ssr-dom-shim/index.js\");\n/* harmony import */ var _css_tag_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./css-tag.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/css-tag.js\");\n\n\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar _a, _b, _c, _d;\nvar _e;\nconst global = globalThis ;\n{\n    (_a = global.customElements) !== null && _a !== void 0 ? _a : (global.customElements = _lit_labs_ssr_dom_shim__WEBPACK_IMPORTED_MODULE_0__.customElements);\n}\nlet requestUpdateThenable;\nlet issueWarning;\nconst trustedTypes = global\n    .trustedTypes;\n// Temporary workaround for https://crbug.com/993268\n// Currently, any attribute starting with \"on\" is considered to be a\n// TrustedScript source. Such boolean attributes must be set to the equivalent\n// trusted emptyScript value.\nconst emptyStringForBooleanAttribute = trustedTypes\n    ? trustedTypes.emptyScript\n    : '';\nconst polyfillSupport = global.reactiveElementPolyfillSupportDevMode\n    ;\n{\n    // Ensure warnings are issued only 1x, even if multiple versions of Lit\n    // are loaded.\n    const issuedWarnings = ((_b = global.litIssuedWarnings) !== null && _b !== void 0 ? _b : (global.litIssuedWarnings = new Set()));\n    // Issue a warning, if we haven't already.\n    issueWarning = (code, warning) => {\n        warning += ` See https://lit.dev/msg/${code} for more information.`;\n        if (!issuedWarnings.has(warning)) {\n            console.warn(warning);\n            issuedWarnings.add(warning);\n        }\n    };\n    issueWarning('dev-mode', `Lit is in dev mode. Not recommended for production!`);\n    // Issue polyfill support warning.\n    if (((_c = global.ShadyDOM) === null || _c === void 0 ? void 0 : _c.inUse) && polyfillSupport === undefined) {\n        issueWarning('polyfill-support-missing', `Shadow DOM is being polyfilled via \\`ShadyDOM\\` but ` +\n            `the \\`polyfill-support\\` module has not been loaded.`);\n    }\n    requestUpdateThenable = (name) => ({\n        then: (onfulfilled, _onrejected) => {\n            issueWarning('request-update-promise', `The \\`requestUpdate\\` method should no longer return a Promise but ` +\n                `does so on \\`${name}\\`. Use \\`updateComplete\\` instead.`);\n            if (onfulfilled !== undefined) {\n                onfulfilled(false);\n            }\n        },\n    });\n}\n/**\n * Useful for visualizing and logging insights into what the Lit template system is doing.\n *\n * Compiled out of prod mode builds.\n */\nconst debugLogEvent = (event) => {\n        const shouldEmit = global\n            .emitLitDebugLogEvents;\n        if (!shouldEmit) {\n            return;\n        }\n        global.dispatchEvent(new CustomEvent('lit-debug', {\n            detail: event,\n        }));\n    }\n    ;\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\n/*@__INLINE__*/\nconst JSCompiler_renameProperty = (prop, _obj) => prop;\nconst defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                value = value ? emptyStringForBooleanAttribute : null;\n                break;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                value = value == null ? value : JSON.stringify(value);\n                break;\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        let fromValue = value;\n        switch (type) {\n            case Boolean:\n                fromValue = value !== null;\n                break;\n            case Number:\n                fromValue = value === null ? null : Number(value);\n                break;\n            case Object:\n            case Array:\n                // Do *not* generate exception when invalid JSON is set as elements\n                // don't normally complain on being mis-configured.\n                // TODO(sorvell): Do generate exception in *dev mode*.\n                try {\n                    // Assert to adhere to Bazel's \"must type assert JSON parse\" rule.\n                    fromValue = JSON.parse(value);\n                }\n                catch (e) {\n                    fromValue = null;\n                }\n                break;\n        }\n        return fromValue;\n    },\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nconst notEqual = (value, old) => {\n    // This ensures (old==NaN, value==NaN) always returns false\n    return old !== value && (old === old || value === value);\n};\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    hasChanged: notEqual,\n};\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n * @noInheritDoc\n */\nclass ReactiveElement\n// In the Node build, this `extends` clause will be substituted with\n// `(globalThis.HTMLElement ?? HTMLElement)`.\n//\n// This way, we will first prefer any global `HTMLElement` polyfill that the\n// user has assigned, and then fall back to the `HTMLElement` shim which has\n// been imported (see note at the top of this file about how this import is\n// generated by Rollup). Note that the `HTMLElement` variable has been\n// shadowed by this import, so it no longer refers to the global.\n extends (globalThis.HTMLElement ?? _lit_labs_ssr_dom_shim__WEBPACK_IMPORTED_MODULE_0__.HTMLElement) {\n    constructor() {\n        super();\n        this.__instanceProperties = new Map();\n        /**\n         * True if there is a pending update as a result of calling `requestUpdate()`.\n         * Should only be read.\n         * @category updates\n         */\n        this.isUpdatePending = false;\n        /**\n         * Is set to `true` after the first update. The element code cannot assume\n         * that `renderRoot` exists before the element `hasUpdated`.\n         * @category updates\n         */\n        this.hasUpdated = false;\n        /**\n         * Name of currently reflecting property\n         */\n        this.__reflectingProperty = null;\n        this.__initialize();\n    }\n    /**\n     * Adds an initializer function to the class that is called during instance\n     * construction.\n     *\n     * This is useful for code that runs against a `ReactiveElement`\n     * subclass, such as a decorator, that needs to do work for each\n     * instance, such as setting up a `ReactiveController`.\n     *\n     * ```ts\n     * const myDecorator = (target: typeof ReactiveElement, key: string) => {\n     *   target.addInitializer((instance: ReactiveElement) => {\n     *     // This is run during construction of the element\n     *     new MyController(instance);\n     *   });\n     * }\n     * ```\n     *\n     * Decorating a field will then cause each instance to run an initializer\n     * that adds a controller:\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   @myDecorator foo;\n     * }\n     * ```\n     *\n     * Initializers are stored per-constructor. Adding an initializer to a\n     * subclass does not add it to a superclass. Since initializers are run in\n     * constructors, initializers will run in order of the class hierarchy,\n     * starting with superclasses and progressing to the instance's class.\n     *\n     * @nocollapse\n     */\n    static addInitializer(initializer) {\n        var _a;\n        this.finalize();\n        ((_a = this._initializers) !== null && _a !== void 0 ? _a : (this._initializers = [])).push(initializer);\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     * @category attributes\n     */\n    static get observedAttributes() {\n        // note: piggy backing on this to ensure we're finalized.\n        this.finalize();\n        const attributes = [];\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.elementProperties.forEach((v, p) => {\n            const attr = this.__attributeNameForProperty(p, v);\n            if (attr !== undefined) {\n                this.__attributeToPropertyMap.set(attr, p);\n                attributes.push(attr);\n            }\n        });\n        return attributes;\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist\n     * and stores a {@linkcode PropertyDeclaration} for the property with the\n     * given options. The property setter calls the property's `hasChanged`\n     * property option or uses a strict identity check to determine whether or not\n     * to request an update.\n     *\n     * This method may be overridden to customize properties; however,\n     * when doing so, it's important to call `super.createProperty` to ensure\n     * the property is setup correctly. This method calls\n     * `getPropertyDescriptor` internally to get a descriptor to install.\n     * To customize what properties do when they are get or set, override\n     * `getPropertyDescriptor`. To customize the options for a property,\n     * implement `createProperty` like this:\n     *\n     * ```ts\n     * static createProperty(name, options) {\n     *   options = Object.assign(options, {myOption: true});\n     *   super.createProperty(name, options);\n     * }\n     * ```\n     *\n     * @nocollapse\n     * @category properties\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        var _a;\n        // if this is a state property, force the attribute to false.\n        if (options.state) {\n            // Cast as any since this is readonly.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            options.attribute = false;\n        }\n        // Note, since this can be called by the `@property` decorator which\n        // is called before `finalize`, we ensure finalization has been kicked off.\n        this.finalize();\n        this.elementProperties.set(name, options);\n        // Do not generate an accessor if the prototype already has one, since\n        // it would be lost otherwise and that would never be the user's intention;\n        // Instead, we expect users to call `requestUpdate` themselves from\n        // user-defined accessors. Note that if the super has an accessor we will\n        // still overwrite it\n        if (!options.noAccessor && !this.prototype.hasOwnProperty(name)) {\n            const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n            const descriptor = this.getPropertyDescriptor(name, key, options);\n            if (descriptor !== undefined) {\n                Object.defineProperty(this.prototype, name, descriptor);\n                {\n                    // If this class doesn't have its own set, create one and initialize\n                    // with the values in the set from the nearest ancestor class, if any.\n                    if (!this.hasOwnProperty('__reactivePropertyKeys')) {\n                        this.__reactivePropertyKeys = new Set((_a = this.__reactivePropertyKeys) !== null && _a !== void 0 ? _a : []);\n                    }\n                    this.__reactivePropertyKeys.add(name);\n                }\n            }\n        }\n    }\n    /**\n     * Returns a property descriptor to be defined on the given named property.\n     * If no descriptor is returned, the property will not become an accessor.\n     * For example,\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   static getPropertyDescriptor(name, key, options) {\n     *     const defaultDescriptor =\n     *         super.getPropertyDescriptor(name, key, options);\n     *     const setter = defaultDescriptor.set;\n     *     return {\n     *       get: defaultDescriptor.get,\n     *       set(value) {\n     *         setter.call(this, value);\n     *         // custom action.\n     *       },\n     *       configurable: true,\n     *       enumerable: true\n     *     }\n     *   }\n     * }\n     * ```\n     *\n     * @nocollapse\n     * @category properties\n     */\n    static getPropertyDescriptor(name, key, options) {\n        return {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            get() {\n                return this[key];\n            },\n            set(value) {\n                const oldValue = this[name];\n                this[key] = value;\n                this.requestUpdate(name, oldValue, options);\n            },\n            configurable: true,\n            enumerable: true,\n        };\n    }\n    /**\n     * Returns the property options associated with the given property.\n     * These options are defined with a `PropertyDeclaration` via the `properties`\n     * object or the `@property` decorator and are registered in\n     * `createProperty(...)`.\n     *\n     * Note, this method should be considered \"final\" and not overridden. To\n     * customize the options for a given property, override\n     * {@linkcode createProperty}.\n     *\n     * @nocollapse\n     * @final\n     * @category properties\n     */\n    static getPropertyOptions(name) {\n        return this.elementProperties.get(name) || defaultPropertyDeclaration;\n    }\n    /**\n     * Creates property accessors for registered properties, sets up element\n     * styling, and ensures any superclasses are also finalized. Returns true if\n     * the element was finalized.\n     * @nocollapse\n     */\n    static finalize() {\n        if (this.hasOwnProperty(finalized)) {\n            return false;\n        }\n        this[finalized] = true;\n        // finalize any superclasses\n        const superCtor = Object.getPrototypeOf(this);\n        superCtor.finalize();\n        // Create own set of initializers for this class if any exist on the\n        // superclass and copy them down. Note, for a small perf boost, avoid\n        // creating initializers unless needed.\n        if (superCtor._initializers !== undefined) {\n            this._initializers = [...superCtor._initializers];\n        }\n        this.elementProperties = new Map(superCtor.elementProperties);\n        // initialize Map populated in observedAttributes\n        this.__attributeToPropertyMap = new Map();\n        // make any properties\n        // Note, only process \"own\" properties since this element will inherit\n        // any properties defined on the superClass, and finalization ensures\n        // the entire prototype chain is finalized.\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties'))) {\n            const props = this.properties;\n            // support symbols in properties (IE11 does not support this)\n            const propKeys = [\n                ...Object.getOwnPropertyNames(props),\n                ...Object.getOwnPropertySymbols(props),\n            ];\n            // This for/of is ok because propKeys is an array\n            for (const p of propKeys) {\n                // note, use of `any` is due to TypeScript lack of support for symbol in\n                // index types\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.createProperty(p, props[p]);\n            }\n        }\n        this.elementStyles = this.finalizeStyles(this.styles);\n        // DEV mode warnings\n        {\n            const warnRemovedOrRenamed = (name, renamed = false) => {\n                if (this.prototype.hasOwnProperty(name)) {\n                    issueWarning(renamed ? 'renamed-api' : 'removed-api', `\\`${name}\\` is implemented on class ${this.name}. It ` +\n                        `has been ${renamed ? 'renamed' : 'removed'} ` +\n                        `in this version of LitElement.`);\n                }\n            };\n            warnRemovedOrRenamed('initialize');\n            warnRemovedOrRenamed('requestUpdateInternal');\n            warnRemovedOrRenamed('_getUpdateComplete', true);\n        }\n        return true;\n    }\n    /**\n     * Takes the styles the user supplied via the `static styles` property and\n     * returns the array of styles to apply to the element.\n     * Override this method to integrate into a style management system.\n     *\n     * Styles are deduplicated preserving the _last_ instance in the list. This\n     * is a performance optimization to avoid duplicated styles that can occur\n     * especially when composing via subclassing. The last item is kept to try\n     * to preserve the cascade order with the assumption that it's most important\n     * that last added styles override previous styles.\n     *\n     * @nocollapse\n     * @category styles\n     */\n    static finalizeStyles(styles) {\n        const elementStyles = [];\n        if (Array.isArray(styles)) {\n            // Dedupe the flattened array in reverse order to preserve the last items.\n            // Casting to Array<unknown> works around TS error that\n            // appears to come from trying to flatten a type CSSResultArray.\n            const set = new Set(styles.flat(Infinity).reverse());\n            // Then preserve original order by adding the set items in reverse order.\n            for (const s of set) {\n                elementStyles.unshift((0,_css_tag_js__WEBPACK_IMPORTED_MODULE_1__.getCompatibleStyle)(s));\n            }\n        }\n        else if (styles !== undefined) {\n            elementStyles.push((0,_css_tag_js__WEBPACK_IMPORTED_MODULE_1__.getCompatibleStyle)(styles));\n        }\n        return elementStyles;\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static __attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false\n            ? undefined\n            : typeof attribute === 'string'\n                ? attribute\n                : typeof name === 'string'\n                    ? name.toLowerCase()\n                    : undefined;\n    }\n    /**\n     * Internal only override point for customizing work done when elements\n     * are constructed.\n     */\n    __initialize() {\n        var _a;\n        this.__updatePromise = new Promise((res) => (this.enableUpdating = res));\n        this._$changedProperties = new Map();\n        this.__saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this.requestUpdate();\n        (_a = this.constructor._initializers) === null || _a === void 0 ? void 0 : _a.forEach((i) => i(this));\n    }\n    /**\n     * Registers a `ReactiveController` to participate in the element's reactive\n     * update cycle. The element automatically calls into any registered\n     * controllers during its lifecycle callbacks.\n     *\n     * If the element is connected when `addController()` is called, the\n     * controller's `hostConnected()` callback will be immediately called.\n     * @category controllers\n     */\n    addController(controller) {\n        var _a, _b;\n        ((_a = this.__controllers) !== null && _a !== void 0 ? _a : (this.__controllers = [])).push(controller);\n        // If a controller is added after the element has been connected,\n        // call hostConnected. Note, re-using existence of `renderRoot` here\n        // (which is set in connectedCallback) to avoid the need to track a\n        // first connected state.\n        if (this.renderRoot !== undefined && this.isConnected) {\n            (_b = controller.hostConnected) === null || _b === void 0 ? void 0 : _b.call(controller);\n        }\n    }\n    /**\n     * Removes a `ReactiveController` from the element.\n     * @category controllers\n     */\n    removeController(controller) {\n        var _a;\n        // Note, if the indexOf is -1, the >>> will flip the sign which makes the\n        // splice do nothing.\n        (_a = this.__controllers) === null || _a === void 0 ? void 0 : _a.splice(this.__controllers.indexOf(controller) >>> 0, 1);\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n     * (<=41), properties created for native platform properties like (`id` or\n     * `name`) may not have default values set in the element constructor. On\n     * these browsers native properties appear on instances and therefore their\n     * default value will overwrite any element default (e.g. if the element sets\n     * this.id = 'id' in the constructor, the 'id' will become '' since this is\n     * the native platform default).\n     */\n    __saveInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.constructor.elementProperties.forEach((_v, p) => {\n            if (this.hasOwnProperty(p)) {\n                this.__instanceProperties.set(p, this[p]);\n                delete this[p];\n            }\n        });\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     *\n     * @return Returns a node into which to render.\n     * @category rendering\n     */\n    createRenderRoot() {\n        var _a;\n        const renderRoot = (_a = this.shadowRoot) !== null && _a !== void 0 ? _a : this.attachShadow(this.constructor.shadowRootOptions);\n        (0,_css_tag_js__WEBPACK_IMPORTED_MODULE_1__.adoptStyles)(renderRoot, this.constructor.elementStyles);\n        return renderRoot;\n    }\n    /**\n     * On first connection, creates the element's renderRoot, sets up\n     * element styling, and enables updating.\n     * @category lifecycle\n     */\n    connectedCallback() {\n        var _a;\n        // create renderRoot before first update.\n        if (this.renderRoot === undefined) {\n            this.renderRoot = this.createRenderRoot();\n        }\n        this.enableUpdating(true);\n        (_a = this.__controllers) === null || _a === void 0 ? void 0 : _a.forEach((c) => { var _a; return (_a = c.hostConnected) === null || _a === void 0 ? void 0 : _a.call(c); });\n    }\n    /**\n     * Note, this method should be considered final and not overridden. It is\n     * overridden on the element instance with a function that triggers the first\n     * update.\n     * @category updates\n     */\n    enableUpdating(_requestedUpdate) { }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     * @category lifecycle\n     */\n    disconnectedCallback() {\n        var _a;\n        (_a = this.__controllers) === null || _a === void 0 ? void 0 : _a.forEach((c) => { var _a; return (_a = c.hostDisconnected) === null || _a === void 0 ? void 0 : _a.call(c); });\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     *\n     * Specifically, when an attribute is set, the corresponding property is set.\n     * You should rarely need to implement this callback. If this method is\n     * overridden, `super.attributeChangedCallback(name, _old, value)` must be\n     * called.\n     *\n     * See [using the lifecycle callbacks](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements#using_the_lifecycle_callbacks)\n     * on MDN for more information about the `attributeChangedCallback`.\n     * @category attributes\n     */\n    attributeChangedCallback(name, _old, value) {\n        this._$attributeToProperty(name, value);\n    }\n    __propertyToAttribute(name, value, options = defaultPropertyDeclaration) {\n        var _a;\n        const attr = this.constructor.__attributeNameForProperty(name, options);\n        if (attr !== undefined && options.reflect === true) {\n            const converter = ((_a = options.converter) === null || _a === void 0 ? void 0 : _a.toAttribute) !==\n                undefined\n                ? options.converter\n                : defaultConverter;\n            const attrValue = converter.toAttribute(value, options.type);\n            if (this.constructor.enabledWarnings.indexOf('migration') >= 0 &&\n                attrValue === undefined) {\n                issueWarning('undefined-attribute-value', `The attribute value for the ${name} property is ` +\n                    `undefined on element ${this.localName}. The attribute will be ` +\n                    `removed, but in the previous version of \\`ReactiveElement\\`, ` +\n                    `the attribute would not have changed.`);\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this.__reflectingProperty = name;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this.__reflectingProperty = null;\n        }\n    }\n    /** @internal */\n    _$attributeToProperty(name, value) {\n        var _a;\n        const ctor = this.constructor;\n        // Note, hint this as an `AttributeMap` so closure clearly understands\n        // the type; it has issues with tracking types through statics\n        const propName = ctor.__attributeToPropertyMap.get(name);\n        // Use tracking info to avoid reflecting a property value to an attribute\n        // if it was just set because the attribute changed.\n        if (propName !== undefined && this.__reflectingProperty !== propName) {\n            const options = ctor.getPropertyOptions(propName);\n            const converter = typeof options.converter === 'function'\n                ? { fromAttribute: options.converter }\n                : ((_a = options.converter) === null || _a === void 0 ? void 0 : _a.fromAttribute) !== undefined\n                    ? options.converter\n                    : defaultConverter;\n            // mark state reflecting\n            this.__reflectingProperty = propName;\n            this[propName] = converter.fromAttribute(value, options.type\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            );\n            // mark state not reflecting\n            this.__reflectingProperty = null;\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should be called\n     * when an element should update based on some state not triggered by setting\n     * a reactive property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored.\n     *\n     * @param name name of requesting property\n     * @param oldValue old value of requesting property\n     * @param options property options to use instead of the previously\n     *     configured options\n     * @category updates\n     */\n    requestUpdate(name, oldValue, options) {\n        let shouldRequestUpdate = true;\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            options =\n                options ||\n                    this.constructor.getPropertyOptions(name);\n            const hasChanged = options.hasChanged || notEqual;\n            if (hasChanged(this[name], oldValue)) {\n                if (!this._$changedProperties.has(name)) {\n                    this._$changedProperties.set(name, oldValue);\n                }\n                // Add to reflecting properties set.\n                // Note, it's important that every change has a chance to add the\n                // property to `_reflectingProperties`. This ensures setting\n                // attribute + property reflects correctly.\n                if (options.reflect === true && this.__reflectingProperty !== name) {\n                    if (this.__reflectingProperties === undefined) {\n                        this.__reflectingProperties = new Map();\n                    }\n                    this.__reflectingProperties.set(name, options);\n                }\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                shouldRequestUpdate = false;\n            }\n        }\n        if (!this.isUpdatePending && shouldRequestUpdate) {\n            this.__updatePromise = this.__enqueueUpdate();\n        }\n        // Note, since this no longer returns a promise, in dev mode we return a\n        // thenable which warns if it's called.\n        return requestUpdateThenable(this.localName)\n            ;\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async __enqueueUpdate() {\n        this.isUpdatePending = true;\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await this.__updatePromise;\n        }\n        catch (e) {\n            // Refire any previous errors async so they do not disrupt the update\n            // cycle. Errors are refired so developers have a chance to observe\n            // them, and this can be done by implementing\n            // `window.onunhandledrejection`.\n            Promise.reject(e);\n        }\n        const result = this.scheduleUpdate();\n        // If `scheduleUpdate` returns a Promise, we await it. This is done to\n        // enable coordinating updates with a scheduler. Note, the result is\n        // checked to avoid delaying an additional microtask unless we need to.\n        if (result != null) {\n            await result;\n        }\n        return !this.isUpdatePending;\n    }\n    /**\n     * Schedules an element update. You can override this method to change the\n     * timing of updates by returning a Promise. The update will await the\n     * returned Promise, and you should resolve the Promise to allow the update\n     * to proceed. If this method is overridden, `super.scheduleUpdate()`\n     * must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```ts\n     * override protected async scheduleUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.scheduleUpdate();\n     * }\n     * ```\n     * @category updates\n     */\n    scheduleUpdate() {\n        return this.performUpdate();\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * Call `performUpdate()` to immediately process a pending update. This should\n     * generally not be needed, but it can be done in rare cases when you need to\n     * update synchronously.\n     *\n     * Note: To ensure `performUpdate()` synchronously completes a pending update,\n     * it should not be overridden. In LitElement 2.x it was suggested to override\n     * `performUpdate()` to also customizing update scheduling. Instead, you should now\n     * override `scheduleUpdate()`. For backwards compatibility with LitElement 2.x,\n     * scheduling updates via `performUpdate()` continues to work, but will make\n     * also calling `performUpdate()` to synchronously process updates difficult.\n     *\n     * @category updates\n     */\n    performUpdate() {\n        var _a, _b;\n        // Abort any update if one is not pending when this is called.\n        // This can happen if `performUpdate` is called early to \"flush\"\n        // the update.\n        if (!this.isUpdatePending) {\n            return;\n        }\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({ kind: 'update' });\n        // create renderRoot before first update.\n        if (!this.hasUpdated) {\n            // Produce warning if any class properties are shadowed by class fields\n            {\n                const shadowedProperties = [];\n                (_a = this.constructor.__reactivePropertyKeys) === null || _a === void 0 ? void 0 : _a.forEach((p) => {\n                    var _a;\n                    if (this.hasOwnProperty(p) && !((_a = this.__instanceProperties) === null || _a === void 0 ? void 0 : _a.has(p))) {\n                        shadowedProperties.push(p);\n                    }\n                });\n                if (shadowedProperties.length) {\n                    throw new Error(`The following properties on element ${this.localName} will not ` +\n                        `trigger updates as expected because they are set using class ` +\n                        `fields: ${shadowedProperties.join(', ')}. ` +\n                        `Native class fields and some compiled output will overwrite ` +\n                        `accessors used for detecting changes. See ` +\n                        `https://lit.dev/msg/class-field-shadowing ` +\n                        `for more information.`);\n                }\n            }\n        }\n        // Mixin instance properties once, if they exist.\n        if (this.__instanceProperties) {\n            // Use forEach so this works even if for/of loops are compiled to for loops\n            // expecting arrays\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.__instanceProperties.forEach((v, p) => (this[p] = v));\n            this.__instanceProperties = undefined;\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._$changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.willUpdate(changedProperties);\n                (_b = this.__controllers) === null || _b === void 0 ? void 0 : _b.forEach((c) => { var _a; return (_a = c.hostUpdate) === null || _a === void 0 ? void 0 : _a.call(c); });\n                this.update(changedProperties);\n            }\n            else {\n                this.__markUpdated();\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            // Ensure element can accept additional updates after an exception.\n            this.__markUpdated();\n            throw e;\n        }\n        // The update is no longer considered pending and further updates are now allowed.\n        if (shouldUpdate) {\n            this._$didUpdate(changedProperties);\n        }\n    }\n    /**\n     * Invoked before `update()` to compute values needed during the update.\n     *\n     * Implement `willUpdate` to compute property values that depend on other\n     * properties and are used in the rest of the update process.\n     *\n     * ```ts\n     * willUpdate(changedProperties) {\n     *   // only need to check changed properties for an expensive computation.\n     *   if (changedProperties.has('firstName') || changedProperties.has('lastName')) {\n     *     this.sha = computeSHA(`${this.firstName} ${this.lastName}`);\n     *   }\n     * }\n     *\n     * render() {\n     *   return html`SHA: ${this.sha}`;\n     * }\n     * ```\n     *\n     * @category updates\n     */\n    willUpdate(_changedProperties) { }\n    // Note, this is an override point for polyfill-support.\n    // @internal\n    _$didUpdate(changedProperties) {\n        var _a;\n        (_a = this.__controllers) === null || _a === void 0 ? void 0 : _a.forEach((c) => { var _a; return (_a = c.hostUpdated) === null || _a === void 0 ? void 0 : _a.call(c); });\n        if (!this.hasUpdated) {\n            this.hasUpdated = true;\n            this.firstUpdated(changedProperties);\n        }\n        this.updated(changedProperties);\n        if (this.isUpdatePending &&\n            this.constructor.enabledWarnings.indexOf('change-in-update') >= 0) {\n            issueWarning('change-in-update', `Element ${this.localName} scheduled an update ` +\n                `(generally because a property was set) ` +\n                `after an update completed, causing a new update to be scheduled. ` +\n                `This is inefficient and should be avoided unless the next update ` +\n                `can only be scheduled as a side effect of the previous update.`);\n        }\n    }\n    __markUpdated() {\n        this._$changedProperties = new Map();\n        this.isUpdatePending = false;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super.getUpdateComplete()`, then any subsequent state.\n     *\n     * @return A promise of a boolean that resolves to true if the update completed\n     *     without triggering another update.\n     * @category updates\n     */\n    get updateComplete() {\n        return this.getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   override async getUpdateComplete() {\n     *     const result = await super.getUpdateComplete();\n     *     await this._myChild.updateComplete;\n     *     return result;\n     *   }\n     * }\n     * ```\n     *\n     * @return A promise of a boolean that resolves to true if the update completed\n     *     without triggering another update.\n     * @category updates\n     */\n    getUpdateComplete() {\n        return this.__updatePromise;\n    }\n    /**\n     * Controls whether or not `update()` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    update(_changedProperties) {\n        if (this.__reflectingProperties !== undefined) {\n            // Use forEach so this works even if for/of loops are compiled to for\n            // loops expecting arrays\n            this.__reflectingProperties.forEach((v, k) => this.__propertyToAttribute(k, this[k], v));\n            this.__reflectingProperties = undefined;\n        }\n        this.__markUpdated();\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    updated(_changedProperties) { }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * ```ts\n     * firstUpdated() {\n     *   this.renderRoot.getElementById('my-text-area').focus();\n     * }\n     * ```\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    firstUpdated(_changedProperties) { }\n}\n_e = finalized;\n/**\n * Marks class as having finished creating properties.\n */\nReactiveElement[_e] = true;\n/**\n * Memoized list of all element properties, including any superclass properties.\n * Created lazily on user subclasses when finalizing the class.\n * @nocollapse\n * @category properties\n */\nReactiveElement.elementProperties = new Map();\n/**\n * Memoized list of all element styles.\n * Created lazily on user subclasses when finalizing the class.\n * @nocollapse\n * @category styles\n */\nReactiveElement.elementStyles = [];\n/**\n * Options used when calling `attachShadow`. Set this property to customize\n * the options for the shadowRoot; for example, to create a closed\n * shadowRoot: `{mode: 'closed'}`.\n *\n * Note, these options are used in `createRenderRoot`. If this method\n * is customized, options should be respected if possible.\n * @nocollapse\n * @category rendering\n */\nReactiveElement.shadowRootOptions = { mode: 'open' };\n// Apply polyfills if available\npolyfillSupport === null || polyfillSupport === void 0 ? void 0 : polyfillSupport({ ReactiveElement });\n// Dev mode warnings...\n{\n    // Default warning set.\n    ReactiveElement.enabledWarnings = ['change-in-update'];\n    const ensureOwnWarnings = function (ctor) {\n        if (!ctor.hasOwnProperty(JSCompiler_renameProperty('enabledWarnings'))) {\n            ctor.enabledWarnings = ctor.enabledWarnings.slice();\n        }\n    };\n    ReactiveElement.enableWarning = function (warning) {\n        ensureOwnWarnings(this);\n        if (this.enabledWarnings.indexOf(warning) < 0) {\n            this.enabledWarnings.push(warning);\n        }\n    };\n    ReactiveElement.disableWarning = function (warning) {\n        ensureOwnWarnings(this);\n        const i = this.enabledWarnings.indexOf(warning);\n        if (i >= 0) {\n            this.enabledWarnings.splice(i, 1);\n        }\n    };\n}\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for ReactiveElement usage.\n((_d = global.reactiveElementVersions) !== null && _d !== void 0 ? _d : (global.reactiveElementVersions = [])).push('1.6.3');\nif (global.reactiveElementVersions.length > 1) {\n    issueWarning('multiple-versions', `Multiple versions of Lit loaded. Loading multiple versions ` +\n        `is not recommended.`);\n}\n\n\n//# sourceMappingURL=reactive-element.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L3JlYWN0aXZlLWVsZW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBcUU7QUFDTjtBQUN3RDs7QUFFdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGLGtFQUFjO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsTUFBTTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLEtBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQywrREFBVztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLCtCQUErQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsZUFBZTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxLQUFLO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5QkFBeUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsS0FBSyw2QkFBNkIsVUFBVTtBQUMzSCxvQ0FBb0MsaUNBQWlDO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0RBQWtCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwrREFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3REFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGLFFBQVEsZ0ZBQWdGO0FBQ25MO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGLFFBQVEsbUZBQW1GO0FBQ3RMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RixNQUFNO0FBQy9GLDRDQUE0QyxlQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBLG9GQUFvRixpQkFBaUI7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV1RDtBQUN2RCIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L25vZGUvZGV2ZWxvcG1lbnQvcmVhY3RpdmUtZWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjdXN0b21FbGVtZW50cywgSFRNTEVsZW1lbnQgfSBmcm9tICdAbGl0LWxhYnMvc3NyLWRvbS1zaGltJztcbmltcG9ydCB7IGdldENvbXBhdGlibGVTdHlsZSwgYWRvcHRTdHlsZXMgfSBmcm9tICcuL2Nzcy10YWcuanMnO1xuZXhwb3J0IHsgQ1NTUmVzdWx0LCBhZG9wdFN0eWxlcywgY3NzLCBnZXRDb21wYXRpYmxlU3R5bGUsIHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cywgdW5zYWZlQ1NTIH0gZnJvbSAnLi9jc3MtdGFnLmpzJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG52YXIgX2EsIF9iLCBfYywgX2Q7XG52YXIgX2U7XG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzIDtcbntcbiAgICAoX2EgPSBnbG9iYWwuY3VzdG9tRWxlbWVudHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChnbG9iYWwuY3VzdG9tRWxlbWVudHMgPSBjdXN0b21FbGVtZW50cyk7XG59XG5sZXQgcmVxdWVzdFVwZGF0ZVRoZW5hYmxlO1xubGV0IGlzc3VlV2FybmluZztcbmNvbnN0IHRydXN0ZWRUeXBlcyA9IGdsb2JhbFxuICAgIC50cnVzdGVkVHlwZXM7XG4vLyBUZW1wb3Jhcnkgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9jcmJ1Zy5jb20vOTkzMjY4XG4vLyBDdXJyZW50bHksIGFueSBhdHRyaWJ1dGUgc3RhcnRpbmcgd2l0aCBcIm9uXCIgaXMgY29uc2lkZXJlZCB0byBiZSBhXG4vLyBUcnVzdGVkU2NyaXB0IHNvdXJjZS4gU3VjaCBib29sZWFuIGF0dHJpYnV0ZXMgbXVzdCBiZSBzZXQgdG8gdGhlIGVxdWl2YWxlbnRcbi8vIHRydXN0ZWQgZW1wdHlTY3JpcHQgdmFsdWUuXG5jb25zdCBlbXB0eVN0cmluZ0ZvckJvb2xlYW5BdHRyaWJ1dGUgPSB0cnVzdGVkVHlwZXNcbiAgICA/IHRydXN0ZWRUeXBlcy5lbXB0eVNjcmlwdFxuICAgIDogJyc7XG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBnbG9iYWwucmVhY3RpdmVFbGVtZW50UG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICAgIDtcbntcbiAgICAvLyBFbnN1cmUgd2FybmluZ3MgYXJlIGlzc3VlZCBvbmx5IDF4LCBldmVuIGlmIG11bHRpcGxlIHZlcnNpb25zIG9mIExpdFxuICAgIC8vIGFyZSBsb2FkZWQuXG4gICAgY29uc3QgaXNzdWVkV2FybmluZ3MgPSAoKF9iID0gZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAoZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzID0gbmV3IFNldCgpKSk7XG4gICAgLy8gSXNzdWUgYSB3YXJuaW5nLCBpZiB3ZSBoYXZlbid0IGFscmVhZHkuXG4gICAgaXNzdWVXYXJuaW5nID0gKGNvZGUsIHdhcm5pbmcpID0+IHtcbiAgICAgICAgd2FybmluZyArPSBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYDtcbiAgICAgICAgaWYgKCFpc3N1ZWRXYXJuaW5ncy5oYXMod2FybmluZykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgICAgICAgIGlzc3VlZFdhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaXNzdWVXYXJuaW5nKCdkZXYtbW9kZScsIGBMaXQgaXMgaW4gZGV2IG1vZGUuIE5vdCByZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbiFgKTtcbiAgICAvLyBJc3N1ZSBwb2x5ZmlsbCBzdXBwb3J0IHdhcm5pbmcuXG4gICAgaWYgKCgoX2MgPSBnbG9iYWwuU2hhZHlET00pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5pblVzZSkgJiYgcG9seWZpbGxTdXBwb3J0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKCdwb2x5ZmlsbC1zdXBwb3J0LW1pc3NpbmcnLCBgU2hhZG93IERPTSBpcyBiZWluZyBwb2x5ZmlsbGVkIHZpYSBcXGBTaGFkeURPTVxcYCBidXQgYCArXG4gICAgICAgICAgICBgdGhlIFxcYHBvbHlmaWxsLXN1cHBvcnRcXGAgbW9kdWxlIGhhcyBub3QgYmVlbiBsb2FkZWQuYCk7XG4gICAgfVxuICAgIHJlcXVlc3RVcGRhdGVUaGVuYWJsZSA9IChuYW1lKSA9PiAoe1xuICAgICAgICB0aGVuOiAob25mdWxmaWxsZWQsIF9vbnJlamVjdGVkKSA9PiB7XG4gICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJ3JlcXVlc3QtdXBkYXRlLXByb21pc2UnLCBgVGhlIFxcYHJlcXVlc3RVcGRhdGVcXGAgbWV0aG9kIHNob3VsZCBubyBsb25nZXIgcmV0dXJuIGEgUHJvbWlzZSBidXQgYCArXG4gICAgICAgICAgICAgICAgYGRvZXMgc28gb24gXFxgJHtuYW1lfVxcYC4gVXNlIFxcYHVwZGF0ZUNvbXBsZXRlXFxgIGluc3RlYWQuYCk7XG4gICAgICAgICAgICBpZiAob25mdWxmaWxsZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9uZnVsZmlsbGVkKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8qKlxuICogVXNlZnVsIGZvciB2aXN1YWxpemluZyBhbmQgbG9nZ2luZyBpbnNpZ2h0cyBpbnRvIHdoYXQgdGhlIExpdCB0ZW1wbGF0ZSBzeXN0ZW0gaXMgZG9pbmcuXG4gKlxuICogQ29tcGlsZWQgb3V0IG9mIHByb2QgbW9kZSBidWlsZHMuXG4gKi9cbmNvbnN0IGRlYnVnTG9nRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3Qgc2hvdWxkRW1pdCA9IGdsb2JhbFxuICAgICAgICAgICAgLmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cztcbiAgICAgICAgaWYgKCFzaG91bGRFbWl0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2xvYmFsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdsaXQtZGVidWcnLCB7XG4gICAgICAgICAgICBkZXRhaWw6IGV2ZW50LFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIDtcbi8qXG4gKiBXaGVuIHVzaW5nIENsb3N1cmUgQ29tcGlsZXIsIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkocHJvcGVydHksIG9iamVjdCkgaXNcbiAqIHJlcGxhY2VkIGF0IGNvbXBpbGUgdGltZSBieSB0aGUgbXVuZ2VkIG5hbWUgZm9yIG9iamVjdFtwcm9wZXJ0eV0uIFdlIGNhbm5vdFxuICogYWxpYXMgdGhpcyBmdW5jdGlvbiwgc28gd2UgaGF2ZSB0byB1c2UgYSBzbWFsbCBzaGltIHRoYXQgaGFzIHRoZSBzYW1lXG4gKiBiZWhhdmlvciB3aGVuIG5vdCBjb21waWxpbmcuXG4gKi9cbi8qQF9fSU5MSU5FX18qL1xuY29uc3QgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSA9IChwcm9wLCBfb2JqKSA9PiBwcm9wO1xuY29uc3QgZGVmYXVsdENvbnZlcnRlciA9IHtcbiAgICB0b0F0dHJpYnV0ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID8gZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlIDogbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgIHBhc3MgdGhpcyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgLy8gdG8gYWxsb3cgcmVtb3Zpbmcvbm8gY2hhbmdlIGJlaGF2aW9yLlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IHZhbHVlIDogSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGZyb21BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIHtcbiAgICAgICAgbGV0IGZyb21WYWx1ZSA9IHZhbHVlO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgICAgICBmcm9tVmFsdWUgPSB2YWx1ZSAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgICAgICAgIGZyb21WYWx1ZSA9IHZhbHVlID09PSBudWxsID8gbnVsbCA6IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgICAgICAgICAgLy8gRG8gKm5vdCogZ2VuZXJhdGUgZXhjZXB0aW9uIHdoZW4gaW52YWxpZCBKU09OIGlzIHNldCBhcyBlbGVtZW50c1xuICAgICAgICAgICAgICAgIC8vIGRvbid0IG5vcm1hbGx5IGNvbXBsYWluIG9uIGJlaW5nIG1pcy1jb25maWd1cmVkLlxuICAgICAgICAgICAgICAgIC8vIFRPRE8oc29ydmVsbCk6IERvIGdlbmVyYXRlIGV4Y2VwdGlvbiBpbiAqZGV2IG1vZGUqLlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzc2VydCB0byBhZGhlcmUgdG8gQmF6ZWwncyBcIm11c3QgdHlwZSBhc3NlcnQgSlNPTiBwYXJzZVwiIHJ1bGUuXG4gICAgICAgICAgICAgICAgICAgIGZyb21WYWx1ZSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJvbVZhbHVlO1xuICAgIH0sXG59O1xuLyoqXG4gKiBDaGFuZ2UgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBkaWZmZXJlbnQgZnJvbSBgb2xkVmFsdWVgLlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCBhcyB0aGUgZGVmYXVsdCBmb3IgYSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBmdW5jdGlvbi5cbiAqL1xuY29uc3Qgbm90RXF1YWwgPSAodmFsdWUsIG9sZCkgPT4ge1xuICAgIC8vIFRoaXMgZW5zdXJlcyAob2xkPT1OYU4sIHZhbHVlPT1OYU4pIGFsd2F5cyByZXR1cm5zIGZhbHNlXG4gICAgcmV0dXJuIG9sZCAhPT0gdmFsdWUgJiYgKG9sZCA9PT0gb2xkIHx8IHZhbHVlID09PSB2YWx1ZSk7XG59O1xuY29uc3QgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24gPSB7XG4gICAgYXR0cmlidXRlOiB0cnVlLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjb252ZXJ0ZXI6IGRlZmF1bHRDb252ZXJ0ZXIsXG4gICAgcmVmbGVjdDogZmFsc2UsXG4gICAgaGFzQ2hhbmdlZDogbm90RXF1YWwsXG59O1xuLyoqXG4gKiBUaGUgQ2xvc3VyZSBKUyBDb21waWxlciBkb2Vzbid0IGN1cnJlbnRseSBoYXZlIGdvb2Qgc3VwcG9ydCBmb3Igc3RhdGljXG4gKiBwcm9wZXJ0eSBzZW1hbnRpY3Mgd2hlcmUgXCJ0aGlzXCIgaXMgZHluYW1pYyAoZS5nLlxuICogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMTc3IGFuZCBvdGhlcnMpIHNvIHdlIHVzZVxuICogdGhpcyBoYWNrIHRvIGJ5cGFzcyBhbnkgcmV3cml0aW5nIGJ5IHRoZSBjb21waWxlci5cbiAqL1xuY29uc3QgZmluYWxpemVkID0gJ2ZpbmFsaXplZCc7XG4vKipcbiAqIEJhc2UgZWxlbWVudCBjbGFzcyB3aGljaCBtYW5hZ2VzIGVsZW1lbnQgcHJvcGVydGllcyBhbmQgYXR0cmlidXRlcy4gV2hlblxuICogcHJvcGVydGllcyBjaGFuZ2UsIHRoZSBgdXBkYXRlYCBtZXRob2QgaXMgYXN5bmNocm9ub3VzbHkgY2FsbGVkLiBUaGlzIG1ldGhvZFxuICogc2hvdWxkIGJlIHN1cHBsaWVkIGJ5IHN1YmNsYXNzZXJzIHRvIHJlbmRlciB1cGRhdGVzIGFzIGRlc2lyZWQuXG4gKiBAbm9Jbmhlcml0RG9jXG4gKi9cbmNsYXNzIFJlYWN0aXZlRWxlbWVudFxuLy8gSW4gdGhlIE5vZGUgYnVpbGQsIHRoaXMgYGV4dGVuZHNgIGNsYXVzZSB3aWxsIGJlIHN1YnN0aXR1dGVkIHdpdGhcbi8vIGAoZ2xvYmFsVGhpcy5IVE1MRWxlbWVudCA/PyBIVE1MRWxlbWVudClgLlxuLy9cbi8vIFRoaXMgd2F5LCB3ZSB3aWxsIGZpcnN0IHByZWZlciBhbnkgZ2xvYmFsIGBIVE1MRWxlbWVudGAgcG9seWZpbGwgdGhhdCB0aGVcbi8vIHVzZXIgaGFzIGFzc2lnbmVkLCBhbmQgdGhlbiBmYWxsIGJhY2sgdG8gdGhlIGBIVE1MRWxlbWVudGAgc2hpbSB3aGljaCBoYXNcbi8vIGJlZW4gaW1wb3J0ZWQgKHNlZSBub3RlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlIGFib3V0IGhvdyB0aGlzIGltcG9ydCBpc1xuLy8gZ2VuZXJhdGVkIGJ5IFJvbGx1cCkuIE5vdGUgdGhhdCB0aGUgYEhUTUxFbGVtZW50YCB2YXJpYWJsZSBoYXMgYmVlblxuLy8gc2hhZG93ZWQgYnkgdGhpcyBpbXBvcnQsIHNvIGl0IG5vIGxvbmdlciByZWZlcnMgdG8gdGhlIGdsb2JhbC5cbiBleHRlbmRzIChnbG9iYWxUaGlzLkhUTUxFbGVtZW50ID8/IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcnVlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyB1cGRhdGUgYXMgYSByZXN1bHQgb2YgY2FsbGluZyBgcmVxdWVzdFVwZGF0ZSgpYC5cbiAgICAgICAgICogU2hvdWxkIG9ubHkgYmUgcmVhZC5cbiAgICAgICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNVcGRhdGVQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyBzZXQgdG8gYHRydWVgIGFmdGVyIHRoZSBmaXJzdCB1cGRhdGUuIFRoZSBlbGVtZW50IGNvZGUgY2Fubm90IGFzc3VtZVxuICAgICAgICAgKiB0aGF0IGByZW5kZXJSb290YCBleGlzdHMgYmVmb3JlIHRoZSBlbGVtZW50IGBoYXNVcGRhdGVkYC5cbiAgICAgICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzVXBkYXRlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTmFtZSBvZiBjdXJyZW50bHkgcmVmbGVjdGluZyBwcm9wZXJ0eVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIHRoaXMuX19pbml0aWFsaXplKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gaW5pdGlhbGl6ZXIgZnVuY3Rpb24gdG8gdGhlIGNsYXNzIHRoYXQgaXMgY2FsbGVkIGR1cmluZyBpbnN0YW5jZVxuICAgICAqIGNvbnN0cnVjdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGZvciBjb2RlIHRoYXQgcnVucyBhZ2FpbnN0IGEgYFJlYWN0aXZlRWxlbWVudGBcbiAgICAgKiBzdWJjbGFzcywgc3VjaCBhcyBhIGRlY29yYXRvciwgdGhhdCBuZWVkcyB0byBkbyB3b3JrIGZvciBlYWNoXG4gICAgICogaW5zdGFuY2UsIHN1Y2ggYXMgc2V0dGluZyB1cCBhIGBSZWFjdGl2ZUNvbnRyb2xsZXJgLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCBteURlY29yYXRvciA9ICh0YXJnZXQ6IHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQsIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICogICB0YXJnZXQuYWRkSW5pdGlhbGl6ZXIoKGluc3RhbmNlOiBSZWFjdGl2ZUVsZW1lbnQpID0+IHtcbiAgICAgKiAgICAgLy8gVGhpcyBpcyBydW4gZHVyaW5nIGNvbnN0cnVjdGlvbiBvZiB0aGUgZWxlbWVudFxuICAgICAqICAgICBuZXcgTXlDb250cm9sbGVyKGluc3RhbmNlKTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIERlY29yYXRpbmcgYSBmaWVsZCB3aWxsIHRoZW4gY2F1c2UgZWFjaCBpbnN0YW5jZSB0byBydW4gYW4gaW5pdGlhbGl6ZXJcbiAgICAgKiB0aGF0IGFkZHMgYSBjb250cm9sbGVyOlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICAgKiAgIEBteURlY29yYXRvciBmb287XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSW5pdGlhbGl6ZXJzIGFyZSBzdG9yZWQgcGVyLWNvbnN0cnVjdG9yLiBBZGRpbmcgYW4gaW5pdGlhbGl6ZXIgdG8gYVxuICAgICAqIHN1YmNsYXNzIGRvZXMgbm90IGFkZCBpdCB0byBhIHN1cGVyY2xhc3MuIFNpbmNlIGluaXRpYWxpemVycyBhcmUgcnVuIGluXG4gICAgICogY29uc3RydWN0b3JzLCBpbml0aWFsaXplcnMgd2lsbCBydW4gaW4gb3JkZXIgb2YgdGhlIGNsYXNzIGhpZXJhcmNoeSxcbiAgICAgKiBzdGFydGluZyB3aXRoIHN1cGVyY2xhc3NlcyBhbmQgcHJvZ3Jlc3NpbmcgdG8gdGhlIGluc3RhbmNlJ3MgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBhZGRJbml0aWFsaXplcihpbml0aWFsaXplcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZmluYWxpemUoKTtcbiAgICAgICAgKChfYSA9IHRoaXMuX2luaXRpYWxpemVycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKHRoaXMuX2luaXRpYWxpemVycyA9IFtdKSkucHVzaChpbml0aWFsaXplcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGF0dHJpYnV0ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICogQGNhdGVnb3J5IGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgLy8gbm90ZTogcGlnZ3kgYmFja2luZyBvbiB0aGlzIHRvIGVuc3VyZSB3ZSdyZSBmaW5hbGl6ZWQuXG4gICAgICAgIHRoaXMuZmluYWxpemUoKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtdO1xuICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAgICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLmZvckVhY2goKHYsIHApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLl9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHAsIHYpO1xuICAgICAgICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLnNldChhdHRyLCBwKTtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHByb3BlcnR5IGFjY2Vzc29yIG9uIHRoZSBlbGVtZW50IHByb3RvdHlwZSBpZiBvbmUgZG9lcyBub3QgZXhpc3RcbiAgICAgKiBhbmQgc3RvcmVzIGEge0BsaW5rY29kZSBQcm9wZXJ0eURlY2xhcmF0aW9ufSBmb3IgdGhlIHByb3BlcnR5IHdpdGggdGhlXG4gICAgICogZ2l2ZW4gb3B0aW9ucy4gVGhlIHByb3BlcnR5IHNldHRlciBjYWxscyB0aGUgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGBcbiAgICAgKiBwcm9wZXJ0eSBvcHRpb24gb3IgdXNlcyBhIHN0cmljdCBpZGVudGl0eSBjaGVjayB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3RcbiAgICAgKiB0byByZXF1ZXN0IGFuIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1heSBiZSBvdmVycmlkZGVuIHRvIGN1c3RvbWl6ZSBwcm9wZXJ0aWVzOyBob3dldmVyLFxuICAgICAqIHdoZW4gZG9pbmcgc28sIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgYHN1cGVyLmNyZWF0ZVByb3BlcnR5YCB0byBlbnN1cmVcbiAgICAgKiB0aGUgcHJvcGVydHkgaXMgc2V0dXAgY29ycmVjdGx5LiBUaGlzIG1ldGhvZCBjYWxsc1xuICAgICAqIGBnZXRQcm9wZXJ0eURlc2NyaXB0b3JgIGludGVybmFsbHkgdG8gZ2V0IGEgZGVzY3JpcHRvciB0byBpbnN0YWxsLlxuICAgICAqIFRvIGN1c3RvbWl6ZSB3aGF0IHByb3BlcnRpZXMgZG8gd2hlbiB0aGV5IGFyZSBnZXQgb3Igc2V0LCBvdmVycmlkZVxuICAgICAqIGBnZXRQcm9wZXJ0eURlc2NyaXB0b3JgLiBUbyBjdXN0b21pemUgdGhlIG9wdGlvbnMgZm9yIGEgcHJvcGVydHksXG4gICAgICogaW1wbGVtZW50IGBjcmVhdGVQcm9wZXJ0eWAgbGlrZSB0aGlzOlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBzdGF0aWMgY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucykge1xuICAgICAqICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24ob3B0aW9ucywge215T3B0aW9uOiB0cnVlfSk7XG4gICAgICogICBzdXBlci5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMgPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYSBzdGF0ZSBwcm9wZXJ0eSwgZm9yY2UgdGhlIGF0dHJpYnV0ZSB0byBmYWxzZS5cbiAgICAgICAgaWYgKG9wdGlvbnMuc3RhdGUpIHtcbiAgICAgICAgICAgIC8vIENhc3QgYXMgYW55IHNpbmNlIHRoaXMgaXMgcmVhZG9ubHkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyaWJ1dGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RlLCBzaW5jZSB0aGlzIGNhbiBiZSBjYWxsZWQgYnkgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciB3aGljaFxuICAgICAgICAvLyBpcyBjYWxsZWQgYmVmb3JlIGBmaW5hbGl6ZWAsIHdlIGVuc3VyZSBmaW5hbGl6YXRpb24gaGFzIGJlZW4ga2lja2VkIG9mZi5cbiAgICAgICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgLy8gRG8gbm90IGdlbmVyYXRlIGFuIGFjY2Vzc29yIGlmIHRoZSBwcm90b3R5cGUgYWxyZWFkeSBoYXMgb25lLCBzaW5jZVxuICAgICAgICAvLyBpdCB3b3VsZCBiZSBsb3N0IG90aGVyd2lzZSBhbmQgdGhhdCB3b3VsZCBuZXZlciBiZSB0aGUgdXNlcidzIGludGVudGlvbjtcbiAgICAgICAgLy8gSW5zdGVhZCwgd2UgZXhwZWN0IHVzZXJzIHRvIGNhbGwgYHJlcXVlc3RVcGRhdGVgIHRoZW1zZWx2ZXMgZnJvbVxuICAgICAgICAvLyB1c2VyLWRlZmluZWQgYWNjZXNzb3JzLiBOb3RlIHRoYXQgaWYgdGhlIHN1cGVyIGhhcyBhbiBhY2Nlc3NvciB3ZSB3aWxsXG4gICAgICAgIC8vIHN0aWxsIG92ZXJ3cml0ZSBpdFxuICAgICAgICBpZiAoIW9wdGlvbnMubm9BY2Nlc3NvciAmJiAhdGhpcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHR5cGVvZiBuYW1lID09PSAnc3ltYm9sJyA/IFN5bWJvbCgpIDogYF9fJHtuYW1lfWA7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy5nZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChkZXNjcmlwdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5wcm90b3R5cGUsIG5hbWUsIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBjbGFzcyBkb2Vzbid0IGhhdmUgaXRzIG93biBzZXQsIGNyZWF0ZSBvbmUgYW5kIGluaXRpYWxpemVcbiAgICAgICAgICAgICAgICAgICAgLy8gd2l0aCB0aGUgdmFsdWVzIGluIHRoZSBzZXQgZnJvbSB0aGUgbmVhcmVzdCBhbmNlc3RvciBjbGFzcywgaWYgYW55LlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ19fcmVhY3RpdmVQcm9wZXJ0eUtleXMnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3JlYWN0aXZlUHJvcGVydHlLZXlzID0gbmV3IFNldCgoX2EgPSB0aGlzLl9fcmVhY3RpdmVQcm9wZXJ0eUtleXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fcmVhY3RpdmVQcm9wZXJ0eUtleXMuYWRkKG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcHJvcGVydHkgZGVzY3JpcHRvciB0byBiZSBkZWZpbmVkIG9uIHRoZSBnaXZlbiBuYW1lZCBwcm9wZXJ0eS5cbiAgICAgKiBJZiBubyBkZXNjcmlwdG9yIGlzIHJldHVybmVkLCB0aGUgcHJvcGVydHkgd2lsbCBub3QgYmVjb21lIGFuIGFjY2Vzc29yLlxuICAgICAqIEZvciBleGFtcGxlLFxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICAgKiAgIHN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBvcHRpb25zKSB7XG4gICAgICogICAgIGNvbnN0IGRlZmF1bHREZXNjcmlwdG9yID1cbiAgICAgKiAgICAgICAgIHN1cGVyLmdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpO1xuICAgICAqICAgICBjb25zdCBzZXR0ZXIgPSBkZWZhdWx0RGVzY3JpcHRvci5zZXQ7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAgZ2V0OiBkZWZhdWx0RGVzY3JpcHRvci5nZXQsXG4gICAgICogICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICogICAgICAgICBzZXR0ZXIuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICogICAgICAgICAvLyBjdXN0b20gYWN0aW9uLlxuICAgICAqICAgICAgIH0sXG4gICAgICogICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAqICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgKiAgICAgfVxuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1trZXldO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG9wdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKiBUaGVzZSBvcHRpb25zIGFyZSBkZWZpbmVkIHdpdGggYSBgUHJvcGVydHlEZWNsYXJhdGlvbmAgdmlhIHRoZSBgcHJvcGVydGllc2BcbiAgICAgKiBvYmplY3Qgb3IgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciBhbmQgYXJlIHJlZ2lzdGVyZWQgaW5cbiAgICAgKiBgY3JlYXRlUHJvcGVydHkoLi4uKWAuXG4gICAgICpcbiAgICAgKiBOb3RlLCB0aGlzIG1ldGhvZCBzaG91bGQgYmUgY29uc2lkZXJlZCBcImZpbmFsXCIgYW5kIG5vdCBvdmVycmlkZGVuLiBUb1xuICAgICAqIGN1c3RvbWl6ZSB0aGUgb3B0aW9ucyBmb3IgYSBnaXZlbiBwcm9wZXJ0eSwgb3ZlcnJpZGVcbiAgICAgKiB7QGxpbmtjb2RlIGNyZWF0ZVByb3BlcnR5fS5cbiAgICAgKlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICogQGZpbmFsXG4gICAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UHJvcGVydHlPcHRpb25zKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZ2V0KG5hbWUpIHx8IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLCBzZXRzIHVwIGVsZW1lbnRcbiAgICAgKiBzdHlsaW5nLCBhbmQgZW5zdXJlcyBhbnkgc3VwZXJjbGFzc2VzIGFyZSBhbHNvIGZpbmFsaXplZC4gUmV0dXJucyB0cnVlIGlmXG4gICAgICogdGhlIGVsZW1lbnQgd2FzIGZpbmFsaXplZC5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBmaW5hbGl6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoZmluYWxpemVkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbZmluYWxpemVkXSA9IHRydWU7XG4gICAgICAgIC8vIGZpbmFsaXplIGFueSBzdXBlcmNsYXNzZXNcbiAgICAgICAgY29uc3Qgc3VwZXJDdG9yID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO1xuICAgICAgICBzdXBlckN0b3IuZmluYWxpemUoKTtcbiAgICAgICAgLy8gQ3JlYXRlIG93biBzZXQgb2YgaW5pdGlhbGl6ZXJzIGZvciB0aGlzIGNsYXNzIGlmIGFueSBleGlzdCBvbiB0aGVcbiAgICAgICAgLy8gc3VwZXJjbGFzcyBhbmQgY29weSB0aGVtIGRvd24uIE5vdGUsIGZvciBhIHNtYWxsIHBlcmYgYm9vc3QsIGF2b2lkXG4gICAgICAgIC8vIGNyZWF0aW5nIGluaXRpYWxpemVycyB1bmxlc3MgbmVlZGVkLlxuICAgICAgICBpZiAoc3VwZXJDdG9yLl9pbml0aWFsaXplcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZXJzID0gWy4uLnN1cGVyQ3Rvci5faW5pdGlhbGl6ZXJzXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzID0gbmV3IE1hcChzdXBlckN0b3IuZWxlbWVudFByb3BlcnRpZXMpO1xuICAgICAgICAvLyBpbml0aWFsaXplIE1hcCBwb3B1bGF0ZWQgaW4gb2JzZXJ2ZWRBdHRyaWJ1dGVzXG4gICAgICAgIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBtYWtlIGFueSBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIE5vdGUsIG9ubHkgcHJvY2VzcyBcIm93blwiIHByb3BlcnRpZXMgc2luY2UgdGhpcyBlbGVtZW50IHdpbGwgaW5oZXJpdFxuICAgICAgICAvLyBhbnkgcHJvcGVydGllcyBkZWZpbmVkIG9uIHRoZSBzdXBlckNsYXNzLCBhbmQgZmluYWxpemF0aW9uIGVuc3VyZXNcbiAgICAgICAgLy8gdGhlIGVudGlyZSBwcm90b3R5cGUgY2hhaW4gaXMgZmluYWxpemVkLlxuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJykpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgc3ltYm9scyBpbiBwcm9wZXJ0aWVzIChJRTExIGRvZXMgbm90IHN1cHBvcnQgdGhpcylcbiAgICAgICAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAgICAgICAgIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKSxcbiAgICAgICAgICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3BzKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICAvLyBUaGlzIGZvci9vZiBpcyBvayBiZWNhdXNlIHByb3BLZXlzIGlzIGFuIGFycmF5XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcHJvcEtleXMpIHtcbiAgICAgICAgICAgICAgICAvLyBub3RlLCB1c2Ugb2YgYGFueWAgaXMgZHVlIHRvIFR5cGVTY3JpcHQgbGFjayBvZiBzdXBwb3J0IGZvciBzeW1ib2wgaW5cbiAgICAgICAgICAgICAgICAvLyBpbmRleCB0eXBlc1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0eShwLCBwcm9wc1twXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50U3R5bGVzID0gdGhpcy5maW5hbGl6ZVN0eWxlcyh0aGlzLnN0eWxlcyk7XG4gICAgICAgIC8vIERFViBtb2RlIHdhcm5pbmdzXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHdhcm5SZW1vdmVkT3JSZW5hbWVkID0gKG5hbWUsIHJlbmFtZWQgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZVdhcm5pbmcocmVuYW1lZCA/ICdyZW5hbWVkLWFwaScgOiAncmVtb3ZlZC1hcGknLCBgXFxgJHtuYW1lfVxcYCBpcyBpbXBsZW1lbnRlZCBvbiBjbGFzcyAke3RoaXMubmFtZX0uIEl0IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGhhcyBiZWVuICR7cmVuYW1lZCA/ICdyZW5hbWVkJyA6ICdyZW1vdmVkJ30gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgaW4gdGhpcyB2ZXJzaW9uIG9mIExpdEVsZW1lbnQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdhcm5SZW1vdmVkT3JSZW5hbWVkKCdpbml0aWFsaXplJyk7XG4gICAgICAgICAgICB3YXJuUmVtb3ZlZE9yUmVuYW1lZCgncmVxdWVzdFVwZGF0ZUludGVybmFsJyk7XG4gICAgICAgICAgICB3YXJuUmVtb3ZlZE9yUmVuYW1lZCgnX2dldFVwZGF0ZUNvbXBsZXRlJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBzdHlsZXMgdGhlIHVzZXIgc3VwcGxpZWQgdmlhIHRoZSBgc3RhdGljIHN0eWxlc2AgcHJvcGVydHkgYW5kXG4gICAgICogcmV0dXJucyB0aGUgYXJyYXkgb2Ygc3R5bGVzIHRvIGFwcGx5IHRvIHRoZSBlbGVtZW50LlxuICAgICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGludGVncmF0ZSBpbnRvIGEgc3R5bGUgbWFuYWdlbWVudCBzeXN0ZW0uXG4gICAgICpcbiAgICAgKiBTdHlsZXMgYXJlIGRlZHVwbGljYXRlZCBwcmVzZXJ2aW5nIHRoZSBfbGFzdF8gaW5zdGFuY2UgaW4gdGhlIGxpc3QuIFRoaXNcbiAgICAgKiBpcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiB0byBhdm9pZCBkdXBsaWNhdGVkIHN0eWxlcyB0aGF0IGNhbiBvY2N1clxuICAgICAqIGVzcGVjaWFsbHkgd2hlbiBjb21wb3NpbmcgdmlhIHN1YmNsYXNzaW5nLiBUaGUgbGFzdCBpdGVtIGlzIGtlcHQgdG8gdHJ5XG4gICAgICogdG8gcHJlc2VydmUgdGhlIGNhc2NhZGUgb3JkZXIgd2l0aCB0aGUgYXNzdW1wdGlvbiB0aGF0IGl0J3MgbW9zdCBpbXBvcnRhbnRcbiAgICAgKiB0aGF0IGxhc3QgYWRkZWQgc3R5bGVzIG92ZXJyaWRlIHByZXZpb3VzIHN0eWxlcy5cbiAgICAgKlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICogQGNhdGVnb3J5IHN0eWxlc1xuICAgICAqL1xuICAgIHN0YXRpYyBmaW5hbGl6ZVN0eWxlcyhzdHlsZXMpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudFN0eWxlcyA9IFtdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZXMpKSB7XG4gICAgICAgICAgICAvLyBEZWR1cGUgdGhlIGZsYXR0ZW5lZCBhcnJheSBpbiByZXZlcnNlIG9yZGVyIHRvIHByZXNlcnZlIHRoZSBsYXN0IGl0ZW1zLlxuICAgICAgICAgICAgLy8gQ2FzdGluZyB0byBBcnJheTx1bmtub3duPiB3b3JrcyBhcm91bmQgVFMgZXJyb3IgdGhhdFxuICAgICAgICAgICAgLy8gYXBwZWFycyB0byBjb21lIGZyb20gdHJ5aW5nIHRvIGZsYXR0ZW4gYSB0eXBlIENTU1Jlc3VsdEFycmF5LlxuICAgICAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNldChzdHlsZXMuZmxhdChJbmZpbml0eSkucmV2ZXJzZSgpKTtcbiAgICAgICAgICAgIC8vIFRoZW4gcHJlc2VydmUgb3JpZ2luYWwgb3JkZXIgYnkgYWRkaW5nIHRoZSBzZXQgaXRlbXMgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiBzZXQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50U3R5bGVzLnVuc2hpZnQoZ2V0Q29tcGF0aWJsZVN0eWxlKHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWxlbWVudFN0eWxlcy5wdXNoKGdldENvbXBhdGlibGVTdHlsZShzdHlsZXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudFN0eWxlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgbmFtZSBmb3IgdGhlIGdpdmVuIGF0dHJpYnV0ZSBgbmFtZWAuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZSA9PT0gZmFsc2VcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICA6IHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICA6IHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IG5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgb25seSBvdmVycmlkZSBwb2ludCBmb3IgY3VzdG9taXppbmcgd29yayBkb25lIHdoZW4gZWxlbWVudHNcbiAgICAgKiBhcmUgY29uc3RydWN0ZWQuXG4gICAgICovXG4gICAgX19pbml0aWFsaXplKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuX191cGRhdGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlcykgPT4gKHRoaXMuZW5hYmxlVXBkYXRpbmcgPSByZXMpKTtcbiAgICAgICAgdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9fc2F2ZUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgICAgICAvLyBlbnN1cmVzIGZpcnN0IHVwZGF0ZSB3aWxsIGJlIGNhdWdodCBieSBhbiBlYXJseSBhY2Nlc3Mgb2ZcbiAgICAgICAgLy8gYHVwZGF0ZUNvbXBsZXRlYFxuICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAgICAgKF9hID0gdGhpcy5jb25zdHJ1Y3Rvci5faW5pdGlhbGl6ZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoaSkgPT4gaSh0aGlzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGBSZWFjdGl2ZUNvbnRyb2xsZXJgIHRvIHBhcnRpY2lwYXRlIGluIHRoZSBlbGVtZW50J3MgcmVhY3RpdmVcbiAgICAgKiB1cGRhdGUgY3ljbGUuIFRoZSBlbGVtZW50IGF1dG9tYXRpY2FsbHkgY2FsbHMgaW50byBhbnkgcmVnaXN0ZXJlZFxuICAgICAqIGNvbnRyb2xsZXJzIGR1cmluZyBpdHMgbGlmZWN5Y2xlIGNhbGxiYWNrcy5cbiAgICAgKlxuICAgICAqIElmIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB3aGVuIGBhZGRDb250cm9sbGVyKClgIGlzIGNhbGxlZCwgdGhlXG4gICAgICogY29udHJvbGxlcidzIGBob3N0Q29ubmVjdGVkKClgIGNhbGxiYWNrIHdpbGwgYmUgaW1tZWRpYXRlbHkgY2FsbGVkLlxuICAgICAqIEBjYXRlZ29yeSBjb250cm9sbGVyc1xuICAgICAqL1xuICAgIGFkZENvbnRyb2xsZXIoY29udHJvbGxlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoKF9hID0gdGhpcy5fX2NvbnRyb2xsZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAodGhpcy5fX2NvbnRyb2xsZXJzID0gW10pKS5wdXNoKGNvbnRyb2xsZXIpO1xuICAgICAgICAvLyBJZiBhIGNvbnRyb2xsZXIgaXMgYWRkZWQgYWZ0ZXIgdGhlIGVsZW1lbnQgaGFzIGJlZW4gY29ubmVjdGVkLFxuICAgICAgICAvLyBjYWxsIGhvc3RDb25uZWN0ZWQuIE5vdGUsIHJlLXVzaW5nIGV4aXN0ZW5jZSBvZiBgcmVuZGVyUm9vdGAgaGVyZVxuICAgICAgICAvLyAod2hpY2ggaXMgc2V0IGluIGNvbm5lY3RlZENhbGxiYWNrKSB0byBhdm9pZCB0aGUgbmVlZCB0byB0cmFjayBhXG4gICAgICAgIC8vIGZpcnN0IGNvbm5lY3RlZCBzdGF0ZS5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyUm9vdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIChfYiA9IGNvbnRyb2xsZXIuaG9zdENvbm5lY3RlZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoY29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGBSZWFjdGl2ZUNvbnRyb2xsZXJgIGZyb20gdGhlIGVsZW1lbnQuXG4gICAgICogQGNhdGVnb3J5IGNvbnRyb2xsZXJzXG4gICAgICovXG4gICAgcmVtb3ZlQ29udHJvbGxlcihjb250cm9sbGVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gTm90ZSwgaWYgdGhlIGluZGV4T2YgaXMgLTEsIHRoZSA+Pj4gd2lsbCBmbGlwIHRoZSBzaWduIHdoaWNoIG1ha2VzIHRoZVxuICAgICAgICAvLyBzcGxpY2UgZG8gbm90aGluZy5cbiAgICAgICAgKF9hID0gdGhpcy5fX2NvbnRyb2xsZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaWNlKHRoaXMuX19jb250cm9sbGVycy5pbmRleE9mKGNvbnRyb2xsZXIpID4+PiAwLCAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgICAqIE90aGVyd2lzZSB0aGVzZSB3b3VsZCBzaGFkb3cgdGhlIGFjY2Vzc29yIGFuZCBicmVhayB0aGVzZSBwcm9wZXJ0aWVzLlxuICAgICAqIFRoZSBwcm9wZXJ0aWVzIGFyZSBzdG9yZWQgaW4gYSBNYXAgd2hpY2ggaXMgcGxheWVkIGJhY2sgYWZ0ZXIgdGhlXG4gICAgICogY29uc3RydWN0b3IgcnVucy4gTm90ZSwgb24gdmVyeSBvbGQgdmVyc2lvbnMgb2YgU2FmYXJpICg8PTkpIG9yIENocm9tZVxuICAgICAqICg8PTQxKSwgcHJvcGVydGllcyBjcmVhdGVkIGZvciBuYXRpdmUgcGxhdGZvcm0gcHJvcGVydGllcyBsaWtlIChgaWRgIG9yXG4gICAgICogYG5hbWVgKSBtYXkgbm90IGhhdmUgZGVmYXVsdCB2YWx1ZXMgc2V0IGluIHRoZSBlbGVtZW50IGNvbnN0cnVjdG9yLiBPblxuICAgICAqIHRoZXNlIGJyb3dzZXJzIG5hdGl2ZSBwcm9wZXJ0aWVzIGFwcGVhciBvbiBpbnN0YW5jZXMgYW5kIHRoZXJlZm9yZSB0aGVpclxuICAgICAqIGRlZmF1bHQgdmFsdWUgd2lsbCBvdmVyd3JpdGUgYW55IGVsZW1lbnQgZGVmYXVsdCAoZS5nLiBpZiB0aGUgZWxlbWVudCBzZXRzXG4gICAgICogdGhpcy5pZCA9ICdpZCcgaW4gdGhlIGNvbnN0cnVjdG9yLCB0aGUgJ2lkJyB3aWxsIGJlY29tZSAnJyBzaW5jZSB0aGlzIGlzXG4gICAgICogdGhlIG5hdGl2ZSBwbGF0Zm9ybSBkZWZhdWx0KS5cbiAgICAgKi9cbiAgICBfX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgICAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IuZWxlbWVudFByb3BlcnRpZXMuZm9yRWFjaCgoX3YsIHApID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2luc3RhbmNlUHJvcGVydGllcy5zZXQocCwgdGhpc1twXSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXNbcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBub2RlIGludG8gd2hpY2ggdGhlIGVsZW1lbnQgc2hvdWxkIHJlbmRlciBhbmQgYnkgZGVmYXVsdFxuICAgICAqIGNyZWF0ZXMgYW5kIHJldHVybnMgYW4gb3BlbiBzaGFkb3dSb290LiBJbXBsZW1lbnQgdG8gY3VzdG9taXplIHdoZXJlIHRoZVxuICAgICAqIGVsZW1lbnQncyBET00gaXMgcmVuZGVyZWQuIEZvciBleGFtcGxlLCB0byByZW5kZXIgaW50byB0aGUgZWxlbWVudCdzXG4gICAgICogY2hpbGROb2RlcywgcmV0dXJuIGB0aGlzYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gUmV0dXJucyBhIG5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gICAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgICAqL1xuICAgIGNyZWF0ZVJlbmRlclJvb3QoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcmVuZGVyUm9vdCA9IChfYSA9IHRoaXMuc2hhZG93Um9vdCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5hdHRhY2hTaGFkb3codGhpcy5jb25zdHJ1Y3Rvci5zaGFkb3dSb290T3B0aW9ucyk7XG4gICAgICAgIGFkb3B0U3R5bGVzKHJlbmRlclJvb3QsIHRoaXMuY29uc3RydWN0b3IuZWxlbWVudFN0eWxlcyk7XG4gICAgICAgIHJldHVybiByZW5kZXJSb290O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbiBmaXJzdCBjb25uZWN0aW9uLCBjcmVhdGVzIHRoZSBlbGVtZW50J3MgcmVuZGVyUm9vdCwgc2V0cyB1cFxuICAgICAqIGVsZW1lbnQgc3R5bGluZywgYW5kIGVuYWJsZXMgdXBkYXRpbmcuXG4gICAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIGNyZWF0ZSByZW5kZXJSb290IGJlZm9yZSBmaXJzdCB1cGRhdGUuXG4gICAgICAgIGlmICh0aGlzLnJlbmRlclJvb3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJSb290ID0gdGhpcy5jcmVhdGVSZW5kZXJSb290KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmFibGVVcGRhdGluZyh0cnVlKTtcbiAgICAgICAgKF9hID0gdGhpcy5fX2NvbnRyb2xsZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoYykgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBjLmhvc3RDb25uZWN0ZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGMpOyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZmluYWwgYW5kIG5vdCBvdmVycmlkZGVuLiBJdCBpc1xuICAgICAqIG92ZXJyaWRkZW4gb24gdGhlIGVsZW1lbnQgaW5zdGFuY2Ugd2l0aCBhIGZ1bmN0aW9uIHRoYXQgdHJpZ2dlcnMgdGhlIGZpcnN0XG4gICAgICogdXBkYXRlLlxuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgZW5hYmxlVXBkYXRpbmcoX3JlcXVlc3RlZFVwZGF0ZSkgeyB9XG4gICAgLyoqXG4gICAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgICAqIHJlc2VydmluZyB0aGUgcG9zc2liaWxpdHkgb2YgbWFraW5nIG5vbi1icmVha2luZyBmZWF0dXJlIGFkZGl0aW9uc1xuICAgICAqIHdoZW4gZGlzY29ubmVjdGluZyBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUuXG4gICAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuX19jb250cm9sbGVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGMpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gYy5ob3N0RGlzY29ubmVjdGVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChjKTsgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmNocm9uaXplcyBwcm9wZXJ0eSB2YWx1ZXMgd2hlbiBhdHRyaWJ1dGVzIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIFNwZWNpZmljYWxseSwgd2hlbiBhbiBhdHRyaWJ1dGUgaXMgc2V0LCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpcyBzZXQuXG4gICAgICogWW91IHNob3VsZCByYXJlbHkgbmVlZCB0byBpbXBsZW1lbnQgdGhpcyBjYWxsYmFjay4gSWYgdGhpcyBtZXRob2QgaXNcbiAgICAgKiBvdmVycmlkZGVuLCBgc3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIF9vbGQsIHZhbHVlKWAgbXVzdCBiZVxuICAgICAqIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIFNlZSBbdXNpbmcgdGhlIGxpZmVjeWNsZSBjYWxsYmFja3NdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1dlYl9Db21wb25lbnRzL1VzaW5nX2N1c3RvbV9lbGVtZW50cyN1c2luZ190aGVfbGlmZWN5Y2xlX2NhbGxiYWNrcylcbiAgICAgKiBvbiBNRE4gZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLlxuICAgICAqIEBjYXRlZ29yeSBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIF9vbGQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gICAgX19wcm9wZXJ0eVRvQXR0cmlidXRlKG5hbWUsIHZhbHVlLCBvcHRpb25zID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBhdHRyID0gdGhpcy5jb25zdHJ1Y3Rvci5fX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnJlZmxlY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlciA9ICgoX2EgPSBvcHRpb25zLmNvbnZlcnRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvQXR0cmlidXRlKSAhPT1cbiAgICAgICAgICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuY29udmVydGVyXG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0Q29udmVydGVyO1xuICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gY29udmVydGVyLnRvQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zLnR5cGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IuZW5hYmxlZFdhcm5pbmdzLmluZGV4T2YoJ21pZ3JhdGlvbicpID49IDAgJiZcbiAgICAgICAgICAgICAgICBhdHRyVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlzc3VlV2FybmluZygndW5kZWZpbmVkLWF0dHJpYnV0ZS12YWx1ZScsIGBUaGUgYXR0cmlidXRlIHZhbHVlIGZvciB0aGUgJHtuYW1lfSBwcm9wZXJ0eSBpcyBgICtcbiAgICAgICAgICAgICAgICAgICAgYHVuZGVmaW5lZCBvbiBlbGVtZW50ICR7dGhpcy5sb2NhbE5hbWV9LiBUaGUgYXR0cmlidXRlIHdpbGwgYmUgYCArXG4gICAgICAgICAgICAgICAgICAgIGByZW1vdmVkLCBidXQgaW4gdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgXFxgUmVhY3RpdmVFbGVtZW50XFxgLCBgICtcbiAgICAgICAgICAgICAgICAgICAgYHRoZSBhdHRyaWJ1dGUgd291bGQgbm90IGhhdmUgY2hhbmdlZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRyYWNrIGlmIHRoZSBwcm9wZXJ0eSBpcyBiZWluZyByZWZsZWN0ZWQgdG8gYXZvaWRcbiAgICAgICAgICAgIC8vIHNldHRpbmcgdGhlIHByb3BlcnR5IGFnYWluIHZpYSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYC4gTm90ZTpcbiAgICAgICAgICAgIC8vIDEuIHRoaXMgdGFrZXMgYWR2YW50YWdlIG9mIHRoZSBmYWN0IHRoYXQgdGhlIGNhbGxiYWNrIGlzIHN5bmNocm9ub3VzLlxuICAgICAgICAgICAgLy8gMi4gd2lsbCBiZWhhdmUgaW5jb3JyZWN0bHkgaWYgbXVsdGlwbGUgYXR0cmlidXRlcyBhcmUgaW4gdGhlIHJlYWN0aW9uXG4gICAgICAgICAgICAvLyBzdGFjayBhdCB0aW1lIG9mIGNhbGxpbmcuIEhvd2V2ZXIsIHNpbmNlIHdlIHByb2Nlc3MgYXR0cmlidXRlc1xuICAgICAgICAgICAgLy8gaW4gYHVwZGF0ZWAgdGhpcyBzaG91bGQgbm90IGJlIHBvc3NpYmxlIChvciBhbiBleHRyZW1lIGNvcm5lciBjYXNlXG4gICAgICAgICAgICAvLyB0aGF0IHdlJ2QgbGlrZSB0byBkaXNjb3ZlcikuXG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBuYW1lO1xuICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF8kYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICAvLyBOb3RlLCBoaW50IHRoaXMgYXMgYW4gYEF0dHJpYnV0ZU1hcGAgc28gY2xvc3VyZSBjbGVhcmx5IHVuZGVyc3RhbmRzXG4gICAgICAgIC8vIHRoZSB0eXBlOyBpdCBoYXMgaXNzdWVzIHdpdGggdHJhY2tpbmcgdHlwZXMgdGhyb3VnaCBzdGF0aWNzXG4gICAgICAgIGNvbnN0IHByb3BOYW1lID0gY3Rvci5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAuZ2V0KG5hbWUpO1xuICAgICAgICAvLyBVc2UgdHJhY2tpbmcgaW5mbyB0byBhdm9pZCByZWZsZWN0aW5nIGEgcHJvcGVydHkgdmFsdWUgdG8gYW4gYXR0cmlidXRlXG4gICAgICAgIC8vIGlmIGl0IHdhcyBqdXN0IHNldCBiZWNhdXNlIHRoZSBhdHRyaWJ1dGUgY2hhbmdlZC5cbiAgICAgICAgaWYgKHByb3BOYW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSAhPT0gcHJvcE5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjdG9yLmdldFByb3BlcnR5T3B0aW9ucyhwcm9wTmFtZSk7XG4gICAgICAgICAgICBjb25zdCBjb252ZXJ0ZXIgPSB0eXBlb2Ygb3B0aW9ucy5jb252ZXJ0ZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IHsgZnJvbUF0dHJpYnV0ZTogb3B0aW9ucy5jb252ZXJ0ZXIgfVxuICAgICAgICAgICAgICAgIDogKChfYSA9IG9wdGlvbnMuY29udmVydGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZnJvbUF0dHJpYnV0ZSkgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuY29udmVydGVyXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdENvbnZlcnRlcjtcbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IHByb3BOYW1lO1xuICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSBjb252ZXJ0ZXIuZnJvbUF0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucy50eXBlXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIGFuIHVwZGF0ZSB3aGljaCBpcyBwcm9jZXNzZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgc2hvdWxkIGJlIGNhbGxlZFxuICAgICAqIHdoZW4gYW4gZWxlbWVudCBzaG91bGQgdXBkYXRlIGJhc2VkIG9uIHNvbWUgc3RhdGUgbm90IHRyaWdnZXJlZCBieSBzZXR0aW5nXG4gICAgICogYSByZWFjdGl2ZSBwcm9wZXJ0eS4gSW4gdGhpcyBjYXNlLCBwYXNzIG5vIGFyZ3VtZW50cy4gSXQgc2hvdWxkIGFsc28gYmVcbiAgICAgKiBjYWxsZWQgd2hlbiBtYW51YWxseSBpbXBsZW1lbnRpbmcgYSBwcm9wZXJ0eSBzZXR0ZXIuIEluIHRoaXMgY2FzZSwgcGFzcyB0aGVcbiAgICAgKiBwcm9wZXJ0eSBgbmFtZWAgYW5kIGBvbGRWYWx1ZWAgdG8gZW5zdXJlIHRoYXQgYW55IGNvbmZpZ3VyZWQgcHJvcGVydHlcbiAgICAgKiBvcHRpb25zIGFyZSBob25vcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgbmFtZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAgICogQHBhcmFtIG9sZFZhbHVlIG9sZCB2YWx1ZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAgICogQHBhcmFtIG9wdGlvbnMgcHJvcGVydHkgb3B0aW9ucyB0byB1c2UgaW5zdGVhZCBvZiB0aGUgcHJldmlvdXNseVxuICAgICAqICAgICBjb25maWd1cmVkIG9wdGlvbnNcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIHJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHNob3VsZFJlcXVlc3RVcGRhdGUgPSB0cnVlO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcHJvcGVydHkga2V5LCBwZXJmb3JtIHByb3BlcnR5IHVwZGF0ZSBzdGVwcy5cbiAgICAgICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9XG4gICAgICAgICAgICAgICAgb3B0aW9ucyB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmdldFByb3BlcnR5T3B0aW9ucyhuYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc0NoYW5nZWQgPSBvcHRpb25zLmhhc0NoYW5nZWQgfHwgbm90RXF1YWw7XG4gICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCh0aGlzW25hbWVdLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzLnNldChuYW1lLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFkZCB0byByZWZsZWN0aW5nIHByb3BlcnRpZXMgc2V0LlxuICAgICAgICAgICAgICAgIC8vIE5vdGUsIGl0J3MgaW1wb3J0YW50IHRoYXQgZXZlcnkgY2hhbmdlIGhhcyBhIGNoYW5jZSB0byBhZGQgdGhlXG4gICAgICAgICAgICAgICAgLy8gcHJvcGVydHkgdG8gYF9yZWZsZWN0aW5nUHJvcGVydGllc2AuIFRoaXMgZW5zdXJlcyBzZXR0aW5nXG4gICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlICsgcHJvcGVydHkgcmVmbGVjdHMgY29ycmVjdGx5LlxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlZmxlY3QgPT09IHRydWUgJiYgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSAhPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFib3J0IHRoZSByZXF1ZXN0IGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgY2hhbmdlZC5cbiAgICAgICAgICAgICAgICBzaG91bGRSZXF1ZXN0VXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzVXBkYXRlUGVuZGluZyAmJiBzaG91bGRSZXF1ZXN0VXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9fdXBkYXRlUHJvbWlzZSA9IHRoaXMuX19lbnF1ZXVlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZSwgc2luY2UgdGhpcyBubyBsb25nZXIgcmV0dXJucyBhIHByb21pc2UsIGluIGRldiBtb2RlIHdlIHJldHVybiBhXG4gICAgICAgIC8vIHRoZW5hYmxlIHdoaWNoIHdhcm5zIGlmIGl0J3MgY2FsbGVkLlxuICAgICAgICByZXR1cm4gcmVxdWVzdFVwZGF0ZVRoZW5hYmxlKHRoaXMubG9jYWxOYW1lKVxuICAgICAgICAgICAgO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSBlbGVtZW50IHRvIGFzeW5jaHJvbm91c2x5IHVwZGF0ZS5cbiAgICAgKi9cbiAgICBhc3luYyBfX2VucXVldWVVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuaXNVcGRhdGVQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBhbnkgcHJldmlvdXMgdXBkYXRlIGhhcyByZXNvbHZlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAgICAgICAvLyBUaGlzIGBhd2FpdGAgYWxzbyBlbnN1cmVzIHRoYXQgcHJvcGVydHkgY2hhbmdlcyBhcmUgYmF0Y2hlZC5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX191cGRhdGVQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBSZWZpcmUgYW55IHByZXZpb3VzIGVycm9ycyBhc3luYyBzbyB0aGV5IGRvIG5vdCBkaXNydXB0IHRoZSB1cGRhdGVcbiAgICAgICAgICAgIC8vIGN5Y2xlLiBFcnJvcnMgYXJlIHJlZmlyZWQgc28gZGV2ZWxvcGVycyBoYXZlIGEgY2hhbmNlIHRvIG9ic2VydmVcbiAgICAgICAgICAgIC8vIHRoZW0sIGFuZCB0aGlzIGNhbiBiZSBkb25lIGJ5IGltcGxlbWVudGluZ1xuICAgICAgICAgICAgLy8gYHdpbmRvdy5vbnVuaGFuZGxlZHJlamVjdGlvbmAuXG4gICAgICAgICAgICBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICAgIC8vIElmIGBzY2hlZHVsZVVwZGF0ZWAgcmV0dXJucyBhIFByb21pc2UsIHdlIGF3YWl0IGl0LiBUaGlzIGlzIGRvbmUgdG9cbiAgICAgICAgLy8gZW5hYmxlIGNvb3JkaW5hdGluZyB1cGRhdGVzIHdpdGggYSBzY2hlZHVsZXIuIE5vdGUsIHRoZSByZXN1bHQgaXNcbiAgICAgICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICF0aGlzLmlzVXBkYXRlUGVuZGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2NoZWR1bGVzIGFuIGVsZW1lbnQgdXBkYXRlLiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGNoYW5nZSB0aGVcbiAgICAgKiB0aW1pbmcgb2YgdXBkYXRlcyBieSByZXR1cm5pbmcgYSBQcm9taXNlLiBUaGUgdXBkYXRlIHdpbGwgYXdhaXQgdGhlXG4gICAgICogcmV0dXJuZWQgUHJvbWlzZSwgYW5kIHlvdSBzaG91bGQgcmVzb2x2ZSB0aGUgUHJvbWlzZSB0byBhbGxvdyB0aGUgdXBkYXRlXG4gICAgICogdG8gcHJvY2VlZC4gSWYgdGhpcyBtZXRob2QgaXMgb3ZlcnJpZGRlbiwgYHN1cGVyLnNjaGVkdWxlVXBkYXRlKClgXG4gICAgICogbXVzdCBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBGb3IgaW5zdGFuY2UsIHRvIHNjaGVkdWxlIHVwZGF0ZXMgdG8gb2NjdXIganVzdCBiZWZvcmUgdGhlIG5leHQgZnJhbWU6XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIG92ZXJyaWRlIHByb3RlY3RlZCBhc3luYyBzY2hlZHVsZVVwZGF0ZSgpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAgICogICBzdXBlci5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIHNjaGVkdWxlVXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJmb3JtVXBkYXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFuIGVsZW1lbnQgdXBkYXRlLiBOb3RlLCBpZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGR1cmluZyB0aGVcbiAgICAgKiB1cGRhdGUsIGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQ2FsbCBgcGVyZm9ybVVwZGF0ZSgpYCB0byBpbW1lZGlhdGVseSBwcm9jZXNzIGEgcGVuZGluZyB1cGRhdGUuIFRoaXMgc2hvdWxkXG4gICAgICogZ2VuZXJhbGx5IG5vdCBiZSBuZWVkZWQsIGJ1dCBpdCBjYW4gYmUgZG9uZSBpbiByYXJlIGNhc2VzIHdoZW4geW91IG5lZWQgdG9cbiAgICAgKiB1cGRhdGUgc3luY2hyb25vdXNseS5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRvIGVuc3VyZSBgcGVyZm9ybVVwZGF0ZSgpYCBzeW5jaHJvbm91c2x5IGNvbXBsZXRlcyBhIHBlbmRpbmcgdXBkYXRlLFxuICAgICAqIGl0IHNob3VsZCBub3QgYmUgb3ZlcnJpZGRlbi4gSW4gTGl0RWxlbWVudCAyLnggaXQgd2FzIHN1Z2dlc3RlZCB0byBvdmVycmlkZVxuICAgICAqIGBwZXJmb3JtVXBkYXRlKClgIHRvIGFsc28gY3VzdG9taXppbmcgdXBkYXRlIHNjaGVkdWxpbmcuIEluc3RlYWQsIHlvdSBzaG91bGQgbm93XG4gICAgICogb3ZlcnJpZGUgYHNjaGVkdWxlVXBkYXRlKClgLiBGb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBMaXRFbGVtZW50IDIueCxcbiAgICAgKiBzY2hlZHVsaW5nIHVwZGF0ZXMgdmlhIGBwZXJmb3JtVXBkYXRlKClgIGNvbnRpbnVlcyB0byB3b3JrLCBidXQgd2lsbCBtYWtlXG4gICAgICogYWxzbyBjYWxsaW5nIGBwZXJmb3JtVXBkYXRlKClgIHRvIHN5bmNocm9ub3VzbHkgcHJvY2VzcyB1cGRhdGVzIGRpZmZpY3VsdC5cbiAgICAgKlxuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgcGVyZm9ybVVwZGF0ZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgLy8gQWJvcnQgYW55IHVwZGF0ZSBpZiBvbmUgaXMgbm90IHBlbmRpbmcgd2hlbiB0aGlzIGlzIGNhbGxlZC5cbiAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIGBwZXJmb3JtVXBkYXRlYCBpcyBjYWxsZWQgZWFybHkgdG8gXCJmbHVzaFwiXG4gICAgICAgIC8vIHRoZSB1cGRhdGUuXG4gICAgICAgIGlmICghdGhpcy5pc1VwZGF0ZVBlbmRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ID09PSBudWxsIHx8IGRlYnVnTG9nRXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlYnVnTG9nRXZlbnQoeyBraW5kOiAndXBkYXRlJyB9KTtcbiAgICAgICAgLy8gY3JlYXRlIHJlbmRlclJvb3QgYmVmb3JlIGZpcnN0IHVwZGF0ZS5cbiAgICAgICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgICAgICAgIC8vIFByb2R1Y2Ugd2FybmluZyBpZiBhbnkgY2xhc3MgcHJvcGVydGllcyBhcmUgc2hhZG93ZWQgYnkgY2xhc3MgZmllbGRzXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhZG93ZWRQcm9wZXJ0aWVzID0gW107XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5jb25zdHJ1Y3Rvci5fX3JlYWN0aXZlUHJvcGVydHlLZXlzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHApICYmICEoKF9hID0gdGhpcy5fX2luc3RhbmNlUHJvcGVydGllcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhhcyhwKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd2VkUHJvcGVydGllcy5wdXNoKHApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvd2VkUHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZm9sbG93aW5nIHByb3BlcnRpZXMgb24gZWxlbWVudCAke3RoaXMubG9jYWxOYW1lfSB3aWxsIG5vdCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB0cmlnZ2VyIHVwZGF0ZXMgYXMgZXhwZWN0ZWQgYmVjYXVzZSB0aGV5IGFyZSBzZXQgdXNpbmcgY2xhc3MgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgZmllbGRzOiAke3NoYWRvd2VkUHJvcGVydGllcy5qb2luKCcsICcpfS4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgTmF0aXZlIGNsYXNzIGZpZWxkcyBhbmQgc29tZSBjb21waWxlZCBvdXRwdXQgd2lsbCBvdmVyd3JpdGUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgYWNjZXNzb3JzIHVzZWQgZm9yIGRldGVjdGluZyBjaGFuZ2VzLiBTZWUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgaHR0cHM6Ly9saXQuZGV2L21zZy9jbGFzcy1maWVsZC1zaGFkb3dpbmcgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgZm9yIG1vcmUgaW5mb3JtYXRpb24uYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE1peGluIGluc3RhbmNlIHByb3BlcnRpZXMgb25jZSwgaWYgdGhleSBleGlzdC5cbiAgICAgICAgaWYgKHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgICAgICAgICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMuZm9yRWFjaCgodiwgcCkgPT4gKHRoaXNbcF0gPSB2KSk7XG4gICAgICAgICAgICB0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY2hhbmdlZFByb3BlcnRpZXMgPSB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzaG91bGRVcGRhdGUgPSB0aGlzLnNob3VsZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aWxsVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLl9fY29udHJvbGxlcnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5mb3JFYWNoKChjKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGMuaG9zdFVwZGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoYyk7IH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX19tYXJrVXBkYXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgZnJvbSBydW5uaW5nIHdoZW4gdGhlcmUncyBhblxuICAgICAgICAgICAgLy8gdXBkYXRlIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gRW5zdXJlIGVsZW1lbnQgY2FuIGFjY2VwdCBhZGRpdGlvbmFsIHVwZGF0ZXMgYWZ0ZXIgYW4gZXhjZXB0aW9uLlxuICAgICAgICAgICAgdGhpcy5fX21hcmtVcGRhdGVkKCk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSB1cGRhdGUgaXMgbm8gbG9uZ2VyIGNvbnNpZGVyZWQgcGVuZGluZyBhbmQgZnVydGhlciB1cGRhdGVzIGFyZSBub3cgYWxsb3dlZC5cbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fJGRpZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCBiZWZvcmUgYHVwZGF0ZSgpYCB0byBjb21wdXRlIHZhbHVlcyBuZWVkZWQgZHVyaW5nIHRoZSB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBJbXBsZW1lbnQgYHdpbGxVcGRhdGVgIHRvIGNvbXB1dGUgcHJvcGVydHkgdmFsdWVzIHRoYXQgZGVwZW5kIG9uIG90aGVyXG4gICAgICogcHJvcGVydGllcyBhbmQgYXJlIHVzZWQgaW4gdGhlIHJlc3Qgb2YgdGhlIHVwZGF0ZSBwcm9jZXNzLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICogICAvLyBvbmx5IG5lZWQgdG8gY2hlY2sgY2hhbmdlZCBwcm9wZXJ0aWVzIGZvciBhbiBleHBlbnNpdmUgY29tcHV0YXRpb24uXG4gICAgICogICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdmaXJzdE5hbWUnKSB8fCBjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2xhc3ROYW1lJykpIHtcbiAgICAgKiAgICAgdGhpcy5zaGEgPSBjb21wdXRlU0hBKGAke3RoaXMuZmlyc3ROYW1lfSAke3RoaXMubGFzdE5hbWV9YCk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogcmVuZGVyKCkge1xuICAgICAqICAgcmV0dXJuIGh0bWxgU0hBOiAke3RoaXMuc2hhfWA7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICB3aWxsVXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllcykgeyB9XG4gICAgLy8gTm90ZSwgdGhpcyBpcyBhbiBvdmVycmlkZSBwb2ludCBmb3IgcG9seWZpbGwtc3VwcG9ydC5cbiAgICAvLyBAaW50ZXJuYWxcbiAgICBfJGRpZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuX19jb250cm9sbGVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGMpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gYy5ob3N0VXBkYXRlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoYyk7IH0pO1xuICAgICAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgICAgICAgdGhpcy5oYXNVcGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICBpZiAodGhpcy5pc1VwZGF0ZVBlbmRpbmcgJiZcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IuZW5hYmxlZFdhcm5pbmdzLmluZGV4T2YoJ2NoYW5nZS1pbi11cGRhdGUnKSA+PSAwKSB7XG4gICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJ2NoYW5nZS1pbi11cGRhdGUnLCBgRWxlbWVudCAke3RoaXMubG9jYWxOYW1lfSBzY2hlZHVsZWQgYW4gdXBkYXRlIGAgK1xuICAgICAgICAgICAgICAgIGAoZ2VuZXJhbGx5IGJlY2F1c2UgYSBwcm9wZXJ0eSB3YXMgc2V0KSBgICtcbiAgICAgICAgICAgICAgICBgYWZ0ZXIgYW4gdXBkYXRlIGNvbXBsZXRlZCwgY2F1c2luZyBhIG5ldyB1cGRhdGUgdG8gYmUgc2NoZWR1bGVkLiBgICtcbiAgICAgICAgICAgICAgICBgVGhpcyBpcyBpbmVmZmljaWVudCBhbmQgc2hvdWxkIGJlIGF2b2lkZWQgdW5sZXNzIHRoZSBuZXh0IHVwZGF0ZSBgICtcbiAgICAgICAgICAgICAgICBgY2FuIG9ubHkgYmUgc2NoZWR1bGVkIGFzIGEgc2lkZSBlZmZlY3Qgb2YgdGhlIHByZXZpb3VzIHVwZGF0ZS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfX21hcmtVcGRhdGVkKCkge1xuICAgICAgICB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuaXNVcGRhdGVQZW5kaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgICAqIFRoZSBQcm9taXNlIHZhbHVlIGlzIGEgYm9vbGVhbiB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBjb21wbGV0ZWQgdGhlXG4gICAgICogdXBkYXRlIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS4gVGhlIFByb21pc2UgcmVzdWx0IGlzIGBmYWxzZWAgaWZcbiAgICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICAgKiBleGNlcHRpb24gd2FzIHRocm93biBkdXJpbmcgdGhlIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIFRvIGF3YWl0IGFkZGl0aW9uYWwgYXN5bmNocm9ub3VzIHdvcmssIG92ZXJyaWRlIHRoZSBgZ2V0VXBkYXRlQ29tcGxldGVgXG4gICAgICogbWV0aG9kLiBGb3IgZXhhbXBsZSwgaXQgaXMgc29tZXRpbWVzIHVzZWZ1bCB0byBhd2FpdCBhIHJlbmRlcmVkIGVsZW1lbnRcbiAgICAgKiBiZWZvcmUgZnVsZmlsbGluZyB0aGlzIFByb21pc2UuIFRvIGRvIHRoaXMsIGZpcnN0IGF3YWl0XG4gICAgICogYHN1cGVyLmdldFVwZGF0ZUNvbXBsZXRlKClgLCB0aGVuIGFueSBzdWJzZXF1ZW50IHN0YXRlLlxuICAgICAqXG4gICAgICogQHJldHVybiBBIHByb21pc2Ugb2YgYSBib29sZWFuIHRoYXQgcmVzb2x2ZXMgdG8gdHJ1ZSBpZiB0aGUgdXBkYXRlIGNvbXBsZXRlZFxuICAgICAqICAgICB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICBnZXQgdXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFVwZGF0ZUNvbXBsZXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHBvaW50IGZvciB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBwcm9taXNlLlxuICAgICAqXG4gICAgICogSXQgaXMgbm90IHNhZmUgdG8gb3ZlcnJpZGUgdGhlIGB1cGRhdGVDb21wbGV0ZWAgZ2V0dGVyIGRpcmVjdGx5IGR1ZSB0byBhXG4gICAgICogbGltaXRhdGlvbiBpbiBUeXBlU2NyaXB0IHdoaWNoIG1lYW5zIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBjYWxsIGFcbiAgICAgKiBzdXBlcmNsYXNzIGdldHRlciAoZS5nLiBgc3VwZXIudXBkYXRlQ29tcGxldGUudGhlbiguLi4pYCkgd2hlbiB0aGUgdGFyZ2V0XG4gICAgICogbGFuZ3VhZ2UgaXMgRVM1IChodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOCkuXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIG92ZXJyaWRkZW4gaW5zdGVhZC4gRm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgICAqICAgb3ZlcnJpZGUgYXN5bmMgZ2V0VXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICogICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1cGVyLmdldFVwZGF0ZUNvbXBsZXRlKCk7XG4gICAgICogICAgIGF3YWl0IHRoaXMuX215Q2hpbGQudXBkYXRlQ29tcGxldGU7XG4gICAgICogICAgIHJldHVybiByZXN1bHQ7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybiBBIHByb21pc2Ugb2YgYSBib29sZWFuIHRoYXQgcmVzb2x2ZXMgdG8gdHJ1ZSBpZiB0aGUgdXBkYXRlIGNvbXBsZXRlZFxuICAgICAqICAgICB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICBnZXRVcGRhdGVDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX191cGRhdGVQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBgdXBkYXRlKClgIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCByZXF1ZXN0c1xuICAgICAqIGFuIHVwZGF0ZS4gQnkgZGVmYXVsdCwgdGhpcyBtZXRob2QgYWx3YXlzIHJldHVybnMgYHRydWVgLCBidXQgdGhpcyBjYW4gYmVcbiAgICAgKiBjdXN0b21pemVkIHRvIGNvbnRyb2wgd2hlbiB0byB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICBzaG91bGRVcGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlcy5cbiAgICAgKiBJdCBjYW4gYmUgb3ZlcnJpZGRlbiB0byByZW5kZXIgYW5kIGtlZXAgdXBkYXRlZCBlbGVtZW50IERPTS5cbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgICAqIGFub3RoZXIgdXBkYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgdXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICBpZiAodGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvclxuICAgICAgICAgICAgLy8gbG9vcHMgZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLmZvckVhY2goKHYsIGspID0+IHRoaXMuX19wcm9wZXJ0eVRvQXR0cmlidXRlKGssIHRoaXNba10sIHYpKTtcbiAgICAgICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuZXZlciB0aGUgZWxlbWVudCBpcyB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybVxuICAgICAqIHBvc3QtdXBkYXRpbmcgdGFza3MgdmlhIERPTSBBUElzLCBmb3IgZXhhbXBsZSwgZm9jdXNpbmcgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIHVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7IH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGVsZW1lbnQgaXMgZmlyc3QgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm0gb25lIHRpbWVcbiAgICAgKiB3b3JrIG9uIHRoZSBlbGVtZW50IGFmdGVyIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogZmlyc3RVcGRhdGVkKCkge1xuICAgICAqICAgdGhpcy5yZW5kZXJSb290LmdldEVsZW1lbnRCeUlkKCdteS10ZXh0LWFyZWEnKS5mb2N1cygpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIGZpcnN0VXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXMpIHsgfVxufVxuX2UgPSBmaW5hbGl6ZWQ7XG4vKipcbiAqIE1hcmtzIGNsYXNzIGFzIGhhdmluZyBmaW5pc2hlZCBjcmVhdGluZyBwcm9wZXJ0aWVzLlxuICovXG5SZWFjdGl2ZUVsZW1lbnRbX2VdID0gdHJ1ZTtcbi8qKlxuICogTWVtb2l6ZWQgbGlzdCBvZiBhbGwgZWxlbWVudCBwcm9wZXJ0aWVzLCBpbmNsdWRpbmcgYW55IHN1cGVyY2xhc3MgcHJvcGVydGllcy5cbiAqIENyZWF0ZWQgbGF6aWx5IG9uIHVzZXIgc3ViY2xhc3NlcyB3aGVuIGZpbmFsaXppbmcgdGhlIGNsYXNzLlxuICogQG5vY29sbGFwc2VcbiAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gKi9cblJlYWN0aXZlRWxlbWVudC5lbGVtZW50UHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbi8qKlxuICogTWVtb2l6ZWQgbGlzdCBvZiBhbGwgZWxlbWVudCBzdHlsZXMuXG4gKiBDcmVhdGVkIGxhemlseSBvbiB1c2VyIHN1YmNsYXNzZXMgd2hlbiBmaW5hbGl6aW5nIHRoZSBjbGFzcy5cbiAqIEBub2NvbGxhcHNlXG4gKiBAY2F0ZWdvcnkgc3R5bGVzXG4gKi9cblJlYWN0aXZlRWxlbWVudC5lbGVtZW50U3R5bGVzID0gW107XG4vKipcbiAqIE9wdGlvbnMgdXNlZCB3aGVuIGNhbGxpbmcgYGF0dGFjaFNoYWRvd2AuIFNldCB0aGlzIHByb3BlcnR5IHRvIGN1c3RvbWl6ZVxuICogdGhlIG9wdGlvbnMgZm9yIHRoZSBzaGFkb3dSb290OyBmb3IgZXhhbXBsZSwgdG8gY3JlYXRlIGEgY2xvc2VkXG4gKiBzaGFkb3dSb290OiBge21vZGU6ICdjbG9zZWQnfWAuXG4gKlxuICogTm90ZSwgdGhlc2Ugb3B0aW9ucyBhcmUgdXNlZCBpbiBgY3JlYXRlUmVuZGVyUm9vdGAuIElmIHRoaXMgbWV0aG9kXG4gKiBpcyBjdXN0b21pemVkLCBvcHRpb25zIHNob3VsZCBiZSByZXNwZWN0ZWQgaWYgcG9zc2libGUuXG4gKiBAbm9jb2xsYXBzZVxuICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICovXG5SZWFjdGl2ZUVsZW1lbnQuc2hhZG93Um9vdE9wdGlvbnMgPSB7IG1vZGU6ICdvcGVuJyB9O1xuLy8gQXBwbHkgcG9seWZpbGxzIGlmIGF2YWlsYWJsZVxucG9seWZpbGxTdXBwb3J0ID09PSBudWxsIHx8IHBvbHlmaWxsU3VwcG9ydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9seWZpbGxTdXBwb3J0KHsgUmVhY3RpdmVFbGVtZW50IH0pO1xuLy8gRGV2IG1vZGUgd2FybmluZ3MuLi5cbntcbiAgICAvLyBEZWZhdWx0IHdhcm5pbmcgc2V0LlxuICAgIFJlYWN0aXZlRWxlbWVudC5lbmFibGVkV2FybmluZ3MgPSBbJ2NoYW5nZS1pbi11cGRhdGUnXTtcbiAgICBjb25zdCBlbnN1cmVPd25XYXJuaW5ncyA9IGZ1bmN0aW9uIChjdG9yKSB7XG4gICAgICAgIGlmICghY3Rvci5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdlbmFibGVkV2FybmluZ3MnKSkpIHtcbiAgICAgICAgICAgIGN0b3IuZW5hYmxlZFdhcm5pbmdzID0gY3Rvci5lbmFibGVkV2FybmluZ3Muc2xpY2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RpdmVFbGVtZW50LmVuYWJsZVdhcm5pbmcgPSBmdW5jdGlvbiAod2FybmluZykge1xuICAgICAgICBlbnN1cmVPd25XYXJuaW5ncyh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlZFdhcm5pbmdzLmluZGV4T2Yod2FybmluZykgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZWRXYXJuaW5ncy5wdXNoKHdhcm5pbmcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWFjdGl2ZUVsZW1lbnQuZGlzYWJsZVdhcm5pbmcgPSBmdW5jdGlvbiAod2FybmluZykge1xuICAgICAgICBlbnN1cmVPd25XYXJuaW5ncyh0aGlzKTtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMuZW5hYmxlZFdhcm5pbmdzLmluZGV4T2Yod2FybmluZyk7XG4gICAgICAgIGlmIChpID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZFdhcm5pbmdzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIFJlYWN0aXZlRWxlbWVudCB1c2FnZS5cbigoX2QgPSBnbG9iYWwucmVhY3RpdmVFbGVtZW50VmVyc2lvbnMpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IChnbG9iYWwucmVhY3RpdmVFbGVtZW50VmVyc2lvbnMgPSBbXSkpLnB1c2goJzEuNi4zJyk7XG5pZiAoZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFZlcnNpb25zLmxlbmd0aCA+IDEpIHtcbiAgICBpc3N1ZVdhcm5pbmcoJ211bHRpcGxlLXZlcnNpb25zJywgYE11bHRpcGxlIHZlcnNpb25zIG9mIExpdCBsb2FkZWQuIExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgYCArXG4gICAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYCk7XG59XG5cbmV4cG9ydCB7IFJlYWN0aXZlRWxlbWVudCwgZGVmYXVsdENvbnZlcnRlciwgbm90RXF1YWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0aXZlLWVsZW1lbnQuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/reactive-element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-element/development/lit-element.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-element/development/lit-element.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.CSSResult),\n/* harmony export */   LitElement: () => (/* binding */ LitElement),\n/* harmony export */   ReactiveElement: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement),\n/* harmony export */   UpdatingElement: () => (/* binding */ UpdatingElement),\n/* harmony export */   _$LE: () => (/* binding */ _$LE),\n/* harmony export */   _$LH: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__._$LH),\n/* harmony export */   adoptStyles: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.adoptStyles),\n/* harmony export */   css: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.css),\n/* harmony export */   defaultConverter: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.defaultConverter),\n/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle),\n/* harmony export */   html: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.html),\n/* harmony export */   noChange: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.noChange),\n/* harmony export */   notEqual: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.notEqual),\n/* harmony export */   nothing: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.nothing),\n/* harmony export */   render: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.render),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.supportsAdoptingStyleSheets),\n/* harmony export */   svg: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.svg),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)\n/* harmony export */ });\n/* harmony import */ var _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/reactive-element.js\");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar _a, _b, _c;\n/**\n * The main LitElement module, which defines the {@linkcode LitElement} base\n * class and related APIs.\n *\n *  LitElement components can define a template and a set of observed\n * properties. Changing an observed property triggers a re-render of the\n * element.\n *\n *  Import {@linkcode LitElement} and {@linkcode html} from this module to\n * create a component:\n *\n *  ```js\n * import {LitElement, html} from 'lit-element';\n *\n * class MyElement extends LitElement {\n *\n *   // Declare observed properties\n *   static get properties() {\n *     return {\n *       adjective: {}\n *     }\n *   }\n *\n *   constructor() {\n *     this.adjective = 'awesome';\n *   }\n *\n *   // Define the element's template\n *   render() {\n *     return html`<p>your ${adjective} template here</p>`;\n *   }\n * }\n *\n * customElements.define('my-element', MyElement);\n * ```\n *\n * `LitElement` extends {@linkcode ReactiveElement} and adds lit-html\n * templating. The `ReactiveElement` class is provided for users that want to\n * build their own custom element base classes that don't use lit-html.\n *\n * @packageDocumentation\n */\n\n\n\n\n// For backwards compatibility export ReactiveElement as UpdatingElement. Note,\n// IE transpilation requires exporting like this.\nconst UpdatingElement = _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement;\nconst DEV_MODE = true;\nlet issueWarning;\nif (DEV_MODE) {\n    // Ensure warnings are issued only 1x, even if multiple versions of Lit\n    // are loaded.\n    const issuedWarnings = ((_a = globalThis.litIssuedWarnings) !== null && _a !== void 0 ? _a : (globalThis.litIssuedWarnings = new Set()));\n    // Issue a warning, if we haven't already.\n    issueWarning = (code, warning) => {\n        warning += ` See https://lit.dev/msg/${code} for more information.`;\n        if (!issuedWarnings.has(warning)) {\n            console.warn(warning);\n            issuedWarnings.add(warning);\n        }\n    };\n}\n/**\n * Base element class that manages element properties and attributes, and\n * renders a lit-html template.\n *\n * To define a component, subclass `LitElement` and implement a\n * `render` method to provide the component's template. Define properties\n * using the {@linkcode LitElement.properties properties} property or the\n * {@linkcode property} decorator.\n */\nclass LitElement extends _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * @category rendering\n         */\n        this.renderOptions = { host: this };\n        this.__childPart = undefined;\n    }\n    /**\n     * @category rendering\n     */\n    createRenderRoot() {\n        var _a;\n        var _b;\n        const renderRoot = super.createRenderRoot();\n        // When adoptedStyleSheets are shimmed, they are inserted into the\n        // shadowRoot by createRenderRoot. Adjust the renderBefore node so that\n        // any styles in Lit content render before adoptedStyleSheets. This is\n        // important so that adoptedStyleSheets have precedence over styles in\n        // the shadowRoot.\n        (_a = (_b = this.renderOptions).renderBefore) !== null && _a !== void 0 ? _a : (_b.renderBefore = renderRoot.firstChild);\n        return renderRoot;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * @param changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    update(changedProperties) {\n        // Setting properties in `render` should not trigger an update. Since\n        // updates are allowed after super.update, it's important to call `render`\n        // before that.\n        const value = this.render();\n        if (!this.hasUpdated) {\n            this.renderOptions.isConnected = this.isConnected;\n        }\n        super.update(changedProperties);\n        this.__childPart = (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.render)(value, this.renderRoot, this.renderOptions);\n    }\n    /**\n     * Invoked when the component is added to the document's DOM.\n     *\n     * In `connectedCallback()` you should setup tasks that should only occur when\n     * the element is connected to the document. The most common of these is\n     * adding event listeners to nodes external to the element, like a keydown\n     * event handler added to the window.\n     *\n     * ```ts\n     * connectedCallback() {\n     *   super.connectedCallback();\n     *   addEventListener('keydown', this._handleKeydown);\n     * }\n     * ```\n     *\n     * Typically, anything done in `connectedCallback()` should be undone when the\n     * element is disconnected, in `disconnectedCallback()`.\n     *\n     * @category lifecycle\n     */\n    connectedCallback() {\n        var _a;\n        super.connectedCallback();\n        (_a = this.__childPart) === null || _a === void 0 ? void 0 : _a.setConnected(true);\n    }\n    /**\n     * Invoked when the component is removed from the document's DOM.\n     *\n     * This callback is the main signal to the element that it may no longer be\n     * used. `disconnectedCallback()` should ensure that nothing is holding a\n     * reference to the element (such as event listeners added to nodes external\n     * to the element), so that it is free to be garbage collected.\n     *\n     * ```ts\n     * disconnectedCallback() {\n     *   super.disconnectedCallback();\n     *   window.removeEventListener('keydown', this._handleKeydown);\n     * }\n     * ```\n     *\n     * An element may be re-connected after being disconnected.\n     *\n     * @category lifecycle\n     */\n    disconnectedCallback() {\n        var _a;\n        super.disconnectedCallback();\n        (_a = this.__childPart) === null || _a === void 0 ? void 0 : _a.setConnected(false);\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method may return\n     * any value renderable by lit-html's `ChildPart` - typically a\n     * `TemplateResult`. Setting properties inside this method will *not* trigger\n     * the element to update.\n     * @category rendering\n     */\n    render() {\n        return lit_html__WEBPACK_IMPORTED_MODULE_1__.noChange;\n    }\n}\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See @lit/reactive-element for more information.\n */\nLitElement['finalized'] = true;\n// This property needs to remain unminified.\nLitElement['_$litElement$'] = true;\n// Install hydration if available\n(_b = globalThis.litElementHydrateSupport) === null || _b === void 0 ? void 0 : _b.call(globalThis, { LitElement });\n// Apply polyfills if available\nconst polyfillSupport = DEV_MODE\n    ? globalThis.litElementPolyfillSupportDevMode\n    : globalThis.litElementPolyfillSupport;\npolyfillSupport === null || polyfillSupport === void 0 ? void 0 : polyfillSupport({ LitElement });\n// DEV mode warnings\nif (DEV_MODE) {\n    /* eslint-disable @typescript-eslint/no-explicit-any */\n    // Note, for compatibility with closure compilation, this access\n    // needs to be as a string property index.\n    LitElement['finalize'] = function () {\n        const finalized = _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement.finalize.call(this);\n        if (!finalized) {\n            return false;\n        }\n        const warnRemovedOrRenamed = (obj, name, renamed = false) => {\n            if (obj.hasOwnProperty(name)) {\n                const ctorName = (typeof obj === 'function' ? obj : obj.constructor)\n                    .name;\n                issueWarning(renamed ? 'renamed-api' : 'removed-api', `\\`${name}\\` is implemented on class ${ctorName}. It ` +\n                    `has been ${renamed ? 'renamed' : 'removed'} ` +\n                    `in this version of LitElement.`);\n            }\n        };\n        warnRemovedOrRenamed(this, 'render');\n        warnRemovedOrRenamed(this, 'getStyles', true);\n        warnRemovedOrRenamed(this.prototype, 'adoptStyles');\n        return true;\n    };\n    /* eslint-enable @typescript-eslint/no-explicit-any */\n}\n/**\n * END USERS SHOULD NOT RELY ON THIS OBJECT.\n *\n * Private exports for use by other Lit packages, not intended for use by\n * external users.\n *\n * We currently do not make a mangled rollup build of the lit-ssr code. In order\n * to keep a number of (otherwise private) top-level exports  mangled in the\n * client side code, we export a _$LE object containing those members (or\n * helper methods for accessing private fields of those members), and then\n * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the\n * client-side code is being used in `dev` mode or `prod` mode.\n *\n * This has a unique name, to disambiguate it from private exports in\n * lit-html, since this module re-exports all of lit-html.\n *\n * @private\n */\nconst _$LE = {\n    _$attributeToProperty: (el, name, value) => {\n        // eslint-disable-next-line\n        el._$attributeToProperty(name, value);\n    },\n    // eslint-disable-next-line\n    _$changedProperties: (el) => el._$changedProperties,\n};\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n((_c = globalThis.litElementVersions) !== null && _c !== void 0 ? _c : (globalThis.litElementVersions = [])).push('3.3.3');\nif (DEV_MODE && globalThis.litElementVersions.length > 1) {\n    issueWarning('multiple-versions', `Multiple versions of Lit loaded. Loading multiple versions ` +\n        `is not recommended.`);\n}\n//# sourceMappingURL=lit-element.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2RldmVsb3BtZW50L2xpdC1lbGVtZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsc0JBQXNCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0JBQXNCLEtBQUssZ0JBQWdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFdBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJCQUEyQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3dEO0FBQ1o7QUFDTjtBQUNiO0FBQ3pCO0FBQ0E7QUFDTyx3QkFBd0Isa0VBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxNQUFNO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNENBQTRDO0FBQzFELElBQUksb0JBQW9CO0FBQ3hCO0FBQ08seUJBQXlCLGtFQUFlO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGdEQUFNO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4Q0FBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRyxZQUFZO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLFlBQVk7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGtFQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLEtBQUssNkJBQTZCLFNBQVM7QUFDdEgsZ0NBQWdDLGlDQUFpQztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2RldmVsb3BtZW50L2xpdC1lbGVtZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xudmFyIF9hLCBfYiwgX2M7XG4vKipcbiAqIFRoZSBtYWluIExpdEVsZW1lbnQgbW9kdWxlLCB3aGljaCBkZWZpbmVzIHRoZSB7QGxpbmtjb2RlIExpdEVsZW1lbnR9IGJhc2VcbiAqIGNsYXNzIGFuZCByZWxhdGVkIEFQSXMuXG4gKlxuICogIExpdEVsZW1lbnQgY29tcG9uZW50cyBjYW4gZGVmaW5lIGEgdGVtcGxhdGUgYW5kIGEgc2V0IG9mIG9ic2VydmVkXG4gKiBwcm9wZXJ0aWVzLiBDaGFuZ2luZyBhbiBvYnNlcnZlZCBwcm9wZXJ0eSB0cmlnZ2VycyBhIHJlLXJlbmRlciBvZiB0aGVcbiAqIGVsZW1lbnQuXG4gKlxuICogIEltcG9ydCB7QGxpbmtjb2RlIExpdEVsZW1lbnR9IGFuZCB7QGxpbmtjb2RlIGh0bWx9IGZyb20gdGhpcyBtb2R1bGUgdG9cbiAqIGNyZWF0ZSBhIGNvbXBvbmVudDpcbiAqXG4gKiAgYGBganNcbiAqIGltcG9ydCB7TGl0RWxlbWVudCwgaHRtbH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuICpcbiAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICpcbiAqICAgLy8gRGVjbGFyZSBvYnNlcnZlZCBwcm9wZXJ0aWVzXG4gKiAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgYWRqZWN0aXZlOiB7fVxuICogICAgIH1cbiAqICAgfVxuICpcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgdGhpcy5hZGplY3RpdmUgPSAnYXdlc29tZSc7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIERlZmluZSB0aGUgZWxlbWVudCdzIHRlbXBsYXRlXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gaHRtbGA8cD55b3VyICR7YWRqZWN0aXZlfSB0ZW1wbGF0ZSBoZXJlPC9wPmA7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWVsZW1lbnQnLCBNeUVsZW1lbnQpO1xuICogYGBgXG4gKlxuICogYExpdEVsZW1lbnRgIGV4dGVuZHMge0BsaW5rY29kZSBSZWFjdGl2ZUVsZW1lbnR9IGFuZCBhZGRzIGxpdC1odG1sXG4gKiB0ZW1wbGF0aW5nLiBUaGUgYFJlYWN0aXZlRWxlbWVudGAgY2xhc3MgaXMgcHJvdmlkZWQgZm9yIHVzZXJzIHRoYXQgd2FudCB0b1xuICogYnVpbGQgdGhlaXIgb3duIGN1c3RvbSBlbGVtZW50IGJhc2UgY2xhc3NlcyB0aGF0IGRvbid0IHVzZSBsaXQtaHRtbC5cbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqL1xuaW1wb3J0IHsgUmVhY3RpdmVFbGVtZW50IH0gZnJvbSAnQGxpdC9yZWFjdGl2ZS1lbGVtZW50JztcbmltcG9ydCB7IHJlbmRlciwgbm9DaGFuZ2UgfSBmcm9tICdsaXQtaHRtbCc7XG5leHBvcnQgKiBmcm9tICdAbGl0L3JlYWN0aXZlLWVsZW1lbnQnO1xuZXhwb3J0ICogZnJvbSAnbGl0LWh0bWwnO1xuLy8gRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGV4cG9ydCBSZWFjdGl2ZUVsZW1lbnQgYXMgVXBkYXRpbmdFbGVtZW50LiBOb3RlLFxuLy8gSUUgdHJhbnNwaWxhdGlvbiByZXF1aXJlcyBleHBvcnRpbmcgbGlrZSB0aGlzLlxuZXhwb3J0IGNvbnN0IFVwZGF0aW5nRWxlbWVudCA9IFJlYWN0aXZlRWxlbWVudDtcbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcbmxldCBpc3N1ZVdhcm5pbmc7XG5pZiAoREVWX01PREUpIHtcbiAgICAvLyBFbnN1cmUgd2FybmluZ3MgYXJlIGlzc3VlZCBvbmx5IDF4LCBldmVuIGlmIG11bHRpcGxlIHZlcnNpb25zIG9mIExpdFxuICAgIC8vIGFyZSBsb2FkZWQuXG4gICAgY29uc3QgaXNzdWVkV2FybmluZ3MgPSAoKF9hID0gZ2xvYmFsVGhpcy5saXRJc3N1ZWRXYXJuaW5ncykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGdsb2JhbFRoaXMubGl0SXNzdWVkV2FybmluZ3MgPSBuZXcgU2V0KCkpKTtcbiAgICAvLyBJc3N1ZSBhIHdhcm5pbmcsIGlmIHdlIGhhdmVuJ3QgYWxyZWFkeS5cbiAgICBpc3N1ZVdhcm5pbmcgPSAoY29kZSwgd2FybmluZykgPT4ge1xuICAgICAgICB3YXJuaW5nICs9IGAgU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvJHtjb2RlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gO1xuICAgICAgICBpZiAoIWlzc3VlZFdhcm5pbmdzLmhhcyh3YXJuaW5nKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgICAgICAgaXNzdWVkV2FybmluZ3MuYWRkKHdhcm5pbmcpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHRoYXQgbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMsIGFuZFxuICogcmVuZGVycyBhIGxpdC1odG1sIHRlbXBsYXRlLlxuICpcbiAqIFRvIGRlZmluZSBhIGNvbXBvbmVudCwgc3ViY2xhc3MgYExpdEVsZW1lbnRgIGFuZCBpbXBsZW1lbnQgYVxuICogYHJlbmRlcmAgbWV0aG9kIHRvIHByb3ZpZGUgdGhlIGNvbXBvbmVudCdzIHRlbXBsYXRlLiBEZWZpbmUgcHJvcGVydGllc1xuICogdXNpbmcgdGhlIHtAbGlua2NvZGUgTGl0RWxlbWVudC5wcm9wZXJ0aWVzIHByb3BlcnRpZXN9IHByb3BlcnR5IG9yIHRoZVxuICoge0BsaW5rY29kZSBwcm9wZXJ0eX0gZGVjb3JhdG9yLlxuICovXG5leHBvcnQgY2xhc3MgTGl0RWxlbWVudCBleHRlbmRzIFJlYWN0aXZlRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlck9wdGlvbnMgPSB7IGhvc3Q6IHRoaXMgfTtcbiAgICAgICAgdGhpcy5fX2NoaWxkUGFydCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgICAqL1xuICAgIGNyZWF0ZVJlbmRlclJvb3QoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIF9iO1xuICAgICAgICBjb25zdCByZW5kZXJSb290ID0gc3VwZXIuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgICAvLyBXaGVuIGFkb3B0ZWRTdHlsZVNoZWV0cyBhcmUgc2hpbW1lZCwgdGhleSBhcmUgaW5zZXJ0ZWQgaW50byB0aGVcbiAgICAgICAgLy8gc2hhZG93Um9vdCBieSBjcmVhdGVSZW5kZXJSb290LiBBZGp1c3QgdGhlIHJlbmRlckJlZm9yZSBub2RlIHNvIHRoYXRcbiAgICAgICAgLy8gYW55IHN0eWxlcyBpbiBMaXQgY29udGVudCByZW5kZXIgYmVmb3JlIGFkb3B0ZWRTdHlsZVNoZWV0cy4gVGhpcyBpc1xuICAgICAgICAvLyBpbXBvcnRhbnQgc28gdGhhdCBhZG9wdGVkU3R5bGVTaGVldHMgaGF2ZSBwcmVjZWRlbmNlIG92ZXIgc3R5bGVzIGluXG4gICAgICAgIC8vIHRoZSBzaGFkb3dSb290LlxuICAgICAgICAoX2EgPSAoX2IgPSB0aGlzLnJlbmRlck9wdGlvbnMpLnJlbmRlckJlZm9yZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKF9iLnJlbmRlckJlZm9yZSA9IHJlbmRlclJvb3QuZmlyc3RDaGlsZCk7XG4gICAgICAgIHJldHVybiByZW5kZXJSb290O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlc1xuICAgICAqIGFuZCBjYWxscyBgcmVuZGVyYCB0byByZW5kZXIgRE9NIHZpYSBsaXQtaHRtbC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZVxuICAgICAqIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlciBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0gY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIHVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICAvLyBTZXR0aW5nIHByb3BlcnRpZXMgaW4gYHJlbmRlcmAgc2hvdWxkIG5vdCB0cmlnZ2VyIGFuIHVwZGF0ZS4gU2luY2VcbiAgICAgICAgLy8gdXBkYXRlcyBhcmUgYWxsb3dlZCBhZnRlciBzdXBlci51cGRhdGUsIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgYHJlbmRlcmBcbiAgICAgICAgLy8gYmVmb3JlIHRoYXQuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyT3B0aW9ucy5pc0Nvbm5lY3RlZCA9IHRoaXMuaXNDb25uZWN0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgdGhpcy5fX2NoaWxkUGFydCA9IHJlbmRlcih2YWx1ZSwgdGhpcy5yZW5kZXJSb290LCB0aGlzLnJlbmRlck9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBhZGRlZCB0byB0aGUgZG9jdW1lbnQncyBET00uXG4gICAgICpcbiAgICAgKiBJbiBgY29ubmVjdGVkQ2FsbGJhY2soKWAgeW91IHNob3VsZCBzZXR1cCB0YXNrcyB0aGF0IHNob3VsZCBvbmx5IG9jY3VyIHdoZW5cbiAgICAgKiB0aGUgZWxlbWVudCBpcyBjb25uZWN0ZWQgdG8gdGhlIGRvY3VtZW50LiBUaGUgbW9zdCBjb21tb24gb2YgdGhlc2UgaXNcbiAgICAgKiBhZGRpbmcgZXZlbnQgbGlzdGVuZXJzIHRvIG5vZGVzIGV4dGVybmFsIHRvIHRoZSBlbGVtZW50LCBsaWtlIGEga2V5ZG93blxuICAgICAqIGV2ZW50IGhhbmRsZXIgYWRkZWQgdG8gdGhlIHdpbmRvdy5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICogICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAqICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFR5cGljYWxseSwgYW55dGhpbmcgZG9uZSBpbiBgY29ubmVjdGVkQ2FsbGJhY2soKWAgc2hvdWxkIGJlIHVuZG9uZSB3aGVuIHRoZVxuICAgICAqIGVsZW1lbnQgaXMgZGlzY29ubmVjdGVkLCBpbiBgZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAuXG4gICAgICpcbiAgICAgKiBAY2F0ZWdvcnkgbGlmZWN5Y2xlXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgKF9hID0gdGhpcy5fX2NoaWxkUGFydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldENvbm5lY3RlZCh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkb2N1bWVudCdzIERPTS5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FsbGJhY2sgaXMgdGhlIG1haW4gc2lnbmFsIHRvIHRoZSBlbGVtZW50IHRoYXQgaXQgbWF5IG5vIGxvbmdlciBiZVxuICAgICAqIHVzZWQuIGBkaXNjb25uZWN0ZWRDYWxsYmFjaygpYCBzaG91bGQgZW5zdXJlIHRoYXQgbm90aGluZyBpcyBob2xkaW5nIGFcbiAgICAgKiByZWZlcmVuY2UgdG8gdGhlIGVsZW1lbnQgKHN1Y2ggYXMgZXZlbnQgbGlzdGVuZXJzIGFkZGVkIHRvIG5vZGVzIGV4dGVybmFsXG4gICAgICogdG8gdGhlIGVsZW1lbnQpLCBzbyB0aGF0IGl0IGlzIGZyZWUgdG8gYmUgZ2FyYmFnZSBjb2xsZWN0ZWQuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAqICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgKiAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bik7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQW4gZWxlbWVudCBtYXkgYmUgcmUtY29ubmVjdGVkIGFmdGVyIGJlaW5nIGRpc2Nvbm5lY3RlZC5cbiAgICAgKlxuICAgICAqIEBjYXRlZ29yeSBsaWZlY3ljbGVcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAoX2EgPSB0aGlzLl9fY2hpbGRQYXJ0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Q29ubmVjdGVkKGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbWF5IHJldHVyblxuICAgICAqIGFueSB2YWx1ZSByZW5kZXJhYmxlIGJ5IGxpdC1odG1sJ3MgYENoaWxkUGFydGAgLSB0eXBpY2FsbHkgYVxuICAgICAqIGBUZW1wbGF0ZVJlc3VsdGAuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyXG4gICAgICogdGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBub0NoYW5nZTtcbiAgICB9XG59XG4vKipcbiAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAqIGl0IHdpbGwgbm90IG5lZWRsZXNzbHkgdHJ5IHRvIGBmaW5hbGl6ZWAuXG4gKlxuICogTm90ZSB0aGlzIHByb3BlcnR5IG5hbWUgaXMgYSBzdHJpbmcgdG8gcHJldmVudCBicmVha2luZyBDbG9zdXJlIEpTIENvbXBpbGVyXG4gKiBvcHRpbWl6YXRpb25zLiBTZWUgQGxpdC9yZWFjdGl2ZS1lbGVtZW50IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG5MaXRFbGVtZW50WydmaW5hbGl6ZWQnXSA9IHRydWU7XG4vLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuTGl0RWxlbWVudFsnXyRsaXRFbGVtZW50JCddID0gdHJ1ZTtcbi8vIEluc3RhbGwgaHlkcmF0aW9uIGlmIGF2YWlsYWJsZVxuKF9iID0gZ2xvYmFsVGhpcy5saXRFbGVtZW50SHlkcmF0ZVN1cHBvcnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGdsb2JhbFRoaXMsIHsgTGl0RWxlbWVudCB9KTtcbi8vIEFwcGx5IHBvbHlmaWxscyBpZiBhdmFpbGFibGVcbmNvbnN0IHBvbHlmaWxsU3VwcG9ydCA9IERFVl9NT0RFXG4gICAgPyBnbG9iYWxUaGlzLmxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnREZXZNb2RlXG4gICAgOiBnbG9iYWxUaGlzLmxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQ7XG5wb2x5ZmlsbFN1cHBvcnQgPT09IG51bGwgfHwgcG9seWZpbGxTdXBwb3J0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb2x5ZmlsbFN1cHBvcnQoeyBMaXRFbGVtZW50IH0pO1xuLy8gREVWIG1vZGUgd2FybmluZ3NcbmlmIChERVZfTU9ERSkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbiAgICAvLyBOb3RlLCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIGNsb3N1cmUgY29tcGlsYXRpb24sIHRoaXMgYWNjZXNzXG4gICAgLy8gbmVlZHMgdG8gYmUgYXMgYSBzdHJpbmcgcHJvcGVydHkgaW5kZXguXG4gICAgTGl0RWxlbWVudFsnZmluYWxpemUnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgZmluYWxpemVkID0gUmVhY3RpdmVFbGVtZW50LmZpbmFsaXplLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICghZmluYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd2FyblJlbW92ZWRPclJlbmFtZWQgPSAob2JqLCBuYW1lLCByZW5hbWVkID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdG9yTmFtZSA9ICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nID8gb2JqIDogb2JqLmNvbnN0cnVjdG9yKVxuICAgICAgICAgICAgICAgICAgICAubmFtZTtcbiAgICAgICAgICAgICAgICBpc3N1ZVdhcm5pbmcocmVuYW1lZCA/ICdyZW5hbWVkLWFwaScgOiAncmVtb3ZlZC1hcGknLCBgXFxgJHtuYW1lfVxcYCBpcyBpbXBsZW1lbnRlZCBvbiBjbGFzcyAke2N0b3JOYW1lfS4gSXQgYCArXG4gICAgICAgICAgICAgICAgICAgIGBoYXMgYmVlbiAke3JlbmFtZWQgPyAncmVuYW1lZCcgOiAncmVtb3ZlZCd9IGAgK1xuICAgICAgICAgICAgICAgICAgICBgaW4gdGhpcyB2ZXJzaW9uIG9mIExpdEVsZW1lbnQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHdhcm5SZW1vdmVkT3JSZW5hbWVkKHRoaXMsICdyZW5kZXInKTtcbiAgICAgICAgd2FyblJlbW92ZWRPclJlbmFtZWQodGhpcywgJ2dldFN0eWxlcycsIHRydWUpO1xuICAgICAgICB3YXJuUmVtb3ZlZE9yUmVuYW1lZCh0aGlzLnByb3RvdHlwZSwgJ2Fkb3B0U3R5bGVzJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG59XG4vKipcbiAqIEVORCBVU0VSUyBTSE9VTEQgTk9UIFJFTFkgT04gVEhJUyBPQkpFQ1QuXG4gKlxuICogUHJpdmF0ZSBleHBvcnRzIGZvciB1c2UgYnkgb3RoZXIgTGl0IHBhY2thZ2VzLCBub3QgaW50ZW5kZWQgZm9yIHVzZSBieVxuICogZXh0ZXJuYWwgdXNlcnMuXG4gKlxuICogV2UgY3VycmVudGx5IGRvIG5vdCBtYWtlIGEgbWFuZ2xlZCByb2xsdXAgYnVpbGQgb2YgdGhlIGxpdC1zc3IgY29kZS4gSW4gb3JkZXJcbiAqIHRvIGtlZXAgYSBudW1iZXIgb2YgKG90aGVyd2lzZSBwcml2YXRlKSB0b3AtbGV2ZWwgZXhwb3J0cyAgbWFuZ2xlZCBpbiB0aGVcbiAqIGNsaWVudCBzaWRlIGNvZGUsIHdlIGV4cG9ydCBhIF8kTEUgb2JqZWN0IGNvbnRhaW5pbmcgdGhvc2UgbWVtYmVycyAob3JcbiAqIGhlbHBlciBtZXRob2RzIGZvciBhY2Nlc3NpbmcgcHJpdmF0ZSBmaWVsZHMgb2YgdGhvc2UgbWVtYmVycyksIGFuZCB0aGVuXG4gKiByZS1leHBvcnQgdGhlbSBmb3IgdXNlIGluIGxpdC1zc3IuIFRoaXMga2VlcHMgbGl0LXNzciBhZ25vc3RpYyB0byB3aGV0aGVyIHRoZVxuICogY2xpZW50LXNpZGUgY29kZSBpcyBiZWluZyB1c2VkIGluIGBkZXZgIG1vZGUgb3IgYHByb2RgIG1vZGUuXG4gKlxuICogVGhpcyBoYXMgYSB1bmlxdWUgbmFtZSwgdG8gZGlzYW1iaWd1YXRlIGl0IGZyb20gcHJpdmF0ZSBleHBvcnRzIGluXG4gKiBsaXQtaHRtbCwgc2luY2UgdGhpcyBtb2R1bGUgcmUtZXhwb3J0cyBhbGwgb2YgbGl0LWh0bWwuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IF8kTEUgPSB7XG4gICAgXyRhdHRyaWJ1dGVUb1Byb3BlcnR5OiAoZWwsIG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBlbC5fJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgXyRjaGFuZ2VkUHJvcGVydGllczogKGVsKSA9PiBlbC5fJGNoYW5nZWRQcm9wZXJ0aWVzLFxufTtcbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgTGl0RWxlbWVudCB1c2FnZS5cbigoX2MgPSBnbG9iYWxUaGlzLmxpdEVsZW1lbnRWZXJzaW9ucykgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogKGdsb2JhbFRoaXMubGl0RWxlbWVudFZlcnNpb25zID0gW10pKS5wdXNoKCczLjMuMycpO1xuaWYgKERFVl9NT0RFICYmIGdsb2JhbFRoaXMubGl0RWxlbWVudFZlcnNpb25zLmxlbmd0aCA+IDEpIHtcbiAgICBpc3N1ZVdhcm5pbmcoJ211bHRpcGxlLXZlcnNpb25zJywgYE11bHRpcGxlIHZlcnNpb25zIG9mIExpdCBsb2FkZWQuIExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgYCArXG4gICAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtZWxlbWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-element/development/lit-element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directive.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directive.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Directive: () => (/* binding */ Directive),\n/* harmony export */   PartType: () => (/* binding */ PartType),\n/* harmony export */   directive: () => (/* binding */ directive)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst PartType = {\n    ATTRIBUTE: 1,\n    CHILD: 2,\n    PROPERTY: 3,\n    BOOLEAN_ATTRIBUTE: 4,\n    EVENT: 5,\n    ELEMENT: 6,\n};\n/**\n * Creates a user-facing directive function from a Directive class. This\n * function has the same parameters as the directive's render() method.\n */\nconst directive = (c) => (...values) => ({\n    // This property needs to remain unminified.\n    ['_$litDirective$']: c,\n    values,\n});\n/**\n * Base class for creating custom directives. Users should extend this class,\n * implement `render` and/or `update`, and then pass their subclass to\n * `directive`.\n */\nclass Directive {\n    constructor(_partInfo) { }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    /** @internal */\n    _$initialize(part, parent, attributeIndex) {\n        this.__part = part;\n        this._$parent = parent;\n        this.__attributeIndex = attributeIndex;\n    }\n    /** @internal */\n    _$resolve(part, props) {\n        return this.update(part, props);\n    }\n    update(_part, props) {\n        return this.render(...props);\n    }\n}\n\n\n//# sourceMappingURL=directive.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvZGlyZWN0aXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFMEM7QUFDMUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvZGlyZWN0aXZlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuY29uc3QgUGFydFR5cGUgPSB7XG4gICAgQVRUUklCVVRFOiAxLFxuICAgIENISUxEOiAyLFxuICAgIFBST1BFUlRZOiAzLFxuICAgIEJPT0xFQU5fQVRUUklCVVRFOiA0LFxuICAgIEVWRU5UOiA1LFxuICAgIEVMRU1FTlQ6IDYsXG59O1xuLyoqXG4gKiBDcmVhdGVzIGEgdXNlci1mYWNpbmcgZGlyZWN0aXZlIGZ1bmN0aW9uIGZyb20gYSBEaXJlY3RpdmUgY2xhc3MuIFRoaXNcbiAqIGZ1bmN0aW9uIGhhcyB0aGUgc2FtZSBwYXJhbWV0ZXJzIGFzIHRoZSBkaXJlY3RpdmUncyByZW5kZXIoKSBtZXRob2QuXG4gKi9cbmNvbnN0IGRpcmVjdGl2ZSA9IChjKSA9PiAoLi4udmFsdWVzKSA9PiAoe1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgWydfJGxpdERpcmVjdGl2ZSQnXTogYyxcbiAgICB2YWx1ZXMsXG59KTtcbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgY3JlYXRpbmcgY3VzdG9tIGRpcmVjdGl2ZXMuIFVzZXJzIHNob3VsZCBleHRlbmQgdGhpcyBjbGFzcyxcbiAqIGltcGxlbWVudCBgcmVuZGVyYCBhbmQvb3IgYHVwZGF0ZWAsIGFuZCB0aGVuIHBhc3MgdGhlaXIgc3ViY2xhc3MgdG9cbiAqIGBkaXJlY3RpdmVgLlxuICovXG5jbGFzcyBEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKF9wYXJ0SW5mbykgeyB9XG4gICAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICAgIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgXyRpbml0aWFsaXplKHBhcnQsIHBhcmVudCwgYXR0cmlidXRlSW5kZXgpIHtcbiAgICAgICAgdGhpcy5fX3BhcnQgPSBwYXJ0O1xuICAgICAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLl9fYXR0cmlidXRlSW5kZXggPSBhdHRyaWJ1dGVJbmRleDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF8kcmVzb2x2ZShwYXJ0LCBwcm9wcykge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUocGFydCwgcHJvcHMpO1xuICAgIH1cbiAgICB1cGRhdGUoX3BhcnQsIHByb3BzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlciguLi5wcm9wcyk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBEaXJlY3RpdmUsIFBhcnRUeXBlLCBkaXJlY3RpdmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpcmVjdGl2ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directive.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/class-map.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/class-map.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   classMap: () => (/* binding */ classMap)\n/* harmony export */ });\n/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lit-html.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\");\n/* harmony import */ var _directive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../directive.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directive.js\");\n\n\n\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nclass ClassMapDirective extends _directive_js__WEBPACK_IMPORTED_MODULE_1__.Directive {\n    constructor(partInfo) {\n        var _a;\n        super(partInfo);\n        if (partInfo.type !== _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.ATTRIBUTE ||\n            partInfo.name !== 'class' ||\n            ((_a = partInfo.strings) === null || _a === void 0 ? void 0 : _a.length) > 2) {\n            throw new Error('`classMap()` can only be used in the `class` attribute ' +\n                'and must be the only part in the attribute.');\n        }\n    }\n    render(classInfo) {\n        // Add spaces to ensure separation from static classes\n        return (' ' +\n            Object.keys(classInfo)\n                .filter((key) => classInfo[key])\n                .join(' ') +\n            ' ');\n    }\n    update(part, [classInfo]) {\n        var _a, _b;\n        // Remember dynamic classes on the first render\n        if (this._previousClasses === undefined) {\n            this._previousClasses = new Set();\n            if (part.strings !== undefined) {\n                this._staticClasses = new Set(part.strings\n                    .join(' ')\n                    .split(/\\s/)\n                    .filter((s) => s !== ''));\n            }\n            for (const name in classInfo) {\n                if (classInfo[name] && !((_a = this._staticClasses) === null || _a === void 0 ? void 0 : _a.has(name))) {\n                    this._previousClasses.add(name);\n                }\n            }\n            return this.render(classInfo);\n        }\n        const classList = part.element.classList;\n        // Remove old classes that no longer apply\n        // We use forEach() instead of for-of so that we don't require down-level\n        // iteration.\n        this._previousClasses.forEach((name) => {\n            if (!(name in classInfo)) {\n                classList.remove(name);\n                this._previousClasses.delete(name);\n            }\n        });\n        // Add or remove classes based on their classMap value\n        for (const name in classInfo) {\n            // We explicitly want a loose truthy check of `value` because it seems\n            // more convenient that '' and 0 are skipped.\n            const value = !!classInfo[name];\n            if (value !== this._previousClasses.has(name) &&\n                !((_b = this._staticClasses) === null || _b === void 0 ? void 0 : _b.has(name))) {\n                if (value) {\n                    classList.add(name);\n                    this._previousClasses.add(name);\n                }\n                else {\n                    classList.remove(name);\n                    this._previousClasses.delete(name);\n                }\n            }\n        }\n        return _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.noChange;\n    }\n}\n/**\n * A directive that applies dynamic CSS classes.\n *\n * This must be used in the `class` attribute and must be the only part used in\n * the attribute. It takes each property in the `classInfo` argument and adds\n * the property name to the element's `classList` if the property value is\n * truthy; if the property value is falsey, the property name is removed from\n * the element's `class`.\n *\n * For example `{foo: bar}` applies the class `foo` if the value of `bar` is\n * truthy.\n *\n * @param classInfo\n */\nconst classMap = (0,_directive_js__WEBPACK_IMPORTED_MODULE_1__.directive)(ClassMapDirective);\n\n\n//# sourceMappingURL=class-map.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvZGlyZWN0aXZlcy9jbGFzcy1tYXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBDO0FBQ3VCOztBQUVqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG9EQUFTO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixtREFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtEQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFTOztBQUVOO0FBQ3BCIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9saXQtaHRtbC9ub2RlL2RldmVsb3BtZW50L2RpcmVjdGl2ZXMvY2xhc3MtbWFwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG5vQ2hhbmdlIH0gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuaW1wb3J0IHsgZGlyZWN0aXZlLCBEaXJlY3RpdmUsIFBhcnRUeXBlIH0gZnJvbSAnLi4vZGlyZWN0aXZlLmpzJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jbGFzcyBDbGFzc01hcERpcmVjdGl2ZSBleHRlbmRzIERpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IocGFydEluZm8pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcihwYXJ0SW5mbyk7XG4gICAgICAgIGlmIChwYXJ0SW5mby50eXBlICE9PSBQYXJ0VHlwZS5BVFRSSUJVVEUgfHxcbiAgICAgICAgICAgIHBhcnRJbmZvLm5hbWUgIT09ICdjbGFzcycgfHxcbiAgICAgICAgICAgICgoX2EgPSBwYXJ0SW5mby5zdHJpbmdzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSA+IDIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYGNsYXNzTWFwKClgIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGhlIGBjbGFzc2AgYXR0cmlidXRlICcgK1xuICAgICAgICAgICAgICAgICdhbmQgbXVzdCBiZSB0aGUgb25seSBwYXJ0IGluIHRoZSBhdHRyaWJ1dGUuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKGNsYXNzSW5mbykge1xuICAgICAgICAvLyBBZGQgc3BhY2VzIHRvIGVuc3VyZSBzZXBhcmF0aW9uIGZyb20gc3RhdGljIGNsYXNzZXNcbiAgICAgICAgcmV0dXJuICgnICcgK1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoY2xhc3NJbmZvKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGtleSkgPT4gY2xhc3NJbmZvW2tleV0pXG4gICAgICAgICAgICAgICAgLmpvaW4oJyAnKSArXG4gICAgICAgICAgICAnICcpO1xuICAgIH1cbiAgICB1cGRhdGUocGFydCwgW2NsYXNzSW5mb10pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgLy8gUmVtZW1iZXIgZHluYW1pYyBjbGFzc2VzIG9uIHRoZSBmaXJzdCByZW5kZXJcbiAgICAgICAgaWYgKHRoaXMuX3ByZXZpb3VzQ2xhc3NlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9wcmV2aW91c0NsYXNzZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBpZiAocGFydC5zdHJpbmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0aWNDbGFzc2VzID0gbmV3IFNldChwYXJ0LnN0cmluZ3NcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoL1xccy8pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHMpID0+IHMgIT09ICcnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gY2xhc3NJbmZvKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzSW5mb1tuYW1lXSAmJiAhKChfYSA9IHRoaXMuX3N0YXRpY0NsYXNzZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oYXMobmFtZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzQ2xhc3Nlcy5hZGQobmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKGNsYXNzSW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xhc3NMaXN0ID0gcGFydC5lbGVtZW50LmNsYXNzTGlzdDtcbiAgICAgICAgLy8gUmVtb3ZlIG9sZCBjbGFzc2VzIHRoYXQgbm8gbG9uZ2VyIGFwcGx5XG4gICAgICAgIC8vIFdlIHVzZSBmb3JFYWNoKCkgaW5zdGVhZCBvZiBmb3Itb2Ygc28gdGhhdCB3ZSBkb24ndCByZXF1aXJlIGRvd24tbGV2ZWxcbiAgICAgICAgLy8gaXRlcmF0aW9uLlxuICAgICAgICB0aGlzLl9wcmV2aW91c0NsYXNzZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCEobmFtZSBpbiBjbGFzc0luZm8pKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2aW91c0NsYXNzZXMuZGVsZXRlKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQWRkIG9yIHJlbW92ZSBjbGFzc2VzIGJhc2VkIG9uIHRoZWlyIGNsYXNzTWFwIHZhbHVlXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBjbGFzc0luZm8pIHtcbiAgICAgICAgICAgIC8vIFdlIGV4cGxpY2l0bHkgd2FudCBhIGxvb3NlIHRydXRoeSBjaGVjayBvZiBgdmFsdWVgIGJlY2F1c2UgaXQgc2VlbXNcbiAgICAgICAgICAgIC8vIG1vcmUgY29udmVuaWVudCB0aGF0ICcnIGFuZCAwIGFyZSBza2lwcGVkLlxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSAhIWNsYXNzSW5mb1tuYW1lXTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fcHJldmlvdXNDbGFzc2VzLmhhcyhuYW1lKSAmJlxuICAgICAgICAgICAgICAgICEoKF9iID0gdGhpcy5fc3RhdGljQ2xhc3NlcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmhhcyhuYW1lKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0LmFkZChuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNDbGFzc2VzLmFkZChuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzQ2xhc3Nlcy5kZWxldGUobmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub0NoYW5nZTtcbiAgICB9XG59XG4vKipcbiAqIEEgZGlyZWN0aXZlIHRoYXQgYXBwbGllcyBkeW5hbWljIENTUyBjbGFzc2VzLlxuICpcbiAqIFRoaXMgbXVzdCBiZSB1c2VkIGluIHRoZSBgY2xhc3NgIGF0dHJpYnV0ZSBhbmQgbXVzdCBiZSB0aGUgb25seSBwYXJ0IHVzZWQgaW5cbiAqIHRoZSBhdHRyaWJ1dGUuIEl0IHRha2VzIGVhY2ggcHJvcGVydHkgaW4gdGhlIGBjbGFzc0luZm9gIGFyZ3VtZW50IGFuZCBhZGRzXG4gKiB0aGUgcHJvcGVydHkgbmFtZSB0byB0aGUgZWxlbWVudCdzIGBjbGFzc0xpc3RgIGlmIHRoZSBwcm9wZXJ0eSB2YWx1ZSBpc1xuICogdHJ1dGh5OyBpZiB0aGUgcHJvcGVydHkgdmFsdWUgaXMgZmFsc2V5LCB0aGUgcHJvcGVydHkgbmFtZSBpcyByZW1vdmVkIGZyb21cbiAqIHRoZSBlbGVtZW50J3MgYGNsYXNzYC5cbiAqXG4gKiBGb3IgZXhhbXBsZSBge2ZvbzogYmFyfWAgYXBwbGllcyB0aGUgY2xhc3MgYGZvb2AgaWYgdGhlIHZhbHVlIG9mIGBiYXJgIGlzXG4gKiB0cnV0aHkuXG4gKlxuICogQHBhcmFtIGNsYXNzSW5mb1xuICovXG5jb25zdCBjbGFzc01hcCA9IGRpcmVjdGl2ZShDbGFzc01hcERpcmVjdGl2ZSk7XG5cbmV4cG9ydCB7IGNsYXNzTWFwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGFzcy1tYXAuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/class-map.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/if-defined.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/if-defined.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ifDefined: () => (/* binding */ ifDefined)\n/* harmony export */ });\n/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lit-html.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\");\n\n\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * For AttributeParts, sets the attribute if the value is defined and removes\n * the attribute if the value is undefined.\n *\n * For other part types, this directive is a no-op.\n */\nconst ifDefined = (value) => value !== null && value !== void 0 ? value : _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.nothing;\n\n\n//# sourceMappingURL=if-defined.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvZGlyZWN0aXZlcy9pZi1kZWZpbmVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlDOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLGlEQUFPOztBQUU1RDtBQUNyQiIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbm9kZS9kZXZlbG9wbWVudC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm90aGluZyB9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG4vKipcbiAqIEZvciBBdHRyaWJ1dGVQYXJ0cywgc2V0cyB0aGUgYXR0cmlidXRlIGlmIHRoZSB2YWx1ZSBpcyBkZWZpbmVkIGFuZCByZW1vdmVzXG4gKiB0aGUgYXR0cmlidXRlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQuXG4gKlxuICogRm9yIG90aGVyIHBhcnQgdHlwZXMsIHRoaXMgZGlyZWN0aXZlIGlzIGEgbm8tb3AuXG4gKi9cbmNvbnN0IGlmRGVmaW5lZCA9ICh2YWx1ZSkgPT4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCA/IHZhbHVlIDogbm90aGluZztcblxuZXhwb3J0IHsgaWZEZWZpbmVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZi1kZWZpbmVkLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/if-defined.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/is-server.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/is-server.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isServer: () => (/* binding */ isServer)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2022 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * @fileoverview\n *\n * This file exports a boolean const whose value will depend on what environment\n * the module is being imported from.\n */\nconst NODE_MODE = true;\n/**\n * A boolean that will be `true` in server environments like Node, and `false`\n * in browser environments. Note that your server environment or toolchain must\n * support the `\"node\"` export condition for this to be `true`.\n *\n * This can be used when authoring components to change behavior based on\n * whether or not the component is executing in an SSR context.\n */\nconst isServer = NODE_MODE;\n\n\n//# sourceMappingURL=is-server.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvaXMtc2VydmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9CO0FBQ3BCIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9saXQtaHRtbC9ub2RlL2RldmVsb3BtZW50L2lzLXNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbi8qKlxuICogQGZpbGVvdmVydmlld1xuICpcbiAqIFRoaXMgZmlsZSBleHBvcnRzIGEgYm9vbGVhbiBjb25zdCB3aG9zZSB2YWx1ZSB3aWxsIGRlcGVuZCBvbiB3aGF0IGVudmlyb25tZW50XG4gKiB0aGUgbW9kdWxlIGlzIGJlaW5nIGltcG9ydGVkIGZyb20uXG4gKi9cbmNvbnN0IE5PREVfTU9ERSA9IHRydWU7XG4vKipcbiAqIEEgYm9vbGVhbiB0aGF0IHdpbGwgYmUgYHRydWVgIGluIHNlcnZlciBlbnZpcm9ubWVudHMgbGlrZSBOb2RlLCBhbmQgYGZhbHNlYFxuICogaW4gYnJvd3NlciBlbnZpcm9ubWVudHMuIE5vdGUgdGhhdCB5b3VyIHNlcnZlciBlbnZpcm9ubWVudCBvciB0b29sY2hhaW4gbXVzdFxuICogc3VwcG9ydCB0aGUgYFwibm9kZVwiYCBleHBvcnQgY29uZGl0aW9uIGZvciB0aGlzIHRvIGJlIGB0cnVlYC5cbiAqXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHdoZW4gYXV0aG9yaW5nIGNvbXBvbmVudHMgdG8gY2hhbmdlIGJlaGF2aW9yIGJhc2VkIG9uXG4gKiB3aGV0aGVyIG9yIG5vdCB0aGUgY29tcG9uZW50IGlzIGV4ZWN1dGluZyBpbiBhbiBTU1IgY29udGV4dC5cbiAqL1xuY29uc3QgaXNTZXJ2ZXIgPSBOT0RFX01PREU7XG5cbmV4cG9ydCB7IGlzU2VydmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1zZXJ2ZXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/is-server.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _$LH: () => (/* binding */ _$LH),\n/* harmony export */   html: () => (/* binding */ html),\n/* harmony export */   noChange: () => (/* binding */ noChange),\n/* harmony export */   nothing: () => (/* binding */ nothing),\n/* harmony export */   render: () => (/* binding */ render),\n/* harmony export */   svg: () => (/* binding */ svg)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar _a, _d;\n// Use window for browser builds because IE11 doesn't have globalThis.\nconst global = globalThis ;\n/**\n * Useful for visualizing and logging insights into what the Lit template system is doing.\n *\n * Compiled out of prod mode builds.\n */\nconst debugLogEvent = (event) => {\n        const shouldEmit = global\n            .emitLitDebugLogEvents;\n        if (!shouldEmit) {\n            return;\n        }\n        global.dispatchEvent(new CustomEvent('lit-debug', {\n            detail: event,\n        }));\n    }\n    ;\n// Used for connecting beginRender and endRender events when there are nested\n// renders when errors are thrown preventing an endRender event from being\n// called.\nlet debugLogRenderId = 0;\nlet issueWarning;\n{\n    (_a = global.litIssuedWarnings) !== null && _a !== void 0 ? _a : (global.litIssuedWarnings = new Set());\n    // Issue a warning, if we haven't already.\n    issueWarning = (code, warning) => {\n        warning += code\n            ? ` See https://lit.dev/msg/${code} for more information.`\n            : '';\n        if (!global.litIssuedWarnings.has(warning)) {\n            console.warn(warning);\n            global.litIssuedWarnings.add(warning);\n        }\n    };\n    issueWarning('dev-mode', `Lit is in dev mode. Not recommended for production!`);\n}\nconst wrap = (node) => node;\nconst trustedTypes = global.trustedTypes;\n/**\n * Our TrustedTypePolicy for HTML which is declared using the html template\n * tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n */\nconst policy = trustedTypes\n    ? trustedTypes.createPolicy('lit-html', {\n        createHTML: (s) => s,\n    })\n    : undefined;\nconst identityFunction = (value) => value;\nconst noopSanitizer = (_node, _name, _type) => identityFunction;\n/** Sets the global sanitizer factory. */\nconst setSanitizer = (newSanitizer) => {\n    if (sanitizerFactoryInternal !== noopSanitizer) {\n        throw new Error(`Attempted to overwrite existing lit-html security policy.` +\n            ` setSanitizeDOMValueFactory should be called at most once.`);\n    }\n    sanitizerFactoryInternal = newSanitizer;\n};\n/**\n * Only used in internal tests, not a part of the public API.\n */\nconst _testOnlyClearSanitizerFactoryDoNotCallOrElse = () => {\n    sanitizerFactoryInternal = noopSanitizer;\n};\nconst createSanitizer = (node, name, type) => {\n    return sanitizerFactoryInternal(node, name, type);\n};\n// Added to an attribute name to mark the attribute as bound so we can find\n// it easily.\nconst boundAttributeSuffix = '$lit$';\n// This marker is used in many syntactic positions in HTML, so it must be\n// a valid element name and attribute name. We don't support dynamic names (yet)\n// but this at least ensures that the parse tree is closer to the template\n// intention.\nconst marker = `lit$${String(Math.random()).slice(9)}$`;\n// String used to tell if a comment is a marker comment\nconst markerMatch = '?' + marker;\n// Text used to insert a comment marker node. We use processing instruction\n// syntax because it's slightly smaller, but parses as a comment node.\nconst nodeMarker = `<${markerMatch}>`;\nconst d = global.document === undefined\n    ? {\n        createTreeWalker() {\n            return {};\n        },\n    }\n    : document;\n// Creates a dynamic marker. We never have to search for these in the DOM.\nconst createMarker = () => d.createComment('');\nconst isPrimitive = (value) => value === null || (typeof value != 'object' && typeof value != 'function');\nconst isArray = Array.isArray;\nconst isIterable = (value) => isArray(value) ||\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    typeof (value === null || value === void 0 ? void 0 : value[Symbol.iterator]) === 'function';\nconst SPACE_CHAR = `[ \\t\\n\\f\\r]`;\nconst ATTR_VALUE_CHAR = `[^ \\t\\n\\f\\r\"'\\`<>=]`;\nconst NAME_CHAR = `[^\\\\s\"'>=/]`;\n// These regexes represent the five parsing states that we care about in the\n// Template's HTML scanner. They match the *end* of the state they're named\n// after.\n// Depending on the match, we transition to a new state. If there's no match,\n// we stay in the same state.\n// Note that the regexes are stateful. We utilize lastIndex and sync it\n// across the multiple regexes used. In addition to the five regexes below\n// we also dynamically create a regex to find the matching end tags for raw\n// text elements.\n/**\n * End of text is: `<` followed by:\n *   (comment start) or (tag) or (dynamic tag binding)\n */\nconst textEndRegex = /<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g;\nconst COMMENT_START = 1;\nconst TAG_NAME = 2;\nconst DYNAMIC_TAG_NAME = 3;\nconst commentEndRegex = /-->/g;\n/**\n * Comments not started with <!--, like </{, can be ended by a single `>`\n */\nconst comment2EndRegex = />/g;\n/**\n * The tagEnd regex matches the end of the \"inside an opening\" tag syntax\n * position. It either matches a `>`, an attribute-like sequence, or the end\n * of the string after a space (attribute-name position ending).\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\t\\n\\f\\r\" are HTML space characters:\n * https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * So an attribute is:\n *  * The name: any character except a whitespace character, (\"), ('), \">\",\n *    \"=\", or \"/\". Note: this is different from the HTML spec which also excludes control characters.\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nconst tagEndRegex = new RegExp(`>|${SPACE_CHAR}(?:(${NAME_CHAR}+)(${SPACE_CHAR}*=${SPACE_CHAR}*(?:${ATTR_VALUE_CHAR}|(\"|')|))|$)`, 'g');\nconst ENTIRE_MATCH = 0;\nconst ATTRIBUTE_NAME = 1;\nconst SPACES_AND_EQUALS = 2;\nconst QUOTE_CHAR = 3;\nconst singleQuoteAttrEndRegex = /'/g;\nconst doubleQuoteAttrEndRegex = /\"/g;\n/**\n * Matches the raw text elements.\n *\n * Comments are not parsed within raw text elements, so we need to search their\n * text content for marker strings.\n */\nconst rawTextElement = /^(?:script|style|textarea|title)$/i;\n/** TemplateResult types */\nconst HTML_RESULT = 1;\nconst SVG_RESULT = 2;\n// TemplatePart types\n// IMPORTANT: these must match the values in PartType\nconst ATTRIBUTE_PART = 1;\nconst CHILD_PART = 2;\nconst PROPERTY_PART = 3;\nconst BOOLEAN_ATTRIBUTE_PART = 4;\nconst EVENT_PART = 5;\nconst ELEMENT_PART = 6;\nconst COMMENT_PART = 7;\n/**\n * Generates a template literal tag function that returns a TemplateResult with\n * the given result type.\n */\nconst tag = (type) => (strings, ...values) => {\n    // Warn against templates octal escape sequences\n    // We do this here rather than in render so that the warning is closer to the\n    // template definition.\n    if (strings.some((s) => s === undefined)) {\n        console.warn('Some template strings are undefined.\\n' +\n            'This is probably caused by illegal octal escape sequences.');\n    }\n    return {\n        // This property needs to remain unminified.\n        ['_$litType$']: type,\n        strings,\n        values,\n    };\n};\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n *\n * ```ts\n * const header = (title: string) => html`<h1>${title}</h1>`;\n * ```\n *\n * The `html` tag returns a description of the DOM to render as a value. It is\n * lazy, meaning no work is done until the template is rendered. When rendering,\n * if a template comes from the same expression as a previously rendered result,\n * it's efficiently updated instead of replaced.\n */\nconst html = tag(HTML_RESULT);\n/**\n * Interprets a template literal as an SVG fragment that can efficiently\n * render to and update a container.\n *\n * ```ts\n * const rect = svg`<rect width=\"10\" height=\"10\"></rect>`;\n *\n * const myImage = html`\n *   <svg viewBox=\"0 0 10 10\" xmlns=\"http://www.w3.org/2000/svg\">\n *     ${rect}\n *   </svg>`;\n * ```\n *\n * The `svg` *tag function* should only be used for SVG fragments, or elements\n * that would be contained **inside** an `<svg>` HTML element. A common error is\n * placing an `<svg>` *element* in a template tagged with the `svg` tag\n * function. The `<svg>` element is an HTML element and should be used within a\n * template tagged with the {@linkcode html} tag function.\n *\n * In LitElement usage, it's invalid to return an SVG fragment from the\n * `render()` method, as the SVG fragment will be contained within the element's\n * shadow root and thus cannot be used within an `<svg>` HTML element.\n */\nconst svg = tag(SVG_RESULT);\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nconst noChange = Symbol.for('lit-noChange');\n/**\n * A sentinel value that signals a ChildPart to fully clear its content.\n *\n * ```ts\n * const button = html`${\n *  user.isAdmin\n *    ? html`<button>DELETE</button>`\n *    : nothing\n * }`;\n * ```\n *\n * Prefer using `nothing` over other falsy values as it provides a consistent\n * behavior between various expression binding contexts.\n *\n * In child expressions, `undefined`, `null`, `''`, and `nothing` all behave the\n * same and render no nodes. In attribute expressions, `nothing` _removes_ the\n * attribute, while `undefined` and `null` will render an empty string. In\n * property expressions `nothing` becomes `undefined`.\n */\nconst nothing = Symbol.for('lit-nothing');\n/**\n * The cache of prepared templates, keyed by the tagged TemplateStringsArray\n * and _not_ accounting for the specific template tag used. This means that\n * template tags cannot be dynamic - the must statically be one of html, svg,\n * or attr. This restriction simplifies the cache lookup, which is on the hot\n * path for rendering.\n */\nconst templateCache = new WeakMap();\nconst walker = d.createTreeWalker(d, 129 /* NodeFilter.SHOW_{ELEMENT|COMMENT} */, null, false);\nlet sanitizerFactoryInternal = noopSanitizer;\nfunction trustFromTemplateString(tsa, stringFromTSA) {\n    // A security check to prevent spoofing of Lit template results.\n    // In the future, we may be able to replace this with Array.isTemplateObject,\n    // though we might need to make that check inside of the html and svg\n    // functions, because precompiled templates don't come in as\n    // TemplateStringArray objects.\n    if (!Array.isArray(tsa) || !tsa.hasOwnProperty('raw')) {\n        let message = 'invalid template strings array';\n        {\n            message = `\n          Internal Error: expected template strings to be an array\n          with a 'raw' field. Faking a template strings array by\n          calling html or svg like an ordinary function is effectively\n          the same as calling unsafeHtml and can lead to major security\n          issues, e.g. opening your code up to XSS attacks.\n          If you're using the html or svg tagged template functions normally\n          and still seeing this error, please file a bug at\n          https://github.com/lit/lit/issues/new?template=bug_report.md\n          and include information about your build tooling, if any.\n        `\n                .trim()\n                .replace(/\\n */g, '\\n');\n        }\n        throw new Error(message);\n    }\n    return policy !== undefined\n        ? policy.createHTML(stringFromTSA)\n        : stringFromTSA;\n}\n/**\n * Returns an HTML string for the given TemplateStringsArray and result type\n * (HTML or SVG), along with the case-sensitive bound attribute names in\n * template order. The HTML contains comment markers denoting the `ChildPart`s\n * and suffixes on bound attributes denoting the `AttributeParts`.\n *\n * @param strings template strings array\n * @param type HTML or SVG\n * @return Array containing `[html, attrNames]` (array returned for terseness,\n *     to avoid object fields since this code is shared with non-minified SSR\n *     code)\n */\nconst getTemplateHtml = (strings, type) => {\n    // Insert makers into the template HTML to represent the position of\n    // bindings. The following code scans the template strings to determine the\n    // syntactic position of the bindings. They can be in text position, where\n    // we insert an HTML comment, attribute value position, where we insert a\n    // sentinel string and re-write the attribute name, or inside a tag where\n    // we insert the sentinel string.\n    const l = strings.length - 1;\n    // Stores the case-sensitive bound attribute names in the order of their\n    // parts. ElementParts are also reflected in this array as undefined\n    // rather than a string, to disambiguate from attribute bindings.\n    const attrNames = [];\n    let html = type === SVG_RESULT ? '<svg>' : '';\n    // When we're inside a raw text tag (not it's text content), the regex\n    // will still be tagRegex so we can find attributes, but will switch to\n    // this regex when the tag ends.\n    let rawTextEndRegex;\n    // The current parsing state, represented as a reference to one of the\n    // regexes\n    let regex = textEndRegex;\n    for (let i = 0; i < l; i++) {\n        const s = strings[i];\n        // The index of the end of the last attribute name. When this is\n        // positive at end of a string, it means we're in an attribute value\n        // position and need to rewrite the attribute name.\n        // We also use a special value of -2 to indicate that we encountered\n        // the end of a string in attribute name position.\n        let attrNameEndIndex = -1;\n        let attrName;\n        let lastIndex = 0;\n        let match;\n        // The conditions in this loop handle the current parse state, and the\n        // assignments to the `regex` variable are the state transitions.\n        while (lastIndex < s.length) {\n            // Make sure we start searching from where we previously left off\n            regex.lastIndex = lastIndex;\n            match = regex.exec(s);\n            if (match === null) {\n                break;\n            }\n            lastIndex = regex.lastIndex;\n            if (regex === textEndRegex) {\n                if (match[COMMENT_START] === '!--') {\n                    regex = commentEndRegex;\n                }\n                else if (match[COMMENT_START] !== undefined) {\n                    // We started a weird comment, like </{\n                    regex = comment2EndRegex;\n                }\n                else if (match[TAG_NAME] !== undefined) {\n                    if (rawTextElement.test(match[TAG_NAME])) {\n                        // Record if we encounter a raw-text element. We'll switch to\n                        // this regex at the end of the tag.\n                        rawTextEndRegex = new RegExp(`</${match[TAG_NAME]}`, 'g');\n                    }\n                    regex = tagEndRegex;\n                }\n                else if (match[DYNAMIC_TAG_NAME] !== undefined) {\n                    {\n                        throw new Error('Bindings in tag names are not supported. Please use static templates instead. ' +\n                            'See https://lit.dev/docs/templates/expressions/#static-expressions');\n                    }\n                }\n            }\n            else if (regex === tagEndRegex) {\n                if (match[ENTIRE_MATCH] === '>') {\n                    // End of a tag. If we had started a raw-text element, use that\n                    // regex\n                    regex = rawTextEndRegex !== null && rawTextEndRegex !== void 0 ? rawTextEndRegex : textEndRegex;\n                    // We may be ending an unquoted attribute value, so make sure we\n                    // clear any pending attrNameEndIndex\n                    attrNameEndIndex = -1;\n                }\n                else if (match[ATTRIBUTE_NAME] === undefined) {\n                    // Attribute name position\n                    attrNameEndIndex = -2;\n                }\n                else {\n                    attrNameEndIndex = regex.lastIndex - match[SPACES_AND_EQUALS].length;\n                    attrName = match[ATTRIBUTE_NAME];\n                    regex =\n                        match[QUOTE_CHAR] === undefined\n                            ? tagEndRegex\n                            : match[QUOTE_CHAR] === '\"'\n                                ? doubleQuoteAttrEndRegex\n                                : singleQuoteAttrEndRegex;\n                }\n            }\n            else if (regex === doubleQuoteAttrEndRegex ||\n                regex === singleQuoteAttrEndRegex) {\n                regex = tagEndRegex;\n            }\n            else if (regex === commentEndRegex || regex === comment2EndRegex) {\n                regex = textEndRegex;\n            }\n            else {\n                // Not one of the five state regexes, so it must be the dynamically\n                // created raw text regex and we're at the close of that element.\n                regex = tagEndRegex;\n                rawTextEndRegex = undefined;\n            }\n        }\n        {\n            // If we have a attrNameEndIndex, which indicates that we should\n            // rewrite the attribute name, assert that we're in a valid attribute\n            // position - either in a tag, or a quoted attribute value.\n            console.assert(attrNameEndIndex === -1 ||\n                regex === tagEndRegex ||\n                regex === singleQuoteAttrEndRegex ||\n                regex === doubleQuoteAttrEndRegex, 'unexpected parse state B');\n        }\n        // We have four cases:\n        //  1. We're in text position, and not in a raw text element\n        //     (regex === textEndRegex): insert a comment marker.\n        //  2. We have a non-negative attrNameEndIndex which means we need to\n        //     rewrite the attribute name to add a bound attribute suffix.\n        //  3. We're at the non-first binding in a multi-binding attribute, use a\n        //     plain marker.\n        //  4. We're somewhere else inside the tag. If we're in attribute name\n        //     position (attrNameEndIndex === -2), add a sequential suffix to\n        //     generate a unique attribute name.\n        // Detect a binding next to self-closing tag end and insert a space to\n        // separate the marker from the tag end:\n        const end = regex === tagEndRegex && strings[i + 1].startsWith('/>') ? ' ' : '';\n        html +=\n            regex === textEndRegex\n                ? s + nodeMarker\n                : attrNameEndIndex >= 0\n                    ? (attrNames.push(attrName),\n                        s.slice(0, attrNameEndIndex) +\n                            boundAttributeSuffix +\n                            s.slice(attrNameEndIndex)) +\n                        marker +\n                        end\n                    : s +\n                        marker +\n                        (attrNameEndIndex === -2 ? (attrNames.push(undefined), i) : end);\n    }\n    const htmlResult = html + (strings[l] || '<?>') + (type === SVG_RESULT ? '</svg>' : '');\n    // Returned as an array for terseness\n    return [trustFromTemplateString(strings, htmlResult), attrNames];\n};\nclass Template {\n    constructor(\n    // This property needs to remain unminified.\n    { strings, ['_$litType$']: type }, options) {\n        this.parts = [];\n        let node;\n        let nodeIndex = 0;\n        let attrNameIndex = 0;\n        const partCount = strings.length - 1;\n        const parts = this.parts;\n        // Create template element\n        const [html, attrNames] = getTemplateHtml(strings, type);\n        this.el = Template.createElement(html, options);\n        walker.currentNode = this.el.content;\n        // Reparent SVG nodes into template root\n        if (type === SVG_RESULT) {\n            const content = this.el.content;\n            const svgElement = content.firstChild;\n            svgElement.remove();\n            content.append(...svgElement.childNodes);\n        }\n        // Walk the template to find binding markers and create TemplateParts\n        while ((node = walker.nextNode()) !== null && parts.length < partCount) {\n            if (node.nodeType === 1) {\n                {\n                    const tag = node.localName;\n                    // Warn if `textarea` includes an expression and throw if `template`\n                    // does since these are not supported. We do this by checking\n                    // innerHTML for anything that looks like a marker. This catches\n                    // cases like bindings in textarea there markers turn into text nodes.\n                    if (/^(?:textarea|template)$/i.test(tag) &&\n                        node.innerHTML.includes(marker)) {\n                        const m = `Expressions are not supported inside \\`${tag}\\` ` +\n                            `elements. See https://lit.dev/msg/expression-in-${tag} for more ` +\n                            `information.`;\n                        if (tag === 'template') {\n                            throw new Error(m);\n                        }\n                        else\n                            issueWarning('', m);\n                    }\n                }\n                // TODO (justinfagnani): for attempted dynamic tag names, we don't\n                // increment the bindingIndex, and it'll be off by 1 in the element\n                // and off by two after it.\n                if (node.hasAttributes()) {\n                    // We defer removing bound attributes because on IE we might not be\n                    // iterating attributes in their template order, and would sometimes\n                    // remove an attribute that we still need to create a part for.\n                    const attrsToRemove = [];\n                    for (const name of node.getAttributeNames()) {\n                        // `name` is the name of the attribute we're iterating over, but not\n                        // _necessarily_ the name of the attribute we will create a part\n                        // for. They can be different in browsers that don't iterate on\n                        // attributes in source order. In that case the attrNames array\n                        // contains the attribute name we'll process next. We only need the\n                        // attribute name here to know if we should process a bound attribute\n                        // on this element.\n                        if (name.endsWith(boundAttributeSuffix) ||\n                            name.startsWith(marker)) {\n                            const realName = attrNames[attrNameIndex++];\n                            attrsToRemove.push(name);\n                            if (realName !== undefined) {\n                                // Lowercase for case-sensitive SVG attributes like viewBox\n                                const value = node.getAttribute(realName.toLowerCase() + boundAttributeSuffix);\n                                const statics = value.split(marker);\n                                const m = /([.?@])?(.*)/.exec(realName);\n                                parts.push({\n                                    type: ATTRIBUTE_PART,\n                                    index: nodeIndex,\n                                    name: m[2],\n                                    strings: statics,\n                                    ctor: m[1] === '.'\n                                        ? PropertyPart\n                                        : m[1] === '?'\n                                            ? BooleanAttributePart\n                                            : m[1] === '@'\n                                                ? EventPart\n                                                : AttributePart,\n                                });\n                            }\n                            else {\n                                parts.push({\n                                    type: ELEMENT_PART,\n                                    index: nodeIndex,\n                                });\n                            }\n                        }\n                    }\n                    for (const name of attrsToRemove) {\n                        node.removeAttribute(name);\n                    }\n                }\n                // TODO (justinfagnani): benchmark the regex against testing for each\n                // of the 3 raw text element names.\n                if (rawTextElement.test(node.tagName)) {\n                    // For raw text elements we need to split the text content on\n                    // markers, create a Text node for each segment, and create\n                    // a TemplatePart for each marker.\n                    const strings = node.textContent.split(marker);\n                    const lastIndex = strings.length - 1;\n                    if (lastIndex > 0) {\n                        node.textContent = trustedTypes\n                            ? trustedTypes.emptyScript\n                            : '';\n                        // Generate a new text node for each literal section\n                        // These nodes are also used as the markers for node parts\n                        // We can't use empty text nodes as markers because they're\n                        // normalized when cloning in IE (could simplify when\n                        // IE is no longer supported)\n                        for (let i = 0; i < lastIndex; i++) {\n                            node.append(strings[i], createMarker());\n                            // Walk past the marker node we just added\n                            walker.nextNode();\n                            parts.push({ type: CHILD_PART, index: ++nodeIndex });\n                        }\n                        // Note because this marker is added after the walker's current\n                        // node, it will be walked to in the outer loop (and ignored), so\n                        // we don't need to adjust nodeIndex here\n                        node.append(strings[lastIndex], createMarker());\n                    }\n                }\n            }\n            else if (node.nodeType === 8) {\n                const data = node.data;\n                if (data === markerMatch) {\n                    parts.push({ type: CHILD_PART, index: nodeIndex });\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        parts.push({ type: COMMENT_PART, index: nodeIndex });\n                        // Move to the end of the match\n                        i += marker.length - 1;\n                    }\n                }\n            }\n            nodeIndex++;\n        }\n        // We could set walker.currentNode to another node here to prevent a memory\n        // leak, but every time we prepare a template, we immediately render it\n        // and re-use the walker in new TemplateInstance._clone().\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n            kind: 'template prep',\n            template: this,\n            clonableTemplate: this.el,\n            parts: this.parts,\n            strings,\n        });\n    }\n    // Overridden via `litHtmlPolyfillSupport` to provide platform support.\n    /** @nocollapse */\n    static createElement(html, _options) {\n        const el = d.createElement('template');\n        el.innerHTML = html;\n        return el;\n    }\n}\nfunction resolveDirective(part, value, parent = part, attributeIndex) {\n    var _a, _b, _c;\n    var _d;\n    // Bail early if the value is explicitly noChange. Note, this means any\n    // nested directive is still attached and is not run.\n    if (value === noChange) {\n        return value;\n    }\n    let currentDirective = attributeIndex !== undefined\n        ? (_a = parent.__directives) === null || _a === void 0 ? void 0 : _a[attributeIndex]\n        : parent.__directive;\n    const nextDirectiveConstructor = isPrimitive(value)\n        ? undefined\n        : // This property needs to remain unminified.\n            value['_$litDirective$'];\n    if ((currentDirective === null || currentDirective === void 0 ? void 0 : currentDirective.constructor) !== nextDirectiveConstructor) {\n        // This property needs to remain unminified.\n        (_b = currentDirective === null || currentDirective === void 0 ? void 0 : currentDirective['_$notifyDirectiveConnectionChanged']) === null || _b === void 0 ? void 0 : _b.call(currentDirective, false);\n        if (nextDirectiveConstructor === undefined) {\n            currentDirective = undefined;\n        }\n        else {\n            currentDirective = new nextDirectiveConstructor(part);\n            currentDirective._$initialize(part, parent, attributeIndex);\n        }\n        if (attributeIndex !== undefined) {\n            ((_c = (_d = parent).__directives) !== null && _c !== void 0 ? _c : (_d.__directives = []))[attributeIndex] =\n                currentDirective;\n        }\n        else {\n            parent.__directive = currentDirective;\n        }\n    }\n    if (currentDirective !== undefined) {\n        value = resolveDirective(part, currentDirective._$resolve(part, value.values), currentDirective, attributeIndex);\n    }\n    return value;\n}\n/**\n * An updateable instance of a Template. Holds references to the Parts used to\n * update the template instance.\n */\nclass TemplateInstance {\n    constructor(template, parent) {\n        this._$parts = [];\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$template = template;\n        this._$parent = parent;\n    }\n    // Called by ChildPart parentNode getter\n    get parentNode() {\n        return this._$parent.parentNode;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    // This method is separate from the constructor because we need to return a\n    // DocumentFragment and we don't want to hold onto it with an instance field.\n    _clone(options) {\n        var _a;\n        const { el: { content }, parts: parts, } = this._$template;\n        const fragment = ((_a = options === null || options === void 0 ? void 0 : options.creationScope) !== null && _a !== void 0 ? _a : d).importNode(content, true);\n        walker.currentNode = fragment;\n        let node = walker.nextNode();\n        let nodeIndex = 0;\n        let partIndex = 0;\n        let templatePart = parts[0];\n        while (templatePart !== undefined) {\n            if (nodeIndex === templatePart.index) {\n                let part;\n                if (templatePart.type === CHILD_PART) {\n                    part = new ChildPart(node, node.nextSibling, this, options);\n                }\n                else if (templatePart.type === ATTRIBUTE_PART) {\n                    part = new templatePart.ctor(node, templatePart.name, templatePart.strings, this, options);\n                }\n                else if (templatePart.type === ELEMENT_PART) {\n                    part = new ElementPart(node, this, options);\n                }\n                this._$parts.push(part);\n                templatePart = parts[++partIndex];\n            }\n            if (nodeIndex !== (templatePart === null || templatePart === void 0 ? void 0 : templatePart.index)) {\n                node = walker.nextNode();\n                nodeIndex++;\n            }\n        }\n        // We need to set the currentNode away from the cloned tree so that we\n        // don't hold onto the tree even if the tree is detached and should be\n        // freed.\n        walker.currentNode = d;\n        return fragment;\n    }\n    _update(values) {\n        let i = 0;\n        for (const part of this._$parts) {\n            if (part !== undefined) {\n                debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                    kind: 'set part',\n                    part,\n                    value: values[i],\n                    valueIndex: i,\n                    values,\n                    templateInstance: this,\n                });\n                if (part.strings !== undefined) {\n                    part._$setValue(values, part, i);\n                    // The number of values the part consumes is part.strings.length - 1\n                    // since values are in between template spans. We increment i by 1\n                    // later in the loop, so increment it by part.strings.length - 2 here\n                    i += part.strings.length - 2;\n                }\n                else {\n                    part._$setValue(values[i]);\n                }\n            }\n            i++;\n        }\n    }\n}\nclass ChildPart {\n    constructor(startNode, endNode, parent, options) {\n        var _a;\n        this.type = CHILD_PART;\n        this._$committedValue = nothing;\n        // The following fields will be patched onto ChildParts when required by\n        // AsyncDirective\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$startNode = startNode;\n        this._$endNode = endNode;\n        this._$parent = parent;\n        this.options = options;\n        // Note __isConnected is only ever accessed on RootParts (i.e. when there is\n        // no _$parent); the value on a non-root-part is \"don't care\", but checking\n        // for parent would be more code\n        this.__isConnected = (_a = options === null || options === void 0 ? void 0 : options.isConnected) !== null && _a !== void 0 ? _a : true;\n        {\n            // Explicitly initialize for consistent class shape.\n            this._textSanitizer = undefined;\n        }\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        var _a, _b;\n        // ChildParts that are not at the root should always be created with a\n        // parent; only RootChildNode's won't, so they return the local isConnected\n        // state\n        return (_b = (_a = this._$parent) === null || _a === void 0 ? void 0 : _a._$isConnected) !== null && _b !== void 0 ? _b : this.__isConnected;\n    }\n    /**\n     * The parent node into which the part renders its content.\n     *\n     * A ChildPart's content consists of a range of adjacent child nodes of\n     * `.parentNode`, possibly bordered by 'marker nodes' (`.startNode` and\n     * `.endNode`).\n     *\n     * - If both `.startNode` and `.endNode` are non-null, then the part's content\n     * consists of all siblings between `.startNode` and `.endNode`, exclusively.\n     *\n     * - If `.startNode` is non-null but `.endNode` is null, then the part's\n     * content consists of all siblings following `.startNode`, up to and\n     * including the last child of `.parentNode`. If `.endNode` is non-null, then\n     * `.startNode` will always be non-null.\n     *\n     * - If both `.endNode` and `.startNode` are null, then the part's content\n     * consists of all child nodes of `.parentNode`.\n     */\n    get parentNode() {\n        let parentNode = wrap(this._$startNode).parentNode;\n        const parent = this._$parent;\n        if (parent !== undefined &&\n            (parentNode === null || parentNode === void 0 ? void 0 : parentNode.nodeType) === 11 /* Node.DOCUMENT_FRAGMENT */) {\n            // If the parentNode is a DocumentFragment, it may be because the DOM is\n            // still in the cloned fragment during initial render; if so, get the real\n            // parentNode the part will be committed into by asking the parent.\n            parentNode = parent.parentNode;\n        }\n        return parentNode;\n    }\n    /**\n     * The part's leading marker node, if any. See `.parentNode` for more\n     * information.\n     */\n    get startNode() {\n        return this._$startNode;\n    }\n    /**\n     * The part's trailing marker node, if any. See `.parentNode` for more\n     * information.\n     */\n    get endNode() {\n        return this._$endNode;\n    }\n    _$setValue(value, directiveParent = this) {\n        var _a;\n        if (this.parentNode === null) {\n            throw new Error(`This \\`ChildPart\\` has no \\`parentNode\\` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's \\`innerHTML\\` or \\`textContent\\` can do this.`);\n        }\n        value = resolveDirective(this, value, directiveParent);\n        if (isPrimitive(value)) {\n            // Non-rendering child values. It's important that these do not render\n            // empty text nodes to avoid issues with preventing default <slot>\n            // fallback content.\n            if (value === nothing || value == null || value === '') {\n                if (this._$committedValue !== nothing) {\n                    debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                        kind: 'commit nothing to child',\n                        start: this._$startNode,\n                        end: this._$endNode,\n                        parent: this._$parent,\n                        options: this.options,\n                    });\n                    this._$clear();\n                }\n                this._$committedValue = nothing;\n            }\n            else if (value !== this._$committedValue && value !== noChange) {\n                this._commitText(value);\n            }\n            // This property needs to remain unminified.\n        }\n        else if (value['_$litType$'] !== undefined) {\n            this._commitTemplateResult(value);\n        }\n        else if (value.nodeType !== undefined) {\n            if (((_a = this.options) === null || _a === void 0 ? void 0 : _a.host) === value) {\n                this._commitText(`[probable mistake: rendered a template's host in itself ` +\n                    `(commonly caused by writing \\${this} in a template]`);\n                console.warn(`Attempted to render the template host`, value, `inside itself. This is almost always a mistake, and in dev mode `, `we render some warning text. In production however, we'll `, `render it, which will usually result in an error, and sometimes `, `in the element disappearing from the DOM.`);\n                return;\n            }\n            this._commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this._commitIterable(value);\n        }\n        else {\n            // Fallback, will render the string representation\n            this._commitText(value);\n        }\n    }\n    _insert(node) {\n        return wrap(wrap(this._$startNode).parentNode).insertBefore(node, this._$endNode);\n    }\n    _commitNode(value) {\n        var _a;\n        if (this._$committedValue !== value) {\n            this._$clear();\n            if (sanitizerFactoryInternal !== noopSanitizer) {\n                const parentNodeName = (_a = this._$startNode.parentNode) === null || _a === void 0 ? void 0 : _a.nodeName;\n                if (parentNodeName === 'STYLE' || parentNodeName === 'SCRIPT') {\n                    let message = 'Forbidden';\n                    {\n                        if (parentNodeName === 'STYLE') {\n                            message =\n                                `Lit does not support binding inside style nodes. ` +\n                                    `This is a security risk, as style injection attacks can ` +\n                                    `exfiltrate data and spoof UIs. ` +\n                                    `Consider instead using css\\`...\\` literals ` +\n                                    `to compose styles, and make do dynamic styling with ` +\n                                    `css custom properties, ::parts, <slot>s, ` +\n                                    `and by mutating the DOM rather than stylesheets.`;\n                        }\n                        else {\n                            message =\n                                `Lit does not support binding inside script nodes. ` +\n                                    `This is a security risk, as it could allow arbitrary ` +\n                                    `code execution.`;\n                        }\n                    }\n                    throw new Error(message);\n                }\n            }\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'commit node',\n                start: this._$startNode,\n                parent: this._$parent,\n                value: value,\n                options: this.options,\n            });\n            this._$committedValue = this._insert(value);\n        }\n    }\n    _commitText(value) {\n        // If the committed value is a primitive it means we called _commitText on\n        // the previous render, and we know that this._$startNode.nextSibling is a\n        // Text node. We can now just replace the text content (.data) of the node.\n        if (this._$committedValue !== nothing &&\n            isPrimitive(this._$committedValue)) {\n            const node = wrap(this._$startNode).nextSibling;\n            {\n                if (this._textSanitizer === undefined) {\n                    this._textSanitizer = createSanitizer(node, 'data', 'property');\n                }\n                value = this._textSanitizer(value);\n            }\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'commit text',\n                node,\n                value,\n                options: this.options,\n            });\n            node.data = value;\n        }\n        else {\n            {\n                const textNode = d.createTextNode('');\n                this._commitNode(textNode);\n                // When setting text content, for security purposes it matters a lot\n                // what the parent is. For example, <style> and <script> need to be\n                // handled with care, while <span> does not. So first we need to put a\n                // text node into the document, then we can sanitize its content.\n                if (this._textSanitizer === undefined) {\n                    this._textSanitizer = createSanitizer(textNode, 'data', 'property');\n                }\n                value = this._textSanitizer(value);\n                debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                    kind: 'commit text',\n                    node: textNode,\n                    value,\n                    options: this.options,\n                });\n                textNode.data = value;\n            }\n        }\n        this._$committedValue = value;\n    }\n    _commitTemplateResult(result) {\n        var _a;\n        // This property needs to remain unminified.\n        const { values, ['_$litType$']: type } = result;\n        // If $litType$ is a number, result is a plain TemplateResult and we get\n        // the template from the template cache. If not, result is a\n        // CompiledTemplateResult and _$litType$ is a CompiledTemplate and we need\n        // to create the <template> element the first time we see it.\n        const template = typeof type === 'number'\n            ? this._$getTemplate(result)\n            : (type.el === undefined &&\n                (type.el = Template.createElement(trustFromTemplateString(type.h, type.h[0]), this.options)),\n                type);\n        if (((_a = this._$committedValue) === null || _a === void 0 ? void 0 : _a._$template) === template) {\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'template updating',\n                template,\n                instance: this._$committedValue,\n                parts: this._$committedValue._$parts,\n                options: this.options,\n                values,\n            });\n            this._$committedValue._update(values);\n        }\n        else {\n            const instance = new TemplateInstance(template, this);\n            const fragment = instance._clone(this.options);\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'template instantiated',\n                template,\n                instance,\n                parts: instance._$parts,\n                options: this.options,\n                fragment,\n                values,\n            });\n            instance._update(values);\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'template instantiated and updated',\n                template,\n                instance,\n                parts: instance._$parts,\n                options: this.options,\n                fragment,\n                values,\n            });\n            this._commitNode(fragment);\n            this._$committedValue = instance;\n        }\n    }\n    // Overridden via `litHtmlPolyfillSupport` to provide platform support.\n    /** @internal */\n    _$getTemplate(result) {\n        let template = templateCache.get(result.strings);\n        if (template === undefined) {\n            templateCache.set(result.strings, (template = new Template(result)));\n        }\n        return template;\n    }\n    _commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If value is an array, then the previous render was of an\n        // iterable and value will contain the ChildParts from the previous\n        // render. If value is not an array, clear this part and make a new\n        // array for ChildParts.\n        if (!isArray(this._$committedValue)) {\n            this._$committedValue = [];\n            this._$clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this._$committedValue;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            if (partIndex === itemParts.length) {\n                // If no existing part, create a new one\n                // TODO (justinfagnani): test perf impact of always creating two parts\n                // instead of sharing parts between nodes\n                // https://github.com/lit/lit/issues/1266\n                itemParts.push((itemPart = new ChildPart(this._insert(createMarker()), this._insert(createMarker()), this, this.options)));\n            }\n            else {\n                // Reuse an existing part\n                itemPart = itemParts[partIndex];\n            }\n            itemPart._$setValue(item);\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // itemParts always have end nodes\n            this._$clear(itemPart && wrap(itemPart._$endNode).nextSibling, partIndex);\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n        }\n    }\n    /**\n     * Removes the nodes contained within this Part from the DOM.\n     *\n     * @param start Start node to clear from, for clearing a subset of the part's\n     *     DOM (used when truncating iterables)\n     * @param from  When `start` is specified, the index within the iterable from\n     *     which ChildParts are being removed, used for disconnecting directives in\n     *     those Parts.\n     *\n     * @internal\n     */\n    _$clear(start = wrap(this._$startNode).nextSibling, from) {\n        var _a;\n        (_a = this._$notifyConnectionChanged) === null || _a === void 0 ? void 0 : _a.call(this, false, true, from);\n        while (start && start !== this._$endNode) {\n            const n = wrap(start).nextSibling;\n            wrap(start).remove();\n            start = n;\n        }\n    }\n    /**\n     * Implementation of RootPart's `isConnected`. Note that this metod\n     * should only be called on `RootPart`s (the `ChildPart` returned from a\n     * top-level `render()` call). It has no effect on non-root ChildParts.\n     * @param isConnected Whether to set\n     * @internal\n     */\n    setConnected(isConnected) {\n        var _a;\n        if (this._$parent === undefined) {\n            this.__isConnected = isConnected;\n            (_a = this._$notifyConnectionChanged) === null || _a === void 0 ? void 0 : _a.call(this, isConnected);\n        }\n        else {\n            throw new Error('part.setConnected() may only be called on a ' +\n                'RootPart returned from render().');\n        }\n    }\n}\nclass AttributePart {\n    constructor(element, name, strings, parent, options) {\n        this.type = ATTRIBUTE_PART;\n        /** @internal */\n        this._$committedValue = nothing;\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this.element = element;\n        this.name = name;\n        this._$parent = parent;\n        this.options = options;\n        if (strings.length > 2 || strings[0] !== '' || strings[1] !== '') {\n            this._$committedValue = new Array(strings.length - 1).fill(new String());\n            this.strings = strings;\n        }\n        else {\n            this._$committedValue = nothing;\n        }\n        {\n            this._sanitizer = undefined;\n        }\n    }\n    get tagName() {\n        return this.element.tagName;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    /**\n     * Sets the value of this part by resolving the value from possibly multiple\n     * values and static strings and committing it to the DOM.\n     * If this part is single-valued, `this._strings` will be undefined, and the\n     * method will be called with a single value argument. If this part is\n     * multi-value, `this._strings` will be defined, and the method is called\n     * with the value array of the part's owning TemplateInstance, and an offset\n     * into the value array from which the values should be read.\n     * This method is overloaded this way to eliminate short-lived array slices\n     * of the template instance values, and allow a fast-path for single-valued\n     * parts.\n     *\n     * @param value The part value, or an array of values for multi-valued parts\n     * @param valueIndex the index to start reading values from. `undefined` for\n     *   single-valued parts\n     * @param noCommit causes the part to not commit its value to the DOM. Used\n     *   in hydration to prime attribute parts with their first-rendered value,\n     *   but not set the attribute, and in SSR to no-op the DOM operation and\n     *   capture the value for serialization.\n     *\n     * @internal\n     */\n    _$setValue(value, directiveParent = this, valueIndex, noCommit) {\n        const strings = this.strings;\n        // Whether any of the values has changed, for dirty-checking\n        let change = false;\n        if (strings === undefined) {\n            // Single-value binding case\n            value = resolveDirective(this, value, directiveParent, 0);\n            change =\n                !isPrimitive(value) ||\n                    (value !== this._$committedValue && value !== noChange);\n            if (change) {\n                this._$committedValue = value;\n            }\n        }\n        else {\n            // Interpolation case\n            const values = value;\n            value = strings[0];\n            let i, v;\n            for (i = 0; i < strings.length - 1; i++) {\n                v = resolveDirective(this, values[valueIndex + i], directiveParent, i);\n                if (v === noChange) {\n                    // If the user-provided value is `noChange`, use the previous value\n                    v = this._$committedValue[i];\n                }\n                change || (change = !isPrimitive(v) || v !== this._$committedValue[i]);\n                if (v === nothing) {\n                    value = nothing;\n                }\n                else if (value !== nothing) {\n                    value += (v !== null && v !== void 0 ? v : '') + strings[i + 1];\n                }\n                // We always record each value, even if one is `nothing`, for future\n                // change detection.\n                this._$committedValue[i] = v;\n            }\n        }\n        if (change && !noCommit) {\n            this._commitValue(value);\n        }\n    }\n    /** @internal */\n    _commitValue(value) {\n        if (value === nothing) {\n            wrap(this.element).removeAttribute(this.name);\n        }\n        else {\n            {\n                if (this._sanitizer === undefined) {\n                    this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'attribute');\n                }\n                value = this._sanitizer(value !== null && value !== void 0 ? value : '');\n            }\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'commit attribute',\n                element: this.element,\n                name: this.name,\n                value,\n                options: this.options,\n            });\n            wrap(this.element).setAttribute(this.name, (value !== null && value !== void 0 ? value : ''));\n        }\n    }\n}\nclass PropertyPart extends AttributePart {\n    constructor() {\n        super(...arguments);\n        this.type = PROPERTY_PART;\n    }\n    /** @internal */\n    _commitValue(value) {\n        {\n            if (this._sanitizer === undefined) {\n                this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'property');\n            }\n            value = this._sanitizer(value);\n        }\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n            kind: 'commit property',\n            element: this.element,\n            name: this.name,\n            value,\n            options: this.options,\n        });\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.element[this.name] = value === nothing ? undefined : value;\n    }\n}\n// Temporary workaround for https://crbug.com/993268\n// Currently, any attribute starting with \"on\" is considered to be a\n// TrustedScript source. Such boolean attributes must be set to the equivalent\n// trusted emptyScript value.\nconst emptyStringForBooleanAttribute = trustedTypes\n    ? trustedTypes.emptyScript\n    : '';\nclass BooleanAttributePart extends AttributePart {\n    constructor() {\n        super(...arguments);\n        this.type = BOOLEAN_ATTRIBUTE_PART;\n    }\n    /** @internal */\n    _commitValue(value) {\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n            kind: 'commit boolean attribute',\n            element: this.element,\n            name: this.name,\n            value: !!(value && value !== nothing),\n            options: this.options,\n        });\n        if (value && value !== nothing) {\n            wrap(this.element).setAttribute(this.name, emptyStringForBooleanAttribute);\n        }\n        else {\n            wrap(this.element).removeAttribute(this.name);\n        }\n    }\n}\nclass EventPart extends AttributePart {\n    constructor(element, name, strings, parent, options) {\n        super(element, name, strings, parent, options);\n        this.type = EVENT_PART;\n        if (this.strings !== undefined) {\n            throw new Error(`A \\`<${element.localName}>\\` has a \\`@${name}=...\\` listener with ` +\n                'invalid content. Event listeners in templates must have exactly ' +\n                'one expression and no surrounding text.');\n        }\n    }\n    // EventPart does not use the base _$setValue/_resolveValue implementation\n    // since the dirty checking is more complex\n    /** @internal */\n    _$setValue(newListener, directiveParent = this) {\n        var _a;\n        newListener =\n            (_a = resolveDirective(this, newListener, directiveParent, 0)) !== null && _a !== void 0 ? _a : nothing;\n        if (newListener === noChange) {\n            return;\n        }\n        const oldListener = this._$committedValue;\n        // If the new value is nothing or any options change we have to remove the\n        // part as a listener.\n        const shouldRemoveListener = (newListener === nothing && oldListener !== nothing) ||\n            newListener.capture !==\n                oldListener.capture ||\n            newListener.once !==\n                oldListener.once ||\n            newListener.passive !==\n                oldListener.passive;\n        // If the new value is not nothing and we removed the listener, we have\n        // to add the part as a listener.\n        const shouldAddListener = newListener !== nothing &&\n            (oldListener === nothing || shouldRemoveListener);\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n            kind: 'commit event listener',\n            element: this.element,\n            name: this.name,\n            value: newListener,\n            options: this.options,\n            removeListener: shouldRemoveListener,\n            addListener: shouldAddListener,\n            oldListener,\n        });\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.name, this, oldListener);\n        }\n        if (shouldAddListener) {\n            // Beware: IE11 and Chrome 41 don't like using the listener as the\n            // options object. Figure out how to deal w/ this in IE11 - maybe\n            // patch addEventListener?\n            this.element.addEventListener(this.name, this, newListener);\n        }\n        this._$committedValue = newListener;\n    }\n    handleEvent(event) {\n        var _a, _b;\n        if (typeof this._$committedValue === 'function') {\n            this._$committedValue.call((_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.host) !== null && _b !== void 0 ? _b : this.element, event);\n        }\n        else {\n            this._$committedValue.handleEvent(event);\n        }\n    }\n}\nclass ElementPart {\n    constructor(element, parent, options) {\n        this.element = element;\n        this.type = ELEMENT_PART;\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$parent = parent;\n        this.options = options;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    _$setValue(value) {\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n            kind: 'commit to element binding',\n            element: this.element,\n            value,\n            options: this.options,\n        });\n        resolveDirective(this, value);\n    }\n}\n/**\n * END USERS SHOULD NOT RELY ON THIS OBJECT.\n *\n * Private exports for use by other Lit packages, not intended for use by\n * external users.\n *\n * We currently do not make a mangled rollup build of the lit-ssr code. In order\n * to keep a number of (otherwise private) top-level exports  mangled in the\n * client side code, we export a _$LH object containing those members (or\n * helper methods for accessing private fields of those members), and then\n * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the\n * client-side code is being used in `dev` mode or `prod` mode.\n *\n * This has a unique name, to disambiguate it from private exports in\n * lit-element, which re-exports all of lit-html.\n *\n * @private\n */\nconst _$LH = {\n    // Used in lit-ssr\n    _boundAttributeSuffix: boundAttributeSuffix,\n    _marker: marker,\n    _markerMatch: markerMatch,\n    _HTML_RESULT: HTML_RESULT,\n    _getTemplateHtml: getTemplateHtml,\n    // Used in tests and private-ssr-support\n    _TemplateInstance: TemplateInstance,\n    _isIterable: isIterable,\n    _resolveDirective: resolveDirective,\n    _ChildPart: ChildPart,\n    _AttributePart: AttributePart,\n    _BooleanAttributePart: BooleanAttributePart,\n    _EventPart: EventPart,\n    _PropertyPart: PropertyPart,\n    _ElementPart: ElementPart,\n};\n// Apply polyfills if available\nconst polyfillSupport = global.litHtmlPolyfillSupportDevMode\n    ;\npolyfillSupport === null || polyfillSupport === void 0 ? void 0 : polyfillSupport(Template, ChildPart);\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n((_d = global.litHtmlVersions) !== null && _d !== void 0 ? _d : (global.litHtmlVersions = [])).push('2.8.0');\nif (global.litHtmlVersions.length > 1) {\n    issueWarning('multiple-versions', `Multiple versions of Lit loaded. ` +\n        `Loading multiple versions is not recommended.`);\n}\n/**\n * Renders a value, usually a lit-html TemplateResult, to the container.\n *\n * This example renders the text \"Hello, Zoe!\" inside a paragraph tag, appending\n * it to the container `document.body`.\n *\n * ```js\n * import {html, render} from 'lit';\n *\n * const name = \"Zoe\";\n * render(html`<p>Hello, ${name}!</p>`, document.body);\n * ```\n *\n * @param value Any [renderable\n *   value](https://lit.dev/docs/templates/expressions/#child-expressions),\n *   typically a {@linkcode TemplateResult} created by evaluating a template tag\n *   like {@linkcode html} or {@linkcode svg}.\n * @param container A DOM container to render to. The first render will append\n *   the rendered value to the container, and subsequent renders will\n *   efficiently update the rendered value if the same result type was\n *   previously rendered there.\n * @param options See {@linkcode RenderOptions} for options documentation.\n * @see\n * {@link https://lit.dev/docs/libraries/standalone-templates/#rendering-lit-html-templates| Rendering Lit HTML Templates}\n */\nconst render = (value, container, options) => {\n    var _a, _b;\n    if (container == null) {\n        // Give a clearer error message than\n        //     Uncaught TypeError: Cannot read properties of null (reading\n        //     '_$litPart$')\n        // which reads like an internal Lit error.\n        throw new TypeError(`The container to render into may not be ${container}`);\n    }\n    const renderId = debugLogRenderId++ ;\n    const partOwnerNode = (_a = options === null || options === void 0 ? void 0 : options.renderBefore) !== null && _a !== void 0 ? _a : container;\n    // This property needs to remain unminified.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let part = partOwnerNode['_$litPart$'];\n    debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n        kind: 'begin render',\n        id: renderId,\n        value,\n        container,\n        options,\n        part,\n    });\n    if (part === undefined) {\n        const endNode = (_b = options === null || options === void 0 ? void 0 : options.renderBefore) !== null && _b !== void 0 ? _b : null;\n        // This property needs to remain unminified.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        partOwnerNode['_$litPart$'] = part = new ChildPart(container.insertBefore(createMarker(), endNode), endNode, undefined, options !== null && options !== void 0 ? options : {});\n    }\n    part._$setValue(value);\n    debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n        kind: 'end render',\n        id: renderId,\n        value,\n        container,\n        options,\n        part,\n    });\n    return part;\n};\n{\n    render.setSanitizer = setSanitizer;\n    render.createSanitizer = createSanitizer;\n    {\n        render._testOnlyClearSanitizerFactoryDoNotCallOrElse =\n            _testOnlyClearSanitizerFactoryDoNotCallOrElse;\n    }\n}\n\n\n//# sourceMappingURL=lit-html.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvbGl0LWh0bWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxNQUFNO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsK0JBQStCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFlBQVk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFdBQVcsTUFBTSxVQUFVLEtBQUssV0FBVyxJQUFJLFdBQVcsTUFBTSxnQkFBZ0I7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsTUFBTTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdCQUFnQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxpQkFBaUI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsZ0JBQWdCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrQkFBK0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsSUFBSTtBQUNoRiwrRUFBK0UsS0FBSztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZUFBZTtBQUN2RDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsc0NBQXNDO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0NBQW9DO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxzQ0FBc0M7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNLFNBQVMsa0JBQWtCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELE1BQU07QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLCtCQUErQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxrQkFBa0IsZUFBZSxLQUFLO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0EsMkJBQTJCLEtBQUs7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMEJBQTBCO0FBQzVDLFdBQVcsZ0JBQWdCLElBQUksY0FBYztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5QkFBeUI7QUFDaEQ7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxVQUFVO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUxBQXFMO0FBQ3JMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFc0Q7QUFDdEQiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvbGl0LWh0bWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG52YXIgX2EsIF9kO1xuLy8gVXNlIHdpbmRvdyBmb3IgYnJvd3NlciBidWlsZHMgYmVjYXVzZSBJRTExIGRvZXNuJ3QgaGF2ZSBnbG9iYWxUaGlzLlxuY29uc3QgZ2xvYmFsID0gZ2xvYmFsVGhpcyA7XG4vKipcbiAqIFVzZWZ1bCBmb3IgdmlzdWFsaXppbmcgYW5kIGxvZ2dpbmcgaW5zaWdodHMgaW50byB3aGF0IHRoZSBMaXQgdGVtcGxhdGUgc3lzdGVtIGlzIGRvaW5nLlxuICpcbiAqIENvbXBpbGVkIG91dCBvZiBwcm9kIG1vZGUgYnVpbGRzLlxuICovXG5jb25zdCBkZWJ1Z0xvZ0V2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHNob3VsZEVtaXQgPSBnbG9iYWxcbiAgICAgICAgICAgIC5lbWl0TGl0RGVidWdMb2dFdmVudHM7XG4gICAgICAgIGlmICghc2hvdWxkRW1pdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbGl0LWRlYnVnJywge1xuICAgICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICA7XG4vLyBVc2VkIGZvciBjb25uZWN0aW5nIGJlZ2luUmVuZGVyIGFuZCBlbmRSZW5kZXIgZXZlbnRzIHdoZW4gdGhlcmUgYXJlIG5lc3RlZFxuLy8gcmVuZGVycyB3aGVuIGVycm9ycyBhcmUgdGhyb3duIHByZXZlbnRpbmcgYW4gZW5kUmVuZGVyIGV2ZW50IGZyb20gYmVpbmdcbi8vIGNhbGxlZC5cbmxldCBkZWJ1Z0xvZ1JlbmRlcklkID0gMDtcbmxldCBpc3N1ZVdhcm5pbmc7XG57XG4gICAgKF9hID0gZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzID0gbmV3IFNldCgpKTtcbiAgICAvLyBJc3N1ZSBhIHdhcm5pbmcsIGlmIHdlIGhhdmVuJ3QgYWxyZWFkeS5cbiAgICBpc3N1ZVdhcm5pbmcgPSAoY29kZSwgd2FybmluZykgPT4ge1xuICAgICAgICB3YXJuaW5nICs9IGNvZGVcbiAgICAgICAgICAgID8gYCBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy8ke2NvZGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLmBcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGlmICghZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzLmhhcyh3YXJuaW5nKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgICAgICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaXNzdWVXYXJuaW5nKCdkZXYtbW9kZScsIGBMaXQgaXMgaW4gZGV2IG1vZGUuIE5vdCByZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbiFgKTtcbn1cbmNvbnN0IHdyYXAgPSAobm9kZSkgPT4gbm9kZTtcbmNvbnN0IHRydXN0ZWRUeXBlcyA9IGdsb2JhbC50cnVzdGVkVHlwZXM7XG4vKipcbiAqIE91ciBUcnVzdGVkVHlwZVBvbGljeSBmb3IgSFRNTCB3aGljaCBpcyBkZWNsYXJlZCB1c2luZyB0aGUgaHRtbCB0ZW1wbGF0ZVxuICogdGFnIGZ1bmN0aW9uLlxuICpcbiAqIFRoYXQgSFRNTCBpcyBhIGRldmVsb3Blci1hdXRob3JlZCBjb25zdGFudCwgYW5kIGlzIHBhcnNlZCB3aXRoIGlubmVySFRNTFxuICogYmVmb3JlIGFueSB1bnRydXN0ZWQgZXhwcmVzc2lvbnMgaGF2ZSBiZWVuIG1peGVkIGluLiBUaGVyZWZvciBpdCBpc1xuICogY29uc2lkZXJlZCBzYWZlIGJ5IGNvbnN0cnVjdGlvbi5cbiAqL1xuY29uc3QgcG9saWN5ID0gdHJ1c3RlZFR5cGVzXG4gICAgPyB0cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KCdsaXQtaHRtbCcsIHtcbiAgICAgICAgY3JlYXRlSFRNTDogKHMpID0+IHMsXG4gICAgfSlcbiAgICA6IHVuZGVmaW5lZDtcbmNvbnN0IGlkZW50aXR5RnVuY3Rpb24gPSAodmFsdWUpID0+IHZhbHVlO1xuY29uc3Qgbm9vcFNhbml0aXplciA9IChfbm9kZSwgX25hbWUsIF90eXBlKSA9PiBpZGVudGl0eUZ1bmN0aW9uO1xuLyoqIFNldHMgdGhlIGdsb2JhbCBzYW5pdGl6ZXIgZmFjdG9yeS4gKi9cbmNvbnN0IHNldFNhbml0aXplciA9IChuZXdTYW5pdGl6ZXIpID0+IHtcbiAgICBpZiAoc2FuaXRpemVyRmFjdG9yeUludGVybmFsICE9PSBub29wU2FuaXRpemVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIG92ZXJ3cml0ZSBleGlzdGluZyBsaXQtaHRtbCBzZWN1cml0eSBwb2xpY3kuYCArXG4gICAgICAgICAgICBgIHNldFNhbml0aXplRE9NVmFsdWVGYWN0b3J5IHNob3VsZCBiZSBjYWxsZWQgYXQgbW9zdCBvbmNlLmApO1xuICAgIH1cbiAgICBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwgPSBuZXdTYW5pdGl6ZXI7XG59O1xuLyoqXG4gKiBPbmx5IHVzZWQgaW4gaW50ZXJuYWwgdGVzdHMsIG5vdCBhIHBhcnQgb2YgdGhlIHB1YmxpYyBBUEkuXG4gKi9cbmNvbnN0IF90ZXN0T25seUNsZWFyU2FuaXRpemVyRmFjdG9yeURvTm90Q2FsbE9yRWxzZSA9ICgpID0+IHtcbiAgICBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwgPSBub29wU2FuaXRpemVyO1xufTtcbmNvbnN0IGNyZWF0ZVNhbml0aXplciA9IChub2RlLCBuYW1lLCB0eXBlKSA9PiB7XG4gICAgcmV0dXJuIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbChub2RlLCBuYW1lLCB0eXBlKTtcbn07XG4vLyBBZGRlZCB0byBhbiBhdHRyaWJ1dGUgbmFtZSB0byBtYXJrIHRoZSBhdHRyaWJ1dGUgYXMgYm91bmQgc28gd2UgY2FuIGZpbmRcbi8vIGl0IGVhc2lseS5cbmNvbnN0IGJvdW5kQXR0cmlidXRlU3VmZml4ID0gJyRsaXQkJztcbi8vIFRoaXMgbWFya2VyIGlzIHVzZWQgaW4gbWFueSBzeW50YWN0aWMgcG9zaXRpb25zIGluIEhUTUwsIHNvIGl0IG11c3QgYmVcbi8vIGEgdmFsaWQgZWxlbWVudCBuYW1lIGFuZCBhdHRyaWJ1dGUgbmFtZS4gV2UgZG9uJ3Qgc3VwcG9ydCBkeW5hbWljIG5hbWVzICh5ZXQpXG4vLyBidXQgdGhpcyBhdCBsZWFzdCBlbnN1cmVzIHRoYXQgdGhlIHBhcnNlIHRyZWUgaXMgY2xvc2VyIHRvIHRoZSB0ZW1wbGF0ZVxuLy8gaW50ZW50aW9uLlxuY29uc3QgbWFya2VyID0gYGxpdCQke1N0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSg5KX0kYDtcbi8vIFN0cmluZyB1c2VkIHRvIHRlbGwgaWYgYSBjb21tZW50IGlzIGEgbWFya2VyIGNvbW1lbnRcbmNvbnN0IG1hcmtlck1hdGNoID0gJz8nICsgbWFya2VyO1xuLy8gVGV4dCB1c2VkIHRvIGluc2VydCBhIGNvbW1lbnQgbWFya2VyIG5vZGUuIFdlIHVzZSBwcm9jZXNzaW5nIGluc3RydWN0aW9uXG4vLyBzeW50YXggYmVjYXVzZSBpdCdzIHNsaWdodGx5IHNtYWxsZXIsIGJ1dCBwYXJzZXMgYXMgYSBjb21tZW50IG5vZGUuXG5jb25zdCBub2RlTWFya2VyID0gYDwke21hcmtlck1hdGNofT5gO1xuY29uc3QgZCA9IGdsb2JhbC5kb2N1bWVudCA9PT0gdW5kZWZpbmVkXG4gICAgPyB7XG4gICAgICAgIGNyZWF0ZVRyZWVXYWxrZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgfVxuICAgIDogZG9jdW1lbnQ7XG4vLyBDcmVhdGVzIGEgZHluYW1pYyBtYXJrZXIuIFdlIG5ldmVyIGhhdmUgdG8gc2VhcmNoIGZvciB0aGVzZSBpbiB0aGUgRE9NLlxuY29uc3QgY3JlYXRlTWFya2VyID0gKCkgPT4gZC5jcmVhdGVDb21tZW50KCcnKTtcbmNvbnN0IGlzUHJpbWl0aXZlID0gKHZhbHVlKSA9PiB2YWx1ZSA9PT0gbnVsbCB8fCAodHlwZW9mIHZhbHVlICE9ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZSAhPSAnZnVuY3Rpb24nKTtcbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuY29uc3QgaXNJdGVyYWJsZSA9ICh2YWx1ZSkgPT4gaXNBcnJheSh2YWx1ZSkgfHxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHR5cGVvZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbHVlW1N5bWJvbC5pdGVyYXRvcl0pID09PSAnZnVuY3Rpb24nO1xuY29uc3QgU1BBQ0VfQ0hBUiA9IGBbIFxcdFxcblxcZlxccl1gO1xuY29uc3QgQVRUUl9WQUxVRV9DSEFSID0gYFteIFxcdFxcblxcZlxcclwiJ1xcYDw+PV1gO1xuY29uc3QgTkFNRV9DSEFSID0gYFteXFxcXHNcIic+PS9dYDtcbi8vIFRoZXNlIHJlZ2V4ZXMgcmVwcmVzZW50IHRoZSBmaXZlIHBhcnNpbmcgc3RhdGVzIHRoYXQgd2UgY2FyZSBhYm91dCBpbiB0aGVcbi8vIFRlbXBsYXRlJ3MgSFRNTCBzY2FubmVyLiBUaGV5IG1hdGNoIHRoZSAqZW5kKiBvZiB0aGUgc3RhdGUgdGhleSdyZSBuYW1lZFxuLy8gYWZ0ZXIuXG4vLyBEZXBlbmRpbmcgb24gdGhlIG1hdGNoLCB3ZSB0cmFuc2l0aW9uIHRvIGEgbmV3IHN0YXRlLiBJZiB0aGVyZSdzIG5vIG1hdGNoLFxuLy8gd2Ugc3RheSBpbiB0aGUgc2FtZSBzdGF0ZS5cbi8vIE5vdGUgdGhhdCB0aGUgcmVnZXhlcyBhcmUgc3RhdGVmdWwuIFdlIHV0aWxpemUgbGFzdEluZGV4IGFuZCBzeW5jIGl0XG4vLyBhY3Jvc3MgdGhlIG11bHRpcGxlIHJlZ2V4ZXMgdXNlZC4gSW4gYWRkaXRpb24gdG8gdGhlIGZpdmUgcmVnZXhlcyBiZWxvd1xuLy8gd2UgYWxzbyBkeW5hbWljYWxseSBjcmVhdGUgYSByZWdleCB0byBmaW5kIHRoZSBtYXRjaGluZyBlbmQgdGFncyBmb3IgcmF3XG4vLyB0ZXh0IGVsZW1lbnRzLlxuLyoqXG4gKiBFbmQgb2YgdGV4dCBpczogYDxgIGZvbGxvd2VkIGJ5OlxuICogICAoY29tbWVudCBzdGFydCkgb3IgKHRhZykgb3IgKGR5bmFtaWMgdGFnIGJpbmRpbmcpXG4gKi9cbmNvbnN0IHRleHRFbmRSZWdleCA9IC88KD86KCEtLXxcXC9bXmEtekEtWl0pfChcXC8/W2EtekEtWl1bXj5cXHNdKil8KFxcLz8kKSkvZztcbmNvbnN0IENPTU1FTlRfU1RBUlQgPSAxO1xuY29uc3QgVEFHX05BTUUgPSAyO1xuY29uc3QgRFlOQU1JQ19UQUdfTkFNRSA9IDM7XG5jb25zdCBjb21tZW50RW5kUmVnZXggPSAvLS0+L2c7XG4vKipcbiAqIENvbW1lbnRzIG5vdCBzdGFydGVkIHdpdGggPCEtLSwgbGlrZSA8L3ssIGNhbiBiZSBlbmRlZCBieSBhIHNpbmdsZSBgPmBcbiAqL1xuY29uc3QgY29tbWVudDJFbmRSZWdleCA9IC8+L2c7XG4vKipcbiAqIFRoZSB0YWdFbmQgcmVnZXggbWF0Y2hlcyB0aGUgZW5kIG9mIHRoZSBcImluc2lkZSBhbiBvcGVuaW5nXCIgdGFnIHN5bnRheFxuICogcG9zaXRpb24uIEl0IGVpdGhlciBtYXRjaGVzIGEgYD5gLCBhbiBhdHRyaWJ1dGUtbGlrZSBzZXF1ZW5jZSwgb3IgdGhlIGVuZFxuICogb2YgdGhlIHN0cmluZyBhZnRlciBhIHNwYWNlIChhdHRyaWJ1dGUtbmFtZSBwb3NpdGlvbiBlbmRpbmcpLlxuICpcbiAqIFNlZSBhdHRyaWJ1dGVzIGluIHRoZSBIVE1MIHNwZWM6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvc3ludGF4Lmh0bWwjZWxlbWVudHMtYXR0cmlidXRlc1xuICpcbiAqIFwiIFxcdFxcblxcZlxcclwiIGFyZSBIVE1MIHNwYWNlIGNoYXJhY3RlcnM6XG4gKiBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jYXNjaWktd2hpdGVzcGFjZVxuICpcbiAqIFNvIGFuIGF0dHJpYnV0ZSBpczpcbiAqICAqIFRoZSBuYW1lOiBhbnkgY2hhcmFjdGVyIGV4Y2VwdCBhIHdoaXRlc3BhY2UgY2hhcmFjdGVyLCAoXCIpLCAoJyksIFwiPlwiLFxuICogICAgXCI9XCIsIG9yIFwiL1wiLiBOb3RlOiB0aGlzIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBIVE1MIHNwZWMgd2hpY2ggYWxzbyBleGNsdWRlcyBjb250cm9sIGNoYXJhY3RlcnMuXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnkgXCI9XCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieTpcbiAqICAgICogQW55IGNoYXJhY3RlciBleGNlcHQgc3BhY2UsICgnKSwgKFwiKSwgXCI8XCIsIFwiPlwiLCBcIj1cIiwgKGApLCBvclxuICogICAgKiAoXCIpIHRoZW4gYW55IG5vbi0oXCIpLCBvclxuICogICAgKiAoJykgdGhlbiBhbnkgbm9uLSgnKVxuICovXG5jb25zdCB0YWdFbmRSZWdleCA9IG5ldyBSZWdFeHAoYD58JHtTUEFDRV9DSEFSfSg/Oigke05BTUVfQ0hBUn0rKSgke1NQQUNFX0NIQVJ9Kj0ke1NQQUNFX0NIQVJ9Kig/OiR7QVRUUl9WQUxVRV9DSEFSfXwoXCJ8Jyl8KSl8JClgLCAnZycpO1xuY29uc3QgRU5USVJFX01BVENIID0gMDtcbmNvbnN0IEFUVFJJQlVURV9OQU1FID0gMTtcbmNvbnN0IFNQQUNFU19BTkRfRVFVQUxTID0gMjtcbmNvbnN0IFFVT1RFX0NIQVIgPSAzO1xuY29uc3Qgc2luZ2xlUXVvdGVBdHRyRW5kUmVnZXggPSAvJy9nO1xuY29uc3QgZG91YmxlUXVvdGVBdHRyRW5kUmVnZXggPSAvXCIvZztcbi8qKlxuICogTWF0Y2hlcyB0aGUgcmF3IHRleHQgZWxlbWVudHMuXG4gKlxuICogQ29tbWVudHMgYXJlIG5vdCBwYXJzZWQgd2l0aGluIHJhdyB0ZXh0IGVsZW1lbnRzLCBzbyB3ZSBuZWVkIHRvIHNlYXJjaCB0aGVpclxuICogdGV4dCBjb250ZW50IGZvciBtYXJrZXIgc3RyaW5ncy5cbiAqL1xuY29uc3QgcmF3VGV4dEVsZW1lbnQgPSAvXig/OnNjcmlwdHxzdHlsZXx0ZXh0YXJlYXx0aXRsZSkkL2k7XG4vKiogVGVtcGxhdGVSZXN1bHQgdHlwZXMgKi9cbmNvbnN0IEhUTUxfUkVTVUxUID0gMTtcbmNvbnN0IFNWR19SRVNVTFQgPSAyO1xuLy8gVGVtcGxhdGVQYXJ0IHR5cGVzXG4vLyBJTVBPUlRBTlQ6IHRoZXNlIG11c3QgbWF0Y2ggdGhlIHZhbHVlcyBpbiBQYXJ0VHlwZVxuY29uc3QgQVRUUklCVVRFX1BBUlQgPSAxO1xuY29uc3QgQ0hJTERfUEFSVCA9IDI7XG5jb25zdCBQUk9QRVJUWV9QQVJUID0gMztcbmNvbnN0IEJPT0xFQU5fQVRUUklCVVRFX1BBUlQgPSA0O1xuY29uc3QgRVZFTlRfUEFSVCA9IDU7XG5jb25zdCBFTEVNRU5UX1BBUlQgPSA2O1xuY29uc3QgQ09NTUVOVF9QQVJUID0gNztcbi8qKlxuICogR2VuZXJhdGVzIGEgdGVtcGxhdGUgbGl0ZXJhbCB0YWcgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgVGVtcGxhdGVSZXN1bHQgd2l0aFxuICogdGhlIGdpdmVuIHJlc3VsdCB0eXBlLlxuICovXG5jb25zdCB0YWcgPSAodHlwZSkgPT4gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4ge1xuICAgIC8vIFdhcm4gYWdhaW5zdCB0ZW1wbGF0ZXMgb2N0YWwgZXNjYXBlIHNlcXVlbmNlc1xuICAgIC8vIFdlIGRvIHRoaXMgaGVyZSByYXRoZXIgdGhhbiBpbiByZW5kZXIgc28gdGhhdCB0aGUgd2FybmluZyBpcyBjbG9zZXIgdG8gdGhlXG4gICAgLy8gdGVtcGxhdGUgZGVmaW5pdGlvbi5cbiAgICBpZiAoc3RyaW5ncy5zb21lKChzKSA9PiBzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU29tZSB0ZW1wbGF0ZSBzdHJpbmdzIGFyZSB1bmRlZmluZWQuXFxuJyArXG4gICAgICAgICAgICAnVGhpcyBpcyBwcm9iYWJseSBjYXVzZWQgYnkgaWxsZWdhbCBvY3RhbCBlc2NhcGUgc2VxdWVuY2VzLicpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICBbJ18kbGl0VHlwZSQnXTogdHlwZSxcbiAgICAgICAgc3RyaW5ncyxcbiAgICAgICAgdmFsdWVzLFxuICAgIH07XG59O1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgaGVhZGVyID0gKHRpdGxlOiBzdHJpbmcpID0+IGh0bWxgPGgxPiR7dGl0bGV9PC9oMT5gO1xuICogYGBgXG4gKlxuICogVGhlIGBodG1sYCB0YWcgcmV0dXJucyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBET00gdG8gcmVuZGVyIGFzIGEgdmFsdWUuIEl0IGlzXG4gKiBsYXp5LCBtZWFuaW5nIG5vIHdvcmsgaXMgZG9uZSB1bnRpbCB0aGUgdGVtcGxhdGUgaXMgcmVuZGVyZWQuIFdoZW4gcmVuZGVyaW5nLFxuICogaWYgYSB0ZW1wbGF0ZSBjb21lcyBmcm9tIHRoZSBzYW1lIGV4cHJlc3Npb24gYXMgYSBwcmV2aW91c2x5IHJlbmRlcmVkIHJlc3VsdCxcbiAqIGl0J3MgZWZmaWNpZW50bHkgdXBkYXRlZCBpbnN0ZWFkIG9mIHJlcGxhY2VkLlxuICovXG5jb25zdCBodG1sID0gdGFnKEhUTUxfUkVTVUxUKTtcbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIGZyYWdtZW50IHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgcmVjdCA9IHN2Z2A8cmVjdCB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIj48L3JlY3Q+YDtcbiAqXG4gKiBjb25zdCBteUltYWdlID0gaHRtbGBcbiAqICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICogICAgICR7cmVjdH1cbiAqICAgPC9zdmc+YDtcbiAqIGBgYFxuICpcbiAqIFRoZSBgc3ZnYCAqdGFnIGZ1bmN0aW9uKiBzaG91bGQgb25seSBiZSB1c2VkIGZvciBTVkcgZnJhZ21lbnRzLCBvciBlbGVtZW50c1xuICogdGhhdCB3b3VsZCBiZSBjb250YWluZWQgKippbnNpZGUqKiBhbiBgPHN2Zz5gIEhUTUwgZWxlbWVudC4gQSBjb21tb24gZXJyb3IgaXNcbiAqIHBsYWNpbmcgYW4gYDxzdmc+YCAqZWxlbWVudCogaW4gYSB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUgYHN2Z2AgdGFnXG4gKiBmdW5jdGlvbi4gVGhlIGA8c3ZnPmAgZWxlbWVudCBpcyBhbiBIVE1MIGVsZW1lbnQgYW5kIHNob3VsZCBiZSB1c2VkIHdpdGhpbiBhXG4gKiB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUge0BsaW5rY29kZSBodG1sfSB0YWcgZnVuY3Rpb24uXG4gKlxuICogSW4gTGl0RWxlbWVudCB1c2FnZSwgaXQncyBpbnZhbGlkIHRvIHJldHVybiBhbiBTVkcgZnJhZ21lbnQgZnJvbSB0aGVcbiAqIGByZW5kZXIoKWAgbWV0aG9kLCBhcyB0aGUgU1ZHIGZyYWdtZW50IHdpbGwgYmUgY29udGFpbmVkIHdpdGhpbiB0aGUgZWxlbWVudCdzXG4gKiBzaGFkb3cgcm9vdCBhbmQgdGh1cyBjYW5ub3QgYmUgdXNlZCB3aXRoaW4gYW4gYDxzdmc+YCBIVE1MIGVsZW1lbnQuXG4gKi9cbmNvbnN0IHN2ZyA9IHRhZyhTVkdfUkVTVUxUKTtcbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmNvbnN0IG5vQ2hhbmdlID0gU3ltYm9sLmZvcignbGl0LW5vQ2hhbmdlJyk7XG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIGEgQ2hpbGRQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBidXR0b24gPSBodG1sYCR7XG4gKiAgdXNlci5pc0FkbWluXG4gKiAgICA/IGh0bWxgPGJ1dHRvbj5ERUxFVEU8L2J1dHRvbj5gXG4gKiAgICA6IG5vdGhpbmdcbiAqIH1gO1xuICogYGBgXG4gKlxuICogUHJlZmVyIHVzaW5nIGBub3RoaW5nYCBvdmVyIG90aGVyIGZhbHN5IHZhbHVlcyBhcyBpdCBwcm92aWRlcyBhIGNvbnNpc3RlbnRcbiAqIGJlaGF2aW9yIGJldHdlZW4gdmFyaW91cyBleHByZXNzaW9uIGJpbmRpbmcgY29udGV4dHMuXG4gKlxuICogSW4gY2hpbGQgZXhwcmVzc2lvbnMsIGB1bmRlZmluZWRgLCBgbnVsbGAsIGAnJ2AsIGFuZCBgbm90aGluZ2AgYWxsIGJlaGF2ZSB0aGVcbiAqIHNhbWUgYW5kIHJlbmRlciBubyBub2Rlcy4gSW4gYXR0cmlidXRlIGV4cHJlc3Npb25zLCBgbm90aGluZ2AgX3JlbW92ZXNfIHRoZVxuICogYXR0cmlidXRlLCB3aGlsZSBgdW5kZWZpbmVkYCBhbmQgYG51bGxgIHdpbGwgcmVuZGVyIGFuIGVtcHR5IHN0cmluZy4gSW5cbiAqIHByb3BlcnR5IGV4cHJlc3Npb25zIGBub3RoaW5nYCBiZWNvbWVzIGB1bmRlZmluZWRgLlxuICovXG5jb25zdCBub3RoaW5nID0gU3ltYm9sLmZvcignbGl0LW5vdGhpbmcnKTtcbi8qKlxuICogVGhlIGNhY2hlIG9mIHByZXBhcmVkIHRlbXBsYXRlcywga2V5ZWQgYnkgdGhlIHRhZ2dlZCBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICogYW5kIF9ub3RfIGFjY291bnRpbmcgZm9yIHRoZSBzcGVjaWZpYyB0ZW1wbGF0ZSB0YWcgdXNlZC4gVGhpcyBtZWFucyB0aGF0XG4gKiB0ZW1wbGF0ZSB0YWdzIGNhbm5vdCBiZSBkeW5hbWljIC0gdGhlIG11c3Qgc3RhdGljYWxseSBiZSBvbmUgb2YgaHRtbCwgc3ZnLFxuICogb3IgYXR0ci4gVGhpcyByZXN0cmljdGlvbiBzaW1wbGlmaWVzIHRoZSBjYWNoZSBsb29rdXAsIHdoaWNoIGlzIG9uIHRoZSBob3RcbiAqIHBhdGggZm9yIHJlbmRlcmluZy5cbiAqL1xuY29uc3QgdGVtcGxhdGVDYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB3YWxrZXIgPSBkLmNyZWF0ZVRyZWVXYWxrZXIoZCwgMTI5IC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfSAqLywgbnVsbCwgZmFsc2UpO1xubGV0IHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCA9IG5vb3BTYW5pdGl6ZXI7XG5mdW5jdGlvbiB0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyh0c2EsIHN0cmluZ0Zyb21UU0EpIHtcbiAgICAvLyBBIHNlY3VyaXR5IGNoZWNrIHRvIHByZXZlbnQgc3Bvb2Zpbmcgb2YgTGl0IHRlbXBsYXRlIHJlc3VsdHMuXG4gICAgLy8gSW4gdGhlIGZ1dHVyZSwgd2UgbWF5IGJlIGFibGUgdG8gcmVwbGFjZSB0aGlzIHdpdGggQXJyYXkuaXNUZW1wbGF0ZU9iamVjdCxcbiAgICAvLyB0aG91Z2ggd2UgbWlnaHQgbmVlZCB0byBtYWtlIHRoYXQgY2hlY2sgaW5zaWRlIG9mIHRoZSBodG1sIGFuZCBzdmdcbiAgICAvLyBmdW5jdGlvbnMsIGJlY2F1c2UgcHJlY29tcGlsZWQgdGVtcGxhdGVzIGRvbid0IGNvbWUgaW4gYXNcbiAgICAvLyBUZW1wbGF0ZVN0cmluZ0FycmF5IG9iamVjdHMuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRzYSkgfHwgIXRzYS5oYXNPd25Qcm9wZXJ0eSgncmF3JykpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSAnaW52YWxpZCB0ZW1wbGF0ZSBzdHJpbmdzIGFycmF5JztcbiAgICAgICAge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGBcbiAgICAgICAgICBJbnRlcm5hbCBFcnJvcjogZXhwZWN0ZWQgdGVtcGxhdGUgc3RyaW5ncyB0byBiZSBhbiBhcnJheVxuICAgICAgICAgIHdpdGggYSAncmF3JyBmaWVsZC4gRmFraW5nIGEgdGVtcGxhdGUgc3RyaW5ncyBhcnJheSBieVxuICAgICAgICAgIGNhbGxpbmcgaHRtbCBvciBzdmcgbGlrZSBhbiBvcmRpbmFyeSBmdW5jdGlvbiBpcyBlZmZlY3RpdmVseVxuICAgICAgICAgIHRoZSBzYW1lIGFzIGNhbGxpbmcgdW5zYWZlSHRtbCBhbmQgY2FuIGxlYWQgdG8gbWFqb3Igc2VjdXJpdHlcbiAgICAgICAgICBpc3N1ZXMsIGUuZy4gb3BlbmluZyB5b3VyIGNvZGUgdXAgdG8gWFNTIGF0dGFja3MuXG4gICAgICAgICAgSWYgeW91J3JlIHVzaW5nIHRoZSBodG1sIG9yIHN2ZyB0YWdnZWQgdGVtcGxhdGUgZnVuY3Rpb25zIG5vcm1hbGx5XG4gICAgICAgICAgYW5kIHN0aWxsIHNlZWluZyB0aGlzIGVycm9yLCBwbGVhc2UgZmlsZSBhIGJ1ZyBhdFxuICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L2lzc3Vlcy9uZXc/dGVtcGxhdGU9YnVnX3JlcG9ydC5tZFxuICAgICAgICAgIGFuZCBpbmNsdWRlIGluZm9ybWF0aW9uIGFib3V0IHlvdXIgYnVpbGQgdG9vbGluZywgaWYgYW55LlxuICAgICAgICBgXG4gICAgICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4gKi9nLCAnXFxuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gcG9saWN5ICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBwb2xpY3kuY3JlYXRlSFRNTChzdHJpbmdGcm9tVFNBKVxuICAgICAgICA6IHN0cmluZ0Zyb21UU0E7XG59XG4vKipcbiAqIFJldHVybnMgYW4gSFRNTCBzdHJpbmcgZm9yIHRoZSBnaXZlbiBUZW1wbGF0ZVN0cmluZ3NBcnJheSBhbmQgcmVzdWx0IHR5cGVcbiAqIChIVE1MIG9yIFNWRyksIGFsb25nIHdpdGggdGhlIGNhc2Utc2Vuc2l0aXZlIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcyBpblxuICogdGVtcGxhdGUgb3JkZXIuIFRoZSBIVE1MIGNvbnRhaW5zIGNvbW1lbnQgbWFya2VycyBkZW5vdGluZyB0aGUgYENoaWxkUGFydGBzXG4gKiBhbmQgc3VmZml4ZXMgb24gYm91bmQgYXR0cmlidXRlcyBkZW5vdGluZyB0aGUgYEF0dHJpYnV0ZVBhcnRzYC5cbiAqXG4gKiBAcGFyYW0gc3RyaW5ncyB0ZW1wbGF0ZSBzdHJpbmdzIGFycmF5XG4gKiBAcGFyYW0gdHlwZSBIVE1MIG9yIFNWR1xuICogQHJldHVybiBBcnJheSBjb250YWluaW5nIGBbaHRtbCwgYXR0ck5hbWVzXWAgKGFycmF5IHJldHVybmVkIGZvciB0ZXJzZW5lc3MsXG4gKiAgICAgdG8gYXZvaWQgb2JqZWN0IGZpZWxkcyBzaW5jZSB0aGlzIGNvZGUgaXMgc2hhcmVkIHdpdGggbm9uLW1pbmlmaWVkIFNTUlxuICogICAgIGNvZGUpXG4gKi9cbmNvbnN0IGdldFRlbXBsYXRlSHRtbCA9IChzdHJpbmdzLCB0eXBlKSA9PiB7XG4gICAgLy8gSW5zZXJ0IG1ha2VycyBpbnRvIHRoZSB0ZW1wbGF0ZSBIVE1MIHRvIHJlcHJlc2VudCB0aGUgcG9zaXRpb24gb2ZcbiAgICAvLyBiaW5kaW5ncy4gVGhlIGZvbGxvd2luZyBjb2RlIHNjYW5zIHRoZSB0ZW1wbGF0ZSBzdHJpbmdzIHRvIGRldGVybWluZSB0aGVcbiAgICAvLyBzeW50YWN0aWMgcG9zaXRpb24gb2YgdGhlIGJpbmRpbmdzLiBUaGV5IGNhbiBiZSBpbiB0ZXh0IHBvc2l0aW9uLCB3aGVyZVxuICAgIC8vIHdlIGluc2VydCBhbiBIVE1MIGNvbW1lbnQsIGF0dHJpYnV0ZSB2YWx1ZSBwb3NpdGlvbiwgd2hlcmUgd2UgaW5zZXJ0IGFcbiAgICAvLyBzZW50aW5lbCBzdHJpbmcgYW5kIHJlLXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZSwgb3IgaW5zaWRlIGEgdGFnIHdoZXJlXG4gICAgLy8gd2UgaW5zZXJ0IHRoZSBzZW50aW5lbCBzdHJpbmcuXG4gICAgY29uc3QgbCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAvLyBTdG9yZXMgdGhlIGNhc2Utc2Vuc2l0aXZlIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcyBpbiB0aGUgb3JkZXIgb2YgdGhlaXJcbiAgICAvLyBwYXJ0cy4gRWxlbWVudFBhcnRzIGFyZSBhbHNvIHJlZmxlY3RlZCBpbiB0aGlzIGFycmF5IGFzIHVuZGVmaW5lZFxuICAgIC8vIHJhdGhlciB0aGFuIGEgc3RyaW5nLCB0byBkaXNhbWJpZ3VhdGUgZnJvbSBhdHRyaWJ1dGUgYmluZGluZ3MuXG4gICAgY29uc3QgYXR0ck5hbWVzID0gW107XG4gICAgbGV0IGh0bWwgPSB0eXBlID09PSBTVkdfUkVTVUxUID8gJzxzdmc+JyA6ICcnO1xuICAgIC8vIFdoZW4gd2UncmUgaW5zaWRlIGEgcmF3IHRleHQgdGFnIChub3QgaXQncyB0ZXh0IGNvbnRlbnQpLCB0aGUgcmVnZXhcbiAgICAvLyB3aWxsIHN0aWxsIGJlIHRhZ1JlZ2V4IHNvIHdlIGNhbiBmaW5kIGF0dHJpYnV0ZXMsIGJ1dCB3aWxsIHN3aXRjaCB0b1xuICAgIC8vIHRoaXMgcmVnZXggd2hlbiB0aGUgdGFnIGVuZHMuXG4gICAgbGV0IHJhd1RleHRFbmRSZWdleDtcbiAgICAvLyBUaGUgY3VycmVudCBwYXJzaW5nIHN0YXRlLCByZXByZXNlbnRlZCBhcyBhIHJlZmVyZW5jZSB0byBvbmUgb2YgdGhlXG4gICAgLy8gcmVnZXhlc1xuICAgIGxldCByZWdleCA9IHRleHRFbmRSZWdleDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCBzID0gc3RyaW5nc1tpXTtcbiAgICAgICAgLy8gVGhlIGluZGV4IG9mIHRoZSBlbmQgb2YgdGhlIGxhc3QgYXR0cmlidXRlIG5hbWUuIFdoZW4gdGhpcyBpc1xuICAgICAgICAvLyBwb3NpdGl2ZSBhdCBlbmQgb2YgYSBzdHJpbmcsIGl0IG1lYW5zIHdlJ3JlIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgICAvLyBwb3NpdGlvbiBhbmQgbmVlZCB0byByZXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZS5cbiAgICAgICAgLy8gV2UgYWxzbyB1c2UgYSBzcGVjaWFsIHZhbHVlIG9mIC0yIHRvIGluZGljYXRlIHRoYXQgd2UgZW5jb3VudGVyZWRcbiAgICAgICAgLy8gdGhlIGVuZCBvZiBhIHN0cmluZyBpbiBhdHRyaWJ1dGUgbmFtZSBwb3NpdGlvbi5cbiAgICAgICAgbGV0IGF0dHJOYW1lRW5kSW5kZXggPSAtMTtcbiAgICAgICAgbGV0IGF0dHJOYW1lO1xuICAgICAgICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICAvLyBUaGUgY29uZGl0aW9ucyBpbiB0aGlzIGxvb3AgaGFuZGxlIHRoZSBjdXJyZW50IHBhcnNlIHN0YXRlLCBhbmQgdGhlXG4gICAgICAgIC8vIGFzc2lnbm1lbnRzIHRvIHRoZSBgcmVnZXhgIHZhcmlhYmxlIGFyZSB0aGUgc3RhdGUgdHJhbnNpdGlvbnMuXG4gICAgICAgIHdoaWxlIChsYXN0SW5kZXggPCBzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHN0YXJ0IHNlYXJjaGluZyBmcm9tIHdoZXJlIHdlIHByZXZpb3VzbHkgbGVmdCBvZmZcbiAgICAgICAgICAgIHJlZ2V4Lmxhc3RJbmRleCA9IGxhc3RJbmRleDtcbiAgICAgICAgICAgIG1hdGNoID0gcmVnZXguZXhlYyhzKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdEluZGV4ID0gcmVnZXgubGFzdEluZGV4O1xuICAgICAgICAgICAgaWYgKHJlZ2V4ID09PSB0ZXh0RW5kUmVnZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gPT09ICchLS0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gY29tbWVudEVuZFJlZ2V4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFtDT01NRU5UX1NUQVJUXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHN0YXJ0ZWQgYSB3ZWlyZCBjb21tZW50LCBsaWtlIDwve1xuICAgICAgICAgICAgICAgICAgICByZWdleCA9IGNvbW1lbnQyRW5kUmVnZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoW1RBR19OQU1FXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXdUZXh0RWxlbWVudC50ZXN0KG1hdGNoW1RBR19OQU1FXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlY29yZCBpZiB3ZSBlbmNvdW50ZXIgYSByYXctdGV4dCBlbGVtZW50LiBXZSdsbCBzd2l0Y2ggdG9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgcmVnZXggYXQgdGhlIGVuZCBvZiB0aGUgdGFnLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3VGV4dEVuZFJlZ2V4ID0gbmV3IFJlZ0V4cChgPC8ke21hdGNoW1RBR19OQU1FXX1gLCAnZycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gdGFnRW5kUmVnZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoW0RZTkFNSUNfVEFHX05BTUVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCaW5kaW5ncyBpbiB0YWcgbmFtZXMgYXJlIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSB1c2Ugc3RhdGljIHRlbXBsYXRlcyBpbnN0ZWFkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHBzOi8vbGl0LmRldi9kb2NzL3RlbXBsYXRlcy9leHByZXNzaW9ucy8jc3RhdGljLWV4cHJlc3Npb25zJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZWdleCA9PT0gdGFnRW5kUmVnZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbRU5USVJFX01BVENIXSA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBvZiBhIHRhZy4gSWYgd2UgaGFkIHN0YXJ0ZWQgYSByYXctdGV4dCBlbGVtZW50LCB1c2UgdGhhdFxuICAgICAgICAgICAgICAgICAgICAvLyByZWdleFxuICAgICAgICAgICAgICAgICAgICByZWdleCA9IHJhd1RleHRFbmRSZWdleCAhPT0gbnVsbCAmJiByYXdUZXh0RW5kUmVnZXggIT09IHZvaWQgMCA/IHJhd1RleHRFbmRSZWdleCA6IHRleHRFbmRSZWdleDtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbWF5IGJlIGVuZGluZyBhbiB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUsIHNvIG1ha2Ugc3VyZSB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBjbGVhciBhbnkgcGVuZGluZyBhdHRyTmFtZUVuZEluZGV4XG4gICAgICAgICAgICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hbQVRUUklCVVRFX05BTUVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0cmlidXRlIG5hbWUgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgYXR0ck5hbWVFbmRJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0ck5hbWVFbmRJbmRleCA9IHJlZ2V4Lmxhc3RJbmRleCAtIG1hdGNoW1NQQUNFU19BTkRfRVFVQUxTXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJOYW1lID0gbWF0Y2hbQVRUUklCVVRFX05BTUVdO1xuICAgICAgICAgICAgICAgICAgICByZWdleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFtRVU9URV9DSEFSXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0YWdFbmRSZWdleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbWF0Y2hbUVVPVEVfQ0hBUl0gPT09ICdcIidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkb3VibGVRdW90ZUF0dHJFbmRSZWdleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlZ2V4ID09PSBkb3VibGVRdW90ZUF0dHJFbmRSZWdleCB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCkge1xuICAgICAgICAgICAgICAgIHJlZ2V4ID0gdGFnRW5kUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZWdleCA9PT0gY29tbWVudEVuZFJlZ2V4IHx8IHJlZ2V4ID09PSBjb21tZW50MkVuZFJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgcmVnZXggPSB0ZXh0RW5kUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBOb3Qgb25lIG9mIHRoZSBmaXZlIHN0YXRlIHJlZ2V4ZXMsIHNvIGl0IG11c3QgYmUgdGhlIGR5bmFtaWNhbGx5XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlZCByYXcgdGV4dCByZWdleCBhbmQgd2UncmUgYXQgdGhlIGNsb3NlIG9mIHRoYXQgZWxlbWVudC5cbiAgICAgICAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICAgICAgICAgIHJhd1RleHRFbmRSZWdleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgYXR0ck5hbWVFbmRJbmRleCwgd2hpY2ggaW5kaWNhdGVzIHRoYXQgd2Ugc2hvdWxkXG4gICAgICAgICAgICAvLyByZXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZSwgYXNzZXJ0IHRoYXQgd2UncmUgaW4gYSB2YWxpZCBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uIC0gZWl0aGVyIGluIGEgdGFnLCBvciBhIHF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydChhdHRyTmFtZUVuZEluZGV4ID09PSAtMSB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSB0YWdFbmRSZWdleCB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSBkb3VibGVRdW90ZUF0dHJFbmRSZWdleCwgJ3VuZXhwZWN0ZWQgcGFyc2Ugc3RhdGUgQicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGhhdmUgZm91ciBjYXNlczpcbiAgICAgICAgLy8gIDEuIFdlJ3JlIGluIHRleHQgcG9zaXRpb24sIGFuZCBub3QgaW4gYSByYXcgdGV4dCBlbGVtZW50XG4gICAgICAgIC8vICAgICAocmVnZXggPT09IHRleHRFbmRSZWdleCk6IGluc2VydCBhIGNvbW1lbnQgbWFya2VyLlxuICAgICAgICAvLyAgMi4gV2UgaGF2ZSBhIG5vbi1uZWdhdGl2ZSBhdHRyTmFtZUVuZEluZGV4IHdoaWNoIG1lYW5zIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gICAgIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lIHRvIGFkZCBhIGJvdW5kIGF0dHJpYnV0ZSBzdWZmaXguXG4gICAgICAgIC8vICAzLiBXZSdyZSBhdCB0aGUgbm9uLWZpcnN0IGJpbmRpbmcgaW4gYSBtdWx0aS1iaW5kaW5nIGF0dHJpYnV0ZSwgdXNlIGFcbiAgICAgICAgLy8gICAgIHBsYWluIG1hcmtlci5cbiAgICAgICAgLy8gIDQuIFdlJ3JlIHNvbWV3aGVyZSBlbHNlIGluc2lkZSB0aGUgdGFnLiBJZiB3ZSdyZSBpbiBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAvLyAgICAgcG9zaXRpb24gKGF0dHJOYW1lRW5kSW5kZXggPT09IC0yKSwgYWRkIGEgc2VxdWVudGlhbCBzdWZmaXggdG9cbiAgICAgICAgLy8gICAgIGdlbmVyYXRlIGEgdW5pcXVlIGF0dHJpYnV0ZSBuYW1lLlxuICAgICAgICAvLyBEZXRlY3QgYSBiaW5kaW5nIG5leHQgdG8gc2VsZi1jbG9zaW5nIHRhZyBlbmQgYW5kIGluc2VydCBhIHNwYWNlIHRvXG4gICAgICAgIC8vIHNlcGFyYXRlIHRoZSBtYXJrZXIgZnJvbSB0aGUgdGFnIGVuZDpcbiAgICAgICAgY29uc3QgZW5kID0gcmVnZXggPT09IHRhZ0VuZFJlZ2V4ICYmIHN0cmluZ3NbaSArIDFdLnN0YXJ0c1dpdGgoJy8+JykgPyAnICcgOiAnJztcbiAgICAgICAgaHRtbCArPVxuICAgICAgICAgICAgcmVnZXggPT09IHRleHRFbmRSZWdleFxuICAgICAgICAgICAgICAgID8gcyArIG5vZGVNYXJrZXJcbiAgICAgICAgICAgICAgICA6IGF0dHJOYW1lRW5kSW5kZXggPj0gMFxuICAgICAgICAgICAgICAgICAgICA/IChhdHRyTmFtZXMucHVzaChhdHRyTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBzLnNsaWNlKDAsIGF0dHJOYW1lRW5kSW5kZXgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zbGljZShhdHRyTmFtZUVuZEluZGV4KSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFxuICAgICAgICAgICAgICAgICAgICA6IHMgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChhdHRyTmFtZUVuZEluZGV4ID09PSAtMiA/IChhdHRyTmFtZXMucHVzaCh1bmRlZmluZWQpLCBpKSA6IGVuZCk7XG4gICAgfVxuICAgIGNvbnN0IGh0bWxSZXN1bHQgPSBodG1sICsgKHN0cmluZ3NbbF0gfHwgJzw/PicpICsgKHR5cGUgPT09IFNWR19SRVNVTFQgPyAnPC9zdmc+JyA6ICcnKTtcbiAgICAvLyBSZXR1cm5lZCBhcyBhbiBhcnJheSBmb3IgdGVyc2VuZXNzXG4gICAgcmV0dXJuIFt0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyhzdHJpbmdzLCBodG1sUmVzdWx0KSwgYXR0ck5hbWVzXTtcbn07XG5jbGFzcyBUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICB7IHN0cmluZ3MsIFsnXyRsaXRUeXBlJCddOiB0eXBlIH0sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wYXJ0cyA9IFtdO1xuICAgICAgICBsZXQgbm9kZTtcbiAgICAgICAgbGV0IG5vZGVJbmRleCA9IDA7XG4gICAgICAgIGxldCBhdHRyTmFtZUluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgcGFydENvdW50ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMucGFydHM7XG4gICAgICAgIC8vIENyZWF0ZSB0ZW1wbGF0ZSBlbGVtZW50XG4gICAgICAgIGNvbnN0IFtodG1sLCBhdHRyTmFtZXNdID0gZ2V0VGVtcGxhdGVIdG1sKHN0cmluZ3MsIHR5cGUpO1xuICAgICAgICB0aGlzLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudChodG1sLCBvcHRpb25zKTtcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gdGhpcy5lbC5jb250ZW50O1xuICAgICAgICAvLyBSZXBhcmVudCBTVkcgbm9kZXMgaW50byB0ZW1wbGF0ZSByb290XG4gICAgICAgIGlmICh0eXBlID09PSBTVkdfUkVTVUxUKSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5lbC5jb250ZW50O1xuICAgICAgICAgICAgY29uc3Qgc3ZnRWxlbWVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHN2Z0VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZCguLi5zdmdFbGVtZW50LmNoaWxkTm9kZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdhbGsgdGhlIHRlbXBsYXRlIHRvIGZpbmQgYmluZGluZyBtYXJrZXJzIGFuZCBjcmVhdGUgVGVtcGxhdGVQYXJ0c1xuICAgICAgICB3aGlsZSAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkgIT09IG51bGwgJiYgcGFydHMubGVuZ3RoIDwgcGFydENvdW50KSB7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFnID0gbm9kZS5sb2NhbE5hbWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdhcm4gaWYgYHRleHRhcmVhYCBpbmNsdWRlcyBhbiBleHByZXNzaW9uIGFuZCB0aHJvdyBpZiBgdGVtcGxhdGVgXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvZXMgc2luY2UgdGhlc2UgYXJlIG5vdCBzdXBwb3J0ZWQuIFdlIGRvIHRoaXMgYnkgY2hlY2tpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5uZXJIVE1MIGZvciBhbnl0aGluZyB0aGF0IGxvb2tzIGxpa2UgYSBtYXJrZXIuIFRoaXMgY2F0Y2hlc1xuICAgICAgICAgICAgICAgICAgICAvLyBjYXNlcyBsaWtlIGJpbmRpbmdzIGluIHRleHRhcmVhIHRoZXJlIG1hcmtlcnMgdHVybiBpbnRvIHRleHQgbm9kZXMuXG4gICAgICAgICAgICAgICAgICAgIGlmICgvXig/OnRleHRhcmVhfHRlbXBsYXRlKSQvaS50ZXN0KHRhZykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaW5uZXJIVE1MLmluY2x1ZGVzKG1hcmtlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG0gPSBgRXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgaW5zaWRlIFxcYCR7dGFnfVxcYCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgZWxlbWVudHMuIFNlZSBodHRwczovL2xpdC5kZXYvbXNnL2V4cHJlc3Npb24taW4tJHt0YWd9IGZvciBtb3JlIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBpbmZvcm1hdGlvbi5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJycsIG0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBmb3IgYXR0ZW1wdGVkIGR5bmFtaWMgdGFnIG5hbWVzLCB3ZSBkb24ndFxuICAgICAgICAgICAgICAgIC8vIGluY3JlbWVudCB0aGUgYmluZGluZ0luZGV4LCBhbmQgaXQnbGwgYmUgb2ZmIGJ5IDEgaW4gdGhlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyBhbmQgb2ZmIGJ5IHR3byBhZnRlciBpdC5cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZGVmZXIgcmVtb3ZpbmcgYm91bmQgYXR0cmlidXRlcyBiZWNhdXNlIG9uIElFIHdlIG1pZ2h0IG5vdCBiZVxuICAgICAgICAgICAgICAgICAgICAvLyBpdGVyYXRpbmcgYXR0cmlidXRlcyBpbiB0aGVpciB0ZW1wbGF0ZSBvcmRlciwgYW5kIHdvdWxkIHNvbWV0aW1lc1xuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYW4gYXR0cmlidXRlIHRoYXQgd2Ugc3RpbGwgbmVlZCB0byBjcmVhdGUgYSBwYXJ0IGZvci5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cnNUb1JlbW92ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2Ygbm9kZS5nZXRBdHRyaWJ1dGVOYW1lcygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBgbmFtZWAgaXMgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB3ZSdyZSBpdGVyYXRpbmcgb3ZlciwgYnV0IG5vdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gX25lY2Vzc2FyaWx5XyB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHdlIHdpbGwgY3JlYXRlIGEgcGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yLiBUaGV5IGNhbiBiZSBkaWZmZXJlbnQgaW4gYnJvd3NlcnMgdGhhdCBkb24ndCBpdGVyYXRlIG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGluIHNvdXJjZSBvcmRlci4gSW4gdGhhdCBjYXNlIHRoZSBhdHRyTmFtZXMgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnRhaW5zIHRoZSBhdHRyaWJ1dGUgbmFtZSB3ZSdsbCBwcm9jZXNzIG5leHQuIFdlIG9ubHkgbmVlZCB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBuYW1lIGhlcmUgdG8ga25vdyBpZiB3ZSBzaG91bGQgcHJvY2VzcyBhIGJvdW5kIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhpcyBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUuZW5kc1dpdGgoYm91bmRBdHRyaWJ1dGVTdWZmaXgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZS5zdGFydHNXaXRoKG1hcmtlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWFsTmFtZSA9IGF0dHJOYW1lc1thdHRyTmFtZUluZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzVG9SZW1vdmUucHVzaChuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVhbE5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMb3dlcmNhc2UgZm9yIGNhc2Utc2Vuc2l0aXZlIFNWRyBhdHRyaWJ1dGVzIGxpa2Ugdmlld0JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKHJlYWxOYW1lLnRvTG93ZXJDYXNlKCkgKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRpY3MgPSB2YWx1ZS5zcGxpdChtYXJrZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtID0gLyhbLj9AXSk/KC4qKS8uZXhlYyhyZWFsTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQVRUUklCVVRFX1BBUlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbVsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ3M6IHN0YXRpY3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdG9yOiBtWzFdID09PSAnLidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFByb3BlcnR5UGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbVsxXSA9PT0gJz8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gQm9vbGVhbkF0dHJpYnV0ZVBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnQCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gRXZlbnRQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IEF0dHJpYnV0ZVBhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBFTEVNRU5UX1BBUlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIGF0dHJzVG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBiZW5jaG1hcmsgdGhlIHJlZ2V4IGFnYWluc3QgdGVzdGluZyBmb3IgZWFjaFxuICAgICAgICAgICAgICAgIC8vIG9mIHRoZSAzIHJhdyB0ZXh0IGVsZW1lbnQgbmFtZXMuXG4gICAgICAgICAgICAgICAgaWYgKHJhd1RleHRFbGVtZW50LnRlc3Qobm9kZS50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgcmF3IHRleHQgZWxlbWVudHMgd2UgbmVlZCB0byBzcGxpdCB0aGUgdGV4dCBjb250ZW50IG9uXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hcmtlcnMsIGNyZWF0ZSBhIFRleHQgbm9kZSBmb3IgZWFjaCBzZWdtZW50LCBhbmQgY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgVGVtcGxhdGVQYXJ0IGZvciBlYWNoIG1hcmtlci5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IG5vZGUudGV4dENvbnRlbnQuc3BsaXQobWFya2VyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRydXN0ZWRUeXBlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1c3RlZFR5cGVzLmVtcHR5U2NyaXB0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IHRleHQgbm9kZSBmb3IgZWFjaCBsaXRlcmFsIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIG5vZGVzIGFyZSBhbHNvIHVzZWQgYXMgdGhlIG1hcmtlcnMgZm9yIG5vZGUgcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHVzZSBlbXB0eSB0ZXh0IG5vZGVzIGFzIG1hcmtlcnMgYmVjYXVzZSB0aGV5J3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3JtYWxpemVkIHdoZW4gY2xvbmluZyBpbiBJRSAoY291bGQgc2ltcGxpZnkgd2hlblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZChzdHJpbmdzW2ldLCBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2FsayBwYXN0IHRoZSBtYXJrZXIgbm9kZSB3ZSBqdXN0IGFkZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh7IHR5cGU6IENISUxEX1BBUlQsIGluZGV4OiArK25vZGVJbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGUgYmVjYXVzZSB0aGlzIG1hcmtlciBpcyBhZGRlZCBhZnRlciB0aGUgd2Fsa2VyJ3MgY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9kZSwgaXQgd2lsbCBiZSB3YWxrZWQgdG8gaW4gdGhlIG91dGVyIGxvb3AgKGFuZCBpZ25vcmVkKSwgc29cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gYWRqdXN0IG5vZGVJbmRleCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZChzdHJpbmdzW2xhc3RJbmRleF0sIGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gbm9kZS5kYXRhO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBtYXJrZXJNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHsgdHlwZTogQ0hJTERfUEFSVCwgaW5kZXg6IG5vZGVJbmRleCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoaSA9IG5vZGUuZGF0YS5pbmRleE9mKG1hcmtlciwgaSArIDEpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbW1lbnQgbm9kZSBoYXMgYSBiaW5kaW5nIG1hcmtlciBpbnNpZGUsIG1ha2UgYW4gaW5hY3RpdmUgcGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJpbmRpbmcgd29uJ3Qgd29yaywgYnV0IHN1YnNlcXVlbnQgYmluZGluZ3Mgd2lsbFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh7IHR5cGU6IENPTU1FTlRfUEFSVCwgaW5kZXg6IG5vZGVJbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgdG8gdGhlIGVuZCBvZiB0aGUgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gbWFya2VyLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBjb3VsZCBzZXQgd2Fsa2VyLmN1cnJlbnROb2RlIHRvIGFub3RoZXIgbm9kZSBoZXJlIHRvIHByZXZlbnQgYSBtZW1vcnlcbiAgICAgICAgLy8gbGVhaywgYnV0IGV2ZXJ5IHRpbWUgd2UgcHJlcGFyZSBhIHRlbXBsYXRlLCB3ZSBpbW1lZGlhdGVseSByZW5kZXIgaXRcbiAgICAgICAgLy8gYW5kIHJlLXVzZSB0aGUgd2Fsa2VyIGluIG5ldyBUZW1wbGF0ZUluc3RhbmNlLl9jbG9uZSgpLlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ID09PSBudWxsIHx8IGRlYnVnTG9nRXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAga2luZDogJ3RlbXBsYXRlIHByZXAnLFxuICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMsXG4gICAgICAgICAgICBjbG9uYWJsZVRlbXBsYXRlOiB0aGlzLmVsLFxuICAgICAgICAgICAgcGFydHM6IHRoaXMucGFydHMsXG4gICAgICAgICAgICBzdHJpbmdzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gT3ZlcnJpZGRlbiB2aWEgYGxpdEh0bWxQb2x5ZmlsbFN1cHBvcnRgIHRvIHByb3ZpZGUgcGxhdGZvcm0gc3VwcG9ydC5cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgY3JlYXRlRWxlbWVudChodG1sLCBfb3B0aW9ucykge1xuICAgICAgICBjb25zdCBlbCA9IGQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmUocGFydCwgdmFsdWUsIHBhcmVudCA9IHBhcnQsIGF0dHJpYnV0ZUluZGV4KSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgdmFyIF9kO1xuICAgIC8vIEJhaWwgZWFybHkgaWYgdGhlIHZhbHVlIGlzIGV4cGxpY2l0bHkgbm9DaGFuZ2UuIE5vdGUsIHRoaXMgbWVhbnMgYW55XG4gICAgLy8gbmVzdGVkIGRpcmVjdGl2ZSBpcyBzdGlsbCBhdHRhY2hlZCBhbmQgaXMgbm90IHJ1bi5cbiAgICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IGN1cnJlbnREaXJlY3RpdmUgPSBhdHRyaWJ1dGVJbmRleCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gKF9hID0gcGFyZW50Ll9fZGlyZWN0aXZlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW2F0dHJpYnV0ZUluZGV4XVxuICAgICAgICA6IHBhcmVudC5fX2RpcmVjdGl2ZTtcbiAgICBjb25zdCBuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IgPSBpc1ByaW1pdGl2ZSh2YWx1ZSlcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICAgICAgdmFsdWVbJ18kbGl0RGlyZWN0aXZlJCddO1xuICAgIGlmICgoY3VycmVudERpcmVjdGl2ZSA9PT0gbnVsbCB8fCBjdXJyZW50RGlyZWN0aXZlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50RGlyZWN0aXZlLmNvbnN0cnVjdG9yKSAhPT0gbmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgIChfYiA9IGN1cnJlbnREaXJlY3RpdmUgPT09IG51bGwgfHwgY3VycmVudERpcmVjdGl2ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudERpcmVjdGl2ZVsnXyRub3RpZnlEaXJlY3RpdmVDb25uZWN0aW9uQ2hhbmdlZCddKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChjdXJyZW50RGlyZWN0aXZlLCBmYWxzZSk7XG4gICAgICAgIGlmIChuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY3VycmVudERpcmVjdGl2ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnREaXJlY3RpdmUgPSBuZXcgbmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yKHBhcnQpO1xuICAgICAgICAgICAgY3VycmVudERpcmVjdGl2ZS5fJGluaXRpYWxpemUocGFydCwgcGFyZW50LCBhdHRyaWJ1dGVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJpYnV0ZUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICgoX2MgPSAoX2QgPSBwYXJlbnQpLl9fZGlyZWN0aXZlcykgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogKF9kLl9fZGlyZWN0aXZlcyA9IFtdKSlbYXR0cmlidXRlSW5kZXhdID1cbiAgICAgICAgICAgICAgICBjdXJyZW50RGlyZWN0aXZlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50Ll9fZGlyZWN0aXZlID0gY3VycmVudERpcmVjdGl2ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY3VycmVudERpcmVjdGl2ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlID0gcmVzb2x2ZURpcmVjdGl2ZShwYXJ0LCBjdXJyZW50RGlyZWN0aXZlLl8kcmVzb2x2ZShwYXJ0LCB2YWx1ZS52YWx1ZXMpLCBjdXJyZW50RGlyZWN0aXZlLCBhdHRyaWJ1dGVJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogQW4gdXBkYXRlYWJsZSBpbnN0YW5jZSBvZiBhIFRlbXBsYXRlLiBIb2xkcyByZWZlcmVuY2VzIHRvIHRoZSBQYXJ0cyB1c2VkIHRvXG4gKiB1cGRhdGUgdGhlIHRlbXBsYXRlIGluc3RhbmNlLlxuICovXG5jbGFzcyBUZW1wbGF0ZUluc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSwgcGFyZW50KSB7XG4gICAgICAgIHRoaXMuXyRwYXJ0cyA9IFtdO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl8kdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICB9XG4gICAgLy8gQ2FsbGVkIGJ5IENoaWxkUGFydCBwYXJlbnROb2RlIGdldHRlclxuICAgIGdldCBwYXJlbnROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gICAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl8kcGFyZW50Ll8kaXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIC8vIFRoaXMgbWV0aG9kIGlzIHNlcGFyYXRlIGZyb20gdGhlIGNvbnN0cnVjdG9yIGJlY2F1c2Ugd2UgbmVlZCB0byByZXR1cm4gYVxuICAgIC8vIERvY3VtZW50RnJhZ21lbnQgYW5kIHdlIGRvbid0IHdhbnQgdG8gaG9sZCBvbnRvIGl0IHdpdGggYW4gaW5zdGFuY2UgZmllbGQuXG4gICAgX2Nsb25lKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB7IGVsOiB7IGNvbnRlbnQgfSwgcGFydHM6IHBhcnRzLCB9ID0gdGhpcy5fJHRlbXBsYXRlO1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9ICgoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY3JlYXRpb25TY29wZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZCkuaW1wb3J0Tm9kZShjb250ZW50LCB0cnVlKTtcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZnJhZ21lbnQ7XG4gICAgICAgIGxldCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IHRlbXBsYXRlUGFydCA9IHBhcnRzWzBdO1xuICAgICAgICB3aGlsZSAodGVtcGxhdGVQYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChub2RlSW5kZXggPT09IHRlbXBsYXRlUGFydC5pbmRleCkge1xuICAgICAgICAgICAgICAgIGxldCBwYXJ0O1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZVBhcnQudHlwZSA9PT0gQ0hJTERfUEFSVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gbmV3IENoaWxkUGFydChub2RlLCBub2RlLm5leHRTaWJsaW5nLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEFUVFJJQlVURV9QQVJUKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQgPSBuZXcgdGVtcGxhdGVQYXJ0LmN0b3Iobm9kZSwgdGVtcGxhdGVQYXJ0Lm5hbWUsIHRlbXBsYXRlUGFydC5zdHJpbmdzLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEVMRU1FTlRfUEFSVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gbmV3IEVsZW1lbnRQYXJ0KG5vZGUsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl8kcGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVBhcnQgPSBwYXJ0c1srK3BhcnRJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZUluZGV4ICE9PSAodGVtcGxhdGVQYXJ0ID09PSBudWxsIHx8IHRlbXBsYXRlUGFydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGVtcGxhdGVQYXJ0LmluZGV4KSkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBuZWVkIHRvIHNldCB0aGUgY3VycmVudE5vZGUgYXdheSBmcm9tIHRoZSBjbG9uZWQgdHJlZSBzbyB0aGF0IHdlXG4gICAgICAgIC8vIGRvbid0IGhvbGQgb250byB0aGUgdHJlZSBldmVuIGlmIHRoZSB0cmVlIGlzIGRldGFjaGVkIGFuZCBzaG91bGQgYmVcbiAgICAgICAgLy8gZnJlZWQuXG4gICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IGQ7XG4gICAgICAgIHJldHVybiBmcmFnbWVudDtcbiAgICB9XG4gICAgX3VwZGF0ZSh2YWx1ZXMpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fJHBhcnRzKSB7XG4gICAgICAgICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogJ3NldCBwYXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVJbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUluc3RhbmNlOiB0aGlzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0LnN0cmluZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0Ll8kc2V0VmFsdWUodmFsdWVzLCBwYXJ0LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG51bWJlciBvZiB2YWx1ZXMgdGhlIHBhcnQgY29uc3VtZXMgaXMgcGFydC5zdHJpbmdzLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgdmFsdWVzIGFyZSBpbiBiZXR3ZWVuIHRlbXBsYXRlIHNwYW5zLiBXZSBpbmNyZW1lbnQgaSBieSAxXG4gICAgICAgICAgICAgICAgICAgIC8vIGxhdGVyIGluIHRoZSBsb29wLCBzbyBpbmNyZW1lbnQgaXQgYnkgcGFydC5zdHJpbmdzLmxlbmd0aCAtIDIgaGVyZVxuICAgICAgICAgICAgICAgICAgICBpICs9IHBhcnQuc3RyaW5ncy5sZW5ndGggLSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydC5fJHNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgQ2hpbGRQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihzdGFydE5vZGUsIGVuZE5vZGUsIHBhcmVudCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudHlwZSA9IENISUxEX1BBUlQ7XG4gICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgZmllbGRzIHdpbGwgYmUgcGF0Y2hlZCBvbnRvIENoaWxkUGFydHMgd2hlbiByZXF1aXJlZCBieVxuICAgICAgICAvLyBBc3luY0RpcmVjdGl2ZVxuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl8kc3RhcnROb2RlID0gc3RhcnROb2RlO1xuICAgICAgICB0aGlzLl8kZW5kTm9kZSA9IGVuZE5vZGU7XG4gICAgICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIC8vIE5vdGUgX19pc0Nvbm5lY3RlZCBpcyBvbmx5IGV2ZXIgYWNjZXNzZWQgb24gUm9vdFBhcnRzIChpLmUuIHdoZW4gdGhlcmUgaXNcbiAgICAgICAgLy8gbm8gXyRwYXJlbnQpOyB0aGUgdmFsdWUgb24gYSBub24tcm9vdC1wYXJ0IGlzIFwiZG9uJ3QgY2FyZVwiLCBidXQgY2hlY2tpbmdcbiAgICAgICAgLy8gZm9yIHBhcmVudCB3b3VsZCBiZSBtb3JlIGNvZGVcbiAgICAgICAgdGhpcy5fX2lzQ29ubmVjdGVkID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmlzQ29ubmVjdGVkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0cnVlO1xuICAgICAgICB7XG4gICAgICAgICAgICAvLyBFeHBsaWNpdGx5IGluaXRpYWxpemUgZm9yIGNvbnNpc3RlbnQgY2xhc3Mgc2hhcGUuXG4gICAgICAgICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgLy8gQ2hpbGRQYXJ0cyB0aGF0IGFyZSBub3QgYXQgdGhlIHJvb3Qgc2hvdWxkIGFsd2F5cyBiZSBjcmVhdGVkIHdpdGggYVxuICAgICAgICAvLyBwYXJlbnQ7IG9ubHkgUm9vdENoaWxkTm9kZSdzIHdvbid0LCBzbyB0aGV5IHJldHVybiB0aGUgbG9jYWwgaXNDb25uZWN0ZWRcbiAgICAgICAgLy8gc3RhdGVcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuXyRwYXJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5fJGlzQ29ubmVjdGVkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLl9faXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJlbnQgbm9kZSBpbnRvIHdoaWNoIHRoZSBwYXJ0IHJlbmRlcnMgaXRzIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBBIENoaWxkUGFydCdzIGNvbnRlbnQgY29uc2lzdHMgb2YgYSByYW5nZSBvZiBhZGphY2VudCBjaGlsZCBub2RlcyBvZlxuICAgICAqIGAucGFyZW50Tm9kZWAsIHBvc3NpYmx5IGJvcmRlcmVkIGJ5ICdtYXJrZXIgbm9kZXMnIChgLnN0YXJ0Tm9kZWAgYW5kXG4gICAgICogYC5lbmROb2RlYCkuXG4gICAgICpcbiAgICAgKiAtIElmIGJvdGggYC5zdGFydE5vZGVgIGFuZCBgLmVuZE5vZGVgIGFyZSBub24tbnVsbCwgdGhlbiB0aGUgcGFydCdzIGNvbnRlbnRcbiAgICAgKiBjb25zaXN0cyBvZiBhbGwgc2libGluZ3MgYmV0d2VlbiBgLnN0YXJ0Tm9kZWAgYW5kIGAuZW5kTm9kZWAsIGV4Y2x1c2l2ZWx5LlxuICAgICAqXG4gICAgICogLSBJZiBgLnN0YXJ0Tm9kZWAgaXMgbm9uLW51bGwgYnV0IGAuZW5kTm9kZWAgaXMgbnVsbCwgdGhlbiB0aGUgcGFydCdzXG4gICAgICogY29udGVudCBjb25zaXN0cyBvZiBhbGwgc2libGluZ3MgZm9sbG93aW5nIGAuc3RhcnROb2RlYCwgdXAgdG8gYW5kXG4gICAgICogaW5jbHVkaW5nIHRoZSBsYXN0IGNoaWxkIG9mIGAucGFyZW50Tm9kZWAuIElmIGAuZW5kTm9kZWAgaXMgbm9uLW51bGwsIHRoZW5cbiAgICAgKiBgLnN0YXJ0Tm9kZWAgd2lsbCBhbHdheXMgYmUgbm9uLW51bGwuXG4gICAgICpcbiAgICAgKiAtIElmIGJvdGggYC5lbmROb2RlYCBhbmQgYC5zdGFydE5vZGVgIGFyZSBudWxsLCB0aGVuIHRoZSBwYXJ0J3MgY29udGVudFxuICAgICAqIGNvbnNpc3RzIG9mIGFsbCBjaGlsZCBub2RlcyBvZiBgLnBhcmVudE5vZGVgLlxuICAgICAqL1xuICAgIGdldCBwYXJlbnROb2RlKCkge1xuICAgICAgICBsZXQgcGFyZW50Tm9kZSA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkucGFyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fJHBhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAocGFyZW50Tm9kZSA9PT0gbnVsbCB8fCBwYXJlbnROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnROb2RlLm5vZGVUeXBlKSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVCAqLykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmVudE5vZGUgaXMgYSBEb2N1bWVudEZyYWdtZW50LCBpdCBtYXkgYmUgYmVjYXVzZSB0aGUgRE9NIGlzXG4gICAgICAgICAgICAvLyBzdGlsbCBpbiB0aGUgY2xvbmVkIGZyYWdtZW50IGR1cmluZyBpbml0aWFsIHJlbmRlcjsgaWYgc28sIGdldCB0aGUgcmVhbFxuICAgICAgICAgICAgLy8gcGFyZW50Tm9kZSB0aGUgcGFydCB3aWxsIGJlIGNvbW1pdHRlZCBpbnRvIGJ5IGFza2luZyB0aGUgcGFyZW50LlxuICAgICAgICAgICAgcGFyZW50Tm9kZSA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnROb2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcGFydCdzIGxlYWRpbmcgbWFya2VyIG5vZGUsIGlmIGFueS4gU2VlIGAucGFyZW50Tm9kZWAgZm9yIG1vcmVcbiAgICAgKiBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgc3RhcnROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHN0YXJ0Tm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBhcnQncyB0cmFpbGluZyBtYXJrZXIgbm9kZSwgaWYgYW55LiBTZWUgYC5wYXJlbnROb2RlYCBmb3IgbW9yZVxuICAgICAqIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIGdldCBlbmROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJGVuZE5vZGU7XG4gICAgfVxuICAgIF8kc2V0VmFsdWUodmFsdWUsIGRpcmVjdGl2ZVBhcmVudCA9IHRoaXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoaXMgXFxgQ2hpbGRQYXJ0XFxgIGhhcyBubyBcXGBwYXJlbnROb2RlXFxgIGFuZCB0aGVyZWZvcmUgY2Fubm90IGFjY2VwdCBhIHZhbHVlLiBUaGlzIGxpa2VseSBtZWFucyB0aGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBwYXJ0IHdhcyBtYW5pcHVsYXRlZCBpbiBhbiB1bnN1cHBvcnRlZCB3YXkgb3V0c2lkZSBvZiBMaXQncyBjb250cm9sIHN1Y2ggdGhhdCB0aGUgcGFydCdzIG1hcmtlciBub2RlcyB3ZXJlIGVqZWN0ZWQgZnJvbSBET00uIEZvciBleGFtcGxlLCBzZXR0aW5nIHRoZSBlbGVtZW50J3MgXFxgaW5uZXJIVE1MXFxgIG9yIFxcYHRleHRDb250ZW50XFxgIGNhbiBkbyB0aGlzLmApO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZSwgZGlyZWN0aXZlUGFyZW50KTtcbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkge1xuICAgICAgICAgICAgLy8gTm9uLXJlbmRlcmluZyBjaGlsZCB2YWx1ZXMuIEl0J3MgaW1wb3J0YW50IHRoYXQgdGhlc2UgZG8gbm90IHJlbmRlclxuICAgICAgICAgICAgLy8gZW1wdHkgdGV4dCBub2RlcyB0byBhdm9pZCBpc3N1ZXMgd2l0aCBwcmV2ZW50aW5nIGRlZmF1bHQgPHNsb3Q+XG4gICAgICAgICAgICAvLyBmYWxsYmFjayBjb250ZW50LlxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBub3RoaW5nIHx8IHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gbm90aGluZykge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ID09PSBudWxsIHx8IGRlYnVnTG9nRXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBub3RoaW5nIHRvIGNoaWxkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLl8kc3RhcnROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiB0aGlzLl8kZW5kTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fJHBhcmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBub3RoaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgIT09IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAmJiB2YWx1ZSAhPT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21taXRUZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWVbJ18kbGl0VHlwZSQnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUubm9kZVR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ob3N0KSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21taXRUZXh0KGBbcHJvYmFibGUgbWlzdGFrZTogcmVuZGVyZWQgYSB0ZW1wbGF0ZSdzIGhvc3QgaW4gaXRzZWxmIGAgK1xuICAgICAgICAgICAgICAgICAgICBgKGNvbW1vbmx5IGNhdXNlZCBieSB3cml0aW5nIFxcJHt0aGlzfSBpbiBhIHRlbXBsYXRlXWApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQXR0ZW1wdGVkIHRvIHJlbmRlciB0aGUgdGVtcGxhdGUgaG9zdGAsIHZhbHVlLCBgaW5zaWRlIGl0c2VsZi4gVGhpcyBpcyBhbG1vc3QgYWx3YXlzIGEgbWlzdGFrZSwgYW5kIGluIGRldiBtb2RlIGAsIGB3ZSByZW5kZXIgc29tZSB3YXJuaW5nIHRleHQuIEluIHByb2R1Y3Rpb24gaG93ZXZlciwgd2UnbGwgYCwgYHJlbmRlciBpdCwgd2hpY2ggd2lsbCB1c3VhbGx5IHJlc3VsdCBpbiBhbiBlcnJvciwgYW5kIHNvbWV0aW1lcyBgLCBgaW4gdGhlIGVsZW1lbnQgZGlzYXBwZWFyaW5nIGZyb20gdGhlIERPTS5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jb21taXROb2RlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fY29tbWl0SXRlcmFibGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2ssIHdpbGwgcmVuZGVyIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pbnNlcnQobm9kZSkge1xuICAgICAgICByZXR1cm4gd3JhcCh3cmFwKHRoaXMuXyRzdGFydE5vZGUpLnBhcmVudE5vZGUpLmluc2VydEJlZm9yZShub2RlLCB0aGlzLl8kZW5kTm9kZSk7XG4gICAgfVxuICAgIF9jb21taXROb2RlKHZhbHVlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgICAgICAgICAgaWYgKHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCAhPT0gbm9vcFNhbml0aXplcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGVOYW1lID0gKF9hID0gdGhpcy5fJHN0YXJ0Tm9kZS5wYXJlbnROb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eubm9kZU5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudE5vZGVOYW1lID09PSAnU1RZTEUnIHx8IHBhcmVudE5vZGVOYW1lID09PSAnU0NSSVBUJykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9ICdGb3JiaWRkZW4nO1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50Tm9kZU5hbWUgPT09ICdTVFlMRScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYExpdCBkb2VzIG5vdCBzdXBwb3J0IGJpbmRpbmcgaW5zaWRlIHN0eWxlIG5vZGVzLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBUaGlzIGlzIGEgc2VjdXJpdHkgcmlzaywgYXMgc3R5bGUgaW5qZWN0aW9uIGF0dGFja3MgY2FuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGV4ZmlsdHJhdGUgZGF0YSBhbmQgc3Bvb2YgVUlzLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBDb25zaWRlciBpbnN0ZWFkIHVzaW5nIGNzc1xcYC4uLlxcYCBsaXRlcmFscyBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB0byBjb21wb3NlIHN0eWxlcywgYW5kIG1ha2UgZG8gZHluYW1pYyBzdHlsaW5nIHdpdGggYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCA6OnBhcnRzLCA8c2xvdD5zLCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBhbmQgYnkgbXV0YXRpbmcgdGhlIERPTSByYXRoZXIgdGhhbiBzdHlsZXNoZWV0cy5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBMaXQgZG9lcyBub3Qgc3VwcG9ydCBiaW5kaW5nIGluc2lkZSBzY3JpcHQgbm9kZXMuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFRoaXMgaXMgYSBzZWN1cml0eSByaXNrLCBhcyBpdCBjb3VsZCBhbGxvdyBhcmJpdHJhcnkgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgY29kZSBleGVjdXRpb24uYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICBraW5kOiAnY29tbWl0IG5vZGUnLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLl8kc3RhcnROb2RlLFxuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fJHBhcmVudCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB0aGlzLl9pbnNlcnQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jb21taXRUZXh0KHZhbHVlKSB7XG4gICAgICAgIC8vIElmIHRoZSBjb21taXR0ZWQgdmFsdWUgaXMgYSBwcmltaXRpdmUgaXQgbWVhbnMgd2UgY2FsbGVkIF9jb21taXRUZXh0IG9uXG4gICAgICAgIC8vIHRoZSBwcmV2aW91cyByZW5kZXIsIGFuZCB3ZSBrbm93IHRoYXQgdGhpcy5fJHN0YXJ0Tm9kZS5uZXh0U2libGluZyBpcyBhXG4gICAgICAgIC8vIFRleHQgbm9kZS4gV2UgY2FuIG5vdyBqdXN0IHJlcGxhY2UgdGhlIHRleHQgY29udGVudCAoLmRhdGEpIG9mIHRoZSBub2RlLlxuICAgICAgICBpZiAodGhpcy5fJGNvbW1pdHRlZFZhbHVlICE9PSBub3RoaW5nICYmXG4gICAgICAgICAgICBpc1ByaW1pdGl2ZSh0aGlzLl8kY29tbWl0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gd3JhcCh0aGlzLl8kc3RhcnROb2RlKS5uZXh0U2libGluZztcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGV4dFNhbml0aXplciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RleHRTYW5pdGl6ZXIgPSBjcmVhdGVTYW5pdGl6ZXIobm9kZSwgJ2RhdGEnLCAncHJvcGVydHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90ZXh0U2FuaXRpemVyKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCB0ZXh0JyxcbiAgICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dE5vZGUgPSBkLmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21taXROb2RlKHRleHROb2RlKTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHNldHRpbmcgdGV4dCBjb250ZW50LCBmb3Igc2VjdXJpdHkgcHVycG9zZXMgaXQgbWF0dGVycyBhIGxvdFxuICAgICAgICAgICAgICAgIC8vIHdoYXQgdGhlIHBhcmVudCBpcy4gRm9yIGV4YW1wbGUsIDxzdHlsZT4gYW5kIDxzY3JpcHQ+IG5lZWQgdG8gYmVcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGVkIHdpdGggY2FyZSwgd2hpbGUgPHNwYW4+IGRvZXMgbm90LiBTbyBmaXJzdCB3ZSBuZWVkIHRvIHB1dCBhXG4gICAgICAgICAgICAgICAgLy8gdGV4dCBub2RlIGludG8gdGhlIGRvY3VtZW50LCB0aGVuIHdlIGNhbiBzYW5pdGl6ZSBpdHMgY29udGVudC5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGV4dFNhbml0aXplciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RleHRTYW5pdGl6ZXIgPSBjcmVhdGVTYW5pdGl6ZXIodGV4dE5vZGUsICdkYXRhJywgJ3Byb3BlcnR5Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdGV4dFNhbml0aXplcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCB0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGV4dE5vZGUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGV4dE5vZGUuZGF0YSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBfY29tbWl0VGVtcGxhdGVSZXN1bHQocmVzdWx0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgICAgY29uc3QgeyB2YWx1ZXMsIFsnXyRsaXRUeXBlJCddOiB0eXBlIH0gPSByZXN1bHQ7XG4gICAgICAgIC8vIElmICRsaXRUeXBlJCBpcyBhIG51bWJlciwgcmVzdWx0IGlzIGEgcGxhaW4gVGVtcGxhdGVSZXN1bHQgYW5kIHdlIGdldFxuICAgICAgICAvLyB0aGUgdGVtcGxhdGUgZnJvbSB0aGUgdGVtcGxhdGUgY2FjaGUuIElmIG5vdCwgcmVzdWx0IGlzIGFcbiAgICAgICAgLy8gQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCBhbmQgXyRsaXRUeXBlJCBpcyBhIENvbXBpbGVkVGVtcGxhdGUgYW5kIHdlIG5lZWRcbiAgICAgICAgLy8gdG8gY3JlYXRlIHRoZSA8dGVtcGxhdGU+IGVsZW1lbnQgdGhlIGZpcnN0IHRpbWUgd2Ugc2VlIGl0LlxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHR5cGVvZiB0eXBlID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyB0aGlzLl8kZ2V0VGVtcGxhdGUocmVzdWx0KVxuICAgICAgICAgICAgOiAodHlwZS5lbCA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgKHR5cGUuZWwgPSBUZW1wbGF0ZS5jcmVhdGVFbGVtZW50KHRydXN0RnJvbVRlbXBsYXRlU3RyaW5nKHR5cGUuaCwgdHlwZS5oWzBdKSwgdGhpcy5vcHRpb25zKSksXG4gICAgICAgICAgICAgICAgdHlwZSk7XG4gICAgICAgIGlmICgoKF9hID0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuXyR0ZW1wbGF0ZSkgPT09IHRlbXBsYXRlKSB7XG4gICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ID09PSBudWxsIHx8IGRlYnVnTG9nRXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSB1cGRhdGluZycsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2U6IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSxcbiAgICAgICAgICAgICAgICBwYXJ0czogdGhpcy5fJGNvbW1pdHRlZFZhbHVlLl8kcGFydHMsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlLl91cGRhdGUodmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFRlbXBsYXRlSW5zdGFuY2UodGVtcGxhdGUsIHRoaXMpO1xuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBpbnN0YW5jZS5fY2xvbmUodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgcGFydHM6IGluc3RhbmNlLl8kcGFydHMsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGZyYWdtZW50LFxuICAgICAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0ZSh2YWx1ZXMpO1xuICAgICAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICBraW5kOiAndGVtcGxhdGUgaW5zdGFudGlhdGVkIGFuZCB1cGRhdGVkJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBwYXJ0czogaW5zdGFuY2UuXyRwYXJ0cyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9jb21taXROb2RlKGZyYWdtZW50KTtcbiAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE92ZXJyaWRkZW4gdmlhIGBsaXRIdG1sUG9seWZpbGxTdXBwb3J0YCB0byBwcm92aWRlIHBsYXRmb3JtIHN1cHBvcnQuXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF8kZ2V0VGVtcGxhdGUocmVzdWx0KSB7XG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuZ2V0KHJlc3VsdC5zdHJpbmdzKTtcbiAgICAgICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlQ2FjaGUuc2V0KHJlc3VsdC5zdHJpbmdzLCAodGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVzdWx0KSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG4gICAgX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKSB7XG4gICAgICAgIC8vIEZvciBhbiBJdGVyYWJsZSwgd2UgY3JlYXRlIGEgbmV3IEluc3RhbmNlUGFydCBwZXIgaXRlbSwgdGhlbiBzZXQgaXRzXG4gICAgICAgIC8vIHZhbHVlIHRvIHRoZSBpdGVtLiBUaGlzIGlzIGEgbGl0dGxlIGJpdCBvZiBvdmVyaGVhZCBmb3IgZXZlcnkgaXRlbSBpblxuICAgICAgICAvLyBhbiBJdGVyYWJsZSwgYnV0IGl0IGxldHMgdXMgcmVjdXJzZSBlYXNpbHkgYW5kIGVmZmljaWVudGx5IHVwZGF0ZSBBcnJheXNcbiAgICAgICAgLy8gb2YgVGVtcGxhdGVSZXN1bHRzIHRoYXQgd2lsbCBiZSBjb21tb25seSByZXR1cm5lZCBmcm9tIGV4cHJlc3Npb25zIGxpa2U6XG4gICAgICAgIC8vIGFycmF5Lm1hcCgoaSkgPT4gaHRtbGAke2l9YCksIGJ5IHJldXNpbmcgZXhpc3RpbmcgVGVtcGxhdGVJbnN0YW5jZXMuXG4gICAgICAgIC8vIElmIHZhbHVlIGlzIGFuIGFycmF5LCB0aGVuIHRoZSBwcmV2aW91cyByZW5kZXIgd2FzIG9mIGFuXG4gICAgICAgIC8vIGl0ZXJhYmxlIGFuZCB2YWx1ZSB3aWxsIGNvbnRhaW4gdGhlIENoaWxkUGFydHMgZnJvbSB0aGUgcHJldmlvdXNcbiAgICAgICAgLy8gcmVuZGVyLiBJZiB2YWx1ZSBpcyBub3QgYW4gYXJyYXksIGNsZWFyIHRoaXMgcGFydCBhbmQgbWFrZSBhIG5ld1xuICAgICAgICAvLyBhcnJheSBmb3IgQ2hpbGRQYXJ0cy5cbiAgICAgICAgaWYgKCFpc0FycmF5KHRoaXMuXyRjb21taXR0ZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTGV0cyB1cyBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGl0ZW1zIHdlIHN0YW1wZWQgc28gd2UgY2FuIGNsZWFyIGxlZnRvdmVyXG4gICAgICAgIC8vIGl0ZW1zIGZyb20gYSBwcmV2aW91cyByZW5kZXJcbiAgICAgICAgY29uc3QgaXRlbVBhcnRzID0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IGl0ZW1QYXJ0O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0SW5kZXggPT09IGl0ZW1QYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBubyBleGlzdGluZyBwYXJ0LCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgICAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IHRlc3QgcGVyZiBpbXBhY3Qgb2YgYWx3YXlzIGNyZWF0aW5nIHR3byBwYXJ0c1xuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2Ygc2hhcmluZyBwYXJ0cyBiZXR3ZWVuIG5vZGVzXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvaXNzdWVzLzEyNjZcbiAgICAgICAgICAgICAgICBpdGVtUGFydHMucHVzaCgoaXRlbVBhcnQgPSBuZXcgQ2hpbGRQYXJ0KHRoaXMuX2luc2VydChjcmVhdGVNYXJrZXIoKSksIHRoaXMuX2luc2VydChjcmVhdGVNYXJrZXIoKSksIHRoaXMsIHRoaXMub3B0aW9ucykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJldXNlIGFuIGV4aXN0aW5nIHBhcnRcbiAgICAgICAgICAgICAgICBpdGVtUGFydCA9IGl0ZW1QYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbVBhcnQuXyRzZXRWYWx1ZShpdGVtKTtcbiAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0SW5kZXggPCBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBpdGVtUGFydHMgYWx3YXlzIGhhdmUgZW5kIG5vZGVzXG4gICAgICAgICAgICB0aGlzLl8kY2xlYXIoaXRlbVBhcnQgJiYgd3JhcChpdGVtUGFydC5fJGVuZE5vZGUpLm5leHRTaWJsaW5nLCBwYXJ0SW5kZXgpO1xuICAgICAgICAgICAgLy8gVHJ1bmNhdGUgdGhlIHBhcnRzIGFycmF5IHNvIF92YWx1ZSByZWZsZWN0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAgICAgICAgaXRlbVBhcnRzLmxlbmd0aCA9IHBhcnRJbmRleDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBub2RlcyBjb250YWluZWQgd2l0aGluIHRoaXMgUGFydCBmcm9tIHRoZSBET00uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhcnQgU3RhcnQgbm9kZSB0byBjbGVhciBmcm9tLCBmb3IgY2xlYXJpbmcgYSBzdWJzZXQgb2YgdGhlIHBhcnQnc1xuICAgICAqICAgICBET00gKHVzZWQgd2hlbiB0cnVuY2F0aW5nIGl0ZXJhYmxlcylcbiAgICAgKiBAcGFyYW0gZnJvbSAgV2hlbiBgc3RhcnRgIGlzIHNwZWNpZmllZCwgdGhlIGluZGV4IHdpdGhpbiB0aGUgaXRlcmFibGUgZnJvbVxuICAgICAqICAgICB3aGljaCBDaGlsZFBhcnRzIGFyZSBiZWluZyByZW1vdmVkLCB1c2VkIGZvciBkaXNjb25uZWN0aW5nIGRpcmVjdGl2ZXMgaW5cbiAgICAgKiAgICAgdGhvc2UgUGFydHMuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfJGNsZWFyKHN0YXJ0ID0gd3JhcCh0aGlzLl8kc3RhcnROb2RlKS5uZXh0U2libGluZywgZnJvbSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcywgZmFsc2UsIHRydWUsIGZyb20pO1xuICAgICAgICB3aGlsZSAoc3RhcnQgJiYgc3RhcnQgIT09IHRoaXMuXyRlbmROb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gd3JhcChzdGFydCkubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB3cmFwKHN0YXJ0KS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHN0YXJ0ID0gbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRhdGlvbiBvZiBSb290UGFydCdzIGBpc0Nvbm5lY3RlZGAuIE5vdGUgdGhhdCB0aGlzIG1ldG9kXG4gICAgICogc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIGBSb290UGFydGBzICh0aGUgYENoaWxkUGFydGAgcmV0dXJuZWQgZnJvbSBhXG4gICAgICogdG9wLWxldmVsIGByZW5kZXIoKWAgY2FsbCkuIEl0IGhhcyBubyBlZmZlY3Qgb24gbm9uLXJvb3QgQ2hpbGRQYXJ0cy5cbiAgICAgKiBAcGFyYW0gaXNDb25uZWN0ZWQgV2hldGhlciB0byBzZXRcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzZXRDb25uZWN0ZWQoaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5fJHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9faXNDb25uZWN0ZWQgPSBpc0Nvbm5lY3RlZDtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcywgaXNDb25uZWN0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXJ0LnNldENvbm5lY3RlZCgpIG1heSBvbmx5IGJlIGNhbGxlZCBvbiBhICcgK1xuICAgICAgICAgICAgICAgICdSb290UGFydCByZXR1cm5lZCBmcm9tIHJlbmRlcigpLicpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncywgcGFyZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IEFUVFJJQlVURV9QQVJUO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChzdHJpbmdzLmxlbmd0aCA+IDIgfHwgc3RyaW5nc1swXSAhPT0gJycgfHwgc3RyaW5nc1sxXSAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5ldyBBcnJheShzdHJpbmdzLmxlbmd0aCAtIDEpLmZpbGwobmV3IFN0cmluZygpKTtcbiAgICAgICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBub3RoaW5nO1xuICAgICAgICB9XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Nhbml0aXplciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgdGFnTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC50YWdOYW1lO1xuICAgIH1cbiAgICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gICAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl8kcGFyZW50Ll8kaXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoaXMgcGFydCBieSByZXNvbHZpbmcgdGhlIHZhbHVlIGZyb20gcG9zc2libHkgbXVsdGlwbGVcbiAgICAgKiB2YWx1ZXMgYW5kIHN0YXRpYyBzdHJpbmdzIGFuZCBjb21taXR0aW5nIGl0IHRvIHRoZSBET00uXG4gICAgICogSWYgdGhpcyBwYXJ0IGlzIHNpbmdsZS12YWx1ZWQsIGB0aGlzLl9zdHJpbmdzYCB3aWxsIGJlIHVuZGVmaW5lZCwgYW5kIHRoZVxuICAgICAqIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgc2luZ2xlIHZhbHVlIGFyZ3VtZW50LiBJZiB0aGlzIHBhcnQgaXNcbiAgICAgKiBtdWx0aS12YWx1ZSwgYHRoaXMuX3N0cmluZ3NgIHdpbGwgYmUgZGVmaW5lZCwgYW5kIHRoZSBtZXRob2QgaXMgY2FsbGVkXG4gICAgICogd2l0aCB0aGUgdmFsdWUgYXJyYXkgb2YgdGhlIHBhcnQncyBvd25pbmcgVGVtcGxhdGVJbnN0YW5jZSwgYW5kIGFuIG9mZnNldFxuICAgICAqIGludG8gdGhlIHZhbHVlIGFycmF5IGZyb20gd2hpY2ggdGhlIHZhbHVlcyBzaG91bGQgYmUgcmVhZC5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBvdmVybG9hZGVkIHRoaXMgd2F5IHRvIGVsaW1pbmF0ZSBzaG9ydC1saXZlZCBhcnJheSBzbGljZXNcbiAgICAgKiBvZiB0aGUgdGVtcGxhdGUgaW5zdGFuY2UgdmFsdWVzLCBhbmQgYWxsb3cgYSBmYXN0LXBhdGggZm9yIHNpbmdsZS12YWx1ZWRcbiAgICAgKiBwYXJ0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgcGFydCB2YWx1ZSwgb3IgYW4gYXJyYXkgb2YgdmFsdWVzIGZvciBtdWx0aS12YWx1ZWQgcGFydHNcbiAgICAgKiBAcGFyYW0gdmFsdWVJbmRleCB0aGUgaW5kZXggdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgZnJvbS4gYHVuZGVmaW5lZGAgZm9yXG4gICAgICogICBzaW5nbGUtdmFsdWVkIHBhcnRzXG4gICAgICogQHBhcmFtIG5vQ29tbWl0IGNhdXNlcyB0aGUgcGFydCB0byBub3QgY29tbWl0IGl0cyB2YWx1ZSB0byB0aGUgRE9NLiBVc2VkXG4gICAgICogICBpbiBoeWRyYXRpb24gdG8gcHJpbWUgYXR0cmlidXRlIHBhcnRzIHdpdGggdGhlaXIgZmlyc3QtcmVuZGVyZWQgdmFsdWUsXG4gICAgICogICBidXQgbm90IHNldCB0aGUgYXR0cmlidXRlLCBhbmQgaW4gU1NSIHRvIG5vLW9wIHRoZSBET00gb3BlcmF0aW9uIGFuZFxuICAgICAqICAgY2FwdHVyZSB0aGUgdmFsdWUgZm9yIHNlcmlhbGl6YXRpb24uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfJHNldFZhbHVlKHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQgPSB0aGlzLCB2YWx1ZUluZGV4LCBub0NvbW1pdCkge1xuICAgICAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuICAgICAgICAvLyBXaGV0aGVyIGFueSBvZiB0aGUgdmFsdWVzIGhhcyBjaGFuZ2VkLCBmb3IgZGlydHktY2hlY2tpbmdcbiAgICAgICAgbGV0IGNoYW5nZSA9IGZhbHNlO1xuICAgICAgICBpZiAoc3RyaW5ncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBTaW5nbGUtdmFsdWUgYmluZGluZyBjYXNlXG4gICAgICAgICAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUsIGRpcmVjdGl2ZVBhcmVudCwgMCk7XG4gICAgICAgICAgICBjaGFuZ2UgPVxuICAgICAgICAgICAgICAgICFpc1ByaW1pdGl2ZSh2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHZhbHVlICE9PSB0aGlzLl8kY29tbWl0dGVkVmFsdWUgJiYgdmFsdWUgIT09IG5vQ2hhbmdlKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEludGVycG9sYXRpb24gY2FzZVxuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gdmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHN0cmluZ3NbMF07XG4gICAgICAgICAgICBsZXQgaSwgdjtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIHYgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlc1t2YWx1ZUluZGV4ICsgaV0sIGRpcmVjdGl2ZVBhcmVudCwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKHYgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyLXByb3ZpZGVkIHZhbHVlIGlzIGBub0NoYW5nZWAsIHVzZSB0aGUgcHJldmlvdXMgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgdiA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZVtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hhbmdlIHx8IChjaGFuZ2UgPSAhaXNQcmltaXRpdmUodikgfHwgdiAhPT0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAodiA9PT0gbm90aGluZykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICE9PSBub3RoaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9ICh2ICE9PSBudWxsICYmIHYgIT09IHZvaWQgMCA/IHYgOiAnJykgKyBzdHJpbmdzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2UgYWx3YXlzIHJlY29yZCBlYWNoIHZhbHVlLCBldmVuIGlmIG9uZSBpcyBgbm90aGluZ2AsIGZvciBmdXR1cmVcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2UgZGV0ZWN0aW9uLlxuICAgICAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZVtpXSA9IHY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZSAmJiAhbm9Db21taXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdFZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2NvbW1pdFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZykge1xuICAgICAgICAgICAgd3JhcCh0aGlzLmVsZW1lbnQpLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zYW5pdGl6ZXIgPSBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwodGhpcy5lbGVtZW50LCB0aGlzLm5hbWUsICdhdHRyaWJ1dGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9zYW5pdGl6ZXIodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCA/IHZhbHVlIDogJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICBraW5kOiAnY29tbWl0IGF0dHJpYnV0ZScsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdyYXAodGhpcy5lbGVtZW50KS5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCA/IHZhbHVlIDogJycpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnR5cGUgPSBQUk9QRVJUWV9QQVJUO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2NvbW1pdFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nhbml0aXplciA9IHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCh0aGlzLmVsZW1lbnQsIHRoaXMubmFtZSwgJ3Byb3BlcnR5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3Nhbml0aXplcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgcHJvcGVydHknLFxuICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB0aGlzLmVsZW1lbnRbdGhpcy5uYW1lXSA9IHZhbHVlID09PSBub3RoaW5nID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfVxufVxuLy8gVGVtcG9yYXJ5IHdvcmthcm91bmQgZm9yIGh0dHBzOi8vY3JidWcuY29tLzk5MzI2OFxuLy8gQ3VycmVudGx5LCBhbnkgYXR0cmlidXRlIHN0YXJ0aW5nIHdpdGggXCJvblwiIGlzIGNvbnNpZGVyZWQgdG8gYmUgYVxuLy8gVHJ1c3RlZFNjcmlwdCBzb3VyY2UuIFN1Y2ggYm9vbGVhbiBhdHRyaWJ1dGVzIG11c3QgYmUgc2V0IHRvIHRoZSBlcXVpdmFsZW50XG4vLyB0cnVzdGVkIGVtcHR5U2NyaXB0IHZhbHVlLlxuY29uc3QgZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlID0gdHJ1c3RlZFR5cGVzXG4gICAgPyB0cnVzdGVkVHlwZXMuZW1wdHlTY3JpcHRcbiAgICA6ICcnO1xuY2xhc3MgQm9vbGVhbkF0dHJpYnV0ZVBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy50eXBlID0gQk9PTEVBTl9BVFRSSUJVVEVfUEFSVDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9jb21taXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ID09PSBudWxsIHx8IGRlYnVnTG9nRXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAga2luZDogJ2NvbW1pdCBib29sZWFuIGF0dHJpYnV0ZScsXG4gICAgICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogISEodmFsdWUgJiYgdmFsdWUgIT09IG5vdGhpbmcpLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlICE9PSBub3RoaW5nKSB7XG4gICAgICAgICAgICB3cmFwKHRoaXMuZWxlbWVudCkuc2V0QXR0cmlidXRlKHRoaXMubmFtZSwgZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdyYXAodGhpcy5lbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEV2ZW50UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIHBhcmVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzLCBwYXJlbnQsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnR5cGUgPSBFVkVOVF9QQVJUO1xuICAgICAgICBpZiAodGhpcy5zdHJpbmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBcXGA8JHtlbGVtZW50LmxvY2FsTmFtZX0+XFxgIGhhcyBhIFxcYEAke25hbWV9PS4uLlxcYCBsaXN0ZW5lciB3aXRoIGAgK1xuICAgICAgICAgICAgICAgICdpbnZhbGlkIGNvbnRlbnQuIEV2ZW50IGxpc3RlbmVycyBpbiB0ZW1wbGF0ZXMgbXVzdCBoYXZlIGV4YWN0bHkgJyArXG4gICAgICAgICAgICAgICAgJ29uZSBleHByZXNzaW9uIGFuZCBubyBzdXJyb3VuZGluZyB0ZXh0LicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEV2ZW50UGFydCBkb2VzIG5vdCB1c2UgdGhlIGJhc2UgXyRzZXRWYWx1ZS9fcmVzb2x2ZVZhbHVlIGltcGxlbWVudGF0aW9uXG4gICAgLy8gc2luY2UgdGhlIGRpcnR5IGNoZWNraW5nIGlzIG1vcmUgY29tcGxleFxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfJHNldFZhbHVlKG5ld0xpc3RlbmVyLCBkaXJlY3RpdmVQYXJlbnQgPSB0aGlzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbmV3TGlzdGVuZXIgPVxuICAgICAgICAgICAgKF9hID0gcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCBuZXdMaXN0ZW5lciwgZGlyZWN0aXZlUGFyZW50LCAwKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbm90aGluZztcbiAgICAgICAgaWYgKG5ld0xpc3RlbmVyID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9sZExpc3RlbmVyID0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlO1xuICAgICAgICAvLyBJZiB0aGUgbmV3IHZhbHVlIGlzIG5vdGhpbmcgb3IgYW55IG9wdGlvbnMgY2hhbmdlIHdlIGhhdmUgdG8gcmVtb3ZlIHRoZVxuICAgICAgICAvLyBwYXJ0IGFzIGEgbGlzdGVuZXIuXG4gICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZUxpc3RlbmVyID0gKG5ld0xpc3RlbmVyID09PSBub3RoaW5nICYmIG9sZExpc3RlbmVyICE9PSBub3RoaW5nKSB8fFxuICAgICAgICAgICAgbmV3TGlzdGVuZXIuY2FwdHVyZSAhPT1cbiAgICAgICAgICAgICAgICBvbGRMaXN0ZW5lci5jYXB0dXJlIHx8XG4gICAgICAgICAgICBuZXdMaXN0ZW5lci5vbmNlICE9PVxuICAgICAgICAgICAgICAgIG9sZExpc3RlbmVyLm9uY2UgfHxcbiAgICAgICAgICAgIG5ld0xpc3RlbmVyLnBhc3NpdmUgIT09XG4gICAgICAgICAgICAgICAgb2xkTGlzdGVuZXIucGFzc2l2ZTtcbiAgICAgICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyBub3Qgbm90aGluZyBhbmQgd2UgcmVtb3ZlZCB0aGUgbGlzdGVuZXIsIHdlIGhhdmVcbiAgICAgICAgLy8gdG8gYWRkIHRoZSBwYXJ0IGFzIGEgbGlzdGVuZXIuXG4gICAgICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID0gbmV3TGlzdGVuZXIgIT09IG5vdGhpbmcgJiZcbiAgICAgICAgICAgIChvbGRMaXN0ZW5lciA9PT0gbm90aGluZyB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICBraW5kOiAnY29tbWl0IGV2ZW50IGxpc3RlbmVyJyxcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBuZXdMaXN0ZW5lcixcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyOiBzaG91bGRSZW1vdmVMaXN0ZW5lcixcbiAgICAgICAgICAgIGFkZExpc3RlbmVyOiBzaG91bGRBZGRMaXN0ZW5lcixcbiAgICAgICAgICAgIG9sZExpc3RlbmVyLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNob3VsZFJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLm5hbWUsIHRoaXMsIG9sZExpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIC8vIEJld2FyZTogSUUxMSBhbmQgQ2hyb21lIDQxIGRvbid0IGxpa2UgdXNpbmcgdGhlIGxpc3RlbmVyIGFzIHRoZVxuICAgICAgICAgICAgLy8gb3B0aW9ucyBvYmplY3QuIEZpZ3VyZSBvdXQgaG93IHRvIGRlYWwgdy8gdGhpcyBpbiBJRTExIC0gbWF5YmVcbiAgICAgICAgICAgIC8vIHBhdGNoIGFkZEV2ZW50TGlzdGVuZXI/XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLm5hbWUsIHRoaXMsIG5ld0xpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBuZXdMaXN0ZW5lcjtcbiAgICB9XG4gICAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZS5jYWxsKChfYiA9IChfYSA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhvc3QpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEVsZW1lbnRQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy50eXBlID0gRUxFTUVOVF9QQVJUO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gICAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl8kcGFyZW50Ll8kaXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIF8kc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgdG8gZWxlbWVudCBiaW5kaW5nJyxcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBFTkQgVVNFUlMgU0hPVUxEIE5PVCBSRUxZIE9OIFRISVMgT0JKRUNULlxuICpcbiAqIFByaXZhdGUgZXhwb3J0cyBmb3IgdXNlIGJ5IG90aGVyIExpdCBwYWNrYWdlcywgbm90IGludGVuZGVkIGZvciB1c2UgYnlcbiAqIGV4dGVybmFsIHVzZXJzLlxuICpcbiAqIFdlIGN1cnJlbnRseSBkbyBub3QgbWFrZSBhIG1hbmdsZWQgcm9sbHVwIGJ1aWxkIG9mIHRoZSBsaXQtc3NyIGNvZGUuIEluIG9yZGVyXG4gKiB0byBrZWVwIGEgbnVtYmVyIG9mIChvdGhlcndpc2UgcHJpdmF0ZSkgdG9wLWxldmVsIGV4cG9ydHMgIG1hbmdsZWQgaW4gdGhlXG4gKiBjbGllbnQgc2lkZSBjb2RlLCB3ZSBleHBvcnQgYSBfJExIIG9iamVjdCBjb250YWluaW5nIHRob3NlIG1lbWJlcnMgKG9yXG4gKiBoZWxwZXIgbWV0aG9kcyBmb3IgYWNjZXNzaW5nIHByaXZhdGUgZmllbGRzIG9mIHRob3NlIG1lbWJlcnMpLCBhbmQgdGhlblxuICogcmUtZXhwb3J0IHRoZW0gZm9yIHVzZSBpbiBsaXQtc3NyLiBUaGlzIGtlZXBzIGxpdC1zc3IgYWdub3N0aWMgdG8gd2hldGhlciB0aGVcbiAqIGNsaWVudC1zaWRlIGNvZGUgaXMgYmVpbmcgdXNlZCBpbiBgZGV2YCBtb2RlIG9yIGBwcm9kYCBtb2RlLlxuICpcbiAqIFRoaXMgaGFzIGEgdW5pcXVlIG5hbWUsIHRvIGRpc2FtYmlndWF0ZSBpdCBmcm9tIHByaXZhdGUgZXhwb3J0cyBpblxuICogbGl0LWVsZW1lbnQsIHdoaWNoIHJlLWV4cG9ydHMgYWxsIG9mIGxpdC1odG1sLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IF8kTEggPSB7XG4gICAgLy8gVXNlZCBpbiBsaXQtc3NyXG4gICAgX2JvdW5kQXR0cmlidXRlU3VmZml4OiBib3VuZEF0dHJpYnV0ZVN1ZmZpeCxcbiAgICBfbWFya2VyOiBtYXJrZXIsXG4gICAgX21hcmtlck1hdGNoOiBtYXJrZXJNYXRjaCxcbiAgICBfSFRNTF9SRVNVTFQ6IEhUTUxfUkVTVUxULFxuICAgIF9nZXRUZW1wbGF0ZUh0bWw6IGdldFRlbXBsYXRlSHRtbCxcbiAgICAvLyBVc2VkIGluIHRlc3RzIGFuZCBwcml2YXRlLXNzci1zdXBwb3J0XG4gICAgX1RlbXBsYXRlSW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2UsXG4gICAgX2lzSXRlcmFibGU6IGlzSXRlcmFibGUsXG4gICAgX3Jlc29sdmVEaXJlY3RpdmU6IHJlc29sdmVEaXJlY3RpdmUsXG4gICAgX0NoaWxkUGFydDogQ2hpbGRQYXJ0LFxuICAgIF9BdHRyaWJ1dGVQYXJ0OiBBdHRyaWJ1dGVQYXJ0LFxuICAgIF9Cb29sZWFuQXR0cmlidXRlUGFydDogQm9vbGVhbkF0dHJpYnV0ZVBhcnQsXG4gICAgX0V2ZW50UGFydDogRXZlbnRQYXJ0LFxuICAgIF9Qcm9wZXJ0eVBhcnQ6IFByb3BlcnR5UGFydCxcbiAgICBfRWxlbWVudFBhcnQ6IEVsZW1lbnRQYXJ0LFxufTtcbi8vIEFwcGx5IHBvbHlmaWxscyBpZiBhdmFpbGFibGVcbmNvbnN0IHBvbHlmaWxsU3VwcG9ydCA9IGdsb2JhbC5saXRIdG1sUG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICAgIDtcbnBvbHlmaWxsU3VwcG9ydCA9PT0gbnVsbCB8fCBwb2x5ZmlsbFN1cHBvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvbHlmaWxsU3VwcG9ydChUZW1wbGF0ZSwgQ2hpbGRQYXJ0KTtcbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4oKF9kID0gZ2xvYmFsLmxpdEh0bWxWZXJzaW9ucykgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogKGdsb2JhbC5saXRIdG1sVmVyc2lvbnMgPSBbXSkpLnB1c2goJzIuOC4wJyk7XG5pZiAoZ2xvYmFsLmxpdEh0bWxWZXJzaW9ucy5sZW5ndGggPiAxKSB7XG4gICAgaXNzdWVXYXJuaW5nKCdtdWx0aXBsZS12ZXJzaW9ucycsIGBNdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXQgbG9hZGVkLiBgICtcbiAgICAgICAgYExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgaXMgbm90IHJlY29tbWVuZGVkLmApO1xufVxuLyoqXG4gKiBSZW5kZXJzIGEgdmFsdWUsIHVzdWFsbHkgYSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdCwgdG8gdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgcmVuZGVycyB0aGUgdGV4dCBcIkhlbGxvLCBab2UhXCIgaW5zaWRlIGEgcGFyYWdyYXBoIHRhZywgYXBwZW5kaW5nXG4gKiBpdCB0byB0aGUgY29udGFpbmVyIGBkb2N1bWVudC5ib2R5YC5cbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtodG1sLCByZW5kZXJ9IGZyb20gJ2xpdCc7XG4gKlxuICogY29uc3QgbmFtZSA9IFwiWm9lXCI7XG4gKiByZW5kZXIoaHRtbGA8cD5IZWxsbywgJHtuYW1lfSE8L3A+YCwgZG9jdW1lbnQuYm9keSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWUgQW55IFtyZW5kZXJhYmxlXG4gKiAgIHZhbHVlXShodHRwczovL2xpdC5kZXYvZG9jcy90ZW1wbGF0ZXMvZXhwcmVzc2lvbnMvI2NoaWxkLWV4cHJlc3Npb25zKSxcbiAqICAgdHlwaWNhbGx5IGEge0BsaW5rY29kZSBUZW1wbGF0ZVJlc3VsdH0gY3JlYXRlZCBieSBldmFsdWF0aW5nIGEgdGVtcGxhdGUgdGFnXG4gKiAgIGxpa2Uge0BsaW5rY29kZSBodG1sfSBvciB7QGxpbmtjb2RlIHN2Z30uXG4gKiBAcGFyYW0gY29udGFpbmVyIEEgRE9NIGNvbnRhaW5lciB0byByZW5kZXIgdG8uIFRoZSBmaXJzdCByZW5kZXIgd2lsbCBhcHBlbmRcbiAqICAgdGhlIHJlbmRlcmVkIHZhbHVlIHRvIHRoZSBjb250YWluZXIsIGFuZCBzdWJzZXF1ZW50IHJlbmRlcnMgd2lsbFxuICogICBlZmZpY2llbnRseSB1cGRhdGUgdGhlIHJlbmRlcmVkIHZhbHVlIGlmIHRoZSBzYW1lIHJlc3VsdCB0eXBlIHdhc1xuICogICBwcmV2aW91c2x5IHJlbmRlcmVkIHRoZXJlLlxuICogQHBhcmFtIG9wdGlvbnMgU2VlIHtAbGlua2NvZGUgUmVuZGVyT3B0aW9uc30gZm9yIG9wdGlvbnMgZG9jdW1lbnRhdGlvbi5cbiAqIEBzZWVcbiAqIHtAbGluayBodHRwczovL2xpdC5kZXYvZG9jcy9saWJyYXJpZXMvc3RhbmRhbG9uZS10ZW1wbGF0ZXMvI3JlbmRlcmluZy1saXQtaHRtbC10ZW1wbGF0ZXN8IFJlbmRlcmluZyBMaXQgSFRNTCBUZW1wbGF0ZXN9XG4gKi9cbmNvbnN0IHJlbmRlciA9ICh2YWx1ZSwgY29udGFpbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAoY29udGFpbmVyID09IG51bGwpIHtcbiAgICAgICAgLy8gR2l2ZSBhIGNsZWFyZXIgZXJyb3IgbWVzc2FnZSB0aGFuXG4gICAgICAgIC8vICAgICBVbmNhdWdodCBUeXBlRXJyb3I6IENhbm5vdCByZWFkIHByb3BlcnRpZXMgb2YgbnVsbCAocmVhZGluZ1xuICAgICAgICAvLyAgICAgJ18kbGl0UGFydCQnKVxuICAgICAgICAvLyB3aGljaCByZWFkcyBsaWtlIGFuIGludGVybmFsIExpdCBlcnJvci5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIGNvbnRhaW5lciB0byByZW5kZXIgaW50byBtYXkgbm90IGJlICR7Y29udGFpbmVyfWApO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJJZCA9IGRlYnVnTG9nUmVuZGVySWQrKyA7XG4gICAgY29uc3QgcGFydE93bmVyTm9kZSA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZW5kZXJCZWZvcmUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbnRhaW5lcjtcbiAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbGV0IHBhcnQgPSBwYXJ0T3duZXJOb2RlWydfJGxpdFBhcnQkJ107XG4gICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAga2luZDogJ2JlZ2luIHJlbmRlcicsXG4gICAgICAgIGlkOiByZW5kZXJJZCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgcGFydCxcbiAgICB9KTtcbiAgICBpZiAocGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGVuZE5vZGUgPSAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVuZGVyQmVmb3JlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsO1xuICAgICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBwYXJ0T3duZXJOb2RlWydfJGxpdFBhcnQkJ10gPSBwYXJ0ID0gbmV3IENoaWxkUGFydChjb250YWluZXIuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBlbmROb2RlKSwgZW5kTm9kZSwgdW5kZWZpbmVkLCBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fSk7XG4gICAgfVxuICAgIHBhcnQuXyRzZXRWYWx1ZSh2YWx1ZSk7XG4gICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAga2luZDogJ2VuZCByZW5kZXInLFxuICAgICAgICBpZDogcmVuZGVySWQsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHBhcnQsXG4gICAgfSk7XG4gICAgcmV0dXJuIHBhcnQ7XG59O1xue1xuICAgIHJlbmRlci5zZXRTYW5pdGl6ZXIgPSBzZXRTYW5pdGl6ZXI7XG4gICAgcmVuZGVyLmNyZWF0ZVNhbml0aXplciA9IGNyZWF0ZVNhbml0aXplcjtcbiAgICB7XG4gICAgICAgIHJlbmRlci5fdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPVxuICAgICAgICAgICAgX3Rlc3RPbmx5Q2xlYXJTYW5pdGl6ZXJGYWN0b3J5RG9Ob3RDYWxsT3JFbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgXyRMSCwgaHRtbCwgbm9DaGFuZ2UsIG5vdGhpbmcsIHJlbmRlciwgc3ZnIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtaHRtbC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/decorators.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit/decorators.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customElement: () => (/* reexport safe */ _lit_reactive_element_decorators_custom_element_js__WEBPACK_IMPORTED_MODULE_0__.customElement),\n/* harmony export */   eventOptions: () => (/* reexport safe */ _lit_reactive_element_decorators_event_options_js__WEBPACK_IMPORTED_MODULE_3__.eventOptions),\n/* harmony export */   property: () => (/* reexport safe */ _lit_reactive_element_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property),\n/* harmony export */   query: () => (/* reexport safe */ _lit_reactive_element_decorators_query_js__WEBPACK_IMPORTED_MODULE_4__.query),\n/* harmony export */   queryAll: () => (/* reexport safe */ _lit_reactive_element_decorators_query_all_js__WEBPACK_IMPORTED_MODULE_5__.queryAll),\n/* harmony export */   queryAssignedElements: () => (/* reexport safe */ _lit_reactive_element_decorators_query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_7__.queryAssignedElements),\n/* harmony export */   queryAssignedNodes: () => (/* reexport safe */ _lit_reactive_element_decorators_query_assigned_nodes_js__WEBPACK_IMPORTED_MODULE_8__.queryAssignedNodes),\n/* harmony export */   queryAsync: () => (/* reexport safe */ _lit_reactive_element_decorators_query_async_js__WEBPACK_IMPORTED_MODULE_6__.queryAsync),\n/* harmony export */   state: () => (/* reexport safe */ _lit_reactive_element_decorators_state_js__WEBPACK_IMPORTED_MODULE_2__.state)\n/* harmony export */ });\n/* harmony import */ var _lit_reactive_element_decorators_custom_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element/decorators/custom-element.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/custom-element.js\");\n/* harmony import */ var _lit_reactive_element_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lit/reactive-element/decorators/property.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/property.js\");\n/* harmony import */ var _lit_reactive_element_decorators_state_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lit/reactive-element/decorators/state.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/state.js\");\n/* harmony import */ var _lit_reactive_element_decorators_event_options_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lit/reactive-element/decorators/event-options.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/event-options.js\");\n/* harmony import */ var _lit_reactive_element_decorators_query_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lit/reactive-element/decorators/query.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query.js\");\n/* harmony import */ var _lit_reactive_element_decorators_query_all_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-all.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-all.js\");\n/* harmony import */ var _lit_reactive_element_decorators_query_async_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-async.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-async.js\");\n/* harmony import */ var _lit_reactive_element_decorators_query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-assigned-elements.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-elements.js\");\n/* harmony import */ var _lit_reactive_element_decorators_query_assigned_nodes_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-assigned-nodes.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-nodes.js\");\n\n//# sourceMappingURL=decorators.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC9kZWNvcmF0b3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4aUI7QUFDOWlCIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9saXQvZGVjb3JhdG9ycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvY3VzdG9tLWVsZW1lbnQuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvc3RhdGUuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvZXZlbnQtb3B0aW9ucy5qc1wiO2V4cG9ydCpmcm9tXCJAbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGVjb3JhdG9ycy9xdWVyeS5qc1wiO2V4cG9ydCpmcm9tXCJAbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGVjb3JhdG9ycy9xdWVyeS1hbGwuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcXVlcnktYXN5bmMuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtZWxlbWVudHMuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtbm9kZXMuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlY29yYXRvcnMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/decorators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/class-map.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/class-map.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   classMap: () => (/* reexport safe */ lit_html_directives_class_map_js__WEBPACK_IMPORTED_MODULE_0__.classMap)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_class_map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/class-map.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/class-map.js\");\n\n//# sourceMappingURL=class-map.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE4QztBQUM5QyIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvbGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCpmcm9tXCJsaXQtaHRtbC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qc1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xhc3MtbWFwLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/class-map.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/if-defined.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/if-defined.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ifDefined: () => (/* reexport safe */ lit_html_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_0__.ifDefined)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/if-defined.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/if-defined.js\");\n\n//# sourceMappingURL=if-defined.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0M7QUFDL0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0KmZyb21cImxpdC1odG1sL2RpcmVjdGl2ZXMvaWYtZGVmaW5lZC5qc1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWYtZGVmaW5lZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/if-defined.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit/index.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.CSSResult),\n/* harmony export */   LitElement: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.LitElement),\n/* harmony export */   ReactiveElement: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.ReactiveElement),\n/* harmony export */   UpdatingElement: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.UpdatingElement),\n/* harmony export */   _$LE: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__._$LE),\n/* harmony export */   _$LH: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__._$LH),\n/* harmony export */   adoptStyles: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.adoptStyles),\n/* harmony export */   css: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.css),\n/* harmony export */   defaultConverter: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.defaultConverter),\n/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.getCompatibleStyle),\n/* harmony export */   html: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.html),\n/* harmony export */   isServer: () => (/* reexport safe */ lit_html_is_server_js__WEBPACK_IMPORTED_MODULE_3__.isServer),\n/* harmony export */   noChange: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.noChange),\n/* harmony export */   notEqual: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.notEqual),\n/* harmony export */   nothing: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.nothing),\n/* harmony export */   render: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.render),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.supportsAdoptingStyleSheets),\n/* harmony export */   svg: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.svg),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.unsafeCSS)\n/* harmony export */ });\n/* harmony import */ var _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/reactive-element.js\");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\");\n/* harmony import */ var lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit-element/lit-element.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-element/development/lit-element.js\");\n/* harmony import */ var lit_html_is_server_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit-html/is-server.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/is-server.js\");\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwSDtBQUMxSCIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvbGl0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydFwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7aW1wb3J0XCJsaXQtaHRtbFwiO2V4cG9ydCpmcm9tXCJsaXQtZWxlbWVudC9saXQtZWxlbWVudC5qc1wiO2V4cG9ydCpmcm9tXCJsaXQtaHRtbC9pcy1zZXJ2ZXIuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@walletconnect/modal/dist/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WalletConnectModal: () => (/* binding */ WalletConnectModal)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/modal-core */ \"(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js\");\n\n\nclass WalletConnectModal {\n  constructor(config) {\n    this.openModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalCtrl.open;\n    this.closeModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalCtrl.close;\n    this.subscribeModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalCtrl.subscribe;\n    this.setTheme = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ThemeCtrl.setThemeConfig;\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ThemeCtrl.setThemeConfig(config);\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ConfigCtrl.setConfig(config);\n    this.initUi();\n  }\n  async initUi() {\n    if (typeof window !== \"undefined\") {\n      await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@walletconnect\"), __webpack_require__.e(\"vendor-chunks/qrcode\"), __webpack_require__.e(\"vendor-chunks/pngjs\"), __webpack_require__.e(\"vendor-chunks/dijkstrajs\"), __webpack_require__.e(\"vendor-chunks/encode-utf8\"), __webpack_require__.e(\"vendor-chunks/@motionone\"), __webpack_require__.e(\"vendor-chunks/motion\"), __webpack_require__.e(\"vendor-chunks/hey-listen\")]).then(__webpack_require__.bind(__webpack_require__, /*! @walletconnect/modal-ui */ \"(ssr)/./node_modules/@walletconnect/modal-ui/dist/index.js\"));\n      const modal = document.createElement(\"wcm-modal\");\n      document.body.insertAdjacentElement(\"beforeend\", modal);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.OptionsCtrl.setIsUiLoaded(true);\n    }\n  }\n}\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwRjs7QUFFMUY7QUFDQTtBQUNBLHFCQUFxQixnRUFBUztBQUM5QixzQkFBc0IsZ0VBQVM7QUFDL0IsMEJBQTBCLGdFQUFTO0FBQ25DLG9CQUFvQixnRUFBUztBQUM3QixJQUFJLGdFQUFTO0FBQ2IsSUFBSSxpRUFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2akJBQWlDO0FBQzdDO0FBQ0E7QUFDQSxNQUFNLGtFQUFXO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFOEI7QUFDOUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RhbEN0cmwsIFRoZW1lQ3RybCwgQ29uZmlnQ3RybCwgT3B0aW9uc0N0cmwgfSBmcm9tICdAd2FsbGV0Y29ubmVjdC9tb2RhbC1jb3JlJztcblxuY2xhc3MgV2FsbGV0Q29ubmVjdE1vZGFsIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5vcGVuTW9kYWwgPSBNb2RhbEN0cmwub3BlbjtcbiAgICB0aGlzLmNsb3NlTW9kYWwgPSBNb2RhbEN0cmwuY2xvc2U7XG4gICAgdGhpcy5zdWJzY3JpYmVNb2RhbCA9IE1vZGFsQ3RybC5zdWJzY3JpYmU7XG4gICAgdGhpcy5zZXRUaGVtZSA9IFRoZW1lQ3RybC5zZXRUaGVtZUNvbmZpZztcbiAgICBUaGVtZUN0cmwuc2V0VGhlbWVDb25maWcoY29uZmlnKTtcbiAgICBDb25maWdDdHJsLnNldENvbmZpZyhjb25maWcpO1xuICAgIHRoaXMuaW5pdFVpKCk7XG4gIH1cbiAgYXN5bmMgaW5pdFVpKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBhd2FpdCBpbXBvcnQoJ0B3YWxsZXRjb25uZWN0L21vZGFsLXVpJyk7XG4gICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ3Y20tbW9kYWxcIik7XG4gICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWVuZFwiLCBtb2RhbCk7XG4gICAgICBPcHRpb25zQ3RybC5zZXRJc1VpTG9hZGVkKHRydWUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBXYWxsZXRDb25uZWN0TW9kYWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/relay-api/dist/index.es.js":
/*!****************************************************************!*\
  !*** ./node_modules/@walletconnect/relay-api/dist/index.es.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RELAY_JSONRPC: () => (/* binding */ C),\n/* harmony export */   isPublishMethod: () => (/* binding */ c),\n/* harmony export */   isPublishParams: () => (/* binding */ h),\n/* harmony export */   isPublishRequest: () => (/* binding */ P),\n/* harmony export */   isSubscribeMethod: () => (/* binding */ b),\n/* harmony export */   isSubscribeParams: () => (/* binding */ a),\n/* harmony export */   isSubscribeRequest: () => (/* binding */ R),\n/* harmony export */   isSubscriptionMethod: () => (/* binding */ m),\n/* harmony export */   isSubscriptionParams: () => (/* binding */ d),\n/* harmony export */   isSubscriptionRequest: () => (/* binding */ S),\n/* harmony export */   isUnsubscribeMethod: () => (/* binding */ o),\n/* harmony export */   isUnsubscribeParams: () => (/* binding */ p),\n/* harmony export */   isUnsubscribeRequest: () => (/* binding */ _),\n/* harmony export */   parsePublishRequest: () => (/* binding */ q),\n/* harmony export */   parseSubscribeRequest: () => (/* binding */ g),\n/* harmony export */   parseSubscriptionRequest: () => (/* binding */ k),\n/* harmony export */   parseUnsubscribeRequest: () => (/* binding */ E)\n/* harmony export */ });\nfunction e(s,r,i=\"string\"){if(!s[r]||typeof s[r]!==i)throw new Error(`Missing or invalid \"${r}\" param`)}function l(s,r){let i=!0;return r.forEach(t=>{t in s||(i=!1)}),i}function f(s,r){return Array.isArray(s)?s.length===r:Object.keys(s).length===r}function w(s,r){return Array.isArray(s)?s.length>=r:Object.keys(s).length>=r}function u(s,r,i){return(i.length?w(s,r.length):f(s,r.length))?l(s,r):!1}function n(s,r,i=\"_\"){const t=s.split(i);return t[t.length-1].trim().toLowerCase()===r.trim().toLowerCase()}function R(s){return b(s.method)&&a(s.params)}function b(s){return n(s,\"subscribe\")}function a(s){return u(s,[\"topic\"],[])}function P(s){return c(s.method)&&h(s.params)}function c(s){return n(s,\"publish\")}function h(s){return u(s,[\"message\",\"topic\",\"ttl\"],[\"prompt\",\"tag\"])}function _(s){return o(s.method)&&p(s.params)}function o(s){return n(s,\"unsubscribe\")}function p(s){return u(s,[\"id\",\"topic\"],[])}function S(s){return m(s.method)&&d(s.params)}function m(s){return n(s,\"subscription\")}function d(s){return u(s,[\"id\",\"data\"],[])}function g(s){if(!b(s.method))throw new Error(\"JSON-RPC Request has invalid subscribe method\");if(!a(s.params))throw new Error(\"JSON-RPC Request has invalid subscribe params\");const r=s.params;return e(r,\"topic\"),r}function q(s){if(!c(s.method))throw new Error(\"JSON-RPC Request has invalid publish method\");if(!h(s.params))throw new Error(\"JSON-RPC Request has invalid publish params\");const r=s.params;return e(r,\"topic\"),e(r,\"message\"),e(r,\"ttl\",\"number\"),r}function E(s){if(!o(s.method))throw new Error(\"JSON-RPC Request has invalid unsubscribe method\");if(!p(s.params))throw new Error(\"JSON-RPC Request has invalid unsubscribe params\");const r=s.params;return e(r,\"id\"),r}function k(s){if(!m(s.method))throw new Error(\"JSON-RPC Request has invalid subscription method\");if(!d(s.params))throw new Error(\"JSON-RPC Request has invalid subscription params\");const r=s.params;return e(r,\"id\"),e(r,\"data\"),r}const C={waku:{publish:\"waku_publish\",batchPublish:\"waku_batchPublish\",subscribe:\"waku_subscribe\",batchSubscribe:\"waku_batchSubscribe\",subscription:\"waku_subscription\",unsubscribe:\"waku_unsubscribe\",batchUnsubscribe:\"waku_batchUnsubscribe\",batchFetchMessages:\"waku_batchFetchMessages\"},irn:{publish:\"irn_publish\",batchPublish:\"irn_batchPublish\",subscribe:\"irn_subscribe\",batchSubscribe:\"irn_batchSubscribe\",subscription:\"irn_subscription\",unsubscribe:\"irn_unsubscribe\",batchUnsubscribe:\"irn_batchUnsubscribe\",batchFetchMessages:\"irn_batchFetchMessages\"},iridium:{publish:\"iridium_publish\",batchPublish:\"iridium_batchPublish\",subscribe:\"iridium_subscribe\",batchSubscribe:\"iridium_batchSubscribe\",subscription:\"iridium_subscription\",unsubscribe:\"iridium_unsubscribe\",batchUnsubscribe:\"iridium_batchUnsubscribe\",batchFetchMessages:\"iridium_batchFetchMessages\"}};\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvcmVsYXktYXBpL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQkFBMkIsaUVBQWlFLEVBQUUsVUFBVSxnQkFBZ0IsU0FBUyxxQkFBcUIsZUFBZSxJQUFJLGdCQUFnQiwrREFBK0QsZ0JBQWdCLDZEQUE2RCxrQkFBa0IsdURBQXVELHNCQUFzQixtQkFBbUIsbUVBQW1FLGNBQWMsZ0NBQWdDLGNBQWMsd0JBQXdCLGNBQWMseUJBQXlCLGNBQWMsZ0NBQWdDLGNBQWMsc0JBQXNCLGNBQWMsdURBQXVELGNBQWMsZ0NBQWdDLGNBQWMsMEJBQTBCLGNBQWMsOEJBQThCLGNBQWMsZ0NBQWdDLGNBQWMsMkJBQTJCLGNBQWMsNkJBQTZCLGNBQWMsaUZBQWlGLGlGQUFpRixpQkFBaUIsc0JBQXNCLGNBQWMsK0VBQStFLCtFQUErRSxpQkFBaUIseURBQXlELGNBQWMsbUZBQW1GLG1GQUFtRixpQkFBaUIsbUJBQW1CLGNBQWMsb0ZBQW9GLG9GQUFvRixpQkFBaUIsK0JBQStCLFNBQVMsTUFBTSw4UUFBOFEsTUFBTSxzUUFBc1EsVUFBVSx3U0FBbXRCO0FBQ2pxRyIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9yZWxheS1hcGkvZGlzdC9pbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlKHMscixpPVwic3RyaW5nXCIpe2lmKCFzW3JdfHx0eXBlb2Ygc1tyXSE9PWkpdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIG9yIGludmFsaWQgXCIke3J9XCIgcGFyYW1gKX1mdW5jdGlvbiBsKHMscil7bGV0IGk9ITA7cmV0dXJuIHIuZm9yRWFjaCh0PT57dCBpbiBzfHwoaT0hMSl9KSxpfWZ1bmN0aW9uIGYocyxyKXtyZXR1cm4gQXJyYXkuaXNBcnJheShzKT9zLmxlbmd0aD09PXI6T2JqZWN0LmtleXMocykubGVuZ3RoPT09cn1mdW5jdGlvbiB3KHMscil7cmV0dXJuIEFycmF5LmlzQXJyYXkocyk/cy5sZW5ndGg+PXI6T2JqZWN0LmtleXMocykubGVuZ3RoPj1yfWZ1bmN0aW9uIHUocyxyLGkpe3JldHVybihpLmxlbmd0aD93KHMsci5sZW5ndGgpOmYocyxyLmxlbmd0aCkpP2wocyxyKTohMX1mdW5jdGlvbiBuKHMscixpPVwiX1wiKXtjb25zdCB0PXMuc3BsaXQoaSk7cmV0dXJuIHRbdC5sZW5ndGgtMV0udHJpbSgpLnRvTG93ZXJDYXNlKCk9PT1yLnRyaW0oKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIFIocyl7cmV0dXJuIGIocy5tZXRob2QpJiZhKHMucGFyYW1zKX1mdW5jdGlvbiBiKHMpe3JldHVybiBuKHMsXCJzdWJzY3JpYmVcIil9ZnVuY3Rpb24gYShzKXtyZXR1cm4gdShzLFtcInRvcGljXCJdLFtdKX1mdW5jdGlvbiBQKHMpe3JldHVybiBjKHMubWV0aG9kKSYmaChzLnBhcmFtcyl9ZnVuY3Rpb24gYyhzKXtyZXR1cm4gbihzLFwicHVibGlzaFwiKX1mdW5jdGlvbiBoKHMpe3JldHVybiB1KHMsW1wibWVzc2FnZVwiLFwidG9waWNcIixcInR0bFwiXSxbXCJwcm9tcHRcIixcInRhZ1wiXSl9ZnVuY3Rpb24gXyhzKXtyZXR1cm4gbyhzLm1ldGhvZCkmJnAocy5wYXJhbXMpfWZ1bmN0aW9uIG8ocyl7cmV0dXJuIG4ocyxcInVuc3Vic2NyaWJlXCIpfWZ1bmN0aW9uIHAocyl7cmV0dXJuIHUocyxbXCJpZFwiLFwidG9waWNcIl0sW10pfWZ1bmN0aW9uIFMocyl7cmV0dXJuIG0ocy5tZXRob2QpJiZkKHMucGFyYW1zKX1mdW5jdGlvbiBtKHMpe3JldHVybiBuKHMsXCJzdWJzY3JpcHRpb25cIil9ZnVuY3Rpb24gZChzKXtyZXR1cm4gdShzLFtcImlkXCIsXCJkYXRhXCJdLFtdKX1mdW5jdGlvbiBnKHMpe2lmKCFiKHMubWV0aG9kKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLVJQQyBSZXF1ZXN0IGhhcyBpbnZhbGlkIHN1YnNjcmliZSBtZXRob2RcIik7aWYoIWEocy5wYXJhbXMpKXRocm93IG5ldyBFcnJvcihcIkpTT04tUlBDIFJlcXVlc3QgaGFzIGludmFsaWQgc3Vic2NyaWJlIHBhcmFtc1wiKTtjb25zdCByPXMucGFyYW1zO3JldHVybiBlKHIsXCJ0b3BpY1wiKSxyfWZ1bmN0aW9uIHEocyl7aWYoIWMocy5tZXRob2QpKXRocm93IG5ldyBFcnJvcihcIkpTT04tUlBDIFJlcXVlc3QgaGFzIGludmFsaWQgcHVibGlzaCBtZXRob2RcIik7aWYoIWgocy5wYXJhbXMpKXRocm93IG5ldyBFcnJvcihcIkpTT04tUlBDIFJlcXVlc3QgaGFzIGludmFsaWQgcHVibGlzaCBwYXJhbXNcIik7Y29uc3Qgcj1zLnBhcmFtcztyZXR1cm4gZShyLFwidG9waWNcIiksZShyLFwibWVzc2FnZVwiKSxlKHIsXCJ0dGxcIixcIm51bWJlclwiKSxyfWZ1bmN0aW9uIEUocyl7aWYoIW8ocy5tZXRob2QpKXRocm93IG5ldyBFcnJvcihcIkpTT04tUlBDIFJlcXVlc3QgaGFzIGludmFsaWQgdW5zdWJzY3JpYmUgbWV0aG9kXCIpO2lmKCFwKHMucGFyYW1zKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLVJQQyBSZXF1ZXN0IGhhcyBpbnZhbGlkIHVuc3Vic2NyaWJlIHBhcmFtc1wiKTtjb25zdCByPXMucGFyYW1zO3JldHVybiBlKHIsXCJpZFwiKSxyfWZ1bmN0aW9uIGsocyl7aWYoIW0ocy5tZXRob2QpKXRocm93IG5ldyBFcnJvcihcIkpTT04tUlBDIFJlcXVlc3QgaGFzIGludmFsaWQgc3Vic2NyaXB0aW9uIG1ldGhvZFwiKTtpZighZChzLnBhcmFtcykpdGhyb3cgbmV3IEVycm9yKFwiSlNPTi1SUEMgUmVxdWVzdCBoYXMgaW52YWxpZCBzdWJzY3JpcHRpb24gcGFyYW1zXCIpO2NvbnN0IHI9cy5wYXJhbXM7cmV0dXJuIGUocixcImlkXCIpLGUocixcImRhdGFcIikscn1jb25zdCBDPXt3YWt1OntwdWJsaXNoOlwid2FrdV9wdWJsaXNoXCIsYmF0Y2hQdWJsaXNoOlwid2FrdV9iYXRjaFB1Ymxpc2hcIixzdWJzY3JpYmU6XCJ3YWt1X3N1YnNjcmliZVwiLGJhdGNoU3Vic2NyaWJlOlwid2FrdV9iYXRjaFN1YnNjcmliZVwiLHN1YnNjcmlwdGlvbjpcIndha3Vfc3Vic2NyaXB0aW9uXCIsdW5zdWJzY3JpYmU6XCJ3YWt1X3Vuc3Vic2NyaWJlXCIsYmF0Y2hVbnN1YnNjcmliZTpcIndha3VfYmF0Y2hVbnN1YnNjcmliZVwiLGJhdGNoRmV0Y2hNZXNzYWdlczpcIndha3VfYmF0Y2hGZXRjaE1lc3NhZ2VzXCJ9LGlybjp7cHVibGlzaDpcImlybl9wdWJsaXNoXCIsYmF0Y2hQdWJsaXNoOlwiaXJuX2JhdGNoUHVibGlzaFwiLHN1YnNjcmliZTpcImlybl9zdWJzY3JpYmVcIixiYXRjaFN1YnNjcmliZTpcImlybl9iYXRjaFN1YnNjcmliZVwiLHN1YnNjcmlwdGlvbjpcImlybl9zdWJzY3JpcHRpb25cIix1bnN1YnNjcmliZTpcImlybl91bnN1YnNjcmliZVwiLGJhdGNoVW5zdWJzY3JpYmU6XCJpcm5fYmF0Y2hVbnN1YnNjcmliZVwiLGJhdGNoRmV0Y2hNZXNzYWdlczpcImlybl9iYXRjaEZldGNoTWVzc2FnZXNcIn0saXJpZGl1bTp7cHVibGlzaDpcImlyaWRpdW1fcHVibGlzaFwiLGJhdGNoUHVibGlzaDpcImlyaWRpdW1fYmF0Y2hQdWJsaXNoXCIsc3Vic2NyaWJlOlwiaXJpZGl1bV9zdWJzY3JpYmVcIixiYXRjaFN1YnNjcmliZTpcImlyaWRpdW1fYmF0Y2hTdWJzY3JpYmVcIixzdWJzY3JpcHRpb246XCJpcmlkaXVtX3N1YnNjcmlwdGlvblwiLHVuc3Vic2NyaWJlOlwiaXJpZGl1bV91bnN1YnNjcmliZVwiLGJhdGNoVW5zdWJzY3JpYmU6XCJpcmlkaXVtX2JhdGNoVW5zdWJzY3JpYmVcIixiYXRjaEZldGNoTWVzc2FnZXM6XCJpcmlkaXVtX2JhdGNoRmV0Y2hNZXNzYWdlc1wifX07ZXhwb3J0e0MgYXMgUkVMQVlfSlNPTlJQQyxjIGFzIGlzUHVibGlzaE1ldGhvZCxoIGFzIGlzUHVibGlzaFBhcmFtcyxQIGFzIGlzUHVibGlzaFJlcXVlc3QsYiBhcyBpc1N1YnNjcmliZU1ldGhvZCxhIGFzIGlzU3Vic2NyaWJlUGFyYW1zLFIgYXMgaXNTdWJzY3JpYmVSZXF1ZXN0LG0gYXMgaXNTdWJzY3JpcHRpb25NZXRob2QsZCBhcyBpc1N1YnNjcmlwdGlvblBhcmFtcyxTIGFzIGlzU3Vic2NyaXB0aW9uUmVxdWVzdCxvIGFzIGlzVW5zdWJzY3JpYmVNZXRob2QscCBhcyBpc1Vuc3Vic2NyaWJlUGFyYW1zLF8gYXMgaXNVbnN1YnNjcmliZVJlcXVlc3QscSBhcyBwYXJzZVB1Ymxpc2hSZXF1ZXN0LGcgYXMgcGFyc2VTdWJzY3JpYmVSZXF1ZXN0LGsgYXMgcGFyc2VTdWJzY3JpcHRpb25SZXF1ZXN0LEUgYXMgcGFyc2VVbnN1YnNjcmliZVJlcXVlc3R9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/relay-api/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@walletconnect/relay-auth/dist/index.es.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DATA_ENCODING: () => (/* binding */ xt),\n/* harmony export */   DID_DELIMITER: () => (/* binding */ Vt),\n/* harmony export */   DID_METHOD: () => (/* binding */ Jt),\n/* harmony export */   DID_PREFIX: () => (/* binding */ Yt),\n/* harmony export */   JSON_ENCODING: () => (/* binding */ Gt),\n/* harmony export */   JWT_DELIMITER: () => (/* binding */ ut),\n/* harmony export */   JWT_ENCODING: () => (/* binding */ Dt),\n/* harmony export */   JWT_IRIDIUM_ALG: () => (/* binding */ jt),\n/* harmony export */   JWT_IRIDIUM_TYP: () => (/* binding */ Zt),\n/* harmony export */   KEY_PAIR_SEED_LENGTH: () => (/* binding */ Ne),\n/* harmony export */   MULTICODEC_ED25519_BASE: () => (/* binding */ Kt),\n/* harmony export */   MULTICODEC_ED25519_ENCODING: () => (/* binding */ dt),\n/* harmony export */   MULTICODEC_ED25519_HEADER: () => (/* binding */ Wt),\n/* harmony export */   MULTICODEC_ED25519_LENGTH: () => (/* binding */ Fe),\n/* harmony export */   decodeData: () => (/* binding */ Xo),\n/* harmony export */   decodeIss: () => (/* binding */ tn),\n/* harmony export */   decodeJSON: () => (/* binding */ lt),\n/* harmony export */   decodeJWT: () => (/* binding */ sn),\n/* harmony export */   decodeSig: () => (/* binding */ nn),\n/* harmony export */   encodeData: () => (/* binding */ rn),\n/* harmony export */   encodeIss: () => (/* binding */ Qe),\n/* harmony export */   encodeJSON: () => (/* binding */ bt),\n/* harmony export */   encodeJWT: () => (/* binding */ on),\n/* harmony export */   encodeSig: () => (/* binding */ en),\n/* harmony export */   generateKeyPair: () => (/* binding */ Po),\n/* harmony export */   signJWT: () => (/* binding */ Qo),\n/* harmony export */   verifyJWT: () => (/* binding */ ts)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\nfunction En(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function fe(t,...e){if(!En(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function De(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function gn(t,e){fe(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}const it=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _t=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function yn(t){if(typeof t!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function de(t){return typeof t==\"string\"&&(t=yn(t)),fe(t),t}class xn{clone(){return this._cloneInto()}}function Bn(t){const e=r=>t().update(de(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function he(t=32){if(it&&typeof it.getRandomValues==\"function\")return it.getRandomValues(new Uint8Array(t));if(it&&typeof it.randomBytes==\"function\")return it.randomBytes(t);throw new Error(\"crypto.getRandomValues must be defined\")}function Cn(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),a=Number(n>>o&s),u=Number(n&s),i=r?4:0,D=r?0:4;t.setUint32(e+i,a,r),t.setUint32(e+D,u,r)}class An extends xn{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_t(this.buffer)}update(e){De(this);const{view:n,buffer:r,blockLen:o}=this;e=de(e);const s=e.length;for(let a=0;a<s;){const u=Math.min(o-this.pos,s-a);if(u===o){const i=_t(e);for(;o<=s-a;a+=o)this.process(i,a);continue}r.set(e.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){De(this),gn(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let l=a;l<o;l++)n[l]=0;Cn(r,o-8,BigInt(this.length*8),s),this.process(r,0);const u=_t(e),i=this.outputLen;if(i%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const D=i/4,c=this.get();if(D>c.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let l=0;l<D;l++)u.setUint32(4*l,c[l],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:a,pos:u}=this;return e.length=o,e.pos=u,e.finished=s,e.destroyed=a,o%n&&e.buffer.set(r),e}}const wt=BigInt(2**32-1),St=BigInt(32);function le(t,e=!1){return e?{h:Number(t&wt),l:Number(t>>St&wt)}:{h:Number(t>>St&wt)|0,l:Number(t&wt)|0}}function mn(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:s,l:a}=le(t[o],e);[n[o],r[o]]=[s,a]}return[n,r]}const _n=(t,e)=>BigInt(t>>>0)<<St|BigInt(e>>>0),Sn=(t,e,n)=>t>>>n,vn=(t,e,n)=>t<<32-n|e>>>n,In=(t,e,n)=>t>>>n|e<<32-n,Un=(t,e,n)=>t<<32-n|e>>>n,Tn=(t,e,n)=>t<<64-n|e>>>n-32,Fn=(t,e,n)=>t>>>n-32|e<<64-n,Nn=(t,e)=>e,Ln=(t,e)=>t,On=(t,e,n)=>t<<n|e>>>32-n,Hn=(t,e,n)=>e<<n|t>>>32-n,zn=(t,e,n)=>e<<n-32|t>>>64-n,Mn=(t,e,n)=>t<<n-32|e>>>64-n;function qn(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}const $n=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),kn=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Rn=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),jn=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,Zn=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),Gn=(t,e,n,r,o,s)=>e+n+r+o+s+(t/2**32|0)|0,x={fromBig:le,split:mn,toBig:_n,shrSH:Sn,shrSL:vn,rotrSH:In,rotrSL:Un,rotrBH:Tn,rotrBL:Fn,rotr32H:Nn,rotr32L:Ln,rotlSH:On,rotlSL:Hn,rotlBH:zn,rotlBL:Mn,add:qn,add3L:$n,add3H:kn,add4L:Rn,add4H:jn,add5H:Gn,add5L:Zn},[Vn,Yn]=(()=>x.split([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map(t=>BigInt(t))))(),P=new Uint32Array(80),Q=new Uint32Array(80);class Jn extends An{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:o,Ch:s,Cl:a,Dh:u,Dl:i,Eh:D,El:c,Fh:l,Fl:p,Gh:w,Gl:h,Hh:g,Hl:S}=this;return[e,n,r,o,s,a,u,i,D,c,l,p,w,h,g,S]}set(e,n,r,o,s,a,u,i,D,c,l,p,w,h,g,S){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=s|0,this.Cl=a|0,this.Dh=u|0,this.Dl=i|0,this.Eh=D|0,this.El=c|0,this.Fh=l|0,this.Fl=p|0,this.Gh=w|0,this.Gl=h|0,this.Hh=g|0,this.Hl=S|0}process(e,n){for(let d=0;d<16;d++,n+=4)P[d]=e.getUint32(n),Q[d]=e.getUint32(n+=4);for(let d=16;d<80;d++){const m=P[d-15]|0,F=Q[d-15]|0,q=x.rotrSH(m,F,1)^x.rotrSH(m,F,8)^x.shrSH(m,F,7),z=x.rotrSL(m,F,1)^x.rotrSL(m,F,8)^x.shrSL(m,F,7),I=P[d-2]|0,O=Q[d-2]|0,ot=x.rotrSH(I,O,19)^x.rotrBH(I,O,61)^x.shrSH(I,O,6),tt=x.rotrSL(I,O,19)^x.rotrBL(I,O,61)^x.shrSL(I,O,6),st=x.add4L(z,tt,Q[d-7],Q[d-16]),at=x.add4H(st,q,ot,P[d-7],P[d-16]);P[d]=at|0,Q[d]=st|0}let{Ah:r,Al:o,Bh:s,Bl:a,Ch:u,Cl:i,Dh:D,Dl:c,Eh:l,El:p,Fh:w,Fl:h,Gh:g,Gl:S,Hh:v,Hl:L}=this;for(let d=0;d<80;d++){const m=x.rotrSH(l,p,14)^x.rotrSH(l,p,18)^x.rotrBH(l,p,41),F=x.rotrSL(l,p,14)^x.rotrSL(l,p,18)^x.rotrBL(l,p,41),q=l&w^~l&g,z=p&h^~p&S,I=x.add5L(L,F,z,Yn[d],Q[d]),O=x.add5H(I,v,m,q,Vn[d],P[d]),ot=I|0,tt=x.rotrSH(r,o,28)^x.rotrBH(r,o,34)^x.rotrBH(r,o,39),st=x.rotrSL(r,o,28)^x.rotrBL(r,o,34)^x.rotrBL(r,o,39),at=r&s^r&u^s&u,Ct=o&a^o&i^a&i;v=g|0,L=S|0,g=w|0,S=h|0,w=l|0,h=p|0,{h:l,l:p}=x.add(D|0,c|0,O|0,ot|0),D=u|0,c=i|0,u=s|0,i=a|0,s=r|0,a=o|0;const At=x.add3L(ot,st,Ct);r=x.add3H(At,O,tt,at),o=At|0}({h:r,l:o}=x.add(this.Ah|0,this.Al|0,r|0,o|0)),{h:s,l:a}=x.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:u,l:i}=x.add(this.Ch|0,this.Cl|0,u|0,i|0),{h:D,l:c}=x.add(this.Dh|0,this.Dl|0,D|0,c|0),{h:l,l:p}=x.add(this.Eh|0,this.El|0,l|0,p|0),{h:w,l:h}=x.add(this.Fh|0,this.Fl|0,w|0,h|0),{h:g,l:S}=x.add(this.Gh|0,this.Gl|0,g|0,S|0),{h:v,l:L}=x.add(this.Hh|0,this.Hl|0,v|0,L|0),this.set(r,o,s,a,u,i,D,c,l,p,w,h,g,S,v,L)}roundClean(){P.fill(0),Q.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Kn=Bn(()=>new Jn);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vt=BigInt(0),be=BigInt(1),Wn=BigInt(2);function It(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function Ut(t){if(!It(t))throw new Error(\"Uint8Array expected\")}function Tt(t,e){if(typeof e!=\"boolean\")throw new Error(t+\" boolean expected, got \"+e)}const Xn=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function Ft(t){Ut(t);let e=\"\";for(let n=0;n<t.length;n++)e+=Xn[t[n]];return e}function pe(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?vt:BigInt(\"0x\"+t)}const K={_0:48,_9:57,A:65,F:70,a:97,f:102};function we(t){if(t>=K._0&&t<=K._9)return t-K._0;if(t>=K.A&&t<=K.F)return t-(K.A-10);if(t>=K.a&&t<=K.f)return t-(K.a-10)}function Ee(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const a=we(t.charCodeAt(s)),u=we(t.charCodeAt(s+1));if(a===void 0||u===void 0){const i=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+i+'\" at index '+s)}r[o]=a*16+u}return r}function Pn(t){return pe(Ft(t))}function Et(t){return Ut(t),pe(Ft(Uint8Array.from(t).reverse()))}function ge(t,e){return Ee(t.toString(16).padStart(e*2,\"0\"))}function Nt(t,e){return ge(t,e).reverse()}function W(t,e,n){let r;if(typeof e==\"string\")try{r=Ee(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(It(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const o=r.length;if(typeof n==\"number\"&&o!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+o);return r}function ye(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Ut(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];n.set(s,o),o+=s.length}return n}const Lt=t=>typeof t==\"bigint\"&&vt<=t;function Qn(t,e,n){return Lt(t)&&Lt(e)&&Lt(n)&&e<=t&&t<n}function ft(t,e,n,r){if(!Qn(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function tr(t){let e;for(e=0;t>vt;t>>=be,e+=1);return e}const er=t=>(Wn<<BigInt(t-1))-be,nr={bigint:t=>typeof t==\"bigint\",function:t=>typeof t==\"function\",boolean:t=>typeof t==\"boolean\",string:t=>typeof t==\"string\",stringOrUint8Array:t=>typeof t==\"string\"||It(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t==\"function\"&&Number.isSafeInteger(t.outputLen)};function Ot(t,e,n={}){const r=(o,s,a)=>{const u=nr[s];if(typeof u!=\"function\")throw new Error(\"invalid validator function\");const i=t[o];if(!(a&&i===void 0)&&!u(i,t))throw new Error(\"param \"+String(o)+\" is invalid. Expected \"+s+\", got \"+i)};for(const[o,s]of Object.entries(e))r(o,s,!1);for(const[o,s]of Object.entries(n))r(o,s,!0);return t}function xe(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t(n,...r);return e.set(n,s),s}}const M=BigInt(0),N=BigInt(1),nt=BigInt(2),rr=BigInt(3),Ht=BigInt(4),Be=BigInt(5),Ce=BigInt(8);function H(t,e){const n=t%e;return n>=M?n:e+n}function or(t,e,n){if(e<M)throw new Error(\"invalid exponent, negatives unsupported\");if(n<=M)throw new Error(\"invalid modulus\");if(n===N)return M;let r=N;for(;e>M;)e&N&&(r=r*t%n),t=t*t%n,e>>=N;return r}function J(t,e,n){let r=t;for(;e-- >M;)r*=r,r%=n;return r}function Ae(t,e){if(t===M)throw new Error(\"invert: expected non-zero number\");if(e<=M)throw new Error(\"invert: expected positive modulus, got \"+e);let n=H(t,e),r=e,o=M,s=N;for(;n!==M;){const u=r/n,i=r%n,D=o-s*u;r=n,n=i,o=s,s=D}if(r!==N)throw new Error(\"invert: does not exist\");return H(o,e)}function sr(t){const e=(t-N)/nt;let n,r,o;for(n=t-N,r=0;n%nt===M;n/=nt,r++);for(o=nt;o<t&&or(o,e,t)!==t-N;o++)if(o>1e3)throw new Error(\"Cannot find square root: likely non-prime P\");if(r===1){const a=(t+N)/Ht;return function(i,D){const c=i.pow(D,a);if(!i.eql(i.sqr(c),D))throw new Error(\"Cannot find square root\");return c}}const s=(n+N)/nt;return function(u,i){if(u.pow(i,e)===u.neg(u.ONE))throw new Error(\"Cannot find square root\");let D=r,c=u.pow(u.mul(u.ONE,o),n),l=u.pow(i,s),p=u.pow(i,n);for(;!u.eql(p,u.ONE);){if(u.eql(p,u.ZERO))return u.ZERO;let w=1;for(let g=u.sqr(p);w<D&&!u.eql(g,u.ONE);w++)g=u.sqr(g);const h=u.pow(c,N<<BigInt(D-w-1));c=u.sqr(h),l=u.mul(l,h),p=u.mul(p,c),D=w}return l}}function ir(t){if(t%Ht===rr){const e=(t+N)/Ht;return function(r,o){const s=r.pow(o,e);if(!r.eql(r.sqr(s),o))throw new Error(\"Cannot find square root\");return s}}if(t%Ce===Be){const e=(t-Be)/Ce;return function(r,o){const s=r.mul(o,nt),a=r.pow(s,e),u=r.mul(o,a),i=r.mul(r.mul(u,nt),a),D=r.mul(u,r.sub(i,r.ONE));if(!r.eql(r.sqr(D),o))throw new Error(\"Cannot find square root\");return D}}return sr(t)}const ur=(t,e)=>(H(t,e)&N)===N,cr=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function ar(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},n=cr.reduce((r,o)=>(r[o]=\"function\",r),e);return Ot(t,n)}function fr(t,e,n){if(n<M)throw new Error(\"invalid exponent, negatives unsupported\");if(n===M)return t.ONE;if(n===N)return e;let r=t.ONE,o=e;for(;n>M;)n&N&&(r=t.mul(r,o)),o=t.sqr(o),n>>=N;return r}function Dr(t,e){const n=new Array(e.length),r=e.reduce((s,a,u)=>t.is0(a)?s:(n[u]=s,t.mul(s,a)),t.ONE),o=t.inv(r);return e.reduceRight((s,a,u)=>t.is0(a)?s:(n[u]=t.mul(s,n[u]),t.mul(s,a)),o),n}function me(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function _e(t,e,n=!1,r={}){if(t<=M)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);const{nBitLength:o,nByteLength:s}=me(t,e);if(s>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let a;const u=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:s,MASK:er(o),ZERO:M,ONE:N,create:i=>H(i,t),isValid:i=>{if(typeof i!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof i);return M<=i&&i<t},is0:i=>i===M,isOdd:i=>(i&N)===N,neg:i=>H(-i,t),eql:(i,D)=>i===D,sqr:i=>H(i*i,t),add:(i,D)=>H(i+D,t),sub:(i,D)=>H(i-D,t),mul:(i,D)=>H(i*D,t),pow:(i,D)=>fr(u,i,D),div:(i,D)=>H(i*Ae(D,t),t),sqrN:i=>i*i,addN:(i,D)=>i+D,subN:(i,D)=>i-D,mulN:(i,D)=>i*D,inv:i=>Ae(i,t),sqrt:r.sqrt||(i=>(a||(a=ir(t)),a(u,i))),invertBatch:i=>Dr(u,i),cmov:(i,D,c)=>c?D:i,toBytes:i=>n?Nt(i,s):ge(i,s),fromBytes:i=>{if(i.length!==s)throw new Error(\"Field.fromBytes: expected \"+s+\" bytes, got \"+i.length);return n?Et(i):Pn(i)}});return Object.freeze(u)}const Se=BigInt(0),gt=BigInt(1);function zt(t,e){const n=e.negate();return t?n:e}function ve(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function Mt(t,e){ve(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function dr(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function hr(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const qt=new WeakMap,Ie=new WeakMap;function $t(t){return Ie.get(t)||1}function lr(t,e){return{constTimeNegate:zt,hasPrecomputes(n){return $t(n)!==1},unsafeLadder(n,r,o=t.ZERO){let s=n;for(;r>Se;)r&gt&&(o=o.add(s)),s=s.double(),r>>=gt;return o},precomputeWindow(n,r){const{windows:o,windowSize:s}=Mt(r,e),a=[];let u=n,i=u;for(let D=0;D<o;D++){i=u,a.push(i);for(let c=1;c<s;c++)i=i.add(u),a.push(i);u=i.double()}return a},wNAF(n,r,o){const{windows:s,windowSize:a}=Mt(n,e);let u=t.ZERO,i=t.BASE;const D=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let p=0;p<s;p++){const w=p*a;let h=Number(o&D);o>>=l,h>a&&(h-=c,o+=gt);const g=w,S=w+Math.abs(h)-1,v=p%2!==0,L=h<0;h===0?i=i.add(zt(v,r[g])):u=u.add(zt(L,r[S]))}return{p:u,f:i}},wNAFUnsafe(n,r,o,s=t.ZERO){const{windows:a,windowSize:u}=Mt(n,e),i=BigInt(2**n-1),D=2**n,c=BigInt(n);for(let l=0;l<a;l++){const p=l*u;if(o===Se)break;let w=Number(o&i);if(o>>=c,w>u&&(w-=D,o+=gt),w===0)continue;let h=r[p+Math.abs(w)-1];w<0&&(h=h.negate()),s=s.add(h)}return s},getPrecomputes(n,r,o){let s=qt.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&qt.set(r,o(s))),s},wNAFCached(n,r,o){const s=$t(n);return this.wNAF(s,this.getPrecomputes(s,n,o),r)},wNAFCachedUnsafe(n,r,o,s){const a=$t(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,o),r,s)},setWindowSize(n,r){ve(r,e),Ie.set(n,r),qt.delete(n)}}}function br(t,e,n,r){if(dr(n,t),hr(r,e),n.length!==r.length)throw new Error(\"arrays of points and scalars must have equal length\");const o=t.ZERO,s=tr(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,u=(1<<a)-1,i=new Array(u+1).fill(o),D=Math.floor((e.BITS-1)/a)*a;let c=o;for(let l=D;l>=0;l-=a){i.fill(o);for(let w=0;w<r.length;w++){const h=r[w],g=Number(h>>BigInt(l)&BigInt(u));i[g]=i[g].add(n[w])}let p=o;for(let w=i.length-1,h=o;w>0;w--)h=h.add(i[w]),p=p.add(h);if(c=c.add(p),l!==0)for(let w=0;w<a;w++)c=c.double()}return c}function pr(t){return ar(t.Fp),Ot(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...me(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const G=BigInt(0),j=BigInt(1),yt=BigInt(2),wr=BigInt(8),Er={zip215:!0};function gr(t){const e=pr(t);return Ot(t,{hash:\"function\",a:\"bigint\",d:\"bigint\",randomBytes:\"function\"},{adjustScalarBytes:\"function\",domain:\"function\",uvRatio:\"function\",mapToCurve:\"function\"}),Object.freeze({...e})}function yr(t){const e=gr(t),{Fp:n,n:r,prehash:o,hash:s,randomBytes:a,nByteLength:u,h:i}=e,D=yt<<BigInt(u*8)-j,c=n.create,l=_e(e.n,e.nBitLength),p=e.uvRatio||((y,f)=>{try{return{isValid:!0,value:n.sqrt(y*n.inv(f))}}catch{return{isValid:!1,value:G}}}),w=e.adjustScalarBytes||(y=>y),h=e.domain||((y,f,b)=>{if(Tt(\"phflag\",b),f.length||b)throw new Error(\"Contexts/pre-hash are not supported\");return y});function g(y,f){ft(\"coordinate \"+y,f,G,D)}function S(y){if(!(y instanceof d))throw new Error(\"ExtendedPoint expected\")}const v=xe((y,f)=>{const{ex:b,ey:E,ez:B}=y,C=y.is0();f==null&&(f=C?wr:n.inv(B));const A=c(b*f),U=c(E*f),_=c(B*f);if(C)return{x:G,y:j};if(_!==j)throw new Error(\"invZ was invalid\");return{x:A,y:U}}),L=xe(y=>{const{a:f,d:b}=e;if(y.is0())throw new Error(\"bad point: ZERO\");const{ex:E,ey:B,ez:C,et:A}=y,U=c(E*E),_=c(B*B),T=c(C*C),$=c(T*T),R=c(U*f),V=c(T*c(R+_)),Y=c($+c(b*c(U*_)));if(V!==Y)throw new Error(\"bad point: equation left != right (1)\");const Z=c(E*B),X=c(C*A);if(Z!==X)throw new Error(\"bad point: equation left != right (2)\");return!0});class d{constructor(f,b,E,B){this.ex=f,this.ey=b,this.ez=E,this.et=B,g(\"x\",f),g(\"y\",b),g(\"z\",E),g(\"t\",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(f){if(f instanceof d)throw new Error(\"extended point not allowed\");const{x:b,y:E}=f||{};return g(\"x\",b),g(\"y\",E),new d(b,E,j,c(b*E))}static normalizeZ(f){const b=n.invertBatch(f.map(E=>E.ez));return f.map((E,B)=>E.toAffine(b[B])).map(d.fromAffine)}static msm(f,b){return br(d,l,f,b)}_setWindowSize(f){q.setWindowSize(this,f)}assertValidity(){L(this)}equals(f){S(f);const{ex:b,ey:E,ez:B}=this,{ex:C,ey:A,ez:U}=f,_=c(b*U),T=c(C*B),$=c(E*U),R=c(A*B);return _===T&&$===R}is0(){return this.equals(d.ZERO)}negate(){return new d(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:f}=e,{ex:b,ey:E,ez:B}=this,C=c(b*b),A=c(E*E),U=c(yt*c(B*B)),_=c(f*C),T=b+E,$=c(c(T*T)-C-A),R=_+A,V=R-U,Y=_-A,Z=c($*V),X=c(R*Y),et=c($*Y),pt=c(V*R);return new d(Z,X,pt,et)}add(f){S(f);const{a:b,d:E}=e,{ex:B,ey:C,ez:A,et:U}=this,{ex:_,ey:T,ez:$,et:R}=f;if(b===BigInt(-1)){const re=c((C-B)*(T+_)),oe=c((C+B)*(T-_)),mt=c(oe-re);if(mt===G)return this.double();const se=c(A*yt*R),ie=c(U*yt*$),ue=ie+se,ce=oe+re,ae=ie-se,Dn=c(ue*mt),dn=c(ce*ae),hn=c(ue*ae),ln=c(mt*ce);return new d(Dn,dn,ln,hn)}const V=c(B*_),Y=c(C*T),Z=c(U*E*R),X=c(A*$),et=c((B+C)*(_+T)-V-Y),pt=X-Z,ee=X+Z,ne=c(Y-b*V),un=c(et*pt),cn=c(ee*ne),an=c(et*ne),fn=c(pt*ee);return new d(un,cn,fn,an)}subtract(f){return this.add(f.negate())}wNAF(f){return q.wNAFCached(this,f,d.normalizeZ)}multiply(f){const b=f;ft(\"scalar\",b,j,r);const{p:E,f:B}=this.wNAF(b);return d.normalizeZ([E,B])[0]}multiplyUnsafe(f,b=d.ZERO){const E=f;return ft(\"scalar\",E,G,r),E===G?F:this.is0()||E===j?this:q.wNAFCachedUnsafe(this,E,d.normalizeZ,b)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return q.unsafeLadder(this,r).is0()}toAffine(f){return v(this,f)}clearCofactor(){const{h:f}=e;return f===j?this:this.multiplyUnsafe(f)}static fromHex(f,b=!1){const{d:E,a:B}=e,C=n.BYTES;f=W(\"pointHex\",f,C),Tt(\"zip215\",b);const A=f.slice(),U=f[C-1];A[C-1]=U&-129;const _=Et(A),T=b?D:n.ORDER;ft(\"pointHex.y\",_,G,T);const $=c(_*_),R=c($-j),V=c(E*$-B);let{isValid:Y,value:Z}=p(R,V);if(!Y)throw new Error(\"Point.fromHex: invalid y coordinate\");const X=(Z&j)===j,et=(U&128)!==0;if(!b&&Z===G&&et)throw new Error(\"Point.fromHex: x=0 and x_0=1\");return et!==X&&(Z=c(-Z)),d.fromAffine({x:Z,y:_})}static fromPrivateKey(f){return O(f).point}toRawBytes(){const{x:f,y:b}=this.toAffine(),E=Nt(b,n.BYTES);return E[E.length-1]|=f&j?128:0,E}toHex(){return Ft(this.toRawBytes())}}d.BASE=new d(e.Gx,e.Gy,j,c(e.Gx*e.Gy)),d.ZERO=new d(G,j,j,G);const{BASE:m,ZERO:F}=d,q=lr(d,u*8);function z(y){return H(y,r)}function I(y){return z(Et(y))}function O(y){const f=n.BYTES;y=W(\"private key\",y,f);const b=W(\"hashed private key\",s(y),2*f),E=w(b.slice(0,f)),B=b.slice(f,2*f),C=I(E),A=m.multiply(C),U=A.toRawBytes();return{head:E,prefix:B,scalar:C,point:A,pointBytes:U}}function ot(y){return O(y).pointBytes}function tt(y=new Uint8Array,...f){const b=ye(...f);return I(s(h(b,W(\"context\",y),!!o)))}function st(y,f,b={}){y=W(\"message\",y),o&&(y=o(y));const{prefix:E,scalar:B,pointBytes:C}=O(f),A=tt(b.context,E,y),U=m.multiply(A).toRawBytes(),_=tt(b.context,U,C,y),T=z(A+_*B);ft(\"signature.s\",T,G,r);const $=ye(U,Nt(T,n.BYTES));return W(\"result\",$,n.BYTES*2)}const at=Er;function Ct(y,f,b,E=at){const{context:B,zip215:C}=E,A=n.BYTES;y=W(\"signature\",y,2*A),f=W(\"message\",f),b=W(\"publicKey\",b,A),C!==void 0&&Tt(\"zip215\",C),o&&(f=o(f));const U=Et(y.slice(A,2*A));let _,T,$;try{_=d.fromHex(b,C),T=d.fromHex(y.slice(0,A),C),$=m.multiplyUnsafe(U)}catch{return!1}if(!C&&_.isSmallOrder())return!1;const R=tt(B,T.toRawBytes(),_.toRawBytes(),f);return T.add(_.multiplyUnsafe(R)).subtract($).clearCofactor().equals(d.ZERO)}return m._setWindowSize(8),{CURVE:e,getPublicKey:ot,sign:st,verify:Ct,ExtendedPoint:d,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>a(n.BYTES),precompute(y=8,f=d.BASE){return f._setWindowSize(y),f.multiply(BigInt(3)),f}}}}BigInt(0),BigInt(1);const kt=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\"),Ue=BigInt(\"19681161376707505956807079304988542015446066515923890162744021073123829784752\");BigInt(0);const xr=BigInt(1),Te=BigInt(2);BigInt(3);const Br=BigInt(5),Cr=BigInt(8);function Ar(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=kt,u=t*t%s*t%s,i=J(u,Te,s)*u%s,D=J(i,xr,s)*t%s,c=J(D,Br,s)*D%s,l=J(c,e,s)*c%s,p=J(l,n,s)*l%s,w=J(p,r,s)*p%s,h=J(w,o,s)*w%s,g=J(h,o,s)*w%s,S=J(g,e,s)*c%s;return{pow_p_5_8:J(S,Te,s)*t%s,b2:u}}function mr(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function _r(t,e){const n=kt,r=H(e*e*e,n),o=H(r*r*e,n),s=Ar(t*o).pow_p_5_8;let a=H(t*r*s,n);const u=H(e*a*a,n),i=a,D=H(a*Ue,n),c=u===t,l=u===H(-t,n),p=u===H(-t*Ue,n);return c&&(a=i),(l||p)&&(a=D),ur(a,n)&&(a=H(-a,n)),{isValid:c||l,value:a}}const Sr=(()=>_e(kt,void 0,!0))(),vr=(()=>({a:BigInt(-1),d:BigInt(\"37095705934669439343138083508754565189542113879843219016388785533085940283555\"),Fp:Sr,n:BigInt(\"7237005577332262213973186563042994240857116359379907606001950938285454250989\"),h:Cr,Gx:BigInt(\"15112221349535400772501151409588531511454012693041857206046113283949847762202\"),Gy:BigInt(\"46316835694926478169428394003475163141307993866256225615783033603165251855960\"),hash:Kn,randomBytes:he,adjustScalarBytes:mr,uvRatio:_r}))(),Rt=(()=>yr(vr))(),jt=\"EdDSA\",Zt=\"JWT\",ut=\".\",Dt=\"base64url\",Gt=\"utf8\",xt=\"utf8\",Vt=\":\",Yt=\"did\",Jt=\"key\",dt=\"base58btc\",Kt=\"z\",Wt=\"K36\",Fe=32,Ne=32;function Xt(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Le(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xt(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Oe(t,e){e||(e=t.reduce((o,s)=>o+s.length,0));const n=Le(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return Xt(n)}function Ir(t,e){if(t.length>=255)throw new TypeError(\"Alphabet too long\");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+\" is ambiguous\");n[a]=o}var u=t.length,i=t.charAt(0),D=Math.log(u)/Math.log(256),c=Math.log(256)/Math.log(u);function l(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(h.length===0)return\"\";for(var g=0,S=0,v=0,L=h.length;v!==L&&h[v]===0;)v++,g++;for(var d=(L-v)*c+1>>>0,m=new Uint8Array(d);v!==L;){for(var F=h[v],q=0,z=d-1;(F!==0||q<S)&&z!==-1;z--,q++)F+=256*m[z]>>>0,m[z]=F%u>>>0,F=F/u>>>0;if(F!==0)throw new Error(\"Non-zero carry\");S=q,v++}for(var I=d-S;I!==d&&m[I]===0;)I++;for(var O=i.repeat(g);I<d;++I)O+=t.charAt(m[I]);return O}function p(h){if(typeof h!=\"string\")throw new TypeError(\"Expected String\");if(h.length===0)return new Uint8Array;var g=0;if(h[g]!==\" \"){for(var S=0,v=0;h[g]===i;)S++,g++;for(var L=(h.length-g)*D+1>>>0,d=new Uint8Array(L);h[g];){var m=n[h.charCodeAt(g)];if(m===255)return;for(var F=0,q=L-1;(m!==0||F<v)&&q!==-1;q--,F++)m+=u*d[q]>>>0,d[q]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error(\"Non-zero carry\");v=F,g++}if(h[g]!==\" \"){for(var z=L-v;z!==L&&d[z]===0;)z++;for(var I=new Uint8Array(S+(L-z)),O=S;z!==L;)I[O++]=d[z++];return I}}}function w(h){var g=p(h);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:p,decode:w}}var Ur=Ir,Tr=Ur;const He=t=>{if(t instanceof Uint8Array&&t.constructor.name===\"Uint8Array\")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error(\"Unknown type, must be binary type\")},Fr=t=>new TextEncoder().encode(t),Nr=t=>new TextDecoder().decode(t);class Lr{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class Or{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return ze(this,e)}}class Hr{constructor(e){this.decoders=e}or(e){return ze(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ze=(t,e)=>new Hr({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class zr{constructor(e,n,r,o){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=o,this.encoder=new Lr(e,n,r),this.decoder=new Or(e,n,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Bt=({name:t,prefix:e,encode:n,decode:r})=>new zr(t,e,n,r),ht=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:o}=Tr(n,e);return Bt({prefix:t,name:e,encode:r,decode:s=>He(o(s))})},Mr=(t,e,n,r)=>{const o={};for(let c=0;c<e.length;++c)o[e[c]]=c;let s=t.length;for(;t[s-1]===\"=\";)--s;const a=new Uint8Array(s*n/8|0);let u=0,i=0,D=0;for(let c=0;c<s;++c){const l=o[t[c]];if(l===void 0)throw new SyntaxError(`Non-${r} character`);i=i<<n|l,u+=n,u>=8&&(u-=8,a[D++]=255&i>>u)}if(u>=n||255&i<<8-u)throw new SyntaxError(\"Unexpected end of data\");return a},qr=(t,e,n)=>{const r=e[e.length-1]===\"=\",o=(1<<n)-1;let s=\"\",a=0,u=0;for(let i=0;i<t.length;++i)for(u=u<<8|t[i],a+=8;a>n;)a-=n,s+=e[o&u>>a];if(a&&(s+=e[o&u<<n-a]),r)for(;s.length*n&7;)s+=\"=\";return s},k=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Bt({prefix:e,name:t,encode(o){return qr(o,r,n)},decode(o){return Mr(o,r,n,t)}}),$r=Bt({prefix:\"\\0\",name:\"identity\",encode:t=>Nr(t),decode:t=>Fr(t)});var kr=Object.freeze({__proto__:null,identity:$r});const Rr=k({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var jr=Object.freeze({__proto__:null,base2:Rr});const Zr=k({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var Gr=Object.freeze({__proto__:null,base8:Zr});const Vr=ht({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var Yr=Object.freeze({__proto__:null,base10:Vr});const Jr=k({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),Kr=k({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var Wr=Object.freeze({__proto__:null,base16:Jr,base16upper:Kr});const Xr=k({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),Pr=k({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),Qr=k({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),to=k({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),eo=k({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),no=k({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),ro=k({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),oo=k({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),so=k({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var io=Object.freeze({__proto__:null,base32:Xr,base32upper:Pr,base32pad:Qr,base32padupper:to,base32hex:eo,base32hexupper:no,base32hexpad:ro,base32hexpadupper:oo,base32z:so});const uo=ht({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),co=ht({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var ao=Object.freeze({__proto__:null,base36:uo,base36upper:co});const fo=ht({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),Do=ht({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var ho=Object.freeze({__proto__:null,base58btc:fo,base58flickr:Do});const lo=k({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),bo=k({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),po=k({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),wo=k({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var Eo=Object.freeze({__proto__:null,base64:lo,base64pad:bo,base64url:po,base64urlpad:wo});const Me=Array.from(\"\\u{1F680}\\u{1FA90}\\u2604\\u{1F6F0}\\u{1F30C}\\u{1F311}\\u{1F312}\\u{1F313}\\u{1F314}\\u{1F315}\\u{1F316}\\u{1F317}\\u{1F318}\\u{1F30D}\\u{1F30F}\\u{1F30E}\\u{1F409}\\u2600\\u{1F4BB}\\u{1F5A5}\\u{1F4BE}\\u{1F4BF}\\u{1F602}\\u2764\\u{1F60D}\\u{1F923}\\u{1F60A}\\u{1F64F}\\u{1F495}\\u{1F62D}\\u{1F618}\\u{1F44D}\\u{1F605}\\u{1F44F}\\u{1F601}\\u{1F525}\\u{1F970}\\u{1F494}\\u{1F496}\\u{1F499}\\u{1F622}\\u{1F914}\\u{1F606}\\u{1F644}\\u{1F4AA}\\u{1F609}\\u263A\\u{1F44C}\\u{1F917}\\u{1F49C}\\u{1F614}\\u{1F60E}\\u{1F607}\\u{1F339}\\u{1F926}\\u{1F389}\\u{1F49E}\\u270C\\u2728\\u{1F937}\\u{1F631}\\u{1F60C}\\u{1F338}\\u{1F64C}\\u{1F60B}\\u{1F497}\\u{1F49A}\\u{1F60F}\\u{1F49B}\\u{1F642}\\u{1F493}\\u{1F929}\\u{1F604}\\u{1F600}\\u{1F5A4}\\u{1F603}\\u{1F4AF}\\u{1F648}\\u{1F447}\\u{1F3B6}\\u{1F612}\\u{1F92D}\\u2763\\u{1F61C}\\u{1F48B}\\u{1F440}\\u{1F62A}\\u{1F611}\\u{1F4A5}\\u{1F64B}\\u{1F61E}\\u{1F629}\\u{1F621}\\u{1F92A}\\u{1F44A}\\u{1F973}\\u{1F625}\\u{1F924}\\u{1F449}\\u{1F483}\\u{1F633}\\u270B\\u{1F61A}\\u{1F61D}\\u{1F634}\\u{1F31F}\\u{1F62C}\\u{1F643}\\u{1F340}\\u{1F337}\\u{1F63B}\\u{1F613}\\u2B50\\u2705\\u{1F97A}\\u{1F308}\\u{1F608}\\u{1F918}\\u{1F4A6}\\u2714\\u{1F623}\\u{1F3C3}\\u{1F490}\\u2639\\u{1F38A}\\u{1F498}\\u{1F620}\\u261D\\u{1F615}\\u{1F33A}\\u{1F382}\\u{1F33B}\\u{1F610}\\u{1F595}\\u{1F49D}\\u{1F64A}\\u{1F639}\\u{1F5E3}\\u{1F4AB}\\u{1F480}\\u{1F451}\\u{1F3B5}\\u{1F91E}\\u{1F61B}\\u{1F534}\\u{1F624}\\u{1F33C}\\u{1F62B}\\u26BD\\u{1F919}\\u2615\\u{1F3C6}\\u{1F92B}\\u{1F448}\\u{1F62E}\\u{1F646}\\u{1F37B}\\u{1F343}\\u{1F436}\\u{1F481}\\u{1F632}\\u{1F33F}\\u{1F9E1}\\u{1F381}\\u26A1\\u{1F31E}\\u{1F388}\\u274C\\u270A\\u{1F44B}\\u{1F630}\\u{1F928}\\u{1F636}\\u{1F91D}\\u{1F6B6}\\u{1F4B0}\\u{1F353}\\u{1F4A2}\\u{1F91F}\\u{1F641}\\u{1F6A8}\\u{1F4A8}\\u{1F92C}\\u2708\\u{1F380}\\u{1F37A}\\u{1F913}\\u{1F619}\\u{1F49F}\\u{1F331}\\u{1F616}\\u{1F476}\\u{1F974}\\u25B6\\u27A1\\u2753\\u{1F48E}\\u{1F4B8}\\u2B07\\u{1F628}\\u{1F31A}\\u{1F98B}\\u{1F637}\\u{1F57A}\\u26A0\\u{1F645}\\u{1F61F}\\u{1F635}\\u{1F44E}\\u{1F932}\\u{1F920}\\u{1F927}\\u{1F4CC}\\u{1F535}\\u{1F485}\\u{1F9D0}\\u{1F43E}\\u{1F352}\\u{1F617}\\u{1F911}\\u{1F30A}\\u{1F92F}\\u{1F437}\\u260E\\u{1F4A7}\\u{1F62F}\\u{1F486}\\u{1F446}\\u{1F3A4}\\u{1F647}\\u{1F351}\\u2744\\u{1F334}\\u{1F4A3}\\u{1F438}\\u{1F48C}\\u{1F4CD}\\u{1F940}\\u{1F922}\\u{1F445}\\u{1F4A1}\\u{1F4A9}\\u{1F450}\\u{1F4F8}\\u{1F47B}\\u{1F910}\\u{1F92E}\\u{1F3BC}\\u{1F975}\\u{1F6A9}\\u{1F34E}\\u{1F34A}\\u{1F47C}\\u{1F48D}\\u{1F4E3}\\u{1F942}\"),go=Me.reduce((t,e,n)=>(t[n]=e,t),[]),yo=Me.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function xo(t){return t.reduce((e,n)=>(e+=go[n],e),\"\")}function Bo(t){const e=[];for(const n of t){const r=yo[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Co=Bt({prefix:\"\\u{1F680}\",name:\"base256emoji\",encode:xo,decode:Bo});var Ao=Object.freeze({__proto__:null,base256emoji:Co}),mo=$e,qe=128,_o=127,So=~_o,vo=Math.pow(2,31);function $e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=vo;)e[n++]=t&255|qe,t/=128;for(;t&So;)e[n++]=t&255|qe,t>>>=7;return e[n]=t|0,$e.bytes=n-r+1,e}var Io=Pt,Uo=128,ke=127;function Pt(t,r){var n=0,r=r||0,o=0,s=r,a,u=t.length;do{if(s>=u)throw Pt.bytes=0,new RangeError(\"Could not decode varint\");a=t[s++],n+=o<28?(a&ke)<<o:(a&ke)*Math.pow(2,o),o+=7}while(a>=Uo);return Pt.bytes=s-r,n}var To=Math.pow(2,7),Fo=Math.pow(2,14),No=Math.pow(2,21),Lo=Math.pow(2,28),Oo=Math.pow(2,35),Ho=Math.pow(2,42),zo=Math.pow(2,49),Mo=Math.pow(2,56),qo=Math.pow(2,63),$o=function(t){return t<To?1:t<Fo?2:t<No?3:t<Lo?4:t<Oo?5:t<Ho?6:t<zo?7:t<Mo?8:t<qo?9:10},ko={encode:mo,decode:Io,encodingLength:$o},Re=ko;const je=(t,e,n=0)=>(Re.encode(t,e,n),e),Ze=t=>Re.encodingLength(t),Qt=(t,e)=>{const n=e.byteLength,r=Ze(t),o=r+Ze(n),s=new Uint8Array(o+n);return je(t,s,0),je(n,s,r),s.set(e,o),new Ro(t,n,e,s)};class Ro{constructor(e,n,r,o){this.code=e,this.size=n,this.digest=r,this.bytes=o}}const Ge=({name:t,code:e,encode:n})=>new jo(t,e,n);class jo{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Qt(this.code,n):n.then(r=>Qt(this.code,r))}else throw Error(\"Unknown type, must be binary type\")}}const Ve=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Zo=Ge({name:\"sha2-256\",code:18,encode:Ve(\"SHA-256\")}),Go=Ge({name:\"sha2-512\",code:19,encode:Ve(\"SHA-512\")});var Vo=Object.freeze({__proto__:null,sha256:Zo,sha512:Go});const Ye=0,Yo=\"identity\",Je=He,Jo=t=>Qt(Ye,Je(t)),Ko={code:Ye,name:Yo,encode:Je,digest:Jo};var Wo=Object.freeze({__proto__:null,identity:Ko});new TextEncoder,new TextDecoder;const Ke={...kr,...jr,...Gr,...Yr,...Wr,...io,...ao,...ho,...Eo,...Ao};({...Vo,...Wo});function We(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Xe=We(\"utf8\",\"u\",t=>\"u\"+new TextDecoder(\"utf8\").decode(t),t=>new TextEncoder().encode(t.substring(1))),te=We(\"ascii\",\"a\",t=>{let e=\"a\";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Le(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Pe={utf8:Xe,\"utf-8\":Xe,hex:Ke.base16,latin1:te,ascii:te,binary:te,...Ke};function ct(t,e=\"utf8\"){const n=Pe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString(\"utf8\"):n.encoder.encode(t).substring(1)}function rt(t,e=\"utf8\"){const n=Pe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xt(globalThis.Buffer.from(t,\"utf-8\")):n.decoder.decode(`${n.prefix}${t}`)}function lt(t){return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonParse)(ct(rt(t,Dt),Gt))}function bt(t){return ct(rt((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)(t),Gt),Dt)}function Qe(t){const e=rt(Wt,dt),n=Kt+ct(Oe([e,t]),dt);return[Yt,Jt,n].join(Vt)}function tn(t){const[e,n,r]=t.split(Vt);if(e!==Yt||n!==Jt)throw new Error('Issuer must be a DID with method \"key\"');if(r.slice(0,1)!==Kt)throw new Error(\"Issuer must be a key in mulicodec format\");const o=rt(r.slice(1),dt);if(ct(o.slice(0,2),dt)!==Wt)throw new Error('Issuer must be a public key with type \"Ed25519\"');const s=o.slice(2);if(s.length!==Fe)throw new Error(\"Issuer must be a public key with length 32 bytes\");return s}function en(t){return ct(t,Dt)}function nn(t){return rt(t,Dt)}function rn(t){return rt([bt(t.header),bt(t.payload)].join(ut),xt)}function Xo(t){const e=ct(t,xt).split(ut),n=lt(e[0]),r=lt(e[1]);return{header:n,payload:r}}function on(t){return[bt(t.header),bt(t.payload),en(t.signature)].join(ut)}function sn(t){const e=t.split(ut),n=lt(e[0]),r=lt(e[1]),o=nn(e[2]),s=rt(e.slice(0,2).join(ut),xt);return{header:n,payload:r,signature:o,data:s}}function Po(t=he(Ne)){const e=Rt.getPublicKey(t);return{secretKey:Oe([t,e]),publicKey:e}}async function Qo(t,e,n,r,o=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.fromMiliseconds)(Date.now())){const s={alg:jt,typ:Zt},a=Qe(r.publicKey),u=o+n,i={iss:a,sub:t,aud:e,iat:o,exp:u},D=rn({header:s,payload:i}),c=Rt.sign(D,r.secretKey.slice(0,32));return on({header:s,payload:i,signature:c})}async function ts(t){const{header:e,payload:n,data:r,signature:o}=sn(t);if(e.alg!==jt||e.typ!==Zt)throw new Error(\"JWT must use EdDSA algorithm\");const s=tn(n.iss);return Rt.verify(o,r,s)}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvcmVsYXktYXV0aC9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5SSxlQUFlLHlGQUF5RixvQkFBb0IsaURBQWlELGtIQUFrSCxvQkFBb0IsbUVBQW1FLDBFQUEwRSxpQkFBaUIsTUFBTSxvQkFBb0IsMEZBQTBGLHFGQUFxRixtSUFBbUksZUFBZSxvRkFBb0YsbURBQW1ELGVBQWUsNkNBQTZDLFNBQVMsUUFBUSwwQkFBMEIsZUFBZSw0Q0FBNEMsd0VBQXdFLGtCQUFrQiwwRkFBMEYsa0VBQWtFLDBEQUEwRCxxQkFBcUIsa0VBQWtFLHVGQUF1RiwwQ0FBMEMsb0JBQW9CLHFCQUFxQiwwTEFBMEwsVUFBVSxTQUFTLE1BQU0sMkJBQTJCLE1BQU0sUUFBUSxpQkFBaUIsWUFBWSxJQUFJLEVBQUUsaUNBQWlDLFVBQVUsY0FBYyxLQUFLLE9BQU8sdUJBQXVCLFNBQVMsZ0dBQWdHLG9EQUFvRCxjQUFjLHFDQUFxQyxNQUFNLGtDQUFrQyxNQUFNLElBQUksTUFBTSxNQUFNLHVGQUF1RixZQUFZLElBQUksV0FBVyxvREFBb0QsK0JBQStCLHNFQUFzRSx5QkFBeUIsb0VBQW9FLFlBQVksSUFBSSw0QkFBNEIsU0FBUyxNQUFNLHFCQUFxQixNQUFNLG1CQUFtQixxQkFBcUIsd0JBQXdCLGNBQWMsaURBQWlELE1BQU0sMERBQTBELE1BQU0sNkVBQTZFLHVDQUF1QyxvQkFBb0IsVUFBVSxrQ0FBa0MsRUFBRSx1Q0FBdUMsb0JBQW9CLDREQUE0RCxZQUFZLFdBQVcsS0FBSyxNQUFNLFFBQVEsWUFBWSxrQkFBa0IsWUFBWSxnVkFBZ1YscUJBQXFCLHdCQUF3QixPQUFPLDJCQUEyQixxUUFBcVEsa05BQWtOLDB1REFBMHVELG9CQUFvQixjQUFjLG9VQUFvVSxNQUFNLE1BQU0sZ0ZBQWdGLE1BQU0sd0NBQXdDLHFDQUFxQyxnTUFBZ00sYUFBYSxZQUFZ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QU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxxQkFBcUIsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sNEZBQTRGLGVBQWUsd0NBQXdDLGVBQWUsV0FBVyxrQkFBa0IsNkJBQTZCLDZEQUE2RCxFQUFFLEdBQUcsVUFBVSx5QkFBeUIsYUFBYSxXQUFXLE1BQU0sMENBQTBDLEVBQUUsc0JBQXNCLCtCQUErQiwrQ0FBK0MsbUJBQW1CLGVBQWUsWUFBWSxNQUFNLHdCQUF3QixLQUFLLEtBQUssd0JBQXdCLGlDQUFpQyx3QkFBd0IsaUJBQWlCLG9DQUFvQyxHQUFHLG1FQUFtRSxxREFBcUQsYUFBYSxzQkFBc0Isb0xBQW9MLHlFQUF5RSxLQUFLLHNDQUFzQyxPQUFPLCtFQUErRSw2REFBNkQsdURBQXVELFNBQVMscUJBQXFCLG9EQUFvRCxXQUFXLHVCQUF1QixpQkFBaUIsU0FBUyxtQkFBbUIsc0NBQXNDLFVBQVUsNEJBQTRCLHVCQUF1QiwwRUFBMEUsdURBQXVELDRFQUE0RSw2Q0FBNkMsU0FBUyw2Q0FBNkMsRUFBRSxzQkFBc0IsbUNBQW1DLEVBQUUsc0RBQXNELHFDQUFxQyxzQkFBc0IsMkJBQTJCLEVBQUUsZ0NBQWdDLFVBQVUsNkRBQTZELEVBQUUsWUFBWSxFQUFFLHFCQUFxQixPQUFPLHlCQUF5Qix5QkFBeUIsVUFBVSxXQUFXLG1JQUFtSSxVQUFVLFlBQVksV0FBVyxpQ0FBaUMsU0FBUyxLQUFLLGlCQUFpQixxQkFBcUIsWUFBWSxXQUFXLHlCQUF5QixTQUFTLE1BQU0scUVBQXFFLHdCQUF3QixjQUFjLCtDQUErQyxFQUFFLElBQUksb01BQW9NLHdCQUF3QixjQUFjLCtDQUErQyxFQUFFLElBQUksaUpBQWlKLFNBQVMsRUFBRSxFQUFFLEdBQUcsZUFBZSxPQUFPLHVFQUFFLGtCQUFrQixlQUFlLGFBQWEsMkVBQUUsWUFBWSxlQUFlLHdDQUF3Qyx5QkFBeUIsZUFBZSx5QkFBeUIsNEVBQTRFLGlGQUFpRiwwQkFBMEIsK0ZBQStGLG1CQUFtQixxRkFBcUYsU0FBUyxlQUFlLGdCQUFnQixlQUFlLGdCQUFnQixlQUFlLG9EQUFvRCxlQUFlLGlEQUFpRCxPQUFPLG9CQUFvQixlQUFlLDREQUE0RCxlQUFlLG9GQUFvRixPQUFPLHVDQUF1QyxzQkFBc0IsMkJBQTJCLE9BQU8saUNBQWlDLDRCQUE0QixvRUFBRSxjQUFjLFNBQVMsY0FBYyw0QkFBNEIsOEJBQThCLE9BQU8sbUJBQW1CLHVDQUF1QyxXQUFXLCtCQUErQixFQUFFLHFCQUFxQixNQUFNLHNDQUFzQyxPQUFPLDBFQUEwRSxrQkFBa0Isd0JBQW9rQjtBQUN4d3RDIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGgvZGlzdC9pbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7ZnJvbU1pbGlzZWNvbmRzIGFzIGJufWZyb21cIkB3YWxsZXRjb25uZWN0L3RpbWVcIjtpbXBvcnR7c2FmZUpzb25QYXJzZSBhcyBwbixzYWZlSnNvblN0cmluZ2lmeSBhcyB3bn1mcm9tXCJAd2FsbGV0Y29ubmVjdC9zYWZlLWpzb25cIjtmdW5jdGlvbiBFbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fEFycmF5QnVmZmVyLmlzVmlldyh0KSYmdC5jb25zdHJ1Y3Rvci5uYW1lPT09XCJVaW50OEFycmF5XCJ9ZnVuY3Rpb24gZmUodCwuLi5lKXtpZighRW4odCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZFwiKTtpZihlLmxlbmd0aD4wJiYhZS5pbmNsdWRlcyh0Lmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCBvZiBsZW5ndGggXCIrZStcIiwgZ290IGxlbmd0aD1cIit0Lmxlbmd0aCl9ZnVuY3Rpb24gRGUodCxlPSEwKXtpZih0LmRlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoIGluc3RhbmNlIGhhcyBiZWVuIGRlc3Ryb3llZFwiKTtpZihlJiZ0LmZpbmlzaGVkKXRocm93IG5ldyBFcnJvcihcIkhhc2gjZGlnZXN0KCkgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWRcIil9ZnVuY3Rpb24gZ24odCxlKXtmZSh0KTtjb25zdCBuPWUub3V0cHV0TGVuO2lmKHQubGVuZ3RoPG4pdGhyb3cgbmV3IEVycm9yKFwiZGlnZXN0SW50bygpIGV4cGVjdHMgb3V0cHV0IGJ1ZmZlciBvZiBsZW5ndGggYXQgbGVhc3QgXCIrbil9Y29uc3QgaXQ9dHlwZW9mIGdsb2JhbFRoaXM9PVwib2JqZWN0XCImJlwiY3J5cHRvXCJpbiBnbG9iYWxUaGlzP2dsb2JhbFRoaXMuY3J5cHRvOnZvaWQgMDsvKiEgbm9ibGUtaGFzaGVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovY29uc3QgX3Q9dD0+bmV3IERhdGFWaWV3KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpO2Z1bmN0aW9uIHluKHQpe2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcInV0ZjhUb0J5dGVzIGV4cGVjdGVkIHN0cmluZywgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHQpKX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCImJih0PXluKHQpKSxmZSh0KSx0fWNsYXNzIHhue2Nsb25lKCl7cmV0dXJuIHRoaXMuX2Nsb25lSW50bygpfX1mdW5jdGlvbiBCbih0KXtjb25zdCBlPXI9PnQoKS51cGRhdGUoZGUocikpLmRpZ2VzdCgpLG49dCgpO3JldHVybiBlLm91dHB1dExlbj1uLm91dHB1dExlbixlLmJsb2NrTGVuPW4uYmxvY2tMZW4sZS5jcmVhdGU9KCk9PnQoKSxlfWZ1bmN0aW9uIGhlKHQ9MzIpe2lmKGl0JiZ0eXBlb2YgaXQuZ2V0UmFuZG9tVmFsdWVzPT1cImZ1bmN0aW9uXCIpcmV0dXJuIGl0LmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSh0KSk7aWYoaXQmJnR5cGVvZiBpdC5yYW5kb21CeXRlcz09XCJmdW5jdGlvblwiKXJldHVybiBpdC5yYW5kb21CeXRlcyh0KTt0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG11c3QgYmUgZGVmaW5lZFwiKX1mdW5jdGlvbiBDbih0LGUsbixyKXtpZih0eXBlb2YgdC5zZXRCaWdVaW50NjQ9PVwiZnVuY3Rpb25cIilyZXR1cm4gdC5zZXRCaWdVaW50NjQoZSxuLHIpO2NvbnN0IG89QmlnSW50KDMyKSxzPUJpZ0ludCg0Mjk0OTY3Mjk1KSxhPU51bWJlcihuPj5vJnMpLHU9TnVtYmVyKG4mcyksaT1yPzQ6MCxEPXI/MDo0O3Quc2V0VWludDMyKGUraSxhLHIpLHQuc2V0VWludDMyKGUrRCx1LHIpfWNsYXNzIEFuIGV4dGVuZHMgeG57Y29uc3RydWN0b3IoZSxuLHIsbyl7c3VwZXIoKSx0aGlzLmJsb2NrTGVuPWUsdGhpcy5vdXRwdXRMZW49bix0aGlzLnBhZE9mZnNldD1yLHRoaXMuaXNMRT1vLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5sZW5ndGg9MCx0aGlzLnBvcz0wLHRoaXMuZGVzdHJveWVkPSExLHRoaXMuYnVmZmVyPW5ldyBVaW50OEFycmF5KGUpLHRoaXMudmlldz1fdCh0aGlzLmJ1ZmZlcil9dXBkYXRlKGUpe0RlKHRoaXMpO2NvbnN0e3ZpZXc6bixidWZmZXI6cixibG9ja0xlbjpvfT10aGlzO2U9ZGUoZSk7Y29uc3Qgcz1lLmxlbmd0aDtmb3IobGV0IGE9MDthPHM7KXtjb25zdCB1PU1hdGgubWluKG8tdGhpcy5wb3Mscy1hKTtpZih1PT09byl7Y29uc3QgaT1fdChlKTtmb3IoO288PXMtYTthKz1vKXRoaXMucHJvY2VzcyhpLGEpO2NvbnRpbnVlfXIuc2V0KGUuc3ViYXJyYXkoYSxhK3UpLHRoaXMucG9zKSx0aGlzLnBvcys9dSxhKz11LHRoaXMucG9zPT09byYmKHRoaXMucHJvY2VzcyhuLDApLHRoaXMucG9zPTApfXJldHVybiB0aGlzLmxlbmd0aCs9ZS5sZW5ndGgsdGhpcy5yb3VuZENsZWFuKCksdGhpc31kaWdlc3RJbnRvKGUpe0RlKHRoaXMpLGduKGUsdGhpcyksdGhpcy5maW5pc2hlZD0hMDtjb25zdHtidWZmZXI6bix2aWV3OnIsYmxvY2tMZW46byxpc0xFOnN9PXRoaXM7bGV0e3BvczphfT10aGlzO25bYSsrXT0xMjgsdGhpcy5idWZmZXIuc3ViYXJyYXkoYSkuZmlsbCgwKSx0aGlzLnBhZE9mZnNldD5vLWEmJih0aGlzLnByb2Nlc3MociwwKSxhPTApO2ZvcihsZXQgbD1hO2w8bztsKyspbltsXT0wO0NuKHIsby04LEJpZ0ludCh0aGlzLmxlbmd0aCo4KSxzKSx0aGlzLnByb2Nlc3MociwwKTtjb25zdCB1PV90KGUpLGk9dGhpcy5vdXRwdXRMZW47aWYoaSU0KXRocm93IG5ldyBFcnJvcihcIl9zaGEyOiBvdXRwdXRMZW4gc2hvdWxkIGJlIGFsaWduZWQgdG8gMzJiaXRcIik7Y29uc3QgRD1pLzQsYz10aGlzLmdldCgpO2lmKEQ+Yy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiX3NoYTI6IG91dHB1dExlbiBiaWdnZXIgdGhhbiBzdGF0ZVwiKTtmb3IobGV0IGw9MDtsPEQ7bCsrKXUuc2V0VWludDMyKDQqbCxjW2xdLHMpfWRpZ2VzdCgpe2NvbnN0e2J1ZmZlcjplLG91dHB1dExlbjpufT10aGlzO3RoaXMuZGlnZXN0SW50byhlKTtjb25zdCByPWUuc2xpY2UoMCxuKTtyZXR1cm4gdGhpcy5kZXN0cm95KCkscn1fY2xvbmVJbnRvKGUpe2V8fChlPW5ldyB0aGlzLmNvbnN0cnVjdG9yKSxlLnNldCguLi50aGlzLmdldCgpKTtjb25zdHtibG9ja0xlbjpuLGJ1ZmZlcjpyLGxlbmd0aDpvLGZpbmlzaGVkOnMsZGVzdHJveWVkOmEscG9zOnV9PXRoaXM7cmV0dXJuIGUubGVuZ3RoPW8sZS5wb3M9dSxlLmZpbmlzaGVkPXMsZS5kZXN0cm95ZWQ9YSxvJW4mJmUuYnVmZmVyLnNldChyKSxlfX1jb25zdCB3dD1CaWdJbnQoMioqMzItMSksU3Q9QmlnSW50KDMyKTtmdW5jdGlvbiBsZSh0LGU9ITEpe3JldHVybiBlP3toOk51bWJlcih0Jnd0KSxsOk51bWJlcih0Pj5TdCZ3dCl9OntoOk51bWJlcih0Pj5TdCZ3dCl8MCxsOk51bWJlcih0Jnd0KXwwfX1mdW5jdGlvbiBtbih0LGU9ITEpe2xldCBuPW5ldyBVaW50MzJBcnJheSh0Lmxlbmd0aCkscj1uZXcgVWludDMyQXJyYXkodC5sZW5ndGgpO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdHtoOnMsbDphfT1sZSh0W29dLGUpO1tuW29dLHJbb11dPVtzLGFdfXJldHVybltuLHJdfWNvbnN0IF9uPSh0LGUpPT5CaWdJbnQodD4+PjApPDxTdHxCaWdJbnQoZT4+PjApLFNuPSh0LGUsbik9PnQ+Pj5uLHZuPSh0LGUsbik9PnQ8PDMyLW58ZT4+Pm4sSW49KHQsZSxuKT0+dD4+Pm58ZTw8MzItbixVbj0odCxlLG4pPT50PDwzMi1ufGU+Pj5uLFRuPSh0LGUsbik9PnQ8PDY0LW58ZT4+Pm4tMzIsRm49KHQsZSxuKT0+dD4+Pm4tMzJ8ZTw8NjQtbixObj0odCxlKT0+ZSxMbj0odCxlKT0+dCxPbj0odCxlLG4pPT50PDxufGU+Pj4zMi1uLEhuPSh0LGUsbik9PmU8PG58dD4+PjMyLW4sem49KHQsZSxuKT0+ZTw8bi0zMnx0Pj4+NjQtbixNbj0odCxlLG4pPT50PDxuLTMyfGU+Pj42NC1uO2Z1bmN0aW9uIHFuKHQsZSxuLHIpe2NvbnN0IG89KGU+Pj4wKSsocj4+PjApO3JldHVybntoOnQrbisoby8yKiozMnwwKXwwLGw6b3wwfX1jb25zdCAkbj0odCxlLG4pPT4odD4+PjApKyhlPj4+MCkrKG4+Pj4wKSxrbj0odCxlLG4scik9PmUrbityKyh0LzIqKjMyfDApfDAsUm49KHQsZSxuLHIpPT4odD4+PjApKyhlPj4+MCkrKG4+Pj4wKSsocj4+PjApLGpuPSh0LGUsbixyLG8pPT5lK24rcitvKyh0LzIqKjMyfDApfDAsWm49KHQsZSxuLHIsbyk9Pih0Pj4+MCkrKGU+Pj4wKSsobj4+PjApKyhyPj4+MCkrKG8+Pj4wKSxHbj0odCxlLG4scixvLHMpPT5lK24rcitvK3MrKHQvMioqMzJ8MCl8MCx4PXtmcm9tQmlnOmxlLHNwbGl0Om1uLHRvQmlnOl9uLHNoclNIOlNuLHNoclNMOnZuLHJvdHJTSDpJbixyb3RyU0w6VW4scm90ckJIOlRuLHJvdHJCTDpGbixyb3RyMzJIOk5uLHJvdHIzMkw6TG4scm90bFNIOk9uLHJvdGxTTDpIbixyb3RsQkg6em4scm90bEJMOk1uLGFkZDpxbixhZGQzTDokbixhZGQzSDprbixhZGQ0TDpSbixhZGQ0SDpqbixhZGQ1SDpHbixhZGQ1TDpabn0sW1ZuLFluXT0oKCk9Pnguc3BsaXQoW1wiMHg0MjhhMmY5OGQ3MjhhZTIyXCIsXCIweDcxMzc0NDkxMjNlZjY1Y2RcIixcIjB4YjVjMGZiY2ZlYzRkM2IyZlwiLFwiMHhlOWI1ZGJhNTgxODlkYmJjXCIsXCIweDM5NTZjMjViZjM0OGI1MzhcIixcIjB4NTlmMTExZjFiNjA1ZDAxOVwiLFwiMHg5MjNmODJhNGFmMTk0ZjliXCIsXCIweGFiMWM1ZWQ1ZGE2ZDgxMThcIixcIjB4ZDgwN2FhOThhMzAzMDI0MlwiLFwiMHgxMjgzNWIwMTQ1NzA2ZmJlXCIsXCIweDI0MzE4NWJlNGVlNGIyOGNcIixcIjB4NTUwYzdkYzNkNWZmYjRlMlwiLFwiMHg3MmJlNWQ3NGYyN2I4OTZmXCIsXCIweDgwZGViMWZlM2IxNjk2YjFcIixcIjB4OWJkYzA2YTcyNWM3MTIzNVwiLFwiMHhjMTliZjE3NGNmNjkyNjk0XCIsXCIweGU0OWI2OWMxOWVmMTRhZDJcIixcIjB4ZWZiZTQ3ODYzODRmMjVlM1wiLFwiMHgwZmMxOWRjNjhiOGNkNWI1XCIsXCIweDI0MGNhMWNjNzdhYzljNjVcIixcIjB4MmRlOTJjNmY1OTJiMDI3NVwiLFwiMHg0YTc0ODRhYTZlYTZlNDgzXCIsXCIweDVjYjBhOWRjYmQ0MWZiZDRcIixcIjB4NzZmOTg4ZGE4MzExNTNiNVwiLFwiMHg5ODNlNTE1MmVlNjZkZmFiXCIsXCIweGE4MzFjNjZkMmRiNDMyMTBcIixcIjB4YjAwMzI3Yzg5OGZiMjEzZlwiLFwiMHhiZjU5N2ZjN2JlZWYwZWU0XCIsXCIweGM2ZTAwYmYzM2RhODhmYzJcIixcIjB4ZDVhNzkxNDc5MzBhYTcyNVwiLFwiMHgwNmNhNjM1MWUwMDM4MjZmXCIsXCIweDE0MjkyOTY3MGEwZTZlNzBcIixcIjB4MjdiNzBhODU0NmQyMmZmY1wiLFwiMHgyZTFiMjEzODVjMjZjOTI2XCIsXCIweDRkMmM2ZGZjNWFjNDJhZWRcIixcIjB4NTMzODBkMTM5ZDk1YjNkZlwiLFwiMHg2NTBhNzM1NDhiYWY2M2RlXCIsXCIweDc2NmEwYWJiM2M3N2IyYThcIixcIjB4ODFjMmM5MmU0N2VkYWVlNlwiLFwiMHg5MjcyMmM4NTE0ODIzNTNiXCIsXCIweGEyYmZlOGExNGNmMTAzNjRcIixcIjB4YTgxYTY2NGJiYzQyMzAwMVwiLFwiMHhjMjRiOGI3MGQwZjg5NzkxXCIsXCIweGM3NmM1MWEzMDY1NGJlMzBcIixcIjB4ZDE5MmU4MTlkNmVmNTIxOFwiLFwiMHhkNjk5MDYyNDU1NjVhOTEwXCIsXCIweGY0MGUzNTg1NTc3MTIwMmFcIixcIjB4MTA2YWEwNzAzMmJiZDFiOFwiLFwiMHgxOWE0YzExNmI4ZDJkMGM4XCIsXCIweDFlMzc2YzA4NTE0MWFiNTNcIixcIjB4Mjc0ODc3NGNkZjhlZWI5OVwiLFwiMHgzNGIwYmNiNWUxOWI0OGE4XCIsXCIweDM5MWMwY2IzYzVjOTVhNjNcIixcIjB4NGVkOGFhNGFlMzQxOGFjYlwiLFwiMHg1YjljY2E0Zjc3NjNlMzczXCIsXCIweDY4MmU2ZmYzZDZiMmI4YTNcIixcIjB4NzQ4ZjgyZWU1ZGVmYjJmY1wiLFwiMHg3OGE1NjM2ZjQzMTcyZjYwXCIsXCIweDg0Yzg3ODE0YTFmMGFiNzJcIixcIjB4OGNjNzAyMDgxYTY0MzllY1wiLFwiMHg5MGJlZmZmYTIzNjMxZTI4XCIsXCIweGE0NTA2Y2ViZGU4MmJkZTlcIixcIjB4YmVmOWEzZjdiMmM2NzkxNVwiLFwiMHhjNjcxNzhmMmUzNzI1MzJiXCIsXCIweGNhMjczZWNlZWEyNjYxOWNcIixcIjB4ZDE4NmI4YzcyMWMwYzIwN1wiLFwiMHhlYWRhN2RkNmNkZTBlYjFlXCIsXCIweGY1N2Q0ZjdmZWU2ZWQxNzhcIixcIjB4MDZmMDY3YWE3MjE3NmZiYVwiLFwiMHgwYTYzN2RjNWEyYzg5OGE2XCIsXCIweDExM2Y5ODA0YmVmOTBkYWVcIixcIjB4MWI3MTBiMzUxMzFjNDcxYlwiLFwiMHgyOGRiNzdmNTIzMDQ3ZDg0XCIsXCIweDMyY2FhYjdiNDBjNzI0OTNcIixcIjB4M2M5ZWJlMGExNWM5YmViY1wiLFwiMHg0MzFkNjdjNDljMTAwZDRjXCIsXCIweDRjYzVkNGJlY2IzZTQyYjZcIixcIjB4NTk3ZjI5OWNmYzY1N2UyYVwiLFwiMHg1ZmNiNmZhYjNhZDZmYWVjXCIsXCIweDZjNDQxOThjNGE0NzU4MTdcIl0ubWFwKHQ9PkJpZ0ludCh0KSkpKSgpLFA9bmV3IFVpbnQzMkFycmF5KDgwKSxRPW5ldyBVaW50MzJBcnJheSg4MCk7Y2xhc3MgSm4gZXh0ZW5kcyBBbntjb25zdHJ1Y3Rvcigpe3N1cGVyKDEyOCw2NCwxNiwhMSksdGhpcy5BaD0xNzc5MDMzNzAzLHRoaXMuQWw9LTIwNTczMTU3Nix0aGlzLkJoPS0xMTUwODMzMDE5LHRoaXMuQmw9LTIwNjcwOTM3MDEsdGhpcy5DaD0xMDEzOTA0MjQyLHRoaXMuQ2w9LTIzNzkxNTczLHRoaXMuRGg9LTE1MjE0ODY1MzQsdGhpcy5EbD0xNTk1NzUwMTI5LHRoaXMuRWg9MTM1OTg5MzExOSx0aGlzLkVsPS0xMzc3NDAyMTU5LHRoaXMuRmg9LTE2OTQxNDQzNzIsdGhpcy5GbD03MjU1MTExOTksdGhpcy5HaD01Mjg3MzQ2MzUsdGhpcy5HbD0tNzk1Nzc3NDksdGhpcy5IaD0xNTQxNDU5MjI1LHRoaXMuSGw9MzI3MDMzMjA5fWdldCgpe2NvbnN0e0FoOmUsQWw6bixCaDpyLEJsOm8sQ2g6cyxDbDphLERoOnUsRGw6aSxFaDpELEVsOmMsRmg6bCxGbDpwLEdoOncsR2w6aCxIaDpnLEhsOlN9PXRoaXM7cmV0dXJuW2UsbixyLG8scyxhLHUsaSxELGMsbCxwLHcsaCxnLFNdfXNldChlLG4scixvLHMsYSx1LGksRCxjLGwscCx3LGgsZyxTKXt0aGlzLkFoPWV8MCx0aGlzLkFsPW58MCx0aGlzLkJoPXJ8MCx0aGlzLkJsPW98MCx0aGlzLkNoPXN8MCx0aGlzLkNsPWF8MCx0aGlzLkRoPXV8MCx0aGlzLkRsPWl8MCx0aGlzLkVoPUR8MCx0aGlzLkVsPWN8MCx0aGlzLkZoPWx8MCx0aGlzLkZsPXB8MCx0aGlzLkdoPXd8MCx0aGlzLkdsPWh8MCx0aGlzLkhoPWd8MCx0aGlzLkhsPVN8MH1wcm9jZXNzKGUsbil7Zm9yKGxldCBkPTA7ZDwxNjtkKyssbis9NClQW2RdPWUuZ2V0VWludDMyKG4pLFFbZF09ZS5nZXRVaW50MzIobis9NCk7Zm9yKGxldCBkPTE2O2Q8ODA7ZCsrKXtjb25zdCBtPVBbZC0xNV18MCxGPVFbZC0xNV18MCxxPXgucm90clNIKG0sRiwxKV54LnJvdHJTSChtLEYsOCleeC5zaHJTSChtLEYsNyksej14LnJvdHJTTChtLEYsMSleeC5yb3RyU0wobSxGLDgpXnguc2hyU0wobSxGLDcpLEk9UFtkLTJdfDAsTz1RW2QtMl18MCxvdD14LnJvdHJTSChJLE8sMTkpXngucm90ckJIKEksTyw2MSleeC5zaHJTSChJLE8sNiksdHQ9eC5yb3RyU0woSSxPLDE5KV54LnJvdHJCTChJLE8sNjEpXnguc2hyU0woSSxPLDYpLHN0PXguYWRkNEwoeix0dCxRW2QtN10sUVtkLTE2XSksYXQ9eC5hZGQ0SChzdCxxLG90LFBbZC03XSxQW2QtMTZdKTtQW2RdPWF0fDAsUVtkXT1zdHwwfWxldHtBaDpyLEFsOm8sQmg6cyxCbDphLENoOnUsQ2w6aSxEaDpELERsOmMsRWg6bCxFbDpwLEZoOncsRmw6aCxHaDpnLEdsOlMsSGg6dixIbDpMfT10aGlzO2ZvcihsZXQgZD0wO2Q8ODA7ZCsrKXtjb25zdCBtPXgucm90clNIKGwscCwxNCleeC5yb3RyU0gobCxwLDE4KV54LnJvdHJCSChsLHAsNDEpLEY9eC5yb3RyU0wobCxwLDE0KV54LnJvdHJTTChsLHAsMTgpXngucm90ckJMKGwscCw0MSkscT1sJndefmwmZyx6PXAmaF5+cCZTLEk9eC5hZGQ1TChMLEYseixZbltkXSxRW2RdKSxPPXguYWRkNUgoSSx2LG0scSxWbltkXSxQW2RdKSxvdD1JfDAsdHQ9eC5yb3RyU0gocixvLDI4KV54LnJvdHJCSChyLG8sMzQpXngucm90ckJIKHIsbywzOSksc3Q9eC5yb3RyU0wocixvLDI4KV54LnJvdHJCTChyLG8sMzQpXngucm90ckJMKHIsbywzOSksYXQ9ciZzXnImdV5zJnUsQ3Q9byZhXm8maV5hJmk7dj1nfDAsTD1TfDAsZz13fDAsUz1ofDAsdz1sfDAsaD1wfDAse2g6bCxsOnB9PXguYWRkKER8MCxjfDAsT3wwLG90fDApLEQ9dXwwLGM9aXwwLHU9c3wwLGk9YXwwLHM9cnwwLGE9b3wwO2NvbnN0IEF0PXguYWRkM0wob3Qsc3QsQ3QpO3I9eC5hZGQzSChBdCxPLHR0LGF0KSxvPUF0fDB9KHtoOnIsbDpvfT14LmFkZCh0aGlzLkFofDAsdGhpcy5BbHwwLHJ8MCxvfDApKSx7aDpzLGw6YX09eC5hZGQodGhpcy5CaHwwLHRoaXMuQmx8MCxzfDAsYXwwKSx7aDp1LGw6aX09eC5hZGQodGhpcy5DaHwwLHRoaXMuQ2x8MCx1fDAsaXwwKSx7aDpELGw6Y309eC5hZGQodGhpcy5EaHwwLHRoaXMuRGx8MCxEfDAsY3wwKSx7aDpsLGw6cH09eC5hZGQodGhpcy5FaHwwLHRoaXMuRWx8MCxsfDAscHwwKSx7aDp3LGw6aH09eC5hZGQodGhpcy5GaHwwLHRoaXMuRmx8MCx3fDAsaHwwKSx7aDpnLGw6U309eC5hZGQodGhpcy5HaHwwLHRoaXMuR2x8MCxnfDAsU3wwKSx7aDp2LGw6TH09eC5hZGQodGhpcy5IaHwwLHRoaXMuSGx8MCx2fDAsTHwwKSx0aGlzLnNldChyLG8scyxhLHUsaSxELGMsbCxwLHcsaCxnLFMsdixMKX1yb3VuZENsZWFuKCl7UC5maWxsKDApLFEuZmlsbCgwKX1kZXN0cm95KCl7dGhpcy5idWZmZXIuZmlsbCgwKSx0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKX19Y29uc3QgS249Qm4oKCk9Pm5ldyBKbik7LyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL2NvbnN0IHZ0PUJpZ0ludCgwKSxiZT1CaWdJbnQoMSksV249QmlnSW50KDIpO2Z1bmN0aW9uIEl0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIn1mdW5jdGlvbiBVdCh0KXtpZighSXQodCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZFwiKX1mdW5jdGlvbiBUdCh0LGUpe2lmKHR5cGVvZiBlIT1cImJvb2xlYW5cIil0aHJvdyBuZXcgRXJyb3IodCtcIiBib29sZWFuIGV4cGVjdGVkLCBnb3QgXCIrZSl9Y29uc3QgWG49QXJyYXkuZnJvbSh7bGVuZ3RoOjI1Nn0sKHQsZSk9PmUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKTtmdW5jdGlvbiBGdCh0KXtVdCh0KTtsZXQgZT1cIlwiO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWUrPVhuW3Rbbl1dO3JldHVybiBlfWZ1bmN0aW9uIHBlKHQpe2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBcIit0eXBlb2YgdCk7cmV0dXJuIHQ9PT1cIlwiP3Z0OkJpZ0ludChcIjB4XCIrdCl9Y29uc3QgSz17XzA6NDgsXzk6NTcsQTo2NSxGOjcwLGE6OTcsZjoxMDJ9O2Z1bmN0aW9uIHdlKHQpe2lmKHQ+PUsuXzAmJnQ8PUsuXzkpcmV0dXJuIHQtSy5fMDtpZih0Pj1LLkEmJnQ8PUsuRilyZXR1cm4gdC0oSy5BLTEwKTtpZih0Pj1LLmEmJnQ8PUsuZilyZXR1cm4gdC0oSy5hLTEwKX1mdW5jdGlvbiBFZSh0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoXCJoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgXCIrdHlwZW9mIHQpO2NvbnN0IGU9dC5sZW5ndGgsbj1lLzI7aWYoZSUyKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCB1bnBhZGRlZCBoZXggb2YgbGVuZ3RoIFwiK2UpO2NvbnN0IHI9bmV3IFVpbnQ4QXJyYXkobik7Zm9yKGxldCBvPTAscz0wO288bjtvKysscys9Mil7Y29uc3QgYT13ZSh0LmNoYXJDb2RlQXQocykpLHU9d2UodC5jaGFyQ29kZUF0KHMrMSkpO2lmKGE9PT12b2lkIDB8fHU9PT12b2lkIDApe2NvbnN0IGk9dFtzXSt0W3MrMV07dGhyb3cgbmV3IEVycm9yKCdoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3Qgbm9uLWhleCBjaGFyYWN0ZXIgXCInK2krJ1wiIGF0IGluZGV4ICcrcyl9cltvXT1hKjE2K3V9cmV0dXJuIHJ9ZnVuY3Rpb24gUG4odCl7cmV0dXJuIHBlKEZ0KHQpKX1mdW5jdGlvbiBFdCh0KXtyZXR1cm4gVXQodCkscGUoRnQoVWludDhBcnJheS5mcm9tKHQpLnJldmVyc2UoKSkpfWZ1bmN0aW9uIGdlKHQsZSl7cmV0dXJuIEVlKHQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KGUqMixcIjBcIikpfWZ1bmN0aW9uIE50KHQsZSl7cmV0dXJuIGdlKHQsZSkucmV2ZXJzZSgpfWZ1bmN0aW9uIFcodCxlLG4pe2xldCByO2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXRyeXtyPUVlKGUpfWNhdGNoKHMpe3Rocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5LCBjYXVzZTogXCIrcyl9ZWxzZSBpZihJdChlKSlyPVVpbnQ4QXJyYXkuZnJvbShlKTtlbHNlIHRocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5XCIpO2NvbnN0IG89ci5sZW5ndGg7aWYodHlwZW9mIG49PVwibnVtYmVyXCImJm8hPT1uKXRocm93IG5ldyBFcnJvcih0K1wiIG9mIGxlbmd0aCBcIituK1wiIGV4cGVjdGVkLCBnb3QgXCIrbyk7cmV0dXJuIHJ9ZnVuY3Rpb24geWUoLi4udCl7bGV0IGU9MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbz10W3JdO1V0KG8pLGUrPW8ubGVuZ3RofWNvbnN0IG49bmV3IFVpbnQ4QXJyYXkoZSk7Zm9yKGxldCByPTAsbz0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBzPXRbcl07bi5zZXQocyxvKSxvKz1zLmxlbmd0aH1yZXR1cm4gbn1jb25zdCBMdD10PT50eXBlb2YgdD09XCJiaWdpbnRcIiYmdnQ8PXQ7ZnVuY3Rpb24gUW4odCxlLG4pe3JldHVybiBMdCh0KSYmTHQoZSkmJkx0KG4pJiZlPD10JiZ0PG59ZnVuY3Rpb24gZnQodCxlLG4scil7aWYoIVFuKGUsbixyKSl0aHJvdyBuZXcgRXJyb3IoXCJleHBlY3RlZCB2YWxpZCBcIit0K1wiOiBcIituK1wiIDw9IG4gPCBcIityK1wiLCBnb3QgXCIrZSl9ZnVuY3Rpb24gdHIodCl7bGV0IGU7Zm9yKGU9MDt0PnZ0O3Q+Pj1iZSxlKz0xKTtyZXR1cm4gZX1jb25zdCBlcj10PT4oV248PEJpZ0ludCh0LTEpKS1iZSxucj17YmlnaW50OnQ9PnR5cGVvZiB0PT1cImJpZ2ludFwiLGZ1bmN0aW9uOnQ9PnR5cGVvZiB0PT1cImZ1bmN0aW9uXCIsYm9vbGVhbjp0PT50eXBlb2YgdD09XCJib29sZWFuXCIsc3RyaW5nOnQ9PnR5cGVvZiB0PT1cInN0cmluZ1wiLHN0cmluZ09yVWludDhBcnJheTp0PT50eXBlb2YgdD09XCJzdHJpbmdcInx8SXQodCksaXNTYWZlSW50ZWdlcjp0PT5OdW1iZXIuaXNTYWZlSW50ZWdlcih0KSxhcnJheTp0PT5BcnJheS5pc0FycmF5KHQpLGZpZWxkOih0LGUpPT5lLkZwLmlzVmFsaWQodCksaGFzaDp0PT50eXBlb2YgdD09XCJmdW5jdGlvblwiJiZOdW1iZXIuaXNTYWZlSW50ZWdlcih0Lm91dHB1dExlbil9O2Z1bmN0aW9uIE90KHQsZSxuPXt9KXtjb25zdCByPShvLHMsYSk9Pntjb25zdCB1PW5yW3NdO2lmKHR5cGVvZiB1IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB2YWxpZGF0b3IgZnVuY3Rpb25cIik7Y29uc3QgaT10W29dO2lmKCEoYSYmaT09PXZvaWQgMCkmJiF1KGksdCkpdGhyb3cgbmV3IEVycm9yKFwicGFyYW0gXCIrU3RyaW5nKG8pK1wiIGlzIGludmFsaWQuIEV4cGVjdGVkIFwiK3MrXCIsIGdvdCBcIitpKX07Zm9yKGNvbnN0W28sc11vZiBPYmplY3QuZW50cmllcyhlKSlyKG8scywhMSk7Zm9yKGNvbnN0W28sc11vZiBPYmplY3QuZW50cmllcyhuKSlyKG8scywhMCk7cmV0dXJuIHR9ZnVuY3Rpb24geGUodCl7Y29uc3QgZT1uZXcgV2Vha01hcDtyZXR1cm4obiwuLi5yKT0+e2NvbnN0IG89ZS5nZXQobik7aWYobyE9PXZvaWQgMClyZXR1cm4gbztjb25zdCBzPXQobiwuLi5yKTtyZXR1cm4gZS5zZXQobixzKSxzfX1jb25zdCBNPUJpZ0ludCgwKSxOPUJpZ0ludCgxKSxudD1CaWdJbnQoMikscnI9QmlnSW50KDMpLEh0PUJpZ0ludCg0KSxCZT1CaWdJbnQoNSksQ2U9QmlnSW50KDgpO2Z1bmN0aW9uIEgodCxlKXtjb25zdCBuPXQlZTtyZXR1cm4gbj49TT9uOmUrbn1mdW5jdGlvbiBvcih0LGUsbil7aWYoZTxNKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZXhwb25lbnQsIG5lZ2F0aXZlcyB1bnN1cHBvcnRlZFwiKTtpZihuPD1NKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgbW9kdWx1c1wiKTtpZihuPT09TilyZXR1cm4gTTtsZXQgcj1OO2Zvcig7ZT5NOyllJk4mJihyPXIqdCVuKSx0PXQqdCVuLGU+Pj1OO3JldHVybiByfWZ1bmN0aW9uIEoodCxlLG4pe2xldCByPXQ7Zm9yKDtlLS0gPk07KXIqPXIsciU9bjtyZXR1cm4gcn1mdW5jdGlvbiBBZSh0LGUpe2lmKHQ9PT1NKXRocm93IG5ldyBFcnJvcihcImludmVydDogZXhwZWN0ZWQgbm9uLXplcm8gbnVtYmVyXCIpO2lmKGU8PU0pdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBleHBlY3RlZCBwb3NpdGl2ZSBtb2R1bHVzLCBnb3QgXCIrZSk7bGV0IG49SCh0LGUpLHI9ZSxvPU0scz1OO2Zvcig7biE9PU07KXtjb25zdCB1PXIvbixpPXIlbixEPW8tcyp1O3I9bixuPWksbz1zLHM9RH1pZihyIT09Til0aHJvdyBuZXcgRXJyb3IoXCJpbnZlcnQ6IGRvZXMgbm90IGV4aXN0XCIpO3JldHVybiBIKG8sZSl9ZnVuY3Rpb24gc3IodCl7Y29uc3QgZT0odC1OKS9udDtsZXQgbixyLG87Zm9yKG49dC1OLHI9MDtuJW50PT09TTtuLz1udCxyKyspO2ZvcihvPW50O288dCYmb3IobyxlLHQpIT09dC1OO28rKylpZihvPjFlMyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdDogbGlrZWx5IG5vbi1wcmltZSBQXCIpO2lmKHI9PT0xKXtjb25zdCBhPSh0K04pL0h0O3JldHVybiBmdW5jdGlvbihpLEQpe2NvbnN0IGM9aS5wb3coRCxhKTtpZighaS5lcWwoaS5zcXIoYyksRCkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7cmV0dXJuIGN9fWNvbnN0IHM9KG4rTikvbnQ7cmV0dXJuIGZ1bmN0aW9uKHUsaSl7aWYodS5wb3coaSxlKT09PXUubmVnKHUuT05FKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKTtsZXQgRD1yLGM9dS5wb3codS5tdWwodS5PTkUsbyksbiksbD11LnBvdyhpLHMpLHA9dS5wb3coaSxuKTtmb3IoOyF1LmVxbChwLHUuT05FKTspe2lmKHUuZXFsKHAsdS5aRVJPKSlyZXR1cm4gdS5aRVJPO2xldCB3PTE7Zm9yKGxldCBnPXUuc3FyKHApO3c8RCYmIXUuZXFsKGcsdS5PTkUpO3crKylnPXUuc3FyKGcpO2NvbnN0IGg9dS5wb3coYyxOPDxCaWdJbnQoRC13LTEpKTtjPXUuc3FyKGgpLGw9dS5tdWwobCxoKSxwPXUubXVsKHAsYyksRD13fXJldHVybiBsfX1mdW5jdGlvbiBpcih0KXtpZih0JUh0PT09cnIpe2NvbnN0IGU9KHQrTikvSHQ7cmV0dXJuIGZ1bmN0aW9uKHIsbyl7Y29uc3Qgcz1yLnBvdyhvLGUpO2lmKCFyLmVxbChyLnNxcihzKSxvKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKTtyZXR1cm4gc319aWYodCVDZT09PUJlKXtjb25zdCBlPSh0LUJlKS9DZTtyZXR1cm4gZnVuY3Rpb24ocixvKXtjb25zdCBzPXIubXVsKG8sbnQpLGE9ci5wb3cocyxlKSx1PXIubXVsKG8sYSksaT1yLm11bChyLm11bCh1LG50KSxhKSxEPXIubXVsKHUsci5zdWIoaSxyLk9ORSkpO2lmKCFyLmVxbChyLnNxcihEKSxvKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKTtyZXR1cm4gRH19cmV0dXJuIHNyKHQpfWNvbnN0IHVyPSh0LGUpPT4oSCh0LGUpJk4pPT09Tixjcj1bXCJjcmVhdGVcIixcImlzVmFsaWRcIixcImlzMFwiLFwibmVnXCIsXCJpbnZcIixcInNxcnRcIixcInNxclwiLFwiZXFsXCIsXCJhZGRcIixcInN1YlwiLFwibXVsXCIsXCJwb3dcIixcImRpdlwiLFwiYWRkTlwiLFwic3ViTlwiLFwibXVsTlwiLFwic3FyTlwiXTtmdW5jdGlvbiBhcih0KXtjb25zdCBlPXtPUkRFUjpcImJpZ2ludFwiLE1BU0s6XCJiaWdpbnRcIixCWVRFUzpcImlzU2FmZUludGVnZXJcIixCSVRTOlwiaXNTYWZlSW50ZWdlclwifSxuPWNyLnJlZHVjZSgocixvKT0+KHJbb109XCJmdW5jdGlvblwiLHIpLGUpO3JldHVybiBPdCh0LG4pfWZ1bmN0aW9uIGZyKHQsZSxuKXtpZihuPE0pdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBleHBvbmVudCwgbmVnYXRpdmVzIHVuc3VwcG9ydGVkXCIpO2lmKG49PT1NKXJldHVybiB0Lk9ORTtpZihuPT09TilyZXR1cm4gZTtsZXQgcj10Lk9ORSxvPWU7Zm9yKDtuPk07KW4mTiYmKHI9dC5tdWwocixvKSksbz10LnNxcihvKSxuPj49TjtyZXR1cm4gcn1mdW5jdGlvbiBEcih0LGUpe2NvbnN0IG49bmV3IEFycmF5KGUubGVuZ3RoKSxyPWUucmVkdWNlKChzLGEsdSk9PnQuaXMwKGEpP3M6KG5bdV09cyx0Lm11bChzLGEpKSx0Lk9ORSksbz10LmludihyKTtyZXR1cm4gZS5yZWR1Y2VSaWdodCgocyxhLHUpPT50LmlzMChhKT9zOihuW3VdPXQubXVsKHMsblt1XSksdC5tdWwocyxhKSksbyksbn1mdW5jdGlvbiBtZSh0LGUpe2NvbnN0IG49ZSE9PXZvaWQgMD9lOnQudG9TdHJpbmcoMikubGVuZ3RoLHI9TWF0aC5jZWlsKG4vOCk7cmV0dXJue25CaXRMZW5ndGg6bixuQnl0ZUxlbmd0aDpyfX1mdW5jdGlvbiBfZSh0LGUsbj0hMSxyPXt9KXtpZih0PD1NKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmllbGQ6IGV4cGVjdGVkIE9SREVSID4gMCwgZ290IFwiK3QpO2NvbnN0e25CaXRMZW5ndGg6byxuQnl0ZUxlbmd0aDpzfT1tZSh0LGUpO2lmKHM+MjA0OCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZpZWxkOiBleHBlY3RlZCBPUkRFUiBvZiA8PSAyMDQ4IGJ5dGVzXCIpO2xldCBhO2NvbnN0IHU9T2JqZWN0LmZyZWV6ZSh7T1JERVI6dCxpc0xFOm4sQklUUzpvLEJZVEVTOnMsTUFTSzplcihvKSxaRVJPOk0sT05FOk4sY3JlYXRlOmk9PkgoaSx0KSxpc1ZhbGlkOmk9PntpZih0eXBlb2YgaSE9XCJiaWdpbnRcIil0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZpZWxkIGVsZW1lbnQ6IGV4cGVjdGVkIGJpZ2ludCwgZ290IFwiK3R5cGVvZiBpKTtyZXR1cm4gTTw9aSYmaTx0fSxpczA6aT0+aT09PU0saXNPZGQ6aT0+KGkmTik9PT1OLG5lZzppPT5IKC1pLHQpLGVxbDooaSxEKT0+aT09PUQsc3FyOmk9PkgoaSppLHQpLGFkZDooaSxEKT0+SChpK0QsdCksc3ViOihpLEQpPT5IKGktRCx0KSxtdWw6KGksRCk9PkgoaSpELHQpLHBvdzooaSxEKT0+ZnIodSxpLEQpLGRpdjooaSxEKT0+SChpKkFlKEQsdCksdCksc3FyTjppPT5pKmksYWRkTjooaSxEKT0+aStELHN1Yk46KGksRCk9PmktRCxtdWxOOihpLEQpPT5pKkQsaW52Omk9PkFlKGksdCksc3FydDpyLnNxcnR8fChpPT4oYXx8KGE9aXIodCkpLGEodSxpKSkpLGludmVydEJhdGNoOmk9PkRyKHUsaSksY21vdjooaSxELGMpPT5jP0Q6aSx0b0J5dGVzOmk9Pm4/TnQoaSxzKTpnZShpLHMpLGZyb21CeXRlczppPT57aWYoaS5sZW5ndGghPT1zKXRocm93IG5ldyBFcnJvcihcIkZpZWxkLmZyb21CeXRlczogZXhwZWN0ZWQgXCIrcytcIiBieXRlcywgZ290IFwiK2kubGVuZ3RoKTtyZXR1cm4gbj9FdChpKTpQbihpKX19KTtyZXR1cm4gT2JqZWN0LmZyZWV6ZSh1KX1jb25zdCBTZT1CaWdJbnQoMCksZ3Q9QmlnSW50KDEpO2Z1bmN0aW9uIHp0KHQsZSl7Y29uc3Qgbj1lLm5lZ2F0ZSgpO3JldHVybiB0P246ZX1mdW5jdGlvbiB2ZSh0LGUpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcih0KXx8dDw9MHx8dD5lKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgd2luZG93IHNpemUsIGV4cGVjdGVkIFsxLi5cIitlK1wiXSwgZ290IFc9XCIrdCl9ZnVuY3Rpb24gTXQodCxlKXt2ZSh0LGUpO2NvbnN0IG49TWF0aC5jZWlsKGUvdCkrMSxyPTIqKih0LTEpO3JldHVybnt3aW5kb3dzOm4sd2luZG93U2l6ZTpyfX1mdW5jdGlvbiBkcih0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcihcImFycmF5IGV4cGVjdGVkXCIpO3QuZm9yRWFjaCgobixyKT0+e2lmKCEobiBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgcG9pbnQgYXQgaW5kZXggXCIrcil9KX1mdW5jdGlvbiBocih0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcihcImFycmF5IG9mIHNjYWxhcnMgZXhwZWN0ZWRcIik7dC5mb3JFYWNoKChuLHIpPT57aWYoIWUuaXNWYWxpZChuKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNjYWxhciBhdCBpbmRleCBcIityKX0pfWNvbnN0IHF0PW5ldyBXZWFrTWFwLEllPW5ldyBXZWFrTWFwO2Z1bmN0aW9uICR0KHQpe3JldHVybiBJZS5nZXQodCl8fDF9ZnVuY3Rpb24gbHIodCxlKXtyZXR1cm57Y29uc3RUaW1lTmVnYXRlOnp0LGhhc1ByZWNvbXB1dGVzKG4pe3JldHVybiAkdChuKSE9PTF9LHVuc2FmZUxhZGRlcihuLHIsbz10LlpFUk8pe2xldCBzPW47Zm9yKDtyPlNlOylyJmd0JiYobz1vLmFkZChzKSkscz1zLmRvdWJsZSgpLHI+Pj1ndDtyZXR1cm4gb30scHJlY29tcHV0ZVdpbmRvdyhuLHIpe2NvbnN0e3dpbmRvd3M6byx3aW5kb3dTaXplOnN9PU10KHIsZSksYT1bXTtsZXQgdT1uLGk9dTtmb3IobGV0IEQ9MDtEPG87RCsrKXtpPXUsYS5wdXNoKGkpO2ZvcihsZXQgYz0xO2M8cztjKyspaT1pLmFkZCh1KSxhLnB1c2goaSk7dT1pLmRvdWJsZSgpfXJldHVybiBhfSx3TkFGKG4scixvKXtjb25zdHt3aW5kb3dzOnMsd2luZG93U2l6ZTphfT1NdChuLGUpO2xldCB1PXQuWkVSTyxpPXQuQkFTRTtjb25zdCBEPUJpZ0ludCgyKipuLTEpLGM9MioqbixsPUJpZ0ludChuKTtmb3IobGV0IHA9MDtwPHM7cCsrKXtjb25zdCB3PXAqYTtsZXQgaD1OdW1iZXIobyZEKTtvPj49bCxoPmEmJihoLT1jLG8rPWd0KTtjb25zdCBnPXcsUz13K01hdGguYWJzKGgpLTEsdj1wJTIhPT0wLEw9aDwwO2g9PT0wP2k9aS5hZGQoenQodixyW2ddKSk6dT11LmFkZCh6dChMLHJbU10pKX1yZXR1cm57cDp1LGY6aX19LHdOQUZVbnNhZmUobixyLG8scz10LlpFUk8pe2NvbnN0e3dpbmRvd3M6YSx3aW5kb3dTaXplOnV9PU10KG4sZSksaT1CaWdJbnQoMioqbi0xKSxEPTIqKm4sYz1CaWdJbnQobik7Zm9yKGxldCBsPTA7bDxhO2wrKyl7Y29uc3QgcD1sKnU7aWYobz09PVNlKWJyZWFrO2xldCB3PU51bWJlcihvJmkpO2lmKG8+Pj1jLHc+dSYmKHctPUQsbys9Z3QpLHc9PT0wKWNvbnRpbnVlO2xldCBoPXJbcCtNYXRoLmFicyh3KS0xXTt3PDAmJihoPWgubmVnYXRlKCkpLHM9cy5hZGQoaCl9cmV0dXJuIHN9LGdldFByZWNvbXB1dGVzKG4scixvKXtsZXQgcz1xdC5nZXQocik7cmV0dXJuIHN8fChzPXRoaXMucHJlY29tcHV0ZVdpbmRvdyhyLG4pLG4hPT0xJiZxdC5zZXQocixvKHMpKSksc30sd05BRkNhY2hlZChuLHIsbyl7Y29uc3Qgcz0kdChuKTtyZXR1cm4gdGhpcy53TkFGKHMsdGhpcy5nZXRQcmVjb21wdXRlcyhzLG4sbykscil9LHdOQUZDYWNoZWRVbnNhZmUobixyLG8scyl7Y29uc3QgYT0kdChuKTtyZXR1cm4gYT09PTE/dGhpcy51bnNhZmVMYWRkZXIobixyLHMpOnRoaXMud05BRlVuc2FmZShhLHRoaXMuZ2V0UHJlY29tcHV0ZXMoYSxuLG8pLHIscyl9LHNldFdpbmRvd1NpemUobixyKXt2ZShyLGUpLEllLnNldChuLHIpLHF0LmRlbGV0ZShuKX19fWZ1bmN0aW9uIGJyKHQsZSxuLHIpe2lmKGRyKG4sdCksaHIocixlKSxuLmxlbmd0aCE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImFycmF5cyBvZiBwb2ludHMgYW5kIHNjYWxhcnMgbXVzdCBoYXZlIGVxdWFsIGxlbmd0aFwiKTtjb25zdCBvPXQuWkVSTyxzPXRyKEJpZ0ludChuLmxlbmd0aCkpLGE9cz4xMj9zLTM6cz40P3MtMjpzPzI6MSx1PSgxPDxhKS0xLGk9bmV3IEFycmF5KHUrMSkuZmlsbChvKSxEPU1hdGguZmxvb3IoKGUuQklUUy0xKS9hKSphO2xldCBjPW87Zm9yKGxldCBsPUQ7bD49MDtsLT1hKXtpLmZpbGwobyk7Zm9yKGxldCB3PTA7dzxyLmxlbmd0aDt3Kyspe2NvbnN0IGg9clt3XSxnPU51bWJlcihoPj5CaWdJbnQobCkmQmlnSW50KHUpKTtpW2ddPWlbZ10uYWRkKG5bd10pfWxldCBwPW87Zm9yKGxldCB3PWkubGVuZ3RoLTEsaD1vO3c+MDt3LS0paD1oLmFkZChpW3ddKSxwPXAuYWRkKGgpO2lmKGM9Yy5hZGQocCksbCE9PTApZm9yKGxldCB3PTA7dzxhO3crKyljPWMuZG91YmxlKCl9cmV0dXJuIGN9ZnVuY3Rpb24gcHIodCl7cmV0dXJuIGFyKHQuRnApLE90KHQse246XCJiaWdpbnRcIixoOlwiYmlnaW50XCIsR3g6XCJmaWVsZFwiLEd5OlwiZmllbGRcIn0se25CaXRMZW5ndGg6XCJpc1NhZmVJbnRlZ2VyXCIsbkJ5dGVMZW5ndGg6XCJpc1NhZmVJbnRlZ2VyXCJ9KSxPYmplY3QuZnJlZXplKHsuLi5tZSh0Lm4sdC5uQml0TGVuZ3RoKSwuLi50LHA6dC5GcC5PUkRFUn0pfWNvbnN0IEc9QmlnSW50KDApLGo9QmlnSW50KDEpLHl0PUJpZ0ludCgyKSx3cj1CaWdJbnQoOCksRXI9e3ppcDIxNTohMH07ZnVuY3Rpb24gZ3IodCl7Y29uc3QgZT1wcih0KTtyZXR1cm4gT3QodCx7aGFzaDpcImZ1bmN0aW9uXCIsYTpcImJpZ2ludFwiLGQ6XCJiaWdpbnRcIixyYW5kb21CeXRlczpcImZ1bmN0aW9uXCJ9LHthZGp1c3RTY2FsYXJCeXRlczpcImZ1bmN0aW9uXCIsZG9tYWluOlwiZnVuY3Rpb25cIix1dlJhdGlvOlwiZnVuY3Rpb25cIixtYXBUb0N1cnZlOlwiZnVuY3Rpb25cIn0pLE9iamVjdC5mcmVlemUoey4uLmV9KX1mdW5jdGlvbiB5cih0KXtjb25zdCBlPWdyKHQpLHtGcDpuLG46cixwcmVoYXNoOm8saGFzaDpzLHJhbmRvbUJ5dGVzOmEsbkJ5dGVMZW5ndGg6dSxoOml9PWUsRD15dDw8QmlnSW50KHUqOCktaixjPW4uY3JlYXRlLGw9X2UoZS5uLGUubkJpdExlbmd0aCkscD1lLnV2UmF0aW98fCgoeSxmKT0+e3RyeXtyZXR1cm57aXNWYWxpZDohMCx2YWx1ZTpuLnNxcnQoeSpuLmludihmKSl9fWNhdGNoe3JldHVybntpc1ZhbGlkOiExLHZhbHVlOkd9fX0pLHc9ZS5hZGp1c3RTY2FsYXJCeXRlc3x8KHk9PnkpLGg9ZS5kb21haW58fCgoeSxmLGIpPT57aWYoVHQoXCJwaGZsYWdcIixiKSxmLmxlbmd0aHx8Yil0aHJvdyBuZXcgRXJyb3IoXCJDb250ZXh0cy9wcmUtaGFzaCBhcmUgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4geX0pO2Z1bmN0aW9uIGcoeSxmKXtmdChcImNvb3JkaW5hdGUgXCIreSxmLEcsRCl9ZnVuY3Rpb24gUyh5KXtpZighKHkgaW5zdGFuY2VvZiBkKSl0aHJvdyBuZXcgRXJyb3IoXCJFeHRlbmRlZFBvaW50IGV4cGVjdGVkXCIpfWNvbnN0IHY9eGUoKHksZik9Pntjb25zdHtleDpiLGV5OkUsZXo6Qn09eSxDPXkuaXMwKCk7Zj09bnVsbCYmKGY9Qz93cjpuLmludihCKSk7Y29uc3QgQT1jKGIqZiksVT1jKEUqZiksXz1jKEIqZik7aWYoQylyZXR1cm57eDpHLHk6an07aWYoXyE9PWopdGhyb3cgbmV3IEVycm9yKFwiaW52WiB3YXMgaW52YWxpZFwiKTtyZXR1cm57eDpBLHk6VX19KSxMPXhlKHk9Pntjb25zdHthOmYsZDpifT1lO2lmKHkuaXMwKCkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBaRVJPXCIpO2NvbnN0e2V4OkUsZXk6QixlejpDLGV0OkF9PXksVT1jKEUqRSksXz1jKEIqQiksVD1jKEMqQyksJD1jKFQqVCksUj1jKFUqZiksVj1jKFQqYyhSK18pKSxZPWMoJCtjKGIqYyhVKl8pKSk7aWYoViE9PVkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBlcXVhdGlvbiBsZWZ0ICE9IHJpZ2h0ICgxKVwiKTtjb25zdCBaPWMoRSpCKSxYPWMoQypBKTtpZihaIT09WCl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IGVxdWF0aW9uIGxlZnQgIT0gcmlnaHQgKDIpXCIpO3JldHVybiEwfSk7Y2xhc3MgZHtjb25zdHJ1Y3RvcihmLGIsRSxCKXt0aGlzLmV4PWYsdGhpcy5leT1iLHRoaXMuZXo9RSx0aGlzLmV0PUIsZyhcInhcIixmKSxnKFwieVwiLGIpLGcoXCJ6XCIsRSksZyhcInRcIixCKSxPYmplY3QuZnJlZXplKHRoaXMpfWdldCB4KCl7cmV0dXJuIHRoaXMudG9BZmZpbmUoKS54fWdldCB5KCl7cmV0dXJuIHRoaXMudG9BZmZpbmUoKS55fXN0YXRpYyBmcm9tQWZmaW5lKGYpe2lmKGYgaW5zdGFuY2VvZiBkKXRocm93IG5ldyBFcnJvcihcImV4dGVuZGVkIHBvaW50IG5vdCBhbGxvd2VkXCIpO2NvbnN0e3g6Yix5OkV9PWZ8fHt9O3JldHVybiBnKFwieFwiLGIpLGcoXCJ5XCIsRSksbmV3IGQoYixFLGosYyhiKkUpKX1zdGF0aWMgbm9ybWFsaXplWihmKXtjb25zdCBiPW4uaW52ZXJ0QmF0Y2goZi5tYXAoRT0+RS5leikpO3JldHVybiBmLm1hcCgoRSxCKT0+RS50b0FmZmluZShiW0JdKSkubWFwKGQuZnJvbUFmZmluZSl9c3RhdGljIG1zbShmLGIpe3JldHVybiBicihkLGwsZixiKX1fc2V0V2luZG93U2l6ZShmKXtxLnNldFdpbmRvd1NpemUodGhpcyxmKX1hc3NlcnRWYWxpZGl0eSgpe0wodGhpcyl9ZXF1YWxzKGYpe1MoZik7Y29uc3R7ZXg6YixleTpFLGV6OkJ9PXRoaXMse2V4OkMsZXk6QSxlejpVfT1mLF89YyhiKlUpLFQ9YyhDKkIpLCQ9YyhFKlUpLFI9YyhBKkIpO3JldHVybiBfPT09VCYmJD09PVJ9aXMwKCl7cmV0dXJuIHRoaXMuZXF1YWxzKGQuWkVSTyl9bmVnYXRlKCl7cmV0dXJuIG5ldyBkKGMoLXRoaXMuZXgpLHRoaXMuZXksdGhpcy5leixjKC10aGlzLmV0KSl9ZG91YmxlKCl7Y29uc3R7YTpmfT1lLHtleDpiLGV5OkUsZXo6Qn09dGhpcyxDPWMoYipiKSxBPWMoRSpFKSxVPWMoeXQqYyhCKkIpKSxfPWMoZipDKSxUPWIrRSwkPWMoYyhUKlQpLUMtQSksUj1fK0EsVj1SLVUsWT1fLUEsWj1jKCQqViksWD1jKFIqWSksZXQ9YygkKlkpLHB0PWMoVipSKTtyZXR1cm4gbmV3IGQoWixYLHB0LGV0KX1hZGQoZil7UyhmKTtjb25zdHthOmIsZDpFfT1lLHtleDpCLGV5OkMsZXo6QSxldDpVfT10aGlzLHtleDpfLGV5OlQsZXo6JCxldDpSfT1mO2lmKGI9PT1CaWdJbnQoLTEpKXtjb25zdCByZT1jKChDLUIpKihUK18pKSxvZT1jKChDK0IpKihULV8pKSxtdD1jKG9lLXJlKTtpZihtdD09PUcpcmV0dXJuIHRoaXMuZG91YmxlKCk7Y29uc3Qgc2U9YyhBKnl0KlIpLGllPWMoVSp5dCokKSx1ZT1pZStzZSxjZT1vZStyZSxhZT1pZS1zZSxEbj1jKHVlKm10KSxkbj1jKGNlKmFlKSxobj1jKHVlKmFlKSxsbj1jKG10KmNlKTtyZXR1cm4gbmV3IGQoRG4sZG4sbG4saG4pfWNvbnN0IFY9YyhCKl8pLFk9YyhDKlQpLFo9YyhVKkUqUiksWD1jKEEqJCksZXQ9YygoQitDKSooXytUKS1WLVkpLHB0PVgtWixlZT1YK1osbmU9YyhZLWIqViksdW49YyhldCpwdCksY249YyhlZSpuZSksYW49YyhldCpuZSksZm49YyhwdCplZSk7cmV0dXJuIG5ldyBkKHVuLGNuLGZuLGFuKX1zdWJ0cmFjdChmKXtyZXR1cm4gdGhpcy5hZGQoZi5uZWdhdGUoKSl9d05BRihmKXtyZXR1cm4gcS53TkFGQ2FjaGVkKHRoaXMsZixkLm5vcm1hbGl6ZVopfW11bHRpcGx5KGYpe2NvbnN0IGI9ZjtmdChcInNjYWxhclwiLGIsaixyKTtjb25zdHtwOkUsZjpCfT10aGlzLndOQUYoYik7cmV0dXJuIGQubm9ybWFsaXplWihbRSxCXSlbMF19bXVsdGlwbHlVbnNhZmUoZixiPWQuWkVSTyl7Y29uc3QgRT1mO3JldHVybiBmdChcInNjYWxhclwiLEUsRyxyKSxFPT09Rz9GOnRoaXMuaXMwKCl8fEU9PT1qP3RoaXM6cS53TkFGQ2FjaGVkVW5zYWZlKHRoaXMsRSxkLm5vcm1hbGl6ZVosYil9aXNTbWFsbE9yZGVyKCl7cmV0dXJuIHRoaXMubXVsdGlwbHlVbnNhZmUoaSkuaXMwKCl9aXNUb3JzaW9uRnJlZSgpe3JldHVybiBxLnVuc2FmZUxhZGRlcih0aGlzLHIpLmlzMCgpfXRvQWZmaW5lKGYpe3JldHVybiB2KHRoaXMsZil9Y2xlYXJDb2ZhY3Rvcigpe2NvbnN0e2g6Zn09ZTtyZXR1cm4gZj09PWo/dGhpczp0aGlzLm11bHRpcGx5VW5zYWZlKGYpfXN0YXRpYyBmcm9tSGV4KGYsYj0hMSl7Y29uc3R7ZDpFLGE6Qn09ZSxDPW4uQllURVM7Zj1XKFwicG9pbnRIZXhcIixmLEMpLFR0KFwiemlwMjE1XCIsYik7Y29uc3QgQT1mLnNsaWNlKCksVT1mW0MtMV07QVtDLTFdPVUmLTEyOTtjb25zdCBfPUV0KEEpLFQ9Yj9EOm4uT1JERVI7ZnQoXCJwb2ludEhleC55XCIsXyxHLFQpO2NvbnN0ICQ9YyhfKl8pLFI9YygkLWopLFY9YyhFKiQtQik7bGV0e2lzVmFsaWQ6WSx2YWx1ZTpafT1wKFIsVik7aWYoIVkpdGhyb3cgbmV3IEVycm9yKFwiUG9pbnQuZnJvbUhleDogaW52YWxpZCB5IGNvb3JkaW5hdGVcIik7Y29uc3QgWD0oWiZqKT09PWosZXQ9KFUmMTI4KSE9PTA7aWYoIWImJlo9PT1HJiZldCl0aHJvdyBuZXcgRXJyb3IoXCJQb2ludC5mcm9tSGV4OiB4PTAgYW5kIHhfMD0xXCIpO3JldHVybiBldCE9PVgmJihaPWMoLVopKSxkLmZyb21BZmZpbmUoe3g6Wix5Ol99KX1zdGF0aWMgZnJvbVByaXZhdGVLZXkoZil7cmV0dXJuIE8oZikucG9pbnR9dG9SYXdCeXRlcygpe2NvbnN0e3g6Zix5OmJ9PXRoaXMudG9BZmZpbmUoKSxFPU50KGIsbi5CWVRFUyk7cmV0dXJuIEVbRS5sZW5ndGgtMV18PWYmaj8xMjg6MCxFfXRvSGV4KCl7cmV0dXJuIEZ0KHRoaXMudG9SYXdCeXRlcygpKX19ZC5CQVNFPW5ldyBkKGUuR3gsZS5HeSxqLGMoZS5HeCplLkd5KSksZC5aRVJPPW5ldyBkKEcsaixqLEcpO2NvbnN0e0JBU0U6bSxaRVJPOkZ9PWQscT1scihkLHUqOCk7ZnVuY3Rpb24geih5KXtyZXR1cm4gSCh5LHIpfWZ1bmN0aW9uIEkoeSl7cmV0dXJuIHooRXQoeSkpfWZ1bmN0aW9uIE8oeSl7Y29uc3QgZj1uLkJZVEVTO3k9VyhcInByaXZhdGUga2V5XCIseSxmKTtjb25zdCBiPVcoXCJoYXNoZWQgcHJpdmF0ZSBrZXlcIixzKHkpLDIqZiksRT13KGIuc2xpY2UoMCxmKSksQj1iLnNsaWNlKGYsMipmKSxDPUkoRSksQT1tLm11bHRpcGx5KEMpLFU9QS50b1Jhd0J5dGVzKCk7cmV0dXJue2hlYWQ6RSxwcmVmaXg6QixzY2FsYXI6Qyxwb2ludDpBLHBvaW50Qnl0ZXM6VX19ZnVuY3Rpb24gb3QoeSl7cmV0dXJuIE8oeSkucG9pbnRCeXRlc31mdW5jdGlvbiB0dCh5PW5ldyBVaW50OEFycmF5LC4uLmYpe2NvbnN0IGI9eWUoLi4uZik7cmV0dXJuIEkocyhoKGIsVyhcImNvbnRleHRcIix5KSwhIW8pKSl9ZnVuY3Rpb24gc3QoeSxmLGI9e30pe3k9VyhcIm1lc3NhZ2VcIix5KSxvJiYoeT1vKHkpKTtjb25zdHtwcmVmaXg6RSxzY2FsYXI6Qixwb2ludEJ5dGVzOkN9PU8oZiksQT10dChiLmNvbnRleHQsRSx5KSxVPW0ubXVsdGlwbHkoQSkudG9SYXdCeXRlcygpLF89dHQoYi5jb250ZXh0LFUsQyx5KSxUPXooQStfKkIpO2Z0KFwic2lnbmF0dXJlLnNcIixULEcscik7Y29uc3QgJD15ZShVLE50KFQsbi5CWVRFUykpO3JldHVybiBXKFwicmVzdWx0XCIsJCxuLkJZVEVTKjIpfWNvbnN0IGF0PUVyO2Z1bmN0aW9uIEN0KHksZixiLEU9YXQpe2NvbnN0e2NvbnRleHQ6Qix6aXAyMTU6Q309RSxBPW4uQllURVM7eT1XKFwic2lnbmF0dXJlXCIseSwyKkEpLGY9VyhcIm1lc3NhZ2VcIixmKSxiPVcoXCJwdWJsaWNLZXlcIixiLEEpLEMhPT12b2lkIDAmJlR0KFwiemlwMjE1XCIsQyksbyYmKGY9byhmKSk7Y29uc3QgVT1FdCh5LnNsaWNlKEEsMipBKSk7bGV0IF8sVCwkO3RyeXtfPWQuZnJvbUhleChiLEMpLFQ9ZC5mcm9tSGV4KHkuc2xpY2UoMCxBKSxDKSwkPW0ubXVsdGlwbHlVbnNhZmUoVSl9Y2F0Y2h7cmV0dXJuITF9aWYoIUMmJl8uaXNTbWFsbE9yZGVyKCkpcmV0dXJuITE7Y29uc3QgUj10dChCLFQudG9SYXdCeXRlcygpLF8udG9SYXdCeXRlcygpLGYpO3JldHVybiBULmFkZChfLm11bHRpcGx5VW5zYWZlKFIpKS5zdWJ0cmFjdCgkKS5jbGVhckNvZmFjdG9yKCkuZXF1YWxzKGQuWkVSTyl9cmV0dXJuIG0uX3NldFdpbmRvd1NpemUoOCkse0NVUlZFOmUsZ2V0UHVibGljS2V5Om90LHNpZ246c3QsdmVyaWZ5OkN0LEV4dGVuZGVkUG9pbnQ6ZCx1dGlsczp7Z2V0RXh0ZW5kZWRQdWJsaWNLZXk6TyxyYW5kb21Qcml2YXRlS2V5OigpPT5hKG4uQllURVMpLHByZWNvbXB1dGUoeT04LGY9ZC5CQVNFKXtyZXR1cm4gZi5fc2V0V2luZG93U2l6ZSh5KSxmLm11bHRpcGx5KEJpZ0ludCgzKSksZn19fX1CaWdJbnQoMCksQmlnSW50KDEpO2NvbnN0IGt0PUJpZ0ludChcIjU3ODk2MDQ0NjE4NjU4MDk3NzExNzg1NDkyNTA0MzQzOTUzOTI2NjM0OTkyMzMyODIwMjgyMDE5NzI4NzkyMDAzOTU2NTY0ODE5OTQ5XCIpLFVlPUJpZ0ludChcIjE5NjgxMTYxMzc2NzA3NTA1OTU2ODA3MDc5MzA0OTg4NTQyMDE1NDQ2MDY2NTE1OTIzODkwMTYyNzQ0MDIxMDczMTIzODI5Nzg0NzUyXCIpO0JpZ0ludCgwKTtjb25zdCB4cj1CaWdJbnQoMSksVGU9QmlnSW50KDIpO0JpZ0ludCgzKTtjb25zdCBCcj1CaWdJbnQoNSksQ3I9QmlnSW50KDgpO2Z1bmN0aW9uIEFyKHQpe2NvbnN0IGU9QmlnSW50KDEwKSxuPUJpZ0ludCgyMCkscj1CaWdJbnQoNDApLG89QmlnSW50KDgwKSxzPWt0LHU9dCp0JXMqdCVzLGk9Sih1LFRlLHMpKnUlcyxEPUooaSx4cixzKSp0JXMsYz1KKEQsQnIscykqRCVzLGw9SihjLGUscykqYyVzLHA9SihsLG4scykqbCVzLHc9SihwLHIscykqcCVzLGg9Sih3LG8scykqdyVzLGc9SihoLG8scykqdyVzLFM9SihnLGUscykqYyVzO3JldHVybntwb3dfcF81Xzg6SihTLFRlLHMpKnQlcyxiMjp1fX1mdW5jdGlvbiBtcih0KXtyZXR1cm4gdFswXSY9MjQ4LHRbMzFdJj0xMjcsdFszMV18PTY0LHR9ZnVuY3Rpb24gX3IodCxlKXtjb25zdCBuPWt0LHI9SChlKmUqZSxuKSxvPUgocipyKmUsbikscz1Bcih0Km8pLnBvd19wXzVfODtsZXQgYT1IKHQqcipzLG4pO2NvbnN0IHU9SChlKmEqYSxuKSxpPWEsRD1IKGEqVWUsbiksYz11PT09dCxsPXU9PT1IKC10LG4pLHA9dT09PUgoLXQqVWUsbik7cmV0dXJuIGMmJihhPWkpLChsfHxwKSYmKGE9RCksdXIoYSxuKSYmKGE9SCgtYSxuKSkse2lzVmFsaWQ6Y3x8bCx2YWx1ZTphfX1jb25zdCBTcj0oKCk9Pl9lKGt0LHZvaWQgMCwhMCkpKCksdnI9KCgpPT4oe2E6QmlnSW50KC0xKSxkOkJpZ0ludChcIjM3MDk1NzA1OTM0NjY5NDM5MzQzMTM4MDgzNTA4NzU0NTY1MTg5NTQyMTEzODc5ODQzMjE5MDE2Mzg4Nzg1NTMzMDg1OTQwMjgzNTU1XCIpLEZwOlNyLG46QmlnSW50KFwiNzIzNzAwNTU3NzMzMjI2MjIxMzk3MzE4NjU2MzA0Mjk5NDI0MDg1NzExNjM1OTM3OTkwNzYwNjAwMTk1MDkzODI4NTQ1NDI1MDk4OVwiKSxoOkNyLEd4OkJpZ0ludChcIjE1MTEyMjIxMzQ5NTM1NDAwNzcyNTAxMTUxNDA5NTg4NTMxNTExNDU0MDEyNjkzMDQxODU3MjA2MDQ2MTEzMjgzOTQ5ODQ3NzYyMjAyXCIpLEd5OkJpZ0ludChcIjQ2MzE2ODM1Njk0OTI2NDc4MTY5NDI4Mzk0MDAzNDc1MTYzMTQxMzA3OTkzODY2MjU2MjI1NjE1NzgzMDMzNjAzMTY1MjUxODU1OTYwXCIpLGhhc2g6S24scmFuZG9tQnl0ZXM6aGUsYWRqdXN0U2NhbGFyQnl0ZXM6bXIsdXZSYXRpbzpfcn0pKSgpLFJ0PSgoKT0+eXIodnIpKSgpLGp0PVwiRWREU0FcIixadD1cIkpXVFwiLHV0PVwiLlwiLER0PVwiYmFzZTY0dXJsXCIsR3Q9XCJ1dGY4XCIseHQ9XCJ1dGY4XCIsVnQ9XCI6XCIsWXQ9XCJkaWRcIixKdD1cImtleVwiLGR0PVwiYmFzZTU4YnRjXCIsS3Q9XCJ6XCIsV3Q9XCJLMzZcIixGZT0zMixOZT0zMjtmdW5jdGlvbiBYdCh0KXtyZXR1cm4gZ2xvYmFsVGhpcy5CdWZmZXIhPW51bGw/bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk6dH1mdW5jdGlvbiBMZSh0PTApe3JldHVybiBnbG9iYWxUaGlzLkJ1ZmZlciE9bnVsbCYmZ2xvYmFsVGhpcy5CdWZmZXIuYWxsb2NVbnNhZmUhPW51bGw/WHQoZ2xvYmFsVGhpcy5CdWZmZXIuYWxsb2NVbnNhZmUodCkpOm5ldyBVaW50OEFycmF5KHQpfWZ1bmN0aW9uIE9lKHQsZSl7ZXx8KGU9dC5yZWR1Y2UoKG8scyk9Pm8rcy5sZW5ndGgsMCkpO2NvbnN0IG49TGUoZSk7bGV0IHI9MDtmb3IoY29uc3QgbyBvZiB0KW4uc2V0KG8scikscis9by5sZW5ndGg7cmV0dXJuIFh0KG4pfWZ1bmN0aW9uIElyKHQsZSl7aWYodC5sZW5ndGg+PTI1NSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQWxwaGFiZXQgdG9vIGxvbmdcIik7Zm9yKHZhciBuPW5ldyBVaW50OEFycmF5KDI1Nikscj0wO3I8bi5sZW5ndGg7cisrKW5bcl09MjU1O2Zvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXt2YXIgcz10LmNoYXJBdChvKSxhPXMuY2hhckNvZGVBdCgwKTtpZihuW2FdIT09MjU1KXRocm93IG5ldyBUeXBlRXJyb3IocytcIiBpcyBhbWJpZ3VvdXNcIik7blthXT1vfXZhciB1PXQubGVuZ3RoLGk9dC5jaGFyQXQoMCksRD1NYXRoLmxvZyh1KS9NYXRoLmxvZygyNTYpLGM9TWF0aC5sb2coMjU2KS9NYXRoLmxvZyh1KTtmdW5jdGlvbiBsKGgpe2lmKGggaW5zdGFuY2VvZiBVaW50OEFycmF5fHwoQXJyYXlCdWZmZXIuaXNWaWV3KGgpP2g9bmV3IFVpbnQ4QXJyYXkoaC5idWZmZXIsaC5ieXRlT2Zmc2V0LGguYnl0ZUxlbmd0aCk6QXJyYXkuaXNBcnJheShoKSYmKGg9VWludDhBcnJheS5mcm9tKGgpKSksIShoIGluc3RhbmNlb2YgVWludDhBcnJheSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIFVpbnQ4QXJyYXlcIik7aWYoaC5sZW5ndGg9PT0wKXJldHVyblwiXCI7Zm9yKHZhciBnPTAsUz0wLHY9MCxMPWgubGVuZ3RoO3YhPT1MJiZoW3ZdPT09MDspdisrLGcrKztmb3IodmFyIGQ9KEwtdikqYysxPj4+MCxtPW5ldyBVaW50OEFycmF5KGQpO3YhPT1MOyl7Zm9yKHZhciBGPWhbdl0scT0wLHo9ZC0xOyhGIT09MHx8cTxTKSYmeiE9PS0xO3otLSxxKyspRis9MjU2Km1bel0+Pj4wLG1bel09RiV1Pj4+MCxGPUYvdT4+PjA7aWYoRiE9PTApdGhyb3cgbmV3IEVycm9yKFwiTm9uLXplcm8gY2FycnlcIik7Uz1xLHYrK31mb3IodmFyIEk9ZC1TO0khPT1kJiZtW0ldPT09MDspSSsrO2Zvcih2YXIgTz1pLnJlcGVhdChnKTtJPGQ7KytJKU8rPXQuY2hhckF0KG1bSV0pO3JldHVybiBPfWZ1bmN0aW9uIHAoaCl7aWYodHlwZW9mIGghPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIFN0cmluZ1wiKTtpZihoLmxlbmd0aD09PTApcmV0dXJuIG5ldyBVaW50OEFycmF5O3ZhciBnPTA7aWYoaFtnXSE9PVwiIFwiKXtmb3IodmFyIFM9MCx2PTA7aFtnXT09PWk7KVMrKyxnKys7Zm9yKHZhciBMPShoLmxlbmd0aC1nKSpEKzE+Pj4wLGQ9bmV3IFVpbnQ4QXJyYXkoTCk7aFtnXTspe3ZhciBtPW5baC5jaGFyQ29kZUF0KGcpXTtpZihtPT09MjU1KXJldHVybjtmb3IodmFyIEY9MCxxPUwtMTsobSE9PTB8fEY8dikmJnEhPT0tMTtxLS0sRisrKW0rPXUqZFtxXT4+PjAsZFtxXT1tJTI1Nj4+PjAsbT1tLzI1Nj4+PjA7aWYobSE9PTApdGhyb3cgbmV3IEVycm9yKFwiTm9uLXplcm8gY2FycnlcIik7dj1GLGcrK31pZihoW2ddIT09XCIgXCIpe2Zvcih2YXIgej1MLXY7eiE9PUwmJmRbel09PT0wOyl6Kys7Zm9yKHZhciBJPW5ldyBVaW50OEFycmF5KFMrKEwteikpLE89Uzt6IT09TDspSVtPKytdPWRbeisrXTtyZXR1cm4gSX19fWZ1bmN0aW9uIHcoaCl7dmFyIGc9cChoKTtpZihnKXJldHVybiBnO3Rocm93IG5ldyBFcnJvcihgTm9uLSR7ZX0gY2hhcmFjdGVyYCl9cmV0dXJue2VuY29kZTpsLGRlY29kZVVuc2FmZTpwLGRlY29kZTp3fX12YXIgVXI9SXIsVHI9VXI7Y29uc3QgSGU9dD0+e2lmKHQgaW5zdGFuY2VvZiBVaW50OEFycmF5JiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIilyZXR1cm4gdDtpZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIG5ldyBVaW50OEFycmF5KHQpO2lmKEFycmF5QnVmZmVyLmlzVmlldyh0KSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk7dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlLCBtdXN0IGJlIGJpbmFyeSB0eXBlXCIpfSxGcj10PT5uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCksTnI9dD0+bmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHQpO2NsYXNzIExye2NvbnN0cnVjdG9yKGUsbixyKXt0aGlzLm5hbWU9ZSx0aGlzLnByZWZpeD1uLHRoaXMuYmFzZUVuY29kZT1yfWVuY29kZShlKXtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheSlyZXR1cm5gJHt0aGlzLnByZWZpeH0ke3RoaXMuYmFzZUVuY29kZShlKX1gO3Rocm93IEVycm9yKFwiVW5rbm93biB0eXBlLCBtdXN0IGJlIGJpbmFyeSB0eXBlXCIpfX1jbGFzcyBPcntjb25zdHJ1Y3RvcihlLG4scil7aWYodGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9bixuLmNvZGVQb2ludEF0KDApPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJlZml4IGNoYXJhY3RlclwiKTt0aGlzLnByZWZpeENvZGVQb2ludD1uLmNvZGVQb2ludEF0KDApLHRoaXMuYmFzZURlY29kZT1yfWRlY29kZShlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIil7aWYoZS5jb2RlUG9pbnRBdCgwKSE9PXRoaXMucHJlZml4Q29kZVBvaW50KXRocm93IEVycm9yKGBVbmFibGUgdG8gZGVjb2RlIG11bHRpYmFzZSBzdHJpbmcgJHtKU09OLnN0cmluZ2lmeShlKX0sICR7dGhpcy5uYW1lfSBkZWNvZGVyIG9ubHkgc3VwcG9ydHMgaW5wdXRzIHByZWZpeGVkIHdpdGggJHt0aGlzLnByZWZpeH1gKTtyZXR1cm4gdGhpcy5iYXNlRGVjb2RlKGUuc2xpY2UodGhpcy5wcmVmaXgubGVuZ3RoKSl9ZWxzZSB0aHJvdyBFcnJvcihcIkNhbiBvbmx5IG11bHRpYmFzZSBkZWNvZGUgc3RyaW5nc1wiKX1vcihlKXtyZXR1cm4gemUodGhpcyxlKX19Y2xhc3MgSHJ7Y29uc3RydWN0b3IoZSl7dGhpcy5kZWNvZGVycz1lfW9yKGUpe3JldHVybiB6ZSh0aGlzLGUpfWRlY29kZShlKXtjb25zdCBuPWVbMF0scj10aGlzLmRlY29kZXJzW25dO2lmKHIpcmV0dXJuIHIuZGVjb2RlKGUpO3Rocm93IFJhbmdlRXJyb3IoYFVuYWJsZSB0byBkZWNvZGUgbXVsdGliYXNlIHN0cmluZyAke0pTT04uc3RyaW5naWZ5KGUpfSwgb25seSBpbnB1dHMgcHJlZml4ZWQgd2l0aCAke09iamVjdC5rZXlzKHRoaXMuZGVjb2RlcnMpfSBhcmUgc3VwcG9ydGVkYCl9fWNvbnN0IHplPSh0LGUpPT5uZXcgSHIoey4uLnQuZGVjb2RlcnN8fHtbdC5wcmVmaXhdOnR9LC4uLmUuZGVjb2RlcnN8fHtbZS5wcmVmaXhdOmV9fSk7Y2xhc3MgenJ7Y29uc3RydWN0b3IoZSxuLHIsbyl7dGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9bix0aGlzLmJhc2VFbmNvZGU9cix0aGlzLmJhc2VEZWNvZGU9byx0aGlzLmVuY29kZXI9bmV3IExyKGUsbixyKSx0aGlzLmRlY29kZXI9bmV3IE9yKGUsbixvKX1lbmNvZGUoZSl7cmV0dXJuIHRoaXMuZW5jb2Rlci5lbmNvZGUoZSl9ZGVjb2RlKGUpe3JldHVybiB0aGlzLmRlY29kZXIuZGVjb2RlKGUpfX1jb25zdCBCdD0oe25hbWU6dCxwcmVmaXg6ZSxlbmNvZGU6bixkZWNvZGU6cn0pPT5uZXcgenIodCxlLG4sciksaHQ9KHtwcmVmaXg6dCxuYW1lOmUsYWxwaGFiZXQ6bn0pPT57Y29uc3R7ZW5jb2RlOnIsZGVjb2RlOm99PVRyKG4sZSk7cmV0dXJuIEJ0KHtwcmVmaXg6dCxuYW1lOmUsZW5jb2RlOnIsZGVjb2RlOnM9PkhlKG8ocykpfSl9LE1yPSh0LGUsbixyKT0+e2NvbnN0IG89e307Zm9yKGxldCBjPTA7YzxlLmxlbmd0aDsrK2Mpb1tlW2NdXT1jO2xldCBzPXQubGVuZ3RoO2Zvcig7dFtzLTFdPT09XCI9XCI7KS0tcztjb25zdCBhPW5ldyBVaW50OEFycmF5KHMqbi84fDApO2xldCB1PTAsaT0wLEQ9MDtmb3IobGV0IGM9MDtjPHM7KytjKXtjb25zdCBsPW9bdFtjXV07aWYobD09PXZvaWQgMCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoYE5vbi0ke3J9IGNoYXJhY3RlcmApO2k9aTw8bnxsLHUrPW4sdT49OCYmKHUtPTgsYVtEKytdPTI1NSZpPj51KX1pZih1Pj1ufHwyNTUmaTw8OC11KXRocm93IG5ldyBTeW50YXhFcnJvcihcIlVuZXhwZWN0ZWQgZW5kIG9mIGRhdGFcIik7cmV0dXJuIGF9LHFyPSh0LGUsbik9Pntjb25zdCByPWVbZS5sZW5ndGgtMV09PT1cIj1cIixvPSgxPDxuKS0xO2xldCBzPVwiXCIsYT0wLHU9MDtmb3IobGV0IGk9MDtpPHQubGVuZ3RoOysraSlmb3IodT11PDw4fHRbaV0sYSs9ODthPm47KWEtPW4scys9ZVtvJnU+PmFdO2lmKGEmJihzKz1lW28mdTw8bi1hXSkscilmb3IoO3MubGVuZ3RoKm4mNzspcys9XCI9XCI7cmV0dXJuIHN9LGs9KHtuYW1lOnQscHJlZml4OmUsYml0c1BlckNoYXI6bixhbHBoYWJldDpyfSk9PkJ0KHtwcmVmaXg6ZSxuYW1lOnQsZW5jb2RlKG8pe3JldHVybiBxcihvLHIsbil9LGRlY29kZShvKXtyZXR1cm4gTXIobyxyLG4sdCl9fSksJHI9QnQoe3ByZWZpeDpcIlxcMFwiLG5hbWU6XCJpZGVudGl0eVwiLGVuY29kZTp0PT5Ocih0KSxkZWNvZGU6dD0+RnIodCl9KTt2YXIga3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaWRlbnRpdHk6JHJ9KTtjb25zdCBScj1rKHtwcmVmaXg6XCIwXCIsbmFtZTpcImJhc2UyXCIsYWxwaGFiZXQ6XCIwMVwiLGJpdHNQZXJDaGFyOjF9KTt2YXIganI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTI6UnJ9KTtjb25zdCBacj1rKHtwcmVmaXg6XCI3XCIsbmFtZTpcImJhc2U4XCIsYWxwaGFiZXQ6XCIwMTIzNDU2N1wiLGJpdHNQZXJDaGFyOjN9KTt2YXIgR3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTg6WnJ9KTtjb25zdCBWcj1odCh7cHJlZml4OlwiOVwiLG5hbWU6XCJiYXNlMTBcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlcIn0pO3ZhciBZcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMTA6VnJ9KTtjb25zdCBKcj1rKHtwcmVmaXg6XCJmXCIsbmFtZTpcImJhc2UxNlwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZlwiLGJpdHNQZXJDaGFyOjR9KSxLcj1rKHtwcmVmaXg6XCJGXCIsbmFtZTpcImJhc2UxNnVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGXCIsYml0c1BlckNoYXI6NH0pO3ZhciBXcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMTY6SnIsYmFzZTE2dXBwZXI6S3J9KTtjb25zdCBYcj1rKHtwcmVmaXg6XCJiXCIsbmFtZTpcImJhc2UzMlwiLGFscGhhYmV0OlwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoyMzQ1NjdcIixiaXRzUGVyQ2hhcjo1fSksUHI9ayh7cHJlZml4OlwiQlwiLG5hbWU6XCJiYXNlMzJ1cHBlclwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoyMzQ1NjdcIixiaXRzUGVyQ2hhcjo1fSksUXI9ayh7cHJlZml4OlwiY1wiLG5hbWU6XCJiYXNlMzJwYWRcIixhbHBoYWJldDpcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MjM0NTY3PVwiLGJpdHNQZXJDaGFyOjV9KSx0bz1rKHtwcmVmaXg6XCJDXCIsbmFtZTpcImJhc2UzMnBhZHVwcGVyXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjIzNDU2Nz1cIixiaXRzUGVyQ2hhcjo1fSksZW89ayh7cHJlZml4OlwidlwiLG5hbWU6XCJiYXNlMzJoZXhcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2XCIsYml0c1BlckNoYXI6NX0pLG5vPWsoe3ByZWZpeDpcIlZcIixuYW1lOlwiYmFzZTMyaGV4dXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWXCIsYml0c1BlckNoYXI6NX0pLHJvPWsoe3ByZWZpeDpcInRcIixuYW1lOlwiYmFzZTMyaGV4cGFkXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dj1cIixiaXRzUGVyQ2hhcjo1fSksb289ayh7cHJlZml4OlwiVFwiLG5hbWU6XCJiYXNlMzJoZXhwYWR1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVY9XCIsYml0c1BlckNoYXI6NX0pLHNvPWsoe3ByZWZpeDpcImhcIixuYW1lOlwiYmFzZTMyelwiLGFscGhhYmV0OlwieWJuZHJmZzhlamttY3BxeG90MXV3aXN6YTM0NWg3NjlcIixiaXRzUGVyQ2hhcjo1fSk7dmFyIGlvPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UzMjpYcixiYXNlMzJ1cHBlcjpQcixiYXNlMzJwYWQ6UXIsYmFzZTMycGFkdXBwZXI6dG8sYmFzZTMyaGV4OmVvLGJhc2UzMmhleHVwcGVyOm5vLGJhc2UzMmhleHBhZDpybyxiYXNlMzJoZXhwYWR1cHBlcjpvbyxiYXNlMzJ6OnNvfSk7Y29uc3QgdW89aHQoe3ByZWZpeDpcImtcIixuYW1lOlwiYmFzZTM2XCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIn0pLGNvPWh0KHtwcmVmaXg6XCJLXCIsbmFtZTpcImJhc2UzNnVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIn0pO3ZhciBhbz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMzY6dW8sYmFzZTM2dXBwZXI6Y299KTtjb25zdCBmbz1odCh7bmFtZTpcImJhc2U1OGJ0Y1wiLHByZWZpeDpcInpcIixhbHBoYWJldDpcIjEyMzQ1Njc4OUFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWmFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXpcIn0pLERvPWh0KHtuYW1lOlwiYmFzZTU4ZmxpY2tyXCIscHJlZml4OlwiWlwiLGFscGhhYmV0OlwiMTIzNDU2Nzg5YWJjZGVmZ2hpamttbm9wcXJzdHV2d3h5ekFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWlwifSk7dmFyIGhvPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2U1OGJ0YzpmbyxiYXNlNThmbGlja3I6RG99KTtjb25zdCBsbz1rKHtwcmVmaXg6XCJtXCIsbmFtZTpcImJhc2U2NFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGJpdHNQZXJDaGFyOjZ9KSxibz1rKHtwcmVmaXg6XCJNXCIsbmFtZTpcImJhc2U2NHBhZFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixiaXRzUGVyQ2hhcjo2fSkscG89ayh7cHJlZml4OlwidVwiLG5hbWU6XCJiYXNlNjR1cmxcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV9cIixiaXRzUGVyQ2hhcjo2fSksd289ayh7cHJlZml4OlwiVVwiLG5hbWU6XCJiYXNlNjR1cmxwYWRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV89XCIsYml0c1BlckNoYXI6Nn0pO3ZhciBFbz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlNjQ6bG8sYmFzZTY0cGFkOmJvLGJhc2U2NHVybDpwbyxiYXNlNjR1cmxwYWQ6d299KTtjb25zdCBNZT1BcnJheS5mcm9tKFwiXFx1ezFGNjgwfVxcdXsxRkE5MH1cXHUyNjA0XFx1ezFGNkYwfVxcdXsxRjMwQ31cXHV7MUYzMTF9XFx1ezFGMzEyfVxcdXsxRjMxM31cXHV7MUYzMTR9XFx1ezFGMzE1fVxcdXsxRjMxNn1cXHV7MUYzMTd9XFx1ezFGMzE4fVxcdXsxRjMwRH1cXHV7MUYzMEZ9XFx1ezFGMzBFfVxcdXsxRjQwOX1cXHUyNjAwXFx1ezFGNEJCfVxcdXsxRjVBNX1cXHV7MUY0QkV9XFx1ezFGNEJGfVxcdXsxRjYwMn1cXHUyNzY0XFx1ezFGNjBEfVxcdXsxRjkyM31cXHV7MUY2MEF9XFx1ezFGNjRGfVxcdXsxRjQ5NX1cXHV7MUY2MkR9XFx1ezFGNjE4fVxcdXsxRjQ0RH1cXHV7MUY2MDV9XFx1ezFGNDRGfVxcdXsxRjYwMX1cXHV7MUY1MjV9XFx1ezFGOTcwfVxcdXsxRjQ5NH1cXHV7MUY0OTZ9XFx1ezFGNDk5fVxcdXsxRjYyMn1cXHV7MUY5MTR9XFx1ezFGNjA2fVxcdXsxRjY0NH1cXHV7MUY0QUF9XFx1ezFGNjA5fVxcdTI2M0FcXHV7MUY0NEN9XFx1ezFGOTE3fVxcdXsxRjQ5Q31cXHV7MUY2MTR9XFx1ezFGNjBFfVxcdXsxRjYwN31cXHV7MUYzMzl9XFx1ezFGOTI2fVxcdXsxRjM4OX1cXHV7MUY0OUV9XFx1MjcwQ1xcdTI3MjhcXHV7MUY5Mzd9XFx1ezFGNjMxfVxcdXsxRjYwQ31cXHV7MUYzMzh9XFx1ezFGNjRDfVxcdXsxRjYwQn1cXHV7MUY0OTd9XFx1ezFGNDlBfVxcdXsxRjYwRn1cXHV7MUY0OUJ9XFx1ezFGNjQyfVxcdXsxRjQ5M31cXHV7MUY5Mjl9XFx1ezFGNjA0fVxcdXsxRjYwMH1cXHV7MUY1QTR9XFx1ezFGNjAzfVxcdXsxRjRBRn1cXHV7MUY2NDh9XFx1ezFGNDQ3fVxcdXsxRjNCNn1cXHV7MUY2MTJ9XFx1ezFGOTJEfVxcdTI3NjNcXHV7MUY2MUN9XFx1ezFGNDhCfVxcdXsxRjQ0MH1cXHV7MUY2MkF9XFx1ezFGNjExfVxcdXsxRjRBNX1cXHV7MUY2NEJ9XFx1ezFGNjFFfVxcdXsxRjYyOX1cXHV7MUY2MjF9XFx1ezFGOTJBfVxcdXsxRjQ0QX1cXHV7MUY5NzN9XFx1ezFGNjI1fVxcdXsxRjkyNH1cXHV7MUY0NDl9XFx1ezFGNDgzfVxcdXsxRjYzM31cXHUyNzBCXFx1ezFGNjFBfVxcdXsxRjYxRH1cXHV7MUY2MzR9XFx1ezFGMzFGfVxcdXsxRjYyQ31cXHV7MUY2NDN9XFx1ezFGMzQwfVxcdXsxRjMzN31cXHV7MUY2M0J9XFx1ezFGNjEzfVxcdTJCNTBcXHUyNzA1XFx1ezFGOTdBfVxcdXsxRjMwOH1cXHV7MUY2MDh9XFx1ezFGOTE4fVxcdXsxRjRBNn1cXHUyNzE0XFx1ezFGNjIzfVxcdXsxRjNDM31cXHV7MUY0OTB9XFx1MjYzOVxcdXsxRjM4QX1cXHV7MUY0OTh9XFx1ezFGNjIwfVxcdTI2MURcXHV7MUY2MTV9XFx1ezFGMzNBfVxcdXsxRjM4Mn1cXHV7MUYzM0J9XFx1ezFGNjEwfVxcdXsxRjU5NX1cXHV7MUY0OUR9XFx1ezFGNjRBfVxcdXsxRjYzOX1cXHV7MUY1RTN9XFx1ezFGNEFCfVxcdXsxRjQ4MH1cXHV7MUY0NTF9XFx1ezFGM0I1fVxcdXsxRjkxRX1cXHV7MUY2MUJ9XFx1ezFGNTM0fVxcdXsxRjYyNH1cXHV7MUYzM0N9XFx1ezFGNjJCfVxcdTI2QkRcXHV7MUY5MTl9XFx1MjYxNVxcdXsxRjNDNn1cXHV7MUY5MkJ9XFx1ezFGNDQ4fVxcdXsxRjYyRX1cXHV7MUY2NDZ9XFx1ezFGMzdCfVxcdXsxRjM0M31cXHV7MUY0MzZ9XFx1ezFGNDgxfVxcdXsxRjYzMn1cXHV7MUYzM0Z9XFx1ezFGOUUxfVxcdXsxRjM4MX1cXHUyNkExXFx1ezFGMzFFfVxcdXsxRjM4OH1cXHUyNzRDXFx1MjcwQVxcdXsxRjQ0Qn1cXHV7MUY2MzB9XFx1ezFGOTI4fVxcdXsxRjYzNn1cXHV7MUY5MUR9XFx1ezFGNkI2fVxcdXsxRjRCMH1cXHV7MUYzNTN9XFx1ezFGNEEyfVxcdXsxRjkxRn1cXHV7MUY2NDF9XFx1ezFGNkE4fVxcdXsxRjRBOH1cXHV7MUY5MkN9XFx1MjcwOFxcdXsxRjM4MH1cXHV7MUYzN0F9XFx1ezFGOTEzfVxcdXsxRjYxOX1cXHV7MUY0OUZ9XFx1ezFGMzMxfVxcdXsxRjYxNn1cXHV7MUY0NzZ9XFx1ezFGOTc0fVxcdTI1QjZcXHUyN0ExXFx1Mjc1M1xcdXsxRjQ4RX1cXHV7MUY0Qjh9XFx1MkIwN1xcdXsxRjYyOH1cXHV7MUYzMUF9XFx1ezFGOThCfVxcdXsxRjYzN31cXHV7MUY1N0F9XFx1MjZBMFxcdXsxRjY0NX1cXHV7MUY2MUZ9XFx1ezFGNjM1fVxcdXsxRjQ0RX1cXHV7MUY5MzJ9XFx1ezFGOTIwfVxcdXsxRjkyN31cXHV7MUY0Q0N9XFx1ezFGNTM1fVxcdXsxRjQ4NX1cXHV7MUY5RDB9XFx1ezFGNDNFfVxcdXsxRjM1Mn1cXHV7MUY2MTd9XFx1ezFGOTExfVxcdXsxRjMwQX1cXHV7MUY5MkZ9XFx1ezFGNDM3fVxcdTI2MEVcXHV7MUY0QTd9XFx1ezFGNjJGfVxcdXsxRjQ4Nn1cXHV7MUY0NDZ9XFx1ezFGM0E0fVxcdXsxRjY0N31cXHV7MUYzNTF9XFx1Mjc0NFxcdXsxRjMzNH1cXHV7MUY0QTN9XFx1ezFGNDM4fVxcdXsxRjQ4Q31cXHV7MUY0Q0R9XFx1ezFGOTQwfVxcdXsxRjkyMn1cXHV7MUY0NDV9XFx1ezFGNEExfVxcdXsxRjRBOX1cXHV7MUY0NTB9XFx1ezFGNEY4fVxcdXsxRjQ3Qn1cXHV7MUY5MTB9XFx1ezFGOTJFfVxcdXsxRjNCQ31cXHV7MUY5NzV9XFx1ezFGNkE5fVxcdXsxRjM0RX1cXHV7MUYzNEF9XFx1ezFGNDdDfVxcdXsxRjQ4RH1cXHV7MUY0RTN9XFx1ezFGOTQyfVwiKSxnbz1NZS5yZWR1Y2UoKHQsZSxuKT0+KHRbbl09ZSx0KSxbXSkseW89TWUucmVkdWNlKCh0LGUsbik9Pih0W2UuY29kZVBvaW50QXQoMCldPW4sdCksW10pO2Z1bmN0aW9uIHhvKHQpe3JldHVybiB0LnJlZHVjZSgoZSxuKT0+KGUrPWdvW25dLGUpLFwiXCIpfWZ1bmN0aW9uIEJvKHQpe2NvbnN0IGU9W107Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3Qgcj15b1tuLmNvZGVQb2ludEF0KDApXTtpZihyPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihgTm9uLWJhc2UyNTZlbW9qaSBjaGFyYWN0ZXI6ICR7bn1gKTtlLnB1c2gocil9cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpfWNvbnN0IENvPUJ0KHtwcmVmaXg6XCJcXHV7MUY2ODB9XCIsbmFtZTpcImJhc2UyNTZlbW9qaVwiLGVuY29kZTp4byxkZWNvZGU6Qm99KTt2YXIgQW89T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTI1NmVtb2ppOkNvfSksbW89JGUscWU9MTI4LF9vPTEyNyxTbz1+X28sdm89TWF0aC5wb3coMiwzMSk7ZnVuY3Rpb24gJGUodCxlLG4pe2U9ZXx8W10sbj1ufHwwO2Zvcih2YXIgcj1uO3Q+PXZvOyllW24rK109dCYyNTV8cWUsdC89MTI4O2Zvcig7dCZTbzspZVtuKytdPXQmMjU1fHFlLHQ+Pj49NztyZXR1cm4gZVtuXT10fDAsJGUuYnl0ZXM9bi1yKzEsZX12YXIgSW89UHQsVW89MTI4LGtlPTEyNztmdW5jdGlvbiBQdCh0LHIpe3ZhciBuPTAscj1yfHwwLG89MCxzPXIsYSx1PXQubGVuZ3RoO2Rve2lmKHM+PXUpdGhyb3cgUHQuYnl0ZXM9MCxuZXcgUmFuZ2VFcnJvcihcIkNvdWxkIG5vdCBkZWNvZGUgdmFyaW50XCIpO2E9dFtzKytdLG4rPW88Mjg/KGEma2UpPDxvOihhJmtlKSpNYXRoLnBvdygyLG8pLG8rPTd9d2hpbGUoYT49VW8pO3JldHVybiBQdC5ieXRlcz1zLXIsbn12YXIgVG89TWF0aC5wb3coMiw3KSxGbz1NYXRoLnBvdygyLDE0KSxObz1NYXRoLnBvdygyLDIxKSxMbz1NYXRoLnBvdygyLDI4KSxPbz1NYXRoLnBvdygyLDM1KSxIbz1NYXRoLnBvdygyLDQyKSx6bz1NYXRoLnBvdygyLDQ5KSxNbz1NYXRoLnBvdygyLDU2KSxxbz1NYXRoLnBvdygyLDYzKSwkbz1mdW5jdGlvbih0KXtyZXR1cm4gdDxUbz8xOnQ8Rm8/Mjp0PE5vPzM6dDxMbz80OnQ8T28/NTp0PEhvPzY6dDx6bz83OnQ8TW8/ODp0PHFvPzk6MTB9LGtvPXtlbmNvZGU6bW8sZGVjb2RlOklvLGVuY29kaW5nTGVuZ3RoOiRvfSxSZT1rbztjb25zdCBqZT0odCxlLG49MCk9PihSZS5lbmNvZGUodCxlLG4pLGUpLFplPXQ9PlJlLmVuY29kaW5nTGVuZ3RoKHQpLFF0PSh0LGUpPT57Y29uc3Qgbj1lLmJ5dGVMZW5ndGgscj1aZSh0KSxvPXIrWmUobikscz1uZXcgVWludDhBcnJheShvK24pO3JldHVybiBqZSh0LHMsMCksamUobixzLHIpLHMuc2V0KGUsbyksbmV3IFJvKHQsbixlLHMpfTtjbGFzcyBSb3tjb25zdHJ1Y3RvcihlLG4scixvKXt0aGlzLmNvZGU9ZSx0aGlzLnNpemU9bix0aGlzLmRpZ2VzdD1yLHRoaXMuYnl0ZXM9b319Y29uc3QgR2U9KHtuYW1lOnQsY29kZTplLGVuY29kZTpufSk9Pm5ldyBqbyh0LGUsbik7Y2xhc3Mgam97Y29uc3RydWN0b3IoZSxuLHIpe3RoaXMubmFtZT1lLHRoaXMuY29kZT1uLHRoaXMuZW5jb2RlPXJ9ZGlnZXN0KGUpe2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXtjb25zdCBuPXRoaXMuZW5jb2RlKGUpO3JldHVybiBuIGluc3RhbmNlb2YgVWludDhBcnJheT9RdCh0aGlzLmNvZGUsbik6bi50aGVuKHI9PlF0KHRoaXMuY29kZSxyKSl9ZWxzZSB0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX19Y29uc3QgVmU9dD0+YXN5bmMgZT0+bmV3IFVpbnQ4QXJyYXkoYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QodCxlKSksWm89R2Uoe25hbWU6XCJzaGEyLTI1NlwiLGNvZGU6MTgsZW5jb2RlOlZlKFwiU0hBLTI1NlwiKX0pLEdvPUdlKHtuYW1lOlwic2hhMi01MTJcIixjb2RlOjE5LGVuY29kZTpWZShcIlNIQS01MTJcIil9KTt2YXIgVm89T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsc2hhMjU2OlpvLHNoYTUxMjpHb30pO2NvbnN0IFllPTAsWW89XCJpZGVudGl0eVwiLEplPUhlLEpvPXQ9PlF0KFllLEplKHQpKSxLbz17Y29kZTpZZSxuYW1lOllvLGVuY29kZTpKZSxkaWdlc3Q6Sm99O3ZhciBXbz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxpZGVudGl0eTpLb30pO25ldyBUZXh0RW5jb2RlcixuZXcgVGV4dERlY29kZXI7Y29uc3QgS2U9ey4uLmtyLC4uLmpyLC4uLkdyLC4uLllyLC4uLldyLC4uLmlvLC4uLmFvLC4uLmhvLC4uLkVvLC4uLkFvfTsoey4uLlZvLC4uLldvfSk7ZnVuY3Rpb24gV2UodCxlLG4scil7cmV0dXJue25hbWU6dCxwcmVmaXg6ZSxlbmNvZGVyOntuYW1lOnQscHJlZml4OmUsZW5jb2RlOm59LGRlY29kZXI6e2RlY29kZTpyfX19Y29uc3QgWGU9V2UoXCJ1dGY4XCIsXCJ1XCIsdD0+XCJ1XCIrbmV3IFRleHREZWNvZGVyKFwidXRmOFwiKS5kZWNvZGUodCksdD0+bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHQuc3Vic3RyaW5nKDEpKSksdGU9V2UoXCJhc2NpaVwiLFwiYVwiLHQ9PntsZXQgZT1cImFcIjtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbbl0pO3JldHVybiBlfSx0PT57dD10LnN1YnN0cmluZygxKTtjb25zdCBlPUxlKHQubGVuZ3RoKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllW25dPXQuY2hhckNvZGVBdChuKTtyZXR1cm4gZX0pLFBlPXt1dGY4OlhlLFwidXRmLThcIjpYZSxoZXg6S2UuYmFzZTE2LGxhdGluMTp0ZSxhc2NpaTp0ZSxiaW5hcnk6dGUsLi4uS2V9O2Z1bmN0aW9uIGN0KHQsZT1cInV0ZjhcIil7Y29uc3Qgbj1QZVtlXTtpZighbil0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGVuY29kaW5nIFwiJHtlfVwiYCk7cmV0dXJuKGU9PT1cInV0ZjhcInx8ZT09PVwidXRmLThcIikmJmdsb2JhbFRoaXMuQnVmZmVyIT1udWxsJiZnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tIT1udWxsP2dsb2JhbFRoaXMuQnVmZmVyLmZyb20odC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCkudG9TdHJpbmcoXCJ1dGY4XCIpOm4uZW5jb2Rlci5lbmNvZGUodCkuc3Vic3RyaW5nKDEpfWZ1bmN0aW9uIHJ0KHQsZT1cInV0ZjhcIil7Y29uc3Qgbj1QZVtlXTtpZighbil0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGVuY29kaW5nIFwiJHtlfVwiYCk7cmV0dXJuKGU9PT1cInV0ZjhcInx8ZT09PVwidXRmLThcIikmJmdsb2JhbFRoaXMuQnVmZmVyIT1udWxsJiZnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tIT1udWxsP1h0KGdsb2JhbFRoaXMuQnVmZmVyLmZyb20odCxcInV0Zi04XCIpKTpuLmRlY29kZXIuZGVjb2RlKGAke24ucHJlZml4fSR7dH1gKX1mdW5jdGlvbiBsdCh0KXtyZXR1cm4gcG4oY3QocnQodCxEdCksR3QpKX1mdW5jdGlvbiBidCh0KXtyZXR1cm4gY3QocnQod24odCksR3QpLER0KX1mdW5jdGlvbiBRZSh0KXtjb25zdCBlPXJ0KFd0LGR0KSxuPUt0K2N0KE9lKFtlLHRdKSxkdCk7cmV0dXJuW1l0LEp0LG5dLmpvaW4oVnQpfWZ1bmN0aW9uIHRuKHQpe2NvbnN0W2UsbixyXT10LnNwbGl0KFZ0KTtpZihlIT09WXR8fG4hPT1KdCl0aHJvdyBuZXcgRXJyb3IoJ0lzc3VlciBtdXN0IGJlIGEgRElEIHdpdGggbWV0aG9kIFwia2V5XCInKTtpZihyLnNsaWNlKDAsMSkhPT1LdCl0aHJvdyBuZXcgRXJyb3IoXCJJc3N1ZXIgbXVzdCBiZSBhIGtleSBpbiBtdWxpY29kZWMgZm9ybWF0XCIpO2NvbnN0IG89cnQoci5zbGljZSgxKSxkdCk7aWYoY3Qoby5zbGljZSgwLDIpLGR0KSE9PVd0KXRocm93IG5ldyBFcnJvcignSXNzdWVyIG11c3QgYmUgYSBwdWJsaWMga2V5IHdpdGggdHlwZSBcIkVkMjU1MTlcIicpO2NvbnN0IHM9by5zbGljZSgyKTtpZihzLmxlbmd0aCE9PUZlKXRocm93IG5ldyBFcnJvcihcIklzc3VlciBtdXN0IGJlIGEgcHVibGljIGtleSB3aXRoIGxlbmd0aCAzMiBieXRlc1wiKTtyZXR1cm4gc31mdW5jdGlvbiBlbih0KXtyZXR1cm4gY3QodCxEdCl9ZnVuY3Rpb24gbm4odCl7cmV0dXJuIHJ0KHQsRHQpfWZ1bmN0aW9uIHJuKHQpe3JldHVybiBydChbYnQodC5oZWFkZXIpLGJ0KHQucGF5bG9hZCldLmpvaW4odXQpLHh0KX1mdW5jdGlvbiBYbyh0KXtjb25zdCBlPWN0KHQseHQpLnNwbGl0KHV0KSxuPWx0KGVbMF0pLHI9bHQoZVsxXSk7cmV0dXJue2hlYWRlcjpuLHBheWxvYWQ6cn19ZnVuY3Rpb24gb24odCl7cmV0dXJuW2J0KHQuaGVhZGVyKSxidCh0LnBheWxvYWQpLGVuKHQuc2lnbmF0dXJlKV0uam9pbih1dCl9ZnVuY3Rpb24gc24odCl7Y29uc3QgZT10LnNwbGl0KHV0KSxuPWx0KGVbMF0pLHI9bHQoZVsxXSksbz1ubihlWzJdKSxzPXJ0KGUuc2xpY2UoMCwyKS5qb2luKHV0KSx4dCk7cmV0dXJue2hlYWRlcjpuLHBheWxvYWQ6cixzaWduYXR1cmU6byxkYXRhOnN9fWZ1bmN0aW9uIFBvKHQ9aGUoTmUpKXtjb25zdCBlPVJ0LmdldFB1YmxpY0tleSh0KTtyZXR1cm57c2VjcmV0S2V5Ok9lKFt0LGVdKSxwdWJsaWNLZXk6ZX19YXN5bmMgZnVuY3Rpb24gUW8odCxlLG4scixvPWJuKERhdGUubm93KCkpKXtjb25zdCBzPXthbGc6anQsdHlwOlp0fSxhPVFlKHIucHVibGljS2V5KSx1PW8rbixpPXtpc3M6YSxzdWI6dCxhdWQ6ZSxpYXQ6byxleHA6dX0sRD1ybih7aGVhZGVyOnMscGF5bG9hZDppfSksYz1SdC5zaWduKEQsci5zZWNyZXRLZXkuc2xpY2UoMCwzMikpO3JldHVybiBvbih7aGVhZGVyOnMscGF5bG9hZDppLHNpZ25hdHVyZTpjfSl9YXN5bmMgZnVuY3Rpb24gdHModCl7Y29uc3R7aGVhZGVyOmUscGF5bG9hZDpuLGRhdGE6cixzaWduYXR1cmU6b309c24odCk7aWYoZS5hbGchPT1qdHx8ZS50eXAhPT1adCl0aHJvdyBuZXcgRXJyb3IoXCJKV1QgbXVzdCB1c2UgRWREU0EgYWxnb3JpdGhtXCIpO2NvbnN0IHM9dG4obi5pc3MpO3JldHVybiBSdC52ZXJpZnkobyxyLHMpfWV4cG9ydHt4dCBhcyBEQVRBX0VOQ09ESU5HLFZ0IGFzIERJRF9ERUxJTUlURVIsSnQgYXMgRElEX01FVEhPRCxZdCBhcyBESURfUFJFRklYLEd0IGFzIEpTT05fRU5DT0RJTkcsdXQgYXMgSldUX0RFTElNSVRFUixEdCBhcyBKV1RfRU5DT0RJTkcsanQgYXMgSldUX0lSSURJVU1fQUxHLFp0IGFzIEpXVF9JUklESVVNX1RZUCxOZSBhcyBLRVlfUEFJUl9TRUVEX0xFTkdUSCxLdCBhcyBNVUxUSUNPREVDX0VEMjU1MTlfQkFTRSxkdCBhcyBNVUxUSUNPREVDX0VEMjU1MTlfRU5DT0RJTkcsV3QgYXMgTVVMVElDT0RFQ19FRDI1NTE5X0hFQURFUixGZSBhcyBNVUxUSUNPREVDX0VEMjU1MTlfTEVOR1RILFhvIGFzIGRlY29kZURhdGEsdG4gYXMgZGVjb2RlSXNzLGx0IGFzIGRlY29kZUpTT04sc24gYXMgZGVjb2RlSldULG5uIGFzIGRlY29kZVNpZyxybiBhcyBlbmNvZGVEYXRhLFFlIGFzIGVuY29kZUlzcyxidCBhcyBlbmNvZGVKU09OLG9uIGFzIGVuY29kZUpXVCxlbiBhcyBlbmNvZGVTaWcsUG8gYXMgZ2VuZXJhdGVLZXlQYWlyLFFvIGFzIHNpZ25KV1QsdHMgYXMgdmVyaWZ5SldUfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@walletconnect/safe-json/dist/esm/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   safeJsonParse: () => (/* binding */ safeJsonParse),\n/* harmony export */   safeJsonStringify: () => (/* binding */ safeJsonStringify)\n/* harmony export */ });\nconst JSONStringify = data => JSON.stringify(data, (_, value) => typeof value === \"bigint\" ? value.toString() + \"n\" : value);\nconst JSONParse = json => {\n    const numbersBiggerThanMaxInt = /([\\[:])?(\\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\\}\\]])/g;\n    const serializedData = json.replace(numbersBiggerThanMaxInt, \"$1\\\"$2n\\\"$3\");\n    return JSON.parse(serializedData, (_, value) => {\n        const isCustomFormatBigInt = typeof value === \"string\" && value.match(/^\\d+n$/);\n        if (isCustomFormatBigInt)\n            return BigInt(value.substring(0, value.length - 1));\n        return value;\n    });\n};\nfunction safeJsonParse(value) {\n    if (typeof value !== \"string\") {\n        throw new Error(`Cannot safe json parse value of type ${typeof value}`);\n    }\n    try {\n        return JSONParse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n}\nfunction safeJsonStringify(value) {\n    return typeof value === \"string\" ? value : JSONStringify(value) || \"\";\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uL2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBLGlEQUFpRCxJQUFJLDZPQUE2TztBQUNsUztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0EsZ0VBQWdFLGFBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3NhZmUtanNvbi9kaXN0L2VzbS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKU09OU3RyaW5naWZ5ID0gZGF0YSA9PiBKU09OLnN0cmluZ2lmeShkYXRhLCAoXywgdmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIiA/IHZhbHVlLnRvU3RyaW5nKCkgKyBcIm5cIiA6IHZhbHVlKTtcbmNvbnN0IEpTT05QYXJzZSA9IGpzb24gPT4ge1xuICAgIGNvbnN0IG51bWJlcnNCaWdnZXJUaGFuTWF4SW50ID0gLyhbXFxbOl0pPyhcXGR7MTcsfXwoPzpbOV0oPzpbMS05XTA3MTk5MjU0NzQwOTkxfDBbMS05XTcxOTkyNTQ3NDA5OTF8MDBbOC05XTE5OTI1NDc0MDk5MXwwMDdbMi05XTk5MjU0NzQwOTkxfDAwNzE5OVszLTldNTQ3NDA5OTF8MDA3MTk5Mls2LTldNDc0MDk5MXwwMDcxOTkyNVs1LTldNzQwOTkxfDAwNzE5OTI1NFs4LTldNDA5OTF8MDA3MTk5MjU0N1s1LTldMDk5MXwwMDcxOTkyNTQ3NFsxLTldOTkxfDAwNzE5OTI1NDc0MDk5WzItOV0pKSkoWyxcXH1cXF1dKS9nO1xuICAgIGNvbnN0IHNlcmlhbGl6ZWREYXRhID0ganNvbi5yZXBsYWNlKG51bWJlcnNCaWdnZXJUaGFuTWF4SW50LCBcIiQxXFxcIiQyblxcXCIkM1wiKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzZXJpYWxpemVkRGF0YSwgKF8sIHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQ3VzdG9tRm9ybWF0QmlnSW50ID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlLm1hdGNoKC9eXFxkK24kLyk7XG4gICAgICAgIGlmIChpc0N1c3RvbUZvcm1hdEJpZ0ludClcbiAgICAgICAgICAgIHJldHVybiBCaWdJbnQodmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBzYWZlSnNvblBhcnNlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBzYWZlIGpzb24gcGFyc2UgdmFsdWUgb2YgdHlwZSAke3R5cGVvZiB2YWx1ZX1gKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT05QYXJzZSh2YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVKc29uU3RyaW5naWZ5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlIDogSlNPTlN0cmluZ2lmeSh2YWx1ZSkgfHwgXCJcIjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/sign-client/dist/index.es.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/sign-client/dist/index.es.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_CONTEXT: () => (/* binding */ wt),\n/* harmony export */   AUTH_KEYS_CONTEXT: () => (/* binding */ mt),\n/* harmony export */   AUTH_PAIRING_TOPIC_CONTEXT: () => (/* binding */ _t),\n/* harmony export */   AUTH_PROTOCOL: () => (/* binding */ yt),\n/* harmony export */   AUTH_PUBLIC_KEY_NAME: () => (/* binding */ ce),\n/* harmony export */   AUTH_REQUEST_CONTEXT: () => (/* binding */ Et),\n/* harmony export */   AUTH_STORAGE_PREFIX: () => (/* binding */ ae),\n/* harmony export */   AUTH_VERSION: () => (/* binding */ Ss),\n/* harmony export */   ENGINE_CONTEXT: () => (/* binding */ dt),\n/* harmony export */   ENGINE_QUEUE_STATES: () => (/* binding */ $),\n/* harmony export */   ENGINE_RPC_OPTS: () => (/* binding */ N),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ _s),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ ms),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Es),\n/* harmony export */   METHODS_TO_VERIFY: () => (/* binding */ gt),\n/* harmony export */   PROPOSAL_CONTEXT: () => (/* binding */ pt),\n/* harmony export */   PROPOSAL_EXPIRY: () => (/* binding */ fs),\n/* harmony export */   PROPOSAL_EXPIRY_MESSAGE: () => (/* binding */ $e),\n/* harmony export */   REQUEST_CONTEXT: () => (/* binding */ ut),\n/* harmony export */   SESSION_CONTEXT: () => (/* binding */ ht),\n/* harmony export */   SESSION_EXPIRY: () => (/* binding */ J),\n/* harmony export */   SESSION_REQUEST_EXPIRY_BOUNDARIES: () => (/* binding */ _e),\n/* harmony export */   SIGN_CLIENT_CONTEXT: () => (/* binding */ ke),\n/* harmony export */   SIGN_CLIENT_DEFAULT: () => (/* binding */ me),\n/* harmony export */   SIGN_CLIENT_EVENTS: () => (/* binding */ ys),\n/* harmony export */   SIGN_CLIENT_PROTOCOL: () => (/* binding */ De),\n/* harmony export */   SIGN_CLIENT_STORAGE_OPTIONS: () => (/* binding */ ws),\n/* harmony export */   SIGN_CLIENT_STORAGE_PREFIX: () => (/* binding */ we),\n/* harmony export */   SIGN_CLIENT_VERSION: () => (/* binding */ Le),\n/* harmony export */   SessionStore: () => (/* binding */ Ms),\n/* harmony export */   SignClient: () => (/* binding */ $s),\n/* harmony export */   TVF_METHODS: () => (/* binding */ Ue),\n/* harmony export */   WALLETCONNECT_DEEPLINK_CHOICE: () => (/* binding */ Me),\n/* harmony export */   \"default\": () => (/* binding */ Ee)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/core */ \"(ssr)/./node_modules/@walletconnect/core/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/@walletconnect/sign-client/node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst De=\"wc\",Le=2,ke=\"client\",we=`${De}@${Le}:${ke}:`,me={name:ke,logger:\"error\",controller:!1,relayUrl:\"wss://relay.walletconnect.org\"},ys={session_proposal:\"session_proposal\",session_update:\"session_update\",session_extend:\"session_extend\",session_ping:\"session_ping\",session_delete:\"session_delete\",session_expire:\"session_expire\",session_request:\"session_request\",session_request_sent:\"session_request_sent\",session_event:\"session_event\",proposal_expire:\"proposal_expire\",session_authenticate:\"session_authenticate\",session_request_expire:\"session_request_expire\",session_connect:\"session_connect\"},ws={database:\":memory:\"},Me=\"WALLETCONNECT_DEEPLINK_CHOICE\",ms={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},_s=\"history\",Es=\"0.3\",pt=\"proposal\",fs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.THIRTY_DAYS,$e=\"Proposal expired\",ht=\"session\",J=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.SEVEN_DAYS,dt=\"engine\",N={wc_sessionPropose:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1114},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1119}}},_e={min:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,max:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.SEVEN_DAYS},$={idle:\"IDLE\",active:\"ACTIVE\"},Ue={eth_sendTransaction:{key:\"\"},eth_sendRawTransaction:{key:\"\"},wallet_sendCalls:{key:\"\"},solana_signTransaction:{key:\"signature\"},solana_signAllTransactions:{key:\"transactions\"},solana_signAndSendTransaction:{key:\"signature\"}},ut=\"request\",gt=[\"wc_sessionPropose\",\"wc_sessionRequest\",\"wc_authRequest\",\"wc_sessionAuthenticate\"],yt=\"wc\",Ss=1.5,wt=\"auth\",mt=\"authKeys\",_t=\"pairingTopics\",Et=\"requests\",ae=`${yt}@${1.5}:${wt}:`,ce=`${ae}:PUB_KEY`;var Rs=Object.defineProperty,vs=Object.defineProperties,Is=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,Ts=Object.prototype.hasOwnProperty,qs=Object.prototype.propertyIsEnumerable,Ke=(S,n,e)=>n in S?Rs(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,v=(S,n)=>{for(var e in n||(n={}))Ts.call(n,e)&&Ke(S,e,n[e]);if(ft)for(var e of ft(n))qs.call(n,e)&&Ke(S,e,n[e]);return S},b=(S,n)=>vs(S,Is(n)),c=(S,n,e)=>Ke(S,typeof n!=\"symbol\"?n+\"\":n,e);class Ps extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.IEngine{constructor(n){super(n),c(this,\"name\",dt),c(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_2___default())),c(this,\"initialized\",!1),c(this,\"requestQueue\",{state:$.idle,queue:[]}),c(this,\"sessionRequestQueue\",{state:$.idle,queue:[]}),c(this,\"requestQueueDelay\",_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND),c(this,\"expectedPairingMethodMap\",new Map),c(this,\"recentlyDeletedMap\",new Map),c(this,\"recentlyDeletedLimit\",200),c(this,\"relayMessageCache\",[]),c(this,\"pendingSessions\",new Map),c(this,\"init\",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(N)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(this.requestQueueDelay)))}),c(this,\"connect\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=b(v({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:r,sessionProperties:o,scopedProperties:a,relays:l}=t;let p=s,h,u=!1;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn(\"connect() with existing pairing topic is deprecated and will be removed in the next major release.\"),u=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!u){const{topic:T,uri:U}=await this.client.core.pairing.create();p=T,h=U}if(!p){const{message:T}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`connect() pairing topic: ${p}`);throw new Error(T)}const d=await this.client.core.crypto.generateKeyPair(),w=N.wc_sessionPropose.req.ttl||_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,m=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(w),f=b(v(v({requiredNamespaces:i,optionalNamespaces:r,relays:l??[{protocol:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:p},o&&{sessionProperties:o}),a&&{scopedProperties:a}),{id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()}),_=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",f.id),{reject:g,resolve:A,done:D}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(w,$e),I=({id:T})=>{T===f.id&&(this.client.events.off(\"proposal_expire\",I),this.pendingSessions.delete(f.id),this.events.emit(_,{error:{message:$e,code:0}}))};return this.client.events.on(\"proposal_expire\",I),this.events.once(_,({error:T,session:U})=>{this.client.events.off(\"proposal_expire\",I),T?g(T):U&&A(U)}),await this.sendRequest({topic:p,method:\"wc_sessionPropose\",params:f,throwOnFailedPublish:!0,clientRpcId:f.id}),await this.setProposal(f.id,f),{uri:h,approval:D}}),c(this,\"pair\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(t){throw this.client.logger.error(\"pair() failed\"),t}}),c(this,\"approve\",async e=>{var t,s,i;const r=this.client.core.eventClient.createEvent({properties:{topic:(t=e?.id)==null?void 0:t.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(q){throw r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.no_internet_connection),q}try{await this.isValidProposalId(e?.id)}catch(q){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_not_found),q}try{await this.isValidApprove(e)}catch(q){throw this.client.logger.error(\"approve() -> isValidApprove() failed\"),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_namespace_validation_failure),q}const{id:o,relayProtocol:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=e,d=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:r.eventId});const{pairingTopic:w,proposer:m,requiredNamespaces:f,optionalNamespaces:_}=d;let g=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:w});g||(g=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,properties:{topic:w,trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_namespaces_validation_success]}}));const A=await this.client.core.crypto.generateKeyPair(),D=m.publicKey,I=await this.client.core.crypto.generateSharedKey(A,D),T=v(v(v({relay:{protocol:a??\"irn\"},namespaces:l,controller:{publicKey:A,metadata:this.client.metadata},expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),U=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:U})}catch(q){throw g.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.subscribe_session_topic_failure),q}g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribe_session_topic_success);const fe=b(v({},T),{topic:I,requiredNamespaces:f,optionalNamespaces:_,pairingTopic:w,acknowledged:!1,self:T.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:A,transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(I,fe),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.store_session);try{g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.publishing_session_settle),await this.sendRequest({topic:I,method:\"wc_sessionSettle\",params:T,throwOnFailedPublish:!0}).catch(q=>{throw g?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_settle_publish_failure),q}),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_settle_publish_success),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.publishing_session_approve),await this.sendResult({id:o,topic:w,result:{relay:{protocol:a??\"irn\"},responderPublicKey:A},throwOnFailedPublish:!0}).catch(q=>{throw g?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_publish_failure),q}),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_publish_success)}catch(q){throw this.client.logger.error(q),this.client.session.delete(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.relayer.unsubscribe(I),q}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:w,metadata:m.metadata}),await this.client.proposal.delete(o,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.pairing.activate({topic:w}),await this.setExpiry(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),c(this,\"reject\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(r){throw this.client.logger.error(\"reject() -> isValidReject() failed\"),r}const{id:t,reason:s}=e;let i;try{i=this.client.proposal.get(t).pairingTopic}catch(r){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),r}i&&(await this.sendError({id:t,topic:i,error:s,rpcOpts:N.wc_sessionPropose.reject}),await this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")))}),c(this,\"update\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(h){throw this.client.logger.error(\"update() -> isValidUpdate() failed\"),h}const{topic:t,namespaces:s}=e,{done:i,resolve:r,reject:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(),a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),p=this.client.session.get(t).namespaces;return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",a),({error:h})=>{h?o(h):r()}),await this.client.session.update(t,{namespaces:s}),await this.sendRequest({topic:t,method:\"wc_sessionUpdate\",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(t,{namespaces:p}),o(h)}),{acknowledged:i}}),c(this,\"extend\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(a){throw this.client.logger.error(\"extend() -> isValidExtend() failed\"),a}const{topic:t}=e,s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),{done:i,resolve:r,reject:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),({error:a})=>{a?o(a):r()}),await this.setExpiry(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)),this.sendRequest({topic:t,method:\"wc_sessionExtend\",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(a=>{o(a)}),{acknowledged:i}}),c(this,\"request\",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(_){throw this.client.logger.error(\"request() -> isValidRequest() failed\"),_}const{chainId:t,request:s,topic:i,expiry:r=N.wc_sessionRequest.req.ttl}=e,o=this.client.session.get(i);o?.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:p,resolve:h,reject:u}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(r,\"Request expired. Please try again.\");this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",a),({error:_,result:g})=>{_?u(_):h(g)});const d=\"wc_sessionRequest\",w=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(w)return await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:{request:b(v({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:t},expiry:r,throwOnFailedPublish:!0,appLink:w}).catch(_=>u(_)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:t,id:a}),await p();const m={request:b(v({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:t},f=this.shouldSetTVF(d,m);return await Promise.all([new Promise(async _=>{await this.sendRequest(v({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:m,expiry:r,throwOnFailedPublish:!0},f&&{tvf:this.getTVFParams(a,m)})).catch(g=>u(g)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:t,id:a}),_()}),new Promise(async _=>{var g;if(!((g=o.sessionConfig)!=null&&g.disableDeepLink)){const A=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDeepLink)(this.client.core.storage,Me);await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.handleDeeplinkRedirect)({id:a,topic:i,wcDeepLink:A})}_()}),p()]).then(_=>_[2])}),c(this,\"respond\",async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:s}=e,{id:i}=s,r=this.client.session.get(t);r.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(r.peer.metadata,r.transportType);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)?await this.sendResult({id:i,topic:t,result:s.result,throwOnFailedPublish:!0,appLink:o}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&await this.sendError({id:i,topic:t,error:s.error,appLink:o}),this.cleanupAfterResponse(e)}),c(this,\"ping\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(s){throw this.client.logger.error(\"ping() -> isValidPing() failed\"),s}const{topic:t}=e;if(this.client.session.keys.includes(t)){const s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:r,resolve:o,reject:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),({error:l})=>{l?a(l):o()}),await Promise.all([this.sendRequest({topic:t,method:\"wc_sessionPing\",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn(\"ping() on pairing topic is deprecated and will be removed in the next major release.\"),await this.client.core.pairing.ping({topic:t}))}),c(this,\"emit\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:s,chainId:i}=e,r=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)();await this.sendRequest({topic:t,method:\"wc_sessionEvent\",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:r,clientRpcId:o})}),c(this,\"disconnect\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:\"wc_sessionDelete\",params:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISMATCHED_TOPIC\",`Session or pairing topic not found: ${t}`);throw new Error(s)}}),c(this,\"find\",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isSessionCompatible)(t,e)))),c(this,\"getPendingSessionRequests\",()=>this.client.pendingRequest.getAll()),c(this,\"authenticate\",async(e,t)=>{var s;this.isInitialized(),this.isValidAuthenticate(e);const i=t&&this.client.core.linkModeSupportedApps.includes(t)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),r=i?_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;r===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:a=\"\",uri:l,domain:p,nonce:h,type:u,exp:d,nbf:w,methods:m=[],expiry:f}=e,_=[...e.resources||[]],{topic:g,uri:A}=await this.client.core.pairing.create({methods:[\"wc_sessionAuthenticate\"],transportType:r});this.client.logger.info({message:\"Generated new pairing\",pairing:{topic:g,uri:A}});const D=await this.client.core.crypto.generateKeyPair(),I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(D);if(await Promise.all([this.client.auth.authKeys.set(ce,{responseTopic:I,publicKey:D}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:g})]),await this.client.core.relayer.subscribe(I,{transportType:r}),this.client.logger.info(`sending request to new pairing topic: ${g}`),m.length>0){const{namespace:x}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(o[0]);let L=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createEncodedRecap)(x,\"request\",m);(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(_)&&(L=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeEncodedRecaps)(L,_.pop())),_.push(L)}const T=f&&f>N.wc_sessionAuthenticate.req.ttl?f:N.wc_sessionAuthenticate.req.ttl,U={authPayload:{type:u??\"caip122\",chains:o,statement:a,aud:l,domain:p,version:\"1\",nonce:h,iat:new Date().toISOString(),exp:d,nbf:w,resources:_},requester:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(T)},fe={eip155:{chains:o,methods:[...new Set([\"personal_sign\",...m])],events:[\"chainChanged\",\"accountsChanged\"]}},q={requiredNamespaces:{},optionalNamespaces:fe,relays:[{protocol:\"irn\"}],pairingTopic:g,proposer:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionPropose.req.ttl),id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()},{done:Rt,resolve:je,reject:Se}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(T,\"Request expired\"),te=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),le=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",q.id),Re=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",te),pe=async({error:x,session:L})=>{this.events.off(Re,ve),x?Se(x):L&&je({session:L})},ve=async x=>{var L,Fe,Qe;if(await this.deletePendingAuthRequest(te,{message:\"fulfilled\",code:0}),x.error){const ie=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",\"wc_sessionAuthenticate\");return x.error.code===ie.code?void 0:(this.events.off(le,pe),Se(x.error.message))}await this.deleteProposal(q.id),this.events.off(le,pe);const{cacaos:He,responder:Q}=x.result,Te=[],ze=[];for(const ie of He){await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:ie,projectId:this.client.core.projectId})||(this.client.logger.error(ie,\"Signature verification failed\"),Se((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\")));const{p:qe}=ie,Pe=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(qe.resources),Ye=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(qe.iss)],vt=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(qe.iss);if(Pe){const Ne=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(Pe),It=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(Pe);Te.push(...Ne),Ye.push(...It)}for(const Ne of Ye)ze.push(`${Ne}:${vt}`)}const se=await this.client.core.crypto.generateSharedKey(D,Q.publicKey);let he;Te.length>0&&(he={topic:se,acknowledged:!0,self:{publicKey:D,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:g,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(Te)],[...new Set(ze)]),transportType:r},await this.client.core.relayer.subscribe(se,{transportType:r}),await this.client.session.set(se,he),g&&await this.client.core.pairing.updateMetadata({topic:g,metadata:Q.metadata}),he=this.client.session.get(se)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(Fe=Q.metadata.redirect)!=null&&Fe.linkMode&&(Qe=Q.metadata.redirect)!=null&&Qe.universal&&t&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(se,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode})),je({auths:He,session:he})};this.events.once(le,pe),this.events.once(Re,ve);let Ie;try{if(i){const x=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionAuthenticate\",U,te);this.client.core.history.set(g,x);const L=await this.client.core.crypto.encode(\"\",x,{type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_2,encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL});Ie=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(t,g,L)}else await Promise.all([this.sendRequest({topic:g,method:\"wc_sessionAuthenticate\",params:U,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:te}),this.sendRequest({topic:g,method:\"wc_sessionPropose\",params:q,expiry:N.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:q.id})])}catch(x){throw this.events.off(le,pe),this.events.off(Re,ve),x}return await this.setProposal(q.id,q),await this.setAuthRequest(te,{request:b(v({},U),{verifyContext:{}}),pairingTopic:g,transportType:r}),{uri:Ie??A,response:Rt}}),c(this,\"approveSessionAuthenticate\",async e=>{const{id:t,auths:s}=e,i=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.authenticated_session_approve_started]}});try{this.isInitialized()}catch(f){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.no_internet_connection),f}const r=this.getPendingAuthRequest(t);if(!r)throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${t}`);const o=r.transportType||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;o===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=r.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(a),h={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:a,senderPublicKey:l},u=[],d=[];for(const f of s){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:f,projectId:this.client.core.projectId})){i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.invalid_cacao);const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\");throw await this.sendError({id:t,topic:p,error:I,encodeOpts:h}),new Error(I.message)}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.cacaos_verified);const{p:_}=f,g=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(_.resources),A=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(_.iss)],D=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(_.iss);if(g){const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(g),T=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(g);u.push(...I),A.push(...T)}for(const I of A)d.push(`${I}:${D}`)}const w=await this.client.core.crypto.generateSharedKey(l,a);i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.create_authenticated_session_topic);let m;if(u?.length>0){m={topic:w,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:a,metadata:r.requester.metadata},controller:a,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:r.pairingTopic,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(u)],[...new Set(d)]),transportType:o},i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:o})}catch(f){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.subscribe_authenticated_session_topic_failure),f}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribe_authenticated_session_topic_success),await this.client.session.set(w,m),i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:r.pairingTopic,metadata:r.requester.metadata})}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:t,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(r.requester.metadata,o)})}catch(f){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_approve_publish_failure),f}return await this.client.auth.requests.delete(t,{message:\"fulfilled\",code:0}),await this.client.core.pairing.activate({topic:r.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),c(this,\"rejectSessionAuthenticate\",async e=>{this.isInitialized();const{id:t,reason:s}=e,i=this.getPendingAuthRequest(t);if(!i)throw new Error(`Could not find pending auth request with id ${t}`);i.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const r=i.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(r),l={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:r,senderPublicKey:o};await this.sendError({id:t,topic:a,error:s,encodeOpts:l,rpcOpts:N.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(t,{message:\"rejected\",code:0}),await this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),c(this,\"formatAuthMessage\",e=>{this.isInitialized();const{request:t,iss:s}=e;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.formatMessage)(t,s)}),c(this,\"processRelayMessageCache\",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),c(this,\"cleanupDuplicatePairings\",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var r,o;return((r=i.peerMetadata)==null?void 0:r.url)&&((o=i.peerMetadata)==null?void 0:o.url)===e.peer.metadata.url&&i.topic&&i.topic!==t.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info(\"Duplicate pairings clean up finished\")}catch(t){this.client.logger.error(t)}}),c(this,\"deleteSession\",async e=>{var t;const{topic:s,expirerHasDeleted:i=!1,emitEvent:r=!0,id:o=0}=e,{self:a}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.addToRecentlyDeleted(s,\"session\"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Me).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),s===((t=this.sessionRequestQueue.queue[0])==null?void 0:t.topic)&&(this.sessionRequestQueue.state=$.idle),r&&this.client.events.emit(\"session_delete\",{id:o,topic:s})}),c(this,\"deleteProposal\",async(e,t)=>{if(t)try{const s=this.client.proposal.get(e),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,\"proposal\")}),c(this,\"deletePendingSessionRequest\",async(e,t,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,\"request\"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==e),s&&(this.sessionRequestQueue.state=$.idle,this.client.events.emit(\"session_request_expire\",{id:e}))}),c(this,\"deletePendingAuthRequest\",async(e,t,s=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)])}),c(this,\"setExpiry\",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),c(this,\"setProposal\",async(e,t)=>{this.client.core.expirer.set(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),c(this,\"setAuthRequest\",async(e,t)=>{const{request:s,pairingTopic:i,transportType:r=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay}=t;this.client.core.expirer.set(e,s.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:e,pairingTopic:i,verifyContext:s.verifyContext,transportType:r})}),c(this,\"setPendingSessionRequest\",async e=>{const{id:t,topic:s,params:i,verifyContext:r}=e,o=i.request.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,o),await this.client.pendingRequest.set(t,{id:t,topic:s,params:i,verifyContext:r})}),c(this,\"sendRequest\",async e=>{const{topic:t,method:s,params:i,expiry:r,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:l,appLink:p,tvf:h}=e,u=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(s,i,a);let d;const w=!!p;try{const _=w?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;d=await this.client.core.crypto.encode(t,u,{encoding:_})}catch(_){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),_}let m;if(gt.includes(s)){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(u)),g=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(d);m=await this.client.core.verify.register({id:g,decryptedId:_})}const f=N[s].req;if(f.attestation=m,r&&(f.ttl=r),o&&(f.id=o),this.client.core.history.set(t,u),w){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(p,t,d);await global.Linking.openURL(_,this.client.name)}else{const _=N[s].req;r&&(_.ttl=r),o&&(_.id=o),_.tvf=b(v({},h),{correlationId:u.id}),l?(_.internal=b(v({},_.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,d,_)):this.client.core.relayer.publish(t,d,_).catch(g=>this.client.logger.error(g))}return u.id}),c(this,\"sendResult\",async e=>{const{id:t,topic:s,result:i,throwOnFailedPublish:r,encodeOpts:o,appLink:a}=e,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(t,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const w=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,b(v({},o||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),w}let u,d;try{u=await this.client.core.history.get(s,t);const w=u.request;try{this.shouldSetTVF(w.method,w.params)&&(d=this.getTVFParams(t,w.params,i))}catch(m){this.client.logger.warn(\"sendResult() -> getTVFParams() failed\",m)}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${t}) failed`),w}if(h){const w=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(w,this.client.name)}else{const w=u.request.method,m=N[w].res;m.tvf=b(v({},d),{correlationId:t}),r?(m.internal=b(v({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,m)):this.client.core.relayer.publish(s,p,m).catch(f=>this.client.logger.error(f))}await this.client.core.history.resolve(l)}),c(this,\"sendError\",async e=>{const{id:t,topic:s,error:i,encodeOpts:r,rpcOpts:o,appLink:a}=e,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(t,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const d=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,b(v({},r||{}),{encoding:d}))}catch(d){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),d}let u;try{u=await this.client.core.history.get(s,t)}catch(d){throw this.client.logger.error(`sendError() -> history.get(${s}, ${t}) failed`),d}if(h){const d=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(d,this.client.name)}else{const d=u.request.method,w=o||N[d].res;this.client.core.relayer.publish(s,p,w)}await this.client.core.history.resolve(l)}),c(this,\"cleanup\",async()=>{const e=[],t=[];this.client.session.getAll().forEach(s=>{let i=!1;(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&e.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiryTimestamp)&&t.push(s.id)}),await Promise.all([...e.map(s=>this.deleteSession({topic:s})),...t.map(s=>this.deleteProposal(s))])}),c(this,\"onProviderMessageEvent\",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),c(this,\"onRelayEventRequest\",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),c(this,\"processRequestsQueue\",async()=>{if(this.requestQueue.state===$.active){this.client.logger.info(\"Request queue already active, skipping...\");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=$.active;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(t){this.client.logger.warn(t)}}this.requestQueue.state=$.idle}),c(this,\"processRequest\",async e=>{const{topic:t,payload:s,attestation:i,transportType:r,encryptedId:o}=e,a=s.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:a}))switch(a){case\"wc_sessionPropose\":return await this.onSessionProposeRequest({topic:t,payload:s,attestation:i,encryptedId:o});case\"wc_sessionSettle\":return await this.onSessionSettleRequest(t,s);case\"wc_sessionUpdate\":return await this.onSessionUpdateRequest(t,s);case\"wc_sessionExtend\":return await this.onSessionExtendRequest(t,s);case\"wc_sessionPing\":return await this.onSessionPingRequest(t,s);case\"wc_sessionDelete\":return await this.onSessionDeleteRequest(t,s);case\"wc_sessionRequest\":return await this.onSessionRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});case\"wc_sessionEvent\":return await this.onSessionEventRequest(t,s);case\"wc_sessionAuthenticate\":return await this.onSessionAuthenticateRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),c(this,\"onRelayEventResponse\",async e=>{const{topic:t,payload:s,transportType:i}=e,r=(await this.client.core.history.get(t,s.id)).request.method;switch(r){case\"wc_sessionPropose\":return this.onSessionProposeResponse(t,s,i);case\"wc_sessionSettle\":return this.onSessionSettleResponse(t,s);case\"wc_sessionUpdate\":return this.onSessionUpdateResponse(t,s);case\"wc_sessionExtend\":return this.onSessionExtendResponse(t,s);case\"wc_sessionPing\":return this.onSessionPingResponse(t,s);case\"wc_sessionRequest\":return this.onSessionRequestResponse(t,s);case\"wc_sessionAuthenticate\":return this.onSessionAuthenticateResponse(t,s);default:return this.client.logger.info(`Unsupported response method ${r}`)}}),c(this,\"onRelayEventUnknownPayload\",e=>{const{topic:t}=e,{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),c(this,\"shouldIgnorePairingRequest\",e=>{const{topic:t,requestMethod:s}=e,i=this.expectedPairingMethodMap.get(t);return!i||i.includes(s)?!1:!!(i.includes(\"wc_sessionAuthenticate\")&&this.client.events.listenerCount(\"session_authenticate\")>0)}),c(this,\"onSessionProposeRequest\",async e=>{const{topic:t,payload:s,attestation:i,encryptedId:r}=e,{params:o,id:a}=s;try{const l=this.client.core.eventClient.getEvent({topic:t});this.client.events.listenerCount(\"session_proposal\")===0&&(console.warn(\"No listener for session_proposal event\"),l?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_ERRORS.proposal_listener_not_found)),this.isValidConnect(v({},s.params));const p=o.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionPropose.req.ttl),h=v({id:a,pairingTopic:t,expiryTimestamp:p},o);await this.setProposal(a,h);const u=await this.getVerifyContext({attestationId:i,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(s)),encryptedId:r,metadata:h.proposer.metadata});l?.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_TRACES.emit_session_proposal),this.client.events.emit(\"session_proposal\",{id:a,params:h,verifyContext:u})}catch(l){await this.sendError({id:a,topic:t,error:l,rpcOpts:N.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),c(this,\"onSessionProposeResponse\",async(e,t,s)=>{const{id:i}=t;if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)){const{result:r}=t;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",result:r});const o=this.client.proposal.get(i);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",selfPublicKey:a});const l=r.responderPublicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",peerPublicKey:l});const p=await this.client.core.crypto.generateSharedKey(a,l);this.pendingSessions.set(i,{sessionTopic:p,pairingTopic:e,proposalId:i,publicKey:a});const h=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",subscriptionId:h}),await this.client.core.pairing.activate({topic:e})}else if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)){await this.client.proposal.delete(i,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"));const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",i);if(this.events.listenerCount(r)===0)throw new Error(`emitting ${r} without any listeners, 954`);this.events.emit(r,{error:t.error})}}),c(this,\"onSessionSettleRequest\",async(e,t)=>{const{id:s,params:i}=t;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:o,expiry:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=t.params,d=[...this.pendingSessions.values()].find(f=>f.sessionTopic===e);if(!d)return this.client.logger.error(`Pending session not found for topic ${e}`);const w=this.client.proposal.get(d.proposalId),m=b(v(v(v({topic:e,relay:r,expiry:a,namespaces:l,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces,controller:o.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit(\"session_connect\",{session:m}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",d.proposalId),{session:m}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionSettleResponse\",async(e,t)=>{const{id:s}=t;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&(await this.client.session.delete(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{error:t.error}))}),c(this,\"onSessionUpdateRequest\",async(e,t)=>{const{params:s,id:i}=t;try{const r=`${e}_session_update`,o=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:e,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"INVALID_UPDATE_REQUEST\")});return}this.isValidUpdate(v({topic:e},s));try{_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,i),await this.client.session.update(e,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:e,result:!0,throwOnFailedPublish:!0})}catch(a){throw _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.delete(r),a}this.client.events.emit(\"session_update\",{id:i,topic:e,params:s})}catch(r){await this.sendError({id:i,topic:e,error:r}),this.client.logger.error(r)}}),c(this,\"isRequestOutOfSync\",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),c(this,\"onSessionUpdateResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{error:t.error})}),c(this,\"onSessionExtendRequest\",async(e,t)=>{const{id:s}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_extend\",{id:s,topic:e})}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionExtendResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{error:t.error})}),c(this,\"onSessionPingRequest\",async(e,t)=>{const{id:s}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_ping\",{id:s,topic:e})}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionPingResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{error:t.error})},500)}),c(this,\"onSessionDeleteRequest\",async(e,t)=>{const{id:s}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.publish,async()=>{i(await this.deleteSession({topic:e,id:s}))})}),this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),c(this,\"onSessionRequest\",async e=>{var t,s,i;const{topic:r,payload:o,attestation:a,encryptedId:l,transportType:p}=e,{id:h,params:u}=o;try{await this.isValidRequest(v({topic:r},u));const d=this.client.session.get(r),w=await this.getVerifyContext({attestationId:a,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionRequest\",u,h))),encryptedId:l,metadata:d.peer.metadata,transportType:p}),m={id:h,topic:r,params:u,verifyContext:w};await this.setPendingSessionRequest(m),p===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(t=d.peer.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp((s=d.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(d){await this.sendError({id:h,topic:r,error:d}),this.client.logger.error(d)}}),c(this,\"onSessionRequestResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:t.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:t.error})}),c(this,\"onSessionEventRequest\",async(e,t)=>{const{id:s,params:i}=t;try{const r=`${e}_session_event_${i.event.name}`,o=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(v({topic:e},i)),this.client.events.emit(\"session_event\",{id:s,topic:e,params:i}),_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,s)}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionAuthenticateResponse\",(e,t)=>{const{id:s}=t;this.client.logger.trace({type:\"method\",method:\"onSessionAuthenticateResponse\",topic:e,payload:t}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:t.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:t.error})}),c(this,\"onSessionAuthenticateRequest\",async e=>{var t;const{topic:s,payload:i,attestation:r,encryptedId:o,transportType:a}=e;try{const{requester:l,authPayload:p,expiryTimestamp:h}=i.params,u=await this.getVerifyContext({attestationId:r,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),encryptedId:o,metadata:l.metadata,transportType:a}),d={requester:l,pairingTopic:s,id:i.id,authPayload:p,verifyContext:u,expiryTimestamp:h};await this.setAuthRequest(i.id,{request:d,pairingTopic:s,transportType:a}),a===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(t=l.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit(\"session_authenticate\",{topic:s,params:i.params,id:i.id,verifyContext:u})}catch(l){this.client.logger.error(l);const p=i.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),u=this.getAppLinkIfEnabled(i.params.requester.metadata,a),d={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:p,senderPublicKey:h};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:d,rpcOpts:N.wc_sessionAuthenticate.autoReject,appLink:u})}}),c(this,\"addSessionRequestToSessionRequestQueue\",e=>{this.sessionRequestQueue.queue.push(e)}),c(this,\"cleanupAfterResponse\",e=>{this.deletePendingSessionRequest(e.response.id,{message:\"fulfilled\",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=$.idle,this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(this.requestQueueDelay))}),c(this,\"cleanupPendingSentRequestsForTopic\",({topic:e,error:t})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===e&&i.request.method===\"wc_sessionRequest\").forEach(i=>{const r=i.request.id,o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",r);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",i.request.id),{error:t})})}),c(this,\"processSessionRequestQueue\",()=>{if(this.sessionRequestQueue.state===$.active){this.client.logger.info(\"session request queue is already active.\");return}const e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info(\"session request queue is empty.\");return}try{this.sessionRequestQueue.state=$.active,this.emitSessionRequest(e)}catch(t){this.client.logger.error(t)}}),c(this,\"emitSessionRequest\",e=>{this.client.events.emit(\"session_request\",e)}),c(this,\"onPairingCreated\",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(s=>s.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",b(v({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id)})}),c(this,\"isValidConnect\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() params: ${JSON.stringify(e)}`);throw new Error(l)}const{pairingTopic:t,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:r,scopedProperties:o,relays:a}=e;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(t)||await this.isValidPairingTopic(t),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelays)(a,!0)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() relays: ${a}`);throw new Error(l)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(s)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(s)!==0&&this.validateNamespaces(s,\"requiredNamespaces\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(i)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(i)!==0&&this.validateNamespaces(i,\"optionalNamespaces\"),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(o)){this.validateSessionProps(o,\"scopedProperties\");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(o).every(p=>l.includes(p)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),c(this,\"validateNamespaces\",(e,t)=>{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequiredNamespaces)(e,\"connect()\",t);if(s)throw new Error(s.message)}),c(this,\"isValidApprove\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e))throw new Error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() params: ${e}`).message);const{id:t,namespaces:s,relayProtocol:i,sessionProperties:r,scopedProperties:o}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const a=this.client.proposal.get(t),l=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"approve()\");if(l)throw new Error(l.message);const p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(a.requiredNamespaces,s,\"approve()\");if(p)throw new Error(p.message);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!0)){const{message:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() relayProtocol: ${i}`);throw new Error(h)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(o)){this.validateSessionProps(o,\"scopedProperties\");const h=new Set(Object.keys(s));if(!Object.keys(o).every(u=>h.has(u)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(h).join(\", \")}`)}}),c(this,\"isValidReject\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() params: ${e}`);throw new Error(i)}const{id:t,reason:s}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidErrorReason)(s)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),c(this,\"isValidSessionSettleRequest\",e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`onSessionSettleRequest() params: ${e}`);throw new Error(l)}const{relay:t,controller:s,namespaces:i,expiry:r}=e;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelay)(t)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",\"onSessionSettleRequest() relay protocol should be a string\");throw new Error(l)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidController)(s,\"onSessionSettleRequest()\");if(o)throw new Error(o.message);const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(i,\"onSessionSettleRequest()\");if(a)throw new Error(a.message);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(r)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",\"onSessionSettleRequest()\");throw new Error(l)}}),c(this,\"isValidUpdate\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`update() params: ${e}`);throw new Error(a)}const{topic:t,namespaces:s}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const i=this.client.session.get(t),r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"update()\");if(r)throw new Error(r.message);const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(i.requiredNamespaces,s,\"update()\");if(o)throw new Error(o.message)}),c(this,\"isValidExtend\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`extend() params: ${e}`);throw new Error(s)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),c(this,\"isValidRequest\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() params: ${e}`);throw new Error(a)}const{topic:t,request:s,chainId:i,expiry:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:o}=this.client.session.get(t);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(o,i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() chainId: ${i}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequest)(s)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() ${JSON.stringify(s)}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesRequest)(o,i,s.method)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() method: ${s.method}`);throw new Error(a)}if(r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequestExpiry)(r,_e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() expiry: ${r}. Expiry must be a number (in seconds) between ${_e.min} and ${_e.max}`);throw new Error(a)}}),c(this,\"isValidRespond\",async e=>{var t;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() params: ${e}`);throw new Error(r)}const{topic:s,response:i}=e;try{await this.isValidSessionTopic(s)}catch(r){throw(t=e?.response)!=null&&t.id&&this.cleanupAfterResponse(e),r}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidResponse)(i)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() response: ${JSON.stringify(i)}`);throw new Error(r)}}),c(this,\"isValidPing\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),c(this,\"isValidEmit\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() params: ${e}`);throw new Error(o)}const{topic:t,event:s,chainId:i}=e;await this.isValidSessionTopic(t);const{namespaces:r}=this.client.session.get(t);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(r,i)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() chainId: ${i}`);throw new Error(o)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidEvent)(s)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesEvent)(r,i,s.name)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}}),c(this,\"isValidDisconnect\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),c(this,\"isValidAuthenticate\",e=>{const{chains:t,uri:s,domain:i,nonce:r}=e;if(!Array.isArray(t)||t.length===0)throw new Error(\"chains is required and must be a non-empty array\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(s,!1))throw new Error(\"uri is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!1))throw new Error(\"domain is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(r,!1))throw new Error(\"nonce is required parameter\");if([...new Set(t.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(a).namespace))].length>1)throw new Error(\"Multi-namespace requests are not supported. Please request single namespace only.\");const{namespace:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(t[0]);if(o!==\"eip155\")throw new Error(\"Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.\")}),c(this,\"getVerifyContext\",async e=>{const{attestationId:t,hash:s,encryptedId:i,metadata:r,transportType:o}=e,a={verified:{verifyUrl:r.verifyUrl||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.VERIFY_SERVER,validation:\"UNKNOWN\",origin:r.url||\"\"}};try{if(o===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode){const p=this.getAppLinkIfEnabled(r,o);return a.verified.validation=p&&new URL(p).origin===new URL(r.url).origin?\"VALID\":\"INVALID\",a}const l=await this.client.core.verify.resolve({attestationId:t,hash:s,encryptedId:i,verifyUrl:r.verifyUrl});l&&(a.verified.origin=l.origin,a.verified.isScam=l.isScam,a.verified.validation=l.origin===new URL(r.url).origin?\"VALID\":\"INVALID\")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),c(this,\"validateSessionProps\",(e,t)=>{Object.values(e).forEach((s,i)=>{if(s==null){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`${t} must contain an existing value for each key. Received: ${s} for key ${Object.keys(e)[i]}`);throw new Error(r)}})}),c(this,\"getPendingAuthRequest\",e=>{const t=this.client.auth.requests.get(e);return typeof t==\"object\"?t:void 0}),c(this,\"addToRecentlyDeleted\",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(r)}}}),c(this,\"checkRecentlyDeleted\",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${t}: ${e}`);throw new Error(s)}}),c(this,\"isLinkModeEnabled\",(e,t)=>{var s,i,r,o,a,l,p,h,u;return!e||t!==_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((o=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:o.universal)!==void 0&&((l=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:l.universal)!==\"\"&&((p=e?.redirect)==null?void 0:p.universal)!==void 0&&((h=e?.redirect)==null?void 0:h.universal)!==\"\"&&((u=e?.redirect)==null?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(global==null?void 0:global.Linking)<\"u\"}),c(this,\"getAppLinkIfEnabled\",(e,t)=>{var s;return this.isLinkModeEnabled(e,t)?(s=e?.redirect)==null?void 0:s.universal:void 0}),c(this,\"handleLinkModeMessage\",({url:e})=>{if(!e||!e.includes(\"wc_ev\")||!e.includes(\"topic\"))return;const t=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(e,\"topic\")||\"\",s=decodeURIComponent((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(e,\"wc_ev\")||\"\"),i=this.client.session.keys.includes(t);i&&this.client.session.update(t,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:s,sessionExists:i})}),c(this,\"registerLinkModeListeners\",async()=>{var e;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isTestRun)()||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isReactNative)()&&(e=this.client.metadata.redirect)!=null&&e.linkMode){const t=global==null?void 0:global.Linking;if(typeof t<\"u\"){t.addEventListener(\"url\",this.handleLinkModeMessage,this.client.name);const s=await t.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),c(this,\"shouldSetTVF\",(e,t)=>{if(!t||e!==\"wc_sessionRequest\")return!1;const{request:s}=t;return Object.keys(Ue).includes(s.method)}),c(this,\"getTVFParams\",(e,t,s)=>{var i,r;try{const o=t.request.method,a=this.extractTxHashesFromResult(o,s);return b(v({correlationId:e,rpcMethods:[o],chainId:t.chainId},this.isValidContractData(t.request.params)&&{contractAddresses:[(r=(i=t.request.params)==null?void 0:i[0])==null?void 0:r.to]}),{txHashes:a})}catch(o){this.client.logger.warn(\"Error getting TVF params\",o)}return{}}),c(this,\"isValidContractData\",e=>{var t;if(!e)return!1;try{const s=e?.data||((t=e?.[0])==null?void 0:t.data);if(!s.startsWith(\"0x\"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),c(this,\"extractTxHashesFromResult\",(e,t)=>{try{const s=Ue[e];if(typeof t==\"string\")return[t];const i=t[s.key];if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(i))return e===\"solana_signAllTransactions\"?i.map(r=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.extractSolanaTransactionId)(r)):i;if(typeof i==\"string\")return[i]}catch(s){this.client.logger.warn(\"Error extracting tx hashes from result\",s)}return[]})}async processPendingMessageEvents(){try{const n=this.client.session.keys,e=this.client.core.relayer.messages.getWithoutAck(n);for(const[t,s]of Object.entries(e))for(const i of s)try{await this.onProviderMessageEvent({topic:t,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${t}, message: ${i}`)}}catch(n){this.client.logger.warn(\"processPendingMessageEvents failed\",n)}}isInitialized(){if(!this.initialized){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(n)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.message,n=>{this.onProviderMessageEvent(n)})}async onRelayMessage(n){const{topic:e,message:t,attestation:s,transportType:i}=n,{publicKey:r}=this.client.auth.authKeys.keys.includes(ce)?this.client.auth.authKeys.get(ce):{responseTopic:void 0,publicKey:void 0};try{const o=await this.client.core.crypto.decode(e,t,{receiverPublicKey:r,encoding:i===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcRequest)(o)?(this.client.core.history.set(e,o),await this.onRelayEventRequest({topic:e,payload:o,attestation:s,transportType:i,encryptedId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(t)})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResponse)(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:e,payload:o,transportType:i}),this.client.core.history.delete(e,o.id)):await this.onRelayEventUnknownPayload({topic:e,payload:o,transportType:i}),await this.client.core.relayer.messages.ack(e,t)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EXPIRER_EVENTS.expired,async n=>{const{topic:e,id:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseExpirerTarget)(n.target);if(t&&this.client.pendingRequest.keys.includes(t))return await this.deletePendingSessionRequest(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);if(t&&this.client.auth.requests.keys.includes(t))return await this.deletePendingAuthRequest(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);e?this.client.session.keys.includes(e)&&(await this.deleteSession({topic:e,expirerHasDeleted:!0}),this.client.events.emit(\"session_expire\",{topic:e})):t&&(await this.deleteProposal(t,!0),this.client.events.emit(\"proposal_expire\",{id:t}))})}registerPairingEvents(){this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.create,n=>this.onPairingCreated(n)),this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.delete,n=>{this.addToRecentlyDeleted(n.topic,\"pairing\")})}isValidPairingTopic(n){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(n,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${n}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${n}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.core.pairing.pairings.get(n).expiry)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`pairing topic: ${n}`);throw new Error(e)}}async isValidSessionTopic(n){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(n,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic should be a string: ${n}`);throw new Error(e)}if(this.checkRecentlyDeleted(n),!this.client.session.keys.includes(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session topic doesn't exist: ${n}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.session.get(n).expiry)){await this.deleteSession({topic:n});const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`session topic: ${n}`);throw new Error(e)}if(!this.client.core.crypto.keychain.has(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic does not exist in keychain: ${n}`);throw await this.deleteSession({topic:n}),new Error(e)}}async isValidSessionOrPairingTopic(n){if(this.checkRecentlyDeleted(n),this.client.session.keys.includes(n))await this.isValidSessionTopic(n);else if(this.client.core.pairing.pairings.keys.includes(n))this.isValidPairingTopic(n);else if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(n,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session or pairing topic doesn't exist: ${n}`);throw new Error(e)}else{const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session or pairing topic should be a string: ${n}`);throw new Error(e)}}async isValidProposalId(n){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidId)(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`proposal id should be a number: ${n}`);throw new Error(e)}if(!this.client.proposal.keys.includes(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`proposal id doesn't exist: ${n}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.proposal.get(n).expiryTimestamp)){await this.deleteProposal(n);const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`proposal id: ${n}`);throw new Error(e)}}}class Ns extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,pt,we),this.core=n,this.logger=e}}class St extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,ht,we),this.core=n,this.logger=e}}class Os extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,ut,we,t=>t.id),this.core=n,this.logger=e}}class bs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,mt,ae,()=>ce),this.core=n,this.logger=e}}class As extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,_t,ae),this.core=n,this.logger=e}}class xs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,Et,ae,t=>t.id),this.core=n,this.logger=e}}var Cs=Object.defineProperty,Vs=(S,n,e)=>n in S?Cs(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,Ge=(S,n,e)=>Vs(S,typeof n!=\"symbol\"?n+\"\":n,e);class Ds{constructor(n,e){this.core=n,this.logger=e,Ge(this,\"authKeys\"),Ge(this,\"pairingTopics\"),Ge(this,\"requests\"),this.authKeys=new bs(this.core,this.logger),this.pairingTopics=new As(this.core,this.logger),this.requests=new xs(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Ls=Object.defineProperty,ks=(S,n,e)=>n in S?Ls(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,E=(S,n,e)=>ks(S,typeof n!=\"symbol\"?n+\"\":n,e);class Ee extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.ISignClient{constructor(n){super(n),E(this,\"protocol\",De),E(this,\"version\",Le),E(this,\"name\",me.name),E(this,\"metadata\"),E(this,\"core\"),E(this,\"logger\"),E(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter),E(this,\"engine\"),E(this,\"session\"),E(this,\"proposal\"),E(this,\"pendingRequest\"),E(this,\"auth\"),E(this,\"signConfig\"),E(this,\"on\",(t,s)=>this.events.on(t,s)),E(this,\"once\",(t,s)=>this.events.once(t,s)),E(this,\"off\",(t,s)=>this.events.off(t,s)),E(this,\"removeListener\",(t,s)=>this.events.removeListener(t,s)),E(this,\"removeAllListeners\",t=>this.events.removeAllListeners(t)),E(this,\"connect\",async t=>{try{return await this.engine.connect(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"pair\",async t=>{try{return await this.engine.pair(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"approve\",async t=>{try{return await this.engine.approve(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"reject\",async t=>{try{return await this.engine.reject(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"update\",async t=>{try{return await this.engine.update(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"extend\",async t=>{try{return await this.engine.extend(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"request\",async t=>{try{return await this.engine.request(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"respond\",async t=>{try{return await this.engine.respond(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"ping\",async t=>{try{return await this.engine.ping(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"emit\",async t=>{try{return await this.engine.emit(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"disconnect\",async t=>{try{return await this.engine.disconnect(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"find\",t=>{try{return this.engine.find(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"getPendingSessionRequests\",()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}}),E(this,\"authenticate\",async(t,s)=>{try{return await this.engine.authenticate(t,s)}catch(i){throw this.logger.error(i.message),i}}),E(this,\"formatAuthMessage\",t=>{try{return this.engine.formatAuthMessage(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"approveSessionAuthenticate\",async t=>{try{return await this.engine.approveSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"rejectSessionAuthenticate\",async t=>{try{return await this.engine.rejectSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),this.name=n?.name||me.name,this.metadata=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.populateAppMetadata)(n?.metadata),this.signConfig=n?.signConfig;const e=typeof n?.logger<\"u\"&&typeof n?.logger!=\"string\"?n.logger:(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({level:n?.logger||me.logger}));this.core=n?.core||new _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Core(n),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.generateChildLogger)(e,this.name),this.session=new St(this.core,this.logger),this.proposal=new Ns(this.core,this.logger),this.pendingRequest=new Os(this.core,this.logger),this.engine=new Ps(this),this.auth=new Ds(this.core,this.logger)}static async init(n){const e=new Ee(n);return await e.initialize(),e}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace(\"Initialized\");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info(\"SignClient Initialization Success\"),setTimeout(()=>{this.engine.processRelayMessageCache()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND))}catch(n){throw this.logger.info(\"SignClient Initialization Failure\"),this.logger.error(n.message),n}}}const Ms=St,$s=Ee;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2lnbi1jbGllbnQvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXF0RSxxQ0FBcUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLE9BQU8sOEVBQThFLEtBQUssNGNBQTRjLEtBQUssb0JBQW9CLHdDQUF3QyxrR0FBa0csd0NBQXdDLDREQUFFLHNDQUFzQywyREFBRSxnQkFBZ0IsbUJBQW1CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLG9CQUFvQixTQUFTLElBQUksNkRBQUMsb0JBQW9CLGFBQWEsSUFBSSw2REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixtQkFBbUIsS0FBSyxJQUFJLHdEQUFDLG9CQUFvQixNQUFNLElBQUksd0RBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsb0JBQW9CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixrQkFBa0IsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsaUJBQWlCLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQix5QkFBeUIsS0FBSyxJQUFJLHlEQUFFLG9CQUFvQixNQUFNLElBQUkseURBQUUsb0JBQW9CLFNBQVMsSUFBSSw2REFBQyxvQkFBb0IsYUFBYSxJQUFJLDZEQUFDLHNCQUFzQixLQUFLLElBQUksNkRBQUMsS0FBSywyREFBRSxDQUFDLElBQUksNEJBQTRCLEtBQUsscUJBQXFCLE9BQU8seUJB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QUFTLHNDQUFzQywwQ0FBMEMsSUFBSSwrQ0FBK0MsU0FBUyxzQ0FBc0MscUNBQXFDLElBQUksMkNBQTJDLFNBQVMsc0NBQXNDLGlDQUFpQyxJQUFJLHdDQUF3QyxTQUFTLHNDQUFzQyxnREFBZ0QsSUFBSSx1REFBdUQsU0FBUyxzQ0FBc0MsK0NBQStDLElBQUksc0RBQXNELFNBQVMsc0NBQXNDLDJDQUEyQyx5RUFBRSw0Q0FBNEMsa0VBQWtFLDJEQUFFLENBQUMsOEVBQUUsRUFBRSwyQkFBMkIsR0FBRyx1QkFBdUIscURBQUUsZ0JBQWdCLDBFQUFFLHdOQUF3TixxQkFBcUIsa0JBQWtCLDhCQUE4QixjQUFjLE9BQU8sdUVBQUUsY0FBYyxjQUFjLGtDQUFrQyxtQkFBbUIsaUNBQWlDLElBQUksb09BQW9PLHVDQUF1QyxDQUFDLGtFQUFFLENBQUMsMkRBQUUsR0FBRyxTQUFTLDZGQUE2RixrQkFBaTJCO0FBQ3Q0OUQiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2lnbi1jbGllbnQvZGlzdC9pbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7UkVMQVlFUl9FVkVOVFMgYXMgWGUsVFJBTlNQT1JUX1RZUEVTIGFzIFAsRVhQSVJFUl9FVkVOVFMgYXMgVHQsUEFJUklOR19FVkVOVFMgYXMgSmUsUkVMQVlFUl9ERUZBVUxUX1BST1RPQ09MIGFzIHF0LEVWRU5UX0NMSUVOVF9TRVNTSU9OX1RSQUNFUyBhcyBrLEVWRU5UX0NMSUVOVF9TRVNTSU9OX0VSUk9SUyBhcyBILEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfVFJBQ0VTIGFzIHosRVZFTlRfQ0xJRU5UX0FVVEhFTlRJQ0FURV9FUlJPUlMgYXMgcmUsRVZFTlRfQ0xJRU5UX1BBSVJJTkdfRVJST1JTIGFzIFB0LEVWRU5UX0NMSUVOVF9QQUlSSU5HX1RSQUNFUyBhcyBOdCxWRVJJRllfU0VSVkVSIGFzIE90LFN0b3JlIGFzIEIsQ29yZSBhcyBidH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9jb3JlXCI7aW1wb3J0e3Bpbm8gYXMgQXQsZ2V0RGVmYXVsdExvZ2dlck9wdGlvbnMgYXMgeHQsZ2VuZXJhdGVDaGlsZExvZ2dlciBhcyBDdCxnZXRMb2dnZXJDb250ZXh0IGFzIFZ0fWZyb21cIkB3YWxsZXRjb25uZWN0L2xvZ2dlclwiO2ltcG9ydHtJRW5naW5lIGFzIER0LElTaWduQ2xpZW50IGFzIEx0fWZyb21cIkB3YWxsZXRjb25uZWN0L3R5cGVzXCI7aW1wb3J0e1RISVJUWV9EQVlTIGFzIGt0LFNFVkVOX0RBWVMgYXMgQmUsRklWRV9NSU5VVEVTIGFzIEMsT05FX0RBWSBhcyBLLE9ORV9IT1VSIGFzIFdlLE9ORV9TRUNPTkQgYXMgWmUsdG9NaWxpc2Vjb25kcyBhcyBPZX1mcm9tXCJAd2FsbGV0Y29ubmVjdC90aW1lXCI7aW1wb3J0e2dldEludGVybmFsRXJyb3IgYXMgeSxCQVNFNjRVUkwgYXMgbmUsQkFTRTY0IGFzIGRlLGhhc2hNZXNzYWdlIGFzIFcscGFyc2VFeHBpcmVyVGFyZ2V0IGFzIE10LGlzVmFsaWRTdHJpbmcgYXMgWSxpc0V4cGlyZWQgYXMgWixpc1ZhbGlkSWQgYXMgJHQsY2FsY0V4cGlyeSBhcyBWLGVuZ2luZUV2ZW50IGFzIFIsY3JlYXRlRGVsYXllZFByb21pc2UgYXMgZWUsZ2V0U2RrRXJyb3IgYXMgTyxnZXREZWVwTGluayBhcyBVdCxoYW5kbGVEZWVwbGlua1JlZGlyZWN0IGFzIEt0LGlzU2Vzc2lvbkNvbXBhdGlibGUgYXMgR3QsaGFzaEtleSBhcyBiZSxwYXJzZUNoYWluSWQgYXMgQWUsY3JlYXRlRW5jb2RlZFJlY2FwIGFzIGp0LGdldFJlY2FwRnJvbVJlc291cmNlcyBhcyB4ZSxtZXJnZUVuY29kZWRSZWNhcHMgYXMgRnQsVFlQRV8yIGFzIFF0LGdldExpbmtNb2RlVVJMIGFzIHVlLHZhbGlkYXRlU2lnbmVkQ2FjYW8gYXMgZXQsZ2V0TmFtZXNwYWNlZERpZENoYWluSWQgYXMgdHQsZ2V0RGlkQWRkcmVzcyBhcyBzdCxnZXRNZXRob2RzRnJvbVJlY2FwIGFzIGl0LGdldENoYWluc0Zyb21SZWNhcCBhcyBydCxidWlsZE5hbWVzcGFjZXNGcm9tQXV0aCBhcyBudCxmb3JtYXRNZXNzYWdlIGFzIEh0LE1lbW9yeVN0b3JlIGFzIG9lLGlzVmFsaWRQYXJhbXMgYXMgTSxpc1VuZGVmaW5lZCBhcyBYLGlzVmFsaWRSZWxheXMgYXMgenQsaXNWYWxpZE9iamVjdCBhcyBvdCxpc1ZhbGlkUmVxdWlyZWROYW1lc3BhY2VzIGFzIFl0LGlzVmFsaWROYW1lc3BhY2VzIGFzIENlLGlzQ29uZm9ybWluZ05hbWVzcGFjZXMgYXMgYXQsaXNWYWxpZEVycm9yUmVhc29uIGFzIFh0LGlzVmFsaWRSZWxheSBhcyBKdCxpc1ZhbGlkQ29udHJvbGxlciBhcyBCdCxpc1ZhbGlkTmFtZXNwYWNlc0NoYWluSWQgYXMgY3QsaXNWYWxpZFJlcXVlc3QgYXMgV3QsaXNWYWxpZE5hbWVzcGFjZXNSZXF1ZXN0IGFzIFp0LGlzVmFsaWRSZXF1ZXN0RXhwaXJ5IGFzIGVzLGlzVmFsaWRSZXNwb25zZSBhcyB0cyxpc1ZhbGlkRXZlbnQgYXMgc3MsaXNWYWxpZE5hbWVzcGFjZXNFdmVudCBhcyBpcyxnZXRTZWFyY2hQYXJhbUZyb21VUkwgYXMgbHQsaXNUZXN0UnVuIGFzIHJzLGlzUmVhY3ROYXRpdmUgYXMgbnMsaXNWYWxpZEFycmF5IGFzIG9zLGV4dHJhY3RTb2xhbmFUcmFuc2FjdGlvbklkIGFzIGFzLFRZUEVfMSBhcyBWZSxwb3B1bGF0ZUFwcE1ldGFkYXRhIGFzIGNzfWZyb21cIkB3YWxsZXRjb25uZWN0L3V0aWxzXCI7aW1wb3J0IGxzLHtFdmVudEVtaXR0ZXIgYXMgcHN9ZnJvbVwiZXZlbnRzXCI7aW1wb3J0e2lzSnNvblJwY1JlcXVlc3QgYXMgaHMsaXNKc29uUnBjUmVzcG9uc2UgYXMgZHMscGF5bG9hZElkIGFzIEcsZ2V0QmlnSW50UnBjSWQgYXMgZ2UsaXNKc29uUnBjUmVzdWx0IGFzIGosaXNKc29uUnBjRXJyb3IgYXMgRixmb3JtYXRKc29uUnBjUmVxdWVzdCBhcyB5ZSxmb3JtYXRKc29uUnBjUmVzdWx0IGFzIHVzLGZvcm1hdEpzb25ScGNFcnJvciBhcyBnc31mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCI7Y29uc3QgRGU9XCJ3Y1wiLExlPTIsa2U9XCJjbGllbnRcIix3ZT1gJHtEZX1AJHtMZX06JHtrZX06YCxtZT17bmFtZTprZSxsb2dnZXI6XCJlcnJvclwiLGNvbnRyb2xsZXI6ITEscmVsYXlVcmw6XCJ3c3M6Ly9yZWxheS53YWxsZXRjb25uZWN0Lm9yZ1wifSx5cz17c2Vzc2lvbl9wcm9wb3NhbDpcInNlc3Npb25fcHJvcG9zYWxcIixzZXNzaW9uX3VwZGF0ZTpcInNlc3Npb25fdXBkYXRlXCIsc2Vzc2lvbl9leHRlbmQ6XCJzZXNzaW9uX2V4dGVuZFwiLHNlc3Npb25fcGluZzpcInNlc3Npb25fcGluZ1wiLHNlc3Npb25fZGVsZXRlOlwic2Vzc2lvbl9kZWxldGVcIixzZXNzaW9uX2V4cGlyZTpcInNlc3Npb25fZXhwaXJlXCIsc2Vzc2lvbl9yZXF1ZXN0Olwic2Vzc2lvbl9yZXF1ZXN0XCIsc2Vzc2lvbl9yZXF1ZXN0X3NlbnQ6XCJzZXNzaW9uX3JlcXVlc3Rfc2VudFwiLHNlc3Npb25fZXZlbnQ6XCJzZXNzaW9uX2V2ZW50XCIscHJvcG9zYWxfZXhwaXJlOlwicHJvcG9zYWxfZXhwaXJlXCIsc2Vzc2lvbl9hdXRoZW50aWNhdGU6XCJzZXNzaW9uX2F1dGhlbnRpY2F0ZVwiLHNlc3Npb25fcmVxdWVzdF9leHBpcmU6XCJzZXNzaW9uX3JlcXVlc3RfZXhwaXJlXCIsc2Vzc2lvbl9jb25uZWN0Olwic2Vzc2lvbl9jb25uZWN0XCJ9LHdzPXtkYXRhYmFzZTpcIjptZW1vcnk6XCJ9LE1lPVwiV0FMTEVUQ09OTkVDVF9ERUVQTElOS19DSE9JQ0VcIixtcz17Y3JlYXRlZDpcImhpc3RvcnlfY3JlYXRlZFwiLHVwZGF0ZWQ6XCJoaXN0b3J5X3VwZGF0ZWRcIixkZWxldGVkOlwiaGlzdG9yeV9kZWxldGVkXCIsc3luYzpcImhpc3Rvcnlfc3luY1wifSxfcz1cImhpc3RvcnlcIixFcz1cIjAuM1wiLHB0PVwicHJvcG9zYWxcIixmcz1rdCwkZT1cIlByb3Bvc2FsIGV4cGlyZWRcIixodD1cInNlc3Npb25cIixKPUJlLGR0PVwiZW5naW5lXCIsTj17d2Nfc2Vzc2lvblByb3Bvc2U6e3JlcTp7dHRsOkMscHJvbXB0OiEwLHRhZzoxMTAwfSxyZXM6e3R0bDpDLHByb21wdDohMSx0YWc6MTEwMX0scmVqZWN0Ont0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMjB9LGF1dG9SZWplY3Q6e3R0bDpDLHByb21wdDohMSx0YWc6MTEyMX19LHdjX3Nlc3Npb25TZXR0bGU6e3JlcTp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTAyfSxyZXM6e3R0bDpDLHByb21wdDohMSx0YWc6MTEwM319LHdjX3Nlc3Npb25VcGRhdGU6e3JlcTp7dHRsOksscHJvbXB0OiExLHRhZzoxMTA0fSxyZXM6e3R0bDpLLHByb21wdDohMSx0YWc6MTEwNX19LHdjX3Nlc3Npb25FeHRlbmQ6e3JlcTp7dHRsOksscHJvbXB0OiExLHRhZzoxMTA2fSxyZXM6e3R0bDpLLHByb21wdDohMSx0YWc6MTEwN319LHdjX3Nlc3Npb25SZXF1ZXN0OntyZXE6e3R0bDpDLHByb21wdDohMCx0YWc6MTEwOH0scmVzOnt0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMDl9fSx3Y19zZXNzaW9uRXZlbnQ6e3JlcTp7dHRsOkMscHJvbXB0OiEwLHRhZzoxMTEwfSxyZXM6e3R0bDpDLHByb21wdDohMSx0YWc6MTExMX19LHdjX3Nlc3Npb25EZWxldGU6e3JlcTp7dHRsOksscHJvbXB0OiExLHRhZzoxMTEyfSxyZXM6e3R0bDpLLHByb21wdDohMSx0YWc6MTExM319LHdjX3Nlc3Npb25QaW5nOntyZXE6e3R0bDpLLHByb21wdDohMSx0YWc6MTExNH0scmVzOnt0dGw6Syxwcm9tcHQ6ITEsdGFnOjExMTV9fSx3Y19zZXNzaW9uQXV0aGVudGljYXRlOntyZXE6e3R0bDpXZSxwcm9tcHQ6ITAsdGFnOjExMTZ9LHJlczp7dHRsOldlLHByb21wdDohMSx0YWc6MTExN30scmVqZWN0Ont0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMTh9LGF1dG9SZWplY3Q6e3R0bDpDLHByb21wdDohMSx0YWc6MTExOX19fSxfZT17bWluOkMsbWF4OkJlfSwkPXtpZGxlOlwiSURMRVwiLGFjdGl2ZTpcIkFDVElWRVwifSxVZT17ZXRoX3NlbmRUcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LGV0aF9zZW5kUmF3VHJhbnNhY3Rpb246e2tleTpcIlwifSx3YWxsZXRfc2VuZENhbGxzOntrZXk6XCJcIn0sc29sYW5hX3NpZ25UcmFuc2FjdGlvbjp7a2V5Olwic2lnbmF0dXJlXCJ9LHNvbGFuYV9zaWduQWxsVHJhbnNhY3Rpb25zOntrZXk6XCJ0cmFuc2FjdGlvbnNcIn0sc29sYW5hX3NpZ25BbmRTZW5kVHJhbnNhY3Rpb246e2tleTpcInNpZ25hdHVyZVwifX0sdXQ9XCJyZXF1ZXN0XCIsZ3Q9W1wid2Nfc2Vzc2lvblByb3Bvc2VcIixcIndjX3Nlc3Npb25SZXF1ZXN0XCIsXCJ3Y19hdXRoUmVxdWVzdFwiLFwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiXSx5dD1cIndjXCIsU3M9MS41LHd0PVwiYXV0aFwiLG10PVwiYXV0aEtleXNcIixfdD1cInBhaXJpbmdUb3BpY3NcIixFdD1cInJlcXVlc3RzXCIsYWU9YCR7eXR9QCR7MS41fToke3d0fTpgLGNlPWAke2FlfTpQVUJfS0VZYDt2YXIgUnM9T2JqZWN0LmRlZmluZVByb3BlcnR5LHZzPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLElzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLGZ0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsVHM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxxcz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLEtlPShTLG4sZSk9Pm4gaW4gUz9ScyhTLG4se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpTW25dPWUsdj0oUyxuKT0+e2Zvcih2YXIgZSBpbiBufHwobj17fSkpVHMuY2FsbChuLGUpJiZLZShTLGUsbltlXSk7aWYoZnQpZm9yKHZhciBlIG9mIGZ0KG4pKXFzLmNhbGwobixlKSYmS2UoUyxlLG5bZV0pO3JldHVybiBTfSxiPShTLG4pPT52cyhTLElzKG4pKSxjPShTLG4sZSk9PktlKFMsdHlwZW9mIG4hPVwic3ltYm9sXCI/bitcIlwiOm4sZSk7Y2xhc3MgUHMgZXh0ZW5kcyBEdHtjb25zdHJ1Y3RvcihuKXtzdXBlcihuKSxjKHRoaXMsXCJuYW1lXCIsZHQpLGModGhpcyxcImV2ZW50c1wiLG5ldyBscyksYyh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksYyh0aGlzLFwicmVxdWVzdFF1ZXVlXCIse3N0YXRlOiQuaWRsZSxxdWV1ZTpbXX0pLGModGhpcyxcInNlc3Npb25SZXF1ZXN0UXVldWVcIix7c3RhdGU6JC5pZGxlLHF1ZXVlOltdfSksYyh0aGlzLFwicmVxdWVzdFF1ZXVlRGVsYXlcIixaZSksYyh0aGlzLFwiZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwXCIsbmV3IE1hcCksYyh0aGlzLFwicmVjZW50bHlEZWxldGVkTWFwXCIsbmV3IE1hcCksYyh0aGlzLFwicmVjZW50bHlEZWxldGVkTGltaXRcIiwyMDApLGModGhpcyxcInJlbGF5TWVzc2FnZUNhY2hlXCIsW10pLGModGhpcyxcInBlbmRpbmdTZXNzaW9uc1wiLG5ldyBNYXApLGModGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMucmVnaXN0ZXJSZWxheWVyRXZlbnRzKCksdGhpcy5yZWdpc3RlckV4cGlyZXJFdmVudHMoKSx0aGlzLnJlZ2lzdGVyUGFpcmluZ0V2ZW50cygpLGF3YWl0IHRoaXMucmVnaXN0ZXJMaW5rTW9kZUxpc3RlbmVycygpLHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5yZWdpc3Rlcih7bWV0aG9kczpPYmplY3Qua2V5cyhOKX0pLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsc2V0VGltZW91dChhc3luYygpPT57YXdhaXQgdGhpcy5wcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMoKSx0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWU9dGhpcy5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCksdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpfSxPZSh0aGlzLnJlcXVlc3RRdWV1ZURlbGF5KSkpfSksYyh0aGlzLFwiY29ubmVjdFwiLGFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCB0PWIodih7fSxlKSx7cmVxdWlyZWROYW1lc3BhY2VzOmUucmVxdWlyZWROYW1lc3BhY2VzfHx7fSxvcHRpb25hbE5hbWVzcGFjZXM6ZS5vcHRpb25hbE5hbWVzcGFjZXN8fHt9fSk7YXdhaXQgdGhpcy5pc1ZhbGlkQ29ubmVjdCh0KTtjb25zdHtwYWlyaW5nVG9waWM6cyxyZXF1aXJlZE5hbWVzcGFjZXM6aSxvcHRpb25hbE5hbWVzcGFjZXM6cixzZXNzaW9uUHJvcGVydGllczpvLHNjb3BlZFByb3BlcnRpZXM6YSxyZWxheXM6bH09dDtsZXQgcD1zLGgsdT0hMTt0cnl7aWYocCl7Y29uc3QgVD10aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0KHApO3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKFwiY29ubmVjdCgpIHdpdGggZXhpc3RpbmcgcGFpcmluZyB0b3BpYyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cIiksdT1ULmFjdGl2ZX19Y2F0Y2goVCl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBjb25uZWN0KCkgLT4gcGFpcmluZy5nZXQoJHtwfSkgZmFpbGVkYCksVH1pZighcHx8IXUpe2NvbnN0e3RvcGljOlQsdXJpOlV9PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5jcmVhdGUoKTtwPVQsaD1VfWlmKCFwKXtjb25zdHttZXNzYWdlOlR9PXkoXCJOT19NQVRDSElOR19LRVlcIixgY29ubmVjdCgpIHBhaXJpbmcgdG9waWM6ICR7cH1gKTt0aHJvdyBuZXcgRXJyb3IoVCl9Y29uc3QgZD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSx3PU4ud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bHx8QyxtPVYodyksZj1iKHYodih7cmVxdWlyZWROYW1lc3BhY2VzOmksb3B0aW9uYWxOYW1lc3BhY2VzOnIscmVsYXlzOmw/P1t7cHJvdG9jb2w6cXR9XSxwcm9wb3Nlcjp7cHVibGljS2V5OmQsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeVRpbWVzdGFtcDptLHBhaXJpbmdUb3BpYzpwfSxvJiZ7c2Vzc2lvblByb3BlcnRpZXM6b30pLGEmJntzY29wZWRQcm9wZXJ0aWVzOmF9KSx7aWQ6RygpfSksXz1SKFwic2Vzc2lvbl9jb25uZWN0XCIsZi5pZCkse3JlamVjdDpnLHJlc29sdmU6QSxkb25lOkR9PWVlKHcsJGUpLEk9KHtpZDpUfSk9PntUPT09Zi5pZCYmKHRoaXMuY2xpZW50LmV2ZW50cy5vZmYoXCJwcm9wb3NhbF9leHBpcmVcIixJKSx0aGlzLnBlbmRpbmdTZXNzaW9ucy5kZWxldGUoZi5pZCksdGhpcy5ldmVudHMuZW1pdChfLHtlcnJvcjp7bWVzc2FnZTokZSxjb2RlOjB9fSkpfTtyZXR1cm4gdGhpcy5jbGllbnQuZXZlbnRzLm9uKFwicHJvcG9zYWxfZXhwaXJlXCIsSSksdGhpcy5ldmVudHMub25jZShfLCh7ZXJyb3I6VCxzZXNzaW9uOlV9KT0+e3RoaXMuY2xpZW50LmV2ZW50cy5vZmYoXCJwcm9wb3NhbF9leHBpcmVcIixJKSxUP2coVCk6VSYmQShVKX0pLGF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOnAsbWV0aG9kOlwid2Nfc2Vzc2lvblByb3Bvc2VcIixwYXJhbXM6Zix0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDpmLmlkfSksYXdhaXQgdGhpcy5zZXRQcm9wb3NhbChmLmlkLGYpLHt1cmk6aCxhcHByb3ZhbDpEfX0pLGModGhpcyxcInBhaXJcIixhc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e3JldHVybiBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcihlKX1jYXRjaCh0KXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJwYWlyKCkgZmFpbGVkXCIpLHR9fSksYyh0aGlzLFwiYXBwcm92ZVwiLGFzeW5jIGU9Pnt2YXIgdCxzLGk7Y29uc3Qgcj10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmNyZWF0ZUV2ZW50KHtwcm9wZXJ0aWVzOnt0b3BpYzoodD1lPy5pZCk9PW51bGw/dm9pZCAwOnQudG9TdHJpbmcoKSx0cmFjZTpbay5zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZF19fSk7dHJ5e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpfWNhdGNoKHEpe3Rocm93IHIuc2V0RXJyb3IoSC5ub19pbnRlcm5ldF9jb25uZWN0aW9uKSxxfXRyeXthd2FpdCB0aGlzLmlzVmFsaWRQcm9wb3NhbElkKGU/LmlkKX1jYXRjaChxKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYGFwcHJvdmUoKSAtPiBwcm9wb3NhbC5nZXQoJHtlPy5pZH0pIGZhaWxlZGApLHIuc2V0RXJyb3IoSC5wcm9wb3NhbF9ub3RfZm91bmQpLHF9dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZEFwcHJvdmUoZSl9Y2F0Y2gocSl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwiYXBwcm92ZSgpIC0+IGlzVmFsaWRBcHByb3ZlKCkgZmFpbGVkXCIpLHIuc2V0RXJyb3IoSC5zZXNzaW9uX2FwcHJvdmVfbmFtZXNwYWNlX3ZhbGlkYXRpb25fZmFpbHVyZSkscX1jb25zdHtpZDpvLHJlbGF5UHJvdG9jb2w6YSxuYW1lc3BhY2VzOmwsc2Vzc2lvblByb3BlcnRpZXM6cCxzY29wZWRQcm9wZXJ0aWVzOmgsc2Vzc2lvbkNvbmZpZzp1fT1lLGQ9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KG8pO3RoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZGVsZXRlRXZlbnQoe2V2ZW50SWQ6ci5ldmVudElkfSk7Y29uc3R7cGFpcmluZ1RvcGljOncscHJvcG9zZXI6bSxyZXF1aXJlZE5hbWVzcGFjZXM6ZixvcHRpb25hbE5hbWVzcGFjZXM6X309ZDtsZXQgZz0ocz10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50KT09bnVsbD92b2lkIDA6cy5nZXRFdmVudCh7dG9waWM6d30pO2d8fChnPShpPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQpPT1udWxsP3ZvaWQgMDppLmNyZWF0ZUV2ZW50KHt0eXBlOmsuc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWQscHJvcGVydGllczp7dG9waWM6dyx0cmFjZTpbay5zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZCxrLnNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3NdfX0pKTtjb25zdCBBPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLEQ9bS5wdWJsaWNLZXksST1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShBLEQpLFQ9dih2KHYoe3JlbGF5Ontwcm90b2NvbDphPz9cImlyblwifSxuYW1lc3BhY2VzOmwsY29udHJvbGxlcjp7cHVibGljS2V5OkEsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeTpWKEopfSxwJiZ7c2Vzc2lvblByb3BlcnRpZXM6cH0pLGgmJntzY29wZWRQcm9wZXJ0aWVzOmh9KSx1JiZ7c2Vzc2lvbkNvbmZpZzp1fSksVT1QLnJlbGF5O2cuYWRkVHJhY2Uoay5zdWJzY3JpYmluZ19zZXNzaW9uX3RvcGljKTt0cnl7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShJLHt0cmFuc3BvcnRUeXBlOlV9KX1jYXRjaChxKXt0aHJvdyBnLnNldEVycm9yKEguc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfZmFpbHVyZSkscX1nLmFkZFRyYWNlKGsuc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2Vzcyk7Y29uc3QgZmU9Yih2KHt9LFQpLHt0b3BpYzpJLHJlcXVpcmVkTmFtZXNwYWNlczpmLG9wdGlvbmFsTmFtZXNwYWNlczpfLHBhaXJpbmdUb3BpYzp3LGFja25vd2xlZGdlZDohMSxzZWxmOlQuY29udHJvbGxlcixwZWVyOntwdWJsaWNLZXk6bS5wdWJsaWNLZXksbWV0YWRhdGE6bS5tZXRhZGF0YX0sY29udHJvbGxlcjpBLHRyYW5zcG9ydFR5cGU6UC5yZWxheX0pO2F3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uc2V0KEksZmUpLGcuYWRkVHJhY2Uoay5zdG9yZV9zZXNzaW9uKTt0cnl7Zy5hZGRUcmFjZShrLnB1Ymxpc2hpbmdfc2Vzc2lvbl9zZXR0bGUpLGF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOkksbWV0aG9kOlwid2Nfc2Vzc2lvblNldHRsZVwiLHBhcmFtczpULHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSkuY2F0Y2gocT0+e3Rocm93IGc/LnNldEVycm9yKEguc2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9mYWlsdXJlKSxxfSksZy5hZGRUcmFjZShrLnNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfc3VjY2VzcyksZy5hZGRUcmFjZShrLnB1Ymxpc2hpbmdfc2Vzc2lvbl9hcHByb3ZlKSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOm8sdG9waWM6dyxyZXN1bHQ6e3JlbGF5Ontwcm90b2NvbDphPz9cImlyblwifSxyZXNwb25kZXJQdWJsaWNLZXk6QX0sdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KS5jYXRjaChxPT57dGhyb3cgZz8uc2V0RXJyb3IoSC5zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlKSxxfSksZy5hZGRUcmFjZShrLnNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3MpfWNhdGNoKHEpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihxKSx0aGlzLmNsaWVudC5zZXNzaW9uLmRlbGV0ZShJLE8oXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnVuc3Vic2NyaWJlKEkpLHF9cmV0dXJuIHRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZGVsZXRlRXZlbnQoe2V2ZW50SWQ6Zy5ldmVudElkfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnVwZGF0ZU1ldGFkYXRhKHt0b3BpYzp3LG1ldGFkYXRhOm0ubWV0YWRhdGF9KSxhd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5kZWxldGUobyxPKFwiVVNFUl9ESVNDT05ORUNURURcIikpLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5hY3RpdmF0ZSh7dG9waWM6d30pLGF3YWl0IHRoaXMuc2V0RXhwaXJ5KEksVihKKSkse3RvcGljOkksYWNrbm93bGVkZ2VkOigpPT5Qcm9taXNlLnJlc29sdmUodGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoSSkpfX0pLGModGhpcyxcInJlamVjdFwiLGFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVqZWN0KGUpfWNhdGNoKHIpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInJlamVjdCgpIC0+IGlzVmFsaWRSZWplY3QoKSBmYWlsZWRcIikscn1jb25zdHtpZDp0LHJlYXNvbjpzfT1lO2xldCBpO3RyeXtpPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldCh0KS5wYWlyaW5nVG9waWN9Y2F0Y2gocil7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGByZWplY3QoKSAtPiBwcm9wb3NhbC5nZXQoJHt0fSkgZmFpbGVkYCkscn1pJiYoYXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnQsdG9waWM6aSxlcnJvcjpzLHJwY09wdHM6Ti53Y19zZXNzaW9uUHJvcG9zZS5yZWplY3R9KSxhd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5kZWxldGUodCxPKFwiVVNFUl9ESVNDT05ORUNURURcIikpKX0pLGModGhpcyxcInVwZGF0ZVwiLGFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkVXBkYXRlKGUpfWNhdGNoKGgpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInVwZGF0ZSgpIC0+IGlzVmFsaWRVcGRhdGUoKSBmYWlsZWRcIiksaH1jb25zdHt0b3BpYzp0LG5hbWVzcGFjZXM6c309ZSx7ZG9uZTppLHJlc29sdmU6cixyZWplY3Q6b309ZWUoKSxhPUcoKSxsPWdlKCkudG9TdHJpbmcoKSxwPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHQpLm5hbWVzcGFjZXM7cmV0dXJuIHRoaXMuZXZlbnRzLm9uY2UoUihcInNlc3Npb25fdXBkYXRlXCIsYSksKHtlcnJvcjpofSk9PntoP28oaCk6cigpfSksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodCx7bmFtZXNwYWNlczpzfSksYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6dCxtZXRob2Q6XCJ3Y19zZXNzaW9uVXBkYXRlXCIscGFyYW1zOntuYW1lc3BhY2VzOnN9LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGNsaWVudFJwY0lkOmEscmVsYXlScGNJZDpsfSkuY2F0Y2goaD0+e3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihoKSx0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZSh0LHtuYW1lc3BhY2VzOnB9KSxvKGgpfSkse2Fja25vd2xlZGdlZDppfX0pLGModGhpcyxcImV4dGVuZFwiLGFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkRXh0ZW5kKGUpfWNhdGNoKGEpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcImV4dGVuZCgpIC0+IGlzVmFsaWRFeHRlbmQoKSBmYWlsZWRcIiksYX1jb25zdHt0b3BpYzp0fT1lLHM9RygpLHtkb25lOmkscmVzb2x2ZTpyLHJlamVjdDpvfT1lZSgpO3JldHVybiB0aGlzLmV2ZW50cy5vbmNlKFIoXCJzZXNzaW9uX2V4dGVuZFwiLHMpLCh7ZXJyb3I6YX0pPT57YT9vKGEpOnIoKX0pLGF3YWl0IHRoaXMuc2V0RXhwaXJ5KHQsVihKKSksdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6dCxtZXRob2Q6XCJ3Y19zZXNzaW9uRXh0ZW5kXCIscGFyYW1zOnt9LGNsaWVudFJwY0lkOnMsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KS5jYXRjaChhPT57byhhKX0pLHthY2tub3dsZWRnZWQ6aX19KSxjKHRoaXMsXCJyZXF1ZXN0XCIsYXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRSZXF1ZXN0KGUpfWNhdGNoKF8pe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInJlcXVlc3QoKSAtPiBpc1ZhbGlkUmVxdWVzdCgpIGZhaWxlZFwiKSxffWNvbnN0e2NoYWluSWQ6dCxyZXF1ZXN0OnMsdG9waWM6aSxleHBpcnk6cj1OLndjX3Nlc3Npb25SZXF1ZXN0LnJlcS50dGx9PWUsbz10aGlzLmNsaWVudC5zZXNzaW9uLmdldChpKTtvPy50cmFuc3BvcnRUeXBlPT09UC5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3QgYT1HKCksbD1nZSgpLnRvU3RyaW5nKCkse2RvbmU6cCxyZXNvbHZlOmgscmVqZWN0OnV9PWVlKHIsXCJSZXF1ZXN0IGV4cGlyZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO3RoaXMuZXZlbnRzLm9uY2UoUihcInNlc3Npb25fcmVxdWVzdFwiLGEpLCh7ZXJyb3I6XyxyZXN1bHQ6Z30pPT57Xz91KF8pOmgoZyl9KTtjb25zdCBkPVwid2Nfc2Vzc2lvblJlcXVlc3RcIix3PXRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChvLnBlZXIubWV0YWRhdGEsby50cmFuc3BvcnRUeXBlKTtpZih3KXJldHVybiBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHtjbGllbnRScGNJZDphLHJlbGF5UnBjSWQ6bCx0b3BpYzppLG1ldGhvZDpkLHBhcmFtczp7cmVxdWVzdDpiKHYoe30scykse2V4cGlyeVRpbWVzdGFtcDpWKHIpfSksY2hhaW5JZDp0fSxleHBpcnk6cix0aHJvd09uRmFpbGVkUHVibGlzaDohMCxhcHBMaW5rOnd9KS5jYXRjaChfPT51KF8pKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9zZW50XCIse3RvcGljOmkscmVxdWVzdDpzLGNoYWluSWQ6dCxpZDphfSksYXdhaXQgcCgpO2NvbnN0IG09e3JlcXVlc3Q6Yih2KHt9LHMpLHtleHBpcnlUaW1lc3RhbXA6VihyKX0pLGNoYWluSWQ6dH0sZj10aGlzLnNob3VsZFNldFRWRihkLG0pO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UoYXN5bmMgXz0+e2F3YWl0IHRoaXMuc2VuZFJlcXVlc3Qodih7Y2xpZW50UnBjSWQ6YSxyZWxheVJwY0lkOmwsdG9waWM6aSxtZXRob2Q6ZCxwYXJhbXM6bSxleHBpcnk6cix0aHJvd09uRmFpbGVkUHVibGlzaDohMH0sZiYme3R2Zjp0aGlzLmdldFRWRlBhcmFtcyhhLG0pfSkpLmNhdGNoKGc9PnUoZykpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9yZXF1ZXN0X3NlbnRcIix7dG9waWM6aSxyZXF1ZXN0OnMsY2hhaW5JZDp0LGlkOmF9KSxfKCl9KSxuZXcgUHJvbWlzZShhc3luYyBfPT57dmFyIGc7aWYoISgoZz1vLnNlc3Npb25Db25maWcpIT1udWxsJiZnLmRpc2FibGVEZWVwTGluaykpe2NvbnN0IEE9YXdhaXQgVXQodGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLE1lKTthd2FpdCBLdCh7aWQ6YSx0b3BpYzppLHdjRGVlcExpbms6QX0pfV8oKX0pLHAoKV0pLnRoZW4oXz0+X1syXSl9KSxjKHRoaXMsXCJyZXNwb25kXCIsYXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZFJlc3BvbmQoZSk7Y29uc3R7dG9waWM6dCxyZXNwb25zZTpzfT1lLHtpZDppfT1zLHI9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQodCk7ci50cmFuc3BvcnRUeXBlPT09UC5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3Qgbz10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoci5wZWVyLm1ldGFkYXRhLHIudHJhbnNwb3J0VHlwZSk7aihzKT9hd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOmksdG9waWM6dCxyZXN1bHQ6cy5yZXN1bHQsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsYXBwTGluazpvfSk6RihzKSYmYXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmksdG9waWM6dCxlcnJvcjpzLmVycm9yLGFwcExpbms6b30pLHRoaXMuY2xlYW51cEFmdGVyUmVzcG9uc2UoZSl9KSxjKHRoaXMsXCJwaW5nXCIsYXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRQaW5nKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInBpbmcoKSAtPiBpc1ZhbGlkUGluZygpIGZhaWxlZFwiKSxzfWNvbnN0e3RvcGljOnR9PWU7aWYodGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKHQpKXtjb25zdCBzPUcoKSxpPWdlKCkudG9TdHJpbmcoKSx7ZG9uZTpyLHJlc29sdmU6byxyZWplY3Q6YX09ZWUoKTt0aGlzLmV2ZW50cy5vbmNlKFIoXCJzZXNzaW9uX3BpbmdcIixzKSwoe2Vycm9yOmx9KT0+e2w/YShsKTpvKCl9KSxhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6dCxtZXRob2Q6XCJ3Y19zZXNzaW9uUGluZ1wiLHBhcmFtczp7fSx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDpzLHJlbGF5UnBjSWQ6aX0pLHIoKV0pfWVsc2UgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXModCkmJih0aGlzLmNsaWVudC5sb2dnZXIud2FybihcInBpbmcoKSBvbiBwYWlyaW5nIHRvcGljIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlwiKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGluZyh7dG9waWM6dH0pKX0pLGModGhpcyxcImVtaXRcIixhc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy5pc1ZhbGlkRW1pdChlKTtjb25zdHt0b3BpYzp0LGV2ZW50OnMsY2hhaW5JZDppfT1lLHI9Z2UoKS50b1N0cmluZygpLG89RygpO2F3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOnQsbWV0aG9kOlwid2Nfc2Vzc2lvbkV2ZW50XCIscGFyYW1zOntldmVudDpzLGNoYWluSWQ6aX0sdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAscmVsYXlScGNJZDpyLGNsaWVudFJwY0lkOm99KX0pLGModGhpcyxcImRpc2Nvbm5lY3RcIixhc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy5pc1ZhbGlkRGlzY29ubmVjdChlKTtjb25zdHt0b3BpYzp0fT1lO2lmKHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyh0KSlhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzp0LG1ldGhvZDpcIndjX3Nlc3Npb25EZWxldGVcIixwYXJhbXM6TyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSksYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzp0LGVtaXRFdmVudDohMX0pO2Vsc2UgaWYodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXModCkpYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmRpc2Nvbm5lY3Qoe3RvcGljOnR9KTtlbHNle2NvbnN0e21lc3NhZ2U6c309eShcIk1JU01BVENIRURfVE9QSUNcIixgU2Vzc2lvbiBvciBwYWlyaW5nIHRvcGljIG5vdCBmb3VuZDogJHt0fWApO3Rocm93IG5ldyBFcnJvcihzKX19KSxjKHRoaXMsXCJmaW5kXCIsZT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0QWxsKCkuZmlsdGVyKHQ9Pkd0KHQsZSkpKSksYyh0aGlzLFwiZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0c1wiLCgpPT50aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5nZXRBbGwoKSksYyh0aGlzLFwiYXV0aGVudGljYXRlXCIsYXN5bmMoZSx0KT0+e3ZhciBzO3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMuaXNWYWxpZEF1dGhlbnRpY2F0ZShlKTtjb25zdCBpPXQmJnRoaXMuY2xpZW50LmNvcmUubGlua01vZGVTdXBwb3J0ZWRBcHBzLmluY2x1ZGVzKHQpJiYoKHM9dGhpcy5jbGllbnQubWV0YWRhdGEucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpzLmxpbmtNb2RlKSxyPWk/UC5saW5rX21vZGU6UC5yZWxheTtyPT09UC5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3R7Y2hhaW5zOm8sc3RhdGVtZW50OmE9XCJcIix1cmk6bCxkb21haW46cCxub25jZTpoLHR5cGU6dSxleHA6ZCxuYmY6dyxtZXRob2RzOm09W10sZXhwaXJ5OmZ9PWUsXz1bLi4uZS5yZXNvdXJjZXN8fFtdXSx7dG9waWM6Zyx1cmk6QX09YXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmNyZWF0ZSh7bWV0aG9kczpbXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCJdLHRyYW5zcG9ydFR5cGU6cn0pO3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKHttZXNzYWdlOlwiR2VuZXJhdGVkIG5ldyBwYWlyaW5nXCIscGFpcmluZzp7dG9waWM6Zyx1cmk6QX19KTtjb25zdCBEPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLEk9YmUoRCk7aWYoYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LmF1dGguYXV0aEtleXMuc2V0KGNlLHtyZXNwb25zZVRvcGljOkkscHVibGljS2V5OkR9KSx0aGlzLmNsaWVudC5hdXRoLnBhaXJpbmdUb3BpY3Muc2V0KEkse3RvcGljOkkscGFpcmluZ1RvcGljOmd9KV0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUoSSx7dHJhbnNwb3J0VHlwZTpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYHNlbmRpbmcgcmVxdWVzdCB0byBuZXcgcGFpcmluZyB0b3BpYzogJHtnfWApLG0ubGVuZ3RoPjApe2NvbnN0e25hbWVzcGFjZTp4fT1BZShvWzBdKTtsZXQgTD1qdCh4LFwicmVxdWVzdFwiLG0pO3hlKF8pJiYoTD1GdChMLF8ucG9wKCkpKSxfLnB1c2goTCl9Y29uc3QgVD1mJiZmPk4ud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5yZXEudHRsP2Y6Ti53Y19zZXNzaW9uQXV0aGVudGljYXRlLnJlcS50dGwsVT17YXV0aFBheWxvYWQ6e3R5cGU6dT8/XCJjYWlwMTIyXCIsY2hhaW5zOm8sc3RhdGVtZW50OmEsYXVkOmwsZG9tYWluOnAsdmVyc2lvbjpcIjFcIixub25jZTpoLGlhdDpuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksZXhwOmQsbmJmOncscmVzb3VyY2VzOl99LHJlcXVlc3Rlcjp7cHVibGljS2V5OkQsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeVRpbWVzdGFtcDpWKFQpfSxmZT17ZWlwMTU1OntjaGFpbnM6byxtZXRob2RzOlsuLi5uZXcgU2V0KFtcInBlcnNvbmFsX3NpZ25cIiwuLi5tXSldLGV2ZW50czpbXCJjaGFpbkNoYW5nZWRcIixcImFjY291bnRzQ2hhbmdlZFwiXX19LHE9e3JlcXVpcmVkTmFtZXNwYWNlczp7fSxvcHRpb25hbE5hbWVzcGFjZXM6ZmUscmVsYXlzOlt7cHJvdG9jb2w6XCJpcm5cIn1dLHBhaXJpbmdUb3BpYzpnLHByb3Bvc2VyOntwdWJsaWNLZXk6RCxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0sZXhwaXJ5VGltZXN0YW1wOlYoTi53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsKSxpZDpHKCl9LHtkb25lOlJ0LHJlc29sdmU6amUscmVqZWN0OlNlfT1lZShULFwiUmVxdWVzdCBleHBpcmVkXCIpLHRlPUcoKSxsZT1SKFwic2Vzc2lvbl9jb25uZWN0XCIscS5pZCksUmU9UihcInNlc3Npb25fcmVxdWVzdFwiLHRlKSxwZT1hc3luYyh7ZXJyb3I6eCxzZXNzaW9uOkx9KT0+e3RoaXMuZXZlbnRzLm9mZihSZSx2ZSkseD9TZSh4KTpMJiZqZSh7c2Vzc2lvbjpMfSl9LHZlPWFzeW5jIHg9Pnt2YXIgTCxGZSxRZTtpZihhd2FpdCB0aGlzLmRlbGV0ZVBlbmRpbmdBdXRoUmVxdWVzdCh0ZSx7bWVzc2FnZTpcImZ1bGZpbGxlZFwiLGNvZGU6MH0pLHguZXJyb3Ipe2NvbnN0IGllPU8oXCJXQ19NRVRIT0RfVU5TVVBQT1JURURcIixcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIik7cmV0dXJuIHguZXJyb3IuY29kZT09PWllLmNvZGU/dm9pZCAwOih0aGlzLmV2ZW50cy5vZmYobGUscGUpLFNlKHguZXJyb3IubWVzc2FnZSkpfWF3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwocS5pZCksdGhpcy5ldmVudHMub2ZmKGxlLHBlKTtjb25zdHtjYWNhb3M6SGUscmVzcG9uZGVyOlF9PXgucmVzdWx0LFRlPVtdLHplPVtdO2Zvcihjb25zdCBpZSBvZiBIZSl7YXdhaXQgZXQoe2NhY2FvOmllLHByb2plY3RJZDp0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZH0pfHwodGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGllLFwiU2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWRcIiksU2UoTyhcIlNFU1NJT05fU0VUVExFTUVOVF9GQUlMRURcIixcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpKSk7Y29uc3R7cDpxZX09aWUsUGU9eGUocWUucmVzb3VyY2VzKSxZZT1bdHQocWUuaXNzKV0sdnQ9c3QocWUuaXNzKTtpZihQZSl7Y29uc3QgTmU9aXQoUGUpLEl0PXJ0KFBlKTtUZS5wdXNoKC4uLk5lKSxZZS5wdXNoKC4uLkl0KX1mb3IoY29uc3QgTmUgb2YgWWUpemUucHVzaChgJHtOZX06JHt2dH1gKX1jb25zdCBzZT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShELFEucHVibGljS2V5KTtsZXQgaGU7VGUubGVuZ3RoPjAmJihoZT17dG9waWM6c2UsYWNrbm93bGVkZ2VkOiEwLHNlbGY6e3B1YmxpY0tleTpELG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxwZWVyOlEsY29udHJvbGxlcjpRLnB1YmxpY0tleSxleHBpcnk6VihKKSxyZXF1aXJlZE5hbWVzcGFjZXM6e30sb3B0aW9uYWxOYW1lc3BhY2VzOnt9LHJlbGF5Ontwcm90b2NvbDpcImlyblwifSxwYWlyaW5nVG9waWM6ZyxuYW1lc3BhY2VzOm50KFsuLi5uZXcgU2V0KFRlKV0sWy4uLm5ldyBTZXQoemUpXSksdHJhbnNwb3J0VHlwZTpyfSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKHNlLHt0cmFuc3BvcnRUeXBlOnJ9KSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldChzZSxoZSksZyYmYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnVwZGF0ZU1ldGFkYXRhKHt0b3BpYzpnLG1ldGFkYXRhOlEubWV0YWRhdGF9KSxoZT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChzZSkpLChMPXRoaXMuY2xpZW50Lm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmTC5saW5rTW9kZSYmKEZlPVEubWV0YWRhdGEucmVkaXJlY3QpIT1udWxsJiZGZS5saW5rTW9kZSYmKFFlPVEubWV0YWRhdGEucmVkaXJlY3QpIT1udWxsJiZRZS51bml2ZXJzYWwmJnQmJih0aGlzLmNsaWVudC5jb3JlLmFkZExpbmtNb2RlU3VwcG9ydGVkQXBwKFEubWV0YWRhdGEucmVkaXJlY3QudW5pdmVyc2FsKSx0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShzZSx7dHJhbnNwb3J0VHlwZTpQLmxpbmtfbW9kZX0pKSxqZSh7YXV0aHM6SGUsc2Vzc2lvbjpoZX0pfTt0aGlzLmV2ZW50cy5vbmNlKGxlLHBlKSx0aGlzLmV2ZW50cy5vbmNlKFJlLHZlKTtsZXQgSWU7dHJ5e2lmKGkpe2NvbnN0IHg9eWUoXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCIsVSx0ZSk7dGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnNldChnLHgpO2NvbnN0IEw9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKFwiXCIseCx7dHlwZTpRdCxlbmNvZGluZzpuZX0pO0llPXVlKHQsZyxMKX1lbHNlIGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzpnLG1ldGhvZDpcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIixwYXJhbXM6VSxleHBpcnk6ZS5leHBpcnksdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6dGV9KSx0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzpnLG1ldGhvZDpcIndjX3Nlc3Npb25Qcm9wb3NlXCIscGFyYW1zOnEsZXhwaXJ5Ok4ud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDpxLmlkfSldKX1jYXRjaCh4KXt0aHJvdyB0aGlzLmV2ZW50cy5vZmYobGUscGUpLHRoaXMuZXZlbnRzLm9mZihSZSx2ZSkseH1yZXR1cm4gYXdhaXQgdGhpcy5zZXRQcm9wb3NhbChxLmlkLHEpLGF3YWl0IHRoaXMuc2V0QXV0aFJlcXVlc3QodGUse3JlcXVlc3Q6Yih2KHt9LFUpLHt2ZXJpZnlDb250ZXh0Ont9fSkscGFpcmluZ1RvcGljOmcsdHJhbnNwb3J0VHlwZTpyfSkse3VyaTpJZT8/QSxyZXNwb25zZTpSdH19KSxjKHRoaXMsXCJhcHByb3ZlU2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLGFzeW5jIGU9Pntjb25zdHtpZDp0LGF1dGhzOnN9PWUsaT10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmNyZWF0ZUV2ZW50KHtwcm9wZXJ0aWVzOnt0b3BpYzp0LnRvU3RyaW5nKCksdHJhY2U6W3ouYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZF19fSk7dHJ5e3RoaXMuaXNJbml0aWFsaXplZCgpfWNhdGNoKGYpe3Rocm93IGkuc2V0RXJyb3IocmUubm9faW50ZXJuZXRfY29ubmVjdGlvbiksZn1jb25zdCByPXRoaXMuZ2V0UGVuZGluZ0F1dGhSZXF1ZXN0KHQpO2lmKCFyKXRocm93IGkuc2V0RXJyb3IocmUuYXV0aGVudGljYXRlZF9zZXNzaW9uX3BlbmRpbmdfcmVxdWVzdF9ub3RfZm91bmQpLG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgcGVuZGluZyBhdXRoIHJlcXVlc3Qgd2l0aCBpZCAke3R9YCk7Y29uc3Qgbz1yLnRyYW5zcG9ydFR5cGV8fFAucmVsYXk7bz09PVAucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IGE9ci5yZXF1ZXN0ZXIucHVibGljS2V5LGw9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCkscD1iZShhKSxoPXt0eXBlOlZlLHJlY2VpdmVyUHVibGljS2V5OmEsc2VuZGVyUHVibGljS2V5Omx9LHU9W10sZD1bXTtmb3IoY29uc3QgZiBvZiBzKXtpZighYXdhaXQgZXQoe2NhY2FvOmYscHJvamVjdElkOnRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkfSkpe2kuc2V0RXJyb3IocmUuaW52YWxpZF9jYWNhbyk7Y29uc3QgST1PKFwiU0VTU0lPTl9TRVRUTEVNRU5UX0ZBSUxFRFwiLFwiU2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWRcIik7dGhyb3cgYXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnQsdG9waWM6cCxlcnJvcjpJLGVuY29kZU9wdHM6aH0pLG5ldyBFcnJvcihJLm1lc3NhZ2UpfWkuYWRkVHJhY2Uoei5jYWNhb3NfdmVyaWZpZWQpO2NvbnN0e3A6X309ZixnPXhlKF8ucmVzb3VyY2VzKSxBPVt0dChfLmlzcyldLEQ9c3QoXy5pc3MpO2lmKGcpe2NvbnN0IEk9aXQoZyksVD1ydChnKTt1LnB1c2goLi4uSSksQS5wdXNoKC4uLlQpfWZvcihjb25zdCBJIG9mIEEpZC5wdXNoKGAke0l9OiR7RH1gKX1jb25zdCB3PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGwsYSk7aS5hZGRUcmFjZSh6LmNyZWF0ZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWMpO2xldCBtO2lmKHU/Lmxlbmd0aD4wKXttPXt0b3BpYzp3LGFja25vd2xlZGdlZDohMCxzZWxmOntwdWJsaWNLZXk6bCxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0scGVlcjp7cHVibGljS2V5OmEsbWV0YWRhdGE6ci5yZXF1ZXN0ZXIubWV0YWRhdGF9LGNvbnRyb2xsZXI6YSxleHBpcnk6VihKKSxhdXRoZW50aWNhdGlvbjpzLHJlcXVpcmVkTmFtZXNwYWNlczp7fSxvcHRpb25hbE5hbWVzcGFjZXM6e30scmVsYXk6e3Byb3RvY29sOlwiaXJuXCJ9LHBhaXJpbmdUb3BpYzpyLnBhaXJpbmdUb3BpYyxuYW1lc3BhY2VzOm50KFsuLi5uZXcgU2V0KHUpXSxbLi4ubmV3IFNldChkKV0pLHRyYW5zcG9ydFR5cGU6b30saS5hZGRUcmFjZSh6LnN1YnNjcmliaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpYyk7dHJ5e2F3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUodyx7dHJhbnNwb3J0VHlwZTpvfSl9Y2F0Y2goZil7dGhyb3cgaS5zZXRFcnJvcihyZS5zdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmUpLGZ9aS5hZGRUcmFjZSh6LnN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfc3VjY2VzcyksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQodyxtKSxpLmFkZFRyYWNlKHouc3RvcmVfYXV0aGVudGljYXRlZF9zZXNzaW9uKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOnIucGFpcmluZ1RvcGljLG1ldGFkYXRhOnIucmVxdWVzdGVyLm1ldGFkYXRhfSl9aS5hZGRUcmFjZSh6LnB1Ymxpc2hpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmUpO3RyeXthd2FpdCB0aGlzLnNlbmRSZXN1bHQoe3RvcGljOnAsaWQ6dCxyZXN1bHQ6e2NhY2FvczpzLHJlc3BvbmRlcjp7cHVibGljS2V5OmwsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9fSxlbmNvZGVPcHRzOmgsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsYXBwTGluazp0aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoci5yZXF1ZXN0ZXIubWV0YWRhdGEsbyl9KX1jYXRjaChmKXt0aHJvdyBpLnNldEVycm9yKHJlLmF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZSksZn1yZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5kZWxldGUodCx7bWVzc2FnZTpcImZ1bGZpbGxlZFwiLGNvZGU6MH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5hY3RpdmF0ZSh7dG9waWM6ci5wYWlyaW5nVG9waWN9KSx0aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmRlbGV0ZUV2ZW50KHtldmVudElkOmkuZXZlbnRJZH0pLHtzZXNzaW9uOm19fSksYyh0aGlzLFwicmVqZWN0U2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLGFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdHtpZDp0LHJlYXNvbjpzfT1lLGk9dGhpcy5nZXRQZW5kaW5nQXV0aFJlcXVlc3QodCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBwZW5kaW5nIGF1dGggcmVxdWVzdCB3aXRoIGlkICR7dH1gKTtpLnRyYW5zcG9ydFR5cGU9PT1QLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCByPWkucmVxdWVzdGVyLnB1YmxpY0tleSxvPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLGE9YmUociksbD17dHlwZTpWZSxyZWNlaXZlclB1YmxpY0tleTpyLHNlbmRlclB1YmxpY0tleTpvfTthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6dCx0b3BpYzphLGVycm9yOnMsZW5jb2RlT3B0czpsLHJwY09wdHM6Ti53Y19zZXNzaW9uQXV0aGVudGljYXRlLnJlamVjdCxhcHBMaW5rOnRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChpLnJlcXVlc3Rlci5tZXRhZGF0YSxpLnRyYW5zcG9ydFR5cGUpfSksYXdhaXQgdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5kZWxldGUodCx7bWVzc2FnZTpcInJlamVjdGVkXCIsY29kZTowfSksYXdhaXQgdGhpcy5jbGllbnQucHJvcG9zYWwuZGVsZXRlKHQsTyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKX0pLGModGhpcyxcImZvcm1hdEF1dGhNZXNzYWdlXCIsZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0e3JlcXVlc3Q6dCxpc3M6c309ZTtyZXR1cm4gSHQodCxzKX0pLGModGhpcyxcInByb2Nlc3NSZWxheU1lc3NhZ2VDYWNoZVwiLCgpPT57c2V0VGltZW91dChhc3luYygpPT57aWYodGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5sZW5ndGghPT0wKWZvcig7dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5sZW5ndGg+MDspdHJ5e2NvbnN0IGU9dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5zaGlmdCgpO2UmJmF3YWl0IHRoaXMub25SZWxheU1lc3NhZ2UoZSl9Y2F0Y2goZSl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGUpfX0sNTApfSksYyh0aGlzLFwiY2xlYW51cER1cGxpY2F0ZVBhaXJpbmdzXCIsYXN5bmMgZT0+e2lmKGUucGFpcmluZ1RvcGljKXRyeXtjb25zdCB0PXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5nZXQoZS5wYWlyaW5nVG9waWMpLHM9dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldEFsbCgpLmZpbHRlcihpPT57dmFyIHIsbztyZXR1cm4oKHI9aS5wZWVyTWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpyLnVybCkmJigobz1pLnBlZXJNZXRhZGF0YSk9PW51bGw/dm9pZCAwOm8udXJsKT09PWUucGVlci5tZXRhZGF0YS51cmwmJmkudG9waWMmJmkudG9waWMhPT10LnRvcGljfSk7aWYocy5sZW5ndGg9PT0wKXJldHVybjt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgQ2xlYW5pbmcgdXAgJHtzLmxlbmd0aH0gZHVwbGljYXRlIHBhaXJpbmcocylgKSxhd2FpdCBQcm9taXNlLmFsbChzLm1hcChpPT50aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuZGlzY29ubmVjdCh7dG9waWM6aS50b3BpY30pKSksdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJEdXBsaWNhdGUgcGFpcmluZ3MgY2xlYW4gdXAgZmluaXNoZWRcIil9Y2F0Y2godCl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHQpfX0pLGModGhpcyxcImRlbGV0ZVNlc3Npb25cIixhc3luYyBlPT57dmFyIHQ7Y29uc3R7dG9waWM6cyxleHBpcmVySGFzRGVsZXRlZDppPSExLGVtaXRFdmVudDpyPSEwLGlkOm89MH09ZSx7c2VsZjphfT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChzKTthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUocyksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5kZWxldGUocyxPKFwiVVNFUl9ESVNDT05ORUNURURcIikpLHRoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQocyxcInNlc3Npb25cIiksdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKGEucHVibGljS2V5KSYmYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVsZXRlS2V5UGFpcihhLnB1YmxpY0tleSksdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKHMpJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5kZWxldGVTeW1LZXkocyksaXx8dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLmRlbChzKSx0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UucmVtb3ZlSXRlbShNZSkuY2F0Y2gobD0+dGhpcy5jbGllbnQubG9nZ2VyLndhcm4obCkpLHRoaXMuZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0cygpLmZvckVhY2gobD0+e2wudG9waWM9PT1zJiZ0aGlzLmRlbGV0ZVBlbmRpbmdTZXNzaW9uUmVxdWVzdChsLmlkLE8oXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSl9KSxzPT09KCh0PXRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZVswXSk9PW51bGw/dm9pZCAwOnQudG9waWMpJiYodGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPSQuaWRsZSksciYmdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2RlbGV0ZVwiLHtpZDpvLHRvcGljOnN9KX0pLGModGhpcyxcImRlbGV0ZVByb3Bvc2FsXCIsYXN5bmMoZSx0KT0+e2lmKHQpdHJ5e2NvbnN0IHM9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KGUpLGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5nZXRFdmVudCh7dG9waWM6cy5wYWlyaW5nVG9waWN9KTtpPy5zZXRFcnJvcihILnByb3Bvc2FsX2V4cGlyZWQpfWNhdGNoe31hd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQucHJvcG9zYWwuZGVsZXRlKGUsTyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx0P1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwoZSldKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKGUsXCJwcm9wb3NhbFwiKX0pLGModGhpcyxcImRlbGV0ZVBlbmRpbmdTZXNzaW9uUmVxdWVzdFwiLGFzeW5jKGUsdCxzPSExKT0+e2F3YWl0IFByb21pc2UuYWxsKFt0aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5kZWxldGUoZSx0KSxzP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwoZSldKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKGUsXCJyZXF1ZXN0XCIpLHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZT10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWUuZmlsdGVyKGk9PmkuaWQhPT1lKSxzJiYodGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPSQuaWRsZSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9leHBpcmVcIix7aWQ6ZX0pKX0pLGModGhpcyxcImRlbGV0ZVBlbmRpbmdBdXRoUmVxdWVzdFwiLGFzeW5jKGUsdCxzPSExKT0+e2F3YWl0IFByb21pc2UuYWxsKFt0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmRlbGV0ZShlLHQpLHM/UHJvbWlzZS5yZXNvbHZlKCk6dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLmRlbChlKV0pfSksYyh0aGlzLFwic2V0RXhwaXJ5XCIsYXN5bmMoZSx0KT0+e3RoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhlKSYmKHRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5zZXQoZSx0KSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShlLHtleHBpcnk6dH0pKX0pLGModGhpcyxcInNldFByb3Bvc2FsXCIsYXN5bmMoZSx0KT0+e3RoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5zZXQoZSxWKE4ud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCkpLGF3YWl0IHRoaXMuY2xpZW50LnByb3Bvc2FsLnNldChlLHQpfSksYyh0aGlzLFwic2V0QXV0aFJlcXVlc3RcIixhc3luYyhlLHQpPT57Y29uc3R7cmVxdWVzdDpzLHBhaXJpbmdUb3BpYzppLHRyYW5zcG9ydFR5cGU6cj1QLnJlbGF5fT10O3RoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5zZXQoZSxzLmV4cGlyeVRpbWVzdGFtcCksYXdhaXQgdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5zZXQoZSx7YXV0aFBheWxvYWQ6cy5hdXRoUGF5bG9hZCxyZXF1ZXN0ZXI6cy5yZXF1ZXN0ZXIsZXhwaXJ5VGltZXN0YW1wOnMuZXhwaXJ5VGltZXN0YW1wLGlkOmUscGFpcmluZ1RvcGljOmksdmVyaWZ5Q29udGV4dDpzLnZlcmlmeUNvbnRleHQsdHJhbnNwb3J0VHlwZTpyfSl9KSxjKHRoaXMsXCJzZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RcIixhc3luYyBlPT57Y29uc3R7aWQ6dCx0b3BpYzpzLHBhcmFtczppLHZlcmlmeUNvbnRleHQ6cn09ZSxvPWkucmVxdWVzdC5leHBpcnlUaW1lc3RhbXB8fFYoTi53Y19zZXNzaW9uUmVxdWVzdC5yZXEudHRsKTt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQsbyksYXdhaXQgdGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3Quc2V0KHQse2lkOnQsdG9waWM6cyxwYXJhbXM6aSx2ZXJpZnlDb250ZXh0OnJ9KX0pLGModGhpcyxcInNlbmRSZXF1ZXN0XCIsYXN5bmMgZT0+e2NvbnN0e3RvcGljOnQsbWV0aG9kOnMscGFyYW1zOmksZXhwaXJ5OnIscmVsYXlScGNJZDpvLGNsaWVudFJwY0lkOmEsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6bCxhcHBMaW5rOnAsdHZmOmh9PWUsdT15ZShzLGksYSk7bGV0IGQ7Y29uc3Qgdz0hIXA7dHJ5e2NvbnN0IF89dz9uZTpkZTtkPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZSh0LHUse2VuY29kaW5nOl99KX1jYXRjaChfKXt0aHJvdyBhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRSZXF1ZXN0KCkgLT4gY29yZS5jcnlwdG8uZW5jb2RlKCkgZm9yIHRvcGljICR7dH0gZmFpbGVkYCksX31sZXQgbTtpZihndC5pbmNsdWRlcyhzKSl7Y29uc3QgXz1XKEpTT04uc3RyaW5naWZ5KHUpKSxnPVcoZCk7bT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnZlcmlmeS5yZWdpc3Rlcih7aWQ6ZyxkZWNyeXB0ZWRJZDpffSl9Y29uc3QgZj1OW3NdLnJlcTtpZihmLmF0dGVzdGF0aW9uPW0sciYmKGYudHRsPXIpLG8mJihmLmlkPW8pLHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQodCx1KSx3KXtjb25zdCBfPXVlKHAsdCxkKTthd2FpdCBnbG9iYWwuTGlua2luZy5vcGVuVVJMKF8sdGhpcy5jbGllbnQubmFtZSl9ZWxzZXtjb25zdCBfPU5bc10ucmVxO3ImJihfLnR0bD1yKSxvJiYoXy5pZD1vKSxfLnR2Zj1iKHYoe30saCkse2NvcnJlbGF0aW9uSWQ6dS5pZH0pLGw/KF8uaW50ZXJuYWw9Yih2KHt9LF8uaW50ZXJuYWwpLHt0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHQsZCxfKSk6dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2godCxkLF8pLmNhdGNoKGc9PnRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihnKSl9cmV0dXJuIHUuaWR9KSxjKHRoaXMsXCJzZW5kUmVzdWx0XCIsYXN5bmMgZT0+e2NvbnN0e2lkOnQsdG9waWM6cyxyZXN1bHQ6aSx0aHJvd09uRmFpbGVkUHVibGlzaDpyLGVuY29kZU9wdHM6byxhcHBMaW5rOmF9PWUsbD11cyh0LGkpO2xldCBwO2NvbnN0IGg9YSYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkxpbmtpbmcpPFwidVwiO3RyeXtjb25zdCB3PWg/bmU6ZGU7cD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUocyxsLGIodih7fSxvfHx7fSkse2VuY29kaW5nOnd9KSl9Y2F0Y2godyl7dGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kUmVzdWx0KCkgLT4gY29yZS5jcnlwdG8uZW5jb2RlKCkgZm9yIHRvcGljICR7c30gZmFpbGVkYCksd31sZXQgdSxkO3RyeXt1PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQocyx0KTtjb25zdCB3PXUucmVxdWVzdDt0cnl7dGhpcy5zaG91bGRTZXRUVkYody5tZXRob2Qsdy5wYXJhbXMpJiYoZD10aGlzLmdldFRWRlBhcmFtcyh0LHcucGFyYW1zLGkpKX1jYXRjaChtKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihcInNlbmRSZXN1bHQoKSAtPiBnZXRUVkZQYXJhbXMoKSBmYWlsZWRcIixtKX19Y2F0Y2godyl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kUmVzdWx0KCkgLT4gaGlzdG9yeS5nZXQoJHtzfSwgJHt0fSkgZmFpbGVkYCksd31pZihoKXtjb25zdCB3PXVlKGEscyxwKTthd2FpdCBnbG9iYWwuTGlua2luZy5vcGVuVVJMKHcsdGhpcy5jbGllbnQubmFtZSl9ZWxzZXtjb25zdCB3PXUucmVxdWVzdC5tZXRob2QsbT1OW3ddLnJlczttLnR2Zj1iKHYoe30sZCkse2NvcnJlbGF0aW9uSWQ6dH0pLHI/KG0uaW50ZXJuYWw9Yih2KHt9LG0uaW50ZXJuYWwpLHt0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHMscCxtKSk6dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxwLG0pLmNhdGNoKGY9PnRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihmKSl9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnJlc29sdmUobCl9KSxjKHRoaXMsXCJzZW5kRXJyb3JcIixhc3luYyBlPT57Y29uc3R7aWQ6dCx0b3BpYzpzLGVycm9yOmksZW5jb2RlT3B0czpyLHJwY09wdHM6byxhcHBMaW5rOmF9PWUsbD1ncyh0LGkpO2xldCBwO2NvbnN0IGg9YSYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkxpbmtpbmcpPFwidVwiO3RyeXtjb25zdCBkPWg/bmU6ZGU7cD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUocyxsLGIodih7fSxyfHx7fSkse2VuY29kaW5nOmR9KSl9Y2F0Y2goZCl7dGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kRXJyb3IoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHtzfSBmYWlsZWRgKSxkfWxldCB1O3RyeXt1PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQocyx0KX1jYXRjaChkKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRFcnJvcigpIC0+IGhpc3RvcnkuZ2V0KCR7c30sICR7dH0pIGZhaWxlZGApLGR9aWYoaCl7Y29uc3QgZD11ZShhLHMscCk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChkLHRoaXMuY2xpZW50Lm5hbWUpfWVsc2V7Y29uc3QgZD11LnJlcXVlc3QubWV0aG9kLHc9b3x8TltkXS5yZXM7dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxwLHcpfWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKGwpfSksYyh0aGlzLFwiY2xlYW51cFwiLGFzeW5jKCk9Pntjb25zdCBlPVtdLHQ9W107dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKS5mb3JFYWNoKHM9PntsZXQgaT0hMTtaKHMuZXhwaXJ5KSYmKGk9ITApLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhzLnRvcGljKXx8KGk9ITApLGkmJmUucHVzaChzLnRvcGljKX0pLHRoaXMuY2xpZW50LnByb3Bvc2FsLmdldEFsbCgpLmZvckVhY2gocz0+e1oocy5leHBpcnlUaW1lc3RhbXApJiZ0LnB1c2gocy5pZCl9KSxhd2FpdCBQcm9taXNlLmFsbChbLi4uZS5tYXAocz0+dGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzpzfSkpLC4uLnQubWFwKHM9PnRoaXMuZGVsZXRlUHJvcG9zYWwocykpXSl9KSxjKHRoaXMsXCJvblByb3ZpZGVyTWVzc2FnZUV2ZW50XCIsYXN5bmMgZT0+eyF0aGlzLmluaXRpYWxpemVkfHx0aGlzLnJlbGF5TWVzc2FnZUNhY2hlLmxlbmd0aD4wP3RoaXMucmVsYXlNZXNzYWdlQ2FjaGUucHVzaChlKTphd2FpdCB0aGlzLm9uUmVsYXlNZXNzYWdlKGUpfSksYyh0aGlzLFwib25SZWxheUV2ZW50UmVxdWVzdFwiLGFzeW5jIGU9Pnt0aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5wdXNoKGUpLGF3YWl0IHRoaXMucHJvY2Vzc1JlcXVlc3RzUXVldWUoKX0pLGModGhpcyxcInByb2Nlc3NSZXF1ZXN0c1F1ZXVlXCIsYXN5bmMoKT0+e2lmKHRoaXMucmVxdWVzdFF1ZXVlLnN0YXRlPT09JC5hY3RpdmUpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwiUmVxdWVzdCBxdWV1ZSBhbHJlYWR5IGFjdGl2ZSwgc2tpcHBpbmcuLi5cIik7cmV0dXJufWZvcih0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgUmVxdWVzdCBxdWV1ZSBzdGFydGluZyB3aXRoICR7dGhpcy5yZXF1ZXN0UXVldWUucXVldWUubGVuZ3RofSByZXF1ZXN0c2ApO3RoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLmxlbmd0aD4wOyl7dGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9JC5hY3RpdmU7Y29uc3QgZT10aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5zaGlmdCgpO2lmKGUpdHJ5e2F3YWl0IHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9Y2F0Y2godCl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4odCl9fXRoaXMucmVxdWVzdFF1ZXVlLnN0YXRlPSQuaWRsZX0pLGModGhpcyxcInByb2Nlc3NSZXF1ZXN0XCIsYXN5bmMgZT0+e2NvbnN0e3RvcGljOnQscGF5bG9hZDpzLGF0dGVzdGF0aW9uOmksdHJhbnNwb3J0VHlwZTpyLGVuY3J5cHRlZElkOm99PWUsYT1zLm1ldGhvZDtpZighdGhpcy5zaG91bGRJZ25vcmVQYWlyaW5nUmVxdWVzdCh7dG9waWM6dCxyZXF1ZXN0TWV0aG9kOmF9KSlzd2l0Y2goYSl7Y2FzZVwid2Nfc2Vzc2lvblByb3Bvc2VcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25Qcm9wb3NlUmVxdWVzdCh7dG9waWM6dCxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSxlbmNyeXB0ZWRJZDpvfSk7Y2FzZVwid2Nfc2Vzc2lvblNldHRsZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblNldHRsZVJlcXVlc3QodCxzKTtjYXNlXCJ3Y19zZXNzaW9uVXBkYXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uVXBkYXRlUmVxdWVzdCh0LHMpO2Nhc2VcIndjX3Nlc3Npb25FeHRlbmRcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25FeHRlbmRSZXF1ZXN0KHQscyk7Y2FzZVwid2Nfc2Vzc2lvblBpbmdcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25QaW5nUmVxdWVzdCh0LHMpO2Nhc2VcIndjX3Nlc3Npb25EZWxldGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25EZWxldGVSZXF1ZXN0KHQscyk7Y2FzZVwid2Nfc2Vzc2lvblJlcXVlc3RcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25SZXF1ZXN0KHt0b3BpYzp0LHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOm8sdHJhbnNwb3J0VHlwZTpyfSk7Y2FzZVwid2Nfc2Vzc2lvbkV2ZW50XCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uRXZlbnRSZXF1ZXN0KHQscyk7Y2FzZVwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlcXVlc3Qoe3RvcGljOnQscGF5bG9hZDpzLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6byx0cmFuc3BvcnRUeXBlOnJ9KTtkZWZhdWx0OnJldHVybiB0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgVW5zdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2QgJHthfWApfX0pLGModGhpcyxcIm9uUmVsYXlFdmVudFJlc3BvbnNlXCIsYXN5bmMgZT0+e2NvbnN0e3RvcGljOnQscGF5bG9hZDpzLHRyYW5zcG9ydFR5cGU6aX09ZSxyPShhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZ2V0KHQscy5pZCkpLnJlcXVlc3QubWV0aG9kO3N3aXRjaChyKXtjYXNlXCJ3Y19zZXNzaW9uUHJvcG9zZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZSh0LHMsaSk7Y2FzZVwid2Nfc2Vzc2lvblNldHRsZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblNldHRsZVJlc3BvbnNlKHQscyk7Y2FzZVwid2Nfc2Vzc2lvblVwZGF0ZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblVwZGF0ZVJlc3BvbnNlKHQscyk7Y2FzZVwid2Nfc2Vzc2lvbkV4dGVuZFwiOnJldHVybiB0aGlzLm9uU2Vzc2lvbkV4dGVuZFJlc3BvbnNlKHQscyk7Y2FzZVwid2Nfc2Vzc2lvblBpbmdcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25QaW5nUmVzcG9uc2UodCxzKTtjYXNlXCJ3Y19zZXNzaW9uUmVxdWVzdFwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblJlcXVlc3RSZXNwb25zZSh0LHMpO2Nhc2VcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25BdXRoZW50aWNhdGVSZXNwb25zZSh0LHMpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBVbnN1cHBvcnRlZCByZXNwb25zZSBtZXRob2QgJHtyfWApfX0pLGModGhpcyxcIm9uUmVsYXlFdmVudFVua25vd25QYXlsb2FkXCIsZT0+e2NvbnN0e3RvcGljOnR9PWUse21lc3NhZ2U6c309eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBEZWNvZGVkIHBheWxvYWQgb24gdG9waWMgJHt0fSBpcyBub3QgaWRlbnRpZmlhYmxlIGFzIGEgSlNPTi1SUEMgcmVxdWVzdCBvciBhIHJlc3BvbnNlLmApO3Rocm93IG5ldyBFcnJvcihzKX0pLGModGhpcyxcInNob3VsZElnbm9yZVBhaXJpbmdSZXF1ZXN0XCIsZT0+e2NvbnN0e3RvcGljOnQscmVxdWVzdE1ldGhvZDpzfT1lLGk9dGhpcy5leHBlY3RlZFBhaXJpbmdNZXRob2RNYXAuZ2V0KHQpO3JldHVybiFpfHxpLmluY2x1ZGVzKHMpPyExOiEhKGkuaW5jbHVkZXMoXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCIpJiZ0aGlzLmNsaWVudC5ldmVudHMubGlzdGVuZXJDb3VudChcInNlc3Npb25fYXV0aGVudGljYXRlXCIpPjApfSksYyh0aGlzLFwib25TZXNzaW9uUHJvcG9zZVJlcXVlc3RcIixhc3luYyBlPT57Y29uc3R7dG9waWM6dCxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSxlbmNyeXB0ZWRJZDpyfT1lLHtwYXJhbXM6byxpZDphfT1zO3RyeXtjb25zdCBsPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZ2V0RXZlbnQoe3RvcGljOnR9KTt0aGlzLmNsaWVudC5ldmVudHMubGlzdGVuZXJDb3VudChcInNlc3Npb25fcHJvcG9zYWxcIik9PT0wJiYoY29uc29sZS53YXJuKFwiTm8gbGlzdGVuZXIgZm9yIHNlc3Npb25fcHJvcG9zYWwgZXZlbnRcIiksbD8uc2V0RXJyb3IoUHQucHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kKSksdGhpcy5pc1ZhbGlkQ29ubmVjdCh2KHt9LHMucGFyYW1zKSk7Y29uc3QgcD1vLmV4cGlyeVRpbWVzdGFtcHx8VihOLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwpLGg9dih7aWQ6YSxwYWlyaW5nVG9waWM6dCxleHBpcnlUaW1lc3RhbXA6cH0sbyk7YXdhaXQgdGhpcy5zZXRQcm9wb3NhbChhLGgpO2NvbnN0IHU9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KHthdHRlc3RhdGlvbklkOmksaGFzaDpXKEpTT04uc3RyaW5naWZ5KHMpKSxlbmNyeXB0ZWRJZDpyLG1ldGFkYXRhOmgucHJvcG9zZXIubWV0YWRhdGF9KTtsPy5hZGRUcmFjZShOdC5lbWl0X3Nlc3Npb25fcHJvcG9zYWwpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9wcm9wb3NhbFwiLHtpZDphLHBhcmFtczpoLHZlcmlmeUNvbnRleHQ6dX0pfWNhdGNoKGwpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDphLHRvcGljOnQsZXJyb3I6bCxycGNPcHRzOk4ud2Nfc2Vzc2lvblByb3Bvc2UuYXV0b1JlamVjdH0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihsKX19KSxjKHRoaXMsXCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixhc3luYyhlLHQscyk9Pntjb25zdHtpZDppfT10O2lmKGoodCkpe2NvbnN0e3Jlc3VsdDpyfT10O3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHJlc3VsdDpyfSk7Y29uc3Qgbz10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoaSk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIscHJvcG9zYWw6b30pO2NvbnN0IGE9by5wcm9wb3Nlci5wdWJsaWNLZXk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsc2VsZlB1YmxpY0tleTphfSk7Y29uc3QgbD1yLnJlc3BvbmRlclB1YmxpY0tleTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixwZWVyUHVibGljS2V5Omx9KTtjb25zdCBwPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGEsbCk7dGhpcy5wZW5kaW5nU2Vzc2lvbnMuc2V0KGkse3Nlc3Npb25Ub3BpYzpwLHBhaXJpbmdUb3BpYzplLHByb3Bvc2FsSWQ6aSxwdWJsaWNLZXk6YX0pO2NvbnN0IGg9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShwLHt0cmFuc3BvcnRUeXBlOnN9KTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixzdWJzY3JpcHRpb25JZDpofSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmFjdGl2YXRlKHt0b3BpYzplfSl9ZWxzZSBpZihGKHQpKXthd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5kZWxldGUoaSxPKFwiVVNFUl9ESVNDT05ORUNURURcIikpO2NvbnN0IHI9UihcInNlc3Npb25fY29ubmVjdFwiLGkpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQocik9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtyfSB3aXRob3V0IGFueSBsaXN0ZW5lcnMsIDk1NGApO3RoaXMuZXZlbnRzLmVtaXQocix7ZXJyb3I6dC5lcnJvcn0pfX0pLGModGhpcyxcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3RcIixhc3luYyhlLHQpPT57Y29uc3R7aWQ6cyxwYXJhbXM6aX09dDt0cnl7dGhpcy5pc1ZhbGlkU2Vzc2lvblNldHRsZVJlcXVlc3QoaSk7Y29uc3R7cmVsYXk6cixjb250cm9sbGVyOm8sZXhwaXJ5OmEsbmFtZXNwYWNlczpsLHNlc3Npb25Qcm9wZXJ0aWVzOnAsc2NvcGVkUHJvcGVydGllczpoLHNlc3Npb25Db25maWc6dX09dC5wYXJhbXMsZD1bLi4udGhpcy5wZW5kaW5nU2Vzc2lvbnMudmFsdWVzKCldLmZpbmQoZj0+Zi5zZXNzaW9uVG9waWM9PT1lKTtpZighZClyZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBQZW5kaW5nIHNlc3Npb24gbm90IGZvdW5kIGZvciB0b3BpYyAke2V9YCk7Y29uc3Qgdz10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoZC5wcm9wb3NhbElkKSxtPWIodih2KHYoe3RvcGljOmUscmVsYXk6cixleHBpcnk6YSxuYW1lc3BhY2VzOmwsYWNrbm93bGVkZ2VkOiEwLHBhaXJpbmdUb3BpYzpkLnBhaXJpbmdUb3BpYyxyZXF1aXJlZE5hbWVzcGFjZXM6dy5yZXF1aXJlZE5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOncub3B0aW9uYWxOYW1lc3BhY2VzLGNvbnRyb2xsZXI6by5wdWJsaWNLZXksc2VsZjp7cHVibGljS2V5OmQucHVibGljS2V5LG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxwZWVyOntwdWJsaWNLZXk6by5wdWJsaWNLZXksbWV0YWRhdGE6by5tZXRhZGF0YX19LHAmJntzZXNzaW9uUHJvcGVydGllczpwfSksaCYme3Njb3BlZFByb3BlcnRpZXM6aH0pLHUmJntzZXNzaW9uQ29uZmlnOnV9KSx7dHJhbnNwb3J0VHlwZTpQLnJlbGF5fSk7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQobS50b3BpYyxtKSxhd2FpdCB0aGlzLnNldEV4cGlyeShtLnRvcGljLG0uZXhwaXJ5KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOmQucGFpcmluZ1RvcGljLG1ldGFkYXRhOm0ucGVlci5tZXRhZGF0YX0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9jb25uZWN0XCIse3Nlc3Npb246bX0pLHRoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fY29ubmVjdFwiLGQucHJvcG9zYWxJZCkse3Nlc3Npb246bX0pLHRoaXMucGVuZGluZ1Nlc3Npb25zLmRlbGV0ZShkLnByb3Bvc2FsSWQpLHRoaXMuZGVsZXRlUHJvcG9zYWwoZC5wcm9wb3NhbElkLCExKSx0aGlzLmNsZWFudXBEdXBsaWNhdGVQYWlyaW5ncyhtKSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOnQuaWQsdG9waWM6ZSxyZXN1bHQ6ITAsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KX1jYXRjaChyKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzplLGVycm9yOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iocil9fSksYyh0aGlzLFwib25TZXNzaW9uU2V0dGxlUmVzcG9uc2VcIixhc3luYyhlLHQpPT57Y29uc3R7aWQ6c309dDtqKHQpPyhhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShlLHthY2tub3dsZWRnZWQ6ITB9KSx0aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX2FwcHJvdmVcIixzKSx7fSkpOkYodCkmJihhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLmRlbGV0ZShlLE8oXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9hcHByb3ZlXCIscykse2Vycm9yOnQuZXJyb3J9KSl9KSxjKHRoaXMsXCJvblNlc3Npb25VcGRhdGVSZXF1ZXN0XCIsYXN5bmMoZSx0KT0+e2NvbnN0e3BhcmFtczpzLGlkOml9PXQ7dHJ5e2NvbnN0IHI9YCR7ZX1fc2Vzc2lvbl91cGRhdGVgLG89b2UuZ2V0KHIpO2lmKG8mJnRoaXMuaXNSZXF1ZXN0T3V0T2ZTeW5jKG8saSkpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGBEaXNjYXJkaW5nIG91dCBvZiBzeW5jIHJlcXVlc3QgLSAke2l9YCksdGhpcy5zZW5kRXJyb3Ioe2lkOmksdG9waWM6ZSxlcnJvcjpPKFwiSU5WQUxJRF9VUERBVEVfUkVRVUVTVFwiKX0pO3JldHVybn10aGlzLmlzVmFsaWRVcGRhdGUodih7dG9waWM6ZX0scykpO3RyeXtvZS5zZXQocixpKSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShlLHtuYW1lc3BhY2VzOnMubmFtZXNwYWNlc30pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6aSx0b3BpYzplLHJlc3VsdDohMCx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pfWNhdGNoKGEpe3Rocm93IG9lLmRlbGV0ZShyKSxhfXRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl91cGRhdGVcIix7aWQ6aSx0b3BpYzplLHBhcmFtczpzfSl9Y2F0Y2gocil7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmksdG9waWM6ZSxlcnJvcjpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHIpfX0pLGModGhpcyxcImlzUmVxdWVzdE91dE9mU3luY1wiLChlLHQpPT50LnRvU3RyaW5nKCkuc2xpY2UoMCwtMyk8ZS50b1N0cmluZygpLnNsaWNlKDAsLTMpKSxjKHRoaXMsXCJvblNlc3Npb25VcGRhdGVSZXNwb25zZVwiLChlLHQpPT57Y29uc3R7aWQ6c309dCxpPVIoXCJzZXNzaW9uX3VwZGF0ZVwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtqKHQpP3RoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fdXBkYXRlXCIscykse30pOkYodCkmJnRoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fdXBkYXRlXCIscykse2Vycm9yOnQuZXJyb3J9KX0pLGModGhpcyxcIm9uU2Vzc2lvbkV4dGVuZFJlcXVlc3RcIixhc3luYyhlLHQpPT57Y29uc3R7aWQ6c309dDt0cnl7dGhpcy5pc1ZhbGlkRXh0ZW5kKHt0b3BpYzplfSksYXdhaXQgdGhpcy5zZXRFeHBpcnkoZSxWKEopKSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOnMsdG9waWM6ZSxyZXN1bHQ6ITAsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXh0ZW5kXCIse2lkOnMsdG9waWM6ZX0pfWNhdGNoKGkpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDpzLHRvcGljOmUsZXJyb3I6aX0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihpKX19KSxjKHRoaXMsXCJvblNlc3Npb25FeHRlbmRSZXNwb25zZVwiLChlLHQpPT57Y29uc3R7aWQ6c309dCxpPVIoXCJzZXNzaW9uX2V4dGVuZFwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtqKHQpP3RoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fZXh0ZW5kXCIscykse30pOkYodCkmJnRoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fZXh0ZW5kXCIscykse2Vycm9yOnQuZXJyb3J9KX0pLGModGhpcyxcIm9uU2Vzc2lvblBpbmdSZXF1ZXN0XCIsYXN5bmMoZSx0KT0+e2NvbnN0e2lkOnN9PXQ7dHJ5e3RoaXMuaXNWYWxpZFBpbmcoe3RvcGljOmV9KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOnMsdG9waWM6ZSxyZXN1bHQ6ITAsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcGluZ1wiLHtpZDpzLHRvcGljOmV9KX1jYXRjaChpKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzplLGVycm9yOml9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSksYyh0aGlzLFwib25TZXNzaW9uUGluZ1Jlc3BvbnNlXCIsKGUsdCk9Pntjb25zdHtpZDpzfT10LGk9UihcInNlc3Npb25fcGluZ1wiLHMpO3NldFRpbWVvdXQoKCk9PntpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7aX0gd2l0aG91dCBhbnkgbGlzdGVuZXJzIDIxNzZgKTtqKHQpP3RoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fcGluZ1wiLHMpLHt9KTpGKHQpJiZ0aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX3BpbmdcIixzKSx7ZXJyb3I6dC5lcnJvcn0pfSw1MDApfSksYyh0aGlzLFwib25TZXNzaW9uRGVsZXRlUmVxdWVzdFwiLGFzeW5jKGUsdCk9Pntjb25zdHtpZDpzfT10O3RyeXt0aGlzLmlzVmFsaWREaXNjb25uZWN0KHt0b3BpYzplLHJlYXNvbjp0LnBhcmFtc30pLFByb21pc2UuYWxsKFtuZXcgUHJvbWlzZShpPT57dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm9uY2UoWGUucHVibGlzaCxhc3luYygpPT57aShhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOmUsaWQ6c30pKX0pfSksdGhpcy5zZW5kUmVzdWx0KHtpZDpzLHRvcGljOmUscmVzdWx0OiEwLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSksdGhpcy5jbGVhbnVwUGVuZGluZ1NlbnRSZXF1ZXN0c0ZvclRvcGljKHt0b3BpYzplLGVycm9yOk8oXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKX0pXSkuY2F0Y2goaT0+dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpKX1jYXRjaChpKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSksYyh0aGlzLFwib25TZXNzaW9uUmVxdWVzdFwiLGFzeW5jIGU9Pnt2YXIgdCxzLGk7Y29uc3R7dG9waWM6cixwYXlsb2FkOm8sYXR0ZXN0YXRpb246YSxlbmNyeXB0ZWRJZDpsLHRyYW5zcG9ydFR5cGU6cH09ZSx7aWQ6aCxwYXJhbXM6dX09bzt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVxdWVzdCh2KHt0b3BpYzpyfSx1KSk7Y29uc3QgZD10aGlzLmNsaWVudC5zZXNzaW9uLmdldChyKSx3PWF3YWl0IHRoaXMuZ2V0VmVyaWZ5Q29udGV4dCh7YXR0ZXN0YXRpb25JZDphLGhhc2g6VyhKU09OLnN0cmluZ2lmeSh5ZShcIndjX3Nlc3Npb25SZXF1ZXN0XCIsdSxoKSkpLGVuY3J5cHRlZElkOmwsbWV0YWRhdGE6ZC5wZWVyLm1ldGFkYXRhLHRyYW5zcG9ydFR5cGU6cH0pLG09e2lkOmgsdG9waWM6cixwYXJhbXM6dSx2ZXJpZnlDb250ZXh0Ond9O2F3YWl0IHRoaXMuc2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0KG0pLHA9PT1QLmxpbmtfbW9kZSYmKHQ9ZC5wZWVyLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmdC51bml2ZXJzYWwmJnRoaXMuY2xpZW50LmNvcmUuYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoKHM9ZC5wZWVyLm1ldGFkYXRhLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cy51bml2ZXJzYWwpLChpPXRoaXMuY2xpZW50LnNpZ25Db25maWcpIT1udWxsJiZpLmRpc2FibGVSZXF1ZXN0UXVldWU/dGhpcy5lbWl0U2Vzc2lvblJlcXVlc3QobSk6KHRoaXMuYWRkU2Vzc2lvblJlcXVlc3RUb1Nlc3Npb25SZXF1ZXN0UXVldWUobSksdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpKX1jYXRjaChkKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6aCx0b3BpYzpyLGVycm9yOmR9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoZCl9fSksYyh0aGlzLFwib25TZXNzaW9uUmVxdWVzdFJlc3BvbnNlXCIsKGUsdCk9Pntjb25zdHtpZDpzfT10LGk9UihcInNlc3Npb25fcmVxdWVzdFwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtqKHQpP3RoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtyZXN1bHQ6dC5yZXN1bHR9KTpGKHQpJiZ0aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX3JlcXVlc3RcIixzKSx7ZXJyb3I6dC5lcnJvcn0pfSksYyh0aGlzLFwib25TZXNzaW9uRXZlbnRSZXF1ZXN0XCIsYXN5bmMoZSx0KT0+e2NvbnN0e2lkOnMscGFyYW1zOml9PXQ7dHJ5e2NvbnN0IHI9YCR7ZX1fc2Vzc2lvbl9ldmVudF8ke2kuZXZlbnQubmFtZX1gLG89b2UuZ2V0KHIpO2lmKG8mJnRoaXMuaXNSZXF1ZXN0T3V0T2ZTeW5jKG8scykpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBEaXNjYXJkaW5nIG91dCBvZiBzeW5jIHJlcXVlc3QgLSAke3N9YCk7cmV0dXJufXRoaXMuaXNWYWxpZEVtaXQodih7dG9waWM6ZX0saSkpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9ldmVudFwiLHtpZDpzLHRvcGljOmUscGFyYW1zOml9KSxvZS5zZXQocixzKX1jYXRjaChyKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzplLGVycm9yOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iocil9fSksYyh0aGlzLFwib25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2VcIiwoZSx0KT0+e2NvbnN0e2lkOnN9PXQ7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2VcIix0b3BpYzplLHBheWxvYWQ6dH0pLGoodCk/dGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9yZXF1ZXN0XCIscykse3Jlc3VsdDp0LnJlc3VsdH0pOkYodCkmJnRoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtlcnJvcjp0LmVycm9yfSl9KSxjKHRoaXMsXCJvblNlc3Npb25BdXRoZW50aWNhdGVSZXF1ZXN0XCIsYXN5bmMgZT0+e3ZhciB0O2NvbnN0e3RvcGljOnMscGF5bG9hZDppLGF0dGVzdGF0aW9uOnIsZW5jcnlwdGVkSWQ6byx0cmFuc3BvcnRUeXBlOmF9PWU7dHJ5e2NvbnN0e3JlcXVlc3RlcjpsLGF1dGhQYXlsb2FkOnAsZXhwaXJ5VGltZXN0YW1wOmh9PWkucGFyYW1zLHU9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KHthdHRlc3RhdGlvbklkOnIsaGFzaDpXKEpTT04uc3RyaW5naWZ5KGkpKSxlbmNyeXB0ZWRJZDpvLG1ldGFkYXRhOmwubWV0YWRhdGEsdHJhbnNwb3J0VHlwZTphfSksZD17cmVxdWVzdGVyOmwscGFpcmluZ1RvcGljOnMsaWQ6aS5pZCxhdXRoUGF5bG9hZDpwLHZlcmlmeUNvbnRleHQ6dSxleHBpcnlUaW1lc3RhbXA6aH07YXdhaXQgdGhpcy5zZXRBdXRoUmVxdWVzdChpLmlkLHtyZXF1ZXN0OmQscGFpcmluZ1RvcGljOnMsdHJhbnNwb3J0VHlwZTphfSksYT09PVAubGlua19tb2RlJiYodD1sLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmdC51bml2ZXJzYWwmJnRoaXMuY2xpZW50LmNvcmUuYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAobC5tZXRhZGF0YS5yZWRpcmVjdC51bml2ZXJzYWwpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9hdXRoZW50aWNhdGVcIix7dG9waWM6cyxwYXJhbXM6aS5wYXJhbXMsaWQ6aS5pZCx2ZXJpZnlDb250ZXh0OnV9KX1jYXRjaChsKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IobCk7Y29uc3QgcD1pLnBhcmFtcy5yZXF1ZXN0ZXIucHVibGljS2V5LGg9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksdT10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoaS5wYXJhbXMucmVxdWVzdGVyLm1ldGFkYXRhLGEpLGQ9e3R5cGU6VmUscmVjZWl2ZXJQdWJsaWNLZXk6cCxzZW5kZXJQdWJsaWNLZXk6aH07YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmkuaWQsdG9waWM6cyxlcnJvcjpsLGVuY29kZU9wdHM6ZCxycGNPcHRzOk4ud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5hdXRvUmVqZWN0LGFwcExpbms6dX0pfX0pLGModGhpcyxcImFkZFNlc3Npb25SZXF1ZXN0VG9TZXNzaW9uUmVxdWVzdFF1ZXVlXCIsZT0+e3RoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZS5wdXNoKGUpfSksYyh0aGlzLFwiY2xlYW51cEFmdGVyUmVzcG9uc2VcIixlPT57dGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3QoZS5yZXNwb25zZS5pZCx7bWVzc2FnZTpcImZ1bGZpbGxlZFwiLGNvZGU6MH0pLHNldFRpbWVvdXQoKCk9Pnt0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9JC5pZGxlLHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUoKX0sT2UodGhpcy5yZXF1ZXN0UXVldWVEZWxheSkpfSksYyh0aGlzLFwiY2xlYW51cFBlbmRpbmdTZW50UmVxdWVzdHNGb3JUb3BpY1wiLCh7dG9waWM6ZSxlcnJvcjp0fSk9Pntjb25zdCBzPXRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5wZW5kaW5nO3MubGVuZ3RoPjAmJnMuZmlsdGVyKGk9PmkudG9waWM9PT1lJiZpLnJlcXVlc3QubWV0aG9kPT09XCJ3Y19zZXNzaW9uUmVxdWVzdFwiKS5mb3JFYWNoKGk9Pntjb25zdCByPWkucmVxdWVzdC5pZCxvPVIoXCJzZXNzaW9uX3JlcXVlc3RcIixyKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KG8pPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7b30gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7dGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9yZXF1ZXN0XCIsaS5yZXF1ZXN0LmlkKSx7ZXJyb3I6dH0pfSl9KSxjKHRoaXMsXCJwcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZVwiLCgpPT57aWYodGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPT09JC5hY3RpdmUpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwic2Vzc2lvbiByZXF1ZXN0IHF1ZXVlIGlzIGFscmVhZHkgYWN0aXZlLlwiKTtyZXR1cm59Y29uc3QgZT10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWVbMF07aWYoIWUpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwic2Vzc2lvbiByZXF1ZXN0IHF1ZXVlIGlzIGVtcHR5LlwiKTtyZXR1cm59dHJ5e3RoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmFjdGl2ZSx0aGlzLmVtaXRTZXNzaW9uUmVxdWVzdChlKX1jYXRjaCh0KXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IodCl9fSksYyh0aGlzLFwiZW1pdFNlc3Npb25SZXF1ZXN0XCIsZT0+e3RoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9yZXF1ZXN0XCIsZSl9KSxjKHRoaXMsXCJvblBhaXJpbmdDcmVhdGVkXCIsZT0+e2lmKGUubWV0aG9kcyYmdGhpcy5leHBlY3RlZFBhaXJpbmdNZXRob2RNYXAuc2V0KGUudG9waWMsZS5tZXRob2RzKSxlLmFjdGl2ZSlyZXR1cm47Y29uc3QgdD10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXRBbGwoKS5maW5kKHM9PnMucGFpcmluZ1RvcGljPT09ZS50b3BpYyk7dCYmdGhpcy5vblNlc3Npb25Qcm9wb3NlUmVxdWVzdCh7dG9waWM6ZS50b3BpYyxwYXlsb2FkOnllKFwid2Nfc2Vzc2lvblByb3Bvc2VcIixiKHYoe30sdCkse3JlcXVpcmVkTmFtZXNwYWNlczp0LnJlcXVpcmVkTmFtZXNwYWNlcyxvcHRpb25hbE5hbWVzcGFjZXM6dC5vcHRpb25hbE5hbWVzcGFjZXMscmVsYXlzOnQucmVsYXlzLHByb3Bvc2VyOnQucHJvcG9zZXIsc2Vzc2lvblByb3BlcnRpZXM6dC5zZXNzaW9uUHJvcGVydGllcyxzY29wZWRQcm9wZXJ0aWVzOnQuc2NvcGVkUHJvcGVydGllc30pLHQuaWQpfSl9KSxjKHRoaXMsXCJpc1ZhbGlkQ29ubmVjdFwiLGFzeW5jIGU9PntpZighTShlKSl7Y29uc3R7bWVzc2FnZTpsfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGNvbm5lY3QoKSBwYXJhbXM6ICR7SlNPTi5zdHJpbmdpZnkoZSl9YCk7dGhyb3cgbmV3IEVycm9yKGwpfWNvbnN0e3BhaXJpbmdUb3BpYzp0LHJlcXVpcmVkTmFtZXNwYWNlczpzLG9wdGlvbmFsTmFtZXNwYWNlczppLHNlc3Npb25Qcm9wZXJ0aWVzOnIsc2NvcGVkUHJvcGVydGllczpvLHJlbGF5czphfT1lO2lmKFgodCl8fGF3YWl0IHRoaXMuaXNWYWxpZFBhaXJpbmdUb3BpYyh0KSwhenQoYSwhMCkpe2NvbnN0e21lc3NhZ2U6bH09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBjb25uZWN0KCkgcmVsYXlzOiAke2F9YCk7dGhyb3cgbmV3IEVycm9yKGwpfWlmKCFYKHMpJiZvdChzKSE9PTAmJnRoaXMudmFsaWRhdGVOYW1lc3BhY2VzKHMsXCJyZXF1aXJlZE5hbWVzcGFjZXNcIiksIVgoaSkmJm90KGkpIT09MCYmdGhpcy52YWxpZGF0ZU5hbWVzcGFjZXMoaSxcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKSxYKHIpfHx0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKHIsXCJzZXNzaW9uUHJvcGVydGllc1wiKSwhWChvKSl7dGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcyhvLFwic2NvcGVkUHJvcGVydGllc1wiKTtjb25zdCBsPU9iamVjdC5rZXlzKHN8fHt9KS5jb25jYXQoT2JqZWN0LmtleXMoaXx8e30pKTtpZighT2JqZWN0LmtleXMobykuZXZlcnkocD0+bC5pbmNsdWRlcyhwKSkpdGhyb3cgbmV3IEVycm9yKGBTY29wZWQgcHJvcGVydGllcyBtdXN0IGJlIGEgc3Vic2V0IG9mIHJlcXVpcmVkL29wdGlvbmFsIG5hbWVzcGFjZXMsIHJlY2VpdmVkOiAke0pTT04uc3RyaW5naWZ5KG8pfSwgcmVxdWlyZWQvb3B0aW9uYWwgbmFtZXNwYWNlczogJHtKU09OLnN0cmluZ2lmeShsKX1gKX19KSxjKHRoaXMsXCJ2YWxpZGF0ZU5hbWVzcGFjZXNcIiwoZSx0KT0+e2NvbnN0IHM9WXQoZSxcImNvbm5lY3QoKVwiLHQpO2lmKHMpdGhyb3cgbmV3IEVycm9yKHMubWVzc2FnZSl9KSxjKHRoaXMsXCJpc1ZhbGlkQXBwcm92ZVwiLGFzeW5jIGU9PntpZighTShlKSl0aHJvdyBuZXcgRXJyb3IoeShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBhcHByb3ZlKCkgcGFyYW1zOiAke2V9YCkubWVzc2FnZSk7Y29uc3R7aWQ6dCxuYW1lc3BhY2VzOnMscmVsYXlQcm90b2NvbDppLHNlc3Npb25Qcm9wZXJ0aWVzOnIsc2NvcGVkUHJvcGVydGllczpvfT1lO3RoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQodCksYXdhaXQgdGhpcy5pc1ZhbGlkUHJvcG9zYWxJZCh0KTtjb25zdCBhPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldCh0KSxsPUNlKHMsXCJhcHByb3ZlKClcIik7aWYobCl0aHJvdyBuZXcgRXJyb3IobC5tZXNzYWdlKTtjb25zdCBwPWF0KGEucmVxdWlyZWROYW1lc3BhY2VzLHMsXCJhcHByb3ZlKClcIik7aWYocCl0aHJvdyBuZXcgRXJyb3IocC5tZXNzYWdlKTtpZighWShpLCEwKSl7Y29uc3R7bWVzc2FnZTpofT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGFwcHJvdmUoKSByZWxheVByb3RvY29sOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKGgpfWlmKFgocil8fHRoaXMudmFsaWRhdGVTZXNzaW9uUHJvcHMocixcInNlc3Npb25Qcm9wZXJ0aWVzXCIpLCFYKG8pKXt0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKG8sXCJzY29wZWRQcm9wZXJ0aWVzXCIpO2NvbnN0IGg9bmV3IFNldChPYmplY3Qua2V5cyhzKSk7aWYoIU9iamVjdC5rZXlzKG8pLmV2ZXJ5KHU9PmguaGFzKHUpKSl0aHJvdyBuZXcgRXJyb3IoYFNjb3BlZCBwcm9wZXJ0aWVzIG11c3QgYmUgYSBzdWJzZXQgb2YgYXBwcm92ZWQgbmFtZXNwYWNlcywgcmVjZWl2ZWQ6ICR7SlNPTi5zdHJpbmdpZnkobyl9LCBhcHByb3ZlZCBuYW1lc3BhY2VzOiAke0FycmF5LmZyb20oaCkuam9pbihcIiwgXCIpfWApfX0pLGModGhpcyxcImlzVmFsaWRSZWplY3RcIixhc3luYyBlPT57aWYoIU0oZSkpe2NvbnN0e21lc3NhZ2U6aX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZWplY3QoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3IoaSl9Y29uc3R7aWQ6dCxyZWFzb246c309ZTtpZih0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKHQpLGF3YWl0IHRoaXMuaXNWYWxpZFByb3Bvc2FsSWQodCksIVh0KHMpKXtjb25zdHttZXNzYWdlOml9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVqZWN0KCkgcmVhc29uOiAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihpKX19KSxjKHRoaXMsXCJpc1ZhbGlkU2Vzc2lvblNldHRsZVJlcXVlc3RcIixlPT57aWYoIU0oZSkpe2NvbnN0e21lc3NhZ2U6bH09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBvblNlc3Npb25TZXR0bGVSZXF1ZXN0KCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGwpfWNvbnN0e3JlbGF5OnQsY29udHJvbGxlcjpzLG5hbWVzcGFjZXM6aSxleHBpcnk6cn09ZTtpZighSnQodCkpe2NvbnN0e21lc3NhZ2U6bH09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpIHJlbGF5IHByb3RvY29sIHNob3VsZCBiZSBhIHN0cmluZ1wiKTt0aHJvdyBuZXcgRXJyb3IobCl9Y29uc3Qgbz1CdChzLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpXCIpO2lmKG8pdGhyb3cgbmV3IEVycm9yKG8ubWVzc2FnZSk7Y29uc3QgYT1DZShpLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpXCIpO2lmKGEpdGhyb3cgbmV3IEVycm9yKGEubWVzc2FnZSk7aWYoWihyKSl7Y29uc3R7bWVzc2FnZTpsfT15KFwiRVhQSVJFRFwiLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpXCIpO3Rocm93IG5ldyBFcnJvcihsKX19KSxjKHRoaXMsXCJpc1ZhbGlkVXBkYXRlXCIsYXN5bmMgZT0+e2lmKCFNKGUpKXtjb25zdHttZXNzYWdlOmF9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgdXBkYXRlKCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWNvbnN0e3RvcGljOnQsbmFtZXNwYWNlczpzfT1lO3RoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQodCksYXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKHQpO2NvbnN0IGk9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQodCkscj1DZShzLFwidXBkYXRlKClcIik7aWYocil0aHJvdyBuZXcgRXJyb3Ioci5tZXNzYWdlKTtjb25zdCBvPWF0KGkucmVxdWlyZWROYW1lc3BhY2VzLHMsXCJ1cGRhdGUoKVwiKTtpZihvKXRocm93IG5ldyBFcnJvcihvLm1lc3NhZ2UpfSksYyh0aGlzLFwiaXNWYWxpZEV4dGVuZFwiLGFzeW5jIGU9PntpZighTShlKSl7Y29uc3R7bWVzc2FnZTpzfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGV4dGVuZCgpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcihzKX1jb25zdHt0b3BpYzp0fT1lO3RoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQodCksYXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKHQpfSksYyh0aGlzLFwiaXNWYWxpZFJlcXVlc3RcIixhc3luYyBlPT57aWYoIU0oZSkpe2NvbnN0e21lc3NhZ2U6YX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXF1ZXN0KCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWNvbnN0e3RvcGljOnQscmVxdWVzdDpzLGNoYWluSWQ6aSxleHBpcnk6cn09ZTt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKHQpLGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyh0KTtjb25zdHtuYW1lc3BhY2VzOm99PXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHQpO2lmKCFjdChvLGkpKXtjb25zdHttZXNzYWdlOmF9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpIGNoYWluSWQ6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9aWYoIVd0KHMpKXtjb25zdHttZXNzYWdlOmF9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpICR7SlNPTi5zdHJpbmdpZnkocyl9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKCFadChvLGkscy5tZXRob2QpKXtjb25zdHttZXNzYWdlOmF9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpIG1ldGhvZDogJHtzLm1ldGhvZH1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9aWYociYmIWVzKHIsX2UpKXtjb25zdHttZXNzYWdlOmF9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpIGV4cGlyeTogJHtyfS4gRXhwaXJ5IG11c3QgYmUgYSBudW1iZXIgKGluIHNlY29uZHMpIGJldHdlZW4gJHtfZS5taW59IGFuZCAke19lLm1heH1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9fSksYyh0aGlzLFwiaXNWYWxpZFJlc3BvbmRcIixhc3luYyBlPT57dmFyIHQ7aWYoIU0oZSkpe2NvbnN0e21lc3NhZ2U6cn09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXNwb25kKCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKHIpfWNvbnN0e3RvcGljOnMscmVzcG9uc2U6aX09ZTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKHMpfWNhdGNoKHIpe3Rocm93KHQ9ZT8ucmVzcG9uc2UpIT1udWxsJiZ0LmlkJiZ0aGlzLmNsZWFudXBBZnRlclJlc3BvbnNlKGUpLHJ9aWYoIXRzKGkpKXtjb25zdHttZXNzYWdlOnJ9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVzcG9uZCgpIHJlc3BvbnNlOiAke0pTT04uc3RyaW5naWZ5KGkpfWApO3Rocm93IG5ldyBFcnJvcihyKX19KSxjKHRoaXMsXCJpc1ZhbGlkUGluZ1wiLGFzeW5jIGU9PntpZighTShlKSl7Y29uc3R7bWVzc2FnZTpzfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBpbmcoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9Y29uc3R7dG9waWM6dH09ZTthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWModCl9KSxjKHRoaXMsXCJpc1ZhbGlkRW1pdFwiLGFzeW5jIGU9PntpZighTShlKSl7Y29uc3R7bWVzc2FnZTpvfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3Iobyl9Y29uc3R7dG9waWM6dCxldmVudDpzLGNoYWluSWQ6aX09ZTthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWModCk7Y29uc3R7bmFtZXNwYWNlczpyfT10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0KTtpZighY3QocixpKSl7Y29uc3R7bWVzc2FnZTpvfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBjaGFpbklkOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKG8pfWlmKCFzcyhzKSl7Y29uc3R7bWVzc2FnZTpvfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBldmVudDogJHtKU09OLnN0cmluZ2lmeShzKX1gKTt0aHJvdyBuZXcgRXJyb3Iobyl9aWYoIWlzKHIsaSxzLm5hbWUpKXtjb25zdHttZXNzYWdlOm99PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZW1pdCgpIGV2ZW50OiAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihvKX19KSxjKHRoaXMsXCJpc1ZhbGlkRGlzY29ubmVjdFwiLGFzeW5jIGU9PntpZighTShlKSl7Y29uc3R7bWVzc2FnZTpzfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGRpc2Nvbm5lY3QoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9Y29uc3R7dG9waWM6dH09ZTthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWModCl9KSxjKHRoaXMsXCJpc1ZhbGlkQXV0aGVudGljYXRlXCIsZT0+e2NvbnN0e2NoYWluczp0LHVyaTpzLGRvbWFpbjppLG5vbmNlOnJ9PWU7aWYoIUFycmF5LmlzQXJyYXkodCl8fHQubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoXCJjaGFpbnMgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSBub24tZW1wdHkgYXJyYXlcIik7aWYoIVkocywhMSkpdGhyb3cgbmV3IEVycm9yKFwidXJpIGlzIHJlcXVpcmVkIHBhcmFtZXRlclwiKTtpZighWShpLCExKSl0aHJvdyBuZXcgRXJyb3IoXCJkb21haW4gaXMgcmVxdWlyZWQgcGFyYW1ldGVyXCIpO2lmKCFZKHIsITEpKXRocm93IG5ldyBFcnJvcihcIm5vbmNlIGlzIHJlcXVpcmVkIHBhcmFtZXRlclwiKTtpZihbLi4ubmV3IFNldCh0Lm1hcChhPT5BZShhKS5uYW1lc3BhY2UpKV0ubGVuZ3RoPjEpdGhyb3cgbmV3IEVycm9yKFwiTXVsdGktbmFtZXNwYWNlIHJlcXVlc3RzIGFyZSBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgcmVxdWVzdCBzaW5nbGUgbmFtZXNwYWNlIG9ubHkuXCIpO2NvbnN0e25hbWVzcGFjZTpvfT1BZSh0WzBdKTtpZihvIT09XCJlaXAxNTVcIil0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IGVpcDE1NSBuYW1lc3BhY2UgaXMgc3VwcG9ydGVkIGZvciBhdXRoZW50aWNhdGVkIHNlc3Npb25zLiBQbGVhc2UgdXNlIC5jb25uZWN0KCkgZm9yIG5vbi1laXAxNTUgY2hhaW5zLlwiKX0pLGModGhpcyxcImdldFZlcmlmeUNvbnRleHRcIixhc3luYyBlPT57Y29uc3R7YXR0ZXN0YXRpb25JZDp0LGhhc2g6cyxlbmNyeXB0ZWRJZDppLG1ldGFkYXRhOnIsdHJhbnNwb3J0VHlwZTpvfT1lLGE9e3ZlcmlmaWVkOnt2ZXJpZnlVcmw6ci52ZXJpZnlVcmx8fE90LHZhbGlkYXRpb246XCJVTktOT1dOXCIsb3JpZ2luOnIudXJsfHxcIlwifX07dHJ5e2lmKG89PT1QLmxpbmtfbW9kZSl7Y29uc3QgcD10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQocixvKTtyZXR1cm4gYS52ZXJpZmllZC52YWxpZGF0aW9uPXAmJm5ldyBVUkwocCkub3JpZ2luPT09bmV3IFVSTChyLnVybCkub3JpZ2luP1wiVkFMSURcIjpcIklOVkFMSURcIixhfWNvbnN0IGw9YXdhaXQgdGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVzb2x2ZSh7YXR0ZXN0YXRpb25JZDp0LGhhc2g6cyxlbmNyeXB0ZWRJZDppLHZlcmlmeVVybDpyLnZlcmlmeVVybH0pO2wmJihhLnZlcmlmaWVkLm9yaWdpbj1sLm9yaWdpbixhLnZlcmlmaWVkLmlzU2NhbT1sLmlzU2NhbSxhLnZlcmlmaWVkLnZhbGlkYXRpb249bC5vcmlnaW49PT1uZXcgVVJMKHIudXJsKS5vcmlnaW4/XCJWQUxJRFwiOlwiSU5WQUxJRFwiKX1jYXRjaChsKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihsKX1yZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmRlYnVnKGBWZXJpZnkgY29udGV4dDogJHtKU09OLnN0cmluZ2lmeShhKX1gKSxhfSksYyh0aGlzLFwidmFsaWRhdGVTZXNzaW9uUHJvcHNcIiwoZSx0KT0+e09iamVjdC52YWx1ZXMoZSkuZm9yRWFjaCgocyxpKT0+e2lmKHM9PW51bGwpe2NvbnN0e21lc3NhZ2U6cn09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke3R9IG11c3QgY29udGFpbiBhbiBleGlzdGluZyB2YWx1ZSBmb3IgZWFjaCBrZXkuIFJlY2VpdmVkOiAke3N9IGZvciBrZXkgJHtPYmplY3Qua2V5cyhlKVtpXX1gKTt0aHJvdyBuZXcgRXJyb3Iocil9fSl9KSxjKHRoaXMsXCJnZXRQZW5kaW5nQXV0aFJlcXVlc3RcIixlPT57Y29uc3QgdD10aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmdldChlKTtyZXR1cm4gdHlwZW9mIHQ9PVwib2JqZWN0XCI/dDp2b2lkIDB9KSxjKHRoaXMsXCJhZGRUb1JlY2VudGx5RGVsZXRlZFwiLChlLHQpPT57aWYodGhpcy5yZWNlbnRseURlbGV0ZWRNYXAuc2V0KGUsdCksdGhpcy5yZWNlbnRseURlbGV0ZWRNYXAuc2l6ZT49dGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdCl7bGV0IHM9MDtjb25zdCBpPXRoaXMucmVjZW50bHlEZWxldGVkTGltaXQvMjtmb3IoY29uc3QgciBvZiB0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5rZXlzKCkpe2lmKHMrKz49aSlicmVhazt0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5kZWxldGUocil9fX0pLGModGhpcyxcImNoZWNrUmVjZW50bHlEZWxldGVkXCIsZT0+e2NvbnN0IHQ9dGhpcy5yZWNlbnRseURlbGV0ZWRNYXAuZ2V0KGUpO2lmKHQpe2NvbnN0e21lc3NhZ2U6c309eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBSZWNvcmQgd2FzIHJlY2VudGx5IGRlbGV0ZWQgLSAke3R9OiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKHMpfX0pLGModGhpcyxcImlzTGlua01vZGVFbmFibGVkXCIsKGUsdCk9Pnt2YXIgcyxpLHIsbyxhLGwscCxoLHU7cmV0dXJuIWV8fHQhPT1QLmxpbmtfbW9kZT8hMTooKGk9KHM9dGhpcy5jbGllbnQubWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpzLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6aS5saW5rTW9kZSk9PT0hMCYmKChvPShyPXRoaXMuY2xpZW50Lm1ldGFkYXRhKT09bnVsbD92b2lkIDA6ci5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOm8udW5pdmVyc2FsKSE9PXZvaWQgMCYmKChsPShhPXRoaXMuY2xpZW50Lm1ldGFkYXRhKT09bnVsbD92b2lkIDA6YS5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOmwudW5pdmVyc2FsKSE9PVwiXCImJigocD1lPy5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnAudW5pdmVyc2FsKSE9PXZvaWQgMCYmKChoPWU/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6aC51bml2ZXJzYWwpIT09XCJcIiYmKCh1PWU/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6dS5saW5rTW9kZSk9PT0hMCYmdGhpcy5jbGllbnQuY29yZS5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXMoZS5yZWRpcmVjdC51bml2ZXJzYWwpJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuTGlua2luZyk8XCJ1XCJ9KSxjKHRoaXMsXCJnZXRBcHBMaW5rSWZFbmFibGVkXCIsKGUsdCk9Pnt2YXIgcztyZXR1cm4gdGhpcy5pc0xpbmtNb2RlRW5hYmxlZChlLHQpPyhzPWU/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cy51bml2ZXJzYWw6dm9pZCAwfSksYyh0aGlzLFwiaGFuZGxlTGlua01vZGVNZXNzYWdlXCIsKHt1cmw6ZX0pPT57aWYoIWV8fCFlLmluY2x1ZGVzKFwid2NfZXZcIil8fCFlLmluY2x1ZGVzKFwidG9waWNcIikpcmV0dXJuO2NvbnN0IHQ9bHQoZSxcInRvcGljXCIpfHxcIlwiLHM9ZGVjb2RlVVJJQ29tcG9uZW50KGx0KGUsXCJ3Y19ldlwiKXx8XCJcIiksaT10aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXModCk7aSYmdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodCx7dHJhbnNwb3J0VHlwZTpQLmxpbmtfbW9kZX0pLHRoaXMuY2xpZW50LmNvcmUuZGlzcGF0Y2hFbnZlbG9wZSh7dG9waWM6dCxtZXNzYWdlOnMsc2Vzc2lvbkV4aXN0czppfSl9KSxjKHRoaXMsXCJyZWdpc3RlckxpbmtNb2RlTGlzdGVuZXJzXCIsYXN5bmMoKT0+e3ZhciBlO2lmKHJzKCl8fG5zKCkmJihlPXRoaXMuY2xpZW50Lm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmZS5saW5rTW9kZSl7Y29uc3QgdD1nbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nO2lmKHR5cGVvZiB0PFwidVwiKXt0LmFkZEV2ZW50TGlzdGVuZXIoXCJ1cmxcIix0aGlzLmhhbmRsZUxpbmtNb2RlTWVzc2FnZSx0aGlzLmNsaWVudC5uYW1lKTtjb25zdCBzPWF3YWl0IHQuZ2V0SW5pdGlhbFVSTCgpO3MmJnNldFRpbWVvdXQoKCk9Pnt0aGlzLmhhbmRsZUxpbmtNb2RlTWVzc2FnZSh7dXJsOnN9KX0sNTApfX19KSxjKHRoaXMsXCJzaG91bGRTZXRUVkZcIiwoZSx0KT0+e2lmKCF0fHxlIT09XCJ3Y19zZXNzaW9uUmVxdWVzdFwiKXJldHVybiExO2NvbnN0e3JlcXVlc3Q6c309dDtyZXR1cm4gT2JqZWN0LmtleXMoVWUpLmluY2x1ZGVzKHMubWV0aG9kKX0pLGModGhpcyxcImdldFRWRlBhcmFtc1wiLChlLHQscyk9Pnt2YXIgaSxyO3RyeXtjb25zdCBvPXQucmVxdWVzdC5tZXRob2QsYT10aGlzLmV4dHJhY3RUeEhhc2hlc0Zyb21SZXN1bHQobyxzKTtyZXR1cm4gYih2KHtjb3JyZWxhdGlvbklkOmUscnBjTWV0aG9kczpbb10sY2hhaW5JZDp0LmNoYWluSWR9LHRoaXMuaXNWYWxpZENvbnRyYWN0RGF0YSh0LnJlcXVlc3QucGFyYW1zKSYme2NvbnRyYWN0QWRkcmVzc2VzOlsocj0oaT10LnJlcXVlc3QucGFyYW1zKT09bnVsbD92b2lkIDA6aVswXSk9PW51bGw/dm9pZCAwOnIudG9dfSkse3R4SGFzaGVzOmF9KX1jYXRjaChvKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihcIkVycm9yIGdldHRpbmcgVFZGIHBhcmFtc1wiLG8pfXJldHVybnt9fSksYyh0aGlzLFwiaXNWYWxpZENvbnRyYWN0RGF0YVwiLGU9Pnt2YXIgdDtpZighZSlyZXR1cm4hMTt0cnl7Y29uc3Qgcz1lPy5kYXRhfHwoKHQ9ZT8uWzBdKT09bnVsbD92b2lkIDA6dC5kYXRhKTtpZighcy5zdGFydHNXaXRoKFwiMHhcIikpcmV0dXJuITE7Y29uc3QgaT1zLnNsaWNlKDIpO3JldHVybi9eWzAtOWEtZkEtRl0qJC8udGVzdChpKT9pLmxlbmd0aCUyPT09MDohMX1jYXRjaHt9cmV0dXJuITF9KSxjKHRoaXMsXCJleHRyYWN0VHhIYXNoZXNGcm9tUmVzdWx0XCIsKGUsdCk9Pnt0cnl7Y29uc3Qgcz1VZVtlXTtpZih0eXBlb2YgdD09XCJzdHJpbmdcIilyZXR1cm5bdF07Y29uc3QgaT10W3Mua2V5XTtpZihvcyhpKSlyZXR1cm4gZT09PVwic29sYW5hX3NpZ25BbGxUcmFuc2FjdGlvbnNcIj9pLm1hcChyPT5hcyhyKSk6aTtpZih0eXBlb2YgaT09XCJzdHJpbmdcIilyZXR1cm5baV19Y2F0Y2gocyl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oXCJFcnJvciBleHRyYWN0aW5nIHR4IGhhc2hlcyBmcm9tIHJlc3VsdFwiLHMpfXJldHVybltdfSl9YXN5bmMgcHJvY2Vzc1BlbmRpbmdNZXNzYWdlRXZlbnRzKCl7dHJ5e2NvbnN0IG49dGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLGU9dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm1lc3NhZ2VzLmdldFdpdGhvdXRBY2sobik7Zm9yKGNvbnN0W3Qsc11vZiBPYmplY3QuZW50cmllcyhlKSlmb3IoY29uc3QgaSBvZiBzKXRyeXthd2FpdCB0aGlzLm9uUHJvdmlkZXJNZXNzYWdlRXZlbnQoe3RvcGljOnQsbWVzc2FnZTppLHB1Ymxpc2hlZEF0OkRhdGUubm93KCl9KX1jYXRjaHt0aGlzLmNsaWVudC5sb2dnZXIud2FybihgRXJyb3IgcHJvY2Vzc2luZyBwZW5kaW5nIG1lc3NhZ2UgZXZlbnQgZm9yIHRvcGljOiAke3R9LCBtZXNzYWdlOiAke2l9YCl9fWNhdGNoKG4pe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKFwicHJvY2Vzc1BlbmRpbmdNZXNzYWdlRXZlbnRzIGZhaWxlZFwiLG4pfX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6bn09eShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKG4pfX1hc3luYyBjb25maXJtT25saW5lU3RhdGVPclRocm93KCl7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKX1yZWdpc3RlclJlbGF5ZXJFdmVudHMoKXt0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIub24oWGUubWVzc2FnZSxuPT57dGhpcy5vblByb3ZpZGVyTWVzc2FnZUV2ZW50KG4pfSl9YXN5bmMgb25SZWxheU1lc3NhZ2Uobil7Y29uc3R7dG9waWM6ZSxtZXNzYWdlOnQsYXR0ZXN0YXRpb246cyx0cmFuc3BvcnRUeXBlOml9PW4se3B1YmxpY0tleTpyfT10aGlzLmNsaWVudC5hdXRoLmF1dGhLZXlzLmtleXMuaW5jbHVkZXMoY2UpP3RoaXMuY2xpZW50LmF1dGguYXV0aEtleXMuZ2V0KGNlKTp7cmVzcG9uc2VUb3BpYzp2b2lkIDAscHVibGljS2V5OnZvaWQgMH07dHJ5e2NvbnN0IG89YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVjb2RlKGUsdCx7cmVjZWl2ZXJQdWJsaWNLZXk6cixlbmNvZGluZzppPT09UC5saW5rX21vZGU/bmU6ZGV9KTtocyhvKT8odGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnNldChlLG8pLGF3YWl0IHRoaXMub25SZWxheUV2ZW50UmVxdWVzdCh7dG9waWM6ZSxwYXlsb2FkOm8sYXR0ZXN0YXRpb246cyx0cmFuc3BvcnRUeXBlOmksZW5jcnlwdGVkSWQ6Vyh0KX0pKTpkcyhvKT8oYXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnJlc29sdmUobyksYXdhaXQgdGhpcy5vblJlbGF5RXZlbnRSZXNwb25zZSh7dG9waWM6ZSxwYXlsb2FkOm8sdHJhbnNwb3J0VHlwZTppfSksdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LmRlbGV0ZShlLG8uaWQpKTphd2FpdCB0aGlzLm9uUmVsYXlFdmVudFVua25vd25QYXlsb2FkKHt0b3BpYzplLHBheWxvYWQ6byx0cmFuc3BvcnRUeXBlOml9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIubWVzc2FnZXMuYWNrKGUsdCl9Y2F0Y2gobyl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKG8pfX1yZWdpc3RlckV4cGlyZXJFdmVudHMoKXt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIub24oVHQuZXhwaXJlZCxhc3luYyBuPT57Y29uc3R7dG9waWM6ZSxpZDp0fT1NdChuLnRhcmdldCk7aWYodCYmdGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3Qua2V5cy5pbmNsdWRlcyh0KSlyZXR1cm4gYXdhaXQgdGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3QodCx5KFwiRVhQSVJFRFwiKSwhMCk7aWYodCYmdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5rZXlzLmluY2x1ZGVzKHQpKXJldHVybiBhd2FpdCB0aGlzLmRlbGV0ZVBlbmRpbmdBdXRoUmVxdWVzdCh0LHkoXCJFWFBJUkVEXCIpLCEwKTtlP3RoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhlKSYmKGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6ZSxleHBpcmVySGFzRGVsZXRlZDohMH0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9leHBpcmVcIix7dG9waWM6ZX0pKTp0JiYoYXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbCh0LCEwKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInByb3Bvc2FsX2V4cGlyZVwiLHtpZDp0fSkpfSl9cmVnaXN0ZXJQYWlyaW5nRXZlbnRzKCl7dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmV2ZW50cy5vbihKZS5jcmVhdGUsbj0+dGhpcy5vblBhaXJpbmdDcmVhdGVkKG4pKSx0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuZXZlbnRzLm9uKEplLmRlbGV0ZSxuPT57dGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZChuLnRvcGljLFwicGFpcmluZ1wiKX0pfWlzVmFsaWRQYWlyaW5nVG9waWMobil7aWYoIVkobiwhMSkpe2NvbnN0e21lc3NhZ2U6ZX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyaW5nIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtufWApO3Rocm93IG5ldyBFcnJvcihlKX1pZighdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMobikpe2NvbnN0e21lc3NhZ2U6ZX09eShcIk5PX01BVENISU5HX0tFWVwiLGBwYWlyaW5nIHRvcGljIGRvZXNuJ3QgZXhpc3Q6ICR7bn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9aWYoWih0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0KG4pLmV4cGlyeSkpe2NvbnN0e21lc3NhZ2U6ZX09eShcIkVYUElSRURcIixgcGFpcmluZyB0b3BpYzogJHtufWApO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgaXNWYWxpZFNlc3Npb25Ub3BpYyhuKXtpZighWShuLCExKSl7Y29uc3R7bWVzc2FnZTplfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke259YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKHRoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQobiksIXRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhuKSl7Y29uc3R7bWVzc2FnZTplfT15KFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHNlc3Npb24gdG9waWMgZG9lc24ndCBleGlzdDogJHtufWApO3Rocm93IG5ldyBFcnJvcihlKX1pZihaKHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KG4pLmV4cGlyeSkpe2F3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6bn0pO2NvbnN0e21lc3NhZ2U6ZX09eShcIkVYUElSRURcIixgc2Vzc2lvbiB0b3BpYzogJHtufWApO3Rocm93IG5ldyBFcnJvcihlKX1pZighdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKG4pKXtjb25zdHttZXNzYWdlOmV9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgc2Vzc2lvbiB0b3BpYyBkb2VzIG5vdCBleGlzdCBpbiBrZXljaGFpbjogJHtufWApO3Rocm93IGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6bn0pLG5ldyBFcnJvcihlKX19YXN5bmMgaXNWYWxpZFNlc3Npb25PclBhaXJpbmdUb3BpYyhuKXtpZih0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKG4pLHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhuKSlhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMobik7ZWxzZSBpZih0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhuKSl0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMobik7ZWxzZSBpZihZKG4sITEpKXtjb25zdHttZXNzYWdlOmV9PXkoXCJOT19NQVRDSElOR19LRVlcIixgc2Vzc2lvbiBvciBwYWlyaW5nIHRvcGljIGRvZXNuJ3QgZXhpc3Q6ICR7bn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9ZWxzZXtjb25zdHttZXNzYWdlOmV9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgc2Vzc2lvbiBvciBwYWlyaW5nIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtufWApO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgaXNWYWxpZFByb3Bvc2FsSWQobil7aWYoISR0KG4pKXtjb25zdHttZXNzYWdlOmV9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcHJvcG9zYWwgaWQgc2hvdWxkIGJlIGEgbnVtYmVyOiAke259YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKCF0aGlzLmNsaWVudC5wcm9wb3NhbC5rZXlzLmluY2x1ZGVzKG4pKXtjb25zdHttZXNzYWdlOmV9PXkoXCJOT19NQVRDSElOR19LRVlcIixgcHJvcG9zYWwgaWQgZG9lc24ndCBleGlzdDogJHtufWApO3Rocm93IG5ldyBFcnJvcihlKX1pZihaKHRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChuKS5leHBpcnlUaW1lc3RhbXApKXthd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKG4pO2NvbnN0e21lc3NhZ2U6ZX09eShcIkVYUElSRURcIixgcHJvcG9zYWwgaWQ6ICR7bn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX1jbGFzcyBOcyBleHRlbmRzIEJ7Y29uc3RydWN0b3IobixlKXtzdXBlcihuLGUscHQsd2UpLHRoaXMuY29yZT1uLHRoaXMubG9nZ2VyPWV9fWNsYXNzIFN0IGV4dGVuZHMgQntjb25zdHJ1Y3RvcihuLGUpe3N1cGVyKG4sZSxodCx3ZSksdGhpcy5jb3JlPW4sdGhpcy5sb2dnZXI9ZX19Y2xhc3MgT3MgZXh0ZW5kcyBCe2NvbnN0cnVjdG9yKG4sZSl7c3VwZXIobixlLHV0LHdlLHQ9PnQuaWQpLHRoaXMuY29yZT1uLHRoaXMubG9nZ2VyPWV9fWNsYXNzIGJzIGV4dGVuZHMgQntjb25zdHJ1Y3RvcihuLGUpe3N1cGVyKG4sZSxtdCxhZSwoKT0+Y2UpLHRoaXMuY29yZT1uLHRoaXMubG9nZ2VyPWV9fWNsYXNzIEFzIGV4dGVuZHMgQntjb25zdHJ1Y3RvcihuLGUpe3N1cGVyKG4sZSxfdCxhZSksdGhpcy5jb3JlPW4sdGhpcy5sb2dnZXI9ZX19Y2xhc3MgeHMgZXh0ZW5kcyBCe2NvbnN0cnVjdG9yKG4sZSl7c3VwZXIobixlLEV0LGFlLHQ9PnQuaWQpLHRoaXMuY29yZT1uLHRoaXMubG9nZ2VyPWV9fXZhciBDcz1PYmplY3QuZGVmaW5lUHJvcGVydHksVnM9KFMsbixlKT0+biBpbiBTP0NzKFMsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOlNbbl09ZSxHZT0oUyxuLGUpPT5WcyhTLHR5cGVvZiBuIT1cInN5bWJvbFwiP24rXCJcIjpuLGUpO2NsYXNzIERze2NvbnN0cnVjdG9yKG4sZSl7dGhpcy5jb3JlPW4sdGhpcy5sb2dnZXI9ZSxHZSh0aGlzLFwiYXV0aEtleXNcIiksR2UodGhpcyxcInBhaXJpbmdUb3BpY3NcIiksR2UodGhpcyxcInJlcXVlc3RzXCIpLHRoaXMuYXV0aEtleXM9bmV3IGJzKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5wYWlyaW5nVG9waWNzPW5ldyBBcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucmVxdWVzdHM9bmV3IHhzKHRoaXMuY29yZSx0aGlzLmxvZ2dlcil9YXN5bmMgaW5pdCgpe2F3YWl0IHRoaXMuYXV0aEtleXMuaW5pdCgpLGF3YWl0IHRoaXMucGFpcmluZ1RvcGljcy5pbml0KCksYXdhaXQgdGhpcy5yZXF1ZXN0cy5pbml0KCl9fXZhciBMcz1PYmplY3QuZGVmaW5lUHJvcGVydHksa3M9KFMsbixlKT0+biBpbiBTP0xzKFMsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOlNbbl09ZSxFPShTLG4sZSk9PmtzKFMsdHlwZW9mIG4hPVwic3ltYm9sXCI/bitcIlwiOm4sZSk7Y2xhc3MgRWUgZXh0ZW5kcyBMdHtjb25zdHJ1Y3RvcihuKXtzdXBlcihuKSxFKHRoaXMsXCJwcm90b2NvbFwiLERlKSxFKHRoaXMsXCJ2ZXJzaW9uXCIsTGUpLEUodGhpcyxcIm5hbWVcIixtZS5uYW1lKSxFKHRoaXMsXCJtZXRhZGF0YVwiKSxFKHRoaXMsXCJjb3JlXCIpLEUodGhpcyxcImxvZ2dlclwiKSxFKHRoaXMsXCJldmVudHNcIixuZXcgcHMpLEUodGhpcyxcImVuZ2luZVwiKSxFKHRoaXMsXCJzZXNzaW9uXCIpLEUodGhpcyxcInByb3Bvc2FsXCIpLEUodGhpcyxcInBlbmRpbmdSZXF1ZXN0XCIpLEUodGhpcyxcImF1dGhcIiksRSh0aGlzLFwic2lnbkNvbmZpZ1wiKSxFKHRoaXMsXCJvblwiLCh0LHMpPT50aGlzLmV2ZW50cy5vbih0LHMpKSxFKHRoaXMsXCJvbmNlXCIsKHQscyk9PnRoaXMuZXZlbnRzLm9uY2UodCxzKSksRSh0aGlzLFwib2ZmXCIsKHQscyk9PnRoaXMuZXZlbnRzLm9mZih0LHMpKSxFKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLCh0LHMpPT50aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcih0LHMpKSxFKHRoaXMsXCJyZW1vdmVBbGxMaXN0ZW5lcnNcIix0PT50aGlzLmV2ZW50cy5yZW1vdmVBbGxMaXN0ZW5lcnModCkpLEUodGhpcyxcImNvbm5lY3RcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5jb25uZWN0KHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJwYWlyXCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucGFpcih0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwiYXBwcm92ZVwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmFwcHJvdmUodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcInJlamVjdFwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlamVjdCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwidXBkYXRlXCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUudXBkYXRlKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJleHRlbmRcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5leHRlbmQodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcInJlcXVlc3RcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZXF1ZXN0KHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJyZXNwb25kXCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVzcG9uZCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwicGluZ1wiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnBpbmcodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcImVtaXRcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5lbWl0KHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJkaXNjb25uZWN0XCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuZGlzY29ubmVjdCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwiZmluZFwiLHQ9Pnt0cnl7cmV0dXJuIHRoaXMuZW5naW5lLmZpbmQodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcImdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHNcIiwoKT0+e3RyeXtyZXR1cm4gdGhpcy5lbmdpbmUuZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0cygpfWNhdGNoKHQpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQubWVzc2FnZSksdH19KSxFKHRoaXMsXCJhdXRoZW50aWNhdGVcIixhc3luYyh0LHMpPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5hdXRoZW50aWNhdGUodCxzKX1jYXRjaChpKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihpLm1lc3NhZ2UpLGl9fSksRSh0aGlzLFwiZm9ybWF0QXV0aE1lc3NhZ2VcIix0PT57dHJ5e3JldHVybiB0aGlzLmVuZ2luZS5mb3JtYXRBdXRoTWVzc2FnZSh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwiYXBwcm92ZVNlc3Npb25BdXRoZW50aWNhdGVcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5hcHByb3ZlU2Vzc2lvbkF1dGhlbnRpY2F0ZSh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwicmVqZWN0U2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlamVjdFNlc3Npb25BdXRoZW50aWNhdGUodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLHRoaXMubmFtZT1uPy5uYW1lfHxtZS5uYW1lLHRoaXMubWV0YWRhdGE9Y3Mobj8ubWV0YWRhdGEpLHRoaXMuc2lnbkNvbmZpZz1uPy5zaWduQ29uZmlnO2NvbnN0IGU9dHlwZW9mIG4/LmxvZ2dlcjxcInVcIiYmdHlwZW9mIG4/LmxvZ2dlciE9XCJzdHJpbmdcIj9uLmxvZ2dlcjpBdCh4dCh7bGV2ZWw6bj8ubG9nZ2VyfHxtZS5sb2dnZXJ9KSk7dGhpcy5jb3JlPW4/LmNvcmV8fG5ldyBidChuKSx0aGlzLmxvZ2dlcj1DdChlLHRoaXMubmFtZSksdGhpcy5zZXNzaW9uPW5ldyBTdCh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucHJvcG9zYWw9bmV3IE5zKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5wZW5kaW5nUmVxdWVzdD1uZXcgT3ModGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLmVuZ2luZT1uZXcgUHModGhpcyksdGhpcy5hdXRoPW5ldyBEcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpfXN0YXRpYyBhc3luYyBpbml0KG4pe2NvbnN0IGU9bmV3IEVlKG4pO3JldHVybiBhd2FpdCBlLmluaXRpYWxpemUoKSxlfWdldCBjb250ZXh0KCl7cmV0dXJuIFZ0KHRoaXMubG9nZ2VyKX1nZXQgcGFpcmluZygpe3JldHVybiB0aGlzLmNvcmUucGFpcmluZy5wYWlyaW5nc31hc3luYyBpbml0aWFsaXplKCl7dGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKTt0cnl7YXdhaXQgdGhpcy5jb3JlLnN0YXJ0KCksYXdhaXQgdGhpcy5zZXNzaW9uLmluaXQoKSxhd2FpdCB0aGlzLnByb3Bvc2FsLmluaXQoKSxhd2FpdCB0aGlzLnBlbmRpbmdSZXF1ZXN0LmluaXQoKSxhd2FpdCB0aGlzLmF1dGguaW5pdCgpLGF3YWl0IHRoaXMuZW5naW5lLmluaXQoKSx0aGlzLmxvZ2dlci5pbmZvKFwiU2lnbkNsaWVudCBJbml0aWFsaXphdGlvbiBTdWNjZXNzXCIpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLmVuZ2luZS5wcm9jZXNzUmVsYXlNZXNzYWdlQ2FjaGUoKX0sT2UoWmUpKX1jYXRjaChuKXt0aHJvdyB0aGlzLmxvZ2dlci5pbmZvKFwiU2lnbkNsaWVudCBJbml0aWFsaXphdGlvbiBGYWlsdXJlXCIpLHRoaXMubG9nZ2VyLmVycm9yKG4ubWVzc2FnZSksbn19fWNvbnN0IE1zPVN0LCRzPUVlO2V4cG9ydHt3dCBhcyBBVVRIX0NPTlRFWFQsbXQgYXMgQVVUSF9LRVlTX0NPTlRFWFQsX3QgYXMgQVVUSF9QQUlSSU5HX1RPUElDX0NPTlRFWFQseXQgYXMgQVVUSF9QUk9UT0NPTCxjZSBhcyBBVVRIX1BVQkxJQ19LRVlfTkFNRSxFdCBhcyBBVVRIX1JFUVVFU1RfQ09OVEVYVCxhZSBhcyBBVVRIX1NUT1JBR0VfUFJFRklYLFNzIGFzIEFVVEhfVkVSU0lPTixkdCBhcyBFTkdJTkVfQ09OVEVYVCwkIGFzIEVOR0lORV9RVUVVRV9TVEFURVMsTiBhcyBFTkdJTkVfUlBDX09QVFMsX3MgYXMgSElTVE9SWV9DT05URVhULG1zIGFzIEhJU1RPUllfRVZFTlRTLEVzIGFzIEhJU1RPUllfU1RPUkFHRV9WRVJTSU9OLGd0IGFzIE1FVEhPRFNfVE9fVkVSSUZZLHB0IGFzIFBST1BPU0FMX0NPTlRFWFQsZnMgYXMgUFJPUE9TQUxfRVhQSVJZLCRlIGFzIFBST1BPU0FMX0VYUElSWV9NRVNTQUdFLHV0IGFzIFJFUVVFU1RfQ09OVEVYVCxodCBhcyBTRVNTSU9OX0NPTlRFWFQsSiBhcyBTRVNTSU9OX0VYUElSWSxfZSBhcyBTRVNTSU9OX1JFUVVFU1RfRVhQSVJZX0JPVU5EQVJJRVMsa2UgYXMgU0lHTl9DTElFTlRfQ09OVEVYVCxtZSBhcyBTSUdOX0NMSUVOVF9ERUZBVUxULHlzIGFzIFNJR05fQ0xJRU5UX0VWRU5UUyxEZSBhcyBTSUdOX0NMSUVOVF9QUk9UT0NPTCx3cyBhcyBTSUdOX0NMSUVOVF9TVE9SQUdFX09QVElPTlMsd2UgYXMgU0lHTl9DTElFTlRfU1RPUkFHRV9QUkVGSVgsTGUgYXMgU0lHTl9DTElFTlRfVkVSU0lPTixNcyBhcyBTZXNzaW9uU3RvcmUsJHMgYXMgU2lnbkNsaWVudCxVZSBhcyBUVkZfTUVUSE9EUyxNZSBhcyBXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRSxFZSBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/sign-client/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/sign-client/node_modules/@walletconnect/types/dist/index.es.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/sign-client/node_modules/@walletconnect/types/dist/index.es.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ICore: () => (/* binding */ h),\n/* harmony export */   ICrypto: () => (/* binding */ g),\n/* harmony export */   IEchoClient: () => (/* binding */ O),\n/* harmony export */   IEngine: () => (/* binding */ V),\n/* harmony export */   IEngineEvents: () => (/* binding */ K),\n/* harmony export */   IEventClient: () => (/* binding */ R),\n/* harmony export */   IExpirer: () => (/* binding */ S),\n/* harmony export */   IJsonRpcHistory: () => (/* binding */ I),\n/* harmony export */   IKeyChain: () => (/* binding */ j),\n/* harmony export */   IMessageTracker: () => (/* binding */ y),\n/* harmony export */   IPairing: () => (/* binding */ $),\n/* harmony export */   IPublisher: () => (/* binding */ m),\n/* harmony export */   IRelayer: () => (/* binding */ d),\n/* harmony export */   ISignClient: () => (/* binding */ J),\n/* harmony export */   ISignClientEvents: () => (/* binding */ H),\n/* harmony export */   IStore: () => (/* binding */ f),\n/* harmony export */   ISubscriber: () => (/* binding */ P),\n/* harmony export */   ISubscriberTopicMap: () => (/* binding */ C),\n/* harmony export */   IVerify: () => (/* binding */ M)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\nvar a=Object.defineProperty,u=(e,s,r)=>s in e?a(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,c=(e,s,r)=>u(e,typeof s!=\"symbol\"?s+\"\":s,r);class h extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super(),this.opts=s,c(this,\"protocol\",\"wc\"),c(this,\"version\",2)}}class g{constructor(s,r,t){this.core=s,this.logger=r}}var p=Object.defineProperty,b=(e,s,r)=>s in e?p(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,v=(e,s,r)=>b(e,typeof s!=\"symbol\"?s+\"\":s,r);class I extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r,v(this,\"records\",new Map)}}class y{constructor(s,r){this.logger=s,this.core=r}}class m extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class d extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super()}}class f{constructor(s,r,t,q){this.core=s,this.logger=r,this.name=t}}var E=Object.defineProperty,x=(e,s,r)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,w=(e,s,r)=>x(e,typeof s!=\"symbol\"?s+\"\":s,r);class C{constructor(){w(this,\"map\",new Map)}}class P extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class j{constructor(s,r){this.core=s,this.logger=r}}class S extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r}}class ${constructor(s,r){this.logger=s,this.core=r}}class M{constructor(s,r,t){this.core=s,this.logger=r,this.store=t}}class O{constructor(s,r){this.projectId=s,this.logger=r}}class R{constructor(s,r,t){this.core=s,this.logger=r,this.telemetryEnabled=t}}var T=Object.defineProperty,k=(e,s,r)=>s in e?T(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,i=(e,s,r)=>k(e,typeof s!=\"symbol\"?s+\"\":s,r);class H extends (events__WEBPACK_IMPORTED_MODULE_1___default()){constructor(){super()}}class J{constructor(s){this.opts=s,i(this,\"protocol\",\"wc\"),i(this,\"version\",2)}}class K extends events__WEBPACK_IMPORTED_MODULE_1__.EventEmitter{constructor(){super()}}class V{constructor(s){this.client=s}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2lnbi1jbGllbnQvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3R5cGVzL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5RixxREFBcUQsa0RBQWtELHFEQUFxRCxnQkFBZ0IsMERBQUMsQ0FBQyxlQUFlLGlFQUFpRSxRQUFRLG1CQUFtQiwyQkFBMkIscURBQXFELGtEQUFrRCxxREFBcUQsZ0JBQWdCLDBEQUFDLENBQUMsaUJBQWlCLDZEQUE2RCxRQUFRLGlCQUFpQiwyQkFBMkIsZ0JBQWdCLDBEQUFDLENBQUMsaUJBQWlCLHNDQUFzQyxnQkFBZ0IsMERBQUMsQ0FBQyxlQUFlLFNBQVMsUUFBUSxxQkFBcUIsdUNBQXVDLHFEQUFxRCxrREFBa0QscURBQXFELFFBQVEsY0FBYyx1QkFBdUIsZ0JBQWdCLDBEQUFDLENBQUMsaUJBQWlCLHNDQUFzQyxRQUFRLGlCQUFpQiwyQkFBMkIsZ0JBQWdCLDBEQUFDLENBQUMsaUJBQWlCLG1DQUFtQyxRQUFRLGlCQUFpQiwyQkFBMkIsUUFBUSxtQkFBbUIsd0NBQXdDLFFBQVEsaUJBQWlCLGdDQUFnQyxRQUFRLG1CQUFtQixtREFBbUQscURBQXFELGtEQUFrRCxxREFBcUQsZ0JBQWdCLCtDQUFDLENBQUMsY0FBYyxTQUFTLFFBQVEsZUFBZSx5REFBeUQsZ0JBQWdCLGdEQUFDLENBQUMsY0FBYyxTQUFTLFFBQVEsZUFBZSxlQUFnVjtBQUNucUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2lnbi1jbGllbnQvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3R5cGVzL2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0lFdmVudHMgYXMgb31mcm9tXCJAd2FsbGV0Y29ubmVjdC9ldmVudHNcIjtpbXBvcnQgbix7RXZlbnRFbWl0dGVyIGFzIGx9ZnJvbVwiZXZlbnRzXCI7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LHU9KGUscyxyKT0+cyBpbiBlP2EoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLGM9KGUscyxyKT0+dShlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIGggZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMpe3N1cGVyKCksdGhpcy5vcHRzPXMsYyh0aGlzLFwicHJvdG9jb2xcIixcIndjXCIpLGModGhpcyxcInZlcnNpb25cIiwyKX19Y2xhc3MgZ3tjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cn19dmFyIHA9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9KGUscyxyKT0+cyBpbiBlP3AoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLHY9KGUscyxyKT0+YihlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIEkgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHYodGhpcyxcInJlY29yZHNcIixuZXcgTWFwKX19Y2xhc3MgeXtjb25zdHJ1Y3RvcihzLHIpe3RoaXMubG9nZ2VyPXMsdGhpcy5jb3JlPXJ9fWNsYXNzIG0gZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLnJlbGF5ZXI9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBkIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzKXtzdXBlcigpfX1jbGFzcyBme2NvbnN0cnVjdG9yKHMscix0LHEpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXIsdGhpcy5uYW1lPXR9fXZhciBFPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx4PShlLHMscik9PnMgaW4gZT9FKGUscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbc109cix3PShlLHMscik9PngoZSx0eXBlb2YgcyE9XCJzeW1ib2xcIj9zK1wiXCI6cyxyKTtjbGFzcyBDe2NvbnN0cnVjdG9yKCl7dyh0aGlzLFwibWFwXCIsbmV3IE1hcCl9fWNsYXNzIFAgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLnJlbGF5ZXI9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBqe2NvbnN0cnVjdG9yKHMscil7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgUyBleHRlbmRzIG97Y29uc3RydWN0b3IocyxyKXtzdXBlcigpLHRoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXJ9fWNsYXNzICR7Y29uc3RydWN0b3IocyxyKXt0aGlzLmxvZ2dlcj1zLHRoaXMuY29yZT1yfX1jbGFzcyBNe2NvbnN0cnVjdG9yKHMscix0KXt0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHRoaXMuc3RvcmU9dH19Y2xhc3MgT3tjb25zdHJ1Y3RvcihzLHIpe3RoaXMucHJvamVjdElkPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgUntjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cix0aGlzLnRlbGVtZXRyeUVuYWJsZWQ9dH19dmFyIFQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LGs9KGUscyxyKT0+cyBpbiBlP1QoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLGk9KGUscyxyKT0+ayhlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIEggZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoKX19Y2xhc3MgSntjb25zdHJ1Y3RvcihzKXt0aGlzLm9wdHM9cyxpKHRoaXMsXCJwcm90b2NvbFwiLFwid2NcIiksaSh0aGlzLFwidmVyc2lvblwiLDIpfX1jbGFzcyBLIGV4dGVuZHMgbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCl9fWNsYXNzIFZ7Y29uc3RydWN0b3Iocyl7dGhpcy5jbGllbnQ9c319ZXhwb3J0e2ggYXMgSUNvcmUsZyBhcyBJQ3J5cHRvLE8gYXMgSUVjaG9DbGllbnQsViBhcyBJRW5naW5lLEsgYXMgSUVuZ2luZUV2ZW50cyxSIGFzIElFdmVudENsaWVudCxTIGFzIElFeHBpcmVyLEkgYXMgSUpzb25ScGNIaXN0b3J5LGogYXMgSUtleUNoYWluLHkgYXMgSU1lc3NhZ2VUcmFja2VyLCQgYXMgSVBhaXJpbmcsbSBhcyBJUHVibGlzaGVyLGQgYXMgSVJlbGF5ZXIsSiBhcyBJU2lnbkNsaWVudCxIIGFzIElTaWduQ2xpZW50RXZlbnRzLGYgYXMgSVN0b3JlLFAgYXMgSVN1YnNjcmliZXIsQyBhcyBJU3Vic2NyaWJlclRvcGljTWFwLE0gYXMgSVZlcmlmeX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/sign-client/node_modules/@walletconnect/types/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/constants/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./misc */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/misc.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/time.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsdUZBQU87QUFDL0IscUJBQXFCLG1CQUFPLENBQUMsbUZBQVE7QUFDckMscUJBQXFCLG1CQUFPLENBQUMsbUZBQVE7QUFDckMiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbWlzY1wiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi90aW1lXCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/misc.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/constants/misc.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ONE_THOUSAND = exports.ONE_HUNDRED = void 0;\nexports.ONE_HUNDRED = 100;\nexports.ONE_THOUSAND = 1000;\n//# sourceMappingURL=misc.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvbWlzYy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0IsR0FBRyxtQkFBbUI7QUFDMUMsbUJBQW1CO0FBQ25CLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL2NvbnN0YW50cy9taXNjLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PTkVfVEhPVVNBTkQgPSBleHBvcnRzLk9ORV9IVU5EUkVEID0gdm9pZCAwO1xuZXhwb3J0cy5PTkVfSFVORFJFRCA9IDEwMDtcbmV4cG9ydHMuT05FX1RIT1VTQU5EID0gMTAwMDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pc2MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/misc.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/time.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/constants/time.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ONE_YEAR = exports.FOUR_WEEKS = exports.THREE_WEEKS = exports.TWO_WEEKS = exports.ONE_WEEK = exports.THIRTY_DAYS = exports.SEVEN_DAYS = exports.FIVE_DAYS = exports.THREE_DAYS = exports.ONE_DAY = exports.TWENTY_FOUR_HOURS = exports.TWELVE_HOURS = exports.SIX_HOURS = exports.THREE_HOURS = exports.ONE_HOUR = exports.SIXTY_MINUTES = exports.THIRTY_MINUTES = exports.TEN_MINUTES = exports.FIVE_MINUTES = exports.ONE_MINUTE = exports.SIXTY_SECONDS = exports.THIRTY_SECONDS = exports.TEN_SECONDS = exports.FIVE_SECONDS = exports.ONE_SECOND = void 0;\nexports.ONE_SECOND = 1;\nexports.FIVE_SECONDS = 5;\nexports.TEN_SECONDS = 10;\nexports.THIRTY_SECONDS = 30;\nexports.SIXTY_SECONDS = 60;\nexports.ONE_MINUTE = exports.SIXTY_SECONDS;\nexports.FIVE_MINUTES = exports.ONE_MINUTE * 5;\nexports.TEN_MINUTES = exports.ONE_MINUTE * 10;\nexports.THIRTY_MINUTES = exports.ONE_MINUTE * 30;\nexports.SIXTY_MINUTES = exports.ONE_MINUTE * 60;\nexports.ONE_HOUR = exports.SIXTY_MINUTES;\nexports.THREE_HOURS = exports.ONE_HOUR * 3;\nexports.SIX_HOURS = exports.ONE_HOUR * 6;\nexports.TWELVE_HOURS = exports.ONE_HOUR * 12;\nexports.TWENTY_FOUR_HOURS = exports.ONE_HOUR * 24;\nexports.ONE_DAY = exports.TWENTY_FOUR_HOURS;\nexports.THREE_DAYS = exports.ONE_DAY * 3;\nexports.FIVE_DAYS = exports.ONE_DAY * 5;\nexports.SEVEN_DAYS = exports.ONE_DAY * 7;\nexports.THIRTY_DAYS = exports.ONE_DAY * 30;\nexports.ONE_WEEK = exports.SEVEN_DAYS;\nexports.TWO_WEEKS = exports.ONE_WEEK * 2;\nexports.THREE_WEEKS = exports.ONE_WEEK * 3;\nexports.FOUR_WEEKS = exports.ONE_WEEK * 4;\nexports.ONE_YEAR = exports.ONE_DAY * 365;\n//# sourceMappingURL=time.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvdGltZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsR0FBRyxrQkFBa0IsR0FBRyxtQkFBbUIsR0FBRyxpQkFBaUIsR0FBRyxnQkFBZ0IsR0FBRyxtQkFBbUIsR0FBRyxrQkFBa0IsR0FBRyxpQkFBaUIsR0FBRyxrQkFBa0IsR0FBRyxlQUFlLEdBQUcseUJBQXlCLEdBQUcsb0JBQW9CLEdBQUcsaUJBQWlCLEdBQUcsbUJBQW1CLEdBQUcsZ0JBQWdCLEdBQUcscUJBQXFCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcsb0JBQW9CLEdBQUcsa0JBQWtCLEdBQUcscUJBQXFCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcsb0JBQW9CLEdBQUcsa0JBQWtCO0FBQzloQixrQkFBa0I7QUFDbEIsb0JBQW9CO0FBQ3BCLG1CQUFtQjtBQUNuQixzQkFBc0I7QUFDdEIscUJBQXFCO0FBQ3JCLGtCQUFrQjtBQUNsQixvQkFBb0I7QUFDcEIsbUJBQW1CO0FBQ25CLHNCQUFzQjtBQUN0QixxQkFBcUI7QUFDckIsZ0JBQWdCO0FBQ2hCLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakIsb0JBQW9CO0FBQ3BCLHlCQUF5QjtBQUN6QixlQUFlO0FBQ2Ysa0JBQWtCO0FBQ2xCLGlCQUFpQjtBQUNqQixrQkFBa0I7QUFDbEIsbUJBQW1CO0FBQ25CLGdCQUFnQjtBQUNoQixpQkFBaUI7QUFDakIsbUJBQW1CO0FBQ25CLGtCQUFrQjtBQUNsQixnQkFBZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvdGltZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT05FX1lFQVIgPSBleHBvcnRzLkZPVVJfV0VFS1MgPSBleHBvcnRzLlRIUkVFX1dFRUtTID0gZXhwb3J0cy5UV09fV0VFS1MgPSBleHBvcnRzLk9ORV9XRUVLID0gZXhwb3J0cy5USElSVFlfREFZUyA9IGV4cG9ydHMuU0VWRU5fREFZUyA9IGV4cG9ydHMuRklWRV9EQVlTID0gZXhwb3J0cy5USFJFRV9EQVlTID0gZXhwb3J0cy5PTkVfREFZID0gZXhwb3J0cy5UV0VOVFlfRk9VUl9IT1VSUyA9IGV4cG9ydHMuVFdFTFZFX0hPVVJTID0gZXhwb3J0cy5TSVhfSE9VUlMgPSBleHBvcnRzLlRIUkVFX0hPVVJTID0gZXhwb3J0cy5PTkVfSE9VUiA9IGV4cG9ydHMuU0lYVFlfTUlOVVRFUyA9IGV4cG9ydHMuVEhJUlRZX01JTlVURVMgPSBleHBvcnRzLlRFTl9NSU5VVEVTID0gZXhwb3J0cy5GSVZFX01JTlVURVMgPSBleHBvcnRzLk9ORV9NSU5VVEUgPSBleHBvcnRzLlNJWFRZX1NFQ09ORFMgPSBleHBvcnRzLlRISVJUWV9TRUNPTkRTID0gZXhwb3J0cy5URU5fU0VDT05EUyA9IGV4cG9ydHMuRklWRV9TRUNPTkRTID0gZXhwb3J0cy5PTkVfU0VDT05EID0gdm9pZCAwO1xuZXhwb3J0cy5PTkVfU0VDT05EID0gMTtcbmV4cG9ydHMuRklWRV9TRUNPTkRTID0gNTtcbmV4cG9ydHMuVEVOX1NFQ09ORFMgPSAxMDtcbmV4cG9ydHMuVEhJUlRZX1NFQ09ORFMgPSAzMDtcbmV4cG9ydHMuU0lYVFlfU0VDT05EUyA9IDYwO1xuZXhwb3J0cy5PTkVfTUlOVVRFID0gZXhwb3J0cy5TSVhUWV9TRUNPTkRTO1xuZXhwb3J0cy5GSVZFX01JTlVURVMgPSBleHBvcnRzLk9ORV9NSU5VVEUgKiA1O1xuZXhwb3J0cy5URU5fTUlOVVRFUyA9IGV4cG9ydHMuT05FX01JTlVURSAqIDEwO1xuZXhwb3J0cy5USElSVFlfTUlOVVRFUyA9IGV4cG9ydHMuT05FX01JTlVURSAqIDMwO1xuZXhwb3J0cy5TSVhUWV9NSU5VVEVTID0gZXhwb3J0cy5PTkVfTUlOVVRFICogNjA7XG5leHBvcnRzLk9ORV9IT1VSID0gZXhwb3J0cy5TSVhUWV9NSU5VVEVTO1xuZXhwb3J0cy5USFJFRV9IT1VSUyA9IGV4cG9ydHMuT05FX0hPVVIgKiAzO1xuZXhwb3J0cy5TSVhfSE9VUlMgPSBleHBvcnRzLk9ORV9IT1VSICogNjtcbmV4cG9ydHMuVFdFTFZFX0hPVVJTID0gZXhwb3J0cy5PTkVfSE9VUiAqIDEyO1xuZXhwb3J0cy5UV0VOVFlfRk9VUl9IT1VSUyA9IGV4cG9ydHMuT05FX0hPVVIgKiAyNDtcbmV4cG9ydHMuT05FX0RBWSA9IGV4cG9ydHMuVFdFTlRZX0ZPVVJfSE9VUlM7XG5leHBvcnRzLlRIUkVFX0RBWVMgPSBleHBvcnRzLk9ORV9EQVkgKiAzO1xuZXhwb3J0cy5GSVZFX0RBWVMgPSBleHBvcnRzLk9ORV9EQVkgKiA1O1xuZXhwb3J0cy5TRVZFTl9EQVlTID0gZXhwb3J0cy5PTkVfREFZICogNztcbmV4cG9ydHMuVEhJUlRZX0RBWVMgPSBleHBvcnRzLk9ORV9EQVkgKiAzMDtcbmV4cG9ydHMuT05FX1dFRUsgPSBleHBvcnRzLlNFVkVOX0RBWVM7XG5leHBvcnRzLlRXT19XRUVLUyA9IGV4cG9ydHMuT05FX1dFRUsgKiAyO1xuZXhwb3J0cy5USFJFRV9XRUVLUyA9IGV4cG9ydHMuT05FX1dFRUsgKiAzO1xuZXhwb3J0cy5GT1VSX1dFRUtTID0gZXhwb3J0cy5PTkVfV0VFSyAqIDQ7XG5leHBvcnRzLk9ORV9ZRUFSID0gZXhwb3J0cy5PTkVfREFZICogMzY1O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/time.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/index.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./watch */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/watch.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/index.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQyx1RkFBTztBQUMvQixxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQywyRUFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBYTtBQUMxQyIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3V0aWxzXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3dhdGNoXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3R5cGVzXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/types/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./watch */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/watch.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy90eXBlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQyx1RkFBTztBQUMvQixxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL3R5cGVzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3dhdGNoXCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/watch.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/types/watch.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IWatch = void 0;\nclass IWatch {\n}\nexports.IWatch = IWatch;\n//# sourceMappingURL=watch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy90eXBlcy93YXRjaC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZCIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL3R5cGVzL3dhdGNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JV2F0Y2ggPSB2b2lkIDA7XG5jbGFzcyBJV2F0Y2gge1xufVxuZXhwb3J0cy5JV2F0Y2ggPSBJV2F0Y2g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13YXRjaC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/watch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/convert.js":
/*!********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/utils/convert.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fromMiliseconds = exports.toMiliseconds = void 0;\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js\");\nfunction toMiliseconds(seconds) {\n    return seconds * constants_1.ONE_THOUSAND;\n}\nexports.toMiliseconds = toMiliseconds;\nfunction fromMiliseconds(miliseconds) {\n    return Math.floor(miliseconds / constants_1.ONE_THOUSAND);\n}\nexports.fromMiliseconds = fromMiliseconds;\n//# sourceMappingURL=convert.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy91dGlscy9jb252ZXJ0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QixHQUFHLHFCQUFxQjtBQUMvQyxvQkFBb0IsbUJBQU8sQ0FBQywwRkFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3RpbWUvZGlzdC9janMvdXRpbHMvY29udmVydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZnJvbU1pbGlzZWNvbmRzID0gZXhwb3J0cy50b01pbGlzZWNvbmRzID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xuZnVuY3Rpb24gdG9NaWxpc2Vjb25kcyhzZWNvbmRzKSB7XG4gICAgcmV0dXJuIHNlY29uZHMgKiBjb25zdGFudHNfMS5PTkVfVEhPVVNBTkQ7XG59XG5leHBvcnRzLnRvTWlsaXNlY29uZHMgPSB0b01pbGlzZWNvbmRzO1xuZnVuY3Rpb24gZnJvbU1pbGlzZWNvbmRzKG1pbGlzZWNvbmRzKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobWlsaXNlY29uZHMgLyBjb25zdGFudHNfMS5PTkVfVEhPVVNBTkQpO1xufVxuZXhwb3J0cy5mcm9tTWlsaXNlY29uZHMgPSBmcm9tTWlsaXNlY29uZHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb252ZXJ0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/convert.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/delay.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/utils/delay.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.delay = void 0;\nfunction delay(timeout) {\n    return new Promise(resolve => {\n        setTimeout(() => {\n            resolve(true);\n        }, timeout);\n    });\n}\nexports.delay = delay;\n//# sourceMappingURL=delay.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy91dGlscy9kZWxheS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsYUFBYTtBQUNiIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3RpbWUvZGlzdC9janMvdXRpbHMvZGVsYXkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlbGF5ID0gdm9pZCAwO1xuZnVuY3Rpb24gZGVsYXkodGltZW91dCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZGVsYXkgPSBkZWxheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/delay.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/utils/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./delay */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/delay.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./convert */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/convert.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy91dGlscy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQyx1RkFBTztBQUMvQixxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQyxxRkFBVztBQUN4QyIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL3V0aWxzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2RlbGF5XCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbnZlcnRcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/watch.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/watch.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Watch = void 0;\nclass Watch {\n    constructor() {\n        this.timestamps = new Map();\n    }\n    start(label) {\n        if (this.timestamps.has(label)) {\n            throw new Error(`Watch already started for label: ${label}`);\n        }\n        this.timestamps.set(label, { started: Date.now() });\n    }\n    stop(label) {\n        const timestamp = this.get(label);\n        if (typeof timestamp.elapsed !== \"undefined\") {\n            throw new Error(`Watch already stopped for label: ${label}`);\n        }\n        const elapsed = Date.now() - timestamp.started;\n        this.timestamps.set(label, { started: timestamp.started, elapsed });\n    }\n    get(label) {\n        const timestamp = this.timestamps.get(label);\n        if (typeof timestamp === \"undefined\") {\n            throw new Error(`No timestamp found for label: ${label}`);\n        }\n        return timestamp;\n    }\n    elapsed(label) {\n        const timestamp = this.get(label);\n        const elapsed = timestamp.elapsed || Date.now() - timestamp.started;\n        return elapsed;\n    }\n}\nexports.Watch = Watch;\nexports[\"default\"] = Watch;\n//# sourceMappingURL=watch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy93YXRjaC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLE1BQU07QUFDdEU7QUFDQSxxQ0FBcUMscUJBQXFCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLE1BQU07QUFDdEU7QUFDQTtBQUNBLHFDQUFxQyxxQ0FBcUM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsTUFBTTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL3dhdGNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XYXRjaCA9IHZvaWQgMDtcbmNsYXNzIFdhdGNoIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50aW1lc3RhbXBzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBzdGFydChsYWJlbCkge1xuICAgICAgICBpZiAodGhpcy50aW1lc3RhbXBzLmhhcyhsYWJlbCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgV2F0Y2ggYWxyZWFkeSBzdGFydGVkIGZvciBsYWJlbDogJHtsYWJlbH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbWVzdGFtcHMuc2V0KGxhYmVsLCB7IHN0YXJ0ZWQ6IERhdGUubm93KCkgfSk7XG4gICAgfVxuICAgIHN0b3AobGFiZWwpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gdGhpcy5nZXQobGFiZWwpO1xuICAgICAgICBpZiAodHlwZW9mIHRpbWVzdGFtcC5lbGFwc2VkICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFdhdGNoIGFscmVhZHkgc3RvcHBlZCBmb3IgbGFiZWw6ICR7bGFiZWx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IERhdGUubm93KCkgLSB0aW1lc3RhbXAuc3RhcnRlZDtcbiAgICAgICAgdGhpcy50aW1lc3RhbXBzLnNldChsYWJlbCwgeyBzdGFydGVkOiB0aW1lc3RhbXAuc3RhcnRlZCwgZWxhcHNlZCB9KTtcbiAgICB9XG4gICAgZ2V0KGxhYmVsKSB7XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IHRoaXMudGltZXN0YW1wcy5nZXQobGFiZWwpO1xuICAgICAgICBpZiAodHlwZW9mIHRpbWVzdGFtcCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyB0aW1lc3RhbXAgZm91bmQgZm9yIGxhYmVsOiAke2xhYmVsfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aW1lc3RhbXA7XG4gICAgfVxuICAgIGVsYXBzZWQobGFiZWwpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gdGhpcy5nZXQobGFiZWwpO1xuICAgICAgICBjb25zdCBlbGFwc2VkID0gdGltZXN0YW1wLmVsYXBzZWQgfHwgRGF0ZS5ub3coKSAtIHRpbWVzdGFtcC5zdGFydGVkO1xuICAgICAgICByZXR1cm4gZWxhcHNlZDtcbiAgICB9XG59XG5leHBvcnRzLldhdGNoID0gV2F0Y2g7XG5leHBvcnRzLmRlZmF1bHQgPSBXYXRjaDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhdGNoLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/watch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __assign: () => (/* binding */ __assign),\n/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),\n/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),\n/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),\n/* harmony export */   __await: () => (/* binding */ __await),\n/* harmony export */   __awaiter: () => (/* binding */ __awaiter),\n/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),\n/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),\n/* harmony export */   __createBinding: () => (/* binding */ __createBinding),\n/* harmony export */   __decorate: () => (/* binding */ __decorate),\n/* harmony export */   __exportStar: () => (/* binding */ __exportStar),\n/* harmony export */   __extends: () => (/* binding */ __extends),\n/* harmony export */   __generator: () => (/* binding */ __generator),\n/* harmony export */   __importDefault: () => (/* binding */ __importDefault),\n/* harmony export */   __importStar: () => (/* binding */ __importStar),\n/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),\n/* harmony export */   __metadata: () => (/* binding */ __metadata),\n/* harmony export */   __param: () => (/* binding */ __param),\n/* harmony export */   __read: () => (/* binding */ __read),\n/* harmony export */   __rest: () => (/* binding */ __rest),\n/* harmony export */   __spread: () => (/* binding */ __spread),\n/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),\n/* harmony export */   __values: () => (/* binding */ __values)\n/* harmony export */ });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUNuRiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDTztBQUNQLG9DQUFvQztBQUNwQztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsTUFBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNkJBQTZCLHNCQUFzQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0RBQWtELFFBQVE7QUFDMUQseUNBQXlDLFFBQVE7QUFDakQseURBQXlELFFBQVE7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGlCQUFpQix1RkFBdUYsY0FBYztBQUN0SCx1QkFBdUIsZ0NBQWdDLHFDQUFxQywyQ0FBMkM7QUFDdkksNEJBQTRCLE1BQU0saUJBQWlCLFlBQVk7QUFDL0QsdUJBQXVCO0FBQ3ZCLDhCQUE4QjtBQUM5Qiw2QkFBNkI7QUFDN0IsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDTztBQUNQO0FBQ0EsaUJBQWlCLDZDQUE2QyxVQUFVLHNEQUFzRCxjQUFjO0FBQzVJLDBCQUEwQiw2QkFBNkIsb0JBQW9CLGdEQUFnRCxrQkFBa0I7QUFDN0k7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDJHQUEyRyx1RkFBdUYsY0FBYztBQUNoTix1QkFBdUIsOEJBQThCLGdEQUFnRCx3REFBd0Q7QUFDN0osNkNBQTZDLHNDQUFzQyxVQUFVLG1CQUFtQixJQUFJO0FBQ3BIO0FBQ0E7QUFDTztBQUNQLGlDQUFpQyx1Q0FBdUMsWUFBWSxLQUFLLE9BQU87QUFDaEc7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3RpbWUvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/types/dist/index.es.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/types/dist/index.es.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ICore: () => (/* binding */ h),\n/* harmony export */   ICrypto: () => (/* binding */ g),\n/* harmony export */   IEchoClient: () => (/* binding */ O),\n/* harmony export */   IEngine: () => (/* binding */ V),\n/* harmony export */   IEngineEvents: () => (/* binding */ K),\n/* harmony export */   IEventClient: () => (/* binding */ R),\n/* harmony export */   IExpirer: () => (/* binding */ S),\n/* harmony export */   IJsonRpcHistory: () => (/* binding */ I),\n/* harmony export */   IKeyChain: () => (/* binding */ j),\n/* harmony export */   IMessageTracker: () => (/* binding */ y),\n/* harmony export */   IPairing: () => (/* binding */ $),\n/* harmony export */   IPublisher: () => (/* binding */ m),\n/* harmony export */   IRelayer: () => (/* binding */ d),\n/* harmony export */   ISignClient: () => (/* binding */ J),\n/* harmony export */   ISignClientEvents: () => (/* binding */ H),\n/* harmony export */   IStore: () => (/* binding */ f),\n/* harmony export */   ISubscriber: () => (/* binding */ P),\n/* harmony export */   ISubscriberTopicMap: () => (/* binding */ C),\n/* harmony export */   IVerify: () => (/* binding */ M)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\nvar a=Object.defineProperty,u=(e,s,r)=>s in e?a(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,c=(e,s,r)=>u(e,typeof s!=\"symbol\"?s+\"\":s,r);class h extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super(),this.opts=s,c(this,\"protocol\",\"wc\"),c(this,\"version\",2)}}class g{constructor(s,r,t){this.core=s,this.logger=r}}var p=Object.defineProperty,b=(e,s,r)=>s in e?p(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,v=(e,s,r)=>b(e,typeof s!=\"symbol\"?s+\"\":s,r);class I extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r,v(this,\"records\",new Map)}}class y{constructor(s,r){this.logger=s,this.core=r}}class m extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class d extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super()}}class f{constructor(s,r,t,q){this.core=s,this.logger=r,this.name=t}}var E=Object.defineProperty,x=(e,s,r)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,w=(e,s,r)=>x(e,typeof s!=\"symbol\"?s+\"\":s,r);class C{constructor(){w(this,\"map\",new Map)}}class P extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class j{constructor(s,r){this.core=s,this.logger=r}}class S extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r}}class ${constructor(s,r){this.logger=s,this.core=r}}class M{constructor(s,r,t){this.core=s,this.logger=r,this.store=t}}class O{constructor(s,r){this.projectId=s,this.logger=r}}class R{constructor(s,r,t){this.core=s,this.logger=r,this.telemetryEnabled=t}}var T=Object.defineProperty,k=(e,s,r)=>s in e?T(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,i=(e,s,r)=>k(e,typeof s!=\"symbol\"?s+\"\":s,r);class H extends (events__WEBPACK_IMPORTED_MODULE_1___default()){constructor(){super()}}class J{constructor(s){this.opts=s,i(this,\"protocol\",\"wc\"),i(this,\"version\",2)}}class K extends events__WEBPACK_IMPORTED_MODULE_1__.EventEmitter{constructor(){super()}}class V{constructor(s){this.client=s}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdHlwZXMvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlGLHFEQUFxRCxrREFBa0QscURBQXFELGdCQUFnQiwwREFBQyxDQUFDLGVBQWUsaUVBQWlFLFFBQVEsbUJBQW1CLDJCQUEyQixxREFBcUQsa0RBQWtELHFEQUFxRCxnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsNkRBQTZELFFBQVEsaUJBQWlCLDJCQUEyQixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsc0NBQXNDLGdCQUFnQiwwREFBQyxDQUFDLGVBQWUsU0FBUyxRQUFRLHFCQUFxQix1Q0FBdUMscURBQXFELGtEQUFrRCxxREFBcUQsUUFBUSxjQUFjLHVCQUF1QixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsc0NBQXNDLFFBQVEsaUJBQWlCLDJCQUEyQixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsbUNBQW1DLFFBQVEsaUJBQWlCLDJCQUEyQixRQUFRLG1CQUFtQix3Q0FBd0MsUUFBUSxpQkFBaUIsZ0NBQWdDLFFBQVEsbUJBQW1CLG1EQUFtRCxxREFBcUQsa0RBQWtELHFEQUFxRCxnQkFBZ0IsK0NBQUMsQ0FBQyxjQUFjLFNBQVMsUUFBUSxlQUFlLHlEQUF5RCxnQkFBZ0IsZ0RBQUMsQ0FBQyxjQUFjLFNBQVMsUUFBUSxlQUFlLGVBQWdWO0FBQ25xRSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90eXBlcy9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtJRXZlbnRzIGFzIG99ZnJvbVwiQHdhbGxldGNvbm5lY3QvZXZlbnRzXCI7aW1wb3J0IG4se0V2ZW50RW1pdHRlciBhcyBsfWZyb21cImV2ZW50c1wiO3ZhciBhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx1PShlLHMscik9PnMgaW4gZT9hKGUscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbc109cixjPShlLHMscik9PnUoZSx0eXBlb2YgcyE9XCJzeW1ib2xcIj9zK1wiXCI6cyxyKTtjbGFzcyBoIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzKXtzdXBlcigpLHRoaXMub3B0cz1zLGModGhpcyxcInByb3RvY29sXCIsXCJ3Y1wiKSxjKHRoaXMsXCJ2ZXJzaW9uXCIsMil9fWNsYXNzIGd7Y29uc3RydWN0b3IocyxyLHQpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXJ9fXZhciBwPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxiPShlLHMscik9PnMgaW4gZT9wKGUscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbc109cix2PShlLHMscik9PmIoZSx0eXBlb2YgcyE9XCJzeW1ib2xcIj9zK1wiXCI6cyxyKTtjbGFzcyBJIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzLHIpe3N1cGVyKCksdGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cix2KHRoaXMsXCJyZWNvcmRzXCIsbmV3IE1hcCl9fWNsYXNzIHl7Y29uc3RydWN0b3IocyxyKXt0aGlzLmxvZ2dlcj1zLHRoaXMuY29yZT1yfX1jbGFzcyBtIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzLHIpe3N1cGVyKCksdGhpcy5yZWxheWVyPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgZCBleHRlbmRzIG97Y29uc3RydWN0b3Iocyl7c3VwZXIoKX19Y2xhc3MgZntjb25zdHJ1Y3RvcihzLHIsdCxxKXt0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHRoaXMubmFtZT10fX12YXIgRT1PYmplY3QuZGVmaW5lUHJvcGVydHkseD0oZSxzLHIpPT5zIGluIGU/RShlLHMse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnJ9KTplW3NdPXIsdz0oZSxzLHIpPT54KGUsdHlwZW9mIHMhPVwic3ltYm9sXCI/cytcIlwiOnMscik7Y2xhc3MgQ3tjb25zdHJ1Y3Rvcigpe3codGhpcyxcIm1hcFwiLG5ldyBNYXApfX1jbGFzcyBQIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzLHIpe3N1cGVyKCksdGhpcy5yZWxheWVyPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3Mgantjb25zdHJ1Y3RvcihzLHIpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXJ9fWNsYXNzIFMgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyAke2NvbnN0cnVjdG9yKHMscil7dGhpcy5sb2dnZXI9cyx0aGlzLmNvcmU9cn19Y2xhc3MgTXtjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cix0aGlzLnN0b3JlPXR9fWNsYXNzIE97Y29uc3RydWN0b3IocyxyKXt0aGlzLnByb2plY3RJZD1zLHRoaXMubG9nZ2VyPXJ9fWNsYXNzIFJ7Y29uc3RydWN0b3IocyxyLHQpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXIsdGhpcy50ZWxlbWV0cnlFbmFibGVkPXR9fXZhciBUPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxrPShlLHMscik9PnMgaW4gZT9UKGUscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbc109cixpPShlLHMscik9PmsoZSx0eXBlb2YgcyE9XCJzeW1ib2xcIj9zK1wiXCI6cyxyKTtjbGFzcyBIIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKCl9fWNsYXNzIEp7Y29uc3RydWN0b3Iocyl7dGhpcy5vcHRzPXMsaSh0aGlzLFwicHJvdG9jb2xcIixcIndjXCIpLGkodGhpcyxcInZlcnNpb25cIiwyKX19Y2xhc3MgSyBleHRlbmRzIGx7Y29uc3RydWN0b3IoKXtzdXBlcigpfX1jbGFzcyBWe2NvbnN0cnVjdG9yKHMpe3RoaXMuY2xpZW50PXN9fWV4cG9ydHtoIGFzIElDb3JlLGcgYXMgSUNyeXB0byxPIGFzIElFY2hvQ2xpZW50LFYgYXMgSUVuZ2luZSxLIGFzIElFbmdpbmVFdmVudHMsUiBhcyBJRXZlbnRDbGllbnQsUyBhcyBJRXhwaXJlcixJIGFzIElKc29uUnBjSGlzdG9yeSxqIGFzIElLZXlDaGFpbix5IGFzIElNZXNzYWdlVHJhY2tlciwkIGFzIElQYWlyaW5nLG0gYXMgSVB1Ymxpc2hlcixkIGFzIElSZWxheWVyLEogYXMgSVNpZ25DbGllbnQsSCBhcyBJU2lnbkNsaWVudEV2ZW50cyxmIGFzIElTdG9yZSxQIGFzIElTdWJzY3JpYmVyLEMgYXMgSVN1YnNjcmliZXJUb3BpY01hcCxNIGFzIElWZXJpZnl9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/types/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/dist/index.es.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/dist/index.es.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UniversalProvider: () => (/* binding */ es),\n/* harmony export */   \"default\": () => (/* binding */ x)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/sign-client */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/sign-client/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/jsonrpc-http-connection */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_4__);\nconst tt=\"error\",Nt=\"wss://relay.walletconnect.org\",St=\"wc\",Dt=\"universal_provider\",_=`${St}@2:${Dt}:`,et=\"https://rpc.walletconnect.org/v1/\",w=\"generic\",qt=`${et}bundler`,d={DEFAULT_CHAIN_CHANGED:\"default_chain_changed\"};function jt(){}function B(s){return s==null||typeof s!=\"object\"&&typeof s!=\"function\"}function G(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function Rt(s){if(B(s))return s;if(Array.isArray(s)||G(s)||s instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&s instanceof SharedArrayBuffer)return s.slice(0);const t=Object.getPrototypeOf(s),e=t.constructor;if(s instanceof Date||s instanceof Map||s instanceof Set)return new e(s);if(s instanceof RegExp){const i=new e(s);return i.lastIndex=s.lastIndex,i}if(s instanceof DataView)return new e(s.buffer.slice(0));if(s instanceof Error){const i=new e(s.message);return i.stack=s.stack,i.name=s.name,i.cause=s.cause,i}if(typeof File<\"u\"&&s instanceof File)return new e([s],s.name,{type:s.type,lastModified:s.lastModified});if(typeof s==\"object\"){const i=Object.create(t);return Object.assign(i,s)}return s}function st(s){return typeof s==\"object\"&&s!==null}function it(s){return Object.getOwnPropertySymbols(s).filter(t=>Object.prototype.propertyIsEnumerable.call(s,t))}function rt(s){return s==null?s===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(s)}const _t=\"[object RegExp]\",nt=\"[object String]\",at=\"[object Number]\",ct=\"[object Boolean]\",ot=\"[object Arguments]\",Ut=\"[object Symbol]\",Ft=\"[object Date]\",Lt=\"[object Map]\",xt=\"[object Set]\",Mt=\"[object Array]\",Bt=\"[object ArrayBuffer]\",Gt=\"[object Object]\",Jt=\"[object DataView]\",zt=\"[object Uint8Array]\",kt=\"[object Uint8ClampedArray]\",Wt=\"[object Uint16Array]\",Kt=\"[object Uint32Array]\",Vt=\"[object Int8Array]\",Xt=\"[object Int16Array]\",Yt=\"[object Int32Array]\",Qt=\"[object Float32Array]\",Zt=\"[object Float64Array]\";function Tt(s,t){return y(s,void 0,s,new Map,t)}function y(s,t,e,i=new Map,r=void 0){const a=r?.(s,t,e,i);if(a!=null)return a;if(B(s))return s;if(i.has(s))return i.get(s);if(Array.isArray(s)){const n=new Array(s.length);i.set(s,n);for(let c=0;c<s.length;c++)n[c]=y(s[c],c,e,i,r);return Object.hasOwn(s,\"index\")&&(n.index=s.index),Object.hasOwn(s,\"input\")&&(n.input=s.input),n}if(s instanceof Date)return new Date(s.getTime());if(s instanceof RegExp){const n=new RegExp(s.source,s.flags);return n.lastIndex=s.lastIndex,n}if(s instanceof Map){const n=new Map;i.set(s,n);for(const[c,h]of s)n.set(c,y(h,c,e,i,r));return n}if(s instanceof Set){const n=new Set;i.set(s,n);for(const c of s)n.add(y(c,void 0,e,i,r));return n}if(typeof Buffer<\"u\"&&Buffer.isBuffer(s))return s.subarray();if(G(s)){const n=new(Object.getPrototypeOf(s)).constructor(s.length);i.set(s,n);for(let c=0;c<s.length;c++)n[c]=y(s[c],c,e,i,r);return n}if(s instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&s instanceof SharedArrayBuffer)return s.slice(0);if(s instanceof DataView){const n=new DataView(s.buffer.slice(0),s.byteOffset,s.byteLength);return i.set(s,n),g(n,s,e,i,r),n}if(typeof File<\"u\"&&s instanceof File){const n=new File([s],s.name,{type:s.type});return i.set(s,n),g(n,s,e,i,r),n}if(s instanceof Blob){const n=new Blob([s],{type:s.type});return i.set(s,n),g(n,s,e,i,r),n}if(s instanceof Error){const n=new s.constructor;return i.set(s,n),n.message=s.message,n.name=s.name,n.stack=s.stack,n.cause=s.cause,g(n,s,e,i,r),n}if(typeof s==\"object\"&&te(s)){const n=Object.create(Object.getPrototypeOf(s));return i.set(s,n),g(n,s,e,i,r),n}return s}function g(s,t,e=s,i,r){const a=[...Object.keys(t),...it(t)];for(let n=0;n<a.length;n++){const c=a[n],h=Object.getOwnPropertyDescriptor(s,c);(h==null||h.writable)&&(s[c]=y(t[c],c,e,i,r))}}function te(s){switch(rt(s)){case ot:case Mt:case Bt:case Jt:case ct:case Ft:case Qt:case Zt:case Vt:case Xt:case Yt:case Lt:case at:case Gt:case _t:case xt:case nt:case Ut:case zt:case kt:case Wt:case Kt:return!0;default:return!1}}function ee(s,t){return Tt(s,(e,i,r,a)=>{const n=t?.(e,i,r,a);if(n!=null)return n;if(typeof s==\"object\")switch(Object.prototype.toString.call(s)){case at:case nt:case ct:{const c=new s.constructor(s?.valueOf());return g(c,s),c}case ot:{const c={};return g(c,s),c.length=s.length,c[Symbol.iterator]=s[Symbol.iterator],c}default:return}})}function ht(s){return ee(s)}function pt(s){return s!==null&&typeof s==\"object\"&&rt(s)===\"[object Arguments]\"}function se(s){return G(s)}function ie(s){if(typeof s!=\"object\"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!==\"[object Object]\"){const e=s[Symbol.toStringTag];return e==null||!Object.getOwnPropertyDescriptor(s,Symbol.toStringTag)?.writable?!1:s.toString()===`[object ${e}]`}let t=s;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(s)===t}function re(s,...t){const e=t.slice(0,-1),i=t[t.length-1];let r=s;for(let a=0;a<e.length;a++){const n=e[a];r=U(r,n,i,new Map)}return r}function U(s,t,e,i){if(B(s)&&(s=Object(s)),t==null||typeof t!=\"object\")return s;if(i.has(t))return Rt(i.get(t));if(i.set(t,s),Array.isArray(t)){t=t.slice();for(let a=0;a<t.length;a++)t[a]=t[a]??void 0}const r=[...Object.keys(t),...it(t)];for(let a=0;a<r.length;a++){const n=r[a];let c=t[n],h=s[n];if(pt(c)&&(c={...c}),pt(h)&&(h={...h}),typeof Buffer<\"u\"&&Buffer.isBuffer(c)&&(c=ht(c)),Array.isArray(c))if(typeof h==\"object\"&&h!=null){const j=[],R=Reflect.ownKeys(h);for(let f=0;f<R.length;f++){const X=R[f];j[X]=h[X]}h=j}else h=[];const v=e(h,c,n,s,t,i);v!=null?s[n]=v:Array.isArray(c)||st(h)&&st(c)?s[n]=U(h,c,e,i):h==null&&ie(c)?s[n]=U({},c,e,i):h==null&&se(c)?s[n]=ht(c):(h===void 0||c!==void 0)&&(s[n]=c)}return s}function ne(s,...t){return re(s,...t,jt)}var ae=Object.defineProperty,ce=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,dt=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,ut=(s,t,e)=>t in s?ae(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,F=(s,t)=>{for(var e in t||(t={}))he.call(t,e)&&ut(s,e,t[e]);if(dt)for(var e of dt(t))pe.call(t,e)&&ut(s,e,t[e]);return s},de=(s,t)=>ce(s,oe(t));function p(s,t,e){var i;const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(s);return((i=t.rpcMap)==null?void 0:i[r.reference])||`${et}?chainId=${r.namespace}:${r.reference}&projectId=${e}`}function P(s){return s.includes(\":\")?s.split(\":\")[1]:s}function lt(s){return s.map(t=>`${t.split(\":\")[0]}:${t.split(\":\")[1]}`)}function ue(s,t){const e=Object.keys(t.namespaces).filter(r=>r.includes(s));if(!e.length)return[];const i=[];return e.forEach(r=>{const a=t.namespaces[r].accounts;i.push(...a)}),i}function J(s={},t={}){const e=ft(s),i=ft(t);return ne(e,i)}function ft(s){var t,e,i,r;const a={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(s))return a;for(const[n,c]of Object.entries(s)){const h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isCaipNamespace)(n)?[n]:c.chains,v=c.methods||[],j=c.events||[],R=c.rpcMap||{},f=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(n);a[f]=de(F(F({},a[f]),c),{chains:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(h,(t=a[f])==null?void 0:t.chains),methods:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(v,(e=a[f])==null?void 0:e.methods),events:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(j,(i=a[f])==null?void 0:i.events),rpcMap:F(F({},R),(r=a[f])==null?void 0:r.rpcMap)})}return a}function le(s){return s.includes(\":\")?s.split(\":\")[2]:s}function mt(s){const t={};for(const[e,i]of Object.entries(s)){const r=i.methods||[],a=i.events||[],n=i.accounts||[],c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isCaipNamespace)(e)?[e]:i.chains?i.chains:lt(i.accounts);t[e]={chains:c,methods:r,events:a,accounts:n}}return t}function z(s){return typeof s==\"number\"?s:s.includes(\"0x\")?parseInt(s,16):(s=s.includes(\":\")?s.split(\":\")[1]:s,isNaN(Number(s))?s:Number(s))}const vt={},o=s=>vt[s],k=(s,t)=>{vt[s]=t};var fe=Object.defineProperty,me=(s,t,e)=>t in s?fe(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,b=(s,t,e)=>me(s,typeof t!=\"symbol\"?t+\"\":t,e);class ve{constructor(t){b(this,\"name\",\"polkadot\"),b(this,\"client\"),b(this,\"httpProviders\"),b(this,\"events\"),b(this,\"namespace\"),b(this,\"chainId\"),this.namespace=t.namespace,this.events=o(\"events\"),this.client=o(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const r=P(e);t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,o(\"disableProviderPing\")))}}var ge=Object.defineProperty,Pe=Object.defineProperties,we=Object.getOwnPropertyDescriptors,gt=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,W=(s,t,e)=>t in s?ge(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Pt=(s,t)=>{for(var e in t||(t={}))ye.call(t,e)&&W(s,e,t[e]);if(gt)for(var e of gt(t))be.call(t,e)&&W(s,e,t[e]);return s},wt=(s,t)=>Pe(s,we(t)),I=(s,t,e)=>W(s,typeof t!=\"symbol\"?t+\"\":t,e);class Ie{constructor(t){I(this,\"name\",\"eip155\"),I(this,\"client\"),I(this,\"chainId\"),I(this,\"namespace\"),I(this,\"httpProviders\"),I(this,\"events\"),this.namespace=t.namespace,this.events=o(\"events\"),this.client=o(\"client\"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case\"eth_requestAccounts\":return this.getAccounts();case\"eth_accounts\":return this.getAccounts();case\"wallet_switchEthereumChain\":return await this.handleSwitchChain(t);case\"eth_chainId\":return parseInt(this.getDefaultChain());case\"wallet_getCapabilities\":return await this.getCapabilities(t);case\"wallet_getCallsStatus\":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(parseInt(t),e),this.chainId=parseInt(t),this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}createHttpProvider(t,e){const i=e||p(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__.HttpConnection(i,o(\"disableProviderPing\")))}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const r=parseInt(P(e));t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}getHttpProvider(){const t=this.chainId,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}async handleSwitchChain(t){var e,i;let r=t.request.params?(e=t.request.params[0])==null?void 0:e.chainId:\"0x0\";r=r.startsWith(\"0x\")?r:`0x${r}`;const a=parseInt(r,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes(\"wallet_switchEthereumChain\"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:r}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var e,i,r;const a=(i=(e=t.request)==null?void 0:e.params)==null?void 0:i[0];if(!a)throw new Error(\"Missing address parameter in `wallet_getCapabilities` request\");const n=this.client.session.get(t.topic),c=((r=n?.sessionProperties)==null?void 0:r.capabilities)||{};if(c!=null&&c[a])return c?.[a];const h=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:wt(Pt({},n.sessionProperties||{}),{capabilities:wt(Pt({},c||{}),{[a]:h})})})}catch(v){console.warn(\"Failed to update session with capabilities\",v)}return h}async getCallStatus(t){var e,i;const r=this.client.session.get(t.topic),a=(e=r.sessionProperties)==null?void 0:e.bundler_name;if(a){const c=this.getBundlerUrl(t.chainId,a);try{return await this.getUserOperationReceipt(c,t)}catch(h){console.warn(\"Failed to fetch call status from bundler\",h,c)}}const n=(i=r.sessionProperties)==null?void 0:i.bundler_url;if(n)try{return await this.getUserOperationReceipt(n,t)}catch(c){console.warn(\"Failed to fetch call status from custom bundler\",c,n)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error(\"Fetching call status not approved by the wallet.\")}async getUserOperationReceipt(t,e){var i;const r=new URL(t),a=await fetch(r,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"eth_getUserOperationReceipt\",[(i=e.request.params)==null?void 0:i[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(t,e){return`${qt}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${e}`}}var $e=Object.defineProperty,Oe=(s,t,e)=>t in s?$e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,$=(s,t,e)=>Oe(s,typeof t!=\"symbol\"?t+\"\":t,e);class Ae{constructor(t){$(this,\"name\",\"solana\"),$(this,\"client\"),$(this,\"httpProviders\"),$(this,\"events\"),$(this,\"namespace\"),$(this,\"chainId\"),this.namespace=t.namespace,this.events=o(\"events\"),this.client=o(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const r=P(e);t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,o(\"disableProviderPing\")))}}var He=Object.defineProperty,Ee=(s,t,e)=>t in s?He(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,O=(s,t,e)=>Ee(s,typeof t!=\"symbol\"?t+\"\":t,e);class Ce{constructor(t){O(this,\"name\",\"cosmos\"),O(this,\"client\"),O(this,\"httpProviders\"),O(this,\"events\"),O(this,\"namespace\"),O(this,\"chainId\"),this.namespace=t.namespace,this.events=o(\"events\"),this.client=o(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const r=P(e);t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,o(\"disableProviderPing\")))}}var Ne=Object.defineProperty,Se=(s,t,e)=>t in s?Ne(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,A=(s,t,e)=>Se(s,typeof t!=\"symbol\"?t+\"\":t,e);class De{constructor(t){A(this,\"name\",\"algorand\"),A(this,\"client\"),A(this,\"httpProviders\"),A(this,\"events\"),A(this,\"namespace\"),A(this,\"chainId\"),this.namespace=t.namespace,this.events=o(\"events\"),this.client=o(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(!this.httpProviders[t]){const i=e||p(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;t[e]=this.createHttpProvider(e,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);return typeof i>\"u\"?void 0:new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,o(\"disableProviderPing\")))}}var qe=Object.defineProperty,je=(s,t,e)=>t in s?qe(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,H=(s,t,e)=>je(s,typeof t!=\"symbol\"?t+\"\":t,e);class Re{constructor(t){H(this,\"name\",\"cip34\"),H(this,\"client\"),H(this,\"httpProviders\"),H(this,\"events\"),H(this,\"namespace\"),H(this,\"chainId\"),this.namespace=t.namespace,this.events=o(\"events\"),this.client=o(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{const i=this.getCardanoRPCUrl(e),r=P(e);t[r]=this.createHttpProvider(r,i)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}getCardanoRPCUrl(t){const e=this.namespace.rpcMap;if(e)return e[t]}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||this.getCardanoRPCUrl(t);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,o(\"disableProviderPing\")))}}var _e=Object.defineProperty,Ue=(s,t,e)=>t in s?_e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,E=(s,t,e)=>Ue(s,typeof t!=\"symbol\"?t+\"\":t,e);class Fe{constructor(t){E(this,\"name\",\"elrond\"),E(this,\"client\"),E(this,\"httpProviders\"),E(this,\"events\"),E(this,\"namespace\"),E(this,\"chainId\"),this.namespace=t.namespace,this.events=o(\"events\"),this.client=o(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const r=P(e);t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,o(\"disableProviderPing\")))}}var Le=Object.defineProperty,xe=(s,t,e)=>t in s?Le(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,C=(s,t,e)=>xe(s,typeof t!=\"symbol\"?t+\"\":t,e);class Me{constructor(t){C(this,\"name\",\"multiversx\"),C(this,\"client\"),C(this,\"httpProviders\"),C(this,\"events\"),C(this,\"namespace\"),C(this,\"chainId\"),this.namespace=t.namespace,this.events=o(\"events\"),this.client=o(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const r=P(e);t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,o(\"disableProviderPing\")))}}var Be=Object.defineProperty,Ge=(s,t,e)=>t in s?Be(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,N=(s,t,e)=>Ge(s,typeof t!=\"symbol\"?t+\"\":t,e);class Je{constructor(t){N(this,\"name\",\"near\"),N(this,\"client\"),N(this,\"httpProviders\"),N(this,\"events\"),N(this,\"namespace\"),N(this,\"chainId\"),this.namespace=t.namespace,this.events=o(\"events\"),this.client=o(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const i=e||p(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;t[e]=this.createHttpProvider(e,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace);return typeof i>\"u\"?void 0:new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,o(\"disableProviderPing\")))}}var ze=Object.defineProperty,ke=(s,t,e)=>t in s?ze(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,S=(s,t,e)=>ke(s,typeof t!=\"symbol\"?t+\"\":t,e);class We{constructor(t){S(this,\"name\",\"tezos\"),S(this,\"client\"),S(this,\"httpProviders\"),S(this,\"events\"),S(this,\"namespace\"),S(this,\"chainId\"),this.namespace=t.namespace,this.events=o(\"events\"),this.client=o(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const i=e||p(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{t[e]=this.createHttpProvider(e)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace);return typeof i>\"u\"?void 0:new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i))}}var Ke=Object.defineProperty,Ve=(s,t,e)=>t in s?Ke(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,D=(s,t,e)=>Ve(s,typeof t!=\"symbol\"?t+\"\":t,e);class Xe{constructor(t){D(this,\"name\",w),D(this,\"client\"),D(this,\"httpProviders\"),D(this,\"events\"),D(this,\"namespace\"),D(this,\"chainId\"),this.namespace=t.namespace,this.events=o(\"events\"),this.client=o(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error(\"ChainId not found\");return t.split(\":\")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(\":\")[1]===this.chainId.toString()).map(e=>e.split(\":\")[2]))]:[]}createHttpProviders(){var t,e;const i={};return(e=(t=this.namespace)==null?void 0:t.accounts)==null||e.forEach(r=>{const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(r);i[`${a.namespace}:${a.reference}`]=this.createHttpProvider(r)}),i}getHttpProvider(t){const e=this.httpProviders[t];if(typeof e>\"u\")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"](i,o(\"disableProviderPing\")))}}var Ye=Object.defineProperty,Qe=Object.defineProperties,Ze=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,ts=Object.prototype.propertyIsEnumerable,K=(s,t,e)=>t in s?Ye(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,L=(s,t)=>{for(var e in t||(t={}))Te.call(t,e)&&K(s,e,t[e]);if(yt)for(var e of yt(t))ts.call(t,e)&&K(s,e,t[e]);return s},V=(s,t)=>Qe(s,Ze(t)),u=(s,t,e)=>K(s,typeof t!=\"symbol\"?t+\"\":t,e);class x{constructor(t){u(this,\"client\"),u(this,\"namespaces\"),u(this,\"optionalNamespaces\"),u(this,\"sessionProperties\"),u(this,\"scopedProperties\"),u(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_4___default())),u(this,\"rpcProviders\",{}),u(this,\"session\"),u(this,\"providerOpts\"),u(this,\"logger\"),u(this,\"uri\"),u(this,\"disableProviderPing\",!1),this.providerOpts=t,this.logger=typeof t?.logger<\"u\"&&typeof t?.logger!=\"string\"?t.logger:(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({level:t?.logger||tt})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const e=new x(t);return await e.initialize(),e}async request(t,e,i){const[r,a]=this.validateChain(e);if(!this.session)throw new Error(\"Please call connect() before request()\");return await this.getProvider(r).request({request:L({},t),chainId:`${r}:${a}`,topic:this.session.topic,expiry:i})}sendAsync(t,e,i,r){const a=new Date().getTime();this.request(t,i,r).then(n=>e(null,(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(a,n))).catch(n=>e(n,void 0))}async enable(){if(!this.client)throw new Error(\"Sign Client not initialized\");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error(\"Please call connect() before enable()\");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error(\"Sign Client not initialized\");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,e){if(!this.client)throw new Error(\"Sign Client not initialized\");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:i,response:r}=await this.client.authenticate(t,e);i&&(this.uri=i,this.events.emit(\"display_uri\",i));const a=await r();if(this.session=a.session,this.session){const n=mt(this.session.namespaces);this.namespaces=J(this.namespaces,n),await this.persist(\"namespaces\",this.namespaces),this.onConnect()}return a}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}removeListener(t,e){this.events.removeListener(t,e)}off(t,e){this.events.off(t,e)}get isWalletConnect(){return!0}async pair(t){const{uri:e,approval:i}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});e&&(this.uri=e,this.events.emit(\"display_uri\",e));const r=await i();this.session=r;const a=mt(r.namespaces);return this.namespaces=J(this.namespaces,a),await this.persist(\"namespaces\",this.namespaces),await this.persist(\"optionalNamespaces\",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,e){try{if(!this.session)return;const[i,r]=this.validateChain(t),a=this.getProvider(i);a.name===w?a.setDefaultChain(`${i}:${r}`,e):a.setDefaultChain(r,e)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(t={}){this.logger.info(\"Cleaning up inactive pairings...\");const e=this.client.pairing.getAll();if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(e)){for(const i of e)t.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${e.length}`)}}abortPairingAttempt(){this.logger.warn(\"abortPairingAttempt is deprecated. This is now a no-op.\")}async checkStorage(){this.namespaces=await this.getFromStore(\"namespaces\")||{},this.optionalNamespaces=await this.getFromStore(\"optionalNamespaces\")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace(\"Initialized\"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,e;if(this.client=this.providerOpts.client||await _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_6__[\"default\"].init({core:this.providerOpts.core,logger:this.providerOpts.logger||tt,relayUrl:this.providerOpts.relayUrl||Nt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error(\"Failed to get session\",i),new Error(`The provided session: ${(e=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:e.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace(\"SignClient Initialized\")}createProviders(){if(!this.client)throw new Error(\"Sign Client not initialized\");if(!this.session)throw new Error(\"Session not initialized. Please call connect() before enable()\");const t=[...new Set(Object.keys(this.session.namespaces).map(e=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(e)))];k(\"client\",this.client),k(\"events\",this.events),k(\"disableProviderPing\",this.disableProviderPing),t.forEach(e=>{if(!this.session)return;const i=ue(e,this.session),r=lt(i),a=J(this.namespaces,this.optionalNamespaces),n=V(L({},a[e]),{accounts:i,chains:r});switch(e){case\"eip155\":this.rpcProviders[e]=new Ie({namespace:n});break;case\"algorand\":this.rpcProviders[e]=new De({namespace:n});break;case\"solana\":this.rpcProviders[e]=new Ae({namespace:n});break;case\"cosmos\":this.rpcProviders[e]=new Ce({namespace:n});break;case\"polkadot\":this.rpcProviders[e]=new ve({namespace:n});break;case\"cip34\":this.rpcProviders[e]=new Re({namespace:n});break;case\"elrond\":this.rpcProviders[e]=new Fe({namespace:n});break;case\"multiversx\":this.rpcProviders[e]=new Me({namespace:n});break;case\"near\":this.rpcProviders[e]=new Je({namespace:n});break;case\"tezos\":this.rpcProviders[e]=new We({namespace:n});break;default:this.rpcProviders[w]?this.rpcProviders[w].updateNamespace(n):this.rpcProviders[w]=new Xe({namespace:n})}})}registerEventListeners(){if(typeof this.client>\"u\")throw new Error(\"Sign Client is not initialized\");this.client.on(\"session_ping\",t=>{var e;const{topic:i}=t;i===((e=this.session)==null?void 0:e.topic)&&this.events.emit(\"session_ping\",t)}),this.client.on(\"session_event\",t=>{var e;const{params:i,topic:r}=t;if(r!==((e=this.session)==null?void 0:e.topic))return;const{event:a}=i;if(a.name===\"accountsChanged\"){const n=a.data;n&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(n)&&this.events.emit(\"accountsChanged\",n.map(le))}else if(a.name===\"chainChanged\"){const n=i.chainId,c=i.event.data,h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(n),v=z(n)!==z(c)?`${h}:${z(c)}`:n;this.onChainChanged(v)}else this.events.emit(a.name,a.data);this.events.emit(\"session_event\",t)}),this.client.on(\"session_update\",({topic:t,params:e})=>{var i,r;if(t!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:a}=e,n=(r=this.client)==null?void 0:r.session.get(t);this.session=V(L({},n),{namespaces:a}),this.onSessionUpdate(),this.events.emit(\"session_update\",{topic:t,params:e})}),this.client.on(\"session_delete\",async t=>{var e;t.topic===((e=this.session)==null?void 0:e.topic)&&(await this.cleanup(),this.events.emit(\"session_delete\",t),this.events.emit(\"disconnect\",V(L({},(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),{data:t.topic})))}),this.on(d.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[w]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var e;this.getProvider(t).updateNamespace((e=this.session)==null?void 0:e.namespaces[t])})}setNamespaces(t){const{namespaces:e,optionalNamespaces:i,sessionProperties:r,scopedProperties:a}=t;e&&Object.keys(e).length&&(this.namespaces=e),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=r,this.scopedProperties=a}validateChain(t){const[e,i]=t?.split(\":\")||[\"\",\"\"];if(!this.namespaces||!Object.keys(this.namespaces).length)return[e,i];if(e&&!Object.keys(this.namespaces||{}).map(n=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(n)).includes(e))throw new Error(`Namespace '${e}' is not configured. Please call connect() first with namespace config.`);if(e&&i)return[e,i];const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(Object.keys(this.namespaces)[0]),a=this.rpcProviders[r].getDefaultChain();return[r,a]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged(t,e=!1){if(!this.namespaces)return;const[i,r]=this.validateChain(t);r&&(e||this.getProvider(i).setDefaultChain(r),this.namespaces[i]?this.namespaces[i].defaultChain=r:this.namespaces[`${i}:${r}`]?this.namespaces[`${i}:${r}`].defaultChain=r:this.namespaces[`${i}:${r}`]={defaultChain:r},this.events.emit(\"chainChanged\",r),await this.persist(\"namespaces\",this.namespaces))}onConnect(){this.createProviders(),this.events.emit(\"connect\",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore(\"namespaces\"),await this.deleteFromStore(\"optionalNamespaces\"),await this.deleteFromStore(\"sessionProperties\"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,e){var i;const r=((i=this.session)==null?void 0:i.topic)||\"\";await this.client.core.storage.setItem(`${_}/${t}${r}`,e)}async getFromStore(t){var e;const i=((e=this.session)==null?void 0:e.topic)||\"\";return await this.client.core.storage.getItem(`${_}/${t}${i}`)}async deleteFromStore(t){var e;const i=((e=this.session)==null?void 0:e.topic)||\"\";await this.client.core.storage.removeItem(`${_}/${t}${i}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const e=await this.client.core.storage.getKeys();for(const i of e)i.startsWith(_)&&await this.client.core.storage.removeItem(i)}catch(e){this.logger.warn(\"Failed to cleanup storage\",e)}}}const es=x;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFtaUIseUZBQXlGLEdBQUcsS0FBSyxHQUFHLDREQUE0RCxHQUFHLFlBQVksK0NBQStDLGVBQWUsY0FBYyx5REFBeUQsY0FBYyx1REFBdUQsZUFBZSxpQkFBaUIsb0lBQW9JLGlEQUFpRCx5RUFBeUUsd0JBQXdCLGlCQUFpQixpQ0FBaUMseURBQXlELHVCQUF1Qix5QkFBeUIsdURBQXVELCtEQUErRCx3Q0FBd0MsRUFBRSx1QkFBdUIseUJBQXlCLDBCQUEwQixTQUFTLGVBQWUsb0NBQW9DLGVBQWUsa0dBQWtHLGVBQWUsaUdBQWlHLHNnQkFBc2dCLGlCQUFpQiwrQkFBK0IscUNBQXFDLHFCQUFxQixvQkFBb0IsaUJBQWlCLDRCQUE0QixxQkFBcUIsNEJBQTRCLFdBQVcsWUFBWSxXQUFXLHlCQUF5QixpR0FBaUcsa0RBQWtELHdCQUF3QixxQ0FBcUMsaUNBQWlDLHFCQUFxQixnQkFBZ0IsV0FBVyx5Q0FBeUMsU0FBUyxxQkFBcUIsZ0JBQWdCLFdBQVcsMENBQTBDLFNBQVMsNkRBQTZELFNBQVMsNERBQTRELFdBQVcsWUFBWSxXQUFXLHlCQUF5QixTQUFTLDRHQUE0RywwQkFBMEIsa0VBQWtFLGlDQUFpQyx1Q0FBdUMsNkJBQTZCLFlBQVksRUFBRSxpQ0FBaUMsc0JBQXNCLHNCQUFzQixZQUFZLEVBQUUsaUNBQWlDLHVCQUF1QiwwQkFBMEIsbUdBQW1HLDhCQUE4QixnREFBZ0QsaUNBQWlDLFNBQVMsd0JBQXdCLHFDQUFxQyxZQUFZLFdBQVcsS0FBSyxvREFBb0QsK0NBQStDLGVBQWUsY0FBYyx5TEFBeUwsa0JBQWtCLGlCQUFpQix3QkFBd0IscUJBQXFCLG9CQUFvQixnRUFBZ0UseUJBQXlCLHdDQUF3QyxnQkFBZ0IsU0FBUyxXQUFXLHdFQUF3RSxnQkFBZ0IsRUFBRSxlQUFlLGFBQWEs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aUMsc0hBQXNILEVBQUUsR0FBRyxFQUFFLHNCQUFzQixFQUFFLEdBQUcsRUFBRSxxQ0FBcUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxlQUFlLHNGQUFzRixZQUFZLG1EQUFtRCxxQkFBcUIsRUFBRSxnQkFBZ0IscVJBQXFSLGtCQUFrQiw4QkFBOEIsbUJBQW1CLE1BQU0sb0RBQW9ELDBDQUEwQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsS0FBSyxzQkFBc0IsTUFBTSxvREFBb0QsaURBQWlELEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLHlCQUF5QixNQUFNLG9EQUFvRCw2Q0FBNkMsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsdUJBQXVCLE1BQU0sSUFBSSw0REFBNEQsaURBQWlELCtFQUErRSxTQUFTLGtEQUFrRCxXQUF3RDtBQUN4bHlDIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBidCBmcm9tXCJAd2FsbGV0Y29ubmVjdC9zaWduLWNsaWVudFwiO2ltcG9ydHtpc1ZhbGlkT2JqZWN0IGFzIEl0LGlzQ2FpcE5hbWVzcGFjZSBhcyBZLHBhcnNlTmFtZXNwYWNlS2V5IGFzIHEsbWVyZ2VBcnJheXMgYXMgTSxwYXJzZUNoYWluSWQgYXMgUSxnZXRTZGtFcnJvciBhcyBaLGlzVmFsaWRBcnJheSBhcyBUfWZyb21cIkB3YWxsZXRjb25uZWN0L3V0aWxzXCI7aW1wb3J0e3Bpbm8gYXMgJHQsZ2V0RGVmYXVsdExvZ2dlck9wdGlvbnMgYXMgT3R9ZnJvbVwiQHdhbGxldGNvbm5lY3QvbG9nZ2VyXCI7aW1wb3J0IG0se0h0dHBDb25uZWN0aW9uIGFzIEF0fWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtaHR0cC1jb25uZWN0aW9uXCI7aW1wb3J0e0pzb25ScGNQcm92aWRlciBhcyBsfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtcHJvdmlkZXJcIjtpbXBvcnR7Zm9ybWF0SnNvblJwY1JlcXVlc3QgYXMgSHQsZm9ybWF0SnNvblJwY1Jlc3VsdCBhcyBFdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCI7aW1wb3J0IEN0IGZyb21cImV2ZW50c1wiO2NvbnN0IHR0PVwiZXJyb3JcIixOdD1cIndzczovL3JlbGF5LndhbGxldGNvbm5lY3Qub3JnXCIsU3Q9XCJ3Y1wiLER0PVwidW5pdmVyc2FsX3Byb3ZpZGVyXCIsXz1gJHtTdH1AMjoke0R0fTpgLGV0PVwiaHR0cHM6Ly9ycGMud2FsbGV0Y29ubmVjdC5vcmcvdjEvXCIsdz1cImdlbmVyaWNcIixxdD1gJHtldH1idW5kbGVyYCxkPXtERUZBVUxUX0NIQUlOX0NIQU5HRUQ6XCJkZWZhdWx0X2NoYWluX2NoYW5nZWRcIn07ZnVuY3Rpb24ganQoKXt9ZnVuY3Rpb24gQihzKXtyZXR1cm4gcz09bnVsbHx8dHlwZW9mIHMhPVwib2JqZWN0XCImJnR5cGVvZiBzIT1cImZ1bmN0aW9uXCJ9ZnVuY3Rpb24gRyhzKXtyZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KHMpJiYhKHMgaW5zdGFuY2VvZiBEYXRhVmlldyl9ZnVuY3Rpb24gUnQocyl7aWYoQihzKSlyZXR1cm4gcztpZihBcnJheS5pc0FycmF5KHMpfHxHKHMpfHxzIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjxcInVcIiYmcyBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKXJldHVybiBzLnNsaWNlKDApO2NvbnN0IHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKHMpLGU9dC5jb25zdHJ1Y3RvcjtpZihzIGluc3RhbmNlb2YgRGF0ZXx8cyBpbnN0YW5jZW9mIE1hcHx8cyBpbnN0YW5jZW9mIFNldClyZXR1cm4gbmV3IGUocyk7aWYocyBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3QgaT1uZXcgZShzKTtyZXR1cm4gaS5sYXN0SW5kZXg9cy5sYXN0SW5kZXgsaX1pZihzIGluc3RhbmNlb2YgRGF0YVZpZXcpcmV0dXJuIG5ldyBlKHMuYnVmZmVyLnNsaWNlKDApKTtpZihzIGluc3RhbmNlb2YgRXJyb3Ipe2NvbnN0IGk9bmV3IGUocy5tZXNzYWdlKTtyZXR1cm4gaS5zdGFjaz1zLnN0YWNrLGkubmFtZT1zLm5hbWUsaS5jYXVzZT1zLmNhdXNlLGl9aWYodHlwZW9mIEZpbGU8XCJ1XCImJnMgaW5zdGFuY2VvZiBGaWxlKXJldHVybiBuZXcgZShbc10scy5uYW1lLHt0eXBlOnMudHlwZSxsYXN0TW9kaWZpZWQ6cy5sYXN0TW9kaWZpZWR9KTtpZih0eXBlb2Ygcz09XCJvYmplY3RcIil7Y29uc3QgaT1PYmplY3QuY3JlYXRlKHQpO3JldHVybiBPYmplY3QuYXNzaWduKGkscyl9cmV0dXJuIHN9ZnVuY3Rpb24gc3Qocyl7cmV0dXJuIHR5cGVvZiBzPT1cIm9iamVjdFwiJiZzIT09bnVsbH1mdW5jdGlvbiBpdChzKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKS5maWx0ZXIodD0+T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsdCkpfWZ1bmN0aW9uIHJ0KHMpe3JldHVybiBzPT1udWxsP3M9PT12b2lkIDA/XCJbb2JqZWN0IFVuZGVmaW5lZF1cIjpcIltvYmplY3QgTnVsbF1cIjpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocyl9Y29uc3QgX3Q9XCJbb2JqZWN0IFJlZ0V4cF1cIixudD1cIltvYmplY3QgU3RyaW5nXVwiLGF0PVwiW29iamVjdCBOdW1iZXJdXCIsY3Q9XCJbb2JqZWN0IEJvb2xlYW5dXCIsb3Q9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixVdD1cIltvYmplY3QgU3ltYm9sXVwiLEZ0PVwiW29iamVjdCBEYXRlXVwiLEx0PVwiW29iamVjdCBNYXBdXCIseHQ9XCJbb2JqZWN0IFNldF1cIixNdD1cIltvYmplY3QgQXJyYXldXCIsQnQ9XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiLEd0PVwiW29iamVjdCBPYmplY3RdXCIsSnQ9XCJbb2JqZWN0IERhdGFWaWV3XVwiLHp0PVwiW29iamVjdCBVaW50OEFycmF5XVwiLGt0PVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIixXdD1cIltvYmplY3QgVWludDE2QXJyYXldXCIsS3Q9XCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiLFZ0PVwiW29iamVjdCBJbnQ4QXJyYXldXCIsWHQ9XCJbb2JqZWN0IEludDE2QXJyYXldXCIsWXQ9XCJbb2JqZWN0IEludDMyQXJyYXldXCIsUXQ9XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixadD1cIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiO2Z1bmN0aW9uIFR0KHMsdCl7cmV0dXJuIHkocyx2b2lkIDAscyxuZXcgTWFwLHQpfWZ1bmN0aW9uIHkocyx0LGUsaT1uZXcgTWFwLHI9dm9pZCAwKXtjb25zdCBhPXI/LihzLHQsZSxpKTtpZihhIT1udWxsKXJldHVybiBhO2lmKEIocykpcmV0dXJuIHM7aWYoaS5oYXMocykpcmV0dXJuIGkuZ2V0KHMpO2lmKEFycmF5LmlzQXJyYXkocykpe2NvbnN0IG49bmV3IEFycmF5KHMubGVuZ3RoKTtpLnNldChzLG4pO2ZvcihsZXQgYz0wO2M8cy5sZW5ndGg7YysrKW5bY109eShzW2NdLGMsZSxpLHIpO3JldHVybiBPYmplY3QuaGFzT3duKHMsXCJpbmRleFwiKSYmKG4uaW5kZXg9cy5pbmRleCksT2JqZWN0Lmhhc093bihzLFwiaW5wdXRcIikmJihuLmlucHV0PXMuaW5wdXQpLG59aWYocyBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKHMuZ2V0VGltZSgpKTtpZihzIGluc3RhbmNlb2YgUmVnRXhwKXtjb25zdCBuPW5ldyBSZWdFeHAocy5zb3VyY2Uscy5mbGFncyk7cmV0dXJuIG4ubGFzdEluZGV4PXMubGFzdEluZGV4LG59aWYocyBpbnN0YW5jZW9mIE1hcCl7Y29uc3Qgbj1uZXcgTWFwO2kuc2V0KHMsbik7Zm9yKGNvbnN0W2MsaF1vZiBzKW4uc2V0KGMseShoLGMsZSxpLHIpKTtyZXR1cm4gbn1pZihzIGluc3RhbmNlb2YgU2V0KXtjb25zdCBuPW5ldyBTZXQ7aS5zZXQocyxuKTtmb3IoY29uc3QgYyBvZiBzKW4uYWRkKHkoYyx2b2lkIDAsZSxpLHIpKTtyZXR1cm4gbn1pZih0eXBlb2YgQnVmZmVyPFwidVwiJiZCdWZmZXIuaXNCdWZmZXIocykpcmV0dXJuIHMuc3ViYXJyYXkoKTtpZihHKHMpKXtjb25zdCBuPW5ldyhPYmplY3QuZ2V0UHJvdG90eXBlT2YocykpLmNvbnN0cnVjdG9yKHMubGVuZ3RoKTtpLnNldChzLG4pO2ZvcihsZXQgYz0wO2M8cy5sZW5ndGg7YysrKW5bY109eShzW2NdLGMsZSxpLHIpO3JldHVybiBufWlmKHMgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPFwidVwiJiZzIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpcmV0dXJuIHMuc2xpY2UoMCk7aWYocyBpbnN0YW5jZW9mIERhdGFWaWV3KXtjb25zdCBuPW5ldyBEYXRhVmlldyhzLmJ1ZmZlci5zbGljZSgwKSxzLmJ5dGVPZmZzZXQscy5ieXRlTGVuZ3RoKTtyZXR1cm4gaS5zZXQocyxuKSxnKG4scyxlLGksciksbn1pZih0eXBlb2YgRmlsZTxcInVcIiYmcyBpbnN0YW5jZW9mIEZpbGUpe2NvbnN0IG49bmV3IEZpbGUoW3NdLHMubmFtZSx7dHlwZTpzLnR5cGV9KTtyZXR1cm4gaS5zZXQocyxuKSxnKG4scyxlLGksciksbn1pZihzIGluc3RhbmNlb2YgQmxvYil7Y29uc3Qgbj1uZXcgQmxvYihbc10se3R5cGU6cy50eXBlfSk7cmV0dXJuIGkuc2V0KHMsbiksZyhuLHMsZSxpLHIpLG59aWYocyBpbnN0YW5jZW9mIEVycm9yKXtjb25zdCBuPW5ldyBzLmNvbnN0cnVjdG9yO3JldHVybiBpLnNldChzLG4pLG4ubWVzc2FnZT1zLm1lc3NhZ2Usbi5uYW1lPXMubmFtZSxuLnN0YWNrPXMuc3RhY2ssbi5jYXVzZT1zLmNhdXNlLGcobixzLGUsaSxyKSxufWlmKHR5cGVvZiBzPT1cIm9iamVjdFwiJiZ0ZShzKSl7Y29uc3Qgbj1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihzKSk7cmV0dXJuIGkuc2V0KHMsbiksZyhuLHMsZSxpLHIpLG59cmV0dXJuIHN9ZnVuY3Rpb24gZyhzLHQsZT1zLGkscil7Y29uc3QgYT1bLi4uT2JqZWN0LmtleXModCksLi4uaXQodCldO2ZvcihsZXQgbj0wO248YS5sZW5ndGg7bisrKXtjb25zdCBjPWFbbl0saD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMsYyk7KGg9PW51bGx8fGgud3JpdGFibGUpJiYoc1tjXT15KHRbY10sYyxlLGkscikpfX1mdW5jdGlvbiB0ZShzKXtzd2l0Y2gocnQocykpe2Nhc2Ugb3Q6Y2FzZSBNdDpjYXNlIEJ0OmNhc2UgSnQ6Y2FzZSBjdDpjYXNlIEZ0OmNhc2UgUXQ6Y2FzZSBadDpjYXNlIFZ0OmNhc2UgWHQ6Y2FzZSBZdDpjYXNlIEx0OmNhc2UgYXQ6Y2FzZSBHdDpjYXNlIF90OmNhc2UgeHQ6Y2FzZSBudDpjYXNlIFV0OmNhc2UgenQ6Y2FzZSBrdDpjYXNlIFd0OmNhc2UgS3Q6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gZWUocyx0KXtyZXR1cm4gVHQocywoZSxpLHIsYSk9Pntjb25zdCBuPXQ/LihlLGkscixhKTtpZihuIT1udWxsKXJldHVybiBuO2lmKHR5cGVvZiBzPT1cIm9iamVjdFwiKXN3aXRjaChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocykpe2Nhc2UgYXQ6Y2FzZSBudDpjYXNlIGN0Ontjb25zdCBjPW5ldyBzLmNvbnN0cnVjdG9yKHM/LnZhbHVlT2YoKSk7cmV0dXJuIGcoYyxzKSxjfWNhc2Ugb3Q6e2NvbnN0IGM9e307cmV0dXJuIGcoYyxzKSxjLmxlbmd0aD1zLmxlbmd0aCxjW1N5bWJvbC5pdGVyYXRvcl09c1tTeW1ib2wuaXRlcmF0b3JdLGN9ZGVmYXVsdDpyZXR1cm59fSl9ZnVuY3Rpb24gaHQocyl7cmV0dXJuIGVlKHMpfWZ1bmN0aW9uIHB0KHMpe3JldHVybiBzIT09bnVsbCYmdHlwZW9mIHM9PVwib2JqZWN0XCImJnJ0KHMpPT09XCJbb2JqZWN0IEFyZ3VtZW50c11cIn1mdW5jdGlvbiBzZShzKXtyZXR1cm4gRyhzKX1mdW5jdGlvbiBpZShzKXtpZih0eXBlb2YgcyE9XCJvYmplY3RcInx8cz09bnVsbClyZXR1cm4hMTtpZihPYmplY3QuZ2V0UHJvdG90eXBlT2Yocyk9PT1udWxsKXJldHVybiEwO2lmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzKSE9PVwiW29iamVjdCBPYmplY3RdXCIpe2NvbnN0IGU9c1tTeW1ib2wudG9TdHJpbmdUYWddO3JldHVybiBlPT1udWxsfHwhT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzLFN5bWJvbC50b1N0cmluZ1RhZyk/LndyaXRhYmxlPyExOnMudG9TdHJpbmcoKT09PWBbb2JqZWN0ICR7ZX1dYH1sZXQgdD1zO2Zvcig7T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpIT09bnVsbDspdD1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihzKT09PXR9ZnVuY3Rpb24gcmUocywuLi50KXtjb25zdCBlPXQuc2xpY2UoMCwtMSksaT10W3QubGVuZ3RoLTFdO2xldCByPXM7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe2NvbnN0IG49ZVthXTtyPVUocixuLGksbmV3IE1hcCl9cmV0dXJuIHJ9ZnVuY3Rpb24gVShzLHQsZSxpKXtpZihCKHMpJiYocz1PYmplY3QocykpLHQ9PW51bGx8fHR5cGVvZiB0IT1cIm9iamVjdFwiKXJldHVybiBzO2lmKGkuaGFzKHQpKXJldHVybiBSdChpLmdldCh0KSk7aWYoaS5zZXQodCxzKSxBcnJheS5pc0FycmF5KHQpKXt0PXQuc2xpY2UoKTtmb3IobGV0IGE9MDthPHQubGVuZ3RoO2ErKyl0W2FdPXRbYV0/P3ZvaWQgMH1jb25zdCByPVsuLi5PYmplY3Qua2V5cyh0KSwuLi5pdCh0KV07Zm9yKGxldCBhPTA7YTxyLmxlbmd0aDthKyspe2NvbnN0IG49clthXTtsZXQgYz10W25dLGg9c1tuXTtpZihwdChjKSYmKGM9ey4uLmN9KSxwdChoKSYmKGg9ey4uLmh9KSx0eXBlb2YgQnVmZmVyPFwidVwiJiZCdWZmZXIuaXNCdWZmZXIoYykmJihjPWh0KGMpKSxBcnJheS5pc0FycmF5KGMpKWlmKHR5cGVvZiBoPT1cIm9iamVjdFwiJiZoIT1udWxsKXtjb25zdCBqPVtdLFI9UmVmbGVjdC5vd25LZXlzKGgpO2ZvcihsZXQgZj0wO2Y8Ui5sZW5ndGg7ZisrKXtjb25zdCBYPVJbZl07altYXT1oW1hdfWg9an1lbHNlIGg9W107Y29uc3Qgdj1lKGgsYyxuLHMsdCxpKTt2IT1udWxsP3Nbbl09djpBcnJheS5pc0FycmF5KGMpfHxzdChoKSYmc3QoYyk/c1tuXT1VKGgsYyxlLGkpOmg9PW51bGwmJmllKGMpP3Nbbl09VSh7fSxjLGUsaSk6aD09bnVsbCYmc2UoYyk/c1tuXT1odChjKTooaD09PXZvaWQgMHx8YyE9PXZvaWQgMCkmJihzW25dPWMpfXJldHVybiBzfWZ1bmN0aW9uIG5lKHMsLi4udCl7cmV0dXJuIHJlKHMsLi4udCxqdCl9dmFyIGFlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxjZT1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxvZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxkdD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGhlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscGU9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSx1dD0ocyx0LGUpPT50IGluIHM/YWUocyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6c1t0XT1lLEY9KHMsdCk9Pntmb3IodmFyIGUgaW4gdHx8KHQ9e30pKWhlLmNhbGwodCxlKSYmdXQocyxlLHRbZV0pO2lmKGR0KWZvcih2YXIgZSBvZiBkdCh0KSlwZS5jYWxsKHQsZSkmJnV0KHMsZSx0W2VdKTtyZXR1cm4gc30sZGU9KHMsdCk9PmNlKHMsb2UodCkpO2Z1bmN0aW9uIHAocyx0LGUpe3ZhciBpO2NvbnN0IHI9UShzKTtyZXR1cm4oKGk9dC5ycGNNYXApPT1udWxsP3ZvaWQgMDppW3IucmVmZXJlbmNlXSl8fGAke2V0fT9jaGFpbklkPSR7ci5uYW1lc3BhY2V9OiR7ci5yZWZlcmVuY2V9JnByb2plY3RJZD0ke2V9YH1mdW5jdGlvbiBQKHMpe3JldHVybiBzLmluY2x1ZGVzKFwiOlwiKT9zLnNwbGl0KFwiOlwiKVsxXTpzfWZ1bmN0aW9uIGx0KHMpe3JldHVybiBzLm1hcCh0PT5gJHt0LnNwbGl0KFwiOlwiKVswXX06JHt0LnNwbGl0KFwiOlwiKVsxXX1gKX1mdW5jdGlvbiB1ZShzLHQpe2NvbnN0IGU9T2JqZWN0LmtleXModC5uYW1lc3BhY2VzKS5maWx0ZXIocj0+ci5pbmNsdWRlcyhzKSk7aWYoIWUubGVuZ3RoKXJldHVybltdO2NvbnN0IGk9W107cmV0dXJuIGUuZm9yRWFjaChyPT57Y29uc3QgYT10Lm5hbWVzcGFjZXNbcl0uYWNjb3VudHM7aS5wdXNoKC4uLmEpfSksaX1mdW5jdGlvbiBKKHM9e30sdD17fSl7Y29uc3QgZT1mdChzKSxpPWZ0KHQpO3JldHVybiBuZShlLGkpfWZ1bmN0aW9uIGZ0KHMpe3ZhciB0LGUsaSxyO2NvbnN0IGE9e307aWYoIUl0KHMpKXJldHVybiBhO2Zvcihjb25zdFtuLGNdb2YgT2JqZWN0LmVudHJpZXMocykpe2NvbnN0IGg9WShuKT9bbl06Yy5jaGFpbnMsdj1jLm1ldGhvZHN8fFtdLGo9Yy5ldmVudHN8fFtdLFI9Yy5ycGNNYXB8fHt9LGY9cShuKTthW2ZdPWRlKEYoRih7fSxhW2ZdKSxjKSx7Y2hhaW5zOk0oaCwodD1hW2ZdKT09bnVsbD92b2lkIDA6dC5jaGFpbnMpLG1ldGhvZHM6TSh2LChlPWFbZl0pPT1udWxsP3ZvaWQgMDplLm1ldGhvZHMpLGV2ZW50czpNKGosKGk9YVtmXSk9PW51bGw/dm9pZCAwOmkuZXZlbnRzKSxycGNNYXA6RihGKHt9LFIpLChyPWFbZl0pPT1udWxsP3ZvaWQgMDpyLnJwY01hcCl9KX1yZXR1cm4gYX1mdW5jdGlvbiBsZShzKXtyZXR1cm4gcy5pbmNsdWRlcyhcIjpcIik/cy5zcGxpdChcIjpcIilbMl06c31mdW5jdGlvbiBtdChzKXtjb25zdCB0PXt9O2Zvcihjb25zdFtlLGldb2YgT2JqZWN0LmVudHJpZXMocykpe2NvbnN0IHI9aS5tZXRob2RzfHxbXSxhPWkuZXZlbnRzfHxbXSxuPWkuYWNjb3VudHN8fFtdLGM9WShlKT9bZV06aS5jaGFpbnM/aS5jaGFpbnM6bHQoaS5hY2NvdW50cyk7dFtlXT17Y2hhaW5zOmMsbWV0aG9kczpyLGV2ZW50czphLGFjY291bnRzOm59fXJldHVybiB0fWZ1bmN0aW9uIHoocyl7cmV0dXJuIHR5cGVvZiBzPT1cIm51bWJlclwiP3M6cy5pbmNsdWRlcyhcIjB4XCIpP3BhcnNlSW50KHMsMTYpOihzPXMuaW5jbHVkZXMoXCI6XCIpP3Muc3BsaXQoXCI6XCIpWzFdOnMsaXNOYU4oTnVtYmVyKHMpKT9zOk51bWJlcihzKSl9Y29uc3QgdnQ9e30sbz1zPT52dFtzXSxrPShzLHQpPT57dnRbc109dH07dmFyIGZlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxtZT0ocyx0LGUpPT50IGluIHM/ZmUocyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6c1t0XT1lLGI9KHMsdCxlKT0+bWUocyx0eXBlb2YgdCE9XCJzeW1ib2xcIj90K1wiXCI6dCxlKTtjbGFzcyB2ZXtjb25zdHJ1Y3Rvcih0KXtiKHRoaXMsXCJuYW1lXCIsXCJwb2xrYWRvdFwiKSxiKHRoaXMsXCJjbGllbnRcIiksYih0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxiKHRoaXMsXCJldmVudHNcIiksYih0aGlzLFwibmFtZXNwYWNlXCIpLGIodGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9byhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1vKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IHQ9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiB0LnNwbGl0KFwiOlwiKVsxXX1yZXF1ZXN0KHQpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKHQucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QodCk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KHQucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKHQsZSl7dGhpcy5odHRwUHJvdmlkZXJzW3RdfHx0aGlzLnNldEh0dHBQcm92aWRlcih0LGUpLHRoaXMuY2hhaW5JZD10LHRoaXMuZXZlbnRzLmVtaXQoZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3R9YCl9Z2V0QWNjb3VudHMoKXtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiB0P3QuZmlsdGVyKGU9PmUuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcChlPT5lLnNwbGl0KFwiOlwiKVsyXSl8fFtdOltdfWNyZWF0ZUh0dHBQcm92aWRlcnMoKXtjb25zdCB0PXt9O3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuZm9yRWFjaChlPT57dmFyIGk7Y29uc3Qgcj1QKGUpO3Rbcl09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIociwoaT10aGlzLm5hbWVzcGFjZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW2VdKX0pLHR9Z2V0SHR0cFByb3ZpZGVyKCl7Y29uc3QgdD1gJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWAsZT10aGlzLmh0dHBQcm92aWRlcnNbdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHt0fSBub3QgZm91bmRgKTtyZXR1cm4gZX1zZXRIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHQsZSk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1t0XT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPWV8fHAodCx0aGlzLm5hbWVzcGFjZSx0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke3R9YCk7cmV0dXJuIG5ldyBsKG5ldyBtKGksbyhcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX19dmFyIGdlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxQZT1PYmplY3QuZGVmaW5lUHJvcGVydGllcyx3ZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxndD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHllPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksYmU9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxXPShzLHQsZSk9PnQgaW4gcz9nZShzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpzW3RdPWUsUHQ9KHMsdCk9Pntmb3IodmFyIGUgaW4gdHx8KHQ9e30pKXllLmNhbGwodCxlKSYmVyhzLGUsdFtlXSk7aWYoZ3QpZm9yKHZhciBlIG9mIGd0KHQpKWJlLmNhbGwodCxlKSYmVyhzLGUsdFtlXSk7cmV0dXJuIHN9LHd0PShzLHQpPT5QZShzLHdlKHQpKSxJPShzLHQsZSk9Plcocyx0eXBlb2YgdCE9XCJzeW1ib2xcIj90K1wiXCI6dCxlKTtjbGFzcyBJZXtjb25zdHJ1Y3Rvcih0KXtJKHRoaXMsXCJuYW1lXCIsXCJlaXAxNTVcIiksSSh0aGlzLFwiY2xpZW50XCIpLEkodGhpcyxcImNoYWluSWRcIiksSSh0aGlzLFwibmFtZXNwYWNlXCIpLEkodGhpcyxcImh0dHBQcm92aWRlcnNcIiksSSh0aGlzLFwiZXZlbnRzXCIpLHRoaXMubmFtZXNwYWNlPXQubmFtZXNwYWNlLHRoaXMuZXZlbnRzPW8oXCJldmVudHNcIiksdGhpcy5jbGllbnQ9byhcImNsaWVudFwiKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCksdGhpcy5jaGFpbklkPXBhcnNlSW50KHRoaXMuZ2V0RGVmYXVsdENoYWluKCkpfWFzeW5jIHJlcXVlc3QodCl7c3dpdGNoKHQucmVxdWVzdC5tZXRob2Qpe2Nhc2VcImV0aF9yZXF1ZXN0QWNjb3VudHNcIjpyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpO2Nhc2VcImV0aF9hY2NvdW50c1wiOnJldHVybiB0aGlzLmdldEFjY291bnRzKCk7Y2FzZVwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIjpyZXR1cm4gYXdhaXQgdGhpcy5oYW5kbGVTd2l0Y2hDaGFpbih0KTtjYXNlXCJldGhfY2hhaW5JZFwiOnJldHVybiBwYXJzZUludCh0aGlzLmdldERlZmF1bHRDaGFpbigpKTtjYXNlXCJ3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzXCI6cmV0dXJuIGF3YWl0IHRoaXMuZ2V0Q2FwYWJpbGl0aWVzKHQpO2Nhc2VcIndhbGxldF9nZXRDYWxsc1N0YXR1c1wiOnJldHVybiBhd2FpdCB0aGlzLmdldENhbGxTdGF0dXModCl9cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXModC5yZXF1ZXN0Lm1ldGhvZCk/YXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh0KTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QodC5yZXF1ZXN0KX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1zZXREZWZhdWx0Q2hhaW4odCxlKXt0aGlzLmh0dHBQcm92aWRlcnNbdF18fHRoaXMuc2V0SHR0cFByb3ZpZGVyKHBhcnNlSW50KHQpLGUpLHRoaXMuY2hhaW5JZD1wYXJzZUludCh0KSx0aGlzLmV2ZW50cy5lbWl0KGQuREVGQVVMVF9DSEFJTl9DSEFOR0VELGAke3RoaXMubmFtZX06JHt0fWApfXJlcXVlc3RBY2NvdW50cygpe3JldHVybiB0aGlzLmdldEFjY291bnRzKCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQudG9TdHJpbmcoKTtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5zcGxpdChcIjpcIilbMV19Y3JlYXRlSHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT1lfHxwKGAke3RoaXMubmFtZX06JHt0fWAsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHt0fWApO3JldHVybiBuZXcgbChuZXcgQXQoaSxvKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfXNldEh0dHBQcm92aWRlcih0LGUpe2NvbnN0IGk9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIodCxlKTtpJiYodGhpcy5odHRwUHJvdmlkZXJzW3RdPWkpfWNyZWF0ZUh0dHBQcm92aWRlcnMoKXtjb25zdCB0PXt9O3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuZm9yRWFjaChlPT57dmFyIGk7Y29uc3Qgcj1wYXJzZUludChQKGUpKTt0W3JdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHIsKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVtlXSl9KSx0fWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD9bLi4ubmV3IFNldCh0LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pKV06W119Z2V0SHR0cFByb3ZpZGVyKCl7Y29uc3QgdD10aGlzLmNoYWluSWQsZT10aGlzLmh0dHBQcm92aWRlcnNbdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHt0fSBub3QgZm91bmRgKTtyZXR1cm4gZX1hc3luYyBoYW5kbGVTd2l0Y2hDaGFpbih0KXt2YXIgZSxpO2xldCByPXQucmVxdWVzdC5wYXJhbXM/KGU9dC5yZXF1ZXN0LnBhcmFtc1swXSk9PW51bGw/dm9pZCAwOmUuY2hhaW5JZDpcIjB4MFwiO3I9ci5zdGFydHNXaXRoKFwiMHhcIik/cjpgMHgke3J9YDtjb25zdCBhPXBhcnNlSW50KHIsMTYpO2lmKHRoaXMuaXNDaGFpbkFwcHJvdmVkKGEpKXRoaXMuc2V0RGVmYXVsdENoYWluKGAke2F9YCk7ZWxzZSBpZih0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKFwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIikpYXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh7dG9waWM6dC50b3BpYyxyZXF1ZXN0OnttZXRob2Q6dC5yZXF1ZXN0Lm1ldGhvZCxwYXJhbXM6W3tjaGFpbklkOnJ9XX0sY2hhaW5JZDooaT10aGlzLm5hbWVzcGFjZS5jaGFpbnMpPT1udWxsP3ZvaWQgMDppWzBdfSksdGhpcy5zZXREZWZhdWx0Q2hhaW4oYCR7YX1gKTtlbHNlIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHN3aXRjaCB0byBjaGFpbiAnZWlwMTU1OiR7YX0nLiBUaGUgY2hhaW4gaXMgbm90IGFwcHJvdmVkIG9yIHRoZSB3YWxsZXQgZG9lcyBub3Qgc3VwcG9ydCAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nIG1ldGhvZC5gKTtyZXR1cm4gbnVsbH1pc0NoYWluQXBwcm92ZWQodCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5pbmNsdWRlcyhgJHt0aGlzLm5hbWV9OiR7dH1gKX1hc3luYyBnZXRDYXBhYmlsaXRpZXModCl7dmFyIGUsaSxyO2NvbnN0IGE9KGk9KGU9dC5yZXF1ZXN0KT09bnVsbD92b2lkIDA6ZS5wYXJhbXMpPT1udWxsP3ZvaWQgMDppWzBdO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgYWRkcmVzcyBwYXJhbWV0ZXIgaW4gYHdhbGxldF9nZXRDYXBhYmlsaXRpZXNgIHJlcXVlc3RcIik7Y29uc3Qgbj10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0LnRvcGljKSxjPSgocj1uPy5zZXNzaW9uUHJvcGVydGllcyk9PW51bGw/dm9pZCAwOnIuY2FwYWJpbGl0aWVzKXx8e307aWYoYyE9bnVsbCYmY1thXSlyZXR1cm4gYz8uW2FdO2NvbnN0IGg9YXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh0KTt0cnl7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodC50b3BpYyx7c2Vzc2lvblByb3BlcnRpZXM6d3QoUHQoe30sbi5zZXNzaW9uUHJvcGVydGllc3x8e30pLHtjYXBhYmlsaXRpZXM6d3QoUHQoe30sY3x8e30pLHtbYV06aH0pfSl9KX1jYXRjaCh2KXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gdXBkYXRlIHNlc3Npb24gd2l0aCBjYXBhYmlsaXRpZXNcIix2KX1yZXR1cm4gaH1hc3luYyBnZXRDYWxsU3RhdHVzKHQpe3ZhciBlLGk7Y29uc3Qgcj10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0LnRvcGljKSxhPShlPXIuc2Vzc2lvblByb3BlcnRpZXMpPT1udWxsP3ZvaWQgMDplLmJ1bmRsZXJfbmFtZTtpZihhKXtjb25zdCBjPXRoaXMuZ2V0QnVuZGxlclVybCh0LmNoYWluSWQsYSk7dHJ5e3JldHVybiBhd2FpdCB0aGlzLmdldFVzZXJPcGVyYXRpb25SZWNlaXB0KGMsdCl9Y2F0Y2goaCl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGZldGNoIGNhbGwgc3RhdHVzIGZyb20gYnVuZGxlclwiLGgsYyl9fWNvbnN0IG49KGk9ci5zZXNzaW9uUHJvcGVydGllcyk9PW51bGw/dm9pZCAwOmkuYnVuZGxlcl91cmw7aWYobil0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZ2V0VXNlck9wZXJhdGlvblJlY2VpcHQobix0KX1jYXRjaChjKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZmV0Y2ggY2FsbCBzdGF0dXMgZnJvbSBjdXN0b20gYnVuZGxlclwiLGMsbil9aWYodGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyh0LnJlcXVlc3QubWV0aG9kKSlyZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh0KTt0aHJvdyBuZXcgRXJyb3IoXCJGZXRjaGluZyBjYWxsIHN0YXR1cyBub3QgYXBwcm92ZWQgYnkgdGhlIHdhbGxldC5cIil9YXN5bmMgZ2V0VXNlck9wZXJhdGlvblJlY2VpcHQodCxlKXt2YXIgaTtjb25zdCByPW5ldyBVUkwodCksYT1hd2FpdCBmZXRjaChyLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeShIdChcImV0aF9nZXRVc2VyT3BlcmF0aW9uUmVjZWlwdFwiLFsoaT1lLnJlcXVlc3QucGFyYW1zKT09bnVsbD92b2lkIDA6aVswXV0pKX0pO2lmKCFhLm9rKXRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHVzZXIgb3BlcmF0aW9uIHJlY2VpcHQgLSAke2Euc3RhdHVzfWApO3JldHVybiBhd2FpdCBhLmpzb24oKX1nZXRCdW5kbGVyVXJsKHQsZSl7cmV0dXJuYCR7cXR9P3Byb2plY3RJZD0ke3RoaXMuY2xpZW50LmNvcmUucHJvamVjdElkfSZjaGFpbklkPSR7dH0mYnVuZGxlcj0ke2V9YH19dmFyICRlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxPZT0ocyx0LGUpPT50IGluIHM/JGUocyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6c1t0XT1lLCQ9KHMsdCxlKT0+T2Uocyx0eXBlb2YgdCE9XCJzeW1ib2xcIj90K1wiXCI6dCxlKTtjbGFzcyBBZXtjb25zdHJ1Y3Rvcih0KXskKHRoaXMsXCJuYW1lXCIsXCJzb2xhbmFcIiksJCh0aGlzLFwiY2xpZW50XCIpLCQodGhpcyxcImh0dHBQcm92aWRlcnNcIiksJCh0aGlzLFwiZXZlbnRzXCIpLCQodGhpcyxcIm5hbWVzcGFjZVwiKSwkKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPXQubmFtZXNwYWNlLHRoaXMuZXZlbnRzPW8oXCJldmVudHNcIiksdGhpcy5jbGllbnQ9byhcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKHQpe3RoaXMubmFtZXNwYWNlPU9iamVjdC5hc3NpZ24odGhpcy5uYW1lc3BhY2UsdCl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1yZXF1ZXN0KHQpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKHQucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QodCk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KHQucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKHQsZSl7dGhpcy5odHRwUHJvdmlkZXJzW3RdfHx0aGlzLnNldEh0dHBQcm92aWRlcih0LGUpLHRoaXMuY2hhaW5JZD10LHRoaXMuZXZlbnRzLmVtaXQoZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3R9YCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIHQuc3BsaXQoXCI6XCIpWzFdfWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD9bLi4ubmV3IFNldCh0LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IHQ9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKGU9Pnt2YXIgaTtjb25zdCByPVAoZSk7dFtyXT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihyLChpPXRoaXMubmFtZXNwYWNlLnJwY01hcCk9PW51bGw/dm9pZCAwOmlbZV0pfSksdH1nZXRIdHRwUHJvdmlkZXIoKXtjb25zdCB0PWAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCxlPXRoaXMuaHR0cFByb3ZpZGVyc1t0XTtpZih0eXBlb2YgZT5cInVcIil0aHJvdyBuZXcgRXJyb3IoYEpTT04tUlBDIHByb3ZpZGVyIGZvciAke3R9IG5vdCBmb3VuZGApO3JldHVybiBlfXNldEh0dHBQcm92aWRlcih0LGUpe2NvbnN0IGk9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIodCxlKTtpJiYodGhpcy5odHRwUHJvdmlkZXJzW3RdPWkpfWNyZWF0ZUh0dHBQcm92aWRlcih0LGUpe2NvbnN0IGk9ZXx8cCh0LHRoaXMubmFtZXNwYWNlLHRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7dH1gKTtyZXR1cm4gbmV3IGwobmV3IG0oaSxvKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgSGU9T2JqZWN0LmRlZmluZVByb3BlcnR5LEVlPShzLHQsZSk9PnQgaW4gcz9IZShzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpzW3RdPWUsTz0ocyx0LGUpPT5FZShzLHR5cGVvZiB0IT1cInN5bWJvbFwiP3QrXCJcIjp0LGUpO2NsYXNzIENle2NvbnN0cnVjdG9yKHQpe08odGhpcyxcIm5hbWVcIixcImNvc21vc1wiKSxPKHRoaXMsXCJjbGllbnRcIiksTyh0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxPKHRoaXMsXCJldmVudHNcIiksTyh0aGlzLFwibmFtZXNwYWNlXCIpLE8odGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9byhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1vKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IHQ9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiB0LnNwbGl0KFwiOlwiKVsxXX1yZXF1ZXN0KHQpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKHQucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QodCk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KHQucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKHQsZSl7dGhpcy5odHRwUHJvdmlkZXJzW3RdfHx0aGlzLnNldEh0dHBQcm92aWRlcih0LGUpLHRoaXMuY2hhaW5JZD10LHRoaXMuZXZlbnRzLmVtaXQoZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gKX1nZXRBY2NvdW50cygpe2NvbnN0IHQ9dGhpcy5uYW1lc3BhY2UuYWNjb3VudHM7cmV0dXJuIHQ/Wy4uLm5ldyBTZXQodC5maWx0ZXIoZT0+ZS5zcGxpdChcIjpcIilbMV09PT10aGlzLmNoYWluSWQudG9TdHJpbmcoKSkubWFwKGU9PmUuc3BsaXQoXCI6XCIpWzJdKSldOltdfWNyZWF0ZUh0dHBQcm92aWRlcnMoKXtjb25zdCB0PXt9O3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuZm9yRWFjaChlPT57dmFyIGk7Y29uc3Qgcj1QKGUpO3Rbcl09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIociwoaT10aGlzLm5hbWVzcGFjZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW2VdKX0pLHR9Z2V0SHR0cFByb3ZpZGVyKCl7Y29uc3QgdD1gJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWAsZT10aGlzLmh0dHBQcm92aWRlcnNbdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHt0fSBub3QgZm91bmRgKTtyZXR1cm4gZX1zZXRIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHQsZSk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1t0XT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPWV8fHAodCx0aGlzLm5hbWVzcGFjZSx0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke3R9YCk7cmV0dXJuIG5ldyBsKG5ldyBtKGksbyhcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX19dmFyIE5lPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxTZT0ocyx0LGUpPT50IGluIHM/TmUocyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6c1t0XT1lLEE9KHMsdCxlKT0+U2Uocyx0eXBlb2YgdCE9XCJzeW1ib2xcIj90K1wiXCI6dCxlKTtjbGFzcyBEZXtjb25zdHJ1Y3Rvcih0KXtBKHRoaXMsXCJuYW1lXCIsXCJhbGdvcmFuZFwiKSxBKHRoaXMsXCJjbGllbnRcIiksQSh0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxBKHRoaXMsXCJldmVudHNcIiksQSh0aGlzLFwibmFtZXNwYWNlXCIpLEEodGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9byhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1vKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfXJlcXVlc3QodCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXModC5yZXF1ZXN0Lm1ldGhvZCk/dGhpcy5jbGllbnQucmVxdWVzdCh0KTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QodC5yZXF1ZXN0KX1zZXREZWZhdWx0Q2hhaW4odCxlKXtpZighdGhpcy5odHRwUHJvdmlkZXJzW3RdKXtjb25zdCBpPWV8fHAoYCR7dGhpcy5uYW1lfToke3R9YCx0aGlzLm5hbWVzcGFjZSx0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke3R9YCk7dGhpcy5zZXRIdHRwUHJvdmlkZXIodCxpKX10aGlzLmNoYWluSWQ9dCx0aGlzLmV2ZW50cy5lbWl0KGQuREVGQVVMVF9DSEFJTl9DSEFOR0VELGAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIHQuc3BsaXQoXCI6XCIpWzFdfWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD9bLi4ubmV3IFNldCh0LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IHQ9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKGU9Pnt2YXIgaTt0W2VdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUsKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVtlXSl9KSx0fWdldEh0dHBQcm92aWRlcigpe2NvbnN0IHQ9YCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gLGU9dGhpcy5odHRwUHJvdmlkZXJzW3RdO2lmKHR5cGVvZiBlPlwidVwiKXRocm93IG5ldyBFcnJvcihgSlNPTi1SUEMgcHJvdmlkZXIgZm9yICR7dH0gbm90IGZvdW5kYCk7cmV0dXJuIGV9c2V0SHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcih0LGUpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbdF09aSl9Y3JlYXRlSHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT1lfHxwKHQsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO3JldHVybiB0eXBlb2YgaT5cInVcIj92b2lkIDA6bmV3IGwobmV3IG0oaSxvKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgcWU9T2JqZWN0LmRlZmluZVByb3BlcnR5LGplPShzLHQsZSk9PnQgaW4gcz9xZShzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpzW3RdPWUsSD0ocyx0LGUpPT5qZShzLHR5cGVvZiB0IT1cInN5bWJvbFwiP3QrXCJcIjp0LGUpO2NsYXNzIFJle2NvbnN0cnVjdG9yKHQpe0godGhpcyxcIm5hbWVcIixcImNpcDM0XCIpLEgodGhpcyxcImNsaWVudFwiKSxIKHRoaXMsXCJodHRwUHJvdmlkZXJzXCIpLEgodGhpcyxcImV2ZW50c1wiKSxIKHRoaXMsXCJuYW1lc3BhY2VcIiksSCh0aGlzLFwiY2hhaW5JZFwiKSx0aGlzLm5hbWVzcGFjZT10Lm5hbWVzcGFjZSx0aGlzLmV2ZW50cz1vKFwiZXZlbnRzXCIpLHRoaXMuY2xpZW50PW8oXCJjbGllbnRcIiksdGhpcy5jaGFpbklkPXRoaXMuZ2V0RGVmYXVsdENoYWluKCksdGhpcy5odHRwUHJvdmlkZXJzPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVycygpfXVwZGF0ZU5hbWVzcGFjZSh0KXt0aGlzLm5hbWVzcGFjZT1PYmplY3QuYXNzaWduKHRoaXMubmFtZXNwYWNlLHQpfXJlcXVlc3RBY2NvdW50cygpe3JldHVybiB0aGlzLmdldEFjY291bnRzKCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIHQuc3BsaXQoXCI6XCIpWzFdfXJlcXVlc3QodCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXModC5yZXF1ZXN0Lm1ldGhvZCk/dGhpcy5jbGllbnQucmVxdWVzdCh0KTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QodC5yZXF1ZXN0KX1zZXREZWZhdWx0Q2hhaW4odCxlKXt0aGlzLmh0dHBQcm92aWRlcnNbdF18fHRoaXMuc2V0SHR0cFByb3ZpZGVyKHQsZSksdGhpcy5jaGFpbklkPXQsdGhpcy5ldmVudHMuZW1pdChkLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxgJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWApfWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD9bLi4ubmV3IFNldCh0LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IHQ9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKGU9Pntjb25zdCBpPXRoaXMuZ2V0Q2FyZGFub1JQQ1VybChlKSxyPVAoZSk7dFtyXT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihyLGkpfSksdH1nZXRIdHRwUHJvdmlkZXIoKXtjb25zdCB0PWAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCxlPXRoaXMuaHR0cFByb3ZpZGVyc1t0XTtpZih0eXBlb2YgZT5cInVcIil0aHJvdyBuZXcgRXJyb3IoYEpTT04tUlBDIHByb3ZpZGVyIGZvciAke3R9IG5vdCBmb3VuZGApO3JldHVybiBlfWdldENhcmRhbm9SUENVcmwodCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5ycGNNYXA7aWYoZSlyZXR1cm4gZVt0XX1zZXRIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHQsZSk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1t0XT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPWV8fHRoaXMuZ2V0Q2FyZGFub1JQQ1VybCh0KTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7dH1gKTtyZXR1cm4gbmV3IGwobmV3IG0oaSxvKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgX2U9T2JqZWN0LmRlZmluZVByb3BlcnR5LFVlPShzLHQsZSk9PnQgaW4gcz9fZShzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpzW3RdPWUsRT0ocyx0LGUpPT5VZShzLHR5cGVvZiB0IT1cInN5bWJvbFwiP3QrXCJcIjp0LGUpO2NsYXNzIEZle2NvbnN0cnVjdG9yKHQpe0UodGhpcyxcIm5hbWVcIixcImVscm9uZFwiKSxFKHRoaXMsXCJjbGllbnRcIiksRSh0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxFKHRoaXMsXCJldmVudHNcIiksRSh0aGlzLFwibmFtZXNwYWNlXCIpLEUodGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9byhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1vKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfXJlcXVlc3QodCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXModC5yZXF1ZXN0Lm1ldGhvZCk/dGhpcy5jbGllbnQucmVxdWVzdCh0KTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QodC5yZXF1ZXN0KX1zZXREZWZhdWx0Q2hhaW4odCxlKXt0aGlzLmh0dHBQcm92aWRlcnNbdF18fHRoaXMuc2V0SHR0cFByb3ZpZGVyKHQsZSksdGhpcy5jaGFpbklkPXQsdGhpcy5ldmVudHMuZW1pdChkLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxgJHt0aGlzLm5hbWV9OiR7dH1gKX1nZXREZWZhdWx0Q2hhaW4oKXtpZih0aGlzLmNoYWluSWQpcmV0dXJuIHRoaXMuY2hhaW5JZDtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5zcGxpdChcIjpcIilbMV19Z2V0QWNjb3VudHMoKXtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiB0P1suLi5uZXcgU2V0KHQuZmlsdGVyKGU9PmUuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcChlPT5lLnNwbGl0KFwiOlwiKVsyXSkpXTpbXX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgdD17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2goZT0+e3ZhciBpO2NvbnN0IHI9UChlKTt0W3JdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHIsKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVtlXSl9KSx0fWdldEh0dHBQcm92aWRlcigpe2NvbnN0IHQ9YCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gLGU9dGhpcy5odHRwUHJvdmlkZXJzW3RdO2lmKHR5cGVvZiBlPlwidVwiKXRocm93IG5ldyBFcnJvcihgSlNPTi1SUEMgcHJvdmlkZXIgZm9yICR7dH0gbm90IGZvdW5kYCk7cmV0dXJuIGV9c2V0SHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcih0LGUpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbdF09aSl9Y3JlYXRlSHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT1lfHxwKHQsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHt0fWApO3JldHVybiBuZXcgbChuZXcgbShpLG8oXCJkaXNhYmxlUHJvdmlkZXJQaW5nXCIpKSl9fXZhciBMZT1PYmplY3QuZGVmaW5lUHJvcGVydHkseGU9KHMsdCxlKT0+dCBpbiBzP0xlKHMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnNbdF09ZSxDPShzLHQsZSk9PnhlKHMsdHlwZW9mIHQhPVwic3ltYm9sXCI/dCtcIlwiOnQsZSk7Y2xhc3MgTWV7Y29uc3RydWN0b3IodCl7Qyh0aGlzLFwibmFtZVwiLFwibXVsdGl2ZXJzeFwiKSxDKHRoaXMsXCJjbGllbnRcIiksQyh0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxDKHRoaXMsXCJldmVudHNcIiksQyh0aGlzLFwibmFtZXNwYWNlXCIpLEModGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9byhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1vKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfXJlcXVlc3QodCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXModC5yZXF1ZXN0Lm1ldGhvZCk/dGhpcy5jbGllbnQucmVxdWVzdCh0KTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QodC5yZXF1ZXN0KX1zZXREZWZhdWx0Q2hhaW4odCxlKXt0aGlzLmh0dHBQcm92aWRlcnNbdF18fHRoaXMuc2V0SHR0cFByb3ZpZGVyKHQsZSksdGhpcy5jaGFpbklkPXQsdGhpcy5ldmVudHMuZW1pdChkLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxgJHt0aGlzLm5hbWV9OiR7dH1gKX1nZXREZWZhdWx0Q2hhaW4oKXtpZih0aGlzLmNoYWluSWQpcmV0dXJuIHRoaXMuY2hhaW5JZDtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5zcGxpdChcIjpcIilbMV19Z2V0QWNjb3VudHMoKXtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiB0P1suLi5uZXcgU2V0KHQuZmlsdGVyKGU9PmUuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcChlPT5lLnNwbGl0KFwiOlwiKVsyXSkpXTpbXX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgdD17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2goZT0+e3ZhciBpO2NvbnN0IHI9UChlKTt0W3JdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHIsKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVtlXSl9KSx0fWdldEh0dHBQcm92aWRlcigpe2NvbnN0IHQ9YCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gLGU9dGhpcy5odHRwUHJvdmlkZXJzW3RdO2lmKHR5cGVvZiBlPlwidVwiKXRocm93IG5ldyBFcnJvcihgSlNPTi1SUEMgcHJvdmlkZXIgZm9yICR7dH0gbm90IGZvdW5kYCk7cmV0dXJuIGV9c2V0SHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcih0LGUpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbdF09aSl9Y3JlYXRlSHR0cFByb3ZpZGVyKHQsZSl7Y29uc3QgaT1lfHxwKHQsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHt0fWApO3JldHVybiBuZXcgbChuZXcgbShpLG8oXCJkaXNhYmxlUHJvdmlkZXJQaW5nXCIpKSl9fXZhciBCZT1PYmplY3QuZGVmaW5lUHJvcGVydHksR2U9KHMsdCxlKT0+dCBpbiBzP0JlKHMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnNbdF09ZSxOPShzLHQsZSk9PkdlKHMsdHlwZW9mIHQhPVwic3ltYm9sXCI/dCtcIlwiOnQsZSk7Y2xhc3MgSmV7Y29uc3RydWN0b3IodCl7Tih0aGlzLFwibmFtZVwiLFwibmVhclwiKSxOKHRoaXMsXCJjbGllbnRcIiksTih0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxOKHRoaXMsXCJldmVudHNcIiksTih0aGlzLFwibmFtZXNwYWNlXCIpLE4odGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9dC5uYW1lc3BhY2UsdGhpcy5ldmVudHM9byhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1vKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UodCl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSx0KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IHQ9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiB0LnNwbGl0KFwiOlwiKVsxXX1yZXF1ZXN0KHQpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKHQucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QodCk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KHQucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKHQsZSl7aWYodGhpcy5jaGFpbklkPXQsIXRoaXMuaHR0cFByb3ZpZGVyc1t0XSl7Y29uc3QgaT1lfHxwKGAke3RoaXMubmFtZX06JHt0fWAsdGhpcy5uYW1lc3BhY2UpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHt0fWApO3RoaXMuc2V0SHR0cFByb3ZpZGVyKHQsaSl9dGhpcy5ldmVudHMuZW1pdChkLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxgJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWApfWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD90LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pfHxbXTpbXX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgdD17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2goZT0+e3ZhciBpO3RbZV09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIoZSwoaT10aGlzLm5hbWVzcGFjZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW2VdKX0pLHR9Z2V0SHR0cFByb3ZpZGVyKCl7Y29uc3QgdD1gJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWAsZT10aGlzLmh0dHBQcm92aWRlcnNbdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHt0fSBub3QgZm91bmRgKTtyZXR1cm4gZX1zZXRIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHQsZSk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1t0XT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPWV8fHAodCx0aGlzLm5hbWVzcGFjZSk7cmV0dXJuIHR5cGVvZiBpPlwidVwiP3ZvaWQgMDpuZXcgbChuZXcgbShpLG8oXCJkaXNhYmxlUHJvdmlkZXJQaW5nXCIpKSl9fXZhciB6ZT1PYmplY3QuZGVmaW5lUHJvcGVydHksa2U9KHMsdCxlKT0+dCBpbiBzP3plKHMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnNbdF09ZSxTPShzLHQsZSk9PmtlKHMsdHlwZW9mIHQhPVwic3ltYm9sXCI/dCtcIlwiOnQsZSk7Y2xhc3MgV2V7Y29uc3RydWN0b3IodCl7Uyh0aGlzLFwibmFtZVwiLFwidGV6b3NcIiksUyh0aGlzLFwiY2xpZW50XCIpLFModGhpcyxcImh0dHBQcm92aWRlcnNcIiksUyh0aGlzLFwiZXZlbnRzXCIpLFModGhpcyxcIm5hbWVzcGFjZVwiKSxTKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPXQubmFtZXNwYWNlLHRoaXMuZXZlbnRzPW8oXCJldmVudHNcIiksdGhpcy5jbGllbnQ9byhcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKHQpe3RoaXMubmFtZXNwYWNlPU9iamVjdC5hc3NpZ24odGhpcy5uYW1lc3BhY2UsdCl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1nZXREZWZhdWx0Q2hhaW4oKXtpZih0aGlzLmNoYWluSWQpcmV0dXJuIHRoaXMuY2hhaW5JZDtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCB0PXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5zcGxpdChcIjpcIilbMV19cmVxdWVzdCh0KXtyZXR1cm4gdGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyh0LnJlcXVlc3QubWV0aG9kKT90aGlzLmNsaWVudC5yZXF1ZXN0KHQpOnRoaXMuZ2V0SHR0cFByb3ZpZGVyKCkucmVxdWVzdCh0LnJlcXVlc3QpfXNldERlZmF1bHRDaGFpbih0LGUpe2lmKHRoaXMuY2hhaW5JZD10LCF0aGlzLmh0dHBQcm92aWRlcnNbdF0pe2NvbnN0IGk9ZXx8cChgJHt0aGlzLm5hbWV9OiR7dH1gLHRoaXMubmFtZXNwYWNlKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7dH1gKTt0aGlzLnNldEh0dHBQcm92aWRlcih0LGkpfXRoaXMuZXZlbnRzLmVtaXQoZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gKX1nZXRBY2NvdW50cygpe2NvbnN0IHQ9dGhpcy5uYW1lc3BhY2UuYWNjb3VudHM7cmV0dXJuIHQ/dC5maWx0ZXIoZT0+ZS5zcGxpdChcIjpcIilbMV09PT10aGlzLmNoYWluSWQudG9TdHJpbmcoKSkubWFwKGU9PmUuc3BsaXQoXCI6XCIpWzJdKXx8W106W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IHQ9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKGU9Pnt0W2VdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUpfSksdH1nZXRIdHRwUHJvdmlkZXIoKXtjb25zdCB0PWAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCxlPXRoaXMuaHR0cFByb3ZpZGVyc1t0XTtpZih0eXBlb2YgZT5cInVcIil0aHJvdyBuZXcgRXJyb3IoYEpTT04tUlBDIHByb3ZpZGVyIGZvciAke3R9IG5vdCBmb3VuZGApO3JldHVybiBlfXNldEh0dHBQcm92aWRlcih0LGUpe2NvbnN0IGk9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIodCxlKTtpJiYodGhpcy5odHRwUHJvdmlkZXJzW3RdPWkpfWNyZWF0ZUh0dHBQcm92aWRlcih0LGUpe2NvbnN0IGk9ZXx8cCh0LHRoaXMubmFtZXNwYWNlKTtyZXR1cm4gdHlwZW9mIGk+XCJ1XCI/dm9pZCAwOm5ldyBsKG5ldyBtKGkpKX19dmFyIEtlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxWZT0ocyx0LGUpPT50IGluIHM/S2Uocyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6c1t0XT1lLEQ9KHMsdCxlKT0+VmUocyx0eXBlb2YgdCE9XCJzeW1ib2xcIj90K1wiXCI6dCxlKTtjbGFzcyBYZXtjb25zdHJ1Y3Rvcih0KXtEKHRoaXMsXCJuYW1lXCIsdyksRCh0aGlzLFwiY2xpZW50XCIpLEQodGhpcyxcImh0dHBQcm92aWRlcnNcIiksRCh0aGlzLFwiZXZlbnRzXCIpLEQodGhpcyxcIm5hbWVzcGFjZVwiKSxEKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPXQubmFtZXNwYWNlLHRoaXMuZXZlbnRzPW8oXCJldmVudHNcIiksdGhpcy5jbGllbnQ9byhcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKHQpe3RoaXMubmFtZXNwYWNlLmNoYWlucz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuY2hhaW5zfHxbXSkuY29uY2F0KHQuY2hhaW5zfHxbXSkpXSx0aGlzLm5hbWVzcGFjZS5hY2NvdW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuYWNjb3VudHN8fFtdKS5jb25jYXQodC5hY2NvdW50c3x8W10pKV0sdGhpcy5uYW1lc3BhY2UubWV0aG9kcz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UubWV0aG9kc3x8W10pLmNvbmNhdCh0Lm1ldGhvZHN8fFtdKSldLHRoaXMubmFtZXNwYWNlLmV2ZW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuZXZlbnRzfHxbXSkuY29uY2F0KHQuZXZlbnRzfHxbXSkpXSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1yZXF1ZXN0KHQpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKHQucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QodCk6dGhpcy5nZXRIdHRwUHJvdmlkZXIodC5jaGFpbklkKS5yZXF1ZXN0KHQucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKHQsZSl7dGhpcy5odHRwUHJvdmlkZXJzW3RdfHx0aGlzLnNldEh0dHBQcm92aWRlcih0LGUpLHRoaXMuY2hhaW5JZD10LHRoaXMuZXZlbnRzLmVtaXQoZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3R9YCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIHQuc3BsaXQoXCI6XCIpWzFdfWdldEFjY291bnRzKCl7Y29uc3QgdD10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gdD9bLi4ubmV3IFNldCh0LmZpbHRlcihlPT5lLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAoZT0+ZS5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe3ZhciB0LGU7Y29uc3QgaT17fTtyZXR1cm4oZT0odD10aGlzLm5hbWVzcGFjZSk9PW51bGw/dm9pZCAwOnQuYWNjb3VudHMpPT1udWxsfHxlLmZvckVhY2gocj0+e2NvbnN0IGE9UShyKTtpW2Ake2EubmFtZXNwYWNlfToke2EucmVmZXJlbmNlfWBdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHIpfSksaX1nZXRIdHRwUHJvdmlkZXIodCl7Y29uc3QgZT10aGlzLmh0dHBQcm92aWRlcnNbdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHt0fSBub3QgZm91bmRgKTtyZXR1cm4gZX1zZXRIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHQsZSk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1t0XT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIodCxlKXtjb25zdCBpPWV8fHAodCx0aGlzLm5hbWVzcGFjZSx0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke3R9YCk7cmV0dXJuIG5ldyBsKG5ldyBtKGksbyhcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX19dmFyIFllPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxRZT1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxaZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyx5dD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFRlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdHM9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxLPShzLHQsZSk9PnQgaW4gcz9ZZShzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpzW3RdPWUsTD0ocyx0KT0+e2Zvcih2YXIgZSBpbiB0fHwodD17fSkpVGUuY2FsbCh0LGUpJiZLKHMsZSx0W2VdKTtpZih5dClmb3IodmFyIGUgb2YgeXQodCkpdHMuY2FsbCh0LGUpJiZLKHMsZSx0W2VdKTtyZXR1cm4gc30sVj0ocyx0KT0+UWUocyxaZSh0KSksdT0ocyx0LGUpPT5LKHMsdHlwZW9mIHQhPVwic3ltYm9sXCI/dCtcIlwiOnQsZSk7Y2xhc3MgeHtjb25zdHJ1Y3Rvcih0KXt1KHRoaXMsXCJjbGllbnRcIiksdSh0aGlzLFwibmFtZXNwYWNlc1wiKSx1KHRoaXMsXCJvcHRpb25hbE5hbWVzcGFjZXNcIiksdSh0aGlzLFwic2Vzc2lvblByb3BlcnRpZXNcIiksdSh0aGlzLFwic2NvcGVkUHJvcGVydGllc1wiKSx1KHRoaXMsXCJldmVudHNcIixuZXcgQ3QpLHUodGhpcyxcInJwY1Byb3ZpZGVyc1wiLHt9KSx1KHRoaXMsXCJzZXNzaW9uXCIpLHUodGhpcyxcInByb3ZpZGVyT3B0c1wiKSx1KHRoaXMsXCJsb2dnZXJcIiksdSh0aGlzLFwidXJpXCIpLHUodGhpcyxcImRpc2FibGVQcm92aWRlclBpbmdcIiwhMSksdGhpcy5wcm92aWRlck9wdHM9dCx0aGlzLmxvZ2dlcj10eXBlb2YgdD8ubG9nZ2VyPFwidVwiJiZ0eXBlb2YgdD8ubG9nZ2VyIT1cInN0cmluZ1wiP3QubG9nZ2VyOiR0KE90KHtsZXZlbDp0Py5sb2dnZXJ8fHR0fSkpLHRoaXMuZGlzYWJsZVByb3ZpZGVyUGluZz10Py5kaXNhYmxlUHJvdmlkZXJQaW5nfHwhMX1zdGF0aWMgYXN5bmMgaW5pdCh0KXtjb25zdCBlPW5ldyB4KHQpO3JldHVybiBhd2FpdCBlLmluaXRpYWxpemUoKSxlfWFzeW5jIHJlcXVlc3QodCxlLGkpe2NvbnN0W3IsYV09dGhpcy52YWxpZGF0ZUNoYWluKGUpO2lmKCF0aGlzLnNlc3Npb24pdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIGNhbGwgY29ubmVjdCgpIGJlZm9yZSByZXF1ZXN0KClcIik7cmV0dXJuIGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIocikucmVxdWVzdCh7cmVxdWVzdDpMKHt9LHQpLGNoYWluSWQ6YCR7cn06JHthfWAsdG9waWM6dGhpcy5zZXNzaW9uLnRvcGljLGV4cGlyeTppfSl9c2VuZEFzeW5jKHQsZSxpLHIpe2NvbnN0IGE9bmV3IERhdGUoKS5nZXRUaW1lKCk7dGhpcy5yZXF1ZXN0KHQsaSxyKS50aGVuKG49PmUobnVsbCxFdChhLG4pKSkuY2F0Y2gobj0+ZShuLHZvaWQgMCkpfWFzeW5jIGVuYWJsZSgpe2lmKCF0aGlzLmNsaWVudCl0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBub3QgaW5pdGlhbGl6ZWRcIik7cmV0dXJuIHRoaXMuc2Vzc2lvbnx8YXdhaXQgdGhpcy5jb25uZWN0KHtuYW1lc3BhY2VzOnRoaXMubmFtZXNwYWNlcyxvcHRpb25hbE5hbWVzcGFjZXM6dGhpcy5vcHRpb25hbE5hbWVzcGFjZXMsc2Vzc2lvblByb3BlcnRpZXM6dGhpcy5zZXNzaW9uUHJvcGVydGllcyxzY29wZWRQcm9wZXJ0aWVzOnRoaXMuc2NvcGVkUHJvcGVydGllc30pLGF3YWl0IHRoaXMucmVxdWVzdEFjY291bnRzKCl9YXN5bmMgZGlzY29ubmVjdCgpe3ZhciB0O2lmKCF0aGlzLnNlc3Npb24pdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIGNhbGwgY29ubmVjdCgpIGJlZm9yZSBlbmFibGUoKVwiKTthd2FpdCB0aGlzLmNsaWVudC5kaXNjb25uZWN0KHt0b3BpYzoodD10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDp0LnRvcGljLHJlYXNvbjpaKFwiVVNFUl9ESVNDT05ORUNURURcIil9KSxhd2FpdCB0aGlzLmNsZWFudXAoKX1hc3luYyBjb25uZWN0KHQpe2lmKCF0aGlzLmNsaWVudCl0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBub3QgaW5pdGlhbGl6ZWRcIik7aWYodGhpcy5zZXROYW1lc3BhY2VzKHQpLGF3YWl0IHRoaXMuY2xlYW51cFBlbmRpbmdQYWlyaW5ncygpLCF0LnNraXBQYWlyaW5nKXJldHVybiBhd2FpdCB0aGlzLnBhaXIodC5wYWlyaW5nVG9waWMpfWFzeW5jIGF1dGhlbnRpY2F0ZSh0LGUpe2lmKCF0aGlzLmNsaWVudCl0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBub3QgaW5pdGlhbGl6ZWRcIik7dGhpcy5zZXROYW1lc3BhY2VzKHQpLGF3YWl0IHRoaXMuY2xlYW51cFBlbmRpbmdQYWlyaW5ncygpO2NvbnN0e3VyaTppLHJlc3BvbnNlOnJ9PWF3YWl0IHRoaXMuY2xpZW50LmF1dGhlbnRpY2F0ZSh0LGUpO2kmJih0aGlzLnVyaT1pLHRoaXMuZXZlbnRzLmVtaXQoXCJkaXNwbGF5X3VyaVwiLGkpKTtjb25zdCBhPWF3YWl0IHIoKTtpZih0aGlzLnNlc3Npb249YS5zZXNzaW9uLHRoaXMuc2Vzc2lvbil7Y29uc3Qgbj1tdCh0aGlzLnNlc3Npb24ubmFtZXNwYWNlcyk7dGhpcy5uYW1lc3BhY2VzPUoodGhpcy5uYW1lc3BhY2VzLG4pLGF3YWl0IHRoaXMucGVyc2lzdChcIm5hbWVzcGFjZXNcIix0aGlzLm5hbWVzcGFjZXMpLHRoaXMub25Db25uZWN0KCl9cmV0dXJuIGF9b24odCxlKXt0aGlzLmV2ZW50cy5vbih0LGUpfW9uY2UodCxlKXt0aGlzLmV2ZW50cy5vbmNlKHQsZSl9cmVtb3ZlTGlzdGVuZXIodCxlKXt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcih0LGUpfW9mZih0LGUpe3RoaXMuZXZlbnRzLm9mZih0LGUpfWdldCBpc1dhbGxldENvbm5lY3QoKXtyZXR1cm4hMH1hc3luYyBwYWlyKHQpe2NvbnN0e3VyaTplLGFwcHJvdmFsOml9PWF3YWl0IHRoaXMuY2xpZW50LmNvbm5lY3Qoe3BhaXJpbmdUb3BpYzp0LHJlcXVpcmVkTmFtZXNwYWNlczp0aGlzLm5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnRoaXMub3B0aW9uYWxOYW1lc3BhY2VzLHNlc3Npb25Qcm9wZXJ0aWVzOnRoaXMuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczp0aGlzLnNjb3BlZFByb3BlcnRpZXN9KTtlJiYodGhpcy51cmk9ZSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzcGxheV91cmlcIixlKSk7Y29uc3Qgcj1hd2FpdCBpKCk7dGhpcy5zZXNzaW9uPXI7Y29uc3QgYT1tdChyLm5hbWVzcGFjZXMpO3JldHVybiB0aGlzLm5hbWVzcGFjZXM9Sih0aGlzLm5hbWVzcGFjZXMsYSksYXdhaXQgdGhpcy5wZXJzaXN0KFwibmFtZXNwYWNlc1wiLHRoaXMubmFtZXNwYWNlcyksYXdhaXQgdGhpcy5wZXJzaXN0KFwib3B0aW9uYWxOYW1lc3BhY2VzXCIsdGhpcy5vcHRpb25hbE5hbWVzcGFjZXMpLHRoaXMub25Db25uZWN0KCksdGhpcy5zZXNzaW9ufXNldERlZmF1bHRDaGFpbih0LGUpe3RyeXtpZighdGhpcy5zZXNzaW9uKXJldHVybjtjb25zdFtpLHJdPXRoaXMudmFsaWRhdGVDaGFpbih0KSxhPXRoaXMuZ2V0UHJvdmlkZXIoaSk7YS5uYW1lPT09dz9hLnNldERlZmF1bHRDaGFpbihgJHtpfToke3J9YCxlKTphLnNldERlZmF1bHRDaGFpbihyLGUpfWNhdGNoKGkpe2lmKCEvUGxlYXNlIGNhbGwgY29ubmVjdC8udGVzdChpLm1lc3NhZ2UpKXRocm93IGl9fWFzeW5jIGNsZWFudXBQZW5kaW5nUGFpcmluZ3ModD17fSl7dGhpcy5sb2dnZXIuaW5mbyhcIkNsZWFuaW5nIHVwIGluYWN0aXZlIHBhaXJpbmdzLi4uXCIpO2NvbnN0IGU9dGhpcy5jbGllbnQucGFpcmluZy5nZXRBbGwoKTtpZihUKGUpKXtmb3IoY29uc3QgaSBvZiBlKXQuZGVsZXRlUGFpcmluZ3M/dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChpLnRvcGljLDApOmF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKGkudG9waWMpO3RoaXMubG9nZ2VyLmluZm8oYEluYWN0aXZlIHBhaXJpbmdzIGNsZWFyZWQ6ICR7ZS5sZW5ndGh9YCl9fWFib3J0UGFpcmluZ0F0dGVtcHQoKXt0aGlzLmxvZ2dlci53YXJuKFwiYWJvcnRQYWlyaW5nQXR0ZW1wdCBpcyBkZXByZWNhdGVkLiBUaGlzIGlzIG5vdyBhIG5vLW9wLlwiKX1hc3luYyBjaGVja1N0b3JhZ2UoKXt0aGlzLm5hbWVzcGFjZXM9YXdhaXQgdGhpcy5nZXRGcm9tU3RvcmUoXCJuYW1lc3BhY2VzXCIpfHx7fSx0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcz1hd2FpdCB0aGlzLmdldEZyb21TdG9yZShcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKXx8e30sdGhpcy5zZXNzaW9uJiZ0aGlzLmNyZWF0ZVByb3ZpZGVycygpfWFzeW5jIGluaXRpYWxpemUoKXt0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLGF3YWl0IHRoaXMuY3JlYXRlQ2xpZW50KCksYXdhaXQgdGhpcy5jaGVja1N0b3JhZ2UoKSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKX1hc3luYyBjcmVhdGVDbGllbnQoKXt2YXIgdCxlO2lmKHRoaXMuY2xpZW50PXRoaXMucHJvdmlkZXJPcHRzLmNsaWVudHx8YXdhaXQgYnQuaW5pdCh7Y29yZTp0aGlzLnByb3ZpZGVyT3B0cy5jb3JlLGxvZ2dlcjp0aGlzLnByb3ZpZGVyT3B0cy5sb2dnZXJ8fHR0LHJlbGF5VXJsOnRoaXMucHJvdmlkZXJPcHRzLnJlbGF5VXJsfHxOdCxwcm9qZWN0SWQ6dGhpcy5wcm92aWRlck9wdHMucHJvamVjdElkLG1ldGFkYXRhOnRoaXMucHJvdmlkZXJPcHRzLm1ldGFkYXRhLHN0b3JhZ2VPcHRpb25zOnRoaXMucHJvdmlkZXJPcHRzLnN0b3JhZ2VPcHRpb25zLHN0b3JhZ2U6dGhpcy5wcm92aWRlck9wdHMuc3RvcmFnZSxuYW1lOnRoaXMucHJvdmlkZXJPcHRzLm5hbWUsY3VzdG9tU3RvcmFnZVByZWZpeDp0aGlzLnByb3ZpZGVyT3B0cy5jdXN0b21TdG9yYWdlUHJlZml4LHRlbGVtZXRyeUVuYWJsZWQ6dGhpcy5wcm92aWRlck9wdHMudGVsZW1ldHJ5RW5hYmxlZH0pLHRoaXMucHJvdmlkZXJPcHRzLnNlc3Npb24pdHJ5e3RoaXMuc2Vzc2lvbj10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0aGlzLnByb3ZpZGVyT3B0cy5zZXNzaW9uLnRvcGljKX1jYXRjaChpKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBnZXQgc2Vzc2lvblwiLGkpLG5ldyBFcnJvcihgVGhlIHByb3ZpZGVkIHNlc3Npb246ICR7KGU9KHQ9dGhpcy5wcm92aWRlck9wdHMpPT1udWxsP3ZvaWQgMDp0LnNlc3Npb24pPT1udWxsP3ZvaWQgMDplLnRvcGljfSBkb2Vzbid0IGV4aXN0IGluIHRoZSBTaWduIGNsaWVudGApfWVsc2V7Y29uc3QgaT10aGlzLmNsaWVudC5zZXNzaW9uLmdldEFsbCgpO3RoaXMuc2Vzc2lvbj1pWzBdfXRoaXMubG9nZ2VyLnRyYWNlKFwiU2lnbkNsaWVudCBJbml0aWFsaXplZFwiKX1jcmVhdGVQcm92aWRlcnMoKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO2lmKCF0aGlzLnNlc3Npb24pdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBjYWxsIGNvbm5lY3QoKSBiZWZvcmUgZW5hYmxlKClcIik7Y29uc3QgdD1bLi4ubmV3IFNldChPYmplY3Qua2V5cyh0aGlzLnNlc3Npb24ubmFtZXNwYWNlcykubWFwKGU9PnEoZSkpKV07ayhcImNsaWVudFwiLHRoaXMuY2xpZW50KSxrKFwiZXZlbnRzXCIsdGhpcy5ldmVudHMpLGsoXCJkaXNhYmxlUHJvdmlkZXJQaW5nXCIsdGhpcy5kaXNhYmxlUHJvdmlkZXJQaW5nKSx0LmZvckVhY2goZT0+e2lmKCF0aGlzLnNlc3Npb24pcmV0dXJuO2NvbnN0IGk9dWUoZSx0aGlzLnNlc3Npb24pLHI9bHQoaSksYT1KKHRoaXMubmFtZXNwYWNlcyx0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcyksbj1WKEwoe30sYVtlXSkse2FjY291bnRzOmksY2hhaW5zOnJ9KTtzd2l0Y2goZSl7Y2FzZVwiZWlwMTU1XCI6dGhpcy5ycGNQcm92aWRlcnNbZV09bmV3IEllKHtuYW1lc3BhY2U6bn0pO2JyZWFrO2Nhc2VcImFsZ29yYW5kXCI6dGhpcy5ycGNQcm92aWRlcnNbZV09bmV3IERlKHtuYW1lc3BhY2U6bn0pO2JyZWFrO2Nhc2VcInNvbGFuYVwiOnRoaXMucnBjUHJvdmlkZXJzW2VdPW5ldyBBZSh7bmFtZXNwYWNlOm59KTticmVhaztjYXNlXCJjb3Ntb3NcIjp0aGlzLnJwY1Byb3ZpZGVyc1tlXT1uZXcgQ2Uoe25hbWVzcGFjZTpufSk7YnJlYWs7Y2FzZVwicG9sa2Fkb3RcIjp0aGlzLnJwY1Byb3ZpZGVyc1tlXT1uZXcgdmUoe25hbWVzcGFjZTpufSk7YnJlYWs7Y2FzZVwiY2lwMzRcIjp0aGlzLnJwY1Byb3ZpZGVyc1tlXT1uZXcgUmUoe25hbWVzcGFjZTpufSk7YnJlYWs7Y2FzZVwiZWxyb25kXCI6dGhpcy5ycGNQcm92aWRlcnNbZV09bmV3IEZlKHtuYW1lc3BhY2U6bn0pO2JyZWFrO2Nhc2VcIm11bHRpdmVyc3hcIjp0aGlzLnJwY1Byb3ZpZGVyc1tlXT1uZXcgTWUoe25hbWVzcGFjZTpufSk7YnJlYWs7Y2FzZVwibmVhclwiOnRoaXMucnBjUHJvdmlkZXJzW2VdPW5ldyBKZSh7bmFtZXNwYWNlOm59KTticmVhaztjYXNlXCJ0ZXpvc1wiOnRoaXMucnBjUHJvdmlkZXJzW2VdPW5ldyBXZSh7bmFtZXNwYWNlOm59KTticmVhaztkZWZhdWx0OnRoaXMucnBjUHJvdmlkZXJzW3ddP3RoaXMucnBjUHJvdmlkZXJzW3ddLnVwZGF0ZU5hbWVzcGFjZShuKTp0aGlzLnJwY1Byb3ZpZGVyc1t3XT1uZXcgWGUoe25hbWVzcGFjZTpufSl9fSl9cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe2lmKHR5cGVvZiB0aGlzLmNsaWVudD5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWRcIik7dGhpcy5jbGllbnQub24oXCJzZXNzaW9uX3BpbmdcIix0PT57dmFyIGU7Y29uc3R7dG9waWM6aX09dDtpPT09KChlPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmUudG9waWMpJiZ0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9waW5nXCIsdCl9KSx0aGlzLmNsaWVudC5vbihcInNlc3Npb25fZXZlbnRcIix0PT57dmFyIGU7Y29uc3R7cGFyYW1zOmksdG9waWM6cn09dDtpZihyIT09KChlPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmUudG9waWMpKXJldHVybjtjb25zdHtldmVudDphfT1pO2lmKGEubmFtZT09PVwiYWNjb3VudHNDaGFuZ2VkXCIpe2NvbnN0IG49YS5kYXRhO24mJlQobikmJnRoaXMuZXZlbnRzLmVtaXQoXCJhY2NvdW50c0NoYW5nZWRcIixuLm1hcChsZSkpfWVsc2UgaWYoYS5uYW1lPT09XCJjaGFpbkNoYW5nZWRcIil7Y29uc3Qgbj1pLmNoYWluSWQsYz1pLmV2ZW50LmRhdGEsaD1xKG4pLHY9eihuKSE9PXooYyk/YCR7aH06JHt6KGMpfWA6bjt0aGlzLm9uQ2hhaW5DaGFuZ2VkKHYpfWVsc2UgdGhpcy5ldmVudHMuZW1pdChhLm5hbWUsYS5kYXRhKTt0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9ldmVudFwiLHQpfSksdGhpcy5jbGllbnQub24oXCJzZXNzaW9uX3VwZGF0ZVwiLCh7dG9waWM6dCxwYXJhbXM6ZX0pPT57dmFyIGkscjtpZih0IT09KChpPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmkudG9waWMpKXJldHVybjtjb25zdHtuYW1lc3BhY2VzOmF9PWUsbj0ocj10aGlzLmNsaWVudCk9PW51bGw/dm9pZCAwOnIuc2Vzc2lvbi5nZXQodCk7dGhpcy5zZXNzaW9uPVYoTCh7fSxuKSx7bmFtZXNwYWNlczphfSksdGhpcy5vblNlc3Npb25VcGRhdGUoKSx0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl91cGRhdGVcIix7dG9waWM6dCxwYXJhbXM6ZX0pfSksdGhpcy5jbGllbnQub24oXCJzZXNzaW9uX2RlbGV0ZVwiLGFzeW5jIHQ9Pnt2YXIgZTt0LnRvcGljPT09KChlPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmUudG9waWMpJiYoYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5ldmVudHMuZW1pdChcInNlc3Npb25fZGVsZXRlXCIsdCksdGhpcy5ldmVudHMuZW1pdChcImRpc2Nvbm5lY3RcIixWKEwoe30sWihcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx7ZGF0YTp0LnRvcGljfSkpKX0pLHRoaXMub24oZC5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsdD0+e3RoaXMub25DaGFpbkNoYW5nZWQodCwhMCl9KX1nZXRQcm92aWRlcih0KXtyZXR1cm4gdGhpcy5ycGNQcm92aWRlcnNbdF18fHRoaXMucnBjUHJvdmlkZXJzW3ddfW9uU2Vzc2lvblVwZGF0ZSgpe09iamVjdC5rZXlzKHRoaXMucnBjUHJvdmlkZXJzKS5mb3JFYWNoKHQ9Pnt2YXIgZTt0aGlzLmdldFByb3ZpZGVyKHQpLnVwZGF0ZU5hbWVzcGFjZSgoZT10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDplLm5hbWVzcGFjZXNbdF0pfSl9c2V0TmFtZXNwYWNlcyh0KXtjb25zdHtuYW1lc3BhY2VzOmUsb3B0aW9uYWxOYW1lc3BhY2VzOmksc2Vzc2lvblByb3BlcnRpZXM6cixzY29wZWRQcm9wZXJ0aWVzOmF9PXQ7ZSYmT2JqZWN0LmtleXMoZSkubGVuZ3RoJiYodGhpcy5uYW1lc3BhY2VzPWUpLGkmJk9iamVjdC5rZXlzKGkpLmxlbmd0aCYmKHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzPWkpLHRoaXMuc2Vzc2lvblByb3BlcnRpZXM9cix0aGlzLnNjb3BlZFByb3BlcnRpZXM9YX12YWxpZGF0ZUNoYWluKHQpe2NvbnN0W2UsaV09dD8uc3BsaXQoXCI6XCIpfHxbXCJcIixcIlwiXTtpZighdGhpcy5uYW1lc3BhY2VzfHwhT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzKS5sZW5ndGgpcmV0dXJuW2UsaV07aWYoZSYmIU9iamVjdC5rZXlzKHRoaXMubmFtZXNwYWNlc3x8e30pLm1hcChuPT5xKG4pKS5pbmNsdWRlcyhlKSl0aHJvdyBuZXcgRXJyb3IoYE5hbWVzcGFjZSAnJHtlfScgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjYWxsIGNvbm5lY3QoKSBmaXJzdCB3aXRoIG5hbWVzcGFjZSBjb25maWcuYCk7aWYoZSYmaSlyZXR1cm5bZSxpXTtjb25zdCByPXEoT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzKVswXSksYT10aGlzLnJwY1Byb3ZpZGVyc1tyXS5nZXREZWZhdWx0Q2hhaW4oKTtyZXR1cm5bcixhXX1hc3luYyByZXF1ZXN0QWNjb3VudHMoKXtjb25zdFt0XT10aGlzLnZhbGlkYXRlQ2hhaW4oKTtyZXR1cm4gYXdhaXQgdGhpcy5nZXRQcm92aWRlcih0KS5yZXF1ZXN0QWNjb3VudHMoKX1hc3luYyBvbkNoYWluQ2hhbmdlZCh0LGU9ITEpe2lmKCF0aGlzLm5hbWVzcGFjZXMpcmV0dXJuO2NvbnN0W2kscl09dGhpcy52YWxpZGF0ZUNoYWluKHQpO3ImJihlfHx0aGlzLmdldFByb3ZpZGVyKGkpLnNldERlZmF1bHRDaGFpbihyKSx0aGlzLm5hbWVzcGFjZXNbaV0/dGhpcy5uYW1lc3BhY2VzW2ldLmRlZmF1bHRDaGFpbj1yOnRoaXMubmFtZXNwYWNlc1tgJHtpfToke3J9YF0/dGhpcy5uYW1lc3BhY2VzW2Ake2l9OiR7cn1gXS5kZWZhdWx0Q2hhaW49cjp0aGlzLm5hbWVzcGFjZXNbYCR7aX06JHtyfWBdPXtkZWZhdWx0Q2hhaW46cn0sdGhpcy5ldmVudHMuZW1pdChcImNoYWluQ2hhbmdlZFwiLHIpLGF3YWl0IHRoaXMucGVyc2lzdChcIm5hbWVzcGFjZXNcIix0aGlzLm5hbWVzcGFjZXMpKX1vbkNvbm5lY3QoKXt0aGlzLmNyZWF0ZVByb3ZpZGVycygpLHRoaXMuZXZlbnRzLmVtaXQoXCJjb25uZWN0XCIse3Nlc3Npb246dGhpcy5zZXNzaW9ufSl9YXN5bmMgY2xlYW51cCgpe3RoaXMubmFtZXNwYWNlcz12b2lkIDAsdGhpcy5vcHRpb25hbE5hbWVzcGFjZXM9dm9pZCAwLHRoaXMuc2Vzc2lvblByb3BlcnRpZXM9dm9pZCAwLGF3YWl0IHRoaXMuZGVsZXRlRnJvbVN0b3JlKFwibmFtZXNwYWNlc1wiKSxhd2FpdCB0aGlzLmRlbGV0ZUZyb21TdG9yZShcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKSxhd2FpdCB0aGlzLmRlbGV0ZUZyb21TdG9yZShcInNlc3Npb25Qcm9wZXJ0aWVzXCIpLHRoaXMuc2Vzc2lvbj12b2lkIDAsYXdhaXQgdGhpcy5jbGVhbnVwUGVuZGluZ1BhaXJpbmdzKHtkZWxldGVQYWlyaW5nczohMH0pLGF3YWl0IHRoaXMuY2xlYW51cFN0b3JhZ2UoKX1hc3luYyBwZXJzaXN0KHQsZSl7dmFyIGk7Y29uc3Qgcj0oKGk9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6aS50b3BpYyl8fFwiXCI7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnNldEl0ZW0oYCR7X30vJHt0fSR7cn1gLGUpfWFzeW5jIGdldEZyb21TdG9yZSh0KXt2YXIgZTtjb25zdCBpPSgoZT10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDplLnRvcGljKXx8XCJcIjtyZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLmdldEl0ZW0oYCR7X30vJHt0fSR7aX1gKX1hc3luYyBkZWxldGVGcm9tU3RvcmUodCl7dmFyIGU7Y29uc3QgaT0oKGU9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6ZS50b3BpYyl8fFwiXCI7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnJlbW92ZUl0ZW0oYCR7X30vJHt0fSR7aX1gKX1hc3luYyBjbGVhbnVwU3RvcmFnZSgpe3ZhciB0O3RyeXtpZigoKHQ9dGhpcy5jbGllbnQpPT1udWxsP3ZvaWQgMDp0LnNlc3Npb24ubGVuZ3RoKT4wKXJldHVybjtjb25zdCBlPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5nZXRLZXlzKCk7Zm9yKGNvbnN0IGkgb2YgZSlpLnN0YXJ0c1dpdGgoXykmJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5yZW1vdmVJdGVtKGkpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLndhcm4oXCJGYWlsZWQgdG8gY2xlYW51cCBzdG9yYWdlXCIsZSl9fX1jb25zdCBlcz14O2V4cG9ydHtlcyBhcyBVbml2ZXJzYWxQcm92aWRlcix4IGFzIGRlZmF1bHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/_shortw_utils.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/_shortw_utils.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCurve: () => (/* binding */ createCurve),\n/* harmony export */   getHash: () => (/* binding */ getHash)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_hmac__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/hashes/hmac */ \"(ssr)/./node_modules/@noble/hashes/esm/hmac.js\");\n/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @noble/hashes/utils */ \"(ssr)/./node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./abstract/weierstrass.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/weierstrass.js\");\n/**\n * Utilities for short weierstrass curves, combined with noble-hashes.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\n\n/** connects noble-curves to noble-hashes */\nfunction getHash(hash) {\n    return {\n        hash,\n        hmac: (key, ...msgs) => (0,_noble_hashes_hmac__WEBPACK_IMPORTED_MODULE_0__.hmac)(hash, key, (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.concatBytes)(...msgs)),\n        randomBytes: _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.randomBytes,\n    };\n}\nfunction createCurve(curveDef, defHash) {\n    const create = (hash) => (0,_abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_2__.weierstrass)({ ...curveDef, ...getHash(hash) });\n    return { ...create(defHash), create };\n}\n//# sourceMappingURL=_shortw_utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9fc2hvcnR3X3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMwQztBQUNxQjtBQUNQO0FBQ3hEO0FBQ087QUFDUDtBQUNBO0FBQ0EsZ0NBQWdDLHdEQUFJLFlBQVksZ0VBQVc7QUFDM0QsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDTztBQUNQLDZCQUE2QixxRUFBVyxHQUFHLCtCQUErQjtBQUMxRSxhQUFhO0FBQ2I7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL19zaG9ydHdfdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVdGlsaXRpZXMgZm9yIHNob3J0IHdlaWVyc3RyYXNzIGN1cnZlcywgY29tYmluZWQgd2l0aCBub2JsZS1oYXNoZXMuXG4gKiBAbW9kdWxlXG4gKi9cbi8qISBub2JsZS1jdXJ2ZXMgLSBNSVQgTGljZW5zZSAoYykgMjAyMiBQYXVsIE1pbGxlciAocGF1bG1pbGxyLmNvbSkgKi9cbmltcG9ydCB7IGhtYWMgfSBmcm9tICdAbm9ibGUvaGFzaGVzL2htYWMnO1xuaW1wb3J0IHsgY29uY2F0Qnl0ZXMsIHJhbmRvbUJ5dGVzIH0gZnJvbSAnQG5vYmxlL2hhc2hlcy91dGlscyc7XG5pbXBvcnQgeyB3ZWllcnN0cmFzcyB9IGZyb20gJy4vYWJzdHJhY3Qvd2VpZXJzdHJhc3MuanMnO1xuLyoqIGNvbm5lY3RzIG5vYmxlLWN1cnZlcyB0byBub2JsZS1oYXNoZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIYXNoKGhhc2gpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBoYXNoLFxuICAgICAgICBobWFjOiAoa2V5LCAuLi5tc2dzKSA9PiBobWFjKGhhc2gsIGtleSwgY29uY2F0Qnl0ZXMoLi4ubXNncykpLFxuICAgICAgICByYW5kb21CeXRlcyxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUN1cnZlKGN1cnZlRGVmLCBkZWZIYXNoKSB7XG4gICAgY29uc3QgY3JlYXRlID0gKGhhc2gpID0+IHdlaWVyc3RyYXNzKHsgLi4uY3VydmVEZWYsIC4uLmdldEhhc2goaGFzaCkgfSk7XG4gICAgcmV0dXJuIHsgLi4uY3JlYXRlKGRlZkhhc2gpLCBjcmVhdGUgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPV9zaG9ydHdfdXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/_shortw_utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/curve.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/curve.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pippenger: () => (/* binding */ pippenger),\n/* harmony export */   precomputeMSMUnsafe: () => (/* binding */ precomputeMSMUnsafe),\n/* harmony export */   validateBasic: () => (/* binding */ validateBasic),\n/* harmony export */   wNAF: () => (/* binding */ wNAF)\n/* harmony export */ });\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/utils.js\");\n/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nfunction constTimeNegate(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\nfunction validateW(W, bits) {\n    if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n        throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\nfunction calcWOpts(W, bits) {\n    validateW(W, bits);\n    const windows = Math.ceil(bits / W) + 1; // +1, because\n    const windowSize = 2 ** (W - 1); // -1 because we skip zero\n    return { windows, windowSize };\n}\nfunction validateMSMPoints(points, c) {\n    if (!Array.isArray(points))\n        throw new Error('array expected');\n    points.forEach((p, i) => {\n        if (!(p instanceof c))\n            throw new Error('invalid point at index ' + i);\n    });\n}\nfunction validateMSMScalars(scalars, field) {\n    if (!Array.isArray(scalars))\n        throw new Error('array of scalars expected');\n    scalars.forEach((s, i) => {\n        if (!field.isValid(s))\n            throw new Error('invalid scalar at index ' + i);\n    });\n}\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes\nconst pointPrecomputes = new WeakMap();\nconst pointWindowSizes = new WeakMap(); // This allows use make points immutable (nothing changes inside)\nfunction getW(P) {\n    return pointWindowSizes.get(P) || 1;\n}\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / 𝑊) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nfunction wNAF(c, bits) {\n    return {\n        constTimeNegate,\n        hasPrecomputes(elm) {\n            return getW(elm) !== 1;\n        },\n        // non-const time multiplication ladder\n        unsafeLadder(elm, n, p = c.ZERO) {\n            let d = elm;\n            while (n > _0n) {\n                if (n & _1n)\n                    p = p.add(d);\n                d = d.double();\n                n >>= _1n;\n            }\n            return p;\n        },\n        /**\n         * Creates a wNAF precomputation window. Used for caching.\n         * Default window size is set by `utils.precompute()` and is equal to 8.\n         * Number of precomputed points depends on the curve size:\n         * 2^(𝑊−1) * (Math.ceil(𝑛 / 𝑊) + 1), where:\n         * - 𝑊 is the window size\n         * - 𝑛 is the bitlength of the curve order.\n         * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n         * @param elm Point instance\n         * @param W window size\n         * @returns precomputed point tables flattened to a single array\n         */\n        precomputeWindow(elm, W) {\n            const { windows, windowSize } = calcWOpts(W, bits);\n            const points = [];\n            let p = elm;\n            let base = p;\n            for (let window = 0; window < windows; window++) {\n                base = p;\n                points.push(base);\n                // =1, because we skip zero\n                for (let i = 1; i < windowSize; i++) {\n                    base = base.add(p);\n                    points.push(base);\n                }\n                p = base.double();\n            }\n            return points;\n        },\n        /**\n         * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n         * @param W window size\n         * @param precomputes precomputed tables\n         * @param n scalar (we don't check here, but should be less than curve order)\n         * @returns real and fake (for const-time) points\n         */\n        wNAF(W, precomputes, n) {\n            // TODO: maybe check that scalar is less than group order? wNAF behavious is undefined otherwise\n            // But need to carefully remove other checks before wNAF. ORDER == bits here\n            const { windows, windowSize } = calcWOpts(W, bits);\n            let p = c.ZERO;\n            let f = c.BASE;\n            const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n            const maxNumber = 2 ** W;\n            const shiftBy = BigInt(W);\n            for (let window = 0; window < windows; window++) {\n                const offset = window * windowSize;\n                // Extract W bits.\n                let wbits = Number(n & mask);\n                // Shift number by W bits.\n                n >>= shiftBy;\n                // If the bits are bigger than max size, we'll split those.\n                // +224 => 256 - 32\n                if (wbits > windowSize) {\n                    wbits -= maxNumber;\n                    n += _1n;\n                }\n                // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n                // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n                // there is negate now: it is possible that negated element from low value\n                // would be the same as high element, which will create carry into next window.\n                // It's not obvious how this can fail, but still worth investigating later.\n                // Check if we're onto Zero point.\n                // Add random point inside current window to f.\n                const offset1 = offset;\n                const offset2 = offset + Math.abs(wbits) - 1; // -1 because we skip zero\n                const cond1 = window % 2 !== 0;\n                const cond2 = wbits < 0;\n                if (wbits === 0) {\n                    // The most important part for const-time getPublicKey\n                    f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n                }\n                else {\n                    p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n                }\n            }\n            // JIT-compiler should not eliminate f here, since it will later be used in normalizeZ()\n            // Even if the variable is still unused, there are some checks which will\n            // throw an exception, so compiler needs to prove they won't happen, which is hard.\n            // At this point there is a way to F be infinity-point even if p is not,\n            // which makes it less const-time: around 1 bigint multiply.\n            return { p, f };\n        },\n        /**\n         * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n         * @param W window size\n         * @param precomputes precomputed tables\n         * @param n scalar (we don't check here, but should be less than curve order)\n         * @param acc accumulator point to add result of multiplication\n         * @returns point\n         */\n        wNAFUnsafe(W, precomputes, n, acc = c.ZERO) {\n            const { windows, windowSize } = calcWOpts(W, bits);\n            const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n            const maxNumber = 2 ** W;\n            const shiftBy = BigInt(W);\n            for (let window = 0; window < windows; window++) {\n                const offset = window * windowSize;\n                if (n === _0n)\n                    break; // No need to go over empty scalar\n                // Extract W bits.\n                let wbits = Number(n & mask);\n                // Shift number by W bits.\n                n >>= shiftBy;\n                // If the bits are bigger than max size, we'll split those.\n                // +224 => 256 - 32\n                if (wbits > windowSize) {\n                    wbits -= maxNumber;\n                    n += _1n;\n                }\n                if (wbits === 0)\n                    continue;\n                let curr = precomputes[offset + Math.abs(wbits) - 1]; // -1 because we skip zero\n                if (wbits < 0)\n                    curr = curr.negate();\n                // NOTE: by re-using acc, we can save a lot of additions in case of MSM\n                acc = acc.add(curr);\n            }\n            return acc;\n        },\n        getPrecomputes(W, P, transform) {\n            // Calculate precomputes on a first run, reuse them after\n            let comp = pointPrecomputes.get(P);\n            if (!comp) {\n                comp = this.precomputeWindow(P, W);\n                if (W !== 1)\n                    pointPrecomputes.set(P, transform(comp));\n            }\n            return comp;\n        },\n        wNAFCached(P, n, transform) {\n            const W = getW(P);\n            return this.wNAF(W, this.getPrecomputes(W, P, transform), n);\n        },\n        wNAFCachedUnsafe(P, n, transform, prev) {\n            const W = getW(P);\n            if (W === 1)\n                return this.unsafeLadder(P, n, prev); // For W=1 ladder is ~x2 faster\n            return this.wNAFUnsafe(W, this.getPrecomputes(W, P, transform), n, prev);\n        },\n        // We calculate precomputes for elliptic curve point multiplication\n        // using windowed method. This specifies window size and\n        // stores precomputed values. Usually only base point would be precomputed.\n        setWindowSize(P, W) {\n            validateW(W, bits);\n            pointWindowSizes.set(P, W);\n            pointPrecomputes.delete(P);\n        },\n    };\n}\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster with precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka private keys / bigints)\n */\nfunction pippenger(c, fieldN, points, scalars) {\n    // If we split scalars by some window (let's say 8 bits), every chunk will only\n    // take 256 buckets even if there are 4096 scalars, also re-uses double.\n    // TODO:\n    // - https://eprint.iacr.org/2024/750.pdf\n    // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n    // 0 is accepted in scalars\n    validateMSMPoints(points, c);\n    validateMSMScalars(scalars, fieldN);\n    if (points.length !== scalars.length)\n        throw new Error('arrays of points and scalars must have equal length');\n    const zero = c.ZERO;\n    const wbits = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitLen)(BigInt(points.length));\n    const windowSize = wbits > 12 ? wbits - 3 : wbits > 4 ? wbits - 2 : wbits ? 2 : 1; // in bits\n    const MASK = (1 << windowSize) - 1;\n    const buckets = new Array(MASK + 1).fill(zero); // +1 for zero array\n    const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n    let sum = zero;\n    for (let i = lastBits; i >= 0; i -= windowSize) {\n        buckets.fill(zero);\n        for (let j = 0; j < scalars.length; j++) {\n            const scalar = scalars[j];\n            const wbits = Number((scalar >> BigInt(i)) & BigInt(MASK));\n            buckets[wbits] = buckets[wbits].add(points[j]);\n        }\n        let resI = zero; // not using this will do small speed-up, but will lose ct\n        // Skip first bucket, because it is zero\n        for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n            sumI = sumI.add(buckets[j]);\n            resI = resI.add(sumI);\n        }\n        sum = sum.add(resI);\n        if (i !== 0)\n            for (let j = 0; j < windowSize; j++)\n                sum = sum.double();\n    }\n    return sum;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nfunction precomputeMSMUnsafe(c, fieldN, points, windowSize) {\n    /**\n     * Performance Analysis of Window-based Precomputation\n     *\n     * Base Case (256-bit scalar, 8-bit window):\n     * - Standard precomputation requires:\n     *   - 31 additions per scalar × 256 scalars = 7,936 ops\n     *   - Plus 255 summary additions = 8,191 total ops\n     *   Note: Summary additions can be optimized via accumulator\n     *\n     * Chunked Precomputation Analysis:\n     * - Using 32 chunks requires:\n     *   - 255 additions per chunk\n     *   - 256 doublings\n     *   - Total: (255 × 32) + 256 = 8,416 ops\n     *\n     * Memory Usage Comparison:\n     * Window Size | Standard Points | Chunked Points\n     * ------------|-----------------|---------------\n     *     4-bit   |     520         |      15\n     *     8-bit   |    4,224        |     255\n     *    10-bit   |   13,824        |   1,023\n     *    16-bit   |  557,056        |  65,535\n     *\n     * Key Advantages:\n     * 1. Enables larger window sizes due to reduced memory overhead\n     * 2. More efficient for smaller scalar counts:\n     *    - 16 chunks: (16 × 255) + 256 = 4,336 ops\n     *    - ~2x faster than standard 8,191 ops\n     *\n     * Limitations:\n     * - Not suitable for plain precomputes (requires 256 constant doublings)\n     * - Performance degrades with larger scalar counts:\n     *   - Optimal for ~256 scalars\n     *   - Less efficient for 4096+ scalars (Pippenger preferred)\n     */\n    validateW(windowSize, fieldN.BITS);\n    validateMSMPoints(points, c);\n    const zero = c.ZERO;\n    const tableSize = 2 ** windowSize - 1; // table size (without zero)\n    const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n    const MASK = BigInt((1 << windowSize) - 1);\n    const tables = points.map((p) => {\n        const res = [];\n        for (let i = 0, acc = p; i < tableSize; i++) {\n            res.push(acc);\n            acc = acc.add(p);\n        }\n        return res;\n    });\n    return (scalars) => {\n        validateMSMScalars(scalars, fieldN);\n        if (scalars.length > points.length)\n            throw new Error('array of scalars must be smaller than array of points');\n        let res = zero;\n        for (let i = 0; i < chunks; i++) {\n            // No need to double if accumulator is still zero.\n            if (res !== zero)\n                for (let j = 0; j < windowSize; j++)\n                    res = res.double();\n            const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n            for (let j = 0; j < scalars.length; j++) {\n                const n = scalars[j];\n                const curr = Number((n >> shiftBy) & MASK);\n                if (!curr)\n                    continue; // skip zero scalars chunks\n                res = res.add(tables[j][curr - 1]);\n            }\n        }\n        return res;\n    };\n}\nfunction validateBasic(curve) {\n    (0,_modular_js__WEBPACK_IMPORTED_MODULE_1__.validateField)(curve.Fp);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject)(curve, {\n        n: 'bigint',\n        h: 'bigint',\n        Gx: 'field',\n        Gy: 'field',\n    }, {\n        nBitLength: 'isSafeInteger',\n        nByteLength: 'isSafeInteger',\n    });\n    // Set defaults\n    return Object.freeze({\n        ...(0,_modular_js__WEBPACK_IMPORTED_MODULE_1__.nLength)(curve.n, curve.nBitLength),\n        ...curve,\n        ...{ p: curve.Fp.ORDER },\n    });\n}\n//# sourceMappingURL=curve.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC9jdXJ2ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDc0Q7QUFDRjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0MscUNBQXFDO0FBQ3JDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGtCQUFrQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0JBQWdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0EsaUNBQWlDLGtCQUFrQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUMsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQSxpQ0FBaUMsa0JBQWtCO0FBQ25EO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsaURBQU07QUFDeEIsdUZBQXVGO0FBQ3ZGO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQSwyQkFBMkIsUUFBUTtBQUNuQztBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxzREFBc0QsT0FBTztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdCQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBLGdDQUFnQyxnQkFBZ0I7QUFDaEQ7QUFDQTtBQUNBLDRCQUE0QixvQkFBb0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsSUFBSSwwREFBYTtBQUNqQixJQUFJLHlEQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFdBQVcsb0RBQU87QUFDbEI7QUFDQSxhQUFhLG1CQUFtQjtBQUNoQyxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L2N1cnZlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTWV0aG9kcyBmb3IgZWxsaXB0aWMgY3VydmUgbXVsdGlwbGljYXRpb24gYnkgc2NhbGFycy5cbiAqIENvbnRhaW5zIHdOQUYsIHBpcHBlbmdlclxuICogQG1vZHVsZVxuICovXG4vKiEgbm9ibGUtY3VydmVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovXG5pbXBvcnQgeyBuTGVuZ3RoLCB2YWxpZGF0ZUZpZWxkIH0gZnJvbSAnLi9tb2R1bGFyLmpzJztcbmltcG9ydCB7IGJpdExlbiwgdmFsaWRhdGVPYmplY3QgfSBmcm9tICcuL3V0aWxzLmpzJztcbmNvbnN0IF8wbiA9IEJpZ0ludCgwKTtcbmNvbnN0IF8xbiA9IEJpZ0ludCgxKTtcbmZ1bmN0aW9uIGNvbnN0VGltZU5lZ2F0ZShjb25kaXRpb24sIGl0ZW0pIHtcbiAgICBjb25zdCBuZWcgPSBpdGVtLm5lZ2F0ZSgpO1xuICAgIHJldHVybiBjb25kaXRpb24gPyBuZWcgOiBpdGVtO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVXKFcsIGJpdHMpIHtcbiAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKFcpIHx8IFcgPD0gMCB8fCBXID4gYml0cylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHdpbmRvdyBzaXplLCBleHBlY3RlZCBbMS4uJyArIGJpdHMgKyAnXSwgZ290IFc9JyArIFcpO1xufVxuZnVuY3Rpb24gY2FsY1dPcHRzKFcsIGJpdHMpIHtcbiAgICB2YWxpZGF0ZVcoVywgYml0cyk7XG4gICAgY29uc3Qgd2luZG93cyA9IE1hdGguY2VpbChiaXRzIC8gVykgKyAxOyAvLyArMSwgYmVjYXVzZVxuICAgIGNvbnN0IHdpbmRvd1NpemUgPSAyICoqIChXIC0gMSk7IC8vIC0xIGJlY2F1c2Ugd2Ugc2tpcCB6ZXJvXG4gICAgcmV0dXJuIHsgd2luZG93cywgd2luZG93U2l6ZSB9O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVNU01Qb2ludHMocG9pbnRzLCBjKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBvaW50cykpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYXJyYXkgZXhwZWN0ZWQnKTtcbiAgICBwb2ludHMuZm9yRWFjaCgocCwgaSkgPT4ge1xuICAgICAgICBpZiAoIShwIGluc3RhbmNlb2YgYykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcG9pbnQgYXQgaW5kZXggJyArIGkpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVNU01TY2FsYXJzKHNjYWxhcnMsIGZpZWxkKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNjYWxhcnMpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FycmF5IG9mIHNjYWxhcnMgZXhwZWN0ZWQnKTtcbiAgICBzY2FsYXJzLmZvckVhY2goKHMsIGkpID0+IHtcbiAgICAgICAgaWYgKCFmaWVsZC5pc1ZhbGlkKHMpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHNjYWxhciBhdCBpbmRleCAnICsgaSk7XG4gICAgfSk7XG59XG4vLyBTaW5jZSBwb2ludHMgaW4gZGlmZmVyZW50IGdyb3VwcyBjYW5ub3QgYmUgZXF1YWwgKGRpZmZlcmVudCBvYmplY3QgY29uc3RydWN0b3IpLFxuLy8gd2UgY2FuIGhhdmUgc2luZ2xlIHBsYWNlIHRvIHN0b3JlIHByZWNvbXB1dGVzXG5jb25zdCBwb2ludFByZWNvbXB1dGVzID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHBvaW50V2luZG93U2l6ZXMgPSBuZXcgV2Vha01hcCgpOyAvLyBUaGlzIGFsbG93cyB1c2UgbWFrZSBwb2ludHMgaW1tdXRhYmxlIChub3RoaW5nIGNoYW5nZXMgaW5zaWRlKVxuZnVuY3Rpb24gZ2V0VyhQKSB7XG4gICAgcmV0dXJuIHBvaW50V2luZG93U2l6ZXMuZ2V0KFApIHx8IDE7XG59XG4vKipcbiAqIEVsbGlwdGljIGN1cnZlIG11bHRpcGxpY2F0aW9uIG9mIFBvaW50IGJ5IHNjYWxhci4gRnJhZ2lsZS5cbiAqIFNjYWxhcnMgc2hvdWxkIGFsd2F5cyBiZSBsZXNzIHRoYW4gY3VydmUgb3JkZXI6IHRoaXMgc2hvdWxkIGJlIGNoZWNrZWQgaW5zaWRlIG9mIGEgY3VydmUgaXRzZWxmLlxuICogQ3JlYXRlcyBwcmVjb21wdXRhdGlvbiB0YWJsZXMgZm9yIGZhc3QgbXVsdGlwbGljYXRpb246XG4gKiAtIHByaXZhdGUgc2NhbGFyIGlzIHNwbGl0IGJ5IGZpeGVkIHNpemUgd2luZG93cyBvZiBXIGJpdHNcbiAqIC0gZXZlcnkgd2luZG93IHBvaW50IGlzIGNvbGxlY3RlZCBmcm9tIHdpbmRvdydzIHRhYmxlICYgYWRkZWQgdG8gYWNjdW11bGF0b3JcbiAqIC0gc2luY2Ugd2luZG93cyBhcmUgZGlmZmVyZW50LCBzYW1lIHBvaW50IGluc2lkZSB0YWJsZXMgd29uJ3QgYmUgYWNjZXNzZWQgbW9yZSB0aGFuIG9uY2UgcGVyIGNhbGNcbiAqIC0gZWFjaCBtdWx0aXBsaWNhdGlvbiBpcyAnTWF0aC5jZWlsKENVUlZFX09SREVSIC8g8J2RiikgKyAxJyBwb2ludCBhZGRpdGlvbnMgKGZpeGVkIGZvciBhbnkgc2NhbGFyKVxuICogLSArMSB3aW5kb3cgaXMgbmVjY2Vzc2FyeSBmb3Igd05BRlxuICogLSB3TkFGIHJlZHVjZXMgdGFibGUgc2l6ZTogMnggbGVzcyBtZW1vcnkgKyAyeCBmYXN0ZXIgZ2VuZXJhdGlvbiwgYnV0IDEwJSBzbG93ZXIgbXVsdGlwbGljYXRpb25cbiAqXG4gKiBAdG9kbyBSZXNlYXJjaCByZXR1cm5pbmcgMmQgSlMgYXJyYXkgb2Ygd2luZG93cywgaW5zdGVhZCBvZiBhIHNpbmdsZSB3aW5kb3cuXG4gKiBUaGlzIHdvdWxkIGFsbG93IHdpbmRvd3MgdG8gYmUgaW4gZGlmZmVyZW50IG1lbW9yeSBsb2NhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdOQUYoYywgYml0cykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbnN0VGltZU5lZ2F0ZSxcbiAgICAgICAgaGFzUHJlY29tcHV0ZXMoZWxtKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VyhlbG0pICE9PSAxO1xuICAgICAgICB9LFxuICAgICAgICAvLyBub24tY29uc3QgdGltZSBtdWx0aXBsaWNhdGlvbiBsYWRkZXJcbiAgICAgICAgdW5zYWZlTGFkZGVyKGVsbSwgbiwgcCA9IGMuWkVSTykge1xuICAgICAgICAgICAgbGV0IGQgPSBlbG07XG4gICAgICAgICAgICB3aGlsZSAobiA+IF8wbikge1xuICAgICAgICAgICAgICAgIGlmIChuICYgXzFuKVxuICAgICAgICAgICAgICAgICAgICBwID0gcC5hZGQoZCk7XG4gICAgICAgICAgICAgICAgZCA9IGQuZG91YmxlKCk7XG4gICAgICAgICAgICAgICAgbiA+Pj0gXzFuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEgd05BRiBwcmVjb21wdXRhdGlvbiB3aW5kb3cuIFVzZWQgZm9yIGNhY2hpbmcuXG4gICAgICAgICAqIERlZmF1bHQgd2luZG93IHNpemUgaXMgc2V0IGJ5IGB1dGlscy5wcmVjb21wdXRlKClgIGFuZCBpcyBlcXVhbCB0byA4LlxuICAgICAgICAgKiBOdW1iZXIgb2YgcHJlY29tcHV0ZWQgcG9pbnRzIGRlcGVuZHMgb24gdGhlIGN1cnZlIHNpemU6XG4gICAgICAgICAqIDJeKPCdkYriiJIxKSAqIChNYXRoLmNlaWwo8J2RmyAvIPCdkYopICsgMSksIHdoZXJlOlxuICAgICAgICAgKiAtIPCdkYogaXMgdGhlIHdpbmRvdyBzaXplXG4gICAgICAgICAqIC0g8J2RmyBpcyB0aGUgYml0bGVuZ3RoIG9mIHRoZSBjdXJ2ZSBvcmRlci5cbiAgICAgICAgICogRm9yIGEgMjU2LWJpdCBjdXJ2ZSBhbmQgd2luZG93IHNpemUgOCwgdGhlIG51bWJlciBvZiBwcmVjb21wdXRlZCBwb2ludHMgaXMgMTI4ICogMzMgPSA0MjI0LlxuICAgICAgICAgKiBAcGFyYW0gZWxtIFBvaW50IGluc3RhbmNlXG4gICAgICAgICAqIEBwYXJhbSBXIHdpbmRvdyBzaXplXG4gICAgICAgICAqIEByZXR1cm5zIHByZWNvbXB1dGVkIHBvaW50IHRhYmxlcyBmbGF0dGVuZWQgdG8gYSBzaW5nbGUgYXJyYXlcbiAgICAgICAgICovXG4gICAgICAgIHByZWNvbXB1dGVXaW5kb3coZWxtLCBXKSB7XG4gICAgICAgICAgICBjb25zdCB7IHdpbmRvd3MsIHdpbmRvd1NpemUgfSA9IGNhbGNXT3B0cyhXLCBiaXRzKTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IFtdO1xuICAgICAgICAgICAgbGV0IHAgPSBlbG07XG4gICAgICAgICAgICBsZXQgYmFzZSA9IHA7XG4gICAgICAgICAgICBmb3IgKGxldCB3aW5kb3cgPSAwOyB3aW5kb3cgPCB3aW5kb3dzOyB3aW5kb3crKykge1xuICAgICAgICAgICAgICAgIGJhc2UgPSBwO1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGJhc2UpO1xuICAgICAgICAgICAgICAgIC8vID0xLCBiZWNhdXNlIHdlIHNraXAgemVyb1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgd2luZG93U2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UgPSBiYXNlLmFkZChwKTtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goYmFzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHAgPSBiYXNlLmRvdWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcGxlbWVudHMgZWMgbXVsdGlwbGljYXRpb24gdXNpbmcgcHJlY29tcHV0ZWQgdGFibGVzIGFuZCB3LWFyeSBub24tYWRqYWNlbnQgZm9ybS5cbiAgICAgICAgICogQHBhcmFtIFcgd2luZG93IHNpemVcbiAgICAgICAgICogQHBhcmFtIHByZWNvbXB1dGVzIHByZWNvbXB1dGVkIHRhYmxlc1xuICAgICAgICAgKiBAcGFyYW0gbiBzY2FsYXIgKHdlIGRvbid0IGNoZWNrIGhlcmUsIGJ1dCBzaG91bGQgYmUgbGVzcyB0aGFuIGN1cnZlIG9yZGVyKVxuICAgICAgICAgKiBAcmV0dXJucyByZWFsIGFuZCBmYWtlIChmb3IgY29uc3QtdGltZSkgcG9pbnRzXG4gICAgICAgICAqL1xuICAgICAgICB3TkFGKFcsIHByZWNvbXB1dGVzLCBuKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBtYXliZSBjaGVjayB0aGF0IHNjYWxhciBpcyBsZXNzIHRoYW4gZ3JvdXAgb3JkZXI/IHdOQUYgYmVoYXZpb3VzIGlzIHVuZGVmaW5lZCBvdGhlcndpc2VcbiAgICAgICAgICAgIC8vIEJ1dCBuZWVkIHRvIGNhcmVmdWxseSByZW1vdmUgb3RoZXIgY2hlY2tzIGJlZm9yZSB3TkFGLiBPUkRFUiA9PSBiaXRzIGhlcmVcbiAgICAgICAgICAgIGNvbnN0IHsgd2luZG93cywgd2luZG93U2l6ZSB9ID0gY2FsY1dPcHRzKFcsIGJpdHMpO1xuICAgICAgICAgICAgbGV0IHAgPSBjLlpFUk87XG4gICAgICAgICAgICBsZXQgZiA9IGMuQkFTRTtcbiAgICAgICAgICAgIGNvbnN0IG1hc2sgPSBCaWdJbnQoMiAqKiBXIC0gMSk7IC8vIENyZWF0ZSBtYXNrIHdpdGggVyBvbmVzOiAwYjExMTEgZm9yIFc9NCBldGMuXG4gICAgICAgICAgICBjb25zdCBtYXhOdW1iZXIgPSAyICoqIFc7XG4gICAgICAgICAgICBjb25zdCBzaGlmdEJ5ID0gQmlnSW50KFcpO1xuICAgICAgICAgICAgZm9yIChsZXQgd2luZG93ID0gMDsgd2luZG93IDwgd2luZG93czsgd2luZG93KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB3aW5kb3cgKiB3aW5kb3dTaXplO1xuICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgVyBiaXRzLlxuICAgICAgICAgICAgICAgIGxldCB3Yml0cyA9IE51bWJlcihuICYgbWFzayk7XG4gICAgICAgICAgICAgICAgLy8gU2hpZnQgbnVtYmVyIGJ5IFcgYml0cy5cbiAgICAgICAgICAgICAgICBuID4+PSBzaGlmdEJ5O1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBiaXRzIGFyZSBiaWdnZXIgdGhhbiBtYXggc2l6ZSwgd2UnbGwgc3BsaXQgdGhvc2UuXG4gICAgICAgICAgICAgICAgLy8gKzIyNCA9PiAyNTYgLSAzMlxuICAgICAgICAgICAgICAgIGlmICh3Yml0cyA+IHdpbmRvd1NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2JpdHMgLT0gbWF4TnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBuICs9IF8xbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBjb2RlIHdhcyBmaXJzdCB3cml0dGVuIHdpdGggYXNzdW1wdGlvbiB0aGF0ICdmJyBhbmQgJ3AnIHdpbGwgbmV2ZXIgYmUgaW5maW5pdHkgcG9pbnQ6XG4gICAgICAgICAgICAgICAgLy8gc2luY2UgZWFjaCBhZGRpdGlvbiBpcyBtdWx0aXBsaWVkIGJ5IDIgKiogVywgaXQgY2Fubm90IGNhbmNlbCBlYWNoIG90aGVyLiBIb3dldmVyLFxuICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5lZ2F0ZSBub3c6IGl0IGlzIHBvc3NpYmxlIHRoYXQgbmVnYXRlZCBlbGVtZW50IGZyb20gbG93IHZhbHVlXG4gICAgICAgICAgICAgICAgLy8gd291bGQgYmUgdGhlIHNhbWUgYXMgaGlnaCBlbGVtZW50LCB3aGljaCB3aWxsIGNyZWF0ZSBjYXJyeSBpbnRvIG5leHQgd2luZG93LlxuICAgICAgICAgICAgICAgIC8vIEl0J3Mgbm90IG9idmlvdXMgaG93IHRoaXMgY2FuIGZhaWwsIGJ1dCBzdGlsbCB3b3J0aCBpbnZlc3RpZ2F0aW5nIGxhdGVyLlxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIG9udG8gWmVybyBwb2ludC5cbiAgICAgICAgICAgICAgICAvLyBBZGQgcmFuZG9tIHBvaW50IGluc2lkZSBjdXJyZW50IHdpbmRvdyB0byBmLlxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldDEgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0MiA9IG9mZnNldCArIE1hdGguYWJzKHdiaXRzKSAtIDE7IC8vIC0xIGJlY2F1c2Ugd2Ugc2tpcCB6ZXJvXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZDEgPSB3aW5kb3cgJSAyICE9PSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmQyID0gd2JpdHMgPCAwO1xuICAgICAgICAgICAgICAgIGlmICh3Yml0cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbW9zdCBpbXBvcnRhbnQgcGFydCBmb3IgY29uc3QtdGltZSBnZXRQdWJsaWNLZXlcbiAgICAgICAgICAgICAgICAgICAgZiA9IGYuYWRkKGNvbnN0VGltZU5lZ2F0ZShjb25kMSwgcHJlY29tcHV0ZXNbb2Zmc2V0MV0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLmFkZChjb25zdFRpbWVOZWdhdGUoY29uZDIsIHByZWNvbXB1dGVzW29mZnNldDJdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSklULWNvbXBpbGVyIHNob3VsZCBub3QgZWxpbWluYXRlIGYgaGVyZSwgc2luY2UgaXQgd2lsbCBsYXRlciBiZSB1c2VkIGluIG5vcm1hbGl6ZVooKVxuICAgICAgICAgICAgLy8gRXZlbiBpZiB0aGUgdmFyaWFibGUgaXMgc3RpbGwgdW51c2VkLCB0aGVyZSBhcmUgc29tZSBjaGVja3Mgd2hpY2ggd2lsbFxuICAgICAgICAgICAgLy8gdGhyb3cgYW4gZXhjZXB0aW9uLCBzbyBjb21waWxlciBuZWVkcyB0byBwcm92ZSB0aGV5IHdvbid0IGhhcHBlbiwgd2hpY2ggaXMgaGFyZC5cbiAgICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlcmUgaXMgYSB3YXkgdG8gRiBiZSBpbmZpbml0eS1wb2ludCBldmVuIGlmIHAgaXMgbm90LFxuICAgICAgICAgICAgLy8gd2hpY2ggbWFrZXMgaXQgbGVzcyBjb25zdC10aW1lOiBhcm91bmQgMSBiaWdpbnQgbXVsdGlwbHkuXG4gICAgICAgICAgICByZXR1cm4geyBwLCBmIH07XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBsZW1lbnRzIGVjIHVuc2FmZSAobm9uIGNvbnN0LXRpbWUpIG11bHRpcGxpY2F0aW9uIHVzaW5nIHByZWNvbXB1dGVkIHRhYmxlcyBhbmQgdy1hcnkgbm9uLWFkamFjZW50IGZvcm0uXG4gICAgICAgICAqIEBwYXJhbSBXIHdpbmRvdyBzaXplXG4gICAgICAgICAqIEBwYXJhbSBwcmVjb21wdXRlcyBwcmVjb21wdXRlZCB0YWJsZXNcbiAgICAgICAgICogQHBhcmFtIG4gc2NhbGFyICh3ZSBkb24ndCBjaGVjayBoZXJlLCBidXQgc2hvdWxkIGJlIGxlc3MgdGhhbiBjdXJ2ZSBvcmRlcilcbiAgICAgICAgICogQHBhcmFtIGFjYyBhY2N1bXVsYXRvciBwb2ludCB0byBhZGQgcmVzdWx0IG9mIG11bHRpcGxpY2F0aW9uXG4gICAgICAgICAqIEByZXR1cm5zIHBvaW50XG4gICAgICAgICAqL1xuICAgICAgICB3TkFGVW5zYWZlKFcsIHByZWNvbXB1dGVzLCBuLCBhY2MgPSBjLlpFUk8pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgd2luZG93cywgd2luZG93U2l6ZSB9ID0gY2FsY1dPcHRzKFcsIGJpdHMpO1xuICAgICAgICAgICAgY29uc3QgbWFzayA9IEJpZ0ludCgyICoqIFcgLSAxKTsgLy8gQ3JlYXRlIG1hc2sgd2l0aCBXIG9uZXM6IDBiMTExMSBmb3IgVz00IGV0Yy5cbiAgICAgICAgICAgIGNvbnN0IG1heE51bWJlciA9IDIgKiogVztcbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0QnkgPSBCaWdJbnQoVyk7XG4gICAgICAgICAgICBmb3IgKGxldCB3aW5kb3cgPSAwOyB3aW5kb3cgPCB3aW5kb3dzOyB3aW5kb3crKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHdpbmRvdyAqIHdpbmRvd1NpemU7XG4gICAgICAgICAgICAgICAgaWYgKG4gPT09IF8wbilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIE5vIG5lZWQgdG8gZ28gb3ZlciBlbXB0eSBzY2FsYXJcbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IFcgYml0cy5cbiAgICAgICAgICAgICAgICBsZXQgd2JpdHMgPSBOdW1iZXIobiAmIG1hc2spO1xuICAgICAgICAgICAgICAgIC8vIFNoaWZ0IG51bWJlciBieSBXIGJpdHMuXG4gICAgICAgICAgICAgICAgbiA+Pj0gc2hpZnRCeTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYml0cyBhcmUgYmlnZ2VyIHRoYW4gbWF4IHNpemUsIHdlJ2xsIHNwbGl0IHRob3NlLlxuICAgICAgICAgICAgICAgIC8vICsyMjQgPT4gMjU2IC0gMzJcbiAgICAgICAgICAgICAgICBpZiAod2JpdHMgPiB3aW5kb3dTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHdiaXRzIC09IG1heE51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgbiArPSBfMW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh3Yml0cyA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBwcmVjb21wdXRlc1tvZmZzZXQgKyBNYXRoLmFicyh3Yml0cykgLSAxXTsgLy8gLTEgYmVjYXVzZSB3ZSBza2lwIHplcm9cbiAgICAgICAgICAgICAgICBpZiAod2JpdHMgPCAwKVxuICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3Vyci5uZWdhdGUoKTtcbiAgICAgICAgICAgICAgICAvLyBOT1RFOiBieSByZS11c2luZyBhY2MsIHdlIGNhbiBzYXZlIGEgbG90IG9mIGFkZGl0aW9ucyBpbiBjYXNlIG9mIE1TTVxuICAgICAgICAgICAgICAgIGFjYyA9IGFjYy5hZGQoY3Vycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LFxuICAgICAgICBnZXRQcmVjb21wdXRlcyhXLCBQLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwcmVjb21wdXRlcyBvbiBhIGZpcnN0IHJ1biwgcmV1c2UgdGhlbSBhZnRlclxuICAgICAgICAgICAgbGV0IGNvbXAgPSBwb2ludFByZWNvbXB1dGVzLmdldChQKTtcbiAgICAgICAgICAgIGlmICghY29tcCkge1xuICAgICAgICAgICAgICAgIGNvbXAgPSB0aGlzLnByZWNvbXB1dGVXaW5kb3coUCwgVyk7XG4gICAgICAgICAgICAgICAgaWYgKFcgIT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHBvaW50UHJlY29tcHV0ZXMuc2V0KFAsIHRyYW5zZm9ybShjb21wKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcDtcbiAgICAgICAgfSxcbiAgICAgICAgd05BRkNhY2hlZChQLCBuLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGNvbnN0IFcgPSBnZXRXKFApO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMud05BRihXLCB0aGlzLmdldFByZWNvbXB1dGVzKFcsIFAsIHRyYW5zZm9ybSksIG4pO1xuICAgICAgICB9LFxuICAgICAgICB3TkFGQ2FjaGVkVW5zYWZlKFAsIG4sIHRyYW5zZm9ybSwgcHJldikge1xuICAgICAgICAgICAgY29uc3QgVyA9IGdldFcoUCk7XG4gICAgICAgICAgICBpZiAoVyA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51bnNhZmVMYWRkZXIoUCwgbiwgcHJldik7IC8vIEZvciBXPTEgbGFkZGVyIGlzIH54MiBmYXN0ZXJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndOQUZVbnNhZmUoVywgdGhpcy5nZXRQcmVjb21wdXRlcyhXLCBQLCB0cmFuc2Zvcm0pLCBuLCBwcmV2KTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gV2UgY2FsY3VsYXRlIHByZWNvbXB1dGVzIGZvciBlbGxpcHRpYyBjdXJ2ZSBwb2ludCBtdWx0aXBsaWNhdGlvblxuICAgICAgICAvLyB1c2luZyB3aW5kb3dlZCBtZXRob2QuIFRoaXMgc3BlY2lmaWVzIHdpbmRvdyBzaXplIGFuZFxuICAgICAgICAvLyBzdG9yZXMgcHJlY29tcHV0ZWQgdmFsdWVzLiBVc3VhbGx5IG9ubHkgYmFzZSBwb2ludCB3b3VsZCBiZSBwcmVjb21wdXRlZC5cbiAgICAgICAgc2V0V2luZG93U2l6ZShQLCBXKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZVcoVywgYml0cyk7XG4gICAgICAgICAgICBwb2ludFdpbmRvd1NpemVzLnNldChQLCBXKTtcbiAgICAgICAgICAgIHBvaW50UHJlY29tcHV0ZXMuZGVsZXRlKFApO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIFBpcHBlbmdlciBhbGdvcml0aG0gZm9yIG11bHRpLXNjYWxhciBtdWx0aXBsaWNhdGlvbiAoTVNNLCBQYSArIFFiICsgUmMgKyAuLi4pLlxuICogMzB4IGZhc3RlciB2cyBuYWl2ZSBhZGRpdGlvbiBvbiBMPTQwOTYsIDEweCBmYXN0ZXIgd2l0aCBwcmVjb21wdXRlcy5cbiAqIEZvciBOPTI1NGJpdCwgTD0xLCBpdCBkb2VzOiAxMDI0IEFERCArIDI1NCBEQkwuIEZvciBMPTU6IDE1MzYgQUREICsgMjU0IERCTC5cbiAqIEFsZ29yaXRobWljYWxseSBjb25zdGFudC10aW1lIChmb3Igc2FtZSBMKSwgZXZlbiB3aGVuIDEgcG9pbnQgKyBzY2FsYXIsIG9yIHdoZW4gc2NhbGFyID0gMC5cbiAqIEBwYXJhbSBjIEN1cnZlIFBvaW50IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0gZmllbGROIGZpZWxkIG92ZXIgQ1VSVkUuTiAtIGltcG9ydGFudCB0aGF0IGl0J3Mgbm90IG92ZXIgQ1VSVkUuUFxuICogQHBhcmFtIHBvaW50cyBhcnJheSBvZiBMIGN1cnZlIHBvaW50c1xuICogQHBhcmFtIHNjYWxhcnMgYXJyYXkgb2YgTCBzY2FsYXJzIChha2EgcHJpdmF0ZSBrZXlzIC8gYmlnaW50cylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBpcHBlbmdlcihjLCBmaWVsZE4sIHBvaW50cywgc2NhbGFycykge1xuICAgIC8vIElmIHdlIHNwbGl0IHNjYWxhcnMgYnkgc29tZSB3aW5kb3cgKGxldCdzIHNheSA4IGJpdHMpLCBldmVyeSBjaHVuayB3aWxsIG9ubHlcbiAgICAvLyB0YWtlIDI1NiBidWNrZXRzIGV2ZW4gaWYgdGhlcmUgYXJlIDQwOTYgc2NhbGFycywgYWxzbyByZS11c2VzIGRvdWJsZS5cbiAgICAvLyBUT0RPOlxuICAgIC8vIC0gaHR0cHM6Ly9lcHJpbnQuaWFjci5vcmcvMjAyNC83NTAucGRmXG4gICAgLy8gLSBodHRwczovL3RjaGVzLmlhY3Iub3JnL2luZGV4LnBocC9UQ0hFUy9hcnRpY2xlL3ZpZXcvMTAyODdcbiAgICAvLyAwIGlzIGFjY2VwdGVkIGluIHNjYWxhcnNcbiAgICB2YWxpZGF0ZU1TTVBvaW50cyhwb2ludHMsIGMpO1xuICAgIHZhbGlkYXRlTVNNU2NhbGFycyhzY2FsYXJzLCBmaWVsZE4pO1xuICAgIGlmIChwb2ludHMubGVuZ3RoICE9PSBzY2FsYXJzLmxlbmd0aClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhcnJheXMgb2YgcG9pbnRzIGFuZCBzY2FsYXJzIG11c3QgaGF2ZSBlcXVhbCBsZW5ndGgnKTtcbiAgICBjb25zdCB6ZXJvID0gYy5aRVJPO1xuICAgIGNvbnN0IHdiaXRzID0gYml0TGVuKEJpZ0ludChwb2ludHMubGVuZ3RoKSk7XG4gICAgY29uc3Qgd2luZG93U2l6ZSA9IHdiaXRzID4gMTIgPyB3Yml0cyAtIDMgOiB3Yml0cyA+IDQgPyB3Yml0cyAtIDIgOiB3Yml0cyA/IDIgOiAxOyAvLyBpbiBiaXRzXG4gICAgY29uc3QgTUFTSyA9ICgxIDw8IHdpbmRvd1NpemUpIC0gMTtcbiAgICBjb25zdCBidWNrZXRzID0gbmV3IEFycmF5KE1BU0sgKyAxKS5maWxsKHplcm8pOyAvLyArMSBmb3IgemVybyBhcnJheVxuICAgIGNvbnN0IGxhc3RCaXRzID0gTWF0aC5mbG9vcigoZmllbGROLkJJVFMgLSAxKSAvIHdpbmRvd1NpemUpICogd2luZG93U2l6ZTtcbiAgICBsZXQgc3VtID0gemVybztcbiAgICBmb3IgKGxldCBpID0gbGFzdEJpdHM7IGkgPj0gMDsgaSAtPSB3aW5kb3dTaXplKSB7XG4gICAgICAgIGJ1Y2tldHMuZmlsbCh6ZXJvKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzY2FsYXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsYXIgPSBzY2FsYXJzW2pdO1xuICAgICAgICAgICAgY29uc3Qgd2JpdHMgPSBOdW1iZXIoKHNjYWxhciA+PiBCaWdJbnQoaSkpICYgQmlnSW50KE1BU0spKTtcbiAgICAgICAgICAgIGJ1Y2tldHNbd2JpdHNdID0gYnVja2V0c1t3Yml0c10uYWRkKHBvaW50c1tqXSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc0kgPSB6ZXJvOyAvLyBub3QgdXNpbmcgdGhpcyB3aWxsIGRvIHNtYWxsIHNwZWVkLXVwLCBidXQgd2lsbCBsb3NlIGN0XG4gICAgICAgIC8vIFNraXAgZmlyc3QgYnVja2V0LCBiZWNhdXNlIGl0IGlzIHplcm9cbiAgICAgICAgZm9yIChsZXQgaiA9IGJ1Y2tldHMubGVuZ3RoIC0gMSwgc3VtSSA9IHplcm87IGogPiAwOyBqLS0pIHtcbiAgICAgICAgICAgIHN1bUkgPSBzdW1JLmFkZChidWNrZXRzW2pdKTtcbiAgICAgICAgICAgIHJlc0kgPSByZXNJLmFkZChzdW1JKTtcbiAgICAgICAgfVxuICAgICAgICBzdW0gPSBzdW0uYWRkKHJlc0kpO1xuICAgICAgICBpZiAoaSAhPT0gMClcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2luZG93U2l6ZTsgaisrKVxuICAgICAgICAgICAgICAgIHN1bSA9IHN1bS5kb3VibGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cbi8qKlxuICogUHJlY29tcHV0ZWQgbXVsdGktc2NhbGFyIG11bHRpcGxpY2F0aW9uIChNU00sIFBhICsgUWIgKyBSYyArIC4uLikuXG4gKiBAcGFyYW0gYyBDdXJ2ZSBQb2ludCBjb25zdHJ1Y3RvclxuICogQHBhcmFtIGZpZWxkTiBmaWVsZCBvdmVyIENVUlZFLk4gLSBpbXBvcnRhbnQgdGhhdCBpdCdzIG5vdCBvdmVyIENVUlZFLlBcbiAqIEBwYXJhbSBwb2ludHMgYXJyYXkgb2YgTCBjdXJ2ZSBwb2ludHNcbiAqIEByZXR1cm5zIGZ1bmN0aW9uIHdoaWNoIG11bHRpcGxpZXMgcG9pbnRzIHdpdGggc2NhYXJzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVjb21wdXRlTVNNVW5zYWZlKGMsIGZpZWxkTiwgcG9pbnRzLCB3aW5kb3dTaXplKSB7XG4gICAgLyoqXG4gICAgICogUGVyZm9ybWFuY2UgQW5hbHlzaXMgb2YgV2luZG93LWJhc2VkIFByZWNvbXB1dGF0aW9uXG4gICAgICpcbiAgICAgKiBCYXNlIENhc2UgKDI1Ni1iaXQgc2NhbGFyLCA4LWJpdCB3aW5kb3cpOlxuICAgICAqIC0gU3RhbmRhcmQgcHJlY29tcHV0YXRpb24gcmVxdWlyZXM6XG4gICAgICogICAtIDMxIGFkZGl0aW9ucyBwZXIgc2NhbGFyIMOXIDI1NiBzY2FsYXJzID0gNyw5MzYgb3BzXG4gICAgICogICAtIFBsdXMgMjU1IHN1bW1hcnkgYWRkaXRpb25zID0gOCwxOTEgdG90YWwgb3BzXG4gICAgICogICBOb3RlOiBTdW1tYXJ5IGFkZGl0aW9ucyBjYW4gYmUgb3B0aW1pemVkIHZpYSBhY2N1bXVsYXRvclxuICAgICAqXG4gICAgICogQ2h1bmtlZCBQcmVjb21wdXRhdGlvbiBBbmFseXNpczpcbiAgICAgKiAtIFVzaW5nIDMyIGNodW5rcyByZXF1aXJlczpcbiAgICAgKiAgIC0gMjU1IGFkZGl0aW9ucyBwZXIgY2h1bmtcbiAgICAgKiAgIC0gMjU2IGRvdWJsaW5nc1xuICAgICAqICAgLSBUb3RhbDogKDI1NSDDlyAzMikgKyAyNTYgPSA4LDQxNiBvcHNcbiAgICAgKlxuICAgICAqIE1lbW9yeSBVc2FnZSBDb21wYXJpc29uOlxuICAgICAqIFdpbmRvdyBTaXplIHwgU3RhbmRhcmQgUG9pbnRzIHwgQ2h1bmtlZCBQb2ludHNcbiAgICAgKiAtLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tXG4gICAgICogICAgIDQtYml0ICAgfCAgICAgNTIwICAgICAgICAgfCAgICAgIDE1XG4gICAgICogICAgIDgtYml0ICAgfCAgICA0LDIyNCAgICAgICAgfCAgICAgMjU1XG4gICAgICogICAgMTAtYml0ICAgfCAgIDEzLDgyNCAgICAgICAgfCAgIDEsMDIzXG4gICAgICogICAgMTYtYml0ICAgfCAgNTU3LDA1NiAgICAgICAgfCAgNjUsNTM1XG4gICAgICpcbiAgICAgKiBLZXkgQWR2YW50YWdlczpcbiAgICAgKiAxLiBFbmFibGVzIGxhcmdlciB3aW5kb3cgc2l6ZXMgZHVlIHRvIHJlZHVjZWQgbWVtb3J5IG92ZXJoZWFkXG4gICAgICogMi4gTW9yZSBlZmZpY2llbnQgZm9yIHNtYWxsZXIgc2NhbGFyIGNvdW50czpcbiAgICAgKiAgICAtIDE2IGNodW5rczogKDE2IMOXIDI1NSkgKyAyNTYgPSA0LDMzNiBvcHNcbiAgICAgKiAgICAtIH4yeCBmYXN0ZXIgdGhhbiBzdGFuZGFyZCA4LDE5MSBvcHNcbiAgICAgKlxuICAgICAqIExpbWl0YXRpb25zOlxuICAgICAqIC0gTm90IHN1aXRhYmxlIGZvciBwbGFpbiBwcmVjb21wdXRlcyAocmVxdWlyZXMgMjU2IGNvbnN0YW50IGRvdWJsaW5ncylcbiAgICAgKiAtIFBlcmZvcm1hbmNlIGRlZ3JhZGVzIHdpdGggbGFyZ2VyIHNjYWxhciBjb3VudHM6XG4gICAgICogICAtIE9wdGltYWwgZm9yIH4yNTYgc2NhbGFyc1xuICAgICAqICAgLSBMZXNzIGVmZmljaWVudCBmb3IgNDA5Nisgc2NhbGFycyAoUGlwcGVuZ2VyIHByZWZlcnJlZClcbiAgICAgKi9cbiAgICB2YWxpZGF0ZVcod2luZG93U2l6ZSwgZmllbGROLkJJVFMpO1xuICAgIHZhbGlkYXRlTVNNUG9pbnRzKHBvaW50cywgYyk7XG4gICAgY29uc3QgemVybyA9IGMuWkVSTztcbiAgICBjb25zdCB0YWJsZVNpemUgPSAyICoqIHdpbmRvd1NpemUgLSAxOyAvLyB0YWJsZSBzaXplICh3aXRob3V0IHplcm8pXG4gICAgY29uc3QgY2h1bmtzID0gTWF0aC5jZWlsKGZpZWxkTi5CSVRTIC8gd2luZG93U2l6ZSk7IC8vIGNodW5rcyBvZiBpdGVtXG4gICAgY29uc3QgTUFTSyA9IEJpZ0ludCgoMSA8PCB3aW5kb3dTaXplKSAtIDEpO1xuICAgIGNvbnN0IHRhYmxlcyA9IHBvaW50cy5tYXAoKHApID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBhY2MgPSBwOyBpIDwgdGFibGVTaXplOyBpKyspIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGFjYyk7XG4gICAgICAgICAgICBhY2MgPSBhY2MuYWRkKHApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG4gICAgcmV0dXJuIChzY2FsYXJzKSA9PiB7XG4gICAgICAgIHZhbGlkYXRlTVNNU2NhbGFycyhzY2FsYXJzLCBmaWVsZE4pO1xuICAgICAgICBpZiAoc2NhbGFycy5sZW5ndGggPiBwb2ludHMubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhcnJheSBvZiBzY2FsYXJzIG11c3QgYmUgc21hbGxlciB0aGFuIGFycmF5IG9mIHBvaW50cycpO1xuICAgICAgICBsZXQgcmVzID0gemVybztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVua3M7IGkrKykge1xuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBkb3VibGUgaWYgYWNjdW11bGF0b3IgaXMgc3RpbGwgemVyby5cbiAgICAgICAgICAgIGlmIChyZXMgIT09IHplcm8pXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB3aW5kb3dTaXplOyBqKyspXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5kb3VibGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0QnkgPSBCaWdJbnQoY2h1bmtzICogd2luZG93U2l6ZSAtIChpICsgMSkgKiB3aW5kb3dTaXplKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2NhbGFycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBzY2FsYXJzW2pdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnIgPSBOdW1iZXIoKG4gPj4gc2hpZnRCeSkgJiBNQVNLKTtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwIHplcm8gc2NhbGFycyBjaHVua3NcbiAgICAgICAgICAgICAgICByZXMgPSByZXMuYWRkKHRhYmxlc1tqXVtjdXJyIC0gMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUJhc2ljKGN1cnZlKSB7XG4gICAgdmFsaWRhdGVGaWVsZChjdXJ2ZS5GcCk7XG4gICAgdmFsaWRhdGVPYmplY3QoY3VydmUsIHtcbiAgICAgICAgbjogJ2JpZ2ludCcsXG4gICAgICAgIGg6ICdiaWdpbnQnLFxuICAgICAgICBHeDogJ2ZpZWxkJyxcbiAgICAgICAgR3k6ICdmaWVsZCcsXG4gICAgfSwge1xuICAgICAgICBuQml0TGVuZ3RoOiAnaXNTYWZlSW50ZWdlcicsXG4gICAgICAgIG5CeXRlTGVuZ3RoOiAnaXNTYWZlSW50ZWdlcicsXG4gICAgfSk7XG4gICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgICAgICAuLi5uTGVuZ3RoKGN1cnZlLm4sIGN1cnZlLm5CaXRMZW5ndGgpLFxuICAgICAgICAuLi5jdXJ2ZSxcbiAgICAgICAgLi4ueyBwOiBjdXJ2ZS5GcC5PUkRFUiB9LFxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3VydmUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/curve.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/hash-to-curve.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/hash-to-curve.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHasher: () => (/* binding */ createHasher),\n/* harmony export */   expand_message_xmd: () => (/* binding */ expand_message_xmd),\n/* harmony export */   expand_message_xof: () => (/* binding */ expand_message_xof),\n/* harmony export */   hash_to_field: () => (/* binding */ hash_to_field),\n/* harmony export */   isogenyMap: () => (/* binding */ isogenyMap)\n/* harmony export */ });\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/utils.js\");\n\n\n// Octet Stream to Integer. \"spec\" implementation of os2ip is 2.5x slower vs bytesToNumberBE.\nconst os2ip = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE;\n// Integer to Octet Stream (numberToBytesBE)\nfunction i2osp(value, length) {\n    anum(value);\n    anum(length);\n    if (value < 0 || value >= 1 << (8 * length))\n        throw new Error('invalid I2OSP input: ' + value);\n    const res = Array.from({ length }).fill(0);\n    for (let i = length - 1; i >= 0; i--) {\n        res[i] = value & 0xff;\n        value >>>= 8;\n    }\n    return new Uint8Array(res);\n}\nfunction strxor(a, b) {\n    const arr = new Uint8Array(a.length);\n    for (let i = 0; i < a.length; i++) {\n        arr[i] = a[i] ^ b[i];\n    }\n    return arr;\n}\nfunction anum(item) {\n    if (!Number.isSafeInteger(item))\n        throw new Error('number expected');\n}\n/**\n * Produces a uniformly random byte string using a cryptographic hash function H that outputs b bits.\n * [RFC 9380 5.3.1](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.1).\n */\nfunction expand_message_xmd(msg, DST, lenInBytes, H) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(msg);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(DST);\n    anum(lenInBytes);\n    // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n    if (DST.length > 255)\n        DST = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)('H2C-OVERSIZE-DST-'), DST));\n    const { outputLen: b_in_bytes, blockLen: r_in_bytes } = H;\n    const ell = Math.ceil(lenInBytes / b_in_bytes);\n    if (lenInBytes > 65535 || ell > 255)\n        throw new Error('expand_message_xmd: invalid lenInBytes');\n    const DST_prime = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(DST, i2osp(DST.length, 1));\n    const Z_pad = i2osp(0, r_in_bytes);\n    const l_i_b_str = i2osp(lenInBytes, 2); // len_in_bytes_str\n    const b = new Array(ell);\n    const b_0 = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(Z_pad, msg, l_i_b_str, i2osp(0, 1), DST_prime));\n    b[0] = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(b_0, i2osp(1, 1), DST_prime));\n    for (let i = 1; i <= ell; i++) {\n        const args = [strxor(b_0, b[i - 1]), i2osp(i + 1, 1), DST_prime];\n        b[i] = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(...args));\n    }\n    const pseudo_random_bytes = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(...b);\n    return pseudo_random_bytes.slice(0, lenInBytes);\n}\n/**\n * Produces a uniformly random byte string using an extendable-output function (XOF) H.\n * 1. The collision resistance of H MUST be at least k bits.\n * 2. H MUST be an XOF that has been proved indifferentiable from\n *    a random oracle under a reasonable cryptographic assumption.\n * [RFC 9380 5.3.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.2).\n */\nfunction expand_message_xof(msg, DST, lenInBytes, k, H) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(msg);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(DST);\n    anum(lenInBytes);\n    // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n    // DST = H('H2C-OVERSIZE-DST-' || a_very_long_DST, Math.ceil((lenInBytes * k) / 8));\n    if (DST.length > 255) {\n        const dkLen = Math.ceil((2 * k) / 8);\n        DST = H.create({ dkLen }).update((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)('H2C-OVERSIZE-DST-')).update(DST).digest();\n    }\n    if (lenInBytes > 65535 || DST.length > 255)\n        throw new Error('expand_message_xof: invalid lenInBytes');\n    return (H.create({ dkLen: lenInBytes })\n        .update(msg)\n        .update(i2osp(lenInBytes, 2))\n        // 2. DST_prime = DST || I2OSP(len(DST), 1)\n        .update(DST)\n        .update(i2osp(DST.length, 1))\n        .digest());\n}\n/**\n * Hashes arbitrary-length byte strings to a list of one or more elements of a finite field F.\n * [RFC 9380 5.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.2).\n * @param msg a byte string containing the message to hash\n * @param count the number of elements of F to output\n * @param options `{DST: string, p: bigint, m: number, k: number, expand: 'xmd' | 'xof', hash: H}`, see above\n * @returns [u_0, ..., u_(count - 1)], a list of field elements.\n */\nfunction hash_to_field(msg, count, options) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject)(options, {\n        DST: 'stringOrUint8Array',\n        p: 'bigint',\n        m: 'isSafeInteger',\n        k: 'isSafeInteger',\n        hash: 'hash',\n    });\n    const { p, k, m, hash, expand, DST: _DST } = options;\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(msg);\n    anum(count);\n    const DST = typeof _DST === 'string' ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(_DST) : _DST;\n    const log2p = p.toString(2).length;\n    const L = Math.ceil((log2p + k) / 8); // section 5.1 of ietf draft link above\n    const len_in_bytes = count * m * L;\n    let prb; // pseudo_random_bytes\n    if (expand === 'xmd') {\n        prb = expand_message_xmd(msg, DST, len_in_bytes, hash);\n    }\n    else if (expand === 'xof') {\n        prb = expand_message_xof(msg, DST, len_in_bytes, k, hash);\n    }\n    else if (expand === '_internal_pass') {\n        // for internal tests only\n        prb = msg;\n    }\n    else {\n        throw new Error('expand must be \"xmd\" or \"xof\"');\n    }\n    const u = new Array(count);\n    for (let i = 0; i < count; i++) {\n        const e = new Array(m);\n        for (let j = 0; j < m; j++) {\n            const elm_offset = L * (j + i * m);\n            const tv = prb.subarray(elm_offset, elm_offset + L);\n            e[j] = (0,_modular_js__WEBPACK_IMPORTED_MODULE_1__.mod)(os2ip(tv), p);\n        }\n        u[i] = e;\n    }\n    return u;\n}\nfunction isogenyMap(field, map) {\n    // Make same order as in spec\n    const COEFF = map.map((i) => Array.from(i).reverse());\n    return (x, y) => {\n        const [xNum, xDen, yNum, yDen] = COEFF.map((val) => val.reduce((acc, i) => field.add(field.mul(acc, x), i)));\n        x = field.div(xNum, xDen); // xNum / xDen\n        y = field.mul(y, field.div(yNum, yDen)); // y * (yNum / yDev)\n        return { x: x, y: y };\n    };\n}\n/** Creates hash-to-curve methods from EC Point and mapToCurve function. */\nfunction createHasher(Point, mapToCurve, def) {\n    if (typeof mapToCurve !== 'function')\n        throw new Error('mapToCurve() must be defined');\n    return {\n        // Encodes byte string to elliptic curve.\n        // hash_to_curve from https://www.rfc-editor.org/rfc/rfc9380#section-3\n        hashToCurve(msg, options) {\n            const u = hash_to_field(msg, 2, { ...def, DST: def.DST, ...options });\n            const u0 = Point.fromAffine(mapToCurve(u[0]));\n            const u1 = Point.fromAffine(mapToCurve(u[1]));\n            const P = u0.add(u1).clearCofactor();\n            P.assertValidity();\n            return P;\n        },\n        // Encodes byte string to elliptic curve.\n        // encode_to_curve from https://www.rfc-editor.org/rfc/rfc9380#section-3\n        encodeToCurve(msg, options) {\n            const u = hash_to_field(msg, 1, { ...def, DST: def.encodeDST, ...options });\n            const P = Point.fromAffine(mapToCurve(u[0])).clearCofactor();\n            P.assertValidity();\n            return P;\n        },\n        // Same as encodeToCurve, but without hash\n        mapToCurve(scalars) {\n            if (!Array.isArray(scalars))\n                throw new Error('mapToCurve: expected array of bigints');\n            for (const i of scalars)\n                if (typeof i !== 'bigint')\n                    throw new Error('mapToCurve: expected array of bigints');\n            const P = Point.fromAffine(mapToCurve(scalars)).clearCofactor();\n            P.assertValidity();\n            return P;\n        },\n    };\n}\n//# sourceMappingURL=hash-to-curve.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC9oYXNoLXRvLWN1cnZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBbUM7QUFDNEQ7QUFDL0Y7QUFDQSxjQUFjLHNEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixRQUFRO0FBQ3JDLDZCQUE2QixRQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxJQUFJLGlEQUFNO0FBQ1YsSUFBSSxpREFBTTtBQUNWO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixzREFBVyxDQUFDLHNEQUFXO0FBQ3ZDLFlBQVksOENBQThDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzREFBVztBQUNqQztBQUNBLDRDQUE0QztBQUM1QztBQUNBLGtCQUFrQixzREFBVztBQUM3QixhQUFhLHNEQUFXO0FBQ3hCLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsaUJBQWlCLHNEQUFXO0FBQzVCO0FBQ0EsZ0NBQWdDLHNEQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsSUFBSSxpREFBTTtBQUNWLElBQUksaURBQU07QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLE9BQU8sU0FBUyxzREFBVztBQUNwRDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsbUJBQW1CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw2RUFBNkU7QUFDakc7QUFDQTtBQUNPO0FBQ1AsSUFBSSx5REFBYztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksbUNBQW1DO0FBQy9DLElBQUksaURBQU07QUFDVjtBQUNBLDJDQUEyQyxzREFBVztBQUN0RDtBQUNBLDBDQUEwQztBQUMxQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFdBQVc7QUFDL0I7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0EsbUJBQW1CLGdEQUFHO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLGlEQUFpRDtBQUNqRCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsa0NBQWtDO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHdDQUF3QztBQUN0RjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvQG5vYmxlL2N1cnZlcy9lc20vYWJzdHJhY3QvaGFzaC10by1jdXJ2ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtb2QgfSBmcm9tICcuL21vZHVsYXIuanMnO1xuaW1wb3J0IHsgYWJ5dGVzLCBieXRlc1RvTnVtYmVyQkUsIGNvbmNhdEJ5dGVzLCB1dGY4VG9CeXRlcywgdmFsaWRhdGVPYmplY3QgfSBmcm9tICcuL3V0aWxzLmpzJztcbi8vIE9jdGV0IFN0cmVhbSB0byBJbnRlZ2VyLiBcInNwZWNcIiBpbXBsZW1lbnRhdGlvbiBvZiBvczJpcCBpcyAyLjV4IHNsb3dlciB2cyBieXRlc1RvTnVtYmVyQkUuXG5jb25zdCBvczJpcCA9IGJ5dGVzVG9OdW1iZXJCRTtcbi8vIEludGVnZXIgdG8gT2N0ZXQgU3RyZWFtIChudW1iZXJUb0J5dGVzQkUpXG5mdW5jdGlvbiBpMm9zcCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgYW51bSh2YWx1ZSk7XG4gICAgYW51bShsZW5ndGgpO1xuICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPj0gMSA8PCAoOCAqIGxlbmd0aCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBJMk9TUCBpbnB1dDogJyArIHZhbHVlKTtcbiAgICBjb25zdCByZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoIH0pLmZpbGwoMCk7XG4gICAgZm9yIChsZXQgaSA9IGxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHJlc1tpXSA9IHZhbHVlICYgMHhmZjtcbiAgICAgICAgdmFsdWUgPj4+PSA4O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmVzKTtcbn1cbmZ1bmN0aW9uIHN0cnhvcihhLCBiKSB7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJbaV0gPSBhW2ldIF4gYltpXTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cbmZ1bmN0aW9uIGFudW0oaXRlbSkge1xuICAgIGlmICghTnVtYmVyLmlzU2FmZUludGVnZXIoaXRlbSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbnVtYmVyIGV4cGVjdGVkJyk7XG59XG4vKipcbiAqIFByb2R1Y2VzIGEgdW5pZm9ybWx5IHJhbmRvbSBieXRlIHN0cmluZyB1c2luZyBhIGNyeXB0b2dyYXBoaWMgaGFzaCBmdW5jdGlvbiBIIHRoYXQgb3V0cHV0cyBiIGJpdHMuXG4gKiBbUkZDIDkzODAgNS4zLjFdKGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tNS4zLjEpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kX21lc3NhZ2VfeG1kKG1zZywgRFNULCBsZW5JbkJ5dGVzLCBIKSB7XG4gICAgYWJ5dGVzKG1zZyk7XG4gICAgYWJ5dGVzKERTVCk7XG4gICAgYW51bShsZW5JbkJ5dGVzKTtcbiAgICAvLyBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTUuMy4zXG4gICAgaWYgKERTVC5sZW5ndGggPiAyNTUpXG4gICAgICAgIERTVCA9IEgoY29uY2F0Qnl0ZXModXRmOFRvQnl0ZXMoJ0gyQy1PVkVSU0laRS1EU1QtJyksIERTVCkpO1xuICAgIGNvbnN0IHsgb3V0cHV0TGVuOiBiX2luX2J5dGVzLCBibG9ja0xlbjogcl9pbl9ieXRlcyB9ID0gSDtcbiAgICBjb25zdCBlbGwgPSBNYXRoLmNlaWwobGVuSW5CeXRlcyAvIGJfaW5fYnl0ZXMpO1xuICAgIGlmIChsZW5JbkJ5dGVzID4gNjU1MzUgfHwgZWxsID4gMjU1KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGFuZF9tZXNzYWdlX3htZDogaW52YWxpZCBsZW5JbkJ5dGVzJyk7XG4gICAgY29uc3QgRFNUX3ByaW1lID0gY29uY2F0Qnl0ZXMoRFNULCBpMm9zcChEU1QubGVuZ3RoLCAxKSk7XG4gICAgY29uc3QgWl9wYWQgPSBpMm9zcCgwLCByX2luX2J5dGVzKTtcbiAgICBjb25zdCBsX2lfYl9zdHIgPSBpMm9zcChsZW5JbkJ5dGVzLCAyKTsgLy8gbGVuX2luX2J5dGVzX3N0clxuICAgIGNvbnN0IGIgPSBuZXcgQXJyYXkoZWxsKTtcbiAgICBjb25zdCBiXzAgPSBIKGNvbmNhdEJ5dGVzKFpfcGFkLCBtc2csIGxfaV9iX3N0ciwgaTJvc3AoMCwgMSksIERTVF9wcmltZSkpO1xuICAgIGJbMF0gPSBIKGNvbmNhdEJ5dGVzKGJfMCwgaTJvc3AoMSwgMSksIERTVF9wcmltZSkpO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGVsbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBbc3RyeG9yKGJfMCwgYltpIC0gMV0pLCBpMm9zcChpICsgMSwgMSksIERTVF9wcmltZV07XG4gICAgICAgIGJbaV0gPSBIKGNvbmNhdEJ5dGVzKC4uLmFyZ3MpKTtcbiAgICB9XG4gICAgY29uc3QgcHNldWRvX3JhbmRvbV9ieXRlcyA9IGNvbmNhdEJ5dGVzKC4uLmIpO1xuICAgIHJldHVybiBwc2V1ZG9fcmFuZG9tX2J5dGVzLnNsaWNlKDAsIGxlbkluQnl0ZXMpO1xufVxuLyoqXG4gKiBQcm9kdWNlcyBhIHVuaWZvcm1seSByYW5kb20gYnl0ZSBzdHJpbmcgdXNpbmcgYW4gZXh0ZW5kYWJsZS1vdXRwdXQgZnVuY3Rpb24gKFhPRikgSC5cbiAqIDEuIFRoZSBjb2xsaXNpb24gcmVzaXN0YW5jZSBvZiBIIE1VU1QgYmUgYXQgbGVhc3QgayBiaXRzLlxuICogMi4gSCBNVVNUIGJlIGFuIFhPRiB0aGF0IGhhcyBiZWVuIHByb3ZlZCBpbmRpZmZlcmVudGlhYmxlIGZyb21cbiAqICAgIGEgcmFuZG9tIG9yYWNsZSB1bmRlciBhIHJlYXNvbmFibGUgY3J5cHRvZ3JhcGhpYyBhc3N1bXB0aW9uLlxuICogW1JGQyA5MzgwIDUuMy4yXShodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTUuMy4yKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZF9tZXNzYWdlX3hvZihtc2csIERTVCwgbGVuSW5CeXRlcywgaywgSCkge1xuICAgIGFieXRlcyhtc2cpO1xuICAgIGFieXRlcyhEU1QpO1xuICAgIGFudW0obGVuSW5CeXRlcyk7XG4gICAgLy8gaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzkzODAjc2VjdGlvbi01LjMuM1xuICAgIC8vIERTVCA9IEgoJ0gyQy1PVkVSU0laRS1EU1QtJyB8fCBhX3ZlcnlfbG9uZ19EU1QsIE1hdGguY2VpbCgobGVuSW5CeXRlcyAqIGspIC8gOCkpO1xuICAgIGlmIChEU1QubGVuZ3RoID4gMjU1KSB7XG4gICAgICAgIGNvbnN0IGRrTGVuID0gTWF0aC5jZWlsKCgyICogaykgLyA4KTtcbiAgICAgICAgRFNUID0gSC5jcmVhdGUoeyBka0xlbiB9KS51cGRhdGUodXRmOFRvQnl0ZXMoJ0gyQy1PVkVSU0laRS1EU1QtJykpLnVwZGF0ZShEU1QpLmRpZ2VzdCgpO1xuICAgIH1cbiAgICBpZiAobGVuSW5CeXRlcyA+IDY1NTM1IHx8IERTVC5sZW5ndGggPiAyNTUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwYW5kX21lc3NhZ2VfeG9mOiBpbnZhbGlkIGxlbkluQnl0ZXMnKTtcbiAgICByZXR1cm4gKEguY3JlYXRlKHsgZGtMZW46IGxlbkluQnl0ZXMgfSlcbiAgICAgICAgLnVwZGF0ZShtc2cpXG4gICAgICAgIC51cGRhdGUoaTJvc3AobGVuSW5CeXRlcywgMikpXG4gICAgICAgIC8vIDIuIERTVF9wcmltZSA9IERTVCB8fCBJMk9TUChsZW4oRFNUKSwgMSlcbiAgICAgICAgLnVwZGF0ZShEU1QpXG4gICAgICAgIC51cGRhdGUoaTJvc3AoRFNULmxlbmd0aCwgMSkpXG4gICAgICAgIC5kaWdlc3QoKSk7XG59XG4vKipcbiAqIEhhc2hlcyBhcmJpdHJhcnktbGVuZ3RoIGJ5dGUgc3RyaW5ncyB0byBhIGxpc3Qgb2Ygb25lIG9yIG1vcmUgZWxlbWVudHMgb2YgYSBmaW5pdGUgZmllbGQgRi5cbiAqIFtSRkMgOTM4MCA1LjJdKGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tNS4yKS5cbiAqIEBwYXJhbSBtc2cgYSBieXRlIHN0cmluZyBjb250YWluaW5nIHRoZSBtZXNzYWdlIHRvIGhhc2hcbiAqIEBwYXJhbSBjb3VudCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIG9mIEYgdG8gb3V0cHV0XG4gKiBAcGFyYW0gb3B0aW9ucyBge0RTVDogc3RyaW5nLCBwOiBiaWdpbnQsIG06IG51bWJlciwgazogbnVtYmVyLCBleHBhbmQ6ICd4bWQnIHwgJ3hvZicsIGhhc2g6IEh9YCwgc2VlIGFib3ZlXG4gKiBAcmV0dXJucyBbdV8wLCAuLi4sIHVfKGNvdW50IC0gMSldLCBhIGxpc3Qgb2YgZmllbGQgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoX3RvX2ZpZWxkKG1zZywgY291bnQsIG9wdGlvbnMpIHtcbiAgICB2YWxpZGF0ZU9iamVjdChvcHRpb25zLCB7XG4gICAgICAgIERTVDogJ3N0cmluZ09yVWludDhBcnJheScsXG4gICAgICAgIHA6ICdiaWdpbnQnLFxuICAgICAgICBtOiAnaXNTYWZlSW50ZWdlcicsXG4gICAgICAgIGs6ICdpc1NhZmVJbnRlZ2VyJyxcbiAgICAgICAgaGFzaDogJ2hhc2gnLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgcCwgaywgbSwgaGFzaCwgZXhwYW5kLCBEU1Q6IF9EU1QgfSA9IG9wdGlvbnM7XG4gICAgYWJ5dGVzKG1zZyk7XG4gICAgYW51bShjb3VudCk7XG4gICAgY29uc3QgRFNUID0gdHlwZW9mIF9EU1QgPT09ICdzdHJpbmcnID8gdXRmOFRvQnl0ZXMoX0RTVCkgOiBfRFNUO1xuICAgIGNvbnN0IGxvZzJwID0gcC50b1N0cmluZygyKS5sZW5ndGg7XG4gICAgY29uc3QgTCA9IE1hdGguY2VpbCgobG9nMnAgKyBrKSAvIDgpOyAvLyBzZWN0aW9uIDUuMSBvZiBpZXRmIGRyYWZ0IGxpbmsgYWJvdmVcbiAgICBjb25zdCBsZW5faW5fYnl0ZXMgPSBjb3VudCAqIG0gKiBMO1xuICAgIGxldCBwcmI7IC8vIHBzZXVkb19yYW5kb21fYnl0ZXNcbiAgICBpZiAoZXhwYW5kID09PSAneG1kJykge1xuICAgICAgICBwcmIgPSBleHBhbmRfbWVzc2FnZV94bWQobXNnLCBEU1QsIGxlbl9pbl9ieXRlcywgaGFzaCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV4cGFuZCA9PT0gJ3hvZicpIHtcbiAgICAgICAgcHJiID0gZXhwYW5kX21lc3NhZ2VfeG9mKG1zZywgRFNULCBsZW5faW5fYnl0ZXMsIGssIGhhc2gpO1xuICAgIH1cbiAgICBlbHNlIGlmIChleHBhbmQgPT09ICdfaW50ZXJuYWxfcGFzcycpIHtcbiAgICAgICAgLy8gZm9yIGludGVybmFsIHRlc3RzIG9ubHlcbiAgICAgICAgcHJiID0gbXNnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBhbmQgbXVzdCBiZSBcInhtZFwiIG9yIFwieG9mXCInKTtcbiAgICB9XG4gICAgY29uc3QgdSA9IG5ldyBBcnJheShjb3VudCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgQXJyYXkobSk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbTsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBlbG1fb2Zmc2V0ID0gTCAqIChqICsgaSAqIG0pO1xuICAgICAgICAgICAgY29uc3QgdHYgPSBwcmIuc3ViYXJyYXkoZWxtX29mZnNldCwgZWxtX29mZnNldCArIEwpO1xuICAgICAgICAgICAgZVtqXSA9IG1vZChvczJpcCh0diksIHApO1xuICAgICAgICB9XG4gICAgICAgIHVbaV0gPSBlO1xuICAgIH1cbiAgICByZXR1cm4gdTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc29nZW55TWFwKGZpZWxkLCBtYXApIHtcbiAgICAvLyBNYWtlIHNhbWUgb3JkZXIgYXMgaW4gc3BlY1xuICAgIGNvbnN0IENPRUZGID0gbWFwLm1hcCgoaSkgPT4gQXJyYXkuZnJvbShpKS5yZXZlcnNlKCkpO1xuICAgIHJldHVybiAoeCwgeSkgPT4ge1xuICAgICAgICBjb25zdCBbeE51bSwgeERlbiwgeU51bSwgeURlbl0gPSBDT0VGRi5tYXAoKHZhbCkgPT4gdmFsLnJlZHVjZSgoYWNjLCBpKSA9PiBmaWVsZC5hZGQoZmllbGQubXVsKGFjYywgeCksIGkpKSk7XG4gICAgICAgIHggPSBmaWVsZC5kaXYoeE51bSwgeERlbik7IC8vIHhOdW0gLyB4RGVuXG4gICAgICAgIHkgPSBmaWVsZC5tdWwoeSwgZmllbGQuZGl2KHlOdW0sIHlEZW4pKTsgLy8geSAqICh5TnVtIC8geURldilcbiAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICAgIH07XG59XG4vKiogQ3JlYXRlcyBoYXNoLXRvLWN1cnZlIG1ldGhvZHMgZnJvbSBFQyBQb2ludCBhbmQgbWFwVG9DdXJ2ZSBmdW5jdGlvbi4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIYXNoZXIoUG9pbnQsIG1hcFRvQ3VydmUsIGRlZikge1xuICAgIGlmICh0eXBlb2YgbWFwVG9DdXJ2ZSAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXBUb0N1cnZlKCkgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gRW5jb2RlcyBieXRlIHN0cmluZyB0byBlbGxpcHRpYyBjdXJ2ZS5cbiAgICAgICAgLy8gaGFzaF90b19jdXJ2ZSBmcm9tIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tM1xuICAgICAgICBoYXNoVG9DdXJ2ZShtc2csIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHUgPSBoYXNoX3RvX2ZpZWxkKG1zZywgMiwgeyAuLi5kZWYsIERTVDogZGVmLkRTVCwgLi4ub3B0aW9ucyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHUwID0gUG9pbnQuZnJvbUFmZmluZShtYXBUb0N1cnZlKHVbMF0pKTtcbiAgICAgICAgICAgIGNvbnN0IHUxID0gUG9pbnQuZnJvbUFmZmluZShtYXBUb0N1cnZlKHVbMV0pKTtcbiAgICAgICAgICAgIGNvbnN0IFAgPSB1MC5hZGQodTEpLmNsZWFyQ29mYWN0b3IoKTtcbiAgICAgICAgICAgIFAuYXNzZXJ0VmFsaWRpdHkoKTtcbiAgICAgICAgICAgIHJldHVybiBQO1xuICAgICAgICB9LFxuICAgICAgICAvLyBFbmNvZGVzIGJ5dGUgc3RyaW5nIHRvIGVsbGlwdGljIGN1cnZlLlxuICAgICAgICAvLyBlbmNvZGVfdG9fY3VydmUgZnJvbSBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTNcbiAgICAgICAgZW5jb2RlVG9DdXJ2ZShtc2csIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHUgPSBoYXNoX3RvX2ZpZWxkKG1zZywgMSwgeyAuLi5kZWYsIERTVDogZGVmLmVuY29kZURTVCwgLi4ub3B0aW9ucyB9KTtcbiAgICAgICAgICAgIGNvbnN0IFAgPSBQb2ludC5mcm9tQWZmaW5lKG1hcFRvQ3VydmUodVswXSkpLmNsZWFyQ29mYWN0b3IoKTtcbiAgICAgICAgICAgIFAuYXNzZXJ0VmFsaWRpdHkoKTtcbiAgICAgICAgICAgIHJldHVybiBQO1xuICAgICAgICB9LFxuICAgICAgICAvLyBTYW1lIGFzIGVuY29kZVRvQ3VydmUsIGJ1dCB3aXRob3V0IGhhc2hcbiAgICAgICAgbWFwVG9DdXJ2ZShzY2FsYXJzKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NhbGFycykpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXBUb0N1cnZlOiBleHBlY3RlZCBhcnJheSBvZiBiaWdpbnRzJyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2Ygc2NhbGFycylcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGkgIT09ICdiaWdpbnQnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcFRvQ3VydmU6IGV4cGVjdGVkIGFycmF5IG9mIGJpZ2ludHMnKTtcbiAgICAgICAgICAgIGNvbnN0IFAgPSBQb2ludC5mcm9tQWZmaW5lKG1hcFRvQ3VydmUoc2NhbGFycykpLmNsZWFyQ29mYWN0b3IoKTtcbiAgICAgICAgICAgIFAuYXNzZXJ0VmFsaWRpdHkoKTtcbiAgICAgICAgICAgIHJldHVybiBQO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYXNoLXRvLWN1cnZlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/hash-to-curve.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/modular.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/modular.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   FpDiv: () => (/* binding */ FpDiv),\n/* harmony export */   FpInvertBatch: () => (/* binding */ FpInvertBatch),\n/* harmony export */   FpIsSquare: () => (/* binding */ FpIsSquare),\n/* harmony export */   FpLegendre: () => (/* binding */ FpLegendre),\n/* harmony export */   FpPow: () => (/* binding */ FpPow),\n/* harmony export */   FpSqrt: () => (/* binding */ FpSqrt),\n/* harmony export */   FpSqrtEven: () => (/* binding */ FpSqrtEven),\n/* harmony export */   FpSqrtOdd: () => (/* binding */ FpSqrtOdd),\n/* harmony export */   getFieldBytesLength: () => (/* binding */ getFieldBytesLength),\n/* harmony export */   getMinHashLength: () => (/* binding */ getMinHashLength),\n/* harmony export */   hashToPrivateScalar: () => (/* binding */ hashToPrivateScalar),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   isNegativeLE: () => (/* binding */ isNegativeLE),\n/* harmony export */   mapHashToField: () => (/* binding */ mapHashToField),\n/* harmony export */   mod: () => (/* binding */ mod),\n/* harmony export */   nLength: () => (/* binding */ nLength),\n/* harmony export */   pow: () => (/* binding */ pow),\n/* harmony export */   pow2: () => (/* binding */ pow2),\n/* harmony export */   tonelliShanks: () => (/* binding */ tonelliShanks),\n/* harmony export */   validateField: () => (/* binding */ validateField)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/utils.js\");\n/**\n * Utils for modular division and finite fields.\n * A finite field over 11 is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = /* @__PURE__ */ BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5), _8n = /* @__PURE__ */ BigInt(8);\n// prettier-ignore\nconst _9n = /* @__PURE__ */ BigInt(9), _16n = /* @__PURE__ */ BigInt(16);\n// Calculates a modulo b\nfunction mod(a, b) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @todo use field version && remove\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nfunction pow(num, power, modulo) {\n    if (power < _0n)\n        throw new Error('invalid exponent, negatives unsupported');\n    if (modulo <= _0n)\n        throw new Error('invalid modulus');\n    if (modulo === _1n)\n        return _0n;\n    let res = _1n;\n    while (power > _0n) {\n        if (power & _1n)\n            res = (res * num) % modulo;\n        num = (num * num) % modulo;\n        power >>= _1n;\n    }\n    return res;\n}\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nfunction pow2(x, power, modulo) {\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= modulo;\n    }\n    return res;\n}\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nfunction invert(number, modulo) {\n    if (number === _0n)\n        throw new Error('invert: expected non-zero number');\n    if (modulo <= _0n)\n        throw new Error('invert: expected positive modulus, got ' + modulo);\n    // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n    let a = mod(number, modulo);\n    let b = modulo;\n    // prettier-ignore\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        // JIT applies optimization if those two lines follow each other\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        // prettier-ignore\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * Will start an infinite loop if field order P is not prime.\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nfunction tonelliShanks(P) {\n    // Legendre constant: used to calculate Legendre symbol (a | p),\n    // which denotes the value of a^((p-1)/2) (mod p).\n    // (a | p) ≡ 1    if a is a square (mod p)\n    // (a | p) ≡ -1   if a is not a square (mod p)\n    // (a | p) ≡ 0    if a ≡ 0 (mod p)\n    const legendreC = (P - _1n) / _2n;\n    let Q, S, Z;\n    // Step 1: By factoring out powers of 2 from p - 1,\n    // find q and s such that p - 1 = q*(2^s) with q odd\n    for (Q = P - _1n, S = 0; Q % _2n === _0n; Q /= _2n, S++)\n        ;\n    // Step 2: Select a non-square z such that (z | p) ≡ -1 and set c ≡ zq\n    for (Z = _2n; Z < P && pow(Z, legendreC, P) !== P - _1n; Z++) {\n        // Crash instead of infinity loop, we cannot reasonable count until P.\n        if (Z > 1000)\n            throw new Error('Cannot find square root: likely non-prime P');\n    }\n    // Fast-path\n    if (S === 1) {\n        const p1div4 = (P + _1n) / _4n;\n        return function tonelliFast(Fp, n) {\n            const root = Fp.pow(n, p1div4);\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // Slow-path\n    const Q1div2 = (Q + _1n) / _2n;\n    return function tonelliSlow(Fp, n) {\n        // Step 0: Check that n is indeed a square: (n | p) should not be ≡ -1\n        if (Fp.pow(n, legendreC) === Fp.neg(Fp.ONE))\n            throw new Error('Cannot find square root');\n        let r = S;\n        // TODO: will fail at Fp2/etc\n        let g = Fp.pow(Fp.mul(Fp.ONE, Z), Q); // will update both x and b\n        let x = Fp.pow(n, Q1div2); // first guess at the square root\n        let b = Fp.pow(n, Q); // first guess at the fudge factor\n        while (!Fp.eql(b, Fp.ONE)) {\n            if (Fp.eql(b, Fp.ZERO))\n                return Fp.ZERO; // https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm (4. If t = 0, return r = 0)\n            // Find m such b^(2^m)==1\n            let m = 1;\n            for (let t2 = Fp.sqr(b); m < r; m++) {\n                if (Fp.eql(t2, Fp.ONE))\n                    break;\n                t2 = Fp.sqr(t2); // t2 *= t2\n            }\n            // NOTE: r-m-1 can be bigger than 32, need to convert to bigint before shift, otherwise there will be overflow\n            const ge = Fp.pow(g, _1n << BigInt(r - m - 1)); // ge = 2^(r-m-1)\n            g = Fp.sqr(ge); // g = ge * ge\n            x = Fp.mul(x, ge); // x *= ge\n            b = Fp.mul(b, g); // b *= g\n            r = m;\n        }\n        return x;\n    };\n}\n/**\n * Square root for a finite field. It will try to check if optimizations are applicable and fall back to 4:\n *\n * 1. P ≡ 3 (mod 4)\n * 2. P ≡ 5 (mod 8)\n * 3. P ≡ 9 (mod 16)\n * 4. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nfunction FpSqrt(P) {\n    // P ≡ 3 (mod 4)\n    // √n = n^((P+1)/4)\n    if (P % _4n === _3n) {\n        // Not all roots possible!\n        // const ORDER =\n        //   0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn;\n        // const NUM = 72057594037927816n;\n        const p1div4 = (P + _1n) / _4n;\n        return function sqrt3mod4(Fp, n) {\n            const root = Fp.pow(n, p1div4);\n            // Throw if root**2 != n\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // Atkin algorithm for q ≡ 5 (mod 8), https://eprint.iacr.org/2012/685.pdf (page 10)\n    if (P % _8n === _5n) {\n        const c1 = (P - _5n) / _8n;\n        return function sqrt5mod8(Fp, n) {\n            const n2 = Fp.mul(n, _2n);\n            const v = Fp.pow(n2, c1);\n            const nv = Fp.mul(n, v);\n            const i = Fp.mul(Fp.mul(nv, _2n), v);\n            const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // P ≡ 9 (mod 16)\n    if (P % _16n === _9n) {\n        // NOTE: tonelli is too slow for bls-Fp2 calculations even on start\n        // Means we cannot use sqrt for constants at all!\n        //\n        // const c1 = Fp.sqrt(Fp.negate(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n        // const c2 = Fp.sqrt(c1);                //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n        // const c3 = Fp.sqrt(Fp.negate(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n        // const c4 = (P + _7n) / _16n;           //  4. c4 = (q + 7) / 16        # Integer arithmetic\n        // sqrt = (x) => {\n        //   let tv1 = Fp.pow(x, c4);             //  1. tv1 = x^c4\n        //   let tv2 = Fp.mul(c1, tv1);           //  2. tv2 = c1 * tv1\n        //   const tv3 = Fp.mul(c2, tv1);         //  3. tv3 = c2 * tv1\n        //   let tv4 = Fp.mul(c3, tv1);           //  4. tv4 = c3 * tv1\n        //   const e1 = Fp.equals(Fp.square(tv2), x); //  5.  e1 = (tv2^2) == x\n        //   const e2 = Fp.equals(Fp.square(tv3), x); //  6.  e2 = (tv3^2) == x\n        //   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n        //   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n        //   const e3 = Fp.equals(Fp.square(tv2), x); //  9.  e3 = (tv2^2) == x\n        //   return Fp.cmov(tv1, tv2, e3); //  10.  z = CMOV(tv1, tv2, e3)  # Select the sqrt from tv1 and tv2\n        // }\n    }\n    // Other cases: Tonelli-Shanks algorithm\n    return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nconst isNegativeLE = (num, modulo) => (mod(num, modulo) & _1n) === _1n;\n// prettier-ignore\nconst FIELD_FIELDS = [\n    'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n    'eql', 'add', 'sub', 'mul', 'pow', 'div',\n    'addN', 'subN', 'mulN', 'sqrN'\n];\nfunction validateField(field) {\n    const initial = {\n        ORDER: 'bigint',\n        MASK: 'bigint',\n        BYTES: 'isSafeInteger',\n        BITS: 'isSafeInteger',\n    };\n    const opts = FIELD_FIELDS.reduce((map, val) => {\n        map[val] = 'function';\n        return map;\n    }, initial);\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject)(field, opts);\n}\n// Generic field functions\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nfunction FpPow(f, num, power) {\n    // Should have same speed as pow for bigints\n    // TODO: benchmark!\n    if (power < _0n)\n        throw new Error('invalid exponent, negatives unsupported');\n    if (power === _0n)\n        return f.ONE;\n    if (power === _1n)\n        return num;\n    let p = f.ONE;\n    let d = num;\n    while (power > _0n) {\n        if (power & _1n)\n            p = f.mul(p, d);\n        d = f.sqr(d);\n        power >>= _1n;\n    }\n    return p;\n}\n/**\n * Efficiently invert an array of Field elements.\n * `inv(0)` will return `undefined` here: make sure to throw an error.\n */\nfunction FpInvertBatch(f, nums) {\n    const tmp = new Array(nums.length);\n    // Walk from first to last, multiply them by each other MOD p\n    const lastMultiplied = nums.reduce((acc, num, i) => {\n        if (f.is0(num))\n            return acc;\n        tmp[i] = acc;\n        return f.mul(acc, num);\n    }, f.ONE);\n    // Invert last element\n    const inverted = f.inv(lastMultiplied);\n    // Walk from last to first, multiply them by inverted each other MOD p\n    nums.reduceRight((acc, num, i) => {\n        if (f.is0(num))\n            return acc;\n        tmp[i] = f.mul(acc, tmp[i]);\n        return f.mul(acc, num);\n    }, inverted);\n    return tmp;\n}\nfunction FpDiv(f, lhs, rhs) {\n    return f.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, f.ORDER) : f.inv(rhs));\n}\n/**\n * Legendre symbol.\n * * (a | p) ≡ 1    if a is a square (mod p), quadratic residue\n * * (a | p) ≡ -1   if a is not a square (mod p), quadratic non residue\n * * (a | p) ≡ 0    if a ≡ 0 (mod p)\n */\nfunction FpLegendre(order) {\n    const legendreConst = (order - _1n) / _2n; // Integer arithmetic\n    return (f, x) => f.pow(x, legendreConst);\n}\n// This function returns True whenever the value x is a square in the field F.\nfunction FpIsSquare(f) {\n    const legendre = FpLegendre(f.ORDER);\n    return (x) => {\n        const p = legendre(f, x);\n        return f.eql(p, f.ZERO) || f.eql(p, f.ONE);\n    };\n}\n// CURVE.n lengths\nfunction nLength(n, nBitLength) {\n    // Bit size, byte size of CURVE.n\n    const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n    const nByteLength = Math.ceil(_nBitLength / 8);\n    return { nBitLength: _nBitLength, nByteLength };\n}\n/**\n * Initializes a finite field over prime.\n * Major performance optimizations:\n * * a) denormalized operations like mulN instead of mul\n * * b) same object shape: never add or remove keys\n * * c) Object.freeze\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n * @param ORDER prime positive bigint\n * @param bitLen how many bits the field consumes\n * @param isLE (def: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nfunction Field(ORDER, bitLen, isLE = false, redef = {}) {\n    if (ORDER <= _0n)\n        throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n    const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, bitLen);\n    if (BYTES > 2048)\n        throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n    let sqrtP; // cached sqrtP\n    const f = Object.freeze({\n        ORDER,\n        isLE,\n        BITS,\n        BYTES,\n        MASK: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask)(BITS),\n        ZERO: _0n,\n        ONE: _1n,\n        create: (num) => mod(num, ORDER),\n        isValid: (num) => {\n            if (typeof num !== 'bigint')\n                throw new Error('invalid field element: expected bigint, got ' + typeof num);\n            return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n        },\n        is0: (num) => num === _0n,\n        isOdd: (num) => (num & _1n) === _1n,\n        neg: (num) => mod(-num, ORDER),\n        eql: (lhs, rhs) => lhs === rhs,\n        sqr: (num) => mod(num * num, ORDER),\n        add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n        sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n        mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n        pow: (num, power) => FpPow(f, num, power),\n        div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n        // Same as above, but doesn't normalize\n        sqrN: (num) => num * num,\n        addN: (lhs, rhs) => lhs + rhs,\n        subN: (lhs, rhs) => lhs - rhs,\n        mulN: (lhs, rhs) => lhs * rhs,\n        inv: (num) => invert(num, ORDER),\n        sqrt: redef.sqrt ||\n            ((n) => {\n                if (!sqrtP)\n                    sqrtP = FpSqrt(ORDER);\n                return sqrtP(f, n);\n            }),\n        invertBatch: (lst) => FpInvertBatch(f, lst),\n        // TODO: do we really need constant cmov?\n        // We don't have const-time bigints anyway, so probably will be not very useful\n        cmov: (a, b, c) => (c ? b : a),\n        toBytes: (num) => (isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesLE)(num, BYTES) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE)(num, BYTES)),\n        fromBytes: (bytes) => {\n            if (bytes.length !== BYTES)\n                throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n            return isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(bytes) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(bytes);\n        },\n    });\n    return Object.freeze(f);\n}\nfunction FpSqrtOdd(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nfunction FpSqrtEven(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use `mapKeyToField` instead\n */\nfunction hashToPrivateScalar(hash, groupOrder, isLE = false) {\n    hash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('privateHash', hash);\n    const hashLen = hash.length;\n    const minLen = nLength(groupOrder).nByteLength + 8;\n    if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n        throw new Error('hashToPrivateScalar: expected ' + minLen + '-1024 bytes of input, got ' + hashLen);\n    const num = isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(hash) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(hash);\n    return mod(num, groupOrder - _1n) + _1n;\n}\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nfunction getFieldBytesLength(fieldOrder) {\n    if (typeof fieldOrder !== 'bigint')\n        throw new Error('field order must be bigint');\n    const bitLength = fieldOrder.toString(2).length;\n    return Math.ceil(bitLength / 8);\n}\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nfunction getMinHashLength(fieldOrder) {\n    const length = getFieldBytesLength(fieldOrder);\n    return length + Math.ceil(length / 2);\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nfunction mapHashToField(key, fieldOrder, isLE = false) {\n    const len = key.length;\n    const fieldLen = getFieldBytesLength(fieldOrder);\n    const minLen = getMinHashLength(fieldOrder);\n    // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n    if (len < 16 || len < minLen || len > 1024)\n        throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n    const num = isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(key) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(key);\n    // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n    const reduced = mod(num, fieldOrder - _1n) + _1n;\n    return isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesLE)(reduced, fieldLen) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE)(reduced, fieldLen);\n}\n//# sourceMappingURL=modular.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC9tb2R1bGFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN1STtBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaUJBQWlCO0FBQzlDO0FBQ0E7QUFDQSxrQkFBa0IsMkNBQTJDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDLG1DQUFtQztBQUNuQyw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0EscUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMERBQWUsUUFBUSwwREFBZTtBQUM3RDtBQUNBO0FBQ0Esa0JBQWtCLDBEQUFlLHNCQUFzQiwwREFBZTtBQUN0RTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvQG5vYmxlL2N1cnZlcy9lc20vYWJzdHJhY3QvbW9kdWxhci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFV0aWxzIGZvciBtb2R1bGFyIGRpdmlzaW9uIGFuZCBmaW5pdGUgZmllbGRzLlxuICogQSBmaW5pdGUgZmllbGQgb3ZlciAxMSBpcyBpbnRlZ2VyIG51bWJlciBvcGVyYXRpb25zIGBtb2QgMTFgLlxuICogVGhlcmUgaXMgbm8gZGl2aXNpb246IGl0IGlzIHJlcGxhY2VkIGJ5IG1vZHVsYXIgbXVsdGlwbGljYXRpdmUgaW52ZXJzZS5cbiAqIEBtb2R1bGVcbiAqL1xuLyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL1xuaW1wb3J0IHsgYml0TWFzaywgYnl0ZXNUb051bWJlckJFLCBieXRlc1RvTnVtYmVyTEUsIGVuc3VyZUJ5dGVzLCBudW1iZXJUb0J5dGVzQkUsIG51bWJlclRvQnl0ZXNMRSwgdmFsaWRhdGVPYmplY3QsIH0gZnJvbSAnLi91dGlscy5qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IF8wbiA9IEJpZ0ludCgwKSwgXzFuID0gQmlnSW50KDEpLCBfMm4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDIpLCBfM24gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDMpO1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBfNG4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDQpLCBfNW4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDUpLCBfOG4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDgpO1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBfOW4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDkpLCBfMTZuID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCgxNik7XG4vLyBDYWxjdWxhdGVzIGEgbW9kdWxvIGJcbmV4cG9ydCBmdW5jdGlvbiBtb2QoYSwgYikge1xuICAgIGNvbnN0IHJlc3VsdCA9IGEgJSBiO1xuICAgIHJldHVybiByZXN1bHQgPj0gXzBuID8gcmVzdWx0IDogYiArIHJlc3VsdDtcbn1cbi8qKlxuICogRWZmaWNpZW50bHkgcmFpc2UgbnVtIHRvIHBvd2VyIGFuZCBkbyBtb2R1bGFyIGRpdmlzaW9uLlxuICogVW5zYWZlIGluIHNvbWUgY29udGV4dHM6IHVzZXMgbGFkZGVyLCBzbyBjYW4gZXhwb3NlIGJpZ2ludCBiaXRzLlxuICogQHRvZG8gdXNlIGZpZWxkIHZlcnNpb24gJiYgcmVtb3ZlXG4gKiBAZXhhbXBsZVxuICogcG93KDJuLCA2biwgMTFuKSAvLyA2NG4gJSAxMW4gPT0gOW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvdyhudW0sIHBvd2VyLCBtb2R1bG8pIHtcbiAgICBpZiAocG93ZXIgPCBfMG4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBleHBvbmVudCwgbmVnYXRpdmVzIHVuc3VwcG9ydGVkJyk7XG4gICAgaWYgKG1vZHVsbyA8PSBfMG4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBtb2R1bHVzJyk7XG4gICAgaWYgKG1vZHVsbyA9PT0gXzFuKVxuICAgICAgICByZXR1cm4gXzBuO1xuICAgIGxldCByZXMgPSBfMW47XG4gICAgd2hpbGUgKHBvd2VyID4gXzBuKSB7XG4gICAgICAgIGlmIChwb3dlciAmIF8xbilcbiAgICAgICAgICAgIHJlcyA9IChyZXMgKiBudW0pICUgbW9kdWxvO1xuICAgICAgICBudW0gPSAobnVtICogbnVtKSAlIG1vZHVsbztcbiAgICAgICAgcG93ZXIgPj49IF8xbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8qKiBEb2VzIGB4XigyXnBvd2VyKWAgbW9kIHAuIGBwb3cyKDMwLCA0KWAgPT0gYDMwXigyXjQpYCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvdzIoeCwgcG93ZXIsIG1vZHVsbykge1xuICAgIGxldCByZXMgPSB4O1xuICAgIHdoaWxlIChwb3dlci0tID4gXzBuKSB7XG4gICAgICAgIHJlcyAqPSByZXM7XG4gICAgICAgIHJlcyAlPSBtb2R1bG87XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vKipcbiAqIEludmVyc2VzIG51bWJlciBvdmVyIG1vZHVsby5cbiAqIEltcGxlbWVudGVkIHVzaW5nIFtFdWNsaWRlYW4gR0NEXShodHRwczovL2JyaWxsaWFudC5vcmcvd2lraS9leHRlbmRlZC1ldWNsaWRlYW4tYWxnb3JpdGhtLykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQobnVtYmVyLCBtb2R1bG8pIHtcbiAgICBpZiAobnVtYmVyID09PSBfMG4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52ZXJ0OiBleHBlY3RlZCBub24temVybyBudW1iZXInKTtcbiAgICBpZiAobW9kdWxvIDw9IF8wbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZlcnQ6IGV4cGVjdGVkIHBvc2l0aXZlIG1vZHVsdXMsIGdvdCAnICsgbW9kdWxvKTtcbiAgICAvLyBGZXJtYXQncyBsaXR0bGUgdGhlb3JlbSBcIkNULWxpa2VcIiB2ZXJzaW9uIGludihuKSA9IG5eKG0tMikgbW9kIG0gaXMgMzB4IHNsb3dlci5cbiAgICBsZXQgYSA9IG1vZChudW1iZXIsIG1vZHVsbyk7XG4gICAgbGV0IGIgPSBtb2R1bG87XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgbGV0IHggPSBfMG4sIHkgPSBfMW4sIHUgPSBfMW4sIHYgPSBfMG47XG4gICAgd2hpbGUgKGEgIT09IF8wbikge1xuICAgICAgICAvLyBKSVQgYXBwbGllcyBvcHRpbWl6YXRpb24gaWYgdGhvc2UgdHdvIGxpbmVzIGZvbGxvdyBlYWNoIG90aGVyXG4gICAgICAgIGNvbnN0IHEgPSBiIC8gYTtcbiAgICAgICAgY29uc3QgciA9IGIgJSBhO1xuICAgICAgICBjb25zdCBtID0geCAtIHUgKiBxO1xuICAgICAgICBjb25zdCBuID0geSAtIHYgKiBxO1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgYiA9IGEsIGEgPSByLCB4ID0gdSwgeSA9IHYsIHUgPSBtLCB2ID0gbjtcbiAgICB9XG4gICAgY29uc3QgZ2NkID0gYjtcbiAgICBpZiAoZ2NkICE9PSBfMW4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52ZXJ0OiBkb2VzIG5vdCBleGlzdCcpO1xuICAgIHJldHVybiBtb2QoeCwgbW9kdWxvKTtcbn1cbi8qKlxuICogVG9uZWxsaS1TaGFua3Mgc3F1YXJlIHJvb3Qgc2VhcmNoIGFsZ29yaXRobS5cbiAqIDEuIGh0dHBzOi8vZXByaW50LmlhY3Iub3JnLzIwMTIvNjg1LnBkZiAocGFnZSAxMilcbiAqIDIuIFNxdWFyZSBSb290cyBmcm9tIDE7IDI0LCA1MSwgMTAgdG8gRGFuIFNoYW5rc1xuICogV2lsbCBzdGFydCBhbiBpbmZpbml0ZSBsb29wIGlmIGZpZWxkIG9yZGVyIFAgaXMgbm90IHByaW1lLlxuICogQHBhcmFtIFAgZmllbGQgb3JkZXJcbiAqIEByZXR1cm5zIGZ1bmN0aW9uIHRoYXQgdGFrZXMgZmllbGQgRnAgKGNyZWF0ZWQgZnJvbSBQKSBhbmQgbnVtYmVyIG5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvbmVsbGlTaGFua3MoUCkge1xuICAgIC8vIExlZ2VuZHJlIGNvbnN0YW50OiB1c2VkIHRvIGNhbGN1bGF0ZSBMZWdlbmRyZSBzeW1ib2wgKGEgfCBwKSxcbiAgICAvLyB3aGljaCBkZW5vdGVzIHRoZSB2YWx1ZSBvZiBhXigocC0xKS8yKSAobW9kIHApLlxuICAgIC8vIChhIHwgcCkg4omhIDEgICAgaWYgYSBpcyBhIHNxdWFyZSAobW9kIHApXG4gICAgLy8gKGEgfCBwKSDiiaEgLTEgICBpZiBhIGlzIG5vdCBhIHNxdWFyZSAobW9kIHApXG4gICAgLy8gKGEgfCBwKSDiiaEgMCAgICBpZiBhIOKJoSAwIChtb2QgcClcbiAgICBjb25zdCBsZWdlbmRyZUMgPSAoUCAtIF8xbikgLyBfMm47XG4gICAgbGV0IFEsIFMsIFo7XG4gICAgLy8gU3RlcCAxOiBCeSBmYWN0b3Jpbmcgb3V0IHBvd2VycyBvZiAyIGZyb20gcCAtIDEsXG4gICAgLy8gZmluZCBxIGFuZCBzIHN1Y2ggdGhhdCBwIC0gMSA9IHEqKDJecykgd2l0aCBxIG9kZFxuICAgIGZvciAoUSA9IFAgLSBfMW4sIFMgPSAwOyBRICUgXzJuID09PSBfMG47IFEgLz0gXzJuLCBTKyspXG4gICAgICAgIDtcbiAgICAvLyBTdGVwIDI6IFNlbGVjdCBhIG5vbi1zcXVhcmUgeiBzdWNoIHRoYXQgKHogfCBwKSDiiaEgLTEgYW5kIHNldCBjIOKJoSB6cVxuICAgIGZvciAoWiA9IF8ybjsgWiA8IFAgJiYgcG93KFosIGxlZ2VuZHJlQywgUCkgIT09IFAgLSBfMW47IForKykge1xuICAgICAgICAvLyBDcmFzaCBpbnN0ZWFkIG9mIGluZmluaXR5IGxvb3AsIHdlIGNhbm5vdCByZWFzb25hYmxlIGNvdW50IHVudGlsIFAuXG4gICAgICAgIGlmIChaID4gMTAwMClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3Q6IGxpa2VseSBub24tcHJpbWUgUCcpO1xuICAgIH1cbiAgICAvLyBGYXN0LXBhdGhcbiAgICBpZiAoUyA9PT0gMSkge1xuICAgICAgICBjb25zdCBwMWRpdjQgPSAoUCArIF8xbikgLyBfNG47XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiB0b25lbGxpRmFzdChGcCwgbikge1xuICAgICAgICAgICAgY29uc3Qgcm9vdCA9IEZwLnBvdyhuLCBwMWRpdjQpO1xuICAgICAgICAgICAgaWYgKCFGcC5lcWwoRnAuc3FyKHJvb3QpLCBuKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHNxdWFyZSByb290Jyk7XG4gICAgICAgICAgICByZXR1cm4gcm9vdDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gU2xvdy1wYXRoXG4gICAgY29uc3QgUTFkaXYyID0gKFEgKyBfMW4pIC8gXzJuO1xuICAgIHJldHVybiBmdW5jdGlvbiB0b25lbGxpU2xvdyhGcCwgbikge1xuICAgICAgICAvLyBTdGVwIDA6IENoZWNrIHRoYXQgbiBpcyBpbmRlZWQgYSBzcXVhcmU6IChuIHwgcCkgc2hvdWxkIG5vdCBiZSDiiaEgLTFcbiAgICAgICAgaWYgKEZwLnBvdyhuLCBsZWdlbmRyZUMpID09PSBGcC5uZWcoRnAuT05FKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3QnKTtcbiAgICAgICAgbGV0IHIgPSBTO1xuICAgICAgICAvLyBUT0RPOiB3aWxsIGZhaWwgYXQgRnAyL2V0Y1xuICAgICAgICBsZXQgZyA9IEZwLnBvdyhGcC5tdWwoRnAuT05FLCBaKSwgUSk7IC8vIHdpbGwgdXBkYXRlIGJvdGggeCBhbmQgYlxuICAgICAgICBsZXQgeCA9IEZwLnBvdyhuLCBRMWRpdjIpOyAvLyBmaXJzdCBndWVzcyBhdCB0aGUgc3F1YXJlIHJvb3RcbiAgICAgICAgbGV0IGIgPSBGcC5wb3cobiwgUSk7IC8vIGZpcnN0IGd1ZXNzIGF0IHRoZSBmdWRnZSBmYWN0b3JcbiAgICAgICAgd2hpbGUgKCFGcC5lcWwoYiwgRnAuT05FKSkge1xuICAgICAgICAgICAgaWYgKEZwLmVxbChiLCBGcC5aRVJPKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gRnAuWkVSTzsgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVG9uZWxsaSVFMiU4MCU5M1NoYW5rc19hbGdvcml0aG0gKDQuIElmIHQgPSAwLCByZXR1cm4gciA9IDApXG4gICAgICAgICAgICAvLyBGaW5kIG0gc3VjaCBiXigyXm0pPT0xXG4gICAgICAgICAgICBsZXQgbSA9IDE7XG4gICAgICAgICAgICBmb3IgKGxldCB0MiA9IEZwLnNxcihiKTsgbSA8IHI7IG0rKykge1xuICAgICAgICAgICAgICAgIGlmIChGcC5lcWwodDIsIEZwLk9ORSkpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHQyID0gRnAuc3FyKHQyKTsgLy8gdDIgKj0gdDJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5PVEU6IHItbS0xIGNhbiBiZSBiaWdnZXIgdGhhbiAzMiwgbmVlZCB0byBjb252ZXJ0IHRvIGJpZ2ludCBiZWZvcmUgc2hpZnQsIG90aGVyd2lzZSB0aGVyZSB3aWxsIGJlIG92ZXJmbG93XG4gICAgICAgICAgICBjb25zdCBnZSA9IEZwLnBvdyhnLCBfMW4gPDwgQmlnSW50KHIgLSBtIC0gMSkpOyAvLyBnZSA9IDJeKHItbS0xKVxuICAgICAgICAgICAgZyA9IEZwLnNxcihnZSk7IC8vIGcgPSBnZSAqIGdlXG4gICAgICAgICAgICB4ID0gRnAubXVsKHgsIGdlKTsgLy8geCAqPSBnZVxuICAgICAgICAgICAgYiA9IEZwLm11bChiLCBnKTsgLy8gYiAqPSBnXG4gICAgICAgICAgICByID0gbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geDtcbiAgICB9O1xufVxuLyoqXG4gKiBTcXVhcmUgcm9vdCBmb3IgYSBmaW5pdGUgZmllbGQuIEl0IHdpbGwgdHJ5IHRvIGNoZWNrIGlmIG9wdGltaXphdGlvbnMgYXJlIGFwcGxpY2FibGUgYW5kIGZhbGwgYmFjayB0byA0OlxuICpcbiAqIDEuIFAg4omhIDMgKG1vZCA0KVxuICogMi4gUCDiiaEgNSAobW9kIDgpXG4gKiAzLiBQIOKJoSA5IChtb2QgMTYpXG4gKiA0LiBUb25lbGxpLVNoYW5rcyBhbGdvcml0aG1cbiAqXG4gKiBEaWZmZXJlbnQgYWxnb3JpdGhtcyBjYW4gZ2l2ZSBkaWZmZXJlbnQgcm9vdHMsIGl0IGlzIHVwIHRvIHVzZXIgdG8gZGVjaWRlIHdoaWNoIG9uZSB0aGV5IHdhbnQuXG4gKiBGb3IgZXhhbXBsZSB0aGVyZSBpcyBGcFNxcnRPZGQvRnBTcXJ0RXZlbiB0byBjaG9pY2Ugcm9vdCBiYXNlZCBvbiBvZGRuZXNzICh1c2VkIGZvciBoYXNoLXRvLWN1cnZlKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZwU3FydChQKSB7XG4gICAgLy8gUCDiiaEgMyAobW9kIDQpXG4gICAgLy8g4oiabiA9IG5eKChQKzEpLzQpXG4gICAgaWYgKFAgJSBfNG4gPT09IF8zbikge1xuICAgICAgICAvLyBOb3QgYWxsIHJvb3RzIHBvc3NpYmxlIVxuICAgICAgICAvLyBjb25zdCBPUkRFUiA9XG4gICAgICAgIC8vICAgMHgxYTAxMTFlYTM5N2ZlNjlhNGIxYmE3YjY0MzRiYWNkNzY0Nzc0Yjg0ZjM4NTEyYmY2NzMwZDJhMGY2YjBmNjI0MWVhYmZmZmViMTUzZmZmZmI5ZmVmZmZmZmZmZmFhYWJuO1xuICAgICAgICAvLyBjb25zdCBOVU0gPSA3MjA1NzU5NDAzNzkyNzgxNm47XG4gICAgICAgIGNvbnN0IHAxZGl2NCA9IChQICsgXzFuKSAvIF80bjtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNxcnQzbW9kNChGcCwgbikge1xuICAgICAgICAgICAgY29uc3Qgcm9vdCA9IEZwLnBvdyhuLCBwMWRpdjQpO1xuICAgICAgICAgICAgLy8gVGhyb3cgaWYgcm9vdCoqMiAhPSBuXG4gICAgICAgICAgICBpZiAoIUZwLmVxbChGcC5zcXIocm9vdCksIG4pKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3QnKTtcbiAgICAgICAgICAgIHJldHVybiByb290O1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBBdGtpbiBhbGdvcml0aG0gZm9yIHEg4omhIDUgKG1vZCA4KSwgaHR0cHM6Ly9lcHJpbnQuaWFjci5vcmcvMjAxMi82ODUucGRmIChwYWdlIDEwKVxuICAgIGlmIChQICUgXzhuID09PSBfNW4pIHtcbiAgICAgICAgY29uc3QgYzEgPSAoUCAtIF81bikgLyBfOG47XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBzcXJ0NW1vZDgoRnAsIG4pIHtcbiAgICAgICAgICAgIGNvbnN0IG4yID0gRnAubXVsKG4sIF8ybik7XG4gICAgICAgICAgICBjb25zdCB2ID0gRnAucG93KG4yLCBjMSk7XG4gICAgICAgICAgICBjb25zdCBudiA9IEZwLm11bChuLCB2KTtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBGcC5tdWwoRnAubXVsKG52LCBfMm4pLCB2KTtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBGcC5tdWwobnYsIEZwLnN1YihpLCBGcC5PTkUpKTtcbiAgICAgICAgICAgIGlmICghRnAuZXFsKEZwLnNxcihyb290KSwgbikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBzcXVhcmUgcm9vdCcpO1xuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFAg4omhIDkgKG1vZCAxNilcbiAgICBpZiAoUCAlIF8xNm4gPT09IF85bikge1xuICAgICAgICAvLyBOT1RFOiB0b25lbGxpIGlzIHRvbyBzbG93IGZvciBibHMtRnAyIGNhbGN1bGF0aW9ucyBldmVuIG9uIHN0YXJ0XG4gICAgICAgIC8vIE1lYW5zIHdlIGNhbm5vdCB1c2Ugc3FydCBmb3IgY29uc3RhbnRzIGF0IGFsbCFcbiAgICAgICAgLy9cbiAgICAgICAgLy8gY29uc3QgYzEgPSBGcC5zcXJ0KEZwLm5lZ2F0ZShGcC5PTkUpKTsgLy8gIDEuIGMxID0gc3FydCgtMSkgaW4gRiwgaS5lLiwgKGMxXjIpID09IC0xIGluIEZcbiAgICAgICAgLy8gY29uc3QgYzIgPSBGcC5zcXJ0KGMxKTsgICAgICAgICAgICAgICAgLy8gIDIuIGMyID0gc3FydChjMSkgaW4gRiwgaS5lLiwgKGMyXjIpID09IGMxIGluIEZcbiAgICAgICAgLy8gY29uc3QgYzMgPSBGcC5zcXJ0KEZwLm5lZ2F0ZShjMSkpOyAgICAgLy8gIDMuIGMzID0gc3FydCgtYzEpIGluIEYsIGkuZS4sIChjM14yKSA9PSAtYzEgaW4gRlxuICAgICAgICAvLyBjb25zdCBjNCA9IChQICsgXzduKSAvIF8xNm47ICAgICAgICAgICAvLyAgNC4gYzQgPSAocSArIDcpIC8gMTYgICAgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgICAgIC8vIHNxcnQgPSAoeCkgPT4ge1xuICAgICAgICAvLyAgIGxldCB0djEgPSBGcC5wb3coeCwgYzQpOyAgICAgICAgICAgICAvLyAgMS4gdHYxID0geF5jNFxuICAgICAgICAvLyAgIGxldCB0djIgPSBGcC5tdWwoYzEsIHR2MSk7ICAgICAgICAgICAvLyAgMi4gdHYyID0gYzEgKiB0djFcbiAgICAgICAgLy8gICBjb25zdCB0djMgPSBGcC5tdWwoYzIsIHR2MSk7ICAgICAgICAgLy8gIDMuIHR2MyA9IGMyICogdHYxXG4gICAgICAgIC8vICAgbGV0IHR2NCA9IEZwLm11bChjMywgdHYxKTsgICAgICAgICAgIC8vICA0LiB0djQgPSBjMyAqIHR2MVxuICAgICAgICAvLyAgIGNvbnN0IGUxID0gRnAuZXF1YWxzKEZwLnNxdWFyZSh0djIpLCB4KTsgLy8gIDUuICBlMSA9ICh0djJeMikgPT0geFxuICAgICAgICAvLyAgIGNvbnN0IGUyID0gRnAuZXF1YWxzKEZwLnNxdWFyZSh0djMpLCB4KTsgLy8gIDYuICBlMiA9ICh0djNeMikgPT0geFxuICAgICAgICAvLyAgIHR2MSA9IEZwLmNtb3YodHYxLCB0djIsIGUxKTsgLy8gIDcuIHR2MSA9IENNT1YodHYxLCB0djIsIGUxKSAgIyBTZWxlY3QgdHYyIGlmICh0djJeMikgPT0geFxuICAgICAgICAvLyAgIHR2MiA9IEZwLmNtb3YodHY0LCB0djMsIGUyKTsgLy8gIDguIHR2MiA9IENNT1YodHY0LCB0djMsIGUyKSAgIyBTZWxlY3QgdHYzIGlmICh0djNeMikgPT0geFxuICAgICAgICAvLyAgIGNvbnN0IGUzID0gRnAuZXF1YWxzKEZwLnNxdWFyZSh0djIpLCB4KTsgLy8gIDkuICBlMyA9ICh0djJeMikgPT0geFxuICAgICAgICAvLyAgIHJldHVybiBGcC5jbW92KHR2MSwgdHYyLCBlMyk7IC8vICAxMC4gIHogPSBDTU9WKHR2MSwgdHYyLCBlMykgICMgU2VsZWN0IHRoZSBzcXJ0IGZyb20gdHYxIGFuZCB0djJcbiAgICAgICAgLy8gfVxuICAgIH1cbiAgICAvLyBPdGhlciBjYXNlczogVG9uZWxsaS1TaGFua3MgYWxnb3JpdGhtXG4gICAgcmV0dXJuIHRvbmVsbGlTaGFua3MoUCk7XG59XG4vLyBMaXR0bGUtZW5kaWFuIGNoZWNrIGZvciBmaXJzdCBMRSBiaXQgKGxhc3QgQkUgYml0KTtcbmV4cG9ydCBjb25zdCBpc05lZ2F0aXZlTEUgPSAobnVtLCBtb2R1bG8pID0+IChtb2QobnVtLCBtb2R1bG8pICYgXzFuKSA9PT0gXzFuO1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBGSUVMRF9GSUVMRFMgPSBbXG4gICAgJ2NyZWF0ZScsICdpc1ZhbGlkJywgJ2lzMCcsICduZWcnLCAnaW52JywgJ3NxcnQnLCAnc3FyJyxcbiAgICAnZXFsJywgJ2FkZCcsICdzdWInLCAnbXVsJywgJ3BvdycsICdkaXYnLFxuICAgICdhZGROJywgJ3N1Yk4nLCAnbXVsTicsICdzcXJOJ1xuXTtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUZpZWxkKGZpZWxkKSB7XG4gICAgY29uc3QgaW5pdGlhbCA9IHtcbiAgICAgICAgT1JERVI6ICdiaWdpbnQnLFxuICAgICAgICBNQVNLOiAnYmlnaW50JyxcbiAgICAgICAgQllURVM6ICdpc1NhZmVJbnRlZ2VyJyxcbiAgICAgICAgQklUUzogJ2lzU2FmZUludGVnZXInLFxuICAgIH07XG4gICAgY29uc3Qgb3B0cyA9IEZJRUxEX0ZJRUxEUy5yZWR1Y2UoKG1hcCwgdmFsKSA9PiB7XG4gICAgICAgIG1hcFt2YWxdID0gJ2Z1bmN0aW9uJztcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9LCBpbml0aWFsKTtcbiAgICByZXR1cm4gdmFsaWRhdGVPYmplY3QoZmllbGQsIG9wdHMpO1xufVxuLy8gR2VuZXJpYyBmaWVsZCBmdW5jdGlvbnNcbi8qKlxuICogU2FtZSBhcyBgcG93YCBidXQgZm9yIEZwOiBub24tY29uc3RhbnQtdGltZS5cbiAqIFVuc2FmZSBpbiBzb21lIGNvbnRleHRzOiB1c2VzIGxhZGRlciwgc28gY2FuIGV4cG9zZSBiaWdpbnQgYml0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZwUG93KGYsIG51bSwgcG93ZXIpIHtcbiAgICAvLyBTaG91bGQgaGF2ZSBzYW1lIHNwZWVkIGFzIHBvdyBmb3IgYmlnaW50c1xuICAgIC8vIFRPRE86IGJlbmNobWFyayFcbiAgICBpZiAocG93ZXIgPCBfMG4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBleHBvbmVudCwgbmVnYXRpdmVzIHVuc3VwcG9ydGVkJyk7XG4gICAgaWYgKHBvd2VyID09PSBfMG4pXG4gICAgICAgIHJldHVybiBmLk9ORTtcbiAgICBpZiAocG93ZXIgPT09IF8xbilcbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICBsZXQgcCA9IGYuT05FO1xuICAgIGxldCBkID0gbnVtO1xuICAgIHdoaWxlIChwb3dlciA+IF8wbikge1xuICAgICAgICBpZiAocG93ZXIgJiBfMW4pXG4gICAgICAgICAgICBwID0gZi5tdWwocCwgZCk7XG4gICAgICAgIGQgPSBmLnNxcihkKTtcbiAgICAgICAgcG93ZXIgPj49IF8xbjtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG4vKipcbiAqIEVmZmljaWVudGx5IGludmVydCBhbiBhcnJheSBvZiBGaWVsZCBlbGVtZW50cy5cbiAqIGBpbnYoMClgIHdpbGwgcmV0dXJuIGB1bmRlZmluZWRgIGhlcmU6IG1ha2Ugc3VyZSB0byB0aHJvdyBhbiBlcnJvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZwSW52ZXJ0QmF0Y2goZiwgbnVtcykge1xuICAgIGNvbnN0IHRtcCA9IG5ldyBBcnJheShudW1zLmxlbmd0aCk7XG4gICAgLy8gV2FsayBmcm9tIGZpcnN0IHRvIGxhc3QsIG11bHRpcGx5IHRoZW0gYnkgZWFjaCBvdGhlciBNT0QgcFxuICAgIGNvbnN0IGxhc3RNdWx0aXBsaWVkID0gbnVtcy5yZWR1Y2UoKGFjYywgbnVtLCBpKSA9PiB7XG4gICAgICAgIGlmIChmLmlzMChudW0pKVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgdG1wW2ldID0gYWNjO1xuICAgICAgICByZXR1cm4gZi5tdWwoYWNjLCBudW0pO1xuICAgIH0sIGYuT05FKTtcbiAgICAvLyBJbnZlcnQgbGFzdCBlbGVtZW50XG4gICAgY29uc3QgaW52ZXJ0ZWQgPSBmLmludihsYXN0TXVsdGlwbGllZCk7XG4gICAgLy8gV2FsayBmcm9tIGxhc3QgdG8gZmlyc3QsIG11bHRpcGx5IHRoZW0gYnkgaW52ZXJ0ZWQgZWFjaCBvdGhlciBNT0QgcFxuICAgIG51bXMucmVkdWNlUmlnaHQoKGFjYywgbnVtLCBpKSA9PiB7XG4gICAgICAgIGlmIChmLmlzMChudW0pKVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgdG1wW2ldID0gZi5tdWwoYWNjLCB0bXBbaV0pO1xuICAgICAgICByZXR1cm4gZi5tdWwoYWNjLCBudW0pO1xuICAgIH0sIGludmVydGVkKTtcbiAgICByZXR1cm4gdG1wO1xufVxuZXhwb3J0IGZ1bmN0aW9uIEZwRGl2KGYsIGxocywgcmhzKSB7XG4gICAgcmV0dXJuIGYubXVsKGxocywgdHlwZW9mIHJocyA9PT0gJ2JpZ2ludCcgPyBpbnZlcnQocmhzLCBmLk9SREVSKSA6IGYuaW52KHJocykpO1xufVxuLyoqXG4gKiBMZWdlbmRyZSBzeW1ib2wuXG4gKiAqIChhIHwgcCkg4omhIDEgICAgaWYgYSBpcyBhIHNxdWFyZSAobW9kIHApLCBxdWFkcmF0aWMgcmVzaWR1ZVxuICogKiAoYSB8IHApIOKJoSAtMSAgIGlmIGEgaXMgbm90IGEgc3F1YXJlIChtb2QgcCksIHF1YWRyYXRpYyBub24gcmVzaWR1ZVxuICogKiAoYSB8IHApIOKJoSAwICAgIGlmIGEg4omhIDAgKG1vZCBwKVxuICovXG5leHBvcnQgZnVuY3Rpb24gRnBMZWdlbmRyZShvcmRlcikge1xuICAgIGNvbnN0IGxlZ2VuZHJlQ29uc3QgPSAob3JkZXIgLSBfMW4pIC8gXzJuOyAvLyBJbnRlZ2VyIGFyaXRobWV0aWNcbiAgICByZXR1cm4gKGYsIHgpID0+IGYucG93KHgsIGxlZ2VuZHJlQ29uc3QpO1xufVxuLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIFRydWUgd2hlbmV2ZXIgdGhlIHZhbHVlIHggaXMgYSBzcXVhcmUgaW4gdGhlIGZpZWxkIEYuXG5leHBvcnQgZnVuY3Rpb24gRnBJc1NxdWFyZShmKSB7XG4gICAgY29uc3QgbGVnZW5kcmUgPSBGcExlZ2VuZHJlKGYuT1JERVIpO1xuICAgIHJldHVybiAoeCkgPT4ge1xuICAgICAgICBjb25zdCBwID0gbGVnZW5kcmUoZiwgeCk7XG4gICAgICAgIHJldHVybiBmLmVxbChwLCBmLlpFUk8pIHx8IGYuZXFsKHAsIGYuT05FKTtcbiAgICB9O1xufVxuLy8gQ1VSVkUubiBsZW5ndGhzXG5leHBvcnQgZnVuY3Rpb24gbkxlbmd0aChuLCBuQml0TGVuZ3RoKSB7XG4gICAgLy8gQml0IHNpemUsIGJ5dGUgc2l6ZSBvZiBDVVJWRS5uXG4gICAgY29uc3QgX25CaXRMZW5ndGggPSBuQml0TGVuZ3RoICE9PSB1bmRlZmluZWQgPyBuQml0TGVuZ3RoIDogbi50b1N0cmluZygyKS5sZW5ndGg7XG4gICAgY29uc3QgbkJ5dGVMZW5ndGggPSBNYXRoLmNlaWwoX25CaXRMZW5ndGggLyA4KTtcbiAgICByZXR1cm4geyBuQml0TGVuZ3RoOiBfbkJpdExlbmd0aCwgbkJ5dGVMZW5ndGggfTtcbn1cbi8qKlxuICogSW5pdGlhbGl6ZXMgYSBmaW5pdGUgZmllbGQgb3ZlciBwcmltZS5cbiAqIE1ham9yIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbnM6XG4gKiAqIGEpIGRlbm9ybWFsaXplZCBvcGVyYXRpb25zIGxpa2UgbXVsTiBpbnN0ZWFkIG9mIG11bFxuICogKiBiKSBzYW1lIG9iamVjdCBzaGFwZTogbmV2ZXIgYWRkIG9yIHJlbW92ZSBrZXlzXG4gKiAqIGMpIE9iamVjdC5mcmVlemVcbiAqIEZyYWdpbGU6IGFsd2F5cyBydW4gYSBiZW5jaG1hcmsgb24gYSBjaGFuZ2UuXG4gKiBTZWN1cml0eSBub3RlOiBvcGVyYXRpb25zIGRvbid0IGNoZWNrICdpc1ZhbGlkJyBmb3IgYWxsIGVsZW1lbnRzIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLFxuICogaXQgaXMgY2FsbGVyIHJlc3BvbnNpYmlsaXR5IHRvIGNoZWNrIHRoaXMuXG4gKiBUaGlzIGlzIGxvdy1sZXZlbCBjb2RlLCBwbGVhc2UgbWFrZSBzdXJlIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICogQHBhcmFtIE9SREVSIHByaW1lIHBvc2l0aXZlIGJpZ2ludFxuICogQHBhcmFtIGJpdExlbiBob3cgbWFueSBiaXRzIHRoZSBmaWVsZCBjb25zdW1lc1xuICogQHBhcmFtIGlzTEUgKGRlZjogZmFsc2UpIGlmIGVuY29kaW5nIC8gZGVjb2Rpbmcgc2hvdWxkIGJlIGluIGxpdHRsZS1lbmRpYW5cbiAqIEBwYXJhbSByZWRlZiBvcHRpb25hbCBmYXN0ZXIgcmVkZWZpbml0aW9ucyBvZiBzcXJ0IGFuZCBvdGhlciBtZXRob2RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGaWVsZChPUkRFUiwgYml0TGVuLCBpc0xFID0gZmFsc2UsIHJlZGVmID0ge30pIHtcbiAgICBpZiAoT1JERVIgPD0gXzBuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZmllbGQ6IGV4cGVjdGVkIE9SREVSID4gMCwgZ290ICcgKyBPUkRFUik7XG4gICAgY29uc3QgeyBuQml0TGVuZ3RoOiBCSVRTLCBuQnl0ZUxlbmd0aDogQllURVMgfSA9IG5MZW5ndGgoT1JERVIsIGJpdExlbik7XG4gICAgaWYgKEJZVEVTID4gMjA0OClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZpZWxkOiBleHBlY3RlZCBPUkRFUiBvZiA8PSAyMDQ4IGJ5dGVzJyk7XG4gICAgbGV0IHNxcnRQOyAvLyBjYWNoZWQgc3FydFBcbiAgICBjb25zdCBmID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIE9SREVSLFxuICAgICAgICBpc0xFLFxuICAgICAgICBCSVRTLFxuICAgICAgICBCWVRFUyxcbiAgICAgICAgTUFTSzogYml0TWFzayhCSVRTKSxcbiAgICAgICAgWkVSTzogXzBuLFxuICAgICAgICBPTkU6IF8xbixcbiAgICAgICAgY3JlYXRlOiAobnVtKSA9PiBtb2QobnVtLCBPUkRFUiksXG4gICAgICAgIGlzVmFsaWQ6IChudW0pID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbnVtICE9PSAnYmlnaW50JylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZmllbGQgZWxlbWVudDogZXhwZWN0ZWQgYmlnaW50LCBnb3QgJyArIHR5cGVvZiBudW0pO1xuICAgICAgICAgICAgcmV0dXJuIF8wbiA8PSBudW0gJiYgbnVtIDwgT1JERVI7IC8vIDAgaXMgdmFsaWQgZWxlbWVudCwgYnV0IGl0J3Mgbm90IGludmVydGlibGVcbiAgICAgICAgfSxcbiAgICAgICAgaXMwOiAobnVtKSA9PiBudW0gPT09IF8wbixcbiAgICAgICAgaXNPZGQ6IChudW0pID0+IChudW0gJiBfMW4pID09PSBfMW4sXG4gICAgICAgIG5lZzogKG51bSkgPT4gbW9kKC1udW0sIE9SREVSKSxcbiAgICAgICAgZXFsOiAobGhzLCByaHMpID0+IGxocyA9PT0gcmhzLFxuICAgICAgICBzcXI6IChudW0pID0+IG1vZChudW0gKiBudW0sIE9SREVSKSxcbiAgICAgICAgYWRkOiAobGhzLCByaHMpID0+IG1vZChsaHMgKyByaHMsIE9SREVSKSxcbiAgICAgICAgc3ViOiAobGhzLCByaHMpID0+IG1vZChsaHMgLSByaHMsIE9SREVSKSxcbiAgICAgICAgbXVsOiAobGhzLCByaHMpID0+IG1vZChsaHMgKiByaHMsIE9SREVSKSxcbiAgICAgICAgcG93OiAobnVtLCBwb3dlcikgPT4gRnBQb3coZiwgbnVtLCBwb3dlciksXG4gICAgICAgIGRpdjogKGxocywgcmhzKSA9PiBtb2QobGhzICogaW52ZXJ0KHJocywgT1JERVIpLCBPUkRFUiksXG4gICAgICAgIC8vIFNhbWUgYXMgYWJvdmUsIGJ1dCBkb2Vzbid0IG5vcm1hbGl6ZVxuICAgICAgICBzcXJOOiAobnVtKSA9PiBudW0gKiBudW0sXG4gICAgICAgIGFkZE46IChsaHMsIHJocykgPT4gbGhzICsgcmhzLFxuICAgICAgICBzdWJOOiAobGhzLCByaHMpID0+IGxocyAtIHJocyxcbiAgICAgICAgbXVsTjogKGxocywgcmhzKSA9PiBsaHMgKiByaHMsXG4gICAgICAgIGludjogKG51bSkgPT4gaW52ZXJ0KG51bSwgT1JERVIpLFxuICAgICAgICBzcXJ0OiByZWRlZi5zcXJ0IHx8XG4gICAgICAgICAgICAoKG4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXNxcnRQKVxuICAgICAgICAgICAgICAgICAgICBzcXJ0UCA9IEZwU3FydChPUkRFUik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNxcnRQKGYsIG4pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgIGludmVydEJhdGNoOiAobHN0KSA9PiBGcEludmVydEJhdGNoKGYsIGxzdCksXG4gICAgICAgIC8vIFRPRE86IGRvIHdlIHJlYWxseSBuZWVkIGNvbnN0YW50IGNtb3Y/XG4gICAgICAgIC8vIFdlIGRvbid0IGhhdmUgY29uc3QtdGltZSBiaWdpbnRzIGFueXdheSwgc28gcHJvYmFibHkgd2lsbCBiZSBub3QgdmVyeSB1c2VmdWxcbiAgICAgICAgY21vdjogKGEsIGIsIGMpID0+IChjID8gYiA6IGEpLFxuICAgICAgICB0b0J5dGVzOiAobnVtKSA9PiAoaXNMRSA/IG51bWJlclRvQnl0ZXNMRShudW0sIEJZVEVTKSA6IG51bWJlclRvQnl0ZXNCRShudW0sIEJZVEVTKSksXG4gICAgICAgIGZyb21CeXRlczogKGJ5dGVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoYnl0ZXMubGVuZ3RoICE9PSBCWVRFUylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpZWxkLmZyb21CeXRlczogZXhwZWN0ZWQgJyArIEJZVEVTICsgJyBieXRlcywgZ290ICcgKyBieXRlcy5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIGlzTEUgPyBieXRlc1RvTnVtYmVyTEUoYnl0ZXMpIDogYnl0ZXNUb051bWJlckJFKGJ5dGVzKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBGcFNxcnRPZGQoRnAsIGVsbSkge1xuICAgIGlmICghRnAuaXNPZGQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpZWxkIGRvZXNuJ3QgaGF2ZSBpc09kZFwiKTtcbiAgICBjb25zdCByb290ID0gRnAuc3FydChlbG0pO1xuICAgIHJldHVybiBGcC5pc09kZChyb290KSA/IHJvb3QgOiBGcC5uZWcocm9vdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gRnBTcXJ0RXZlbihGcCwgZWxtKSB7XG4gICAgaWYgKCFGcC5pc09kZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmllbGQgZG9lc24ndCBoYXZlIGlzT2RkXCIpO1xuICAgIGNvbnN0IHJvb3QgPSBGcC5zcXJ0KGVsbSk7XG4gICAgcmV0dXJuIEZwLmlzT2RkKHJvb3QpID8gRnAubmVnKHJvb3QpIDogcm9vdDtcbn1cbi8qKlxuICogXCJDb25zdGFudC10aW1lXCIgcHJpdmF0ZSBrZXkgZ2VuZXJhdGlvbiB1dGlsaXR5LlxuICogU2FtZSBhcyBtYXBLZXlUb0ZpZWxkLCBidXQgYWNjZXB0cyBsZXNzIGJ5dGVzICg0MCBpbnN0ZWFkIG9mIDQ4IGZvciAzMi1ieXRlIGZpZWxkKS5cbiAqIFdoaWNoIG1ha2VzIGl0IHNsaWdodGx5IG1vcmUgYmlhc2VkLCBsZXNzIHNlY3VyZS5cbiAqIEBkZXByZWNhdGVkIHVzZSBgbWFwS2V5VG9GaWVsZGAgaW5zdGVhZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaFRvUHJpdmF0ZVNjYWxhcihoYXNoLCBncm91cE9yZGVyLCBpc0xFID0gZmFsc2UpIHtcbiAgICBoYXNoID0gZW5zdXJlQnl0ZXMoJ3ByaXZhdGVIYXNoJywgaGFzaCk7XG4gICAgY29uc3QgaGFzaExlbiA9IGhhc2gubGVuZ3RoO1xuICAgIGNvbnN0IG1pbkxlbiA9IG5MZW5ndGgoZ3JvdXBPcmRlcikubkJ5dGVMZW5ndGggKyA4O1xuICAgIGlmIChtaW5MZW4gPCAyNCB8fCBoYXNoTGVuIDwgbWluTGVuIHx8IGhhc2hMZW4gPiAxMDI0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhc2hUb1ByaXZhdGVTY2FsYXI6IGV4cGVjdGVkICcgKyBtaW5MZW4gKyAnLTEwMjQgYnl0ZXMgb2YgaW5wdXQsIGdvdCAnICsgaGFzaExlbik7XG4gICAgY29uc3QgbnVtID0gaXNMRSA/IGJ5dGVzVG9OdW1iZXJMRShoYXNoKSA6IGJ5dGVzVG9OdW1iZXJCRShoYXNoKTtcbiAgICByZXR1cm4gbW9kKG51bSwgZ3JvdXBPcmRlciAtIF8xbikgKyBfMW47XG59XG4vKipcbiAqIFJldHVybnMgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIGNvbnN1bWVkIGJ5IHRoZSBmaWVsZCBlbGVtZW50LlxuICogRm9yIGV4YW1wbGUsIDMyIGJ5dGVzIGZvciB1c3VhbCAyNTYtYml0IHdlaWVyc3RyYXNzIGN1cnZlLlxuICogQHBhcmFtIGZpZWxkT3JkZXIgbnVtYmVyIG9mIGZpZWxkIGVsZW1lbnRzLCB1c3VhbGx5IENVUlZFLm5cbiAqIEByZXR1cm5zIGJ5dGUgbGVuZ3RoIG9mIGZpZWxkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWVsZEJ5dGVzTGVuZ3RoKGZpZWxkT3JkZXIpIHtcbiAgICBpZiAodHlwZW9mIGZpZWxkT3JkZXIgIT09ICdiaWdpbnQnKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpZWxkIG9yZGVyIG11c3QgYmUgYmlnaW50Jyk7XG4gICAgY29uc3QgYml0TGVuZ3RoID0gZmllbGRPcmRlci50b1N0cmluZygyKS5sZW5ndGg7XG4gICAgcmV0dXJuIE1hdGguY2VpbChiaXRMZW5ndGggLyA4KTtcbn1cbi8qKlxuICogUmV0dXJucyBtaW5pbWFsIGFtb3VudCBvZiBieXRlcyB0aGF0IGNhbiBiZSBzYWZlbHkgcmVkdWNlZFxuICogYnkgZmllbGQgb3JkZXIuXG4gKiBTaG91bGQgYmUgMl4tMTI4IGZvciAxMjgtYml0IGN1cnZlIHN1Y2ggYXMgUDI1Ni5cbiAqIEBwYXJhbSBmaWVsZE9yZGVyIG51bWJlciBvZiBmaWVsZCBlbGVtZW50cywgdXN1YWxseSBDVVJWRS5uXG4gKiBAcmV0dXJucyBieXRlIGxlbmd0aCBvZiB0YXJnZXQgaGFzaFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWluSGFzaExlbmd0aChmaWVsZE9yZGVyKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gZ2V0RmllbGRCeXRlc0xlbmd0aChmaWVsZE9yZGVyKTtcbiAgICByZXR1cm4gbGVuZ3RoICsgTWF0aC5jZWlsKGxlbmd0aCAvIDIpO1xufVxuLyoqXG4gKiBcIkNvbnN0YW50LXRpbWVcIiBwcml2YXRlIGtleSBnZW5lcmF0aW9uIHV0aWxpdHkuXG4gKiBDYW4gdGFrZSAobiArIG4vMikgb3IgbW9yZSBieXRlcyBvZiB1bmlmb3JtIGlucHV0IGUuZy4gZnJvbSBDU1BSTkcgb3IgS0RGXG4gKiBhbmQgY29udmVydCB0aGVtIGludG8gcHJpdmF0ZSBzY2FsYXIsIHdpdGggdGhlIG1vZHVsbyBiaWFzIGJlaW5nIG5lZ2xpZ2libGUuXG4gKiBOZWVkcyBhdCBsZWFzdCA0OCBieXRlcyBvZiBpbnB1dCBmb3IgMzItYnl0ZSBwcml2YXRlIGtleS5cbiAqIGh0dHBzOi8vcmVzZWFyY2gua3VkZWxza2lzZWN1cml0eS5jb20vMjAyMC8wNy8yOC90aGUtZGVmaW5pdGl2ZS1ndWlkZS10by1tb2R1bG8tYmlhcy1hbmQtaG93LXRvLWF2b2lkLWl0L1xuICogRklQUyAxODYtNSwgQS4yIGh0dHBzOi8vY3NyYy5uaXN0Lmdvdi9wdWJsaWNhdGlvbnMvZGV0YWlsL2ZpcHMvMTg2LzUvZmluYWxcbiAqIFJGQyA5MzgwLCBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTVcbiAqIEBwYXJhbSBoYXNoIGhhc2ggb3V0cHV0IGZyb20gU0hBMyBvciBhIHNpbWlsYXIgZnVuY3Rpb25cbiAqIEBwYXJhbSBncm91cE9yZGVyIHNpemUgb2Ygc3ViZ3JvdXAgLSAoZS5nLiBzZWNwMjU2azEuQ1VSVkUubilcbiAqIEBwYXJhbSBpc0xFIGludGVycHJldCBoYXNoIGJ5dGVzIGFzIExFIG51bVxuICogQHJldHVybnMgdmFsaWQgcHJpdmF0ZSBzY2FsYXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcEhhc2hUb0ZpZWxkKGtleSwgZmllbGRPcmRlciwgaXNMRSA9IGZhbHNlKSB7XG4gICAgY29uc3QgbGVuID0ga2V5Lmxlbmd0aDtcbiAgICBjb25zdCBmaWVsZExlbiA9IGdldEZpZWxkQnl0ZXNMZW5ndGgoZmllbGRPcmRlcik7XG4gICAgY29uc3QgbWluTGVuID0gZ2V0TWluSGFzaExlbmd0aChmaWVsZE9yZGVyKTtcbiAgICAvLyBObyBzbWFsbCBudW1iZXJzOiBuZWVkIHRvIHVuZGVyc3RhbmQgYmlhcyBzdG9yeS4gTm8gaHVnZSBudW1iZXJzOiBlYXNpZXIgdG8gZGV0ZWN0IEpTIHRpbWluZ3MuXG4gICAgaWYgKGxlbiA8IDE2IHx8IGxlbiA8IG1pbkxlbiB8fCBsZW4gPiAxMDI0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGVkICcgKyBtaW5MZW4gKyAnLTEwMjQgYnl0ZXMgb2YgaW5wdXQsIGdvdCAnICsgbGVuKTtcbiAgICBjb25zdCBudW0gPSBpc0xFID8gYnl0ZXNUb051bWJlckxFKGtleSkgOiBieXRlc1RvTnVtYmVyQkUoa2V5KTtcbiAgICAvLyBgbW9kKHgsIDExKWAgY2FuIHNvbWV0aW1lcyBwcm9kdWNlIDAuIGBtb2QoeCwgMTApICsgMWAgaXMgdGhlIHNhbWUsIGJ1dCBubyAwXG4gICAgY29uc3QgcmVkdWNlZCA9IG1vZChudW0sIGZpZWxkT3JkZXIgLSBfMW4pICsgXzFuO1xuICAgIHJldHVybiBpc0xFID8gbnVtYmVyVG9CeXRlc0xFKHJlZHVjZWQsIGZpZWxkTGVuKSA6IG51bWJlclRvQnl0ZXNCRShyZWR1Y2VkLCBmaWVsZExlbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2R1bGFyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/modular.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/utils.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/utils.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   aInRange: () => (/* binding */ aInRange),\n/* harmony export */   abool: () => (/* binding */ abool),\n/* harmony export */   abytes: () => (/* binding */ abytes),\n/* harmony export */   bitGet: () => (/* binding */ bitGet),\n/* harmony export */   bitLen: () => (/* binding */ bitLen),\n/* harmony export */   bitMask: () => (/* binding */ bitMask),\n/* harmony export */   bitSet: () => (/* binding */ bitSet),\n/* harmony export */   bytesToHex: () => (/* binding */ bytesToHex),\n/* harmony export */   bytesToNumberBE: () => (/* binding */ bytesToNumberBE),\n/* harmony export */   bytesToNumberLE: () => (/* binding */ bytesToNumberLE),\n/* harmony export */   concatBytes: () => (/* binding */ concatBytes),\n/* harmony export */   createHmacDrbg: () => (/* binding */ createHmacDrbg),\n/* harmony export */   ensureBytes: () => (/* binding */ ensureBytes),\n/* harmony export */   equalBytes: () => (/* binding */ equalBytes),\n/* harmony export */   hexToBytes: () => (/* binding */ hexToBytes),\n/* harmony export */   hexToNumber: () => (/* binding */ hexToNumber),\n/* harmony export */   inRange: () => (/* binding */ inRange),\n/* harmony export */   isBytes: () => (/* binding */ isBytes),\n/* harmony export */   memoized: () => (/* binding */ memoized),\n/* harmony export */   notImplemented: () => (/* binding */ notImplemented),\n/* harmony export */   numberToBytesBE: () => (/* binding */ numberToBytesBE),\n/* harmony export */   numberToBytesLE: () => (/* binding */ numberToBytesLE),\n/* harmony export */   numberToHexUnpadded: () => (/* binding */ numberToHexUnpadded),\n/* harmony export */   numberToVarBytesBE: () => (/* binding */ numberToVarBytesBE),\n/* harmony export */   utf8ToBytes: () => (/* binding */ utf8ToBytes),\n/* harmony export */   validateObject: () => (/* binding */ validateObject)\n/* harmony export */ });\n/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// 100 lines of code in the file are duplicated from noble-hashes (utils).\n// This is OK: `abstract` directory does not use noble-hashes.\n// User may opt-in into using different hashing library. This way, noble-hashes\n// won't be included into their bundle.\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nconst _2n = /* @__PURE__ */ BigInt(2);\nfunction isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\nfunction abytes(item) {\n    if (!isBytes(item))\n        throw new Error('Uint8Array expected');\n}\nfunction abool(title, value) {\n    if (typeof value !== 'boolean')\n        throw new Error(title + ' boolean expected, got ' + value);\n}\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nfunction bytesToHex(bytes) {\n    abytes(bytes);\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\nfunction numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? '0' + hex : hex;\n}\nfunction hexToNumber(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };\nfunction asciiToBase16(ch) {\n    if (ch >= asciis._0 && ch <= asciis._9)\n        return ch - asciis._0; // '2' => 50-48\n    if (ch >= asciis.A && ch <= asciis.F)\n        return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n    if (ch >= asciis.a && ch <= asciis.f)\n        return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n    return;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n    }\n    return array;\n}\n// BE: Big Endian, LE: Little Endian\nfunction bytesToNumberBE(bytes) {\n    return hexToNumber(bytesToHex(bytes));\n}\nfunction bytesToNumberLE(bytes) {\n    abytes(bytes);\n    return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));\n}\nfunction numberToBytesBE(n, len) {\n    return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\nfunction numberToBytesLE(n, len) {\n    return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nfunction numberToVarBytesBE(n) {\n    return hexToBytes(numberToHexUnpadded(n));\n}\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nfunction ensureBytes(title, hex, expectedLength) {\n    let res;\n    if (typeof hex === 'string') {\n        try {\n            res = hexToBytes(hex);\n        }\n        catch (e) {\n            throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);\n        }\n    }\n    else if (isBytes(hex)) {\n        // Uint8Array.from() instead of hash.slice() because node.js Buffer\n        // is instance of Uint8Array, and its slice() creates **mutable** copy\n        res = Uint8Array.from(hex);\n    }\n    else {\n        throw new Error(title + ' must be hex string or Uint8Array');\n    }\n    const len = res.length;\n    if (typeof expectedLength === 'number' && len !== expectedLength)\n        throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);\n    return res;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nfunction concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n// Compares 2 u8a-s in kinda constant time\nfunction equalBytes(a, b) {\n    if (a.length !== b.length)\n        return false;\n    let diff = 0;\n    for (let i = 0; i < a.length; i++)\n        diff |= a[i] ^ b[i];\n    return diff === 0;\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nfunction utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error('string expected');\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n// Is positive bigint\nconst isPosBig = (n) => typeof n === 'bigint' && _0n <= n;\nfunction inRange(n, min, max) {\n    return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nfunction aInRange(title, n, min, max) {\n    // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n    // consider P=256n, min=0n, max=P\n    // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n    // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n    // - our way is the cleanest:               `inRange('x', x, 0n, P)\n    if (!inRange(n, min, max))\n        throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n */\nfunction bitLen(n) {\n    let len;\n    for (len = 0; n > _0n; n >>= _1n, len += 1)\n        ;\n    return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nfunction bitGet(n, pos) {\n    return (n >> BigInt(pos)) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nfunction bitSet(n, pos, value) {\n    return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nconst bitMask = (n) => (_2n << BigInt(n - 1)) - _1n;\n// DRBG\nconst u8n = (data) => new Uint8Array(data); // creates Uint8Array\nconst u8fr = (arr) => Uint8Array.from(arr); // another shortcut\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nfunction createHmacDrbg(hashLen, qByteLen, hmacFn) {\n    if (typeof hashLen !== 'number' || hashLen < 2)\n        throw new Error('hashLen must be a number');\n    if (typeof qByteLen !== 'number' || qByteLen < 2)\n        throw new Error('qByteLen must be a number');\n    if (typeof hmacFn !== 'function')\n        throw new Error('hmacFn must be a function');\n    // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n    let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n    let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n    let i = 0; // Iterations counter, will throw when over 1000\n    const reset = () => {\n        v.fill(1);\n        k.fill(0);\n        i = 0;\n    };\n    const h = (...b) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n    const reseed = (seed = u8n()) => {\n        // HMAC-DRBG reseed() function. Steps D-G\n        k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)\n        v = h(); // v = hmac(k || v)\n        if (seed.length === 0)\n            return;\n        k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)\n        v = h(); // v = hmac(k || v)\n    };\n    const gen = () => {\n        // HMAC-DRBG generate() function\n        if (i++ >= 1000)\n            throw new Error('drbg: tried 1000 values');\n        let len = 0;\n        const out = [];\n        while (len < qByteLen) {\n            v = h();\n            const sl = v.slice();\n            out.push(sl);\n            len += v.length;\n        }\n        return concatBytes(...out);\n    };\n    const genUntil = (seed, pred) => {\n        reset();\n        reseed(seed); // Steps D-G\n        let res = undefined; // Step H: grind until k is in [1..n-1]\n        while (!(res = pred(gen())))\n            reseed();\n        reset();\n        return res;\n    };\n    return genUntil;\n}\n// Validating curves and fields\nconst validatorFns = {\n    bigint: (val) => typeof val === 'bigint',\n    function: (val) => typeof val === 'function',\n    boolean: (val) => typeof val === 'boolean',\n    string: (val) => typeof val === 'string',\n    stringOrUint8Array: (val) => typeof val === 'string' || isBytes(val),\n    isSafeInteger: (val) => Number.isSafeInteger(val),\n    array: (val) => Array.isArray(val),\n    field: (val, object) => object.Fp.isValid(val),\n    hash: (val) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n};\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\nfunction validateObject(object, validators, optValidators = {}) {\n    const checkField = (fieldName, type, isOptional) => {\n        const checkVal = validatorFns[type];\n        if (typeof checkVal !== 'function')\n            throw new Error('invalid validator function');\n        const val = object[fieldName];\n        if (isOptional && val === undefined)\n            return;\n        if (!checkVal(val, object)) {\n            throw new Error('param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val);\n        }\n    };\n    for (const [fieldName, type] of Object.entries(validators))\n        checkField(fieldName, type, false);\n    for (const [fieldName, type] of Object.entries(optValidators))\n        checkField(fieldName, type, true);\n    return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n/**\n * throws not implemented error\n */\nconst notImplemented = () => {\n    throw new Error('not implemented');\n};\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nfunction memoized(fn) {\n    const map = new WeakMap();\n    return (arg, ...args) => {\n        const val = map.get(arg);\n        if (val !== undefined)\n            return val;\n        const computed = fn(arg, ...args);\n        map.set(arg, computed);\n        return computed;\n    };\n}\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxhQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLHFDQUFxQztBQUNyQztBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixTQUFTO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDRCQUE0QjtBQUNuRDtBQUNPO0FBQ1A7QUFDQSw0Q0FBNEM7QUFDNUMsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLDBCQUEwQjtBQUMxQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUNuRCw4REFBOEQ7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxXQUFXLFdBQVcsWUFBWSxJQUFJO0FBQ3BELGtDQUFrQyxvQkFBb0IsSUFBSSxhQUFhLEdBQUc7QUFDMUU7QUFDQSxrQ0FBa0MsVUFBVSxJQUFJLFNBQVM7QUFDekQsa0NBQWtDLG9CQUFvQixJQUFJLFNBQVM7QUFDbkUsa0NBQWtDLDJCQUEyQjtBQUM3RCxrQ0FBa0Msd0JBQXdCO0FBQzFEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvQG5vYmxlL2N1cnZlcy9lc20vYWJzdHJhY3QvdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBIZXgsIGJ5dGVzIGFuZCBudW1iZXIgdXRpbGl0aWVzLlxuICogQG1vZHVsZVxuICovXG4vKiEgbm9ibGUtY3VydmVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovXG4vLyAxMDAgbGluZXMgb2YgY29kZSBpbiB0aGUgZmlsZSBhcmUgZHVwbGljYXRlZCBmcm9tIG5vYmxlLWhhc2hlcyAodXRpbHMpLlxuLy8gVGhpcyBpcyBPSzogYGFic3RyYWN0YCBkaXJlY3RvcnkgZG9lcyBub3QgdXNlIG5vYmxlLWhhc2hlcy5cbi8vIFVzZXIgbWF5IG9wdC1pbiBpbnRvIHVzaW5nIGRpZmZlcmVudCBoYXNoaW5nIGxpYnJhcnkuIFRoaXMgd2F5LCBub2JsZS1oYXNoZXNcbi8vIHdvbid0IGJlIGluY2x1ZGVkIGludG8gdGhlaXIgYnVuZGxlLlxuY29uc3QgXzBuID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCgwKTtcbmNvbnN0IF8xbiA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoMSk7XG5jb25zdCBfMm4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDIpO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQnl0ZXMoYSkge1xuICAgIHJldHVybiBhIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCAoQXJyYXlCdWZmZXIuaXNWaWV3KGEpICYmIGEuY29uc3RydWN0b3IubmFtZSA9PT0gJ1VpbnQ4QXJyYXknKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhYnl0ZXMoaXRlbSkge1xuICAgIGlmICghaXNCeXRlcyhpdGVtKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVaW50OEFycmF5IGV4cGVjdGVkJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWJvb2wodGl0bGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGl0bGUgKyAnIGJvb2xlYW4gZXhwZWN0ZWQsIGdvdCAnICsgdmFsdWUpO1xufVxuLy8gQXJyYXkgd2hlcmUgaW5kZXggMHhmMCAoMjQwKSBpcyBtYXBwZWQgdG8gc3RyaW5nICdmMCdcbmNvbnN0IGhleGVzID0gLyogQF9fUFVSRV9fICovIEFycmF5LmZyb20oeyBsZW5ndGg6IDI1NiB9LCAoXywgaSkgPT4gaS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSk7XG4vKipcbiAqIEBleGFtcGxlIGJ5dGVzVG9IZXgoVWludDhBcnJheS5mcm9tKFsweGNhLCAweGZlLCAweDAxLCAweDIzXSkpIC8vICdjYWZlMDEyMydcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9IZXgoYnl0ZXMpIHtcbiAgICBhYnl0ZXMoYnl0ZXMpO1xuICAgIC8vIHByZS1jYWNoaW5nIGltcHJvdmVzIHRoZSBzcGVlZCA2eFxuICAgIGxldCBoZXggPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGhleCArPSBoZXhlc1tieXRlc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyVG9IZXhVbnBhZGRlZChudW0pIHtcbiAgICBjb25zdCBoZXggPSBudW0udG9TdHJpbmcoMTYpO1xuICAgIHJldHVybiBoZXgubGVuZ3RoICYgMSA/ICcwJyArIGhleCA6IGhleDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb051bWJlcihoZXgpIHtcbiAgICBpZiAodHlwZW9mIGhleCAhPT0gJ3N0cmluZycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290ICcgKyB0eXBlb2YgaGV4KTtcbiAgICByZXR1cm4gaGV4ID09PSAnJyA/IF8wbiA6IEJpZ0ludCgnMHgnICsgaGV4KTsgLy8gQmlnIEVuZGlhblxufVxuLy8gV2UgdXNlIG9wdGltaXplZCB0ZWNobmlxdWUgdG8gY29udmVydCBoZXggc3RyaW5nIHRvIGJ5dGUgYXJyYXlcbmNvbnN0IGFzY2lpcyA9IHsgXzA6IDQ4LCBfOTogNTcsIEE6IDY1LCBGOiA3MCwgYTogOTcsIGY6IDEwMiB9O1xuZnVuY3Rpb24gYXNjaWlUb0Jhc2UxNihjaCkge1xuICAgIGlmIChjaCA+PSBhc2NpaXMuXzAgJiYgY2ggPD0gYXNjaWlzLl85KVxuICAgICAgICByZXR1cm4gY2ggLSBhc2NpaXMuXzA7IC8vICcyJyA9PiA1MC00OFxuICAgIGlmIChjaCA+PSBhc2NpaXMuQSAmJiBjaCA8PSBhc2NpaXMuRilcbiAgICAgICAgcmV0dXJuIGNoIC0gKGFzY2lpcy5BIC0gMTApOyAvLyAnQicgPT4gNjYtKDY1LTEwKVxuICAgIGlmIChjaCA+PSBhc2NpaXMuYSAmJiBjaCA8PSBhc2NpaXMuZilcbiAgICAgICAgcmV0dXJuIGNoIC0gKGFzY2lpcy5hIC0gMTApOyAvLyAnYicgPT4gOTgtKDk3LTEwKVxuICAgIHJldHVybjtcbn1cbi8qKlxuICogQGV4YW1wbGUgaGV4VG9CeXRlcygnY2FmZTAxMjMnKSAvLyBVaW50OEFycmF5LmZyb20oWzB4Y2EsIDB4ZmUsIDB4MDEsIDB4MjNdKVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9CeXRlcyhoZXgpIHtcbiAgICBpZiAodHlwZW9mIGhleCAhPT0gJ3N0cmluZycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290ICcgKyB0eXBlb2YgaGV4KTtcbiAgICBjb25zdCBobCA9IGhleC5sZW5ndGg7XG4gICAgY29uc3QgYWwgPSBobCAvIDI7XG4gICAgaWYgKGhsICUgMilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgdW5wYWRkZWQgaGV4IG9mIGxlbmd0aCAnICsgaGwpO1xuICAgIGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYWwpO1xuICAgIGZvciAobGV0IGFpID0gMCwgaGkgPSAwOyBhaSA8IGFsOyBhaSsrLCBoaSArPSAyKSB7XG4gICAgICAgIGNvbnN0IG4xID0gYXNjaWlUb0Jhc2UxNihoZXguY2hhckNvZGVBdChoaSkpO1xuICAgICAgICBjb25zdCBuMiA9IGFzY2lpVG9CYXNlMTYoaGV4LmNoYXJDb2RlQXQoaGkgKyAxKSk7XG4gICAgICAgIGlmIChuMSA9PT0gdW5kZWZpbmVkIHx8IG4yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBoZXhbaGldICsgaGV4W2hpICsgMV07XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBub24taGV4IGNoYXJhY3RlciBcIicgKyBjaGFyICsgJ1wiIGF0IGluZGV4ICcgKyBoaSk7XG4gICAgICAgIH1cbiAgICAgICAgYXJyYXlbYWldID0gbjEgKiAxNiArIG4yOyAvLyBtdWx0aXBseSBmaXJzdCBvY3RldCwgZS5nLiAnYTMnID0+IDEwKjE2KzMgPT4gMTYwICsgMyA9PiAxNjNcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8gQkU6IEJpZyBFbmRpYW4sIExFOiBMaXR0bGUgRW5kaWFuXG5leHBvcnQgZnVuY3Rpb24gYnl0ZXNUb051bWJlckJFKGJ5dGVzKSB7XG4gICAgcmV0dXJuIGhleFRvTnVtYmVyKGJ5dGVzVG9IZXgoYnl0ZXMpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvTnVtYmVyTEUoYnl0ZXMpIHtcbiAgICBhYnl0ZXMoYnl0ZXMpO1xuICAgIHJldHVybiBoZXhUb051bWJlcihieXRlc1RvSGV4KFVpbnQ4QXJyYXkuZnJvbShieXRlcykucmV2ZXJzZSgpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyVG9CeXRlc0JFKG4sIGxlbikge1xuICAgIHJldHVybiBoZXhUb0J5dGVzKG4udG9TdHJpbmcoMTYpLnBhZFN0YXJ0KGxlbiAqIDIsICcwJykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvQnl0ZXNMRShuLCBsZW4pIHtcbiAgICByZXR1cm4gbnVtYmVyVG9CeXRlc0JFKG4sIGxlbikucmV2ZXJzZSgpO1xufVxuLy8gVW5wYWRkZWQsIHJhcmVseSB1c2VkXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyVG9WYXJCeXRlc0JFKG4pIHtcbiAgICByZXR1cm4gaGV4VG9CeXRlcyhudW1iZXJUb0hleFVucGFkZGVkKG4pKTtcbn1cbi8qKlxuICogVGFrZXMgaGV4IHN0cmluZyBvciBVaW50OEFycmF5LCBjb252ZXJ0cyB0byBVaW50OEFycmF5LlxuICogVmFsaWRhdGVzIG91dHB1dCBsZW5ndGguXG4gKiBXaWxsIHRocm93IGVycm9yIGZvciBvdGhlciB0eXBlcy5cbiAqIEBwYXJhbSB0aXRsZSBkZXNjcmlwdGl2ZSB0aXRsZSBmb3IgYW4gZXJyb3IgZS5nLiAncHJpdmF0ZSBrZXknXG4gKiBAcGFyYW0gaGV4IGhleCBzdHJpbmcgb3IgVWludDhBcnJheVxuICogQHBhcmFtIGV4cGVjdGVkTGVuZ3RoIG9wdGlvbmFsLCB3aWxsIGNvbXBhcmUgdG8gcmVzdWx0IGFycmF5J3MgbGVuZ3RoXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlQnl0ZXModGl0bGUsIGhleCwgZXhwZWN0ZWRMZW5ndGgpIHtcbiAgICBsZXQgcmVzO1xuICAgIGlmICh0eXBlb2YgaGV4ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzID0gaGV4VG9CeXRlcyhoZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGl0bGUgKyAnIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5LCBjYXVzZTogJyArIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQnl0ZXMoaGV4KSkge1xuICAgICAgICAvLyBVaW50OEFycmF5LmZyb20oKSBpbnN0ZWFkIG9mIGhhc2guc2xpY2UoKSBiZWNhdXNlIG5vZGUuanMgQnVmZmVyXG4gICAgICAgIC8vIGlzIGluc3RhbmNlIG9mIFVpbnQ4QXJyYXksIGFuZCBpdHMgc2xpY2UoKSBjcmVhdGVzICoqbXV0YWJsZSoqIGNvcHlcbiAgICAgICAgcmVzID0gVWludDhBcnJheS5mcm9tKGhleCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGl0bGUgKyAnIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5Jyk7XG4gICAgfVxuICAgIGNvbnN0IGxlbiA9IHJlcy5sZW5ndGg7XG4gICAgaWYgKHR5cGVvZiBleHBlY3RlZExlbmd0aCA9PT0gJ251bWJlcicgJiYgbGVuICE9PSBleHBlY3RlZExlbmd0aClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRpdGxlICsgJyBvZiBsZW5ndGggJyArIGV4cGVjdGVkTGVuZ3RoICsgJyBleHBlY3RlZCwgZ290ICcgKyBsZW4pO1xuICAgIHJldHVybiByZXM7XG59XG4vKipcbiAqIENvcGllcyBzZXZlcmFsIFVpbnQ4QXJyYXlzIGludG8gb25lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0Qnl0ZXMoLi4uYXJyYXlzKSB7XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYSA9IGFycmF5c1tpXTtcbiAgICAgICAgYWJ5dGVzKGEpO1xuICAgICAgICBzdW0gKz0gYS5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IG5ldyBVaW50OEFycmF5KHN1bSk7XG4gICAgZm9yIChsZXQgaSA9IDAsIHBhZCA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYSA9IGFycmF5c1tpXTtcbiAgICAgICAgcmVzLnNldChhLCBwYWQpO1xuICAgICAgICBwYWQgKz0gYS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vLyBDb21wYXJlcyAyIHU4YS1zIGluIGtpbmRhIGNvbnN0YW50IHRpbWVcbmV4cG9ydCBmdW5jdGlvbiBlcXVhbEJ5dGVzKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGRpZmYgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKylcbiAgICAgICAgZGlmZiB8PSBhW2ldIF4gYltpXTtcbiAgICByZXR1cm4gZGlmZiA9PT0gMDtcbn1cbi8qKlxuICogQGV4YW1wbGUgdXRmOFRvQnl0ZXMoJ2FiYycpIC8vIG5ldyBVaW50OEFycmF5KFs5NywgOTgsIDk5XSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV0ZjhUb0J5dGVzKHN0cikge1xuICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHJpbmcgZXhwZWN0ZWQnKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHN0cikpOyAvLyBodHRwczovL2J1Z3ppbC5sYS8xNjgxODA5XG59XG4vLyBJcyBwb3NpdGl2ZSBiaWdpbnRcbmNvbnN0IGlzUG9zQmlnID0gKG4pID0+IHR5cGVvZiBuID09PSAnYmlnaW50JyAmJiBfMG4gPD0gbjtcbmV4cG9ydCBmdW5jdGlvbiBpblJhbmdlKG4sIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIGlzUG9zQmlnKG4pICYmIGlzUG9zQmlnKG1pbikgJiYgaXNQb3NCaWcobWF4KSAmJiBtaW4gPD0gbiAmJiBuIDwgbWF4O1xufVxuLyoqXG4gKiBBc3NlcnRzIG1pbiA8PSBuIDwgbWF4LiBOT1RFOiBJdCdzIDwgbWF4IGFuZCBub3QgPD0gbWF4LlxuICogQGV4YW1wbGVcbiAqIGFJblJhbmdlKCd4JywgeCwgMW4sIDI1Nm4pOyAvLyB3b3VsZCBhc3N1bWUgeCBpcyBpbiAoMW4uLjI1NW4pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhSW5SYW5nZSh0aXRsZSwgbiwgbWluLCBtYXgpIHtcbiAgICAvLyBXaHkgbWluIDw9IG4gPCBtYXggYW5kIG5vdCBhIChtaW4gPCBuIDwgbWF4KSBPUiBiIChtaW4gPD0gbiA8PSBtYXgpP1xuICAgIC8vIGNvbnNpZGVyIFA9MjU2biwgbWluPTBuLCBtYXg9UFxuICAgIC8vIC0gYSBmb3IgbWluPTAgd291bGQgcmVxdWlyZSAtMTogICAgICAgICAgYGluUmFuZ2UoJ3gnLCB4LCAtMW4sIFApYFxuICAgIC8vIC0gYiB3b3VsZCBjb21tb25seSByZXF1aXJlIHN1YnRyYWN0aW9uOiAgYGluUmFuZ2UoJ3gnLCB4LCAwbiwgUCAtIDFuKWBcbiAgICAvLyAtIG91ciB3YXkgaXMgdGhlIGNsZWFuZXN0OiAgICAgICAgICAgICAgIGBpblJhbmdlKCd4JywgeCwgMG4sIFApXG4gICAgaWYgKCFpblJhbmdlKG4sIG1pbiwgbWF4KSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCB2YWxpZCAnICsgdGl0bGUgKyAnOiAnICsgbWluICsgJyA8PSBuIDwgJyArIG1heCArICcsIGdvdCAnICsgbik7XG59XG4vLyBCaXQgb3BlcmF0aW9uc1xuLyoqXG4gKiBDYWxjdWxhdGVzIGFtb3VudCBvZiBiaXRzIGluIGEgYmlnaW50LlxuICogU2FtZSBhcyBgbi50b1N0cmluZygyKS5sZW5ndGhgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaXRMZW4obikge1xuICAgIGxldCBsZW47XG4gICAgZm9yIChsZW4gPSAwOyBuID4gXzBuOyBuID4+PSBfMW4sIGxlbiArPSAxKVxuICAgICAgICA7XG4gICAgcmV0dXJuIGxlbjtcbn1cbi8qKlxuICogR2V0cyBzaW5nbGUgYml0IGF0IHBvc2l0aW9uLlxuICogTk9URTogZmlyc3QgYml0IHBvc2l0aW9uIGlzIDAgKHNhbWUgYXMgYXJyYXlzKVxuICogU2FtZSBhcyBgISErQXJyYXkuZnJvbShuLnRvU3RyaW5nKDIpKS5yZXZlcnNlKClbcG9zXWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpdEdldChuLCBwb3MpIHtcbiAgICByZXR1cm4gKG4gPj4gQmlnSW50KHBvcykpICYgXzFuO1xufVxuLyoqXG4gKiBTZXRzIHNpbmdsZSBiaXQgYXQgcG9zaXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaXRTZXQobiwgcG9zLCB2YWx1ZSkge1xuICAgIHJldHVybiBuIHwgKCh2YWx1ZSA/IF8xbiA6IF8wbikgPDwgQmlnSW50KHBvcykpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgbWFzayBmb3IgTiBiaXRzLiBOb3QgdXNpbmcgKiogb3BlcmF0b3Igd2l0aCBiaWdpbnRzIGJlY2F1c2Ugb2Ygb2xkIGVuZ2luZXMuXG4gKiBTYW1lIGFzIEJpZ0ludChgMGIke0FycmF5KGkpLmZpbGwoJzEnKS5qb2luKCcnKX1gKVxuICovXG5leHBvcnQgY29uc3QgYml0TWFzayA9IChuKSA9PiAoXzJuIDw8IEJpZ0ludChuIC0gMSkpIC0gXzFuO1xuLy8gRFJCR1xuY29uc3QgdThuID0gKGRhdGEpID0+IG5ldyBVaW50OEFycmF5KGRhdGEpOyAvLyBjcmVhdGVzIFVpbnQ4QXJyYXlcbmNvbnN0IHU4ZnIgPSAoYXJyKSA9PiBVaW50OEFycmF5LmZyb20oYXJyKTsgLy8gYW5vdGhlciBzaG9ydGN1dFxuLyoqXG4gKiBNaW5pbWFsIEhNQUMtRFJCRyBmcm9tIE5JU1QgODAwLTkwIGZvciBSRkM2OTc5IHNpZ3MuXG4gKiBAcmV0dXJucyBmdW5jdGlvbiB0aGF0IHdpbGwgY2FsbCBEUkJHIHVudGlsIDJuZCBhcmcgcmV0dXJucyBzb21ldGhpbmcgbWVhbmluZ2Z1bFxuICogQGV4YW1wbGVcbiAqICAgY29uc3QgZHJiZyA9IGNyZWF0ZUhtYWNEUkJHPEtleT4oMzIsIDMyLCBobWFjKTtcbiAqICAgZHJiZyhzZWVkLCBieXRlc1RvS2V5KTsgLy8gYnl0ZXNUb0tleSBtdXN0IHJldHVybiBLZXkgb3IgdW5kZWZpbmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIbWFjRHJiZyhoYXNoTGVuLCBxQnl0ZUxlbiwgaG1hY0ZuKSB7XG4gICAgaWYgKHR5cGVvZiBoYXNoTGVuICE9PSAnbnVtYmVyJyB8fCBoYXNoTGVuIDwgMilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoYXNoTGVuIG11c3QgYmUgYSBudW1iZXInKTtcbiAgICBpZiAodHlwZW9mIHFCeXRlTGVuICE9PSAnbnVtYmVyJyB8fCBxQnl0ZUxlbiA8IDIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncUJ5dGVMZW4gbXVzdCBiZSBhIG51bWJlcicpO1xuICAgIGlmICh0eXBlb2YgaG1hY0ZuICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2htYWNGbiBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAvLyBTdGVwIEIsIFN0ZXAgQzogc2V0IGhhc2hMZW4gdG8gOCpjZWlsKGhsZW4vOClcbiAgICBsZXQgdiA9IHU4bihoYXNoTGVuKTsgLy8gTWluaW1hbCBub24tZnVsbC1zcGVjIEhNQUMtRFJCRyBmcm9tIE5JU1QgODAwLTkwIGZvciBSRkM2OTc5IHNpZ3MuXG4gICAgbGV0IGsgPSB1OG4oaGFzaExlbik7IC8vIFN0ZXBzIEIgYW5kIEMgb2YgUkZDNjk3OSAzLjI6IHNldCBoYXNoTGVuLCBpbiBvdXIgY2FzZSBhbHdheXMgc2FtZVxuICAgIGxldCBpID0gMDsgLy8gSXRlcmF0aW9ucyBjb3VudGVyLCB3aWxsIHRocm93IHdoZW4gb3ZlciAxMDAwXG4gICAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgICAgIHYuZmlsbCgxKTtcbiAgICAgICAgay5maWxsKDApO1xuICAgICAgICBpID0gMDtcbiAgICB9O1xuICAgIGNvbnN0IGggPSAoLi4uYikgPT4gaG1hY0ZuKGssIHYsIC4uLmIpOyAvLyBobWFjKGspKHYsIC4uLnZhbHVlcylcbiAgICBjb25zdCByZXNlZWQgPSAoc2VlZCA9IHU4bigpKSA9PiB7XG4gICAgICAgIC8vIEhNQUMtRFJCRyByZXNlZWQoKSBmdW5jdGlvbi4gU3RlcHMgRC1HXG4gICAgICAgIGsgPSBoKHU4ZnIoWzB4MDBdKSwgc2VlZCk7IC8vIGsgPSBobWFjKGsgfHwgdiB8fCAweDAwIHx8IHNlZWQpXG4gICAgICAgIHYgPSBoKCk7IC8vIHYgPSBobWFjKGsgfHwgdilcbiAgICAgICAgaWYgKHNlZWQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBrID0gaCh1OGZyKFsweDAxXSksIHNlZWQpOyAvLyBrID0gaG1hYyhrIHx8IHYgfHwgMHgwMSB8fCBzZWVkKVxuICAgICAgICB2ID0gaCgpOyAvLyB2ID0gaG1hYyhrIHx8IHYpXG4gICAgfTtcbiAgICBjb25zdCBnZW4gPSAoKSA9PiB7XG4gICAgICAgIC8vIEhNQUMtRFJCRyBnZW5lcmF0ZSgpIGZ1bmN0aW9uXG4gICAgICAgIGlmIChpKysgPj0gMTAwMClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZHJiZzogdHJpZWQgMTAwMCB2YWx1ZXMnKTtcbiAgICAgICAgbGV0IGxlbiA9IDA7XG4gICAgICAgIGNvbnN0IG91dCA9IFtdO1xuICAgICAgICB3aGlsZSAobGVuIDwgcUJ5dGVMZW4pIHtcbiAgICAgICAgICAgIHYgPSBoKCk7XG4gICAgICAgICAgICBjb25zdCBzbCA9IHYuc2xpY2UoKTtcbiAgICAgICAgICAgIG91dC5wdXNoKHNsKTtcbiAgICAgICAgICAgIGxlbiArPSB2Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29uY2F0Qnl0ZXMoLi4ub3V0KTtcbiAgICB9O1xuICAgIGNvbnN0IGdlblVudGlsID0gKHNlZWQsIHByZWQpID0+IHtcbiAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgcmVzZWVkKHNlZWQpOyAvLyBTdGVwcyBELUdcbiAgICAgICAgbGV0IHJlcyA9IHVuZGVmaW5lZDsgLy8gU3RlcCBIOiBncmluZCB1bnRpbCBrIGlzIGluIFsxLi5uLTFdXG4gICAgICAgIHdoaWxlICghKHJlcyA9IHByZWQoZ2VuKCkpKSlcbiAgICAgICAgICAgIHJlc2VlZCgpO1xuICAgICAgICByZXNldCgpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgcmV0dXJuIGdlblVudGlsO1xufVxuLy8gVmFsaWRhdGluZyBjdXJ2ZXMgYW5kIGZpZWxkc1xuY29uc3QgdmFsaWRhdG9yRm5zID0ge1xuICAgIGJpZ2ludDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ2JpZ2ludCcsXG4gICAgZnVuY3Rpb246ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicsXG4gICAgYm9vbGVhbjogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nLFxuICAgIHN0cmluZzogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycsXG4gICAgc3RyaW5nT3JVaW50OEFycmF5OiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyB8fCBpc0J5dGVzKHZhbCksXG4gICAgaXNTYWZlSW50ZWdlcjogKHZhbCkgPT4gTnVtYmVyLmlzU2FmZUludGVnZXIodmFsKSxcbiAgICBhcnJheTogKHZhbCkgPT4gQXJyYXkuaXNBcnJheSh2YWwpLFxuICAgIGZpZWxkOiAodmFsLCBvYmplY3QpID0+IG9iamVjdC5GcC5pc1ZhbGlkKHZhbCksXG4gICAgaGFzaDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJyAmJiBOdW1iZXIuaXNTYWZlSW50ZWdlcih2YWwub3V0cHV0TGVuKSxcbn07XG4vLyB0eXBlIFJlY29yZDxLIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sLCBUPiA9IHsgW1AgaW4gS106IFQ7IH1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdChvYmplY3QsIHZhbGlkYXRvcnMsIG9wdFZhbGlkYXRvcnMgPSB7fSkge1xuICAgIGNvbnN0IGNoZWNrRmllbGQgPSAoZmllbGROYW1lLCB0eXBlLCBpc09wdGlvbmFsKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrVmFsID0gdmFsaWRhdG9yRm5zW3R5cGVdO1xuICAgICAgICBpZiAodHlwZW9mIGNoZWNrVmFsICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHZhbGlkYXRvciBmdW5jdGlvbicpO1xuICAgICAgICBjb25zdCB2YWwgPSBvYmplY3RbZmllbGROYW1lXTtcbiAgICAgICAgaWYgKGlzT3B0aW9uYWwgJiYgdmFsID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghY2hlY2tWYWwodmFsLCBvYmplY3QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcmFtICcgKyBTdHJpbmcoZmllbGROYW1lKSArICcgaXMgaW52YWxpZC4gRXhwZWN0ZWQgJyArIHR5cGUgKyAnLCBnb3QgJyArIHZhbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZvciAoY29uc3QgW2ZpZWxkTmFtZSwgdHlwZV0gb2YgT2JqZWN0LmVudHJpZXModmFsaWRhdG9ycykpXG4gICAgICAgIGNoZWNrRmllbGQoZmllbGROYW1lLCB0eXBlLCBmYWxzZSk7XG4gICAgZm9yIChjb25zdCBbZmllbGROYW1lLCB0eXBlXSBvZiBPYmplY3QuZW50cmllcyhvcHRWYWxpZGF0b3JzKSlcbiAgICAgICAgY2hlY2tGaWVsZChmaWVsZE5hbWUsIHR5cGUsIHRydWUpO1xuICAgIHJldHVybiBvYmplY3Q7XG59XG4vLyB2YWxpZGF0ZSB0eXBlIHRlc3RzXG4vLyBjb25zdCBvOiB7IGE6IG51bWJlcjsgYjogbnVtYmVyOyBjOiBudW1iZXIgfSA9IHsgYTogMSwgYjogNSwgYzogNiB9O1xuLy8gY29uc3QgejAgPSB2YWxpZGF0ZU9iamVjdChvLCB7IGE6ICdpc1NhZmVJbnRlZ2VyJyB9LCB7IGM6ICdiaWdpbnQnIH0pOyAvLyBPayFcbi8vIC8vIFNob3VsZCBmYWlsIHR5cGUtY2hlY2tcbi8vIGNvbnN0IHoxID0gdmFsaWRhdGVPYmplY3QobywgeyBhOiAndG1wJyB9LCB7IGM6ICd6eicgfSk7XG4vLyBjb25zdCB6MiA9IHZhbGlkYXRlT2JqZWN0KG8sIHsgYTogJ2lzU2FmZUludGVnZXInIH0sIHsgYzogJ3p6JyB9KTtcbi8vIGNvbnN0IHozID0gdmFsaWRhdGVPYmplY3QobywgeyB0ZXN0OiAnYm9vbGVhbicsIHo6ICdidWcnIH0pO1xuLy8gY29uc3QgejQgPSB2YWxpZGF0ZU9iamVjdChvLCB7IGE6ICdib29sZWFuJywgejogJ2J1ZycgfSk7XG4vKipcbiAqIHRocm93cyBub3QgaW1wbGVtZW50ZWQgZXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IG5vdEltcGxlbWVudGVkID0gKCkgPT4ge1xuICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG59O1xuLyoqXG4gKiBNZW1vaXplcyAoY2FjaGVzKSBjb21wdXRhdGlvbiByZXN1bHQuXG4gKiBVc2VzIFdlYWtNYXA6IHRoZSB2YWx1ZSBpcyBnb2luZyBhdXRvLWNsZWFuZWQgYnkgR0MgYWZ0ZXIgbGFzdCByZWZlcmVuY2UgaXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemVkKGZuKSB7XG4gICAgY29uc3QgbWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICByZXR1cm4gKGFyZywgLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBtYXAuZ2V0KGFyZyk7XG4gICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gZm4oYXJnLCAuLi5hcmdzKTtcbiAgICAgICAgbWFwLnNldChhcmcsIGNvbXB1dGVkKTtcbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/weierstrass.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/weierstrass.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DER: () => (/* binding */ DER),\n/* harmony export */   DERErr: () => (/* binding */ DERErr),\n/* harmony export */   SWUFpSqrtRatio: () => (/* binding */ SWUFpSqrtRatio),\n/* harmony export */   mapToCurveSimpleSWU: () => (/* binding */ mapToCurveSimpleSWU),\n/* harmony export */   weierstrass: () => (/* binding */ weierstrass),\n/* harmony export */   weierstrassPoints: () => (/* binding */ weierstrassPoints)\n/* harmony export */ });\n/* harmony import */ var _curve_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./curve.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/curve.js\");\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/utils.js\");\n/**\n * Short Weierstrass curve methods. The formula is: y² = x³ + ax + b.\n *\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance\n * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create\n * unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\n\n\nfunction validateSigVerOpts(opts) {\n    if (opts.lowS !== undefined)\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('lowS', opts.lowS);\n    if (opts.prehash !== undefined)\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('prehash', opts.prehash);\n}\nfunction validatePointOpts(curve) {\n    const opts = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.validateBasic)(curve);\n    _utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject(opts, {\n        a: 'field',\n        b: 'field',\n    }, {\n        allowedPrivateKeyLengths: 'array',\n        wrapPrivateKey: 'boolean',\n        isTorsionFree: 'function',\n        clearCofactor: 'function',\n        allowInfinityPoint: 'boolean',\n        fromBytes: 'function',\n        toBytes: 'function',\n    });\n    const { endo, Fp, a } = opts;\n    if (endo) {\n        if (!Fp.eql(a, Fp.ZERO)) {\n            throw new Error('invalid endomorphism, can only be defined for Koblitz curves that have a=0');\n        }\n        if (typeof endo !== 'object' ||\n            typeof endo.beta !== 'bigint' ||\n            typeof endo.splitScalar !== 'function') {\n            throw new Error('invalid endomorphism, expected beta: bigint and splitScalar: function');\n        }\n    }\n    return Object.freeze({ ...opts });\n}\nconst { bytesToNumberBE: b2n, hexToBytes: h2b } = _utils_js__WEBPACK_IMPORTED_MODULE_0__;\nclass DERErr extends Error {\n    constructor(m = '') {\n        super(m);\n    }\n}\n/**\n * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:\n *\n *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]\n *\n * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html\n */\nconst DER = {\n    // asn.1 DER encoding utils\n    Err: DERErr,\n    // Basic building block is TLV (Tag-Length-Value)\n    _tlv: {\n        encode: (tag, data) => {\n            const { Err: E } = DER;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length & 1)\n                throw new E('tlv.encode: unpadded data');\n            const dataLen = data.length / 2;\n            const len = _utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded(dataLen);\n            if ((len.length / 2) & 128)\n                throw new E('tlv.encode: long form length too big');\n            // length of length with long form flag\n            const lenLen = dataLen > 127 ? _utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded((len.length / 2) | 128) : '';\n            const t = _utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded(tag);\n            return t + lenLen + len + data;\n        },\n        // v - value, l - left bytes (unparsed)\n        decode(tag, data) {\n            const { Err: E } = DER;\n            let pos = 0;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length < 2 || data[pos++] !== tag)\n                throw new E('tlv.decode: wrong tlv');\n            const first = data[pos++];\n            const isLong = !!(first & 128); // First bit of first length byte is flag for short/long form\n            let length = 0;\n            if (!isLong)\n                length = first;\n            else {\n                // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]\n                const lenLen = first & 127;\n                if (!lenLen)\n                    throw new E('tlv.decode(long): indefinite length not supported');\n                if (lenLen > 4)\n                    throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js\n                const lengthBytes = data.subarray(pos, pos + lenLen);\n                if (lengthBytes.length !== lenLen)\n                    throw new E('tlv.decode: length bytes not complete');\n                if (lengthBytes[0] === 0)\n                    throw new E('tlv.decode(long): zero leftmost byte');\n                for (const b of lengthBytes)\n                    length = (length << 8) | b;\n                pos += lenLen;\n                if (length < 128)\n                    throw new E('tlv.decode(long): not minimal encoding');\n            }\n            const v = data.subarray(pos, pos + length);\n            if (v.length !== length)\n                throw new E('tlv.decode: wrong value length');\n            return { v, l: data.subarray(pos + length) };\n        },\n    },\n    // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n    // since we always use positive integers here. It must always be empty:\n    // - add zero byte if exists\n    // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n    _int: {\n        encode(num) {\n            const { Err: E } = DER;\n            if (num < _0n)\n                throw new E('integer: negative integers are not allowed');\n            let hex = _utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded(num);\n            // Pad with zero byte if negative flag is present\n            if (Number.parseInt(hex[0], 16) & 0b1000)\n                hex = '00' + hex;\n            if (hex.length & 1)\n                throw new E('unexpected DER parsing assertion: unpadded hex');\n            return hex;\n        },\n        decode(data) {\n            const { Err: E } = DER;\n            if (data[0] & 128)\n                throw new E('invalid signature integer: negative');\n            if (data[0] === 0x00 && !(data[1] & 128))\n                throw new E('invalid signature integer: unnecessary leading zero');\n            return b2n(data);\n        },\n    },\n    toSig(hex) {\n        // parse DER signature\n        const { Err: E, _int: int, _tlv: tlv } = DER;\n        const data = typeof hex === 'string' ? h2b(hex) : hex;\n        _utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes(data);\n        const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);\n        if (seqLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);\n        const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);\n        if (sLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        return { r: int.decode(rBytes), s: int.decode(sBytes) };\n    },\n    hexFromSig(sig) {\n        const { _tlv: tlv, _int: int } = DER;\n        const rs = tlv.encode(0x02, int.encode(sig.r));\n        const ss = tlv.encode(0x02, int.encode(sig.s));\n        const seq = rs + ss;\n        return tlv.encode(0x30, seq);\n    },\n};\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\nfunction weierstrassPoints(opts) {\n    const CURVE = validatePointOpts(opts);\n    const { Fp } = CURVE; // All curves has same field / group length as for now, but they can differ\n    const Fn = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.Field)(CURVE.n, CURVE.nBitLength);\n    const toBytes = CURVE.toBytes ||\n        ((_c, point, _isCompressed) => {\n            const a = point.toAffine();\n            return _utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes(Uint8Array.from([0x04]), Fp.toBytes(a.x), Fp.toBytes(a.y));\n        });\n    const fromBytes = CURVE.fromBytes ||\n        ((bytes) => {\n            // const head = bytes[0];\n            const tail = bytes.subarray(1);\n            // if (head !== 0x04) throw new Error('Only non-compressed encoding is supported');\n            const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n            const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n            return { x, y };\n        });\n    /**\n     * y² = x³ + ax + b: Short weierstrass curve formula\n     * @returns y²\n     */\n    function weierstrassEquation(x) {\n        const { a, b } = CURVE;\n        const x2 = Fp.sqr(x); // x * x\n        const x3 = Fp.mul(x2, x); // x2 * x\n        return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x3 + a * x + b\n    }\n    // Validate whether the passed curve params are valid.\n    // We check if curve equation works for generator point.\n    // `assertValidity()` won't work: `isTorsionFree()` is not available at this point in bls12-381.\n    // ProjectivePoint class has not been initialized yet.\n    if (!Fp.eql(Fp.sqr(CURVE.Gy), weierstrassEquation(CURVE.Gx)))\n        throw new Error('bad generator point: equation left != right');\n    // Valid group elements reside in range 1..n-1\n    function isWithinCurveOrder(num) {\n        return _utils_js__WEBPACK_IMPORTED_MODULE_0__.inRange(num, _1n, CURVE.n);\n    }\n    // Validates if priv key is valid and converts it to bigint.\n    // Supports options allowedPrivateKeyLengths and wrapPrivateKey.\n    function normPrivateKeyToScalar(key) {\n        const { allowedPrivateKeyLengths: lengths, nByteLength, wrapPrivateKey, n: N } = CURVE;\n        if (lengths && typeof key !== 'bigint') {\n            if (_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes(key))\n                key = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex(key);\n            // Normalize to hex string, pad. E.g. P521 would norm 130-132 char hex to 132-char bytes\n            if (typeof key !== 'string' || !lengths.includes(key.length))\n                throw new Error('invalid private key');\n            key = key.padStart(nByteLength * 2, '0');\n        }\n        let num;\n        try {\n            num =\n                typeof key === 'bigint'\n                    ? key\n                    : _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('private key', key, nByteLength));\n        }\n        catch (error) {\n            throw new Error('invalid private key, expected hex or ' + nByteLength + ' bytes, got ' + typeof key);\n        }\n        if (wrapPrivateKey)\n            num = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.mod)(num, N); // disabled by default, enabled for BLS\n        _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('private key', num, _1n, N); // num in range [1..N-1]\n        return num;\n    }\n    function assertPrjPoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('ProjectivePoint expected');\n    }\n    // Memoized toAffine / validity check. They are heavy. Points are immutable.\n    // Converts Projective point to affine (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    // (x, y, z) ∋ (x=x/z, y=y/z)\n    const toAffineMemo = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.memoized)((p, iz) => {\n        const { px: x, py: y, pz: z } = p;\n        // Fast-path for normalized points\n        if (Fp.eql(z, Fp.ONE))\n            return { x, y };\n        const is0 = p.is0();\n        // If invZ was 0, we return zero point. However we still want to execute\n        // all operations, so we replace invZ with a random number, 1.\n        if (iz == null)\n            iz = is0 ? Fp.ONE : Fp.inv(z);\n        const ax = Fp.mul(x, iz);\n        const ay = Fp.mul(y, iz);\n        const zz = Fp.mul(z, iz);\n        if (is0)\n            return { x: Fp.ZERO, y: Fp.ZERO };\n        if (!Fp.eql(zz, Fp.ONE))\n            throw new Error('invZ was invalid');\n        return { x: ax, y: ay };\n    });\n    // NOTE: on exception this will crash 'cached' and no value will be set.\n    // Otherwise true will be return\n    const assertValidMemo = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.memoized)((p) => {\n        if (p.is0()) {\n            // (0, 1, 0) aka ZERO is invalid in most contexts.\n            // In BLS, ZERO can be serialized, so we allow it.\n            // (0, 0, 0) is invalid representation of ZERO.\n            if (CURVE.allowInfinityPoint && !Fp.is0(p.py))\n                return;\n            throw new Error('bad point: ZERO');\n        }\n        // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n        const { x, y } = p.toAffine();\n        // Check if x, y are valid field elements\n        if (!Fp.isValid(x) || !Fp.isValid(y))\n            throw new Error('bad point: x or y not FE');\n        const left = Fp.sqr(y); // y²\n        const right = weierstrassEquation(x); // x³ + ax + b\n        if (!Fp.eql(left, right))\n            throw new Error('bad point: equation left != right');\n        if (!p.isTorsionFree())\n            throw new Error('bad point: not in prime-order subgroup');\n        return true;\n    });\n    /**\n     * Projective Point works in 3d / projective (homogeneous) coordinates: (x, y, z) ∋ (x=x/z, y=y/z)\n     * Default Point works in 2d / affine coordinates: (x, y)\n     * We're doing calculations in projective, because its operations don't require costly inversion.\n     */\n    class Point {\n        constructor(px, py, pz) {\n            this.px = px;\n            this.py = py;\n            this.pz = pz;\n            if (px == null || !Fp.isValid(px))\n                throw new Error('x required');\n            if (py == null || !Fp.isValid(py))\n                throw new Error('y required');\n            if (pz == null || !Fp.isValid(pz))\n                throw new Error('z required');\n            Object.freeze(this);\n        }\n        // Does not validate if the point is on-curve.\n        // Use fromHex instead, or call assertValidity() later.\n        static fromAffine(p) {\n            const { x, y } = p || {};\n            if (!p || !Fp.isValid(x) || !Fp.isValid(y))\n                throw new Error('invalid affine point');\n            if (p instanceof Point)\n                throw new Error('projective point not allowed');\n            const is0 = (i) => Fp.eql(i, Fp.ZERO);\n            // fromAffine(x:0, y:0) would produce (x:0, y:0, z:1), but we need (x:0, y:1, z:0)\n            if (is0(x) && is0(y))\n                return Point.ZERO;\n            return new Point(x, y, Fp.ONE);\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        /**\n         * Takes a bunch of Projective Points but executes only one\n         * inversion on all of them. Inversion is very slow operation,\n         * so this improves performance massively.\n         * Optimization: converts a list of projective points to a list of identical points with Z=1.\n         */\n        static normalizeZ(points) {\n            const toInv = Fp.invertBatch(points.map((p) => p.pz));\n            return points.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n        }\n        /**\n         * Converts hash string or Uint8Array to Point.\n         * @param hex short/long ECDSA hex\n         */\n        static fromHex(hex) {\n            const P = Point.fromAffine(fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('pointHex', hex)));\n            P.assertValidity();\n            return P;\n        }\n        // Multiplies generator point by privateKey.\n        static fromPrivateKey(privateKey) {\n            return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));\n        }\n        // Multiscalar Multiplication\n        static msm(points, scalars) {\n            return (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.pippenger)(Point, Fn, points, scalars);\n        }\n        // \"Private method\", don't use it directly\n        _setWindowSize(windowSize) {\n            wnaf.setWindowSize(this, windowSize);\n        }\n        // A point on curve is valid if it conforms to equation.\n        assertValidity() {\n            assertValidMemo(this);\n        }\n        hasEvenY() {\n            const { y } = this.toAffine();\n            if (Fp.isOdd)\n                return !Fp.isOdd(y);\n            throw new Error(\"Field doesn't support isOdd\");\n        }\n        /**\n         * Compare one point to another.\n         */\n        equals(other) {\n            assertPrjPoint(other);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            const { px: X2, py: Y2, pz: Z2 } = other;\n            const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n            const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n            return U1 && U2;\n        }\n        /**\n         * Flips point to one corresponding to (x, -y) in Affine coordinates.\n         */\n        negate() {\n            return new Point(this.px, Fp.neg(this.py), this.pz);\n        }\n        // Renes-Costello-Batina exception-free doubling formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 3\n        // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n        double() {\n            const { a, b } = CURVE;\n            const b3 = Fp.mul(b, _3n);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            let t0 = Fp.mul(X1, X1); // step 1\n            let t1 = Fp.mul(Y1, Y1);\n            let t2 = Fp.mul(Z1, Z1);\n            let t3 = Fp.mul(X1, Y1);\n            t3 = Fp.add(t3, t3); // step 5\n            Z3 = Fp.mul(X1, Z1);\n            Z3 = Fp.add(Z3, Z3);\n            X3 = Fp.mul(a, Z3);\n            Y3 = Fp.mul(b3, t2);\n            Y3 = Fp.add(X3, Y3); // step 10\n            X3 = Fp.sub(t1, Y3);\n            Y3 = Fp.add(t1, Y3);\n            Y3 = Fp.mul(X3, Y3);\n            X3 = Fp.mul(t3, X3);\n            Z3 = Fp.mul(b3, Z3); // step 15\n            t2 = Fp.mul(a, t2);\n            t3 = Fp.sub(t0, t2);\n            t3 = Fp.mul(a, t3);\n            t3 = Fp.add(t3, Z3);\n            Z3 = Fp.add(t0, t0); // step 20\n            t0 = Fp.add(Z3, t0);\n            t0 = Fp.add(t0, t2);\n            t0 = Fp.mul(t0, t3);\n            Y3 = Fp.add(Y3, t0);\n            t2 = Fp.mul(Y1, Z1); // step 25\n            t2 = Fp.add(t2, t2);\n            t0 = Fp.mul(t2, t3);\n            X3 = Fp.sub(X3, t0);\n            Z3 = Fp.mul(t2, t1);\n            Z3 = Fp.add(Z3, Z3); // step 30\n            Z3 = Fp.add(Z3, Z3);\n            return new Point(X3, Y3, Z3);\n        }\n        // Renes-Costello-Batina exception-free addition formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 1\n        // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n        add(other) {\n            assertPrjPoint(other);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            const { px: X2, py: Y2, pz: Z2 } = other;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            const a = CURVE.a;\n            const b3 = Fp.mul(CURVE.b, _3n);\n            let t0 = Fp.mul(X1, X2); // step 1\n            let t1 = Fp.mul(Y1, Y2);\n            let t2 = Fp.mul(Z1, Z2);\n            let t3 = Fp.add(X1, Y1);\n            let t4 = Fp.add(X2, Y2); // step 5\n            t3 = Fp.mul(t3, t4);\n            t4 = Fp.add(t0, t1);\n            t3 = Fp.sub(t3, t4);\n            t4 = Fp.add(X1, Z1);\n            let t5 = Fp.add(X2, Z2); // step 10\n            t4 = Fp.mul(t4, t5);\n            t5 = Fp.add(t0, t2);\n            t4 = Fp.sub(t4, t5);\n            t5 = Fp.add(Y1, Z1);\n            X3 = Fp.add(Y2, Z2); // step 15\n            t5 = Fp.mul(t5, X3);\n            X3 = Fp.add(t1, t2);\n            t5 = Fp.sub(t5, X3);\n            Z3 = Fp.mul(a, t4);\n            X3 = Fp.mul(b3, t2); // step 20\n            Z3 = Fp.add(X3, Z3);\n            X3 = Fp.sub(t1, Z3);\n            Z3 = Fp.add(t1, Z3);\n            Y3 = Fp.mul(X3, Z3);\n            t1 = Fp.add(t0, t0); // step 25\n            t1 = Fp.add(t1, t0);\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.mul(b3, t4);\n            t1 = Fp.add(t1, t2);\n            t2 = Fp.sub(t0, t2); // step 30\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.add(t4, t2);\n            t0 = Fp.mul(t1, t4);\n            Y3 = Fp.add(Y3, t0);\n            t0 = Fp.mul(t5, t4); // step 35\n            X3 = Fp.mul(t3, X3);\n            X3 = Fp.sub(X3, t0);\n            t0 = Fp.mul(t3, t1);\n            Z3 = Fp.mul(t5, Z3);\n            Z3 = Fp.add(Z3, t0); // step 40\n            return new Point(X3, Y3, Z3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        wNAF(n) {\n            return wnaf.wNAFCached(this, n, Point.normalizeZ);\n        }\n        /**\n         * Non-constant-time multiplication. Uses double-and-add algorithm.\n         * It's faster, but should only be used when you don't care about\n         * an exposed private key e.g. sig verification, which works over *public* keys.\n         */\n        multiplyUnsafe(sc) {\n            const { endo, n: N } = CURVE;\n            _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('scalar', sc, _0n, N);\n            const I = Point.ZERO;\n            if (sc === _0n)\n                return I;\n            if (this.is0() || sc === _1n)\n                return this;\n            // Case a: no endomorphism. Case b: has precomputes.\n            if (!endo || wnaf.hasPrecomputes(this))\n                return wnaf.wNAFCachedUnsafe(this, sc, Point.normalizeZ);\n            // Case c: endomorphism\n            let { k1neg, k1, k2neg, k2 } = endo.splitScalar(sc);\n            let k1p = I;\n            let k2p = I;\n            let d = this;\n            while (k1 > _0n || k2 > _0n) {\n                if (k1 & _1n)\n                    k1p = k1p.add(d);\n                if (k2 & _1n)\n                    k2p = k2p.add(d);\n                d = d.double();\n                k1 >>= _1n;\n                k2 >>= _1n;\n            }\n            if (k1neg)\n                k1p = k1p.negate();\n            if (k2neg)\n                k2p = k2p.negate();\n            k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n            return k1p.add(k2p);\n        }\n        /**\n         * Constant time multiplication.\n         * Uses wNAF method. Windowed method may be 10% faster,\n         * but takes 2x longer to generate and consumes 2x memory.\n         * Uses precomputes when available.\n         * Uses endomorphism for Koblitz curves.\n         * @param scalar by which the point would be multiplied\n         * @returns New point\n         */\n        multiply(scalar) {\n            const { endo, n: N } = CURVE;\n            _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('scalar', scalar, _1n, N);\n            let point, fake; // Fake point is used to const-time mult\n            if (endo) {\n                const { k1neg, k1, k2neg, k2 } = endo.splitScalar(scalar);\n                let { p: k1p, f: f1p } = this.wNAF(k1);\n                let { p: k2p, f: f2p } = this.wNAF(k2);\n                k1p = wnaf.constTimeNegate(k1neg, k1p);\n                k2p = wnaf.constTimeNegate(k2neg, k2p);\n                k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n                point = k1p.add(k2p);\n                fake = f1p.add(f2p);\n            }\n            else {\n                const { p, f } = this.wNAF(scalar);\n                point = p;\n                fake = f;\n            }\n            // Normalize `z` for both points, but return only real one\n            return Point.normalizeZ([point, fake])[0];\n        }\n        /**\n         * Efficiently calculate `aP + bQ`. Unsafe, can expose private key, if used incorrectly.\n         * Not using Strauss-Shamir trick: precomputation tables are faster.\n         * The trick could be useful if both P and Q are not G (not in our case).\n         * @returns non-zero affine point\n         */\n        multiplyAndAddUnsafe(Q, a, b) {\n            const G = Point.BASE; // No Strauss-Shamir trick: we have 10% faster G precomputes\n            const mul = (P, a // Select faster multiply() method\n            ) => (a === _0n || a === _1n || !P.equals(G) ? P.multiplyUnsafe(a) : P.multiply(a));\n            const sum = mul(this, a).add(mul(Q, b));\n            return sum.is0() ? undefined : sum;\n        }\n        // Converts Projective point to affine (x, y) coordinates.\n        // Can accept precomputed Z^-1 - for example, from invertBatch.\n        // (x, y, z) ∋ (x=x/z, y=y/z)\n        toAffine(iz) {\n            return toAffineMemo(this, iz);\n        }\n        isTorsionFree() {\n            const { h: cofactor, isTorsionFree } = CURVE;\n            if (cofactor === _1n)\n                return true; // No subgroups, always torsion-free\n            if (isTorsionFree)\n                return isTorsionFree(Point, this);\n            throw new Error('isTorsionFree() has not been declared for the elliptic curve');\n        }\n        clearCofactor() {\n            const { h: cofactor, clearCofactor } = CURVE;\n            if (cofactor === _1n)\n                return this; // Fast-path\n            if (clearCofactor)\n                return clearCofactor(Point, this);\n            return this.multiplyUnsafe(CURVE.h);\n        }\n        toRawBytes(isCompressed = true) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('isCompressed', isCompressed);\n            this.assertValidity();\n            return toBytes(Point, this, isCompressed);\n        }\n        toHex(isCompressed = true) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('isCompressed', isCompressed);\n            return _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex(this.toRawBytes(isCompressed));\n        }\n    }\n    Point.BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    Point.ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO);\n    const _bits = CURVE.nBitLength;\n    const wnaf = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.wNAF)(Point, CURVE.endo ? Math.ceil(_bits / 2) : _bits);\n    // Validate if generator point is on curve\n    return {\n        CURVE,\n        ProjectivePoint: Point,\n        normPrivateKeyToScalar,\n        weierstrassEquation,\n        isWithinCurveOrder,\n    };\n}\nfunction validateOpts(curve) {\n    const opts = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.validateBasic)(curve);\n    _utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject(opts, {\n        hash: 'hash',\n        hmac: 'function',\n        randomBytes: 'function',\n    }, {\n        bits2int: 'function',\n        bits2int_modN: 'function',\n        lowS: 'boolean',\n    });\n    return Object.freeze({ lowS: true, ...opts });\n}\n/**\n * Creates short weierstrass curve and ECDSA signature methods for it.\n * @example\n * import { Field } from '@noble/curves/abstract/modular';\n * // Before that, define BigInt-s: a, b, p, n, Gx, Gy\n * const curve = weierstrass({ a, b, Fp: Field(p), n, Gx, Gy, h: 1n })\n */\nfunction weierstrass(curveDef) {\n    const CURVE = validateOpts(curveDef);\n    const { Fp, n: CURVE_ORDER } = CURVE;\n    const compressedLen = Fp.BYTES + 1; // e.g. 33 for 32\n    const uncompressedLen = 2 * Fp.BYTES + 1; // e.g. 65 for 32\n    function modN(a) {\n        return (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.mod)(a, CURVE_ORDER);\n    }\n    function invN(a) {\n        return (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.invert)(a, CURVE_ORDER);\n    }\n    const { ProjectivePoint: Point, normPrivateKeyToScalar, weierstrassEquation, isWithinCurveOrder, } = weierstrassPoints({\n        ...CURVE,\n        toBytes(_c, point, isCompressed) {\n            const a = point.toAffine();\n            const x = Fp.toBytes(a.x);\n            const cat = _utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes;\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('isCompressed', isCompressed);\n            if (isCompressed) {\n                return cat(Uint8Array.from([point.hasEvenY() ? 0x02 : 0x03]), x);\n            }\n            else {\n                return cat(Uint8Array.from([0x04]), x, Fp.toBytes(a.y));\n            }\n        },\n        fromBytes(bytes) {\n            const len = bytes.length;\n            const head = bytes[0];\n            const tail = bytes.subarray(1);\n            // this.assertValidity() is done inside of fromHex\n            if (len === compressedLen && (head === 0x02 || head === 0x03)) {\n                const x = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE(tail);\n                if (!_utils_js__WEBPACK_IMPORTED_MODULE_0__.inRange(x, _1n, Fp.ORDER))\n                    throw new Error('Point is not on curve');\n                const y2 = weierstrassEquation(x); // y² = x³ + ax + b\n                let y;\n                try {\n                    y = Fp.sqrt(y2); // y = y² ^ (p+1)/4\n                }\n                catch (sqrtError) {\n                    const suffix = sqrtError instanceof Error ? ': ' + sqrtError.message : '';\n                    throw new Error('Point is not on curve' + suffix);\n                }\n                const isYOdd = (y & _1n) === _1n;\n                // ECDSA\n                const isHeadOdd = (head & 1) === 1;\n                if (isHeadOdd !== isYOdd)\n                    y = Fp.neg(y);\n                return { x, y };\n            }\n            else if (len === uncompressedLen && head === 0x04) {\n                const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n                const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n                return { x, y };\n            }\n            else {\n                const cl = compressedLen;\n                const ul = uncompressedLen;\n                throw new Error('invalid Point, expected length of ' + cl + ', or uncompressed ' + ul + ', got ' + len);\n            }\n        },\n    });\n    const numToNByteStr = (num) => _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex(_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE(num, CURVE.nByteLength));\n    function isBiggerThanHalfOrder(number) {\n        const HALF = CURVE_ORDER >> _1n;\n        return number > HALF;\n    }\n    function normalizeS(s) {\n        return isBiggerThanHalfOrder(s) ? modN(-s) : s;\n    }\n    // slice bytes num\n    const slcNum = (b, from, to) => _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE(b.slice(from, to));\n    /**\n     * ECDSA signature with its (r, s) properties. Supports DER & compact representations.\n     */\n    class Signature {\n        constructor(r, s, recovery) {\n            this.r = r;\n            this.s = s;\n            this.recovery = recovery;\n            this.assertValidity();\n        }\n        // pair (bytes of r, bytes of s)\n        static fromCompact(hex) {\n            const l = CURVE.nByteLength;\n            hex = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('compactSignature', hex, l * 2);\n            return new Signature(slcNum(hex, 0, l), slcNum(hex, l, 2 * l));\n        }\n        // DER encoded ECDSA signature\n        // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script\n        static fromDER(hex) {\n            const { r, s } = DER.toSig((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('DER', hex));\n            return new Signature(r, s);\n        }\n        assertValidity() {\n            _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('r', this.r, _1n, CURVE_ORDER); // r in [1..N]\n            _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('s', this.s, _1n, CURVE_ORDER); // s in [1..N]\n        }\n        addRecoveryBit(recovery) {\n            return new Signature(this.r, this.s, recovery);\n        }\n        recoverPublicKey(msgHash) {\n            const { r, s, recovery: rec } = this;\n            const h = bits2int_modN((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('msgHash', msgHash)); // Truncate hash\n            if (rec == null || ![0, 1, 2, 3].includes(rec))\n                throw new Error('recovery id invalid');\n            const radj = rec === 2 || rec === 3 ? r + CURVE.n : r;\n            if (radj >= Fp.ORDER)\n                throw new Error('recovery id 2 or 3 invalid');\n            const prefix = (rec & 1) === 0 ? '02' : '03';\n            const R = Point.fromHex(prefix + numToNByteStr(radj));\n            const ir = invN(radj); // r^-1\n            const u1 = modN(-h * ir); // -hr^-1\n            const u2 = modN(s * ir); // sr^-1\n            const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2); // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1)\n            if (!Q)\n                throw new Error('point at infinify'); // unsafe is fine: no priv data leaked\n            Q.assertValidity();\n            return Q;\n        }\n        // Signatures should be low-s, to prevent malleability.\n        hasHighS() {\n            return isBiggerThanHalfOrder(this.s);\n        }\n        normalizeS() {\n            return this.hasHighS() ? new Signature(this.r, modN(-this.s), this.recovery) : this;\n        }\n        // DER-encoded\n        toDERRawBytes() {\n            return _utils_js__WEBPACK_IMPORTED_MODULE_0__.hexToBytes(this.toDERHex());\n        }\n        toDERHex() {\n            return DER.hexFromSig({ r: this.r, s: this.s });\n        }\n        // padded bytes of r, then padded bytes of s\n        toCompactRawBytes() {\n            return _utils_js__WEBPACK_IMPORTED_MODULE_0__.hexToBytes(this.toCompactHex());\n        }\n        toCompactHex() {\n            return numToNByteStr(this.r) + numToNByteStr(this.s);\n        }\n    }\n    const utils = {\n        isValidPrivateKey(privateKey) {\n            try {\n                normPrivateKeyToScalar(privateKey);\n                return true;\n            }\n            catch (error) {\n                return false;\n            }\n        },\n        normPrivateKeyToScalar: normPrivateKeyToScalar,\n        /**\n         * Produces cryptographically secure private key from random of size\n         * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n         */\n        randomPrivateKey: () => {\n            const length = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.getMinHashLength)(CURVE.n);\n            return (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.mapHashToField)(CURVE.randomBytes(length), CURVE.n);\n        },\n        /**\n         * Creates precompute table for an arbitrary EC point. Makes point \"cached\".\n         * Allows to massively speed-up `point.multiply(scalar)`.\n         * @returns cached point\n         * @example\n         * const fast = utils.precompute(8, ProjectivePoint.fromHex(someonesPubKey));\n         * fast.multiply(privKey); // much faster ECDH now\n         */\n        precompute(windowSize = 8, point = Point.BASE) {\n            point._setWindowSize(windowSize);\n            point.multiply(BigInt(3)); // 3 is arbitrary, just need any number here\n            return point;\n        },\n    };\n    /**\n     * Computes public key for a private key. Checks for validity of the private key.\n     * @param privateKey private key\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns Public key, full when isCompressed=false; short when isCompressed=true\n     */\n    function getPublicKey(privateKey, isCompressed = true) {\n        return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n    }\n    /**\n     * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n     */\n    function isProbPub(item) {\n        const arr = _utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes(item);\n        const str = typeof item === 'string';\n        const len = (arr || str) && item.length;\n        if (arr)\n            return len === compressedLen || len === uncompressedLen;\n        if (str)\n            return len === 2 * compressedLen || len === 2 * uncompressedLen;\n        if (item instanceof Point)\n            return true;\n        return false;\n    }\n    /**\n     * ECDH (Elliptic Curve Diffie Hellman).\n     * Computes shared public key from private key and public key.\n     * Checks: 1) private key validity 2) shared key is on-curve.\n     * Does NOT hash the result.\n     * @param privateA private key\n     * @param publicB different public key\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns shared public key\n     */\n    function getSharedSecret(privateA, publicB, isCompressed = true) {\n        if (isProbPub(privateA))\n            throw new Error('first arg must be private key');\n        if (!isProbPub(publicB))\n            throw new Error('second arg must be public key');\n        const b = Point.fromHex(publicB); // check for being on-curve\n        return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed);\n    }\n    // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n    // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n    // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n    // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n    const bits2int = CURVE.bits2int ||\n        function (bytes) {\n            // Our custom check \"just in case\"\n            if (bytes.length > 8192)\n                throw new Error('input is too large');\n            // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n            // for some cases, since bytes.length * 8 is not actual bitLength.\n            const num = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE(bytes); // check for == u8 done here\n            const delta = bytes.length * 8 - CURVE.nBitLength; // truncate to nBitLength leftmost bits\n            return delta > 0 ? num >> BigInt(delta) : num;\n        };\n    const bits2int_modN = CURVE.bits2int_modN ||\n        function (bytes) {\n            return modN(bits2int(bytes)); // can't use bytesToNumberBE here\n        };\n    // NOTE: pads output with zero as per spec\n    const ORDER_MASK = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask(CURVE.nBitLength);\n    /**\n     * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.\n     */\n    function int2octets(num) {\n        _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('num < 2^' + CURVE.nBitLength, num, _0n, ORDER_MASK);\n        // works with order, can have different size than numToField!\n        return _utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE(num, CURVE.nByteLength);\n    }\n    // Steps A, D of RFC6979 3.2\n    // Creates RFC6979 seed; converts msg/privKey to numbers.\n    // Used only in sign, not in verify.\n    // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order,\n    // this will be invalid at least for P521. Also it can be bigger for P224 + SHA256\n    function prepSig(msgHash, privateKey, opts = defaultSigOpts) {\n        if (['recovered', 'canonical'].some((k) => k in opts))\n            throw new Error('sign() legacy options not supported');\n        const { hash, randomBytes } = CURVE;\n        let { lowS, prehash, extraEntropy: ent } = opts; // generates low-s sigs by default\n        if (lowS == null)\n            lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash\n        msgHash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('msgHash', msgHash);\n        validateSigVerOpts(opts);\n        if (prehash)\n            msgHash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('prehashed msgHash', hash(msgHash));\n        // We can't later call bits2octets, since nested bits2int is broken for curves\n        // with nBitLength % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n        // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n        const h1int = bits2int_modN(msgHash);\n        const d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint\n        const seedArgs = [int2octets(d), int2octets(h1int)];\n        // extraEntropy. RFC6979 3.6: additional k' (optional).\n        if (ent != null && ent !== false) {\n            // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n            const e = ent === true ? randomBytes(Fp.BYTES) : ent; // generate random bytes OR pass as-is\n            seedArgs.push((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('extraEntropy', e)); // check for being bytes\n        }\n        const seed = _utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes(...seedArgs); // Step D of RFC6979 3.2\n        const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n        // Converts signature params into point w r/s, checks result for validity.\n        function k2sig(kBytes) {\n            // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n            const k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n            if (!isWithinCurveOrder(k))\n                return; // Important: all mod() calls here must be done over N\n            const ik = invN(k); // k^-1 mod n\n            const q = Point.BASE.multiply(k).toAffine(); // q = Gk\n            const r = modN(q.x); // r = q.x mod n\n            if (r === _0n)\n                return;\n            // Can use scalar blinding b^-1(bm + bdr) where b ∈ [1,q−1] according to\n            // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n            // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n            const s = modN(ik * modN(m + r * d)); // Not using blinding here\n            if (s === _0n)\n                return;\n            let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n            let normS = s;\n            if (lowS && isBiggerThanHalfOrder(s)) {\n                normS = normalizeS(s); // if lowS was passed, ensure s is always\n                recovery ^= 1; // // in the bottom half of N\n            }\n            return new Signature(r, normS, recovery); // use normS, not s\n        }\n        return { seed, k2sig };\n    }\n    const defaultSigOpts = { lowS: CURVE.lowS, prehash: false };\n    const defaultVerOpts = { lowS: CURVE.lowS, prehash: false };\n    /**\n     * Signs message hash with a private key.\n     * ```\n     * sign(m, d, k) where\n     *   (x, y) = G × k\n     *   r = x mod n\n     *   s = (m + dr)/k mod n\n     * ```\n     * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.\n     * @param privKey private key\n     * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.\n     * @returns signature with recovery param\n     */\n    function sign(msgHash, privKey, opts = defaultSigOpts) {\n        const { seed, k2sig } = prepSig(msgHash, privKey, opts); // Steps A, D of RFC6979 3.2.\n        const C = CURVE;\n        const drbg = _utils_js__WEBPACK_IMPORTED_MODULE_0__.createHmacDrbg(C.hash.outputLen, C.nByteLength, C.hmac);\n        return drbg(seed, k2sig); // Steps B, C, D, E, F, G\n    }\n    // Enable precomputes. Slows down first publicKey computation by 20ms.\n    Point.BASE._setWindowSize(8);\n    // utils.precompute(8, ProjectivePoint.BASE)\n    /**\n     * Verifies a signature against message hash and public key.\n     * Rejects lowS signatures by default: to override,\n     * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n     *\n     * ```\n     * verify(r, s, h, P) where\n     *   U1 = hs^-1 mod n\n     *   U2 = rs^-1 mod n\n     *   R = U1⋅G - U2⋅P\n     *   mod(R.x, n) == r\n     * ```\n     */\n    function verify(signature, msgHash, publicKey, opts = defaultVerOpts) {\n        const sg = signature;\n        msgHash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('msgHash', msgHash);\n        publicKey = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('publicKey', publicKey);\n        const { lowS, prehash, format } = opts;\n        // Verify opts, deduce signature format\n        validateSigVerOpts(opts);\n        if ('strict' in opts)\n            throw new Error('options.strict was renamed to lowS');\n        if (format !== undefined && format !== 'compact' && format !== 'der')\n            throw new Error('format must be compact or der');\n        const isHex = typeof sg === 'string' || _utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes(sg);\n        const isObj = !isHex &&\n            !format &&\n            typeof sg === 'object' &&\n            sg !== null &&\n            typeof sg.r === 'bigint' &&\n            typeof sg.s === 'bigint';\n        if (!isHex && !isObj)\n            throw new Error('invalid signature, expected Uint8Array, hex string or Signature instance');\n        let _sig = undefined;\n        let P;\n        try {\n            if (isObj)\n                _sig = new Signature(sg.r, sg.s);\n            if (isHex) {\n                // Signature can be represented in 2 ways: compact (2*nByteLength) & DER (variable-length).\n                // Since DER can also be 2*nByteLength bytes, we check for it first.\n                try {\n                    if (format !== 'compact')\n                        _sig = Signature.fromDER(sg);\n                }\n                catch (derError) {\n                    if (!(derError instanceof DER.Err))\n                        throw derError;\n                }\n                if (!_sig && format !== 'der')\n                    _sig = Signature.fromCompact(sg);\n            }\n            P = Point.fromHex(publicKey);\n        }\n        catch (error) {\n            return false;\n        }\n        if (!_sig)\n            return false;\n        if (lowS && _sig.hasHighS())\n            return false;\n        if (prehash)\n            msgHash = CURVE.hash(msgHash);\n        const { r, s } = _sig;\n        const h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element\n        const is = invN(s); // s^-1\n        const u1 = modN(h * is); // u1 = hs^-1 mod n\n        const u2 = modN(r * is); // u2 = rs^-1 mod n\n        const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2)?.toAffine(); // R = u1⋅G + u2⋅P\n        if (!R)\n            return false;\n        const v = modN(R.x);\n        return v === r;\n    }\n    return {\n        CURVE,\n        getPublicKey,\n        getSharedSecret,\n        sign,\n        verify,\n        ProjectivePoint: Point,\n        Signature,\n        utils,\n    };\n}\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nfunction SWUFpSqrtRatio(Fp, Z) {\n    // Generic implementation\n    const q = Fp.ORDER;\n    let l = _0n;\n    for (let o = q - _1n; o % _2n === _0n; o /= _2n)\n        l += _1n;\n    const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n    // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n    // 2n ** c1 == 2n << (c1-1)\n    const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n    const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n    const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n    const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n    const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n    const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n    const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n    const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n    let sqrtRatio = (u, v) => {\n        let tv1 = c6; // 1. tv1 = c6\n        let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n        let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n        tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n        let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n        tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n        tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n        tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n        tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n        let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n        tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n        let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n        tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n        tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n        tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n        tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n        // 17. for i in (c1, c1 - 1, ..., 2):\n        for (let i = c1; i > _1n; i--) {\n            let tv5 = i - _2n; // 18.    tv5 = i - 2\n            tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n            let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n            const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n            tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n            tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n            tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n            tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n            tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n        }\n        return { isValid: isQR, value: tv3 };\n    };\n    if (Fp.ORDER % _4n === _3n) {\n        // sqrt_ratio_3mod4(u, v)\n        const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n        const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n        sqrtRatio = (u, v) => {\n            let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n            const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n            tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n            let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n            y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n            const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n            const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n            const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n            let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n            return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n        };\n    }\n    // No curves uses that\n    // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n    return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nfunction mapToCurveSimpleSWU(Fp, opts) {\n    (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.validateField)(Fp);\n    if (!Fp.isValid(opts.A) || !Fp.isValid(opts.B) || !Fp.isValid(opts.Z))\n        throw new Error('mapToCurveSimpleSWU: invalid opts');\n    const sqrtRatio = SWUFpSqrtRatio(Fp, opts.Z);\n    if (!Fp.isOdd)\n        throw new Error('Fp.isOdd is not implemented!');\n    // Input: u, an element of F.\n    // Output: (x, y), a point on E.\n    return (u) => {\n        // prettier-ignore\n        let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n        tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n        tv1 = Fp.mul(tv1, opts.Z); // 2.  tv1 = Z * tv1\n        tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n        tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n        tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n        tv3 = Fp.mul(tv3, opts.B); // 6.  tv3 = B * tv3\n        tv4 = Fp.cmov(opts.Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n        tv4 = Fp.mul(tv4, opts.A); // 8.  tv4 = A * tv4\n        tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n        tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n        tv5 = Fp.mul(tv6, opts.A); // 11. tv5 = A * tv6\n        tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n        tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n        tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n        tv5 = Fp.mul(tv6, opts.B); // 15. tv5 = B * tv6\n        tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n        x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n        const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n        y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n        y = Fp.mul(y, value); // 20.   y = y * y1\n        x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n        y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n        const e1 = Fp.isOdd(u) === Fp.isOdd(y); // 23.  e1 = sgn0(u) == sgn0(y)\n        y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n        x = Fp.div(x, tv4); // 25.   x = x / tv4\n        return { x, y };\n    };\n}\n//# sourceMappingURL=weierstrass.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC93ZWllcnN0cmFzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDNkQ7QUFDdUM7QUFDbkU7QUFDeUI7QUFDMUQ7QUFDQTtBQUNBLFFBQVEsZ0RBQUs7QUFDYjtBQUNBLFFBQVEsZ0RBQUs7QUFDYjtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFhO0FBQzlCLElBQUkscURBQWlCO0FBQ3JCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLFNBQVM7QUFDcEM7QUFDQSxRQUFRLHdDQUF3QyxFQUFFLHNDQUFFO0FBQzdDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMERBQXNCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQywwREFBc0I7QUFDakUsc0JBQXNCLDBEQUFzQjtBQUM1QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFD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QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC93ZWllcnN0cmFzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNob3J0IFdlaWVyc3RyYXNzIGN1cnZlIG1ldGhvZHMuIFRoZSBmb3JtdWxhIGlzOiB5wrIgPSB4wrMgKyBheCArIGIuXG4gKlxuICogIyMjIERlc2lnbiByYXRpb25hbGUgZm9yIHR5cGVzXG4gKlxuICogKiBJbnRlcmFjdGlvbiBiZXR3ZWVuIGNsYXNzZXMgZnJvbSBkaWZmZXJlbnQgY3VydmVzIHNob3VsZCBmYWlsOlxuICogICBgazI1Ni5Qb2ludC5CQVNFLmFkZChwMjU2LlBvaW50LkJBU0UpYFxuICogKiBGb3IgdGhpcyBwdXJwb3NlIHdlIHdhbnQgdG8gdXNlIGBpbnN0YW5jZW9mYCBvcGVyYXRvciwgd2hpY2ggaXMgZmFzdCBhbmQgd29ya3MgZHVyaW5nIHJ1bnRpbWVcbiAqICogRGlmZmVyZW50IGNhbGxzIG9mIGBjdXJ2ZSgpYCB3b3VsZCByZXR1cm4gZGlmZmVyZW50IGNsYXNzZXMgLVxuICogICBgY3VydmUocGFyYW1zKSAhPT0gY3VydmUocGFyYW1zKWA6IGlmIHNvbWVib2R5IGRlY2lkZWQgdG8gbW9ua2V5LXBhdGNoIHRoZWlyIGN1cnZlLFxuICogICBpdCB3b24ndCBhZmZlY3Qgb3RoZXJzXG4gKlxuICogVHlwZVNjcmlwdCBjYW4ndCBpbmZlciB0eXBlcyBmb3IgY2xhc3NlcyBjcmVhdGVkIGluc2lkZSBhIGZ1bmN0aW9uLiBDbGFzc2VzIGlzIG9uZSBpbnN0YW5jZVxuICogb2Ygbm9taW5hdGl2ZSB0eXBlcyBpbiBUeXBlU2NyaXB0IGFuZCBpbnRlcmZhY2VzIG9ubHkgY2hlY2sgZm9yIHNoYXBlLCBzbyBpdCdzIGhhcmQgdG8gY3JlYXRlXG4gKiB1bmlxdWUgdHlwZSBmb3IgZXZlcnkgZnVuY3Rpb24gY2FsbC5cbiAqXG4gKiBXZSBjYW4gdXNlIGdlbmVyaWMgdHlwZXMgdmlhIHNvbWUgcGFyYW0sIGxpa2UgY3VydmUgb3B0cywgYnV0IHRoYXQgd291bGQ6XG4gKiAgICAgMS4gRW5hYmxlIGludGVyYWN0aW9uIGJldHdlZW4gYGN1cnZlKHBhcmFtcylgIGFuZCBgY3VydmUocGFyYW1zKWAgKGN1cnZlcyBvZiBzYW1lIHBhcmFtcylcbiAqICAgICB3aGljaCBpcyBoYXJkIHRvIGRlYnVnLlxuICogICAgIDIuIFBhcmFtcyBjYW4gYmUgZ2VuZXJpYyBhbmQgd2UgY2FuJ3QgZW5mb3JjZSB0aGVtIHRvIGJlIGNvbnN0YW50IHZhbHVlOlxuICogICAgIGlmIHNvbWVib2R5IGNyZWF0ZXMgY3VydmUgZnJvbSBub24tY29uc3RhbnQgcGFyYW1zLFxuICogICAgIGl0IHdvdWxkIGJlIGFsbG93ZWQgdG8gaW50ZXJhY3Qgd2l0aCBvdGhlciBjdXJ2ZXMgd2l0aCBub24tY29uc3RhbnQgcGFyYW1zXG4gKlxuICogQHRvZG8gaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svcmVsZWFzZS1ub3Rlcy90eXBlc2NyaXB0LTItNy5odG1sI3VuaXF1ZS1zeW1ib2xcbiAqIEBtb2R1bGVcbiAqL1xuLyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL1xuaW1wb3J0IHsgcGlwcGVuZ2VyLCB2YWxpZGF0ZUJhc2ljLCB3TkFGLCB9IGZyb20gJy4vY3VydmUuanMnO1xuaW1wb3J0IHsgRmllbGQsIGdldE1pbkhhc2hMZW5ndGgsIGludmVydCwgbWFwSGFzaFRvRmllbGQsIG1vZCwgdmFsaWRhdGVGaWVsZCwgfSBmcm9tICcuL21vZHVsYXIuanMnO1xuaW1wb3J0ICogYXMgdXQgZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBhYm9vbCwgZW5zdXJlQnl0ZXMsIG1lbW9pemVkIH0gZnJvbSAnLi91dGlscy5qcyc7XG5mdW5jdGlvbiB2YWxpZGF0ZVNpZ1Zlck9wdHMob3B0cykge1xuICAgIGlmIChvcHRzLmxvd1MgIT09IHVuZGVmaW5lZClcbiAgICAgICAgYWJvb2woJ2xvd1MnLCBvcHRzLmxvd1MpO1xuICAgIGlmIChvcHRzLnByZWhhc2ggIT09IHVuZGVmaW5lZClcbiAgICAgICAgYWJvb2woJ3ByZWhhc2gnLCBvcHRzLnByZWhhc2gpO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVQb2ludE9wdHMoY3VydmUpIHtcbiAgICBjb25zdCBvcHRzID0gdmFsaWRhdGVCYXNpYyhjdXJ2ZSk7XG4gICAgdXQudmFsaWRhdGVPYmplY3Qob3B0cywge1xuICAgICAgICBhOiAnZmllbGQnLFxuICAgICAgICBiOiAnZmllbGQnLFxuICAgIH0sIHtcbiAgICAgICAgYWxsb3dlZFByaXZhdGVLZXlMZW5ndGhzOiAnYXJyYXknLFxuICAgICAgICB3cmFwUHJpdmF0ZUtleTogJ2Jvb2xlYW4nLFxuICAgICAgICBpc1RvcnNpb25GcmVlOiAnZnVuY3Rpb24nLFxuICAgICAgICBjbGVhckNvZmFjdG9yOiAnZnVuY3Rpb24nLFxuICAgICAgICBhbGxvd0luZmluaXR5UG9pbnQ6ICdib29sZWFuJyxcbiAgICAgICAgZnJvbUJ5dGVzOiAnZnVuY3Rpb24nLFxuICAgICAgICB0b0J5dGVzOiAnZnVuY3Rpb24nLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgZW5kbywgRnAsIGEgfSA9IG9wdHM7XG4gICAgaWYgKGVuZG8pIHtcbiAgICAgICAgaWYgKCFGcC5lcWwoYSwgRnAuWkVSTykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBlbmRvbW9ycGhpc20sIGNhbiBvbmx5IGJlIGRlZmluZWQgZm9yIEtvYmxpdHogY3VydmVzIHRoYXQgaGF2ZSBhPTAnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGVuZG8gIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgICB0eXBlb2YgZW5kby5iZXRhICE9PSAnYmlnaW50JyB8fFxuICAgICAgICAgICAgdHlwZW9mIGVuZG8uc3BsaXRTY2FsYXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBlbmRvbW9ycGhpc20sIGV4cGVjdGVkIGJldGE6IGJpZ2ludCBhbmQgc3BsaXRTY2FsYXI6IGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoeyAuLi5vcHRzIH0pO1xufVxuY29uc3QgeyBieXRlc1RvTnVtYmVyQkU6IGIybiwgaGV4VG9CeXRlczogaDJiIH0gPSB1dDtcbmV4cG9ydCBjbGFzcyBERVJFcnIgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobSA9ICcnKSB7XG4gICAgICAgIHN1cGVyKG0pO1xuICAgIH1cbn1cbi8qKlxuICogQVNOLjEgREVSIGVuY29kaW5nIHV0aWxpdGllcy4gQVNOIGlzIHZlcnkgY29tcGxleCAmIGZyYWdpbGUuIEZvcm1hdDpcbiAqXG4gKiAgICAgWzB4MzAgKFNFUVVFTkNFKSwgYnl0ZWxlbmd0aCwgMHgwMiAoSU5URUdFUiksIGludExlbmd0aCwgUiwgMHgwMiAoSU5URUdFUiksIGludExlbmd0aCwgU11cbiAqXG4gKiBEb2NzOiBodHRwczovL2xldHNlbmNyeXB0Lm9yZy9kb2NzL2Etd2FybS13ZWxjb21lLXRvLWFzbjEtYW5kLWRlci8sIGh0dHBzOi8vbHVjYS5udG9wLm9yZy9UZWFjaGluZy9BcHB1bnRpL2FzbjEuaHRtbFxuICovXG5leHBvcnQgY29uc3QgREVSID0ge1xuICAgIC8vIGFzbi4xIERFUiBlbmNvZGluZyB1dGlsc1xuICAgIEVycjogREVSRXJyLFxuICAgIC8vIEJhc2ljIGJ1aWxkaW5nIGJsb2NrIGlzIFRMViAoVGFnLUxlbmd0aC1WYWx1ZSlcbiAgICBfdGx2OiB7XG4gICAgICAgIGVuY29kZTogKHRhZywgZGF0YSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBFcnI6IEUgfSA9IERFUjtcbiAgICAgICAgICAgIGlmICh0YWcgPCAwIHx8IHRhZyA+IDI1NilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmVuY29kZTogd3JvbmcgdGFnJyk7XG4gICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggJiAxKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZW5jb2RlOiB1bnBhZGRlZCBkYXRhJyk7XG4gICAgICAgICAgICBjb25zdCBkYXRhTGVuID0gZGF0YS5sZW5ndGggLyAyO1xuICAgICAgICAgICAgY29uc3QgbGVuID0gdXQubnVtYmVyVG9IZXhVbnBhZGRlZChkYXRhTGVuKTtcbiAgICAgICAgICAgIGlmICgobGVuLmxlbmd0aCAvIDIpICYgMTI4KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZW5jb2RlOiBsb25nIGZvcm0gbGVuZ3RoIHRvbyBiaWcnKTtcbiAgICAgICAgICAgIC8vIGxlbmd0aCBvZiBsZW5ndGggd2l0aCBsb25nIGZvcm0gZmxhZ1xuICAgICAgICAgICAgY29uc3QgbGVuTGVuID0gZGF0YUxlbiA+IDEyNyA/IHV0Lm51bWJlclRvSGV4VW5wYWRkZWQoKGxlbi5sZW5ndGggLyAyKSB8IDEyOCkgOiAnJztcbiAgICAgICAgICAgIGNvbnN0IHQgPSB1dC5udW1iZXJUb0hleFVucGFkZGVkKHRhZyk7XG4gICAgICAgICAgICByZXR1cm4gdCArIGxlbkxlbiArIGxlbiArIGRhdGE7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIHYgLSB2YWx1ZSwgbCAtIGxlZnQgYnl0ZXMgKHVucGFyc2VkKVxuICAgICAgICBkZWNvZGUodGFnLCBkYXRhKSB7XG4gICAgICAgICAgICBjb25zdCB7IEVycjogRSB9ID0gREVSO1xuICAgICAgICAgICAgbGV0IHBvcyA9IDA7XG4gICAgICAgICAgICBpZiAodGFnIDwgMCB8fCB0YWcgPiAyNTYpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5lbmNvZGU6IHdyb25nIHRhZycpO1xuICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoIDwgMiB8fCBkYXRhW3BvcysrXSAhPT0gdGFnKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZGVjb2RlOiB3cm9uZyB0bHYnKTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gZGF0YVtwb3MrK107XG4gICAgICAgICAgICBjb25zdCBpc0xvbmcgPSAhIShmaXJzdCAmIDEyOCk7IC8vIEZpcnN0IGJpdCBvZiBmaXJzdCBsZW5ndGggYnl0ZSBpcyBmbGFnIGZvciBzaG9ydC9sb25nIGZvcm1cbiAgICAgICAgICAgIGxldCBsZW5ndGggPSAwO1xuICAgICAgICAgICAgaWYgKCFpc0xvbmcpXG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gZmlyc3Q7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBMb25nIGZvcm06IFtsb25nRmxhZygxYml0KSwgbGVuZ3RoTGVuZ3RoKDdiaXQpLCBsZW5ndGggKEJFKV1cbiAgICAgICAgICAgICAgICBjb25zdCBsZW5MZW4gPSBmaXJzdCAmIDEyNztcbiAgICAgICAgICAgICAgICBpZiAoIWxlbkxlbilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5kZWNvZGUobG9uZyk6IGluZGVmaW5pdGUgbGVuZ3RoIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgICAgICAgICBpZiAobGVuTGVuID4gNClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5kZWNvZGUobG9uZyk6IGJ5dGUgbGVuZ3RoIGlzIHRvbyBiaWcnKTsgLy8gdGhpcyB3aWxsIG92ZXJmbG93IHUzMiBpbiBqc1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aEJ5dGVzID0gZGF0YS5zdWJhcnJheShwb3MsIHBvcyArIGxlbkxlbik7XG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aEJ5dGVzLmxlbmd0aCAhPT0gbGVuTGVuKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmRlY29kZTogbGVuZ3RoIGJ5dGVzIG5vdCBjb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChsZW5ndGhCeXRlc1swXSA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5kZWNvZGUobG9uZyk6IHplcm8gbGVmdG1vc3QgYnl0ZScpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYiBvZiBsZW5ndGhCeXRlcylcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoID0gKGxlbmd0aCA8PCA4KSB8IGI7XG4gICAgICAgICAgICAgICAgcG9zICs9IGxlbkxlbjtcbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoIDwgMTI4KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmRlY29kZShsb25nKTogbm90IG1pbmltYWwgZW5jb2RpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHYgPSBkYXRhLnN1YmFycmF5KHBvcywgcG9zICsgbGVuZ3RoKTtcbiAgICAgICAgICAgIGlmICh2Lmxlbmd0aCAhPT0gbGVuZ3RoKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZGVjb2RlOiB3cm9uZyB2YWx1ZSBsZW5ndGgnKTtcbiAgICAgICAgICAgIHJldHVybiB7IHYsIGw6IGRhdGEuc3ViYXJyYXkocG9zICsgbGVuZ3RoKSB9O1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgLy8gaHR0cHM6Ly9jcnlwdG8uc3RhY2tleGNoYW5nZS5jb20vYS81NzczNCBMZWZ0bW9zdCBiaXQgb2YgZmlyc3QgYnl0ZSBpcyAnbmVnYXRpdmUnIGZsYWcsXG4gICAgLy8gc2luY2Ugd2UgYWx3YXlzIHVzZSBwb3NpdGl2ZSBpbnRlZ2VycyBoZXJlLiBJdCBtdXN0IGFsd2F5cyBiZSBlbXB0eTpcbiAgICAvLyAtIGFkZCB6ZXJvIGJ5dGUgaWYgZXhpc3RzXG4gICAgLy8gLSBpZiBuZXh0IGJ5dGUgZG9lc24ndCBoYXZlIGEgZmxhZywgbGVhZGluZyB6ZXJvIGlzIG5vdCBhbGxvd2VkIChtaW5pbWFsIGVuY29kaW5nKVxuICAgIF9pbnQ6IHtcbiAgICAgICAgZW5jb2RlKG51bSkge1xuICAgICAgICAgICAgY29uc3QgeyBFcnI6IEUgfSA9IERFUjtcbiAgICAgICAgICAgIGlmIChudW0gPCBfMG4pXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ2ludGVnZXI6IG5lZ2F0aXZlIGludGVnZXJzIGFyZSBub3QgYWxsb3dlZCcpO1xuICAgICAgICAgICAgbGV0IGhleCA9IHV0Lm51bWJlclRvSGV4VW5wYWRkZWQobnVtKTtcbiAgICAgICAgICAgIC8vIFBhZCB3aXRoIHplcm8gYnl0ZSBpZiBuZWdhdGl2ZSBmbGFnIGlzIHByZXNlbnRcbiAgICAgICAgICAgIGlmIChOdW1iZXIucGFyc2VJbnQoaGV4WzBdLCAxNikgJiAwYjEwMDApXG4gICAgICAgICAgICAgICAgaGV4ID0gJzAwJyArIGhleDtcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoICYgMSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndW5leHBlY3RlZCBERVIgcGFyc2luZyBhc3NlcnRpb246IHVucGFkZGVkIGhleCcpO1xuICAgICAgICAgICAgcmV0dXJuIGhleDtcbiAgICAgICAgfSxcbiAgICAgICAgZGVjb2RlKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgRXJyOiBFIH0gPSBERVI7XG4gICAgICAgICAgICBpZiAoZGF0YVswXSAmIDEyOClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgnaW52YWxpZCBzaWduYXR1cmUgaW50ZWdlcjogbmVnYXRpdmUnKTtcbiAgICAgICAgICAgIGlmIChkYXRhWzBdID09PSAweDAwICYmICEoZGF0YVsxXSAmIDEyOCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ2ludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IHVubmVjZXNzYXJ5IGxlYWRpbmcgemVybycpO1xuICAgICAgICAgICAgcmV0dXJuIGIybihkYXRhKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHRvU2lnKGhleCkge1xuICAgICAgICAvLyBwYXJzZSBERVIgc2lnbmF0dXJlXG4gICAgICAgIGNvbnN0IHsgRXJyOiBFLCBfaW50OiBpbnQsIF90bHY6IHRsdiB9ID0gREVSO1xuICAgICAgICBjb25zdCBkYXRhID0gdHlwZW9mIGhleCA9PT0gJ3N0cmluZycgPyBoMmIoaGV4KSA6IGhleDtcbiAgICAgICAgdXQuYWJ5dGVzKGRhdGEpO1xuICAgICAgICBjb25zdCB7IHY6IHNlcUJ5dGVzLCBsOiBzZXFMZWZ0Qnl0ZXMgfSA9IHRsdi5kZWNvZGUoMHgzMCwgZGF0YSk7XG4gICAgICAgIGlmIChzZXFMZWZ0Qnl0ZXMubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ2ludmFsaWQgc2lnbmF0dXJlOiBsZWZ0IGJ5dGVzIGFmdGVyIHBhcnNpbmcnKTtcbiAgICAgICAgY29uc3QgeyB2OiByQnl0ZXMsIGw6IHJMZWZ0Qnl0ZXMgfSA9IHRsdi5kZWNvZGUoMHgwMiwgc2VxQnl0ZXMpO1xuICAgICAgICBjb25zdCB7IHY6IHNCeXRlcywgbDogc0xlZnRCeXRlcyB9ID0gdGx2LmRlY29kZSgweDAyLCByTGVmdEJ5dGVzKTtcbiAgICAgICAgaWYgKHNMZWZ0Qnl0ZXMubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ2ludmFsaWQgc2lnbmF0dXJlOiBsZWZ0IGJ5dGVzIGFmdGVyIHBhcnNpbmcnKTtcbiAgICAgICAgcmV0dXJuIHsgcjogaW50LmRlY29kZShyQnl0ZXMpLCBzOiBpbnQuZGVjb2RlKHNCeXRlcykgfTtcbiAgICB9LFxuICAgIGhleEZyb21TaWcoc2lnKSB7XG4gICAgICAgIGNvbnN0IHsgX3RsdjogdGx2LCBfaW50OiBpbnQgfSA9IERFUjtcbiAgICAgICAgY29uc3QgcnMgPSB0bHYuZW5jb2RlKDB4MDIsIGludC5lbmNvZGUoc2lnLnIpKTtcbiAgICAgICAgY29uc3Qgc3MgPSB0bHYuZW5jb2RlKDB4MDIsIGludC5lbmNvZGUoc2lnLnMpKTtcbiAgICAgICAgY29uc3Qgc2VxID0gcnMgKyBzcztcbiAgICAgICAgcmV0dXJuIHRsdi5lbmNvZGUoMHgzMCwgc2VxKTtcbiAgICB9LFxufTtcbi8vIEJlIGZyaWVuZGx5IHRvIGJhZCBFQ01BU2NyaXB0IHBhcnNlcnMgYnkgbm90IHVzaW5nIGJpZ2ludCBsaXRlcmFsc1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBfMG4gPSBCaWdJbnQoMCksIF8xbiA9IEJpZ0ludCgxKSwgXzJuID0gQmlnSW50KDIpLCBfM24gPSBCaWdJbnQoMyksIF80biA9IEJpZ0ludCg0KTtcbmV4cG9ydCBmdW5jdGlvbiB3ZWllcnN0cmFzc1BvaW50cyhvcHRzKSB7XG4gICAgY29uc3QgQ1VSVkUgPSB2YWxpZGF0ZVBvaW50T3B0cyhvcHRzKTtcbiAgICBjb25zdCB7IEZwIH0gPSBDVVJWRTsgLy8gQWxsIGN1cnZlcyBoYXMgc2FtZSBmaWVsZCAvIGdyb3VwIGxlbmd0aCBhcyBmb3Igbm93LCBidXQgdGhleSBjYW4gZGlmZmVyXG4gICAgY29uc3QgRm4gPSBGaWVsZChDVVJWRS5uLCBDVVJWRS5uQml0TGVuZ3RoKTtcbiAgICBjb25zdCB0b0J5dGVzID0gQ1VSVkUudG9CeXRlcyB8fFxuICAgICAgICAoKF9jLCBwb2ludCwgX2lzQ29tcHJlc3NlZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYSA9IHBvaW50LnRvQWZmaW5lKCk7XG4gICAgICAgICAgICByZXR1cm4gdXQuY29uY2F0Qnl0ZXMoVWludDhBcnJheS5mcm9tKFsweDA0XSksIEZwLnRvQnl0ZXMoYS54KSwgRnAudG9CeXRlcyhhLnkpKTtcbiAgICAgICAgfSk7XG4gICAgY29uc3QgZnJvbUJ5dGVzID0gQ1VSVkUuZnJvbUJ5dGVzIHx8XG4gICAgICAgICgoYnl0ZXMpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnN0IGhlYWQgPSBieXRlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHRhaWwgPSBieXRlcy5zdWJhcnJheSgxKTtcbiAgICAgICAgICAgIC8vIGlmIChoZWFkICE9PSAweDA0KSB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgbm9uLWNvbXByZXNzZWQgZW5jb2RpbmcgaXMgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgICBjb25zdCB4ID0gRnAuZnJvbUJ5dGVzKHRhaWwuc3ViYXJyYXkoMCwgRnAuQllURVMpKTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBGcC5mcm9tQnl0ZXModGFpbC5zdWJhcnJheShGcC5CWVRFUywgMiAqIEZwLkJZVEVTKSk7XG4gICAgICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgICAgIH0pO1xuICAgIC8qKlxuICAgICAqIHnCsiA9IHjCsyArIGF4ICsgYjogU2hvcnQgd2VpZXJzdHJhc3MgY3VydmUgZm9ybXVsYVxuICAgICAqIEByZXR1cm5zIHnCslxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdlaWVyc3RyYXNzRXF1YXRpb24oeCkge1xuICAgICAgICBjb25zdCB7IGEsIGIgfSA9IENVUlZFO1xuICAgICAgICBjb25zdCB4MiA9IEZwLnNxcih4KTsgLy8geCAqIHhcbiAgICAgICAgY29uc3QgeDMgPSBGcC5tdWwoeDIsIHgpOyAvLyB4MiAqIHhcbiAgICAgICAgcmV0dXJuIEZwLmFkZChGcC5hZGQoeDMsIEZwLm11bCh4LCBhKSksIGIpOyAvLyB4MyArIGEgKiB4ICsgYlxuICAgIH1cbiAgICAvLyBWYWxpZGF0ZSB3aGV0aGVyIHRoZSBwYXNzZWQgY3VydmUgcGFyYW1zIGFyZSB2YWxpZC5cbiAgICAvLyBXZSBjaGVjayBpZiBjdXJ2ZSBlcXVhdGlvbiB3b3JrcyBmb3IgZ2VuZXJhdG9yIHBvaW50LlxuICAgIC8vIGBhc3NlcnRWYWxpZGl0eSgpYCB3b24ndCB3b3JrOiBgaXNUb3JzaW9uRnJlZSgpYCBpcyBub3QgYXZhaWxhYmxlIGF0IHRoaXMgcG9pbnQgaW4gYmxzMTItMzgxLlxuICAgIC8vIFByb2plY3RpdmVQb2ludCBjbGFzcyBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQgeWV0LlxuICAgIGlmICghRnAuZXFsKEZwLnNxcihDVVJWRS5HeSksIHdlaWVyc3RyYXNzRXF1YXRpb24oQ1VSVkUuR3gpKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgZ2VuZXJhdG9yIHBvaW50OiBlcXVhdGlvbiBsZWZ0ICE9IHJpZ2h0Jyk7XG4gICAgLy8gVmFsaWQgZ3JvdXAgZWxlbWVudHMgcmVzaWRlIGluIHJhbmdlIDEuLm4tMVxuICAgIGZ1bmN0aW9uIGlzV2l0aGluQ3VydmVPcmRlcihudW0pIHtcbiAgICAgICAgcmV0dXJuIHV0LmluUmFuZ2UobnVtLCBfMW4sIENVUlZFLm4pO1xuICAgIH1cbiAgICAvLyBWYWxpZGF0ZXMgaWYgcHJpdiBrZXkgaXMgdmFsaWQgYW5kIGNvbnZlcnRzIGl0IHRvIGJpZ2ludC5cbiAgICAvLyBTdXBwb3J0cyBvcHRpb25zIGFsbG93ZWRQcml2YXRlS2V5TGVuZ3RocyBhbmQgd3JhcFByaXZhdGVLZXkuXG4gICAgZnVuY3Rpb24gbm9ybVByaXZhdGVLZXlUb1NjYWxhcihrZXkpIHtcbiAgICAgICAgY29uc3QgeyBhbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHM6IGxlbmd0aHMsIG5CeXRlTGVuZ3RoLCB3cmFwUHJpdmF0ZUtleSwgbjogTiB9ID0gQ1VSVkU7XG4gICAgICAgIGlmIChsZW5ndGhzICYmIHR5cGVvZiBrZXkgIT09ICdiaWdpbnQnKSB7XG4gICAgICAgICAgICBpZiAodXQuaXNCeXRlcyhrZXkpKVxuICAgICAgICAgICAgICAgIGtleSA9IHV0LmJ5dGVzVG9IZXgoa2V5KTtcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSB0byBoZXggc3RyaW5nLCBwYWQuIEUuZy4gUDUyMSB3b3VsZCBub3JtIDEzMC0xMzIgY2hhciBoZXggdG8gMTMyLWNoYXIgYnl0ZXNcbiAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJyB8fCAhbGVuZ3Rocy5pbmNsdWRlcyhrZXkubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcHJpdmF0ZSBrZXknKTtcbiAgICAgICAgICAgIGtleSA9IGtleS5wYWRTdGFydChuQnl0ZUxlbmd0aCAqIDIsICcwJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG51bTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG51bSA9XG4gICAgICAgICAgICAgICAgdHlwZW9mIGtleSA9PT0gJ2JpZ2ludCdcbiAgICAgICAgICAgICAgICAgICAgPyBrZXlcbiAgICAgICAgICAgICAgICAgICAgOiB1dC5ieXRlc1RvTnVtYmVyQkUoZW5zdXJlQnl0ZXMoJ3ByaXZhdGUga2V5Jywga2V5LCBuQnl0ZUxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHByaXZhdGUga2V5LCBleHBlY3RlZCBoZXggb3IgJyArIG5CeXRlTGVuZ3RoICsgJyBieXRlcywgZ290ICcgKyB0eXBlb2Yga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod3JhcFByaXZhdGVLZXkpXG4gICAgICAgICAgICBudW0gPSBtb2QobnVtLCBOKTsgLy8gZGlzYWJsZWQgYnkgZGVmYXVsdCwgZW5hYmxlZCBmb3IgQkxTXG4gICAgICAgIHV0LmFJblJhbmdlKCdwcml2YXRlIGtleScsIG51bSwgXzFuLCBOKTsgLy8gbnVtIGluIHJhbmdlIFsxLi5OLTFdXG4gICAgICAgIHJldHVybiBudW07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFzc2VydFByalBvaW50KG90aGVyKSB7XG4gICAgICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgUG9pbnQpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9qZWN0aXZlUG9pbnQgZXhwZWN0ZWQnKTtcbiAgICB9XG4gICAgLy8gTWVtb2l6ZWQgdG9BZmZpbmUgLyB2YWxpZGl0eSBjaGVjay4gVGhleSBhcmUgaGVhdnkuIFBvaW50cyBhcmUgaW1tdXRhYmxlLlxuICAgIC8vIENvbnZlcnRzIFByb2plY3RpdmUgcG9pbnQgdG8gYWZmaW5lICh4LCB5KSBjb29yZGluYXRlcy5cbiAgICAvLyBDYW4gYWNjZXB0IHByZWNvbXB1dGVkIFpeLTEgLSBmb3IgZXhhbXBsZSwgZnJvbSBpbnZlcnRCYXRjaC5cbiAgICAvLyAoeCwgeSwgeikg4oiLICh4PXgveiwgeT15L3opXG4gICAgY29uc3QgdG9BZmZpbmVNZW1vID0gbWVtb2l6ZWQoKHAsIGl6KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgcHg6IHgsIHB5OiB5LCBwejogeiB9ID0gcDtcbiAgICAgICAgLy8gRmFzdC1wYXRoIGZvciBub3JtYWxpemVkIHBvaW50c1xuICAgICAgICBpZiAoRnAuZXFsKHosIEZwLk9ORSkpXG4gICAgICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgICAgIGNvbnN0IGlzMCA9IHAuaXMwKCk7XG4gICAgICAgIC8vIElmIGludlogd2FzIDAsIHdlIHJldHVybiB6ZXJvIHBvaW50LiBIb3dldmVyIHdlIHN0aWxsIHdhbnQgdG8gZXhlY3V0ZVxuICAgICAgICAvLyBhbGwgb3BlcmF0aW9ucywgc28gd2UgcmVwbGFjZSBpbnZaIHdpdGggYSByYW5kb20gbnVtYmVyLCAxLlxuICAgICAgICBpZiAoaXogPT0gbnVsbClcbiAgICAgICAgICAgIGl6ID0gaXMwID8gRnAuT05FIDogRnAuaW52KHopO1xuICAgICAgICBjb25zdCBheCA9IEZwLm11bCh4LCBpeik7XG4gICAgICAgIGNvbnN0IGF5ID0gRnAubXVsKHksIGl6KTtcbiAgICAgICAgY29uc3QgenogPSBGcC5tdWwoeiwgaXopO1xuICAgICAgICBpZiAoaXMwKVxuICAgICAgICAgICAgcmV0dXJuIHsgeDogRnAuWkVSTywgeTogRnAuWkVSTyB9O1xuICAgICAgICBpZiAoIUZwLmVxbCh6eiwgRnAuT05FKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52WiB3YXMgaW52YWxpZCcpO1xuICAgICAgICByZXR1cm4geyB4OiBheCwgeTogYXkgfTtcbiAgICB9KTtcbiAgICAvLyBOT1RFOiBvbiBleGNlcHRpb24gdGhpcyB3aWxsIGNyYXNoICdjYWNoZWQnIGFuZCBubyB2YWx1ZSB3aWxsIGJlIHNldC5cbiAgICAvLyBPdGhlcndpc2UgdHJ1ZSB3aWxsIGJlIHJldHVyblxuICAgIGNvbnN0IGFzc2VydFZhbGlkTWVtbyA9IG1lbW9pemVkKChwKSA9PiB7XG4gICAgICAgIGlmIChwLmlzMCgpKSB7XG4gICAgICAgICAgICAvLyAoMCwgMSwgMCkgYWthIFpFUk8gaXMgaW52YWxpZCBpbiBtb3N0IGNvbnRleHRzLlxuICAgICAgICAgICAgLy8gSW4gQkxTLCBaRVJPIGNhbiBiZSBzZXJpYWxpemVkLCBzbyB3ZSBhbGxvdyBpdC5cbiAgICAgICAgICAgIC8vICgwLCAwLCAwKSBpcyBpbnZhbGlkIHJlcHJlc2VudGF0aW9uIG9mIFpFUk8uXG4gICAgICAgICAgICBpZiAoQ1VSVkUuYWxsb3dJbmZpbml0eVBvaW50ICYmICFGcC5pczAocC5weSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgcG9pbnQ6IFpFUk8nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTb21lIDNyZC1wYXJ0eSB0ZXN0IHZlY3RvcnMgcmVxdWlyZSBkaWZmZXJlbnQgd29yZGluZyBiZXR3ZWVuIGhlcmUgJiBgZnJvbUNvbXByZXNzZWRIZXhgXG4gICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gcC50b0FmZmluZSgpO1xuICAgICAgICAvLyBDaGVjayBpZiB4LCB5IGFyZSB2YWxpZCBmaWVsZCBlbGVtZW50c1xuICAgICAgICBpZiAoIUZwLmlzVmFsaWQoeCkgfHwgIUZwLmlzVmFsaWQoeSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBwb2ludDogeCBvciB5IG5vdCBGRScpO1xuICAgICAgICBjb25zdCBsZWZ0ID0gRnAuc3FyKHkpOyAvLyB5wrJcbiAgICAgICAgY29uc3QgcmlnaHQgPSB3ZWllcnN0cmFzc0VxdWF0aW9uKHgpOyAvLyB4wrMgKyBheCArIGJcbiAgICAgICAgaWYgKCFGcC5lcWwobGVmdCwgcmlnaHQpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgcG9pbnQ6IGVxdWF0aW9uIGxlZnQgIT0gcmlnaHQnKTtcbiAgICAgICAgaWYgKCFwLmlzVG9yc2lvbkZyZWUoKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIHBvaW50OiBub3QgaW4gcHJpbWUtb3JkZXIgc3ViZ3JvdXAnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUHJvamVjdGl2ZSBQb2ludCB3b3JrcyBpbiAzZCAvIHByb2plY3RpdmUgKGhvbW9nZW5lb3VzKSBjb29yZGluYXRlczogKHgsIHksIHopIOKIiyAoeD14L3osIHk9eS96KVxuICAgICAqIERlZmF1bHQgUG9pbnQgd29ya3MgaW4gMmQgLyBhZmZpbmUgY29vcmRpbmF0ZXM6ICh4LCB5KVxuICAgICAqIFdlJ3JlIGRvaW5nIGNhbGN1bGF0aW9ucyBpbiBwcm9qZWN0aXZlLCBiZWNhdXNlIGl0cyBvcGVyYXRpb25zIGRvbid0IHJlcXVpcmUgY29zdGx5IGludmVyc2lvbi5cbiAgICAgKi9cbiAgICBjbGFzcyBQb2ludCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHB4LCBweSwgcHopIHtcbiAgICAgICAgICAgIHRoaXMucHggPSBweDtcbiAgICAgICAgICAgIHRoaXMucHkgPSBweTtcbiAgICAgICAgICAgIHRoaXMucHogPSBwejtcbiAgICAgICAgICAgIGlmIChweCA9PSBudWxsIHx8ICFGcC5pc1ZhbGlkKHB4KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3ggcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIGlmIChweSA9PSBudWxsIHx8ICFGcC5pc1ZhbGlkKHB5KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3kgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIGlmIChweiA9PSBudWxsIHx8ICFGcC5pc1ZhbGlkKHB6KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3ogcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG9lcyBub3QgdmFsaWRhdGUgaWYgdGhlIHBvaW50IGlzIG9uLWN1cnZlLlxuICAgICAgICAvLyBVc2UgZnJvbUhleCBpbnN0ZWFkLCBvciBjYWxsIGFzc2VydFZhbGlkaXR5KCkgbGF0ZXIuXG4gICAgICAgIHN0YXRpYyBmcm9tQWZmaW5lKHApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gcCB8fCB7fTtcbiAgICAgICAgICAgIGlmICghcCB8fCAhRnAuaXNWYWxpZCh4KSB8fCAhRnAuaXNWYWxpZCh5KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgYWZmaW5lIHBvaW50Jyk7XG4gICAgICAgICAgICBpZiAocCBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncHJvamVjdGl2ZSBwb2ludCBub3QgYWxsb3dlZCcpO1xuICAgICAgICAgICAgY29uc3QgaXMwID0gKGkpID0+IEZwLmVxbChpLCBGcC5aRVJPKTtcbiAgICAgICAgICAgIC8vIGZyb21BZmZpbmUoeDowLCB5OjApIHdvdWxkIHByb2R1Y2UgKHg6MCwgeTowLCB6OjEpLCBidXQgd2UgbmVlZCAoeDowLCB5OjEsIHo6MClcbiAgICAgICAgICAgIGlmIChpczAoeCkgJiYgaXMwKHkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBQb2ludC5aRVJPO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LCB5LCBGcC5PTkUpO1xuICAgICAgICB9XG4gICAgICAgIGdldCB4KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9BZmZpbmUoKS54O1xuICAgICAgICB9XG4gICAgICAgIGdldCB5KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9BZmZpbmUoKS55O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYWtlcyBhIGJ1bmNoIG9mIFByb2plY3RpdmUgUG9pbnRzIGJ1dCBleGVjdXRlcyBvbmx5IG9uZVxuICAgICAgICAgKiBpbnZlcnNpb24gb24gYWxsIG9mIHRoZW0uIEludmVyc2lvbiBpcyB2ZXJ5IHNsb3cgb3BlcmF0aW9uLFxuICAgICAgICAgKiBzbyB0aGlzIGltcHJvdmVzIHBlcmZvcm1hbmNlIG1hc3NpdmVseS5cbiAgICAgICAgICogT3B0aW1pemF0aW9uOiBjb252ZXJ0cyBhIGxpc3Qgb2YgcHJvamVjdGl2ZSBwb2ludHMgdG8gYSBsaXN0IG9mIGlkZW50aWNhbCBwb2ludHMgd2l0aCBaPTEuXG4gICAgICAgICAqL1xuICAgICAgICBzdGF0aWMgbm9ybWFsaXplWihwb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvSW52ID0gRnAuaW52ZXJ0QmF0Y2gocG9pbnRzLm1hcCgocCkgPT4gcC5weikpO1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50cy5tYXAoKHAsIGkpID0+IHAudG9BZmZpbmUodG9JbnZbaV0pKS5tYXAoUG9pbnQuZnJvbUFmZmluZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlcnRzIGhhc2ggc3RyaW5nIG9yIFVpbnQ4QXJyYXkgdG8gUG9pbnQuXG4gICAgICAgICAqIEBwYXJhbSBoZXggc2hvcnQvbG9uZyBFQ0RTQSBoZXhcbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyBmcm9tSGV4KGhleCkge1xuICAgICAgICAgICAgY29uc3QgUCA9IFBvaW50LmZyb21BZmZpbmUoZnJvbUJ5dGVzKGVuc3VyZUJ5dGVzKCdwb2ludEhleCcsIGhleCkpKTtcbiAgICAgICAgICAgIFAuYXNzZXJ0VmFsaWRpdHkoKTtcbiAgICAgICAgICAgIHJldHVybiBQO1xuICAgICAgICB9XG4gICAgICAgIC8vIE11bHRpcGxpZXMgZ2VuZXJhdG9yIHBvaW50IGJ5IHByaXZhdGVLZXkuXG4gICAgICAgIHN0YXRpYyBmcm9tUHJpdmF0ZUtleShwcml2YXRlS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gUG9pbnQuQkFTRS5tdWx0aXBseShub3JtUHJpdmF0ZUtleVRvU2NhbGFyKHByaXZhdGVLZXkpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNdWx0aXNjYWxhciBNdWx0aXBsaWNhdGlvblxuICAgICAgICBzdGF0aWMgbXNtKHBvaW50cywgc2NhbGFycykge1xuICAgICAgICAgICAgcmV0dXJuIHBpcHBlbmdlcihQb2ludCwgRm4sIHBvaW50cywgc2NhbGFycyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gXCJQcml2YXRlIG1ldGhvZFwiLCBkb24ndCB1c2UgaXQgZGlyZWN0bHlcbiAgICAgICAgX3NldFdpbmRvd1NpemUod2luZG93U2l6ZSkge1xuICAgICAgICAgICAgd25hZi5zZXRXaW5kb3dTaXplKHRoaXMsIHdpbmRvd1NpemUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEEgcG9pbnQgb24gY3VydmUgaXMgdmFsaWQgaWYgaXQgY29uZm9ybXMgdG8gZXF1YXRpb24uXG4gICAgICAgIGFzc2VydFZhbGlkaXR5KCkge1xuICAgICAgICAgICAgYXNzZXJ0VmFsaWRNZW1vKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGhhc0V2ZW5ZKCkge1xuICAgICAgICAgICAgY29uc3QgeyB5IH0gPSB0aGlzLnRvQWZmaW5lKCk7XG4gICAgICAgICAgICBpZiAoRnAuaXNPZGQpXG4gICAgICAgICAgICAgICAgcmV0dXJuICFGcC5pc09kZCh5KTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpZWxkIGRvZXNuJ3Qgc3VwcG9ydCBpc09kZFwiKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcGFyZSBvbmUgcG9pbnQgdG8gYW5vdGhlci5cbiAgICAgICAgICovXG4gICAgICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICAgICAgYXNzZXJ0UHJqUG9pbnQob3RoZXIpO1xuICAgICAgICAgICAgY29uc3QgeyBweDogWDEsIHB5OiBZMSwgcHo6IFoxIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBweDogWDIsIHB5OiBZMiwgcHo6IFoyIH0gPSBvdGhlcjtcbiAgICAgICAgICAgIGNvbnN0IFUxID0gRnAuZXFsKEZwLm11bChYMSwgWjIpLCBGcC5tdWwoWDIsIFoxKSk7XG4gICAgICAgICAgICBjb25zdCBVMiA9IEZwLmVxbChGcC5tdWwoWTEsIFoyKSwgRnAubXVsKFkyLCBaMSkpO1xuICAgICAgICAgICAgcmV0dXJuIFUxICYmIFUyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGlwcyBwb2ludCB0byBvbmUgY29ycmVzcG9uZGluZyB0byAoeCwgLXkpIGluIEFmZmluZSBjb29yZGluYXRlcy5cbiAgICAgICAgICovXG4gICAgICAgIG5lZ2F0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy5weCwgRnAubmVnKHRoaXMucHkpLCB0aGlzLnB6KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW5lcy1Db3N0ZWxsby1CYXRpbmEgZXhjZXB0aW9uLWZyZWUgZG91YmxpbmcgZm9ybXVsYS5cbiAgICAgICAgLy8gVGhlcmUgaXMgMzAlIGZhc3RlciBKYWNvYmlhbiBmb3JtdWxhLCBidXQgaXQgaXMgbm90IGNvbXBsZXRlLlxuICAgICAgICAvLyBodHRwczovL2VwcmludC5pYWNyLm9yZy8yMDE1LzEwNjAsIGFsZ29yaXRobSAzXG4gICAgICAgIC8vIENvc3Q6IDhNICsgM1MgKyAzKmEgKyAyKmIzICsgMTVhZGQuXG4gICAgICAgIGRvdWJsZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYSwgYiB9ID0gQ1VSVkU7XG4gICAgICAgICAgICBjb25zdCBiMyA9IEZwLm11bChiLCBfM24pO1xuICAgICAgICAgICAgY29uc3QgeyBweDogWDEsIHB5OiBZMSwgcHo6IFoxIH0gPSB0aGlzO1xuICAgICAgICAgICAgbGV0IFgzID0gRnAuWkVSTywgWTMgPSBGcC5aRVJPLCBaMyA9IEZwLlpFUk87IC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgbGV0IHQwID0gRnAubXVsKFgxLCBYMSk7IC8vIHN0ZXAgMVxuICAgICAgICAgICAgbGV0IHQxID0gRnAubXVsKFkxLCBZMSk7XG4gICAgICAgICAgICBsZXQgdDIgPSBGcC5tdWwoWjEsIFoxKTtcbiAgICAgICAgICAgIGxldCB0MyA9IEZwLm11bChYMSwgWTEpO1xuICAgICAgICAgICAgdDMgPSBGcC5hZGQodDMsIHQzKTsgLy8gc3RlcCA1XG4gICAgICAgICAgICBaMyA9IEZwLm11bChYMSwgWjEpO1xuICAgICAgICAgICAgWjMgPSBGcC5hZGQoWjMsIFozKTtcbiAgICAgICAgICAgIFgzID0gRnAubXVsKGEsIFozKTtcbiAgICAgICAgICAgIFkzID0gRnAubXVsKGIzLCB0Mik7XG4gICAgICAgICAgICBZMyA9IEZwLmFkZChYMywgWTMpOyAvLyBzdGVwIDEwXG4gICAgICAgICAgICBYMyA9IEZwLnN1Yih0MSwgWTMpO1xuICAgICAgICAgICAgWTMgPSBGcC5hZGQodDEsIFkzKTtcbiAgICAgICAgICAgIFkzID0gRnAubXVsKFgzLCBZMyk7XG4gICAgICAgICAgICBYMyA9IEZwLm11bCh0MywgWDMpO1xuICAgICAgICAgICAgWjMgPSBGcC5tdWwoYjMsIFozKTsgLy8gc3RlcCAxNVxuICAgICAgICAgICAgdDIgPSBGcC5tdWwoYSwgdDIpO1xuICAgICAgICAgICAgdDMgPSBGcC5zdWIodDAsIHQyKTtcbiAgICAgICAgICAgIHQzID0gRnAubXVsKGEsIHQzKTtcbiAgICAgICAgICAgIHQzID0gRnAuYWRkKHQzLCBaMyk7XG4gICAgICAgICAgICBaMyA9IEZwLmFkZCh0MCwgdDApOyAvLyBzdGVwIDIwXG4gICAgICAgICAgICB0MCA9IEZwLmFkZChaMywgdDApO1xuICAgICAgICAgICAgdDAgPSBGcC5hZGQodDAsIHQyKTtcbiAgICAgICAgICAgIHQwID0gRnAubXVsKHQwLCB0Myk7XG4gICAgICAgICAgICBZMyA9IEZwLmFkZChZMywgdDApO1xuICAgICAgICAgICAgdDIgPSBGcC5tdWwoWTEsIFoxKTsgLy8gc3RlcCAyNVxuICAgICAgICAgICAgdDIgPSBGcC5hZGQodDIsIHQyKTtcbiAgICAgICAgICAgIHQwID0gRnAubXVsKHQyLCB0Myk7XG4gICAgICAgICAgICBYMyA9IEZwLnN1YihYMywgdDApO1xuICAgICAgICAgICAgWjMgPSBGcC5tdWwodDIsIHQxKTtcbiAgICAgICAgICAgIFozID0gRnAuYWRkKFozLCBaMyk7IC8vIHN0ZXAgMzBcbiAgICAgICAgICAgIFozID0gRnAuYWRkKFozLCBaMyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KFgzLCBZMywgWjMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmVzLUNvc3RlbGxvLUJhdGluYSBleGNlcHRpb24tZnJlZSBhZGRpdGlvbiBmb3JtdWxhLlxuICAgICAgICAvLyBUaGVyZSBpcyAzMCUgZmFzdGVyIEphY29iaWFuIGZvcm11bGEsIGJ1dCBpdCBpcyBub3QgY29tcGxldGUuXG4gICAgICAgIC8vIGh0dHBzOi8vZXByaW50LmlhY3Iub3JnLzIwMTUvMTA2MCwgYWxnb3JpdGhtIDFcbiAgICAgICAgLy8gQ29zdDogMTJNICsgMFMgKyAzKmEgKyAzKmIzICsgMjNhZGQuXG4gICAgICAgIGFkZChvdGhlcikge1xuICAgICAgICAgICAgYXNzZXJ0UHJqUG9pbnQob3RoZXIpO1xuICAgICAgICAgICAgY29uc3QgeyBweDogWDEsIHB5OiBZMSwgcHo6IFoxIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBweDogWDIsIHB5OiBZMiwgcHo6IFoyIH0gPSBvdGhlcjtcbiAgICAgICAgICAgIGxldCBYMyA9IEZwLlpFUk8sIFkzID0gRnAuWkVSTywgWjMgPSBGcC5aRVJPOyAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IGEgPSBDVVJWRS5hO1xuICAgICAgICAgICAgY29uc3QgYjMgPSBGcC5tdWwoQ1VSVkUuYiwgXzNuKTtcbiAgICAgICAgICAgIGxldCB0MCA9IEZwLm11bChYMSwgWDIpOyAvLyBzdGVwIDFcbiAgICAgICAgICAgIGxldCB0MSA9IEZwLm11bChZMSwgWTIpO1xuICAgICAgICAgICAgbGV0IHQyID0gRnAubXVsKFoxLCBaMik7XG4gICAgICAgICAgICBsZXQgdDMgPSBGcC5hZGQoWDEsIFkxKTtcbiAgICAgICAgICAgIGxldCB0NCA9IEZwLmFkZChYMiwgWTIpOyAvLyBzdGVwIDVcbiAgICAgICAgICAgIHQzID0gRnAubXVsKHQzLCB0NCk7XG4gICAgICAgICAgICB0NCA9IEZwLmFkZCh0MCwgdDEpO1xuICAgICAgICAgICAgdDMgPSBGcC5zdWIodDMsIHQ0KTtcbiAgICAgICAgICAgIHQ0ID0gRnAuYWRkKFgxLCBaMSk7XG4gICAgICAgICAgICBsZXQgdDUgPSBGcC5hZGQoWDIsIFoyKTsgLy8gc3RlcCAxMFxuICAgICAgICAgICAgdDQgPSBGcC5tdWwodDQsIHQ1KTtcbiAgICAgICAgICAgIHQ1ID0gRnAuYWRkKHQwLCB0Mik7XG4gICAgICAgICAgICB0NCA9IEZwLnN1Yih0NCwgdDUpO1xuICAgICAgICAgICAgdDUgPSBGcC5hZGQoWTEsIFoxKTtcbiAgICAgICAgICAgIFgzID0gRnAuYWRkKFkyLCBaMik7IC8vIHN0ZXAgMTVcbiAgICAgICAgICAgIHQ1ID0gRnAubXVsKHQ1LCBYMyk7XG4gICAgICAgICAgICBYMyA9IEZwLmFkZCh0MSwgdDIpO1xuICAgICAgICAgICAgdDUgPSBGcC5zdWIodDUsIFgzKTtcbiAgICAgICAgICAgIFozID0gRnAubXVsKGEsIHQ0KTtcbiAgICAgICAgICAgIFgzID0gRnAubXVsKGIzLCB0Mik7IC8vIHN0ZXAgMjBcbiAgICAgICAgICAgIFozID0gRnAuYWRkKFgzLCBaMyk7XG4gICAgICAgICAgICBYMyA9IEZwLnN1Yih0MSwgWjMpO1xuICAgICAgICAgICAgWjMgPSBGcC5hZGQodDEsIFozKTtcbiAgICAgICAgICAgIFkzID0gRnAubXVsKFgzLCBaMyk7XG4gICAgICAgICAgICB0MSA9IEZwLmFkZCh0MCwgdDApOyAvLyBzdGVwIDI1XG4gICAgICAgICAgICB0MSA9IEZwLmFkZCh0MSwgdDApO1xuICAgICAgICAgICAgdDIgPSBGcC5tdWwoYSwgdDIpO1xuICAgICAgICAgICAgdDQgPSBGcC5tdWwoYjMsIHQ0KTtcbiAgICAgICAgICAgIHQxID0gRnAuYWRkKHQxLCB0Mik7XG4gICAgICAgICAgICB0MiA9IEZwLnN1Yih0MCwgdDIpOyAvLyBzdGVwIDMwXG4gICAgICAgICAgICB0MiA9IEZwLm11bChhLCB0Mik7XG4gICAgICAgICAgICB0NCA9IEZwLmFkZCh0NCwgdDIpO1xuICAgICAgICAgICAgdDAgPSBGcC5tdWwodDEsIHQ0KTtcbiAgICAgICAgICAgIFkzID0gRnAuYWRkKFkzLCB0MCk7XG4gICAgICAgICAgICB0MCA9IEZwLm11bCh0NSwgdDQpOyAvLyBzdGVwIDM1XG4gICAgICAgICAgICBYMyA9IEZwLm11bCh0MywgWDMpO1xuICAgICAgICAgICAgWDMgPSBGcC5zdWIoWDMsIHQwKTtcbiAgICAgICAgICAgIHQwID0gRnAubXVsKHQzLCB0MSk7XG4gICAgICAgICAgICBaMyA9IEZwLm11bCh0NSwgWjMpO1xuICAgICAgICAgICAgWjMgPSBGcC5hZGQoWjMsIHQwKTsgLy8gc3RlcCA0MFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludChYMywgWTMsIFozKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJ0cmFjdChvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkKG90aGVyLm5lZ2F0ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBpczAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcXVhbHMoUG9pbnQuWkVSTyk7XG4gICAgICAgIH1cbiAgICAgICAgd05BRihuKSB7XG4gICAgICAgICAgICByZXR1cm4gd25hZi53TkFGQ2FjaGVkKHRoaXMsIG4sIFBvaW50Lm5vcm1hbGl6ZVopO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb24tY29uc3RhbnQtdGltZSBtdWx0aXBsaWNhdGlvbi4gVXNlcyBkb3VibGUtYW5kLWFkZCBhbGdvcml0aG0uXG4gICAgICAgICAqIEl0J3MgZmFzdGVyLCBidXQgc2hvdWxkIG9ubHkgYmUgdXNlZCB3aGVuIHlvdSBkb24ndCBjYXJlIGFib3V0XG4gICAgICAgICAqIGFuIGV4cG9zZWQgcHJpdmF0ZSBrZXkgZS5nLiBzaWcgdmVyaWZpY2F0aW9uLCB3aGljaCB3b3JrcyBvdmVyICpwdWJsaWMqIGtleXMuXG4gICAgICAgICAqL1xuICAgICAgICBtdWx0aXBseVVuc2FmZShzYykge1xuICAgICAgICAgICAgY29uc3QgeyBlbmRvLCBuOiBOIH0gPSBDVVJWRTtcbiAgICAgICAgICAgIHV0LmFJblJhbmdlKCdzY2FsYXInLCBzYywgXzBuLCBOKTtcbiAgICAgICAgICAgIGNvbnN0IEkgPSBQb2ludC5aRVJPO1xuICAgICAgICAgICAgaWYgKHNjID09PSBfMG4pXG4gICAgICAgICAgICAgICAgcmV0dXJuIEk7XG4gICAgICAgICAgICBpZiAodGhpcy5pczAoKSB8fCBzYyA9PT0gXzFuKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgLy8gQ2FzZSBhOiBubyBlbmRvbW9ycGhpc20uIENhc2UgYjogaGFzIHByZWNvbXB1dGVzLlxuICAgICAgICAgICAgaWYgKCFlbmRvIHx8IHduYWYuaGFzUHJlY29tcHV0ZXModGhpcykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHduYWYud05BRkNhY2hlZFVuc2FmZSh0aGlzLCBzYywgUG9pbnQubm9ybWFsaXplWik7XG4gICAgICAgICAgICAvLyBDYXNlIGM6IGVuZG9tb3JwaGlzbVxuICAgICAgICAgICAgbGV0IHsgazFuZWcsIGsxLCBrMm5lZywgazIgfSA9IGVuZG8uc3BsaXRTY2FsYXIoc2MpO1xuICAgICAgICAgICAgbGV0IGsxcCA9IEk7XG4gICAgICAgICAgICBsZXQgazJwID0gSTtcbiAgICAgICAgICAgIGxldCBkID0gdGhpcztcbiAgICAgICAgICAgIHdoaWxlIChrMSA+IF8wbiB8fCBrMiA+IF8wbikge1xuICAgICAgICAgICAgICAgIGlmIChrMSAmIF8xbilcbiAgICAgICAgICAgICAgICAgICAgazFwID0gazFwLmFkZChkKTtcbiAgICAgICAgICAgICAgICBpZiAoazIgJiBfMW4pXG4gICAgICAgICAgICAgICAgICAgIGsycCA9IGsycC5hZGQoZCk7XG4gICAgICAgICAgICAgICAgZCA9IGQuZG91YmxlKCk7XG4gICAgICAgICAgICAgICAgazEgPj49IF8xbjtcbiAgICAgICAgICAgICAgICBrMiA+Pj0gXzFuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGsxbmVnKVxuICAgICAgICAgICAgICAgIGsxcCA9IGsxcC5uZWdhdGUoKTtcbiAgICAgICAgICAgIGlmIChrMm5lZylcbiAgICAgICAgICAgICAgICBrMnAgPSBrMnAubmVnYXRlKCk7XG4gICAgICAgICAgICBrMnAgPSBuZXcgUG9pbnQoRnAubXVsKGsycC5weCwgZW5kby5iZXRhKSwgazJwLnB5LCBrMnAucHopO1xuICAgICAgICAgICAgcmV0dXJuIGsxcC5hZGQoazJwKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RhbnQgdGltZSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgICAgICogVXNlcyB3TkFGIG1ldGhvZC4gV2luZG93ZWQgbWV0aG9kIG1heSBiZSAxMCUgZmFzdGVyLFxuICAgICAgICAgKiBidXQgdGFrZXMgMnggbG9uZ2VyIHRvIGdlbmVyYXRlIGFuZCBjb25zdW1lcyAyeCBtZW1vcnkuXG4gICAgICAgICAqIFVzZXMgcHJlY29tcHV0ZXMgd2hlbiBhdmFpbGFibGUuXG4gICAgICAgICAqIFVzZXMgZW5kb21vcnBoaXNtIGZvciBLb2JsaXR6IGN1cnZlcy5cbiAgICAgICAgICogQHBhcmFtIHNjYWxhciBieSB3aGljaCB0aGUgcG9pbnQgd291bGQgYmUgbXVsdGlwbGllZFxuICAgICAgICAgKiBAcmV0dXJucyBOZXcgcG9pbnRcbiAgICAgICAgICovXG4gICAgICAgIG11bHRpcGx5KHNjYWxhcikge1xuICAgICAgICAgICAgY29uc3QgeyBlbmRvLCBuOiBOIH0gPSBDVVJWRTtcbiAgICAgICAgICAgIHV0LmFJblJhbmdlKCdzY2FsYXInLCBzY2FsYXIsIF8xbiwgTik7XG4gICAgICAgICAgICBsZXQgcG9pbnQsIGZha2U7IC8vIEZha2UgcG9pbnQgaXMgdXNlZCB0byBjb25zdC10aW1lIG11bHRcbiAgICAgICAgICAgIGlmIChlbmRvKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBrMW5lZywgazEsIGsybmVnLCBrMiB9ID0gZW5kby5zcGxpdFNjYWxhcihzY2FsYXIpO1xuICAgICAgICAgICAgICAgIGxldCB7IHA6IGsxcCwgZjogZjFwIH0gPSB0aGlzLndOQUYoazEpO1xuICAgICAgICAgICAgICAgIGxldCB7IHA6IGsycCwgZjogZjJwIH0gPSB0aGlzLndOQUYoazIpO1xuICAgICAgICAgICAgICAgIGsxcCA9IHduYWYuY29uc3RUaW1lTmVnYXRlKGsxbmVnLCBrMXApO1xuICAgICAgICAgICAgICAgIGsycCA9IHduYWYuY29uc3RUaW1lTmVnYXRlKGsybmVnLCBrMnApO1xuICAgICAgICAgICAgICAgIGsycCA9IG5ldyBQb2ludChGcC5tdWwoazJwLnB4LCBlbmRvLmJldGEpLCBrMnAucHksIGsycC5weik7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBrMXAuYWRkKGsycCk7XG4gICAgICAgICAgICAgICAgZmFrZSA9IGYxcC5hZGQoZjJwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcCwgZiB9ID0gdGhpcy53TkFGKHNjYWxhcik7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBwO1xuICAgICAgICAgICAgICAgIGZha2UgPSBmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIGB6YCBmb3IgYm90aCBwb2ludHMsIGJ1dCByZXR1cm4gb25seSByZWFsIG9uZVxuICAgICAgICAgICAgcmV0dXJuIFBvaW50Lm5vcm1hbGl6ZVooW3BvaW50LCBmYWtlXSlbMF07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVmZmljaWVudGx5IGNhbGN1bGF0ZSBgYVAgKyBiUWAuIFVuc2FmZSwgY2FuIGV4cG9zZSBwcml2YXRlIGtleSwgaWYgdXNlZCBpbmNvcnJlY3RseS5cbiAgICAgICAgICogTm90IHVzaW5nIFN0cmF1c3MtU2hhbWlyIHRyaWNrOiBwcmVjb21wdXRhdGlvbiB0YWJsZXMgYXJlIGZhc3Rlci5cbiAgICAgICAgICogVGhlIHRyaWNrIGNvdWxkIGJlIHVzZWZ1bCBpZiBib3RoIFAgYW5kIFEgYXJlIG5vdCBHIChub3QgaW4gb3VyIGNhc2UpLlxuICAgICAgICAgKiBAcmV0dXJucyBub24temVybyBhZmZpbmUgcG9pbnRcbiAgICAgICAgICovXG4gICAgICAgIG11bHRpcGx5QW5kQWRkVW5zYWZlKFEsIGEsIGIpIHtcbiAgICAgICAgICAgIGNvbnN0IEcgPSBQb2ludC5CQVNFOyAvLyBObyBTdHJhdXNzLVNoYW1pciB0cmljazogd2UgaGF2ZSAxMCUgZmFzdGVyIEcgcHJlY29tcHV0ZXNcbiAgICAgICAgICAgIGNvbnN0IG11bCA9IChQLCBhIC8vIFNlbGVjdCBmYXN0ZXIgbXVsdGlwbHkoKSBtZXRob2RcbiAgICAgICAgICAgICkgPT4gKGEgPT09IF8wbiB8fCBhID09PSBfMW4gfHwgIVAuZXF1YWxzKEcpID8gUC5tdWx0aXBseVVuc2FmZShhKSA6IFAubXVsdGlwbHkoYSkpO1xuICAgICAgICAgICAgY29uc3Qgc3VtID0gbXVsKHRoaXMsIGEpLmFkZChtdWwoUSwgYikpO1xuICAgICAgICAgICAgcmV0dXJuIHN1bS5pczAoKSA/IHVuZGVmaW5lZCA6IHN1bTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb252ZXJ0cyBQcm9qZWN0aXZlIHBvaW50IHRvIGFmZmluZSAoeCwgeSkgY29vcmRpbmF0ZXMuXG4gICAgICAgIC8vIENhbiBhY2NlcHQgcHJlY29tcHV0ZWQgWl4tMSAtIGZvciBleGFtcGxlLCBmcm9tIGludmVydEJhdGNoLlxuICAgICAgICAvLyAoeCwgeSwgeikg4oiLICh4PXgveiwgeT15L3opXG4gICAgICAgIHRvQWZmaW5lKGl6KSB7XG4gICAgICAgICAgICByZXR1cm4gdG9BZmZpbmVNZW1vKHRoaXMsIGl6KTtcbiAgICAgICAgfVxuICAgICAgICBpc1RvcnNpb25GcmVlKCkge1xuICAgICAgICAgICAgY29uc3QgeyBoOiBjb2ZhY3RvciwgaXNUb3JzaW9uRnJlZSB9ID0gQ1VSVkU7XG4gICAgICAgICAgICBpZiAoY29mYWN0b3IgPT09IF8xbilcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gTm8gc3ViZ3JvdXBzLCBhbHdheXMgdG9yc2lvbi1mcmVlXG4gICAgICAgICAgICBpZiAoaXNUb3JzaW9uRnJlZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNUb3JzaW9uRnJlZShQb2ludCwgdGhpcyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lzVG9yc2lvbkZyZWUoKSBoYXMgbm90IGJlZW4gZGVjbGFyZWQgZm9yIHRoZSBlbGxpcHRpYyBjdXJ2ZScpO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyQ29mYWN0b3IoKSB7XG4gICAgICAgICAgICBjb25zdCB7IGg6IGNvZmFjdG9yLCBjbGVhckNvZmFjdG9yIH0gPSBDVVJWRTtcbiAgICAgICAgICAgIGlmIChjb2ZhY3RvciA9PT0gXzFuKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOyAvLyBGYXN0LXBhdGhcbiAgICAgICAgICAgIGlmIChjbGVhckNvZmFjdG9yKVxuICAgICAgICAgICAgICAgIHJldHVybiBjbGVhckNvZmFjdG9yKFBvaW50LCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5VW5zYWZlKENVUlZFLmgpO1xuICAgICAgICB9XG4gICAgICAgIHRvUmF3Qnl0ZXMoaXNDb21wcmVzc2VkID0gdHJ1ZSkge1xuICAgICAgICAgICAgYWJvb2woJ2lzQ29tcHJlc3NlZCcsIGlzQ29tcHJlc3NlZCk7XG4gICAgICAgICAgICB0aGlzLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgICAgICAgICByZXR1cm4gdG9CeXRlcyhQb2ludCwgdGhpcywgaXNDb21wcmVzc2VkKTtcbiAgICAgICAgfVxuICAgICAgICB0b0hleChpc0NvbXByZXNzZWQgPSB0cnVlKSB7XG4gICAgICAgICAgICBhYm9vbCgnaXNDb21wcmVzc2VkJywgaXNDb21wcmVzc2VkKTtcbiAgICAgICAgICAgIHJldHVybiB1dC5ieXRlc1RvSGV4KHRoaXMudG9SYXdCeXRlcyhpc0NvbXByZXNzZWQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBQb2ludC5CQVNFID0gbmV3IFBvaW50KENVUlZFLkd4LCBDVVJWRS5HeSwgRnAuT05FKTtcbiAgICBQb2ludC5aRVJPID0gbmV3IFBvaW50KEZwLlpFUk8sIEZwLk9ORSwgRnAuWkVSTyk7XG4gICAgY29uc3QgX2JpdHMgPSBDVVJWRS5uQml0TGVuZ3RoO1xuICAgIGNvbnN0IHduYWYgPSB3TkFGKFBvaW50LCBDVVJWRS5lbmRvID8gTWF0aC5jZWlsKF9iaXRzIC8gMikgOiBfYml0cyk7XG4gICAgLy8gVmFsaWRhdGUgaWYgZ2VuZXJhdG9yIHBvaW50IGlzIG9uIGN1cnZlXG4gICAgcmV0dXJuIHtcbiAgICAgICAgQ1VSVkUsXG4gICAgICAgIFByb2plY3RpdmVQb2ludDogUG9pbnQsXG4gICAgICAgIG5vcm1Qcml2YXRlS2V5VG9TY2FsYXIsXG4gICAgICAgIHdlaWVyc3RyYXNzRXF1YXRpb24sXG4gICAgICAgIGlzV2l0aGluQ3VydmVPcmRlcixcbiAgICB9O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVPcHRzKGN1cnZlKSB7XG4gICAgY29uc3Qgb3B0cyA9IHZhbGlkYXRlQmFzaWMoY3VydmUpO1xuICAgIHV0LnZhbGlkYXRlT2JqZWN0KG9wdHMsIHtcbiAgICAgICAgaGFzaDogJ2hhc2gnLFxuICAgICAgICBobWFjOiAnZnVuY3Rpb24nLFxuICAgICAgICByYW5kb21CeXRlczogJ2Z1bmN0aW9uJyxcbiAgICB9LCB7XG4gICAgICAgIGJpdHMyaW50OiAnZnVuY3Rpb24nLFxuICAgICAgICBiaXRzMmludF9tb2ROOiAnZnVuY3Rpb24nLFxuICAgICAgICBsb3dTOiAnYm9vbGVhbicsXG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoeyBsb3dTOiB0cnVlLCAuLi5vcHRzIH0pO1xufVxuLyoqXG4gKiBDcmVhdGVzIHNob3J0IHdlaWVyc3RyYXNzIGN1cnZlIGFuZCBFQ0RTQSBzaWduYXR1cmUgbWV0aG9kcyBmb3IgaXQuXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgRmllbGQgfSBmcm9tICdAbm9ibGUvY3VydmVzL2Fic3RyYWN0L21vZHVsYXInO1xuICogLy8gQmVmb3JlIHRoYXQsIGRlZmluZSBCaWdJbnQtczogYSwgYiwgcCwgbiwgR3gsIEd5XG4gKiBjb25zdCBjdXJ2ZSA9IHdlaWVyc3RyYXNzKHsgYSwgYiwgRnA6IEZpZWxkKHApLCBuLCBHeCwgR3ksIGg6IDFuIH0pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3ZWllcnN0cmFzcyhjdXJ2ZURlZikge1xuICAgIGNvbnN0IENVUlZFID0gdmFsaWRhdGVPcHRzKGN1cnZlRGVmKTtcbiAgICBjb25zdCB7IEZwLCBuOiBDVVJWRV9PUkRFUiB9ID0gQ1VSVkU7XG4gICAgY29uc3QgY29tcHJlc3NlZExlbiA9IEZwLkJZVEVTICsgMTsgLy8gZS5nLiAzMyBmb3IgMzJcbiAgICBjb25zdCB1bmNvbXByZXNzZWRMZW4gPSAyICogRnAuQllURVMgKyAxOyAvLyBlLmcuIDY1IGZvciAzMlxuICAgIGZ1bmN0aW9uIG1vZE4oYSkge1xuICAgICAgICByZXR1cm4gbW9kKGEsIENVUlZFX09SREVSKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW52TihhKSB7XG4gICAgICAgIHJldHVybiBpbnZlcnQoYSwgQ1VSVkVfT1JERVIpO1xuICAgIH1cbiAgICBjb25zdCB7IFByb2plY3RpdmVQb2ludDogUG9pbnQsIG5vcm1Qcml2YXRlS2V5VG9TY2FsYXIsIHdlaWVyc3RyYXNzRXF1YXRpb24sIGlzV2l0aGluQ3VydmVPcmRlciwgfSA9IHdlaWVyc3RyYXNzUG9pbnRzKHtcbiAgICAgICAgLi4uQ1VSVkUsXG4gICAgICAgIHRvQnl0ZXMoX2MsIHBvaW50LCBpc0NvbXByZXNzZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBwb2ludC50b0FmZmluZSgpO1xuICAgICAgICAgICAgY29uc3QgeCA9IEZwLnRvQnl0ZXMoYS54KTtcbiAgICAgICAgICAgIGNvbnN0IGNhdCA9IHV0LmNvbmNhdEJ5dGVzO1xuICAgICAgICAgICAgYWJvb2woJ2lzQ29tcHJlc3NlZCcsIGlzQ29tcHJlc3NlZCk7XG4gICAgICAgICAgICBpZiAoaXNDb21wcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhdChVaW50OEFycmF5LmZyb20oW3BvaW50Lmhhc0V2ZW5ZKCkgPyAweDAyIDogMHgwM10pLCB4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYXQoVWludDhBcnJheS5mcm9tKFsweDA0XSksIHgsIEZwLnRvQnl0ZXMoYS55KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZyb21CeXRlcyhieXRlcykge1xuICAgICAgICAgICAgY29uc3QgbGVuID0gYnl0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgaGVhZCA9IGJ5dGVzWzBdO1xuICAgICAgICAgICAgY29uc3QgdGFpbCA9IGJ5dGVzLnN1YmFycmF5KDEpO1xuICAgICAgICAgICAgLy8gdGhpcy5hc3NlcnRWYWxpZGl0eSgpIGlzIGRvbmUgaW5zaWRlIG9mIGZyb21IZXhcbiAgICAgICAgICAgIGlmIChsZW4gPT09IGNvbXByZXNzZWRMZW4gJiYgKGhlYWQgPT09IDB4MDIgfHwgaGVhZCA9PT0gMHgwMykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gdXQuYnl0ZXNUb051bWJlckJFKHRhaWwpO1xuICAgICAgICAgICAgICAgIGlmICghdXQuaW5SYW5nZSh4LCBfMW4sIEZwLk9SREVSKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQb2ludCBpcyBub3Qgb24gY3VydmUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCB5MiA9IHdlaWVyc3RyYXNzRXF1YXRpb24oeCk7IC8vIHnCsiA9IHjCsyArIGF4ICsgYlxuICAgICAgICAgICAgICAgIGxldCB5O1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBGcC5zcXJ0KHkyKTsgLy8geSA9IHnCsiBeIChwKzEpLzRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKHNxcnRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWZmaXggPSBzcXJ0RXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/ICc6ICcgKyBzcXJ0RXJyb3IubWVzc2FnZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BvaW50IGlzIG5vdCBvbiBjdXJ2ZScgKyBzdWZmaXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpc1lPZGQgPSAoeSAmIF8xbikgPT09IF8xbjtcbiAgICAgICAgICAgICAgICAvLyBFQ0RTQVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzSGVhZE9kZCA9IChoZWFkICYgMSkgPT09IDE7XG4gICAgICAgICAgICAgICAgaWYgKGlzSGVhZE9kZCAhPT0gaXNZT2RkKVxuICAgICAgICAgICAgICAgICAgICB5ID0gRnAubmVnKHkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxlbiA9PT0gdW5jb21wcmVzc2VkTGVuICYmIGhlYWQgPT09IDB4MDQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gRnAuZnJvbUJ5dGVzKHRhaWwuc3ViYXJyYXkoMCwgRnAuQllURVMpKTtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gRnAuZnJvbUJ5dGVzKHRhaWwuc3ViYXJyYXkoRnAuQllURVMsIDIgKiBGcC5CWVRFUykpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsID0gY29tcHJlc3NlZExlbjtcbiAgICAgICAgICAgICAgICBjb25zdCB1bCA9IHVuY29tcHJlc3NlZExlbjtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgUG9pbnQsIGV4cGVjdGVkIGxlbmd0aCBvZiAnICsgY2wgKyAnLCBvciB1bmNvbXByZXNzZWQgJyArIHVsICsgJywgZ290ICcgKyBsZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IG51bVRvTkJ5dGVTdHIgPSAobnVtKSA9PiB1dC5ieXRlc1RvSGV4KHV0Lm51bWJlclRvQnl0ZXNCRShudW0sIENVUlZFLm5CeXRlTGVuZ3RoKSk7XG4gICAgZnVuY3Rpb24gaXNCaWdnZXJUaGFuSGFsZk9yZGVyKG51bWJlcikge1xuICAgICAgICBjb25zdCBIQUxGID0gQ1VSVkVfT1JERVIgPj4gXzFuO1xuICAgICAgICByZXR1cm4gbnVtYmVyID4gSEFMRjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9ybWFsaXplUyhzKSB7XG4gICAgICAgIHJldHVybiBpc0JpZ2dlclRoYW5IYWxmT3JkZXIocykgPyBtb2ROKC1zKSA6IHM7XG4gICAgfVxuICAgIC8vIHNsaWNlIGJ5dGVzIG51bVxuICAgIGNvbnN0IHNsY051bSA9IChiLCBmcm9tLCB0bykgPT4gdXQuYnl0ZXNUb051bWJlckJFKGIuc2xpY2UoZnJvbSwgdG8pKTtcbiAgICAvKipcbiAgICAgKiBFQ0RTQSBzaWduYXR1cmUgd2l0aCBpdHMgKHIsIHMpIHByb3BlcnRpZXMuIFN1cHBvcnRzIERFUiAmIGNvbXBhY3QgcmVwcmVzZW50YXRpb25zLlxuICAgICAqL1xuICAgIGNsYXNzIFNpZ25hdHVyZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHIsIHMsIHJlY292ZXJ5KSB7XG4gICAgICAgICAgICB0aGlzLnIgPSByO1xuICAgICAgICAgICAgdGhpcy5zID0gcztcbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnkgPSByZWNvdmVyeTtcbiAgICAgICAgICAgIHRoaXMuYXNzZXJ0VmFsaWRpdHkoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYWlyIChieXRlcyBvZiByLCBieXRlcyBvZiBzKVxuICAgICAgICBzdGF0aWMgZnJvbUNvbXBhY3QoaGV4KSB7XG4gICAgICAgICAgICBjb25zdCBsID0gQ1VSVkUubkJ5dGVMZW5ndGg7XG4gICAgICAgICAgICBoZXggPSBlbnN1cmVCeXRlcygnY29tcGFjdFNpZ25hdHVyZScsIGhleCwgbCAqIDIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduYXR1cmUoc2xjTnVtKGhleCwgMCwgbCksIHNsY051bShoZXgsIGwsIDIgKiBsKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gREVSIGVuY29kZWQgRUNEU0Egc2lnbmF0dXJlXG4gICAgICAgIC8vIGh0dHBzOi8vYml0Y29pbi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNTc2NDQvd2hhdC1hcmUtdGhlLXBhcnRzLW9mLWEtYml0Y29pbi10cmFuc2FjdGlvbi1pbnB1dC1zY3JpcHRcbiAgICAgICAgc3RhdGljIGZyb21ERVIoaGV4KSB7XG4gICAgICAgICAgICBjb25zdCB7IHIsIHMgfSA9IERFUi50b1NpZyhlbnN1cmVCeXRlcygnREVSJywgaGV4KSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNpZ25hdHVyZShyLCBzKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnRWYWxpZGl0eSgpIHtcbiAgICAgICAgICAgIHV0LmFJblJhbmdlKCdyJywgdGhpcy5yLCBfMW4sIENVUlZFX09SREVSKTsgLy8gciBpbiBbMS4uTl1cbiAgICAgICAgICAgIHV0LmFJblJhbmdlKCdzJywgdGhpcy5zLCBfMW4sIENVUlZFX09SREVSKTsgLy8gcyBpbiBbMS4uTl1cbiAgICAgICAgfVxuICAgICAgICBhZGRSZWNvdmVyeUJpdChyZWNvdmVyeSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduYXR1cmUodGhpcy5yLCB0aGlzLnMsIHJlY292ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZWNvdmVyUHVibGljS2V5KG1zZ0hhc2gpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgciwgcywgcmVjb3Zlcnk6IHJlYyB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IGggPSBiaXRzMmludF9tb2ROKGVuc3VyZUJ5dGVzKCdtc2dIYXNoJywgbXNnSGFzaCkpOyAvLyBUcnVuY2F0ZSBoYXNoXG4gICAgICAgICAgICBpZiAocmVjID09IG51bGwgfHwgIVswLCAxLCAyLCAzXS5pbmNsdWRlcyhyZWMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncmVjb3ZlcnkgaWQgaW52YWxpZCcpO1xuICAgICAgICAgICAgY29uc3QgcmFkaiA9IHJlYyA9PT0gMiB8fCByZWMgPT09IDMgPyByICsgQ1VSVkUubiA6IHI7XG4gICAgICAgICAgICBpZiAocmFkaiA+PSBGcC5PUkRFUilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlY292ZXJ5IGlkIDIgb3IgMyBpbnZhbGlkJyk7XG4gICAgICAgICAgICBjb25zdCBwcmVmaXggPSAocmVjICYgMSkgPT09IDAgPyAnMDInIDogJzAzJztcbiAgICAgICAgICAgIGNvbnN0IFIgPSBQb2ludC5mcm9tSGV4KHByZWZpeCArIG51bVRvTkJ5dGVTdHIocmFkaikpO1xuICAgICAgICAgICAgY29uc3QgaXIgPSBpbnZOKHJhZGopOyAvLyByXi0xXG4gICAgICAgICAgICBjb25zdCB1MSA9IG1vZE4oLWggKiBpcik7IC8vIC1ocl4tMVxuICAgICAgICAgICAgY29uc3QgdTIgPSBtb2ROKHMgKiBpcik7IC8vIHNyXi0xXG4gICAgICAgICAgICBjb25zdCBRID0gUG9pbnQuQkFTRS5tdWx0aXBseUFuZEFkZFVuc2FmZShSLCB1MSwgdTIpOyAvLyAoc3JeLTEpUi0oaHJeLTEpRyA9IC0oaHJeLTEpRyArIChzcl4tMSlcbiAgICAgICAgICAgIGlmICghUSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BvaW50IGF0IGluZmluaWZ5Jyk7IC8vIHVuc2FmZSBpcyBmaW5lOiBubyBwcml2IGRhdGEgbGVha2VkXG4gICAgICAgICAgICBRLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgICAgICAgICByZXR1cm4gUTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaWduYXR1cmVzIHNob3VsZCBiZSBsb3ctcywgdG8gcHJldmVudCBtYWxsZWFiaWxpdHkuXG4gICAgICAgIGhhc0hpZ2hTKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzQmlnZ2VyVGhhbkhhbGZPcmRlcih0aGlzLnMpO1xuICAgICAgICB9XG4gICAgICAgIG5vcm1hbGl6ZVMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYXNIaWdoUygpID8gbmV3IFNpZ25hdHVyZSh0aGlzLnIsIG1vZE4oLXRoaXMucyksIHRoaXMucmVjb3ZlcnkpIDogdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBERVItZW5jb2RlZFxuICAgICAgICB0b0RFUlJhd0J5dGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0LmhleFRvQnl0ZXModGhpcy50b0RFUkhleCgpKTtcbiAgICAgICAgfVxuICAgICAgICB0b0RFUkhleCgpIHtcbiAgICAgICAgICAgIHJldHVybiBERVIuaGV4RnJvbVNpZyh7IHI6IHRoaXMuciwgczogdGhpcy5zIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhZGRlZCBieXRlcyBvZiByLCB0aGVuIHBhZGRlZCBieXRlcyBvZiBzXG4gICAgICAgIHRvQ29tcGFjdFJhd0J5dGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0LmhleFRvQnl0ZXModGhpcy50b0NvbXBhY3RIZXgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9Db21wYWN0SGV4KCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bVRvTkJ5dGVTdHIodGhpcy5yKSArIG51bVRvTkJ5dGVTdHIodGhpcy5zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB1dGlscyA9IHtcbiAgICAgICAgaXNWYWxpZFByaXZhdGVLZXkocHJpdmF0ZUtleSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBub3JtUHJpdmF0ZUtleVRvU2NhbGFyKHByaXZhdGVLZXkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBub3JtUHJpdmF0ZUtleVRvU2NhbGFyOiBub3JtUHJpdmF0ZUtleVRvU2NhbGFyLFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvZHVjZXMgY3J5cHRvZ3JhcGhpY2FsbHkgc2VjdXJlIHByaXZhdGUga2V5IGZyb20gcmFuZG9tIG9mIHNpemVcbiAgICAgICAgICogKGdyb3VwTGVuICsgY2VpbChncm91cExlbiAvIDIpKSB3aXRoIG1vZHVsbyBiaWFzIGJlaW5nIG5lZ2xpZ2libGUuXG4gICAgICAgICAqL1xuICAgICAgICByYW5kb21Qcml2YXRlS2V5OiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBnZXRNaW5IYXNoTGVuZ3RoKENVUlZFLm4pO1xuICAgICAgICAgICAgcmV0dXJuIG1hcEhhc2hUb0ZpZWxkKENVUlZFLnJhbmRvbUJ5dGVzKGxlbmd0aCksIENVUlZFLm4pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBwcmVjb21wdXRlIHRhYmxlIGZvciBhbiBhcmJpdHJhcnkgRUMgcG9pbnQuIE1ha2VzIHBvaW50IFwiY2FjaGVkXCIuXG4gICAgICAgICAqIEFsbG93cyB0byBtYXNzaXZlbHkgc3BlZWQtdXAgYHBvaW50Lm11bHRpcGx5KHNjYWxhcilgLlxuICAgICAgICAgKiBAcmV0dXJucyBjYWNoZWQgcG9pbnRcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3QgZmFzdCA9IHV0aWxzLnByZWNvbXB1dGUoOCwgUHJvamVjdGl2ZVBvaW50LmZyb21IZXgoc29tZW9uZXNQdWJLZXkpKTtcbiAgICAgICAgICogZmFzdC5tdWx0aXBseShwcml2S2V5KTsgLy8gbXVjaCBmYXN0ZXIgRUNESCBub3dcbiAgICAgICAgICovXG4gICAgICAgIHByZWNvbXB1dGUod2luZG93U2l6ZSA9IDgsIHBvaW50ID0gUG9pbnQuQkFTRSkge1xuICAgICAgICAgICAgcG9pbnQuX3NldFdpbmRvd1NpemUod2luZG93U2l6ZSk7XG4gICAgICAgICAgICBwb2ludC5tdWx0aXBseShCaWdJbnQoMykpOyAvLyAzIGlzIGFyYml0cmFyeSwganVzdCBuZWVkIGFueSBudW1iZXIgaGVyZVxuICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgICB9LFxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgcHVibGljIGtleSBmb3IgYSBwcml2YXRlIGtleS4gQ2hlY2tzIGZvciB2YWxpZGl0eSBvZiB0aGUgcHJpdmF0ZSBrZXkuXG4gICAgICogQHBhcmFtIHByaXZhdGVLZXkgcHJpdmF0ZSBrZXlcbiAgICAgKiBAcGFyYW0gaXNDb21wcmVzc2VkIHdoZXRoZXIgdG8gcmV0dXJuIGNvbXBhY3QgKGRlZmF1bHQpLCBvciBmdWxsIGtleVxuICAgICAqIEByZXR1cm5zIFB1YmxpYyBrZXksIGZ1bGwgd2hlbiBpc0NvbXByZXNzZWQ9ZmFsc2U7IHNob3J0IHdoZW4gaXNDb21wcmVzc2VkPXRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRQdWJsaWNLZXkocHJpdmF0ZUtleSwgaXNDb21wcmVzc2VkID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gUG9pbnQuZnJvbVByaXZhdGVLZXkocHJpdmF0ZUtleSkudG9SYXdCeXRlcyhpc0NvbXByZXNzZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWljayBhbmQgZGlydHkgY2hlY2sgZm9yIGl0ZW0gYmVpbmcgcHVibGljIGtleS4gRG9lcyBub3QgdmFsaWRhdGUgaGV4LCBvciBiZWluZyBvbi1jdXJ2ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb2JQdWIoaXRlbSkge1xuICAgICAgICBjb25zdCBhcnIgPSB1dC5pc0J5dGVzKGl0ZW0pO1xuICAgICAgICBjb25zdCBzdHIgPSB0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZyc7XG4gICAgICAgIGNvbnN0IGxlbiA9IChhcnIgfHwgc3RyKSAmJiBpdGVtLmxlbmd0aDtcbiAgICAgICAgaWYgKGFycilcbiAgICAgICAgICAgIHJldHVybiBsZW4gPT09IGNvbXByZXNzZWRMZW4gfHwgbGVuID09PSB1bmNvbXByZXNzZWRMZW47XG4gICAgICAgIGlmIChzdHIpXG4gICAgICAgICAgICByZXR1cm4gbGVuID09PSAyICogY29tcHJlc3NlZExlbiB8fCBsZW4gPT09IDIgKiB1bmNvbXByZXNzZWRMZW47XG4gICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFQ0RIIChFbGxpcHRpYyBDdXJ2ZSBEaWZmaWUgSGVsbG1hbikuXG4gICAgICogQ29tcHV0ZXMgc2hhcmVkIHB1YmxpYyBrZXkgZnJvbSBwcml2YXRlIGtleSBhbmQgcHVibGljIGtleS5cbiAgICAgKiBDaGVja3M6IDEpIHByaXZhdGUga2V5IHZhbGlkaXR5IDIpIHNoYXJlZCBrZXkgaXMgb24tY3VydmUuXG4gICAgICogRG9lcyBOT1QgaGFzaCB0aGUgcmVzdWx0LlxuICAgICAqIEBwYXJhbSBwcml2YXRlQSBwcml2YXRlIGtleVxuICAgICAqIEBwYXJhbSBwdWJsaWNCIGRpZmZlcmVudCBwdWJsaWMga2V5XG4gICAgICogQHBhcmFtIGlzQ29tcHJlc3NlZCB3aGV0aGVyIHRvIHJldHVybiBjb21wYWN0IChkZWZhdWx0KSwgb3IgZnVsbCBrZXlcbiAgICAgKiBAcmV0dXJucyBzaGFyZWQgcHVibGljIGtleVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFNoYXJlZFNlY3JldChwcml2YXRlQSwgcHVibGljQiwgaXNDb21wcmVzc2VkID0gdHJ1ZSkge1xuICAgICAgICBpZiAoaXNQcm9iUHViKHByaXZhdGVBKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZmlyc3QgYXJnIG11c3QgYmUgcHJpdmF0ZSBrZXknKTtcbiAgICAgICAgaWYgKCFpc1Byb2JQdWIocHVibGljQikpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlY29uZCBhcmcgbXVzdCBiZSBwdWJsaWMga2V5Jyk7XG4gICAgICAgIGNvbnN0IGIgPSBQb2ludC5mcm9tSGV4KHB1YmxpY0IpOyAvLyBjaGVjayBmb3IgYmVpbmcgb24tY3VydmVcbiAgICAgICAgcmV0dXJuIGIubXVsdGlwbHkobm9ybVByaXZhdGVLZXlUb1NjYWxhcihwcml2YXRlQSkpLnRvUmF3Qnl0ZXMoaXNDb21wcmVzc2VkKTtcbiAgICB9XG4gICAgLy8gUkZDNjk3OTogZW5zdXJlIEVDRFNBIG1zZyBpcyBYIGJ5dGVzIGFuZCA8IE4uIFJGQyBzdWdnZXN0cyBvcHRpb25hbCB0cnVuY2F0aW5nIHZpYSBiaXRzMm9jdGV0cy5cbiAgICAvLyBGSVBTIDE4Ni00IDQuNiBzdWdnZXN0cyB0aGUgbGVmdG1vc3QgbWluKG5CaXRMZW4sIG91dExlbikgYml0cywgd2hpY2ggbWF0Y2hlcyBiaXRzMmludC5cbiAgICAvLyBiaXRzMmludCBjYW4gcHJvZHVjZSByZXM+Tiwgd2UgY2FuIGRvIG1vZChyZXMsIE4pIHNpbmNlIHRoZSBiaXRMZW4gaXMgdGhlIHNhbWUuXG4gICAgLy8gaW50Mm9jdGV0cyBjYW4ndCBiZSB1c2VkOyBwYWRzIHNtYWxsIG1zZ3Mgd2l0aCAwOiB1bmFjY2VwdGF0YmxlIGZvciB0cnVuYyBhcyBwZXIgUkZDIHZlY3RvcnNcbiAgICBjb25zdCBiaXRzMmludCA9IENVUlZFLmJpdHMyaW50IHx8XG4gICAgICAgIGZ1bmN0aW9uIChieXRlcykge1xuICAgICAgICAgICAgLy8gT3VyIGN1c3RvbSBjaGVjayBcImp1c3QgaW4gY2FzZVwiXG4gICAgICAgICAgICBpZiAoYnl0ZXMubGVuZ3RoID4gODE5MilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lucHV0IGlzIHRvbyBsYXJnZScpO1xuICAgICAgICAgICAgLy8gRm9yIGN1cnZlcyB3aXRoIG5CaXRMZW5ndGggJSA4ICE9PSAwOiBiaXRzMm9jdGV0cyhiaXRzMm9jdGV0cyhtKSkgIT09IGJpdHMyb2N0ZXRzKG0pXG4gICAgICAgICAgICAvLyBmb3Igc29tZSBjYXNlcywgc2luY2UgYnl0ZXMubGVuZ3RoICogOCBpcyBub3QgYWN0dWFsIGJpdExlbmd0aC5cbiAgICAgICAgICAgIGNvbnN0IG51bSA9IHV0LmJ5dGVzVG9OdW1iZXJCRShieXRlcyk7IC8vIGNoZWNrIGZvciA9PSB1OCBkb25lIGhlcmVcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gYnl0ZXMubGVuZ3RoICogOCAtIENVUlZFLm5CaXRMZW5ndGg7IC8vIHRydW5jYXRlIHRvIG5CaXRMZW5ndGggbGVmdG1vc3QgYml0c1xuICAgICAgICAgICAgcmV0dXJuIGRlbHRhID4gMCA/IG51bSA+PiBCaWdJbnQoZGVsdGEpIDogbnVtO1xuICAgICAgICB9O1xuICAgIGNvbnN0IGJpdHMyaW50X21vZE4gPSBDVVJWRS5iaXRzMmludF9tb2ROIHx8XG4gICAgICAgIGZ1bmN0aW9uIChieXRlcykge1xuICAgICAgICAgICAgcmV0dXJuIG1vZE4oYml0czJpbnQoYnl0ZXMpKTsgLy8gY2FuJ3QgdXNlIGJ5dGVzVG9OdW1iZXJCRSBoZXJlXG4gICAgICAgIH07XG4gICAgLy8gTk9URTogcGFkcyBvdXRwdXQgd2l0aCB6ZXJvIGFzIHBlciBzcGVjXG4gICAgY29uc3QgT1JERVJfTUFTSyA9IHV0LmJpdE1hc2soQ1VSVkUubkJpdExlbmd0aCk7XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdG8gYnl0ZXMuIENoZWNrcyBpZiBudW0gaW4gYFswLi5PUkRFUl9NQVNLLTFdYCBlLmcuOiBgWzAuLjJeMjU2LTFdYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnQyb2N0ZXRzKG51bSkge1xuICAgICAgICB1dC5hSW5SYW5nZSgnbnVtIDwgMl4nICsgQ1VSVkUubkJpdExlbmd0aCwgbnVtLCBfMG4sIE9SREVSX01BU0spO1xuICAgICAgICAvLyB3b3JrcyB3aXRoIG9yZGVyLCBjYW4gaGF2ZSBkaWZmZXJlbnQgc2l6ZSB0aGFuIG51bVRvRmllbGQhXG4gICAgICAgIHJldHVybiB1dC5udW1iZXJUb0J5dGVzQkUobnVtLCBDVVJWRS5uQnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIC8vIFN0ZXBzIEEsIEQgb2YgUkZDNjk3OSAzLjJcbiAgICAvLyBDcmVhdGVzIFJGQzY5Nzkgc2VlZDsgY29udmVydHMgbXNnL3ByaXZLZXkgdG8gbnVtYmVycy5cbiAgICAvLyBVc2VkIG9ubHkgaW4gc2lnbiwgbm90IGluIHZlcmlmeS5cbiAgICAvLyBOT1RFOiB3ZSBjYW5ub3QgYXNzdW1lIGhlcmUgdGhhdCBtc2dIYXNoIGhhcyBzYW1lIGFtb3VudCBvZiBieXRlcyBhcyBjdXJ2ZSBvcmRlcixcbiAgICAvLyB0aGlzIHdpbGwgYmUgaW52YWxpZCBhdCBsZWFzdCBmb3IgUDUyMS4gQWxzbyBpdCBjYW4gYmUgYmlnZ2VyIGZvciBQMjI0ICsgU0hBMjU2XG4gICAgZnVuY3Rpb24gcHJlcFNpZyhtc2dIYXNoLCBwcml2YXRlS2V5LCBvcHRzID0gZGVmYXVsdFNpZ09wdHMpIHtcbiAgICAgICAgaWYgKFsncmVjb3ZlcmVkJywgJ2Nhbm9uaWNhbCddLnNvbWUoKGspID0+IGsgaW4gb3B0cykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ24oKSBsZWdhY3kgb3B0aW9ucyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgIGNvbnN0IHsgaGFzaCwgcmFuZG9tQnl0ZXMgfSA9IENVUlZFO1xuICAgICAgICBsZXQgeyBsb3dTLCBwcmVoYXNoLCBleHRyYUVudHJvcHk6IGVudCB9ID0gb3B0czsgLy8gZ2VuZXJhdGVzIGxvdy1zIHNpZ3MgYnkgZGVmYXVsdFxuICAgICAgICBpZiAobG93UyA9PSBudWxsKVxuICAgICAgICAgICAgbG93UyA9IHRydWU7IC8vIFJGQzY5NzkgMy4yOiB3ZSBza2lwIHN0ZXAgQSwgYmVjYXVzZSB3ZSBhbHJlYWR5IHByb3ZpZGUgaGFzaFxuICAgICAgICBtc2dIYXNoID0gZW5zdXJlQnl0ZXMoJ21zZ0hhc2gnLCBtc2dIYXNoKTtcbiAgICAgICAgdmFsaWRhdGVTaWdWZXJPcHRzKG9wdHMpO1xuICAgICAgICBpZiAocHJlaGFzaClcbiAgICAgICAgICAgIG1zZ0hhc2ggPSBlbnN1cmVCeXRlcygncHJlaGFzaGVkIG1zZ0hhc2gnLCBoYXNoKG1zZ0hhc2gpKTtcbiAgICAgICAgLy8gV2UgY2FuJ3QgbGF0ZXIgY2FsbCBiaXRzMm9jdGV0cywgc2luY2UgbmVzdGVkIGJpdHMyaW50IGlzIGJyb2tlbiBmb3IgY3VydmVzXG4gICAgICAgIC8vIHdpdGggbkJpdExlbmd0aCAlIDggIT09IDAuIEJlY2F1c2Ugb2YgdGhhdCwgd2UgdW53cmFwIGl0IGhlcmUgYXMgaW50Mm9jdGV0cyBjYWxsLlxuICAgICAgICAvLyBjb25zdCBiaXRzMm9jdGV0cyA9IChiaXRzKSA9PiBpbnQyb2N0ZXRzKGJpdHMyaW50X21vZE4oYml0cykpXG4gICAgICAgIGNvbnN0IGgxaW50ID0gYml0czJpbnRfbW9kTihtc2dIYXNoKTtcbiAgICAgICAgY29uc3QgZCA9IG5vcm1Qcml2YXRlS2V5VG9TY2FsYXIocHJpdmF0ZUtleSk7IC8vIHZhbGlkYXRlIHByaXZhdGUga2V5LCBjb252ZXJ0IHRvIGJpZ2ludFxuICAgICAgICBjb25zdCBzZWVkQXJncyA9IFtpbnQyb2N0ZXRzKGQpLCBpbnQyb2N0ZXRzKGgxaW50KV07XG4gICAgICAgIC8vIGV4dHJhRW50cm9weS4gUkZDNjk3OSAzLjY6IGFkZGl0aW9uYWwgaycgKG9wdGlvbmFsKS5cbiAgICAgICAgaWYgKGVudCAhPSBudWxsICYmIGVudCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIEsgPSBITUFDX0soViB8fCAweDAwIHx8IGludDJvY3RldHMoeCkgfHwgYml0czJvY3RldHMoaDEpIHx8IGsnKVxuICAgICAgICAgICAgY29uc3QgZSA9IGVudCA9PT0gdHJ1ZSA/IHJhbmRvbUJ5dGVzKEZwLkJZVEVTKSA6IGVudDsgLy8gZ2VuZXJhdGUgcmFuZG9tIGJ5dGVzIE9SIHBhc3MgYXMtaXNcbiAgICAgICAgICAgIHNlZWRBcmdzLnB1c2goZW5zdXJlQnl0ZXMoJ2V4dHJhRW50cm9weScsIGUpKTsgLy8gY2hlY2sgZm9yIGJlaW5nIGJ5dGVzXG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VlZCA9IHV0LmNvbmNhdEJ5dGVzKC4uLnNlZWRBcmdzKTsgLy8gU3RlcCBEIG9mIFJGQzY5NzkgMy4yXG4gICAgICAgIGNvbnN0IG0gPSBoMWludDsgLy8gTk9URTogbm8gbmVlZCB0byBjYWxsIGJpdHMyaW50IHNlY29uZCB0aW1lIGhlcmUsIGl0IGlzIGluc2lkZSB0cnVuY2F0ZUhhc2ghXG4gICAgICAgIC8vIENvbnZlcnRzIHNpZ25hdHVyZSBwYXJhbXMgaW50byBwb2ludCB3IHIvcywgY2hlY2tzIHJlc3VsdCBmb3IgdmFsaWRpdHkuXG4gICAgICAgIGZ1bmN0aW9uIGsyc2lnKGtCeXRlcykge1xuICAgICAgICAgICAgLy8gUkZDIDY5NzkgU2VjdGlvbiAzLjIsIHN0ZXAgMzogayA9IGJpdHMyaW50KFQpXG4gICAgICAgICAgICBjb25zdCBrID0gYml0czJpbnQoa0J5dGVzKTsgLy8gQ2Fubm90IHVzZSBmaWVsZHMgbWV0aG9kcywgc2luY2UgaXQgaXMgZ3JvdXAgZWxlbWVudFxuICAgICAgICAgICAgaWYgKCFpc1dpdGhpbkN1cnZlT3JkZXIoaykpXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBJbXBvcnRhbnQ6IGFsbCBtb2QoKSBjYWxscyBoZXJlIG11c3QgYmUgZG9uZSBvdmVyIE5cbiAgICAgICAgICAgIGNvbnN0IGlrID0gaW52TihrKTsgLy8ga14tMSBtb2QgblxuICAgICAgICAgICAgY29uc3QgcSA9IFBvaW50LkJBU0UubXVsdGlwbHkoaykudG9BZmZpbmUoKTsgLy8gcSA9IEdrXG4gICAgICAgICAgICBjb25zdCByID0gbW9kTihxLngpOyAvLyByID0gcS54IG1vZCBuXG4gICAgICAgICAgICBpZiAociA9PT0gXzBuKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIENhbiB1c2Ugc2NhbGFyIGJsaW5kaW5nIGJeLTEoYm0gKyBiZHIpIHdoZXJlIGIg4oiIIFsxLHHiiJIxXSBhY2NvcmRpbmcgdG9cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdGNoZXMuaWFjci5vcmcvaW5kZXgucGhwL1RDSEVTL2FydGljbGUvdmlldy83MzM3LzY1MDkuIFdlJ3ZlIGRlY2lkZWQgYWdhaW5zdCBpdDpcbiAgICAgICAgICAgIC8vIGEpIGRlcGVuZGVuY3kgb24gQ1NQUk5HIGIpIDE1JSBzbG93ZG93biBjKSBkb2Vzbid0IHJlYWxseSBoZWxwIHNpbmNlIGJpZ2ludHMgYXJlIG5vdCBDVFxuICAgICAgICAgICAgY29uc3QgcyA9IG1vZE4oaWsgKiBtb2ROKG0gKyByICogZCkpOyAvLyBOb3QgdXNpbmcgYmxpbmRpbmcgaGVyZVxuICAgICAgICAgICAgaWYgKHMgPT09IF8wbilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgcmVjb3ZlcnkgPSAocS54ID09PSByID8gMCA6IDIpIHwgTnVtYmVyKHEueSAmIF8xbik7IC8vIHJlY292ZXJ5IGJpdCAoMiBvciAzLCB3aGVuIHEueCA+IG4pXG4gICAgICAgICAgICBsZXQgbm9ybVMgPSBzO1xuICAgICAgICAgICAgaWYgKGxvd1MgJiYgaXNCaWdnZXJUaGFuSGFsZk9yZGVyKHMpKSB7XG4gICAgICAgICAgICAgICAgbm9ybVMgPSBub3JtYWxpemVTKHMpOyAvLyBpZiBsb3dTIHdhcyBwYXNzZWQsIGVuc3VyZSBzIGlzIGFsd2F5c1xuICAgICAgICAgICAgICAgIHJlY292ZXJ5IF49IDE7IC8vIC8vIGluIHRoZSBib3R0b20gaGFsZiBvZiBOXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNpZ25hdHVyZShyLCBub3JtUywgcmVjb3ZlcnkpOyAvLyB1c2Ugbm9ybVMsIG5vdCBzXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc2VlZCwgazJzaWcgfTtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdFNpZ09wdHMgPSB7IGxvd1M6IENVUlZFLmxvd1MsIHByZWhhc2g6IGZhbHNlIH07XG4gICAgY29uc3QgZGVmYXVsdFZlck9wdHMgPSB7IGxvd1M6IENVUlZFLmxvd1MsIHByZWhhc2g6IGZhbHNlIH07XG4gICAgLyoqXG4gICAgICogU2lnbnMgbWVzc2FnZSBoYXNoIHdpdGggYSBwcml2YXRlIGtleS5cbiAgICAgKiBgYGBcbiAgICAgKiBzaWduKG0sIGQsIGspIHdoZXJlXG4gICAgICogICAoeCwgeSkgPSBHIMOXIGtcbiAgICAgKiAgIHIgPSB4IG1vZCBuXG4gICAgICogICBzID0gKG0gKyBkcikvayBtb2QgblxuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSBtc2dIYXNoIE5PVCBtZXNzYWdlLiBtc2cgbmVlZHMgdG8gYmUgaGFzaGVkIHRvIGBtc2dIYXNoYCwgb3IgdXNlIGBwcmVoYXNoYC5cbiAgICAgKiBAcGFyYW0gcHJpdktleSBwcml2YXRlIGtleVxuICAgICAqIEBwYXJhbSBvcHRzIGxvd1MgZm9yIG5vbi1tYWxsZWFibGUgc2lncy4gZXh0cmFFbnRyb3B5IGZvciBtaXhpbmcgcmFuZG9tbmVzcyBpbnRvIGsuIHByZWhhc2ggd2lsbCBoYXNoIGZpcnN0IGFyZy5cbiAgICAgKiBAcmV0dXJucyBzaWduYXR1cmUgd2l0aCByZWNvdmVyeSBwYXJhbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpZ24obXNnSGFzaCwgcHJpdktleSwgb3B0cyA9IGRlZmF1bHRTaWdPcHRzKSB7XG4gICAgICAgIGNvbnN0IHsgc2VlZCwgazJzaWcgfSA9IHByZXBTaWcobXNnSGFzaCwgcHJpdktleSwgb3B0cyk7IC8vIFN0ZXBzIEEsIEQgb2YgUkZDNjk3OSAzLjIuXG4gICAgICAgIGNvbnN0IEMgPSBDVVJWRTtcbiAgICAgICAgY29uc3QgZHJiZyA9IHV0LmNyZWF0ZUhtYWNEcmJnKEMuaGFzaC5vdXRwdXRMZW4sIEMubkJ5dGVMZW5ndGgsIEMuaG1hYyk7XG4gICAgICAgIHJldHVybiBkcmJnKHNlZWQsIGsyc2lnKTsgLy8gU3RlcHMgQiwgQywgRCwgRSwgRiwgR1xuICAgIH1cbiAgICAvLyBFbmFibGUgcHJlY29tcHV0ZXMuIFNsb3dzIGRvd24gZmlyc3QgcHVibGljS2V5IGNvbXB1dGF0aW9uIGJ5IDIwbXMuXG4gICAgUG9pbnQuQkFTRS5fc2V0V2luZG93U2l6ZSg4KTtcbiAgICAvLyB1dGlscy5wcmVjb21wdXRlKDgsIFByb2plY3RpdmVQb2ludC5CQVNFKVxuICAgIC8qKlxuICAgICAqIFZlcmlmaWVzIGEgc2lnbmF0dXJlIGFnYWluc3QgbWVzc2FnZSBoYXNoIGFuZCBwdWJsaWMga2V5LlxuICAgICAqIFJlamVjdHMgbG93UyBzaWduYXR1cmVzIGJ5IGRlZmF1bHQ6IHRvIG92ZXJyaWRlLFxuICAgICAqIHNwZWNpZnkgb3B0aW9uIGB7bG93UzogZmFsc2V9YC4gSW1wbGVtZW50cyBzZWN0aW9uIDQuMS40IGZyb20gaHR0cHM6Ly93d3cuc2VjZy5vcmcvc2VjMS12Mi5wZGY6XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiB2ZXJpZnkociwgcywgaCwgUCkgd2hlcmVcbiAgICAgKiAgIFUxID0gaHNeLTEgbW9kIG5cbiAgICAgKiAgIFUyID0gcnNeLTEgbW9kIG5cbiAgICAgKiAgIFIgPSBVMeKLhUcgLSBVMuKLhVBcbiAgICAgKiAgIG1vZChSLngsIG4pID09IHJcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2ZXJpZnkoc2lnbmF0dXJlLCBtc2dIYXNoLCBwdWJsaWNLZXksIG9wdHMgPSBkZWZhdWx0VmVyT3B0cykge1xuICAgICAgICBjb25zdCBzZyA9IHNpZ25hdHVyZTtcbiAgICAgICAgbXNnSGFzaCA9IGVuc3VyZUJ5dGVzKCdtc2dIYXNoJywgbXNnSGFzaCk7XG4gICAgICAgIHB1YmxpY0tleSA9IGVuc3VyZUJ5dGVzKCdwdWJsaWNLZXknLCBwdWJsaWNLZXkpO1xuICAgICAgICBjb25zdCB7IGxvd1MsIHByZWhhc2gsIGZvcm1hdCB9ID0gb3B0cztcbiAgICAgICAgLy8gVmVyaWZ5IG9wdHMsIGRlZHVjZSBzaWduYXR1cmUgZm9ybWF0XG4gICAgICAgIHZhbGlkYXRlU2lnVmVyT3B0cyhvcHRzKTtcbiAgICAgICAgaWYgKCdzdHJpY3QnIGluIG9wdHMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29wdGlvbnMuc3RyaWN0IHdhcyByZW5hbWVkIHRvIGxvd1MnKTtcbiAgICAgICAgaWYgKGZvcm1hdCAhPT0gdW5kZWZpbmVkICYmIGZvcm1hdCAhPT0gJ2NvbXBhY3QnICYmIGZvcm1hdCAhPT0gJ2RlcicpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Zvcm1hdCBtdXN0IGJlIGNvbXBhY3Qgb3IgZGVyJyk7XG4gICAgICAgIGNvbnN0IGlzSGV4ID0gdHlwZW9mIHNnID09PSAnc3RyaW5nJyB8fCB1dC5pc0J5dGVzKHNnKTtcbiAgICAgICAgY29uc3QgaXNPYmogPSAhaXNIZXggJiZcbiAgICAgICAgICAgICFmb3JtYXQgJiZcbiAgICAgICAgICAgIHR5cGVvZiBzZyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIHNnICE9PSBudWxsICYmXG4gICAgICAgICAgICB0eXBlb2Ygc2cuciA9PT0gJ2JpZ2ludCcgJiZcbiAgICAgICAgICAgIHR5cGVvZiBzZy5zID09PSAnYmlnaW50JztcbiAgICAgICAgaWYgKCFpc0hleCAmJiAhaXNPYmopXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgc2lnbmF0dXJlLCBleHBlY3RlZCBVaW50OEFycmF5LCBoZXggc3RyaW5nIG9yIFNpZ25hdHVyZSBpbnN0YW5jZScpO1xuICAgICAgICBsZXQgX3NpZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IFA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoaXNPYmopXG4gICAgICAgICAgICAgICAgX3NpZyA9IG5ldyBTaWduYXR1cmUoc2cuciwgc2cucyk7XG4gICAgICAgICAgICBpZiAoaXNIZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBTaWduYXR1cmUgY2FuIGJlIHJlcHJlc2VudGVkIGluIDIgd2F5czogY29tcGFjdCAoMipuQnl0ZUxlbmd0aCkgJiBERVIgKHZhcmlhYmxlLWxlbmd0aCkuXG4gICAgICAgICAgICAgICAgLy8gU2luY2UgREVSIGNhbiBhbHNvIGJlIDIqbkJ5dGVMZW5ndGggYnl0ZXMsIHdlIGNoZWNrIGZvciBpdCBmaXJzdC5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybWF0ICE9PSAnY29tcGFjdCcpXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2lnID0gU2lnbmF0dXJlLmZyb21ERVIoc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZGVyRXJyb3IgaW5zdGFuY2VvZiBERVIuRXJyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGRlckVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIV9zaWcgJiYgZm9ybWF0ICE9PSAnZGVyJylcbiAgICAgICAgICAgICAgICAgICAgX3NpZyA9IFNpZ25hdHVyZS5mcm9tQ29tcGFjdChzZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBQID0gUG9pbnQuZnJvbUhleChwdWJsaWNLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX3NpZylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGxvd1MgJiYgX3NpZy5oYXNIaWdoUygpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAocHJlaGFzaClcbiAgICAgICAgICAgIG1zZ0hhc2ggPSBDVVJWRS5oYXNoKG1zZ0hhc2gpO1xuICAgICAgICBjb25zdCB7IHIsIHMgfSA9IF9zaWc7XG4gICAgICAgIGNvbnN0IGggPSBiaXRzMmludF9tb2ROKG1zZ0hhc2gpOyAvLyBDYW5ub3QgdXNlIGZpZWxkcyBtZXRob2RzLCBzaW5jZSBpdCBpcyBncm91cCBlbGVtZW50XG4gICAgICAgIGNvbnN0IGlzID0gaW52TihzKTsgLy8gc14tMVxuICAgICAgICBjb25zdCB1MSA9IG1vZE4oaCAqIGlzKTsgLy8gdTEgPSBoc14tMSBtb2QgblxuICAgICAgICBjb25zdCB1MiA9IG1vZE4ociAqIGlzKTsgLy8gdTIgPSByc14tMSBtb2QgblxuICAgICAgICBjb25zdCBSID0gUG9pbnQuQkFTRS5tdWx0aXBseUFuZEFkZFVuc2FmZShQLCB1MSwgdTIpPy50b0FmZmluZSgpOyAvLyBSID0gdTHii4VHICsgdTLii4VQXG4gICAgICAgIGlmICghUilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgdiA9IG1vZE4oUi54KTtcbiAgICAgICAgcmV0dXJuIHYgPT09IHI7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIENVUlZFLFxuICAgICAgICBnZXRQdWJsaWNLZXksXG4gICAgICAgIGdldFNoYXJlZFNlY3JldCxcbiAgICAgICAgc2lnbixcbiAgICAgICAgdmVyaWZ5LFxuICAgICAgICBQcm9qZWN0aXZlUG9pbnQ6IFBvaW50LFxuICAgICAgICBTaWduYXR1cmUsXG4gICAgICAgIHV0aWxzLFxuICAgIH07XG59XG4vKipcbiAqIEltcGxlbWVudGF0aW9uIG9mIHRoZSBTaGFsbHVlIGFuZCB2YW4gZGUgV29lc3Rpam5lIG1ldGhvZCBmb3IgYW55IHdlaWVyc3RyYXNzIGN1cnZlLlxuICogVE9ETzogY2hlY2sgaWYgdGhlcmUgaXMgYSB3YXkgdG8gbWVyZ2UgdGhpcyB3aXRoIHV2UmF0aW8gaW4gRWR3YXJkczsgbW92ZSB0byBtb2R1bGFyLlxuICogYiA9IFRydWUgYW5kIHkgPSBzcXJ0KHUgLyB2KSBpZiAodSAvIHYpIGlzIHNxdWFyZSBpbiBGLCBhbmRcbiAqIGIgPSBGYWxzZSBhbmQgeSA9IHNxcnQoWiAqICh1IC8gdikpIG90aGVyd2lzZS5cbiAqIEBwYXJhbSBGcFxuICogQHBhcmFtIFpcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTV1VGcFNxcnRSYXRpbyhGcCwgWikge1xuICAgIC8vIEdlbmVyaWMgaW1wbGVtZW50YXRpb25cbiAgICBjb25zdCBxID0gRnAuT1JERVI7XG4gICAgbGV0IGwgPSBfMG47XG4gICAgZm9yIChsZXQgbyA9IHEgLSBfMW47IG8gJSBfMm4gPT09IF8wbjsgbyAvPSBfMm4pXG4gICAgICAgIGwgKz0gXzFuO1xuICAgIGNvbnN0IGMxID0gbDsgLy8gMS4gYzEsIHRoZSBsYXJnZXN0IGludGVnZXIgc3VjaCB0aGF0IDJeYzEgZGl2aWRlcyBxIC0gMS5cbiAgICAvLyBXZSBuZWVkIDJuICoqIGMxIGFuZCAybiAqKiAoYzEtMSkuIFdlIGNhbid0IHVzZSAqKjsgYnV0IHdlIGNhbiB1c2UgPDwuXG4gICAgLy8gMm4gKiogYzEgPT0gMm4gPDwgKGMxLTEpXG4gICAgY29uc3QgXzJuX3Bvd19jMV8xID0gXzJuIDw8IChjMSAtIF8xbiAtIF8xbik7XG4gICAgY29uc3QgXzJuX3Bvd19jMSA9IF8ybl9wb3dfYzFfMSAqIF8ybjtcbiAgICBjb25zdCBjMiA9IChxIC0gXzFuKSAvIF8ybl9wb3dfYzE7IC8vIDIuIGMyID0gKHEgLSAxKSAvICgyXmMxKSAgIyBJbnRlZ2VyIGFyaXRobWV0aWNcbiAgICBjb25zdCBjMyA9IChjMiAtIF8xbikgLyBfMm47IC8vIDMuIGMzID0gKGMyIC0gMSkgLyAyICAgICAgICAgICAgIyBJbnRlZ2VyIGFyaXRobWV0aWNcbiAgICBjb25zdCBjNCA9IF8ybl9wb3dfYzEgLSBfMW47IC8vIDQuIGM0ID0gMl5jMSAtIDEgICAgICAgICAgICAgICAgIyBJbnRlZ2VyIGFyaXRobWV0aWNcbiAgICBjb25zdCBjNSA9IF8ybl9wb3dfYzFfMTsgLy8gNS4gYzUgPSAyXihjMSAtIDEpICAgICAgICAgICAgICAgICAgIyBJbnRlZ2VyIGFyaXRobWV0aWNcbiAgICBjb25zdCBjNiA9IEZwLnBvdyhaLCBjMik7IC8vIDYuIGM2ID0gWl5jMlxuICAgIGNvbnN0IGM3ID0gRnAucG93KFosIChjMiArIF8xbikgLyBfMm4pOyAvLyA3LiBjNyA9IFpeKChjMiArIDEpIC8gMilcbiAgICBsZXQgc3FydFJhdGlvID0gKHUsIHYpID0+IHtcbiAgICAgICAgbGV0IHR2MSA9IGM2OyAvLyAxLiB0djEgPSBjNlxuICAgICAgICBsZXQgdHYyID0gRnAucG93KHYsIGM0KTsgLy8gMi4gdHYyID0gdl5jNFxuICAgICAgICBsZXQgdHYzID0gRnAuc3FyKHR2Mik7IC8vIDMuIHR2MyA9IHR2Ml4yXG4gICAgICAgIHR2MyA9IEZwLm11bCh0djMsIHYpOyAvLyA0LiB0djMgPSB0djMgKiB2XG4gICAgICAgIGxldCB0djUgPSBGcC5tdWwodSwgdHYzKTsgLy8gNS4gdHY1ID0gdSAqIHR2M1xuICAgICAgICB0djUgPSBGcC5wb3codHY1LCBjMyk7IC8vIDYuIHR2NSA9IHR2NV5jM1xuICAgICAgICB0djUgPSBGcC5tdWwodHY1LCB0djIpOyAvLyA3LiB0djUgPSB0djUgKiB0djJcbiAgICAgICAgdHYyID0gRnAubXVsKHR2NSwgdik7IC8vIDguIHR2MiA9IHR2NSAqIHZcbiAgICAgICAgdHYzID0gRnAubXVsKHR2NSwgdSk7IC8vIDkuIHR2MyA9IHR2NSAqIHVcbiAgICAgICAgbGV0IHR2NCA9IEZwLm11bCh0djMsIHR2Mik7IC8vIDEwLiB0djQgPSB0djMgKiB0djJcbiAgICAgICAgdHY1ID0gRnAucG93KHR2NCwgYzUpOyAvLyAxMS4gdHY1ID0gdHY0XmM1XG4gICAgICAgIGxldCBpc1FSID0gRnAuZXFsKHR2NSwgRnAuT05FKTsgLy8gMTIuIGlzUVIgPSB0djUgPT0gMVxuICAgICAgICB0djIgPSBGcC5tdWwodHYzLCBjNyk7IC8vIDEzLiB0djIgPSB0djMgKiBjN1xuICAgICAgICB0djUgPSBGcC5tdWwodHY0LCB0djEpOyAvLyAxNC4gdHY1ID0gdHY0ICogdHYxXG4gICAgICAgIHR2MyA9IEZwLmNtb3YodHYyLCB0djMsIGlzUVIpOyAvLyAxNS4gdHYzID0gQ01PVih0djIsIHR2MywgaXNRUilcbiAgICAgICAgdHY0ID0gRnAuY21vdih0djUsIHR2NCwgaXNRUik7IC8vIDE2LiB0djQgPSBDTU9WKHR2NSwgdHY0LCBpc1FSKVxuICAgICAgICAvLyAxNy4gZm9yIGkgaW4gKGMxLCBjMSAtIDEsIC4uLiwgMik6XG4gICAgICAgIGZvciAobGV0IGkgPSBjMTsgaSA+IF8xbjsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgdHY1ID0gaSAtIF8ybjsgLy8gMTguICAgIHR2NSA9IGkgLSAyXG4gICAgICAgICAgICB0djUgPSBfMm4gPDwgKHR2NSAtIF8xbik7IC8vIDE5LiAgICB0djUgPSAyXnR2NVxuICAgICAgICAgICAgbGV0IHR2djUgPSBGcC5wb3codHY0LCB0djUpOyAvLyAyMC4gICAgdHY1ID0gdHY0XnR2NVxuICAgICAgICAgICAgY29uc3QgZTEgPSBGcC5lcWwodHZ2NSwgRnAuT05FKTsgLy8gMjEuICAgIGUxID0gdHY1ID09IDFcbiAgICAgICAgICAgIHR2MiA9IEZwLm11bCh0djMsIHR2MSk7IC8vIDIyLiAgICB0djIgPSB0djMgKiB0djFcbiAgICAgICAgICAgIHR2MSA9IEZwLm11bCh0djEsIHR2MSk7IC8vIDIzLiAgICB0djEgPSB0djEgKiB0djFcbiAgICAgICAgICAgIHR2djUgPSBGcC5tdWwodHY0LCB0djEpOyAvLyAyNC4gICAgdHY1ID0gdHY0ICogdHYxXG4gICAgICAgICAgICB0djMgPSBGcC5jbW92KHR2MiwgdHYzLCBlMSk7IC8vIDI1LiAgICB0djMgPSBDTU9WKHR2MiwgdHYzLCBlMSlcbiAgICAgICAgICAgIHR2NCA9IEZwLmNtb3YodHZ2NSwgdHY0LCBlMSk7IC8vIDI2LiAgICB0djQgPSBDTU9WKHR2NSwgdHY0LCBlMSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiBpc1FSLCB2YWx1ZTogdHYzIH07XG4gICAgfTtcbiAgICBpZiAoRnAuT1JERVIgJSBfNG4gPT09IF8zbikge1xuICAgICAgICAvLyBzcXJ0X3JhdGlvXzNtb2Q0KHUsIHYpXG4gICAgICAgIGNvbnN0IGMxID0gKEZwLk9SREVSIC0gXzNuKSAvIF80bjsgLy8gMS4gYzEgPSAocSAtIDMpIC8gNCAgICAgIyBJbnRlZ2VyIGFyaXRobWV0aWNcbiAgICAgICAgY29uc3QgYzIgPSBGcC5zcXJ0KEZwLm5lZyhaKSk7IC8vIDIuIGMyID0gc3FydCgtWilcbiAgICAgICAgc3FydFJhdGlvID0gKHUsIHYpID0+IHtcbiAgICAgICAgICAgIGxldCB0djEgPSBGcC5zcXIodik7IC8vIDEuIHR2MSA9IHZeMlxuICAgICAgICAgICAgY29uc3QgdHYyID0gRnAubXVsKHUsIHYpOyAvLyAyLiB0djIgPSB1ICogdlxuICAgICAgICAgICAgdHYxID0gRnAubXVsKHR2MSwgdHYyKTsgLy8gMy4gdHYxID0gdHYxICogdHYyXG4gICAgICAgICAgICBsZXQgeTEgPSBGcC5wb3codHYxLCBjMSk7IC8vIDQuIHkxID0gdHYxXmMxXG4gICAgICAgICAgICB5MSA9IEZwLm11bCh5MSwgdHYyKTsgLy8gNS4geTEgPSB5MSAqIHR2MlxuICAgICAgICAgICAgY29uc3QgeTIgPSBGcC5tdWwoeTEsIGMyKTsgLy8gNi4geTIgPSB5MSAqIGMyXG4gICAgICAgICAgICBjb25zdCB0djMgPSBGcC5tdWwoRnAuc3FyKHkxKSwgdik7IC8vIDcuIHR2MyA9IHkxXjI7IDguIHR2MyA9IHR2MyAqIHZcbiAgICAgICAgICAgIGNvbnN0IGlzUVIgPSBGcC5lcWwodHYzLCB1KTsgLy8gOS4gaXNRUiA9IHR2MyA9PSB1XG4gICAgICAgICAgICBsZXQgeSA9IEZwLmNtb3YoeTIsIHkxLCBpc1FSKTsgLy8gMTAuIHkgPSBDTU9WKHkyLCB5MSwgaXNRUilcbiAgICAgICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IGlzUVIsIHZhbHVlOiB5IH07IC8vIDExLiByZXR1cm4gKGlzUVIsIHkpIGlzUVIgPyB5IDogeSpjMlxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBObyBjdXJ2ZXMgdXNlcyB0aGF0XG4gICAgLy8gaWYgKEZwLk9SREVSICUgXzhuID09PSBfNW4pIC8vIHNxcnRfcmF0aW9fNW1vZDhcbiAgICByZXR1cm4gc3FydFJhdGlvO1xufVxuLyoqXG4gKiBTaW1wbGlmaWVkIFNoYWxsdWUtdmFuIGRlIFdvZXN0aWpuZS1VbGFzIE1ldGhvZFxuICogaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzkzODAjc2VjdGlvbi02LjYuMlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwVG9DdXJ2ZVNpbXBsZVNXVShGcCwgb3B0cykge1xuICAgIHZhbGlkYXRlRmllbGQoRnApO1xuICAgIGlmICghRnAuaXNWYWxpZChvcHRzLkEpIHx8ICFGcC5pc1ZhbGlkKG9wdHMuQikgfHwgIUZwLmlzVmFsaWQob3B0cy5aKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXBUb0N1cnZlU2ltcGxlU1dVOiBpbnZhbGlkIG9wdHMnKTtcbiAgICBjb25zdCBzcXJ0UmF0aW8gPSBTV1VGcFNxcnRSYXRpbyhGcCwgb3B0cy5aKTtcbiAgICBpZiAoIUZwLmlzT2RkKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZwLmlzT2RkIGlzIG5vdCBpbXBsZW1lbnRlZCEnKTtcbiAgICAvLyBJbnB1dDogdSwgYW4gZWxlbWVudCBvZiBGLlxuICAgIC8vIE91dHB1dDogKHgsIHkpLCBhIHBvaW50IG9uIEUuXG4gICAgcmV0dXJuICh1KSA9PiB7XG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICBsZXQgdHYxLCB0djIsIHR2MywgdHY0LCB0djUsIHR2NiwgeCwgeTtcbiAgICAgICAgdHYxID0gRnAuc3FyKHUpOyAvLyAxLiAgdHYxID0gdV4yXG4gICAgICAgIHR2MSA9IEZwLm11bCh0djEsIG9wdHMuWik7IC8vIDIuICB0djEgPSBaICogdHYxXG4gICAgICAgIHR2MiA9IEZwLnNxcih0djEpOyAvLyAzLiAgdHYyID0gdHYxXjJcbiAgICAgICAgdHYyID0gRnAuYWRkKHR2MiwgdHYxKTsgLy8gNC4gIHR2MiA9IHR2MiArIHR2MVxuICAgICAgICB0djMgPSBGcC5hZGQodHYyLCBGcC5PTkUpOyAvLyA1LiAgdHYzID0gdHYyICsgMVxuICAgICAgICB0djMgPSBGcC5tdWwodHYzLCBvcHRzLkIpOyAvLyA2LiAgdHYzID0gQiAqIHR2M1xuICAgICAgICB0djQgPSBGcC5jbW92KG9wdHMuWiwgRnAubmVnKHR2MiksICFGcC5lcWwodHYyLCBGcC5aRVJPKSk7IC8vIDcuICB0djQgPSBDTU9WKFosIC10djIsIHR2MiAhPSAwKVxuICAgICAgICB0djQgPSBGcC5tdWwodHY0LCBvcHRzLkEpOyAvLyA4LiAgdHY0ID0gQSAqIHR2NFxuICAgICAgICB0djIgPSBGcC5zcXIodHYzKTsgLy8gOS4gIHR2MiA9IHR2M14yXG4gICAgICAgIHR2NiA9IEZwLnNxcih0djQpOyAvLyAxMC4gdHY2ID0gdHY0XjJcbiAgICAgICAgdHY1ID0gRnAubXVsKHR2Niwgb3B0cy5BKTsgLy8gMTEuIHR2NSA9IEEgKiB0djZcbiAgICAgICAgdHYyID0gRnAuYWRkKHR2MiwgdHY1KTsgLy8gMTIuIHR2MiA9IHR2MiArIHR2NVxuICAgICAgICB0djIgPSBGcC5tdWwodHYyLCB0djMpOyAvLyAxMy4gdHYyID0gdHYyICogdHYzXG4gICAgICAgIHR2NiA9IEZwLm11bCh0djYsIHR2NCk7IC8vIDE0LiB0djYgPSB0djYgKiB0djRcbiAgICAgICAgdHY1ID0gRnAubXVsKHR2Niwgb3B0cy5CKTsgLy8gMTUuIHR2NSA9IEIgKiB0djZcbiAgICAgICAgdHYyID0gRnAuYWRkKHR2MiwgdHY1KTsgLy8gMTYuIHR2MiA9IHR2MiArIHR2NVxuICAgICAgICB4ID0gRnAubXVsKHR2MSwgdHYzKTsgLy8gMTcuICAgeCA9IHR2MSAqIHR2M1xuICAgICAgICBjb25zdCB7IGlzVmFsaWQsIHZhbHVlIH0gPSBzcXJ0UmF0aW8odHYyLCB0djYpOyAvLyAxOC4gKGlzX2d4MV9zcXVhcmUsIHkxKSA9IHNxcnRfcmF0aW8odHYyLCB0djYpXG4gICAgICAgIHkgPSBGcC5tdWwodHYxLCB1KTsgLy8gMTkuICAgeSA9IHR2MSAqIHUgIC0+IFogKiB1XjMgKiB5MVxuICAgICAgICB5ID0gRnAubXVsKHksIHZhbHVlKTsgLy8gMjAuICAgeSA9IHkgKiB5MVxuICAgICAgICB4ID0gRnAuY21vdih4LCB0djMsIGlzVmFsaWQpOyAvLyAyMS4gICB4ID0gQ01PVih4LCB0djMsIGlzX2d4MV9zcXVhcmUpXG4gICAgICAgIHkgPSBGcC5jbW92KHksIHZhbHVlLCBpc1ZhbGlkKTsgLy8gMjIuICAgeSA9IENNT1YoeSwgeTEsIGlzX2d4MV9zcXVhcmUpXG4gICAgICAgIGNvbnN0IGUxID0gRnAuaXNPZGQodSkgPT09IEZwLmlzT2RkKHkpOyAvLyAyMy4gIGUxID0gc2duMCh1KSA9PSBzZ24wKHkpXG4gICAgICAgIHkgPSBGcC5jbW92KEZwLm5lZyh5KSwgeSwgZTEpOyAvLyAyNC4gICB5ID0gQ01PVigteSwgeSwgZTEpXG4gICAgICAgIHggPSBGcC5kaXYoeCwgdHY0KTsgLy8gMjUuICAgeCA9IHggLyB0djRcbiAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWllcnN0cmFzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/weierstrass.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/secp256k1.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/secp256k1.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeToCurve: () => (/* binding */ encodeToCurve),\n/* harmony export */   hashToCurve: () => (/* binding */ hashToCurve),\n/* harmony export */   schnorr: () => (/* binding */ schnorr),\n/* harmony export */   secp256k1: () => (/* binding */ secp256k1)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @noble/hashes/sha256 */ \"(ssr)/./node_modules/@noble/hashes/esm/sha256.js\");\n/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @noble/hashes/utils */ \"(ssr)/./node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _shortw_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_shortw_utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/_shortw_utils.js\");\n/* harmony import */ var _abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./abstract/hash-to-curve.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/hash-to-curve.js\");\n/* harmony import */ var _abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract/modular.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./abstract/utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/utils.js\");\n/* harmony import */ var _abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./abstract/weierstrass.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/abstract/weierstrass.js\");\n/**\n * NIST secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).\n *\n * Seems to be rigid (not backdoored)\n * [as per discussion](https://bitcointalk.org/index.php?topic=289795.msg3183975#msg3183975).\n *\n * secp256k1 belongs to Koblitz curves: it has efficiently computable endomorphism.\n * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n * [See explanation](https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066).\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\n\n\n\n\n\nconst secp256k1P = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');\nconst secp256k1N = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst divNearest = (a, b) => (a + b / _2n) / b;\n/**\n * √n = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y) {\n    const P = secp256k1P;\n    // prettier-ignore\n    const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n    // prettier-ignore\n    const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n    const b2 = (y * y * y) % P; // x^3, 11\n    const b3 = (b2 * b2 * y) % P; // x^7\n    const b6 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b3, _3n, P) * b3) % P;\n    const b9 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b6, _3n, P) * b3) % P;\n    const b11 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b9, _2n, P) * b2) % P;\n    const b22 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b11, _11n, P) * b11) % P;\n    const b44 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b22, _22n, P) * b22) % P;\n    const b88 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b44, _44n, P) * b44) % P;\n    const b176 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b88, _88n, P) * b88) % P;\n    const b220 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b176, _44n, P) * b44) % P;\n    const b223 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b220, _3n, P) * b3) % P;\n    const t1 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b223, _23n, P) * b22) % P;\n    const t2 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(t1, _6n, P) * b2) % P;\n    const root = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(t2, _2n, P);\n    if (!Fpk1.eql(Fpk1.sqr(root), y))\n        throw new Error('Cannot find square root');\n    return root;\n}\nconst Fpk1 = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.Field)(secp256k1P, undefined, undefined, { sqrt: sqrtMod });\n/**\n * secp256k1 short weierstrass curve and ECDSA signatures over it.\n *\n * @example\n * import { secp256k1 } from '@noble/curves/secp256k1';\n *\n * const priv = secp256k1.utils.randomPrivateKey();\n * const pub = secp256k1.getPublicKey(priv);\n * const msg = new Uint8Array(32).fill(1); // message hash (not message) in ecdsa\n * const sig = secp256k1.sign(msg, priv); // `{prehash: true}` option is available\n * const isValid = secp256k1.verify(sig, msg, pub) === true;\n */\nconst secp256k1 = (0,_shortw_utils_js__WEBPACK_IMPORTED_MODULE_1__.createCurve)({\n    a: BigInt(0), // equation params: a, b\n    b: BigInt(7),\n    Fp: Fpk1, // Field's prime: 2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n\n    n: secp256k1N, // Curve order, total count of valid points in the field\n    // Base point (x, y) aka generator point\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    h: BigInt(1), // Cofactor\n    lowS: true, // Allow only low-S signatures by default in sign() and verify()\n    endo: {\n        // Endomorphism, see above\n        beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n        splitScalar: (k) => {\n            const n = secp256k1N;\n            const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n            const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n            const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n            const b2 = a1;\n            const POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)\n            const c1 = divNearest(b2 * k, n);\n            const c2 = divNearest(-b1 * k, n);\n            let k1 = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(k - c1 * a1 - c2 * a2, n);\n            let k2 = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(-c1 * b1 - c2 * b2, n);\n            const k1neg = k1 > POW_2_128;\n            const k2neg = k2 > POW_2_128;\n            if (k1neg)\n                k1 = n - k1;\n            if (k2neg)\n                k2 = n - k2;\n            if (k1 > POW_2_128 || k2 > POW_2_128) {\n                throw new Error('splitScalar: Endomorphism failed, k=' + k);\n            }\n            return { k1neg, k1, k2neg, k2 };\n        },\n    },\n}, _noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__.sha256);\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\nconst _0n = BigInt(0);\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES = {};\nfunction taggedHash(tag, ...messages) {\n    let tagP = TAGGED_HASH_PREFIXES[tag];\n    if (tagP === undefined) {\n        const tagH = (0,_noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__.sha256)(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n        tagP = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.concatBytes)(tagH, tagH);\n        TAGGED_HASH_PREFIXES[tag] = tagP;\n    }\n    return (0,_noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__.sha256)((0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.concatBytes)(tagP, ...messages));\n}\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point) => point.toRawBytes(true).slice(1);\nconst numTo32b = (n) => (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.numberToBytesBE)(n, 32);\nconst modP = (x) => (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(x, secp256k1P);\nconst modN = (x) => (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(x, secp256k1N);\nconst Point = secp256k1.ProjectivePoint;\nconst GmulAdd = (Q, a, b) => Point.BASE.multiplyAndAddUnsafe(Q, a, b);\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv) {\n    let d_ = secp256k1.utils.normPrivateKeyToScalar(priv); // same method executed in fromPrivateKey\n    let p = Point.fromPrivateKey(d_); // P = d'⋅G; 0 < d' < n check is done inside\n    const scalar = p.hasEvenY() ? d_ : modN(-d_);\n    return { scalar: scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x) {\n    (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.aInRange)('x', x, _1n, secp256k1P); // Fail if x ≥ p.\n    const xx = modP(x * x);\n    const c = modP(xx * x + BigInt(7)); // Let c = x³ + 7 mod p.\n    let y = sqrtMod(c); // Let y = c^(p+1)/4 mod p.\n    if (y % _2n !== _0n)\n        y = modP(-y); // Return the unique point P such that x(P) = x and\n    const p = new Point(x, y, _1n); // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n    p.assertValidity();\n    return p;\n}\nconst num = _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.bytesToNumberBE;\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args) {\n    return modN(num(taggedHash('BIP0340/challenge', ...args)));\n}\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(privateKey) {\n    return schnorrGetExtPubKey(privateKey).bytes; // d'=int(sk). Fail if d'=0 or d'≥n. Ret bytes(d'⋅G)\n}\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(message, privateKey, auxRand = (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_4__.randomBytes)(32)) {\n    const m = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('message', message);\n    const { bytes: px, scalar: d } = schnorrGetExtPubKey(privateKey); // checks for isWithinCurveOrder\n    const a = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n    const t = numTo32b(d ^ num(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n    const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n    const k_ = modN(num(rand)); // Let k' = int(rand) mod n\n    if (k_ === _0n)\n        throw new Error('sign failed: k is zero'); // Fail if k' = 0.\n    const { bytes: rx, scalar: k } = schnorrGetExtPubKey(k_); // Let R = k'⋅G.\n    const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n    const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n    sig.set(rx, 0);\n    sig.set(numTo32b(modN(k + e * d)), 32);\n    // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n    if (!schnorrVerify(sig, m, px))\n        throw new Error('sign: Invalid signature produced');\n    return sig;\n}\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature, message, publicKey) {\n    const sig = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('signature', signature, 64);\n    const m = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('message', message);\n    const pub = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('publicKey', publicKey, 32);\n    try {\n        const P = lift_x(num(pub)); // P = lift_x(int(pk)); fail if that fails\n        const r = num(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r ≥ p.\n        if (!(0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.inRange)(r, _1n, secp256k1P))\n            return false;\n        const s = num(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s ≥ n.\n        if (!(0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.inRange)(s, _1n, secp256k1N))\n            return false;\n        const e = challenge(numTo32b(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n        const R = GmulAdd(P, s, modN(-e)); // R = s⋅G - e⋅P\n        if (!R || !R.hasEvenY() || R.toAffine().x !== r)\n            return false; // -eP == (n-e)P\n        return true; // Fail if is_infinite(R) / not has_even_y(R) / x(R) ≠ r.\n    }\n    catch (error) {\n        return false;\n    }\n}\n/**\n * Schnorr signatures over secp256k1.\n * https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n * @example\n * import { schnorr } from '@noble/curves/secp256k1';\n * const priv = schnorr.utils.randomPrivateKey();\n * const pub = schnorr.getPublicKey(priv);\n * const msg = new TextEncoder().encode('hello');\n * const sig = schnorr.sign(msg, priv);\n * const isValid = schnorr.verify(sig, msg, pub);\n */\nconst schnorr = /* @__PURE__ */ (() => ({\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    utils: {\n        randomPrivateKey: secp256k1.utils.randomPrivateKey,\n        lift_x,\n        pointToBytes,\n        numberToBytesBE: _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.numberToBytesBE,\n        bytesToNumberBE: _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.bytesToNumberBE,\n        taggedHash,\n        mod: _abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod,\n    },\n}))();\nconst isoMap = /* @__PURE__ */ (() => (0,_abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_5__.isogenyMap)(Fpk1, [\n    // xNum\n    [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n    ],\n    // xDen\n    [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n    // yNum\n    [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n    ],\n    // yDen\n    [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n].map((i) => i.map((j) => BigInt(j)))))();\nconst mapSWU = /* @__PURE__ */ (() => (0,_abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_6__.mapToCurveSimpleSWU)(Fpk1, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fpk1.create(BigInt('-11')),\n}))();\nconst htf = /* @__PURE__ */ (() => (0,_abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_5__.createHasher)(secp256k1.ProjectivePoint, (scalars) => {\n    const { x, y } = mapSWU(Fpk1.create(scalars[0]));\n    return isoMap(x, y);\n}, {\n    DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n    encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n    p: Fpk1.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: _noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__.sha256,\n}))();\n/** secp256k1 hash-to-curve from [RFC 9380](https://www.rfc-editor.org/rfc/rfc9380). */\nconst hashToCurve = /* @__PURE__ */ (() => htf.hashToCurve)();\n/** secp256k1 encode-to-curve from [RFC 9380](https://www.rfc-editor.org/rfc/rfc9380). */\nconst encodeToCurve = /* @__PURE__ */ (() => htf.encodeToCurve)();\n//# sourceMappingURL=secp256k1.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9zZWNwMjU2azEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM4QztBQUNJO0FBQ0Q7QUFDc0I7QUFDZDtBQUM0RDtBQUNyRDtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMsa0NBQWtDO0FBQ2xDLGdCQUFnQiwwREFBSTtBQUNwQixnQkFBZ0IsMERBQUk7QUFDcEIsaUJBQWlCLDBEQUFJO0FBQ3JCLGlCQUFpQiwwREFBSTtBQUNyQixpQkFBaUIsMERBQUk7QUFDckIsaUJBQWlCLDBEQUFJO0FBQ3JCLGtCQUFrQiwwREFBSTtBQUN0QixrQkFBa0IsMERBQUk7QUFDdEIsa0JBQWtCLDBEQUFJO0FBQ3RCLGdCQUFnQiwwREFBSTtBQUNwQixnQkFBZ0IsMERBQUk7QUFDcEIsaUJBQWlCLDBEQUFJO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwyREFBSyxxQ0FBcUMsZUFBZTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0MsMENBQTBDLEtBQUssY0FBYztBQUM3RDtBQUNBO0FBQ08sa0JBQWtCLDZEQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RTtBQUM3RTtBQUNBO0FBQ0EscUJBQXFCLHlEQUFHO0FBQ3hCLHFCQUFxQix5REFBRztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDLEVBQUUsd0RBQU07QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDREQUFNO0FBQzNCLGVBQWUsK0RBQVc7QUFDMUI7QUFDQTtBQUNBLFdBQVcsNERBQU0sQ0FBQywrREFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUVBQWU7QUFDdkMsb0JBQW9CLHlEQUFHO0FBQ3ZCLG9CQUFvQix5REFBRztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRCxzQ0FBc0MsYUFBYTtBQUNuRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDREQUFRLDJCQUEyQjtBQUN2QztBQUNBLHdDQUF3QztBQUN4Qyx3QkFBd0I7QUFDeEI7QUFDQSxzQkFBc0I7QUFDdEIsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0RBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxnRUFBVztBQUMvRCxjQUFjLCtEQUFXO0FBQ3pCLFlBQVksdUJBQXVCLG1DQUFtQztBQUN0RSxjQUFjLCtEQUFXLDBCQUEwQjtBQUNuRCwrREFBK0Q7QUFDL0Qsd0RBQXdEO0FBQ3hELGdDQUFnQztBQUNoQztBQUNBLG1EQUFtRDtBQUNuRCxZQUFZLHVCQUF1QiwyQkFBMkI7QUFDOUQsb0NBQW9DO0FBQ3BDLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0RBQVc7QUFDM0IsY0FBYywrREFBVztBQUN6QixnQkFBZ0IsK0RBQVc7QUFDM0I7QUFDQSxvQ0FBb0Msd0JBQXdCO0FBQzVELDRDQUE0QywyQkFBMkI7QUFDdkUsYUFBYSwyREFBTztBQUNwQjtBQUNBLDZDQUE2Qyw0QkFBNEI7QUFDekUsYUFBYSwyREFBTztBQUNwQjtBQUNBLDhEQUE4RDtBQUM5RCwyQ0FBMkM7QUFDM0M7QUFDQSwwQkFBMEI7QUFDMUIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLHVCQUF1QjtBQUN2QjtBQUNBLFdBQVc7QUFDWCxLQUFLO0FBQ0wsQ0FBQztBQUNELHNDQUFzQyxzRUFBVTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyw2RUFBbUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG1DQUFtQyx3RUFBWTtBQUMvQyxZQUFZLE9BQU87QUFDbkI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3REFBTTtBQUNoQixDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ087QUFDUCIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL3NlY3AyNTZrMS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE5JU1Qgc2VjcDI1NmsxLiBTZWUgW3BkZl0oaHR0cHM6Ly93d3cuc2VjZy5vcmcvc2VjMi12Mi5wZGYpLlxuICpcbiAqIFNlZW1zIHRvIGJlIHJpZ2lkIChub3QgYmFja2Rvb3JlZClcbiAqIFthcyBwZXIgZGlzY3Vzc2lvbl0oaHR0cHM6Ly9iaXRjb2ludGFsay5vcmcvaW5kZXgucGhwP3RvcGljPTI4OTc5NS5tc2czMTgzOTc1I21zZzMxODM5NzUpLlxuICpcbiAqIHNlY3AyNTZrMSBiZWxvbmdzIHRvIEtvYmxpdHogY3VydmVzOiBpdCBoYXMgZWZmaWNpZW50bHkgY29tcHV0YWJsZSBlbmRvbW9ycGhpc20uXG4gKiBFbmRvbW9ycGhpc20gdXNlcyAyeCBsZXNzIFJBTSwgc3BlZWRzIHVwIHByZWNvbXB1dGF0aW9uIGJ5IDJ4IGFuZCBFQ0RIIC8ga2V5IHJlY292ZXJ5IGJ5IDIwJS5cbiAqIEZvciBwcmVjb21wdXRlZCB3TkFGIGl0IHRyYWRlcyBvZmYgMS8yIGluaXQgdGltZSAmIDEvMyByYW0gZm9yIDIwJSBwZXJmIGhpdC5cbiAqIFtTZWUgZXhwbGFuYXRpb25dKGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3BhdWxtaWxsci9lYjY3MDgwNjc5M2U4NGRmNjI4YTdjNDM0YTg3MzA2NikuXG4gKiBAbW9kdWxlXG4gKi9cbi8qISBub2JsZS1jdXJ2ZXMgLSBNSVQgTGljZW5zZSAoYykgMjAyMiBQYXVsIE1pbGxlciAocGF1bG1pbGxyLmNvbSkgKi9cbmltcG9ydCB7IHNoYTI1NiB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvc2hhMjU2JztcbmltcG9ydCB7IHJhbmRvbUJ5dGVzIH0gZnJvbSAnQG5vYmxlL2hhc2hlcy91dGlscyc7XG5pbXBvcnQgeyBjcmVhdGVDdXJ2ZSB9IGZyb20gJy4vX3Nob3J0d191dGlscy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVIYXNoZXIsIGlzb2dlbnlNYXAgfSBmcm9tICcuL2Fic3RyYWN0L2hhc2gtdG8tY3VydmUuanMnO1xuaW1wb3J0IHsgRmllbGQsIG1vZCwgcG93MiB9IGZyb20gJy4vYWJzdHJhY3QvbW9kdWxhci5qcyc7XG5pbXBvcnQgeyBhSW5SYW5nZSwgYnl0ZXNUb051bWJlckJFLCBjb25jYXRCeXRlcywgZW5zdXJlQnl0ZXMsIGluUmFuZ2UsIG51bWJlclRvQnl0ZXNCRSwgfSBmcm9tICcuL2Fic3RyYWN0L3V0aWxzLmpzJztcbmltcG9ydCB7IG1hcFRvQ3VydmVTaW1wbGVTV1UgfSBmcm9tICcuL2Fic3RyYWN0L3dlaWVyc3RyYXNzLmpzJztcbmNvbnN0IHNlY3AyNTZrMVAgPSBCaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVmZmZmZmMyZicpO1xuY29uc3Qgc2VjcDI1NmsxTiA9IEJpZ0ludCgnMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWJhYWVkY2U2YWY0OGEwM2JiZmQyNWU4Y2QwMzY0MTQxJyk7XG5jb25zdCBfMW4gPSBCaWdJbnQoMSk7XG5jb25zdCBfMm4gPSBCaWdJbnQoMik7XG5jb25zdCBkaXZOZWFyZXN0ID0gKGEsIGIpID0+IChhICsgYiAvIF8ybikgLyBiO1xuLyoqXG4gKiDiiJpuID0gbl4oKHArMSkvNCkgZm9yIGZpZWxkcyBwID0gMyBtb2QgNC4gV2UgdW53cmFwIHRoZSBsb29wIGFuZCBtdWx0aXBseSBiaXQtYnktYml0LlxuICogKFArMW4vNG4pLnRvU3RyaW5nKDIpIHdvdWxkIHByb2R1Y2UgYml0cyBbMjIzeCAxLCAwLCAyMnggMSwgNHggMCwgMTEsIDAwXVxuICovXG5mdW5jdGlvbiBzcXJ0TW9kKHkpIHtcbiAgICBjb25zdCBQID0gc2VjcDI1NmsxUDtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfM24gPSBCaWdJbnQoMyksIF82biA9IEJpZ0ludCg2KSwgXzExbiA9IEJpZ0ludCgxMSksIF8yMm4gPSBCaWdJbnQoMjIpO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF8yM24gPSBCaWdJbnQoMjMpLCBfNDRuID0gQmlnSW50KDQ0KSwgXzg4biA9IEJpZ0ludCg4OCk7XG4gICAgY29uc3QgYjIgPSAoeSAqIHkgKiB5KSAlIFA7IC8vIHheMywgMTFcbiAgICBjb25zdCBiMyA9IChiMiAqIGIyICogeSkgJSBQOyAvLyB4XjdcbiAgICBjb25zdCBiNiA9IChwb3cyKGIzLCBfM24sIFApICogYjMpICUgUDtcbiAgICBjb25zdCBiOSA9IChwb3cyKGI2LCBfM24sIFApICogYjMpICUgUDtcbiAgICBjb25zdCBiMTEgPSAocG93MihiOSwgXzJuLCBQKSAqIGIyKSAlIFA7XG4gICAgY29uc3QgYjIyID0gKHBvdzIoYjExLCBfMTFuLCBQKSAqIGIxMSkgJSBQO1xuICAgIGNvbnN0IGI0NCA9IChwb3cyKGIyMiwgXzIybiwgUCkgKiBiMjIpICUgUDtcbiAgICBjb25zdCBiODggPSAocG93MihiNDQsIF80NG4sIFApICogYjQ0KSAlIFA7XG4gICAgY29uc3QgYjE3NiA9IChwb3cyKGI4OCwgXzg4biwgUCkgKiBiODgpICUgUDtcbiAgICBjb25zdCBiMjIwID0gKHBvdzIoYjE3NiwgXzQ0biwgUCkgKiBiNDQpICUgUDtcbiAgICBjb25zdCBiMjIzID0gKHBvdzIoYjIyMCwgXzNuLCBQKSAqIGIzKSAlIFA7XG4gICAgY29uc3QgdDEgPSAocG93MihiMjIzLCBfMjNuLCBQKSAqIGIyMikgJSBQO1xuICAgIGNvbnN0IHQyID0gKHBvdzIodDEsIF82biwgUCkgKiBiMikgJSBQO1xuICAgIGNvbnN0IHJvb3QgPSBwb3cyKHQyLCBfMm4sIFApO1xuICAgIGlmICghRnBrMS5lcWwoRnBrMS5zcXIocm9vdCksIHkpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHNxdWFyZSByb290Jyk7XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5jb25zdCBGcGsxID0gRmllbGQoc2VjcDI1NmsxUCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHsgc3FydDogc3FydE1vZCB9KTtcbi8qKlxuICogc2VjcDI1NmsxIHNob3J0IHdlaWVyc3RyYXNzIGN1cnZlIGFuZCBFQ0RTQSBzaWduYXR1cmVzIG92ZXIgaXQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHNlY3AyNTZrMSB9IGZyb20gJ0Bub2JsZS9jdXJ2ZXMvc2VjcDI1NmsxJztcbiAqXG4gKiBjb25zdCBwcml2ID0gc2VjcDI1NmsxLnV0aWxzLnJhbmRvbVByaXZhdGVLZXkoKTtcbiAqIGNvbnN0IHB1YiA9IHNlY3AyNTZrMS5nZXRQdWJsaWNLZXkocHJpdik7XG4gKiBjb25zdCBtc2cgPSBuZXcgVWludDhBcnJheSgzMikuZmlsbCgxKTsgLy8gbWVzc2FnZSBoYXNoIChub3QgbWVzc2FnZSkgaW4gZWNkc2FcbiAqIGNvbnN0IHNpZyA9IHNlY3AyNTZrMS5zaWduKG1zZywgcHJpdik7IC8vIGB7cHJlaGFzaDogdHJ1ZX1gIG9wdGlvbiBpcyBhdmFpbGFibGVcbiAqIGNvbnN0IGlzVmFsaWQgPSBzZWNwMjU2azEudmVyaWZ5KHNpZywgbXNnLCBwdWIpID09PSB0cnVlO1xuICovXG5leHBvcnQgY29uc3Qgc2VjcDI1NmsxID0gY3JlYXRlQ3VydmUoe1xuICAgIGE6IEJpZ0ludCgwKSwgLy8gZXF1YXRpb24gcGFyYW1zOiBhLCBiXG4gICAgYjogQmlnSW50KDcpLFxuICAgIEZwOiBGcGsxLCAvLyBGaWVsZCdzIHByaW1lOiAybioqMjU2biAtIDJuKiozMm4gLSAybioqOW4gLSAybioqOG4gLSAybioqN24gLSAybioqNm4gLSAybioqNG4gLSAxblxuICAgIG46IHNlY3AyNTZrMU4sIC8vIEN1cnZlIG9yZGVyLCB0b3RhbCBjb3VudCBvZiB2YWxpZCBwb2ludHMgaW4gdGhlIGZpZWxkXG4gICAgLy8gQmFzZSBwb2ludCAoeCwgeSkgYWthIGdlbmVyYXRvciBwb2ludFxuICAgIEd4OiBCaWdJbnQoJzU1MDY2MjYzMDIyMjc3MzQzNjY5NTc4NzE4ODk1MTY4NTM0MzI2MjUwNjAzNDUzNzc3NTk0MTc1NTAwMTg3MzYwMzg5MTE2NzI5MjQwJyksXG4gICAgR3k6IEJpZ0ludCgnMzI2NzA1MTAwMjA3NTg4MTY5NzgwODMwODUxMzA1MDcwNDMxODQ0NzEyNzMzODA2NTkyNDMyNzU5Mzg5MDQzMzU3NTczMzc0ODI0MjQnKSxcbiAgICBoOiBCaWdJbnQoMSksIC8vIENvZmFjdG9yXG4gICAgbG93UzogdHJ1ZSwgLy8gQWxsb3cgb25seSBsb3ctUyBzaWduYXR1cmVzIGJ5IGRlZmF1bHQgaW4gc2lnbigpIGFuZCB2ZXJpZnkoKVxuICAgIGVuZG86IHtcbiAgICAgICAgLy8gRW5kb21vcnBoaXNtLCBzZWUgYWJvdmVcbiAgICAgICAgYmV0YTogQmlnSW50KCcweDdhZTk2YTJiNjU3YzA3MTA2ZTY0NDc5ZWFjMzQzNGU5OWNmMDQ5NzUxMmY1ODk5NWMxMzk2YzI4NzE5NTAxZWUnKSxcbiAgICAgICAgc3BsaXRTY2FsYXI6IChrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gc2VjcDI1NmsxTjtcbiAgICAgICAgICAgIGNvbnN0IGExID0gQmlnSW50KCcweDMwODZkMjIxYTdkNDZiY2RlODZjOTBlNDkyODRlYjE1Jyk7XG4gICAgICAgICAgICBjb25zdCBiMSA9IC1fMW4gKiBCaWdJbnQoJzB4ZTQ0MzdlZDYwMTBlODgyODZmNTQ3ZmE5MGFiZmU0YzMnKTtcbiAgICAgICAgICAgIGNvbnN0IGEyID0gQmlnSW50KCcweDExNGNhNTBmN2E4ZTJmM2Y2NTdjMTEwOGQ5ZDQ0Y2ZkOCcpO1xuICAgICAgICAgICAgY29uc3QgYjIgPSBhMTtcbiAgICAgICAgICAgIGNvbnN0IFBPV18yXzEyOCA9IEJpZ0ludCgnMHgxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKTsgLy8gKDJuKioxMjhuKS50b1N0cmluZygxNilcbiAgICAgICAgICAgIGNvbnN0IGMxID0gZGl2TmVhcmVzdChiMiAqIGssIG4pO1xuICAgICAgICAgICAgY29uc3QgYzIgPSBkaXZOZWFyZXN0KC1iMSAqIGssIG4pO1xuICAgICAgICAgICAgbGV0IGsxID0gbW9kKGsgLSBjMSAqIGExIC0gYzIgKiBhMiwgbik7XG4gICAgICAgICAgICBsZXQgazIgPSBtb2QoLWMxICogYjEgLSBjMiAqIGIyLCBuKTtcbiAgICAgICAgICAgIGNvbnN0IGsxbmVnID0gazEgPiBQT1dfMl8xMjg7XG4gICAgICAgICAgICBjb25zdCBrMm5lZyA9IGsyID4gUE9XXzJfMTI4O1xuICAgICAgICAgICAgaWYgKGsxbmVnKVxuICAgICAgICAgICAgICAgIGsxID0gbiAtIGsxO1xuICAgICAgICAgICAgaWYgKGsybmVnKVxuICAgICAgICAgICAgICAgIGsyID0gbiAtIGsyO1xuICAgICAgICAgICAgaWYgKGsxID4gUE9XXzJfMTI4IHx8IGsyID4gUE9XXzJfMTI4KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzcGxpdFNjYWxhcjogRW5kb21vcnBoaXNtIGZhaWxlZCwgaz0nICsgayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBrMW5lZywgazEsIGsybmVnLCBrMiB9O1xuICAgICAgICB9LFxuICAgIH0sXG59LCBzaGEyNTYpO1xuLy8gU2Nobm9yciBzaWduYXR1cmVzIGFyZSBzdXBlcmlvciB0byBFQ0RTQSBmcm9tIGFib3ZlLiBCZWxvdyBpcyBTY2hub3JyLXNwZWNpZmljIEJJUDAzNDAgY29kZS5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luL2JpcHMvYmxvYi9tYXN0ZXIvYmlwLTAzNDAubWVkaWF3aWtpXG5jb25zdCBfMG4gPSBCaWdJbnQoMCk7XG4vKiogQW4gb2JqZWN0IG1hcHBpbmcgdGFncyB0byB0aGVpciB0YWdnZWQgaGFzaCBwcmVmaXggb2YgW1NIQTI1Nih0YWcpIHwgU0hBMjU2KHRhZyldICovXG5jb25zdCBUQUdHRURfSEFTSF9QUkVGSVhFUyA9IHt9O1xuZnVuY3Rpb24gdGFnZ2VkSGFzaCh0YWcsIC4uLm1lc3NhZ2VzKSB7XG4gICAgbGV0IHRhZ1AgPSBUQUdHRURfSEFTSF9QUkVGSVhFU1t0YWddO1xuICAgIGlmICh0YWdQID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgdGFnSCA9IHNoYTI1NihVaW50OEFycmF5LmZyb20odGFnLCAoYykgPT4gYy5jaGFyQ29kZUF0KDApKSk7XG4gICAgICAgIHRhZ1AgPSBjb25jYXRCeXRlcyh0YWdILCB0YWdIKTtcbiAgICAgICAgVEFHR0VEX0hBU0hfUFJFRklYRVNbdGFnXSA9IHRhZ1A7XG4gICAgfVxuICAgIHJldHVybiBzaGEyNTYoY29uY2F0Qnl0ZXModGFnUCwgLi4ubWVzc2FnZXMpKTtcbn1cbi8vIEVDRFNBIGNvbXBhY3QgcG9pbnRzIGFyZSAzMy1ieXRlLiBTY2hub3JyIGlzIDMyOiB3ZSBzdHJpcCBmaXJzdCBieXRlIDB4MDIgb3IgMHgwM1xuY29uc3QgcG9pbnRUb0J5dGVzID0gKHBvaW50KSA9PiBwb2ludC50b1Jhd0J5dGVzKHRydWUpLnNsaWNlKDEpO1xuY29uc3QgbnVtVG8zMmIgPSAobikgPT4gbnVtYmVyVG9CeXRlc0JFKG4sIDMyKTtcbmNvbnN0IG1vZFAgPSAoeCkgPT4gbW9kKHgsIHNlY3AyNTZrMVApO1xuY29uc3QgbW9kTiA9ICh4KSA9PiBtb2QoeCwgc2VjcDI1NmsxTik7XG5jb25zdCBQb2ludCA9IHNlY3AyNTZrMS5Qcm9qZWN0aXZlUG9pbnQ7XG5jb25zdCBHbXVsQWRkID0gKFEsIGEsIGIpID0+IFBvaW50LkJBU0UubXVsdGlwbHlBbmRBZGRVbnNhZmUoUSwgYSwgYik7XG4vLyBDYWxjdWxhdGUgcG9pbnQsIHNjYWxhciBhbmQgYnl0ZXNcbmZ1bmN0aW9uIHNjaG5vcnJHZXRFeHRQdWJLZXkocHJpdikge1xuICAgIGxldCBkXyA9IHNlY3AyNTZrMS51dGlscy5ub3JtUHJpdmF0ZUtleVRvU2NhbGFyKHByaXYpOyAvLyBzYW1lIG1ldGhvZCBleGVjdXRlZCBpbiBmcm9tUHJpdmF0ZUtleVxuICAgIGxldCBwID0gUG9pbnQuZnJvbVByaXZhdGVLZXkoZF8pOyAvLyBQID0gZCfii4VHOyAwIDwgZCcgPCBuIGNoZWNrIGlzIGRvbmUgaW5zaWRlXG4gICAgY29uc3Qgc2NhbGFyID0gcC5oYXNFdmVuWSgpID8gZF8gOiBtb2ROKC1kXyk7XG4gICAgcmV0dXJuIHsgc2NhbGFyOiBzY2FsYXIsIGJ5dGVzOiBwb2ludFRvQnl0ZXMocCkgfTtcbn1cbi8qKlxuICogbGlmdF94IGZyb20gQklQMzQwLiBDb252ZXJ0IDMyLWJ5dGUgeCBjb29yZGluYXRlIHRvIGVsbGlwdGljIGN1cnZlIHBvaW50LlxuICogQHJldHVybnMgdmFsaWQgcG9pbnQgY2hlY2tlZCBmb3IgYmVpbmcgb24tY3VydmVcbiAqL1xuZnVuY3Rpb24gbGlmdF94KHgpIHtcbiAgICBhSW5SYW5nZSgneCcsIHgsIF8xbiwgc2VjcDI1NmsxUCk7IC8vIEZhaWwgaWYgeCDiiaUgcC5cbiAgICBjb25zdCB4eCA9IG1vZFAoeCAqIHgpO1xuICAgIGNvbnN0IGMgPSBtb2RQKHh4ICogeCArIEJpZ0ludCg3KSk7IC8vIExldCBjID0geMKzICsgNyBtb2QgcC5cbiAgICBsZXQgeSA9IHNxcnRNb2QoYyk7IC8vIExldCB5ID0gY14ocCsxKS80IG1vZCBwLlxuICAgIGlmICh5ICUgXzJuICE9PSBfMG4pXG4gICAgICAgIHkgPSBtb2RQKC15KTsgLy8gUmV0dXJuIHRoZSB1bmlxdWUgcG9pbnQgUCBzdWNoIHRoYXQgeChQKSA9IHggYW5kXG4gICAgY29uc3QgcCA9IG5ldyBQb2ludCh4LCB5LCBfMW4pOyAvLyB5KFApID0geSBpZiB5IG1vZCAyID0gMCBvciB5KFApID0gcC15IG90aGVyd2lzZS5cbiAgICBwLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgcmV0dXJuIHA7XG59XG5jb25zdCBudW0gPSBieXRlc1RvTnVtYmVyQkU7XG4vKipcbiAqIENyZWF0ZSB0YWdnZWQgaGFzaCwgY29udmVydCBpdCB0byBiaWdpbnQsIHJlZHVjZSBtb2R1bG8tbi5cbiAqL1xuZnVuY3Rpb24gY2hhbGxlbmdlKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gbW9kTihudW0odGFnZ2VkSGFzaCgnQklQMDM0MC9jaGFsbGVuZ2UnLCAuLi5hcmdzKSkpO1xufVxuLyoqXG4gKiBTY2hub3JyIHB1YmxpYyBrZXkgaXMganVzdCBgeGAgY29vcmRpbmF0ZSBvZiBQb2ludCBhcyBwZXIgQklQMzQwLlxuICovXG5mdW5jdGlvbiBzY2hub3JyR2V0UHVibGljS2V5KHByaXZhdGVLZXkpIHtcbiAgICByZXR1cm4gc2Nobm9yckdldEV4dFB1YktleShwcml2YXRlS2V5KS5ieXRlczsgLy8gZCc9aW50KHNrKS4gRmFpbCBpZiBkJz0wIG9yIGQn4omlbi4gUmV0IGJ5dGVzKGQn4ouFRylcbn1cbi8qKlxuICogQ3JlYXRlcyBTY2hub3JyIHNpZ25hdHVyZSBhcyBwZXIgQklQMzQwLiBWZXJpZmllcyBpdHNlbGYgYmVmb3JlIHJldHVybmluZyBhbnl0aGluZy5cbiAqIGF1eFJhbmQgaXMgb3B0aW9uYWwgYW5kIGlzIG5vdCB0aGUgc29sZSBzb3VyY2Ugb2YgayBnZW5lcmF0aW9uOiBiYWQgQ1NQUk5HIHdvbid0IGJlIGRhbmdlcm91cy5cbiAqL1xuZnVuY3Rpb24gc2Nobm9yclNpZ24obWVzc2FnZSwgcHJpdmF0ZUtleSwgYXV4UmFuZCA9IHJhbmRvbUJ5dGVzKDMyKSkge1xuICAgIGNvbnN0IG0gPSBlbnN1cmVCeXRlcygnbWVzc2FnZScsIG1lc3NhZ2UpO1xuICAgIGNvbnN0IHsgYnl0ZXM6IHB4LCBzY2FsYXI6IGQgfSA9IHNjaG5vcnJHZXRFeHRQdWJLZXkocHJpdmF0ZUtleSk7IC8vIGNoZWNrcyBmb3IgaXNXaXRoaW5DdXJ2ZU9yZGVyXG4gICAgY29uc3QgYSA9IGVuc3VyZUJ5dGVzKCdhdXhSYW5kJywgYXV4UmFuZCwgMzIpOyAvLyBBdXhpbGlhcnkgcmFuZG9tIGRhdGEgYTogYSAzMi1ieXRlIGFycmF5XG4gICAgY29uc3QgdCA9IG51bVRvMzJiKGQgXiBudW0odGFnZ2VkSGFzaCgnQklQMDM0MC9hdXgnLCBhKSkpOyAvLyBMZXQgdCBiZSB0aGUgYnl0ZS13aXNlIHhvciBvZiBieXRlcyhkKSBhbmQgaGFzaC9hdXgoYSlcbiAgICBjb25zdCByYW5kID0gdGFnZ2VkSGFzaCgnQklQMDM0MC9ub25jZScsIHQsIHB4LCBtKTsgLy8gTGV0IHJhbmQgPSBoYXNoL25vbmNlKHQgfHwgYnl0ZXMoUCkgfHwgbSlcbiAgICBjb25zdCBrXyA9IG1vZE4obnVtKHJhbmQpKTsgLy8gTGV0IGsnID0gaW50KHJhbmQpIG1vZCBuXG4gICAgaWYgKGtfID09PSBfMG4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2lnbiBmYWlsZWQ6IGsgaXMgemVybycpOyAvLyBGYWlsIGlmIGsnID0gMC5cbiAgICBjb25zdCB7IGJ5dGVzOiByeCwgc2NhbGFyOiBrIH0gPSBzY2hub3JyR2V0RXh0UHViS2V5KGtfKTsgLy8gTGV0IFIgPSBrJ+KLhUcuXG4gICAgY29uc3QgZSA9IGNoYWxsZW5nZShyeCwgcHgsIG0pOyAvLyBMZXQgZSA9IGludChoYXNoL2NoYWxsZW5nZShieXRlcyhSKSB8fCBieXRlcyhQKSB8fCBtKSkgbW9kIG4uXG4gICAgY29uc3Qgc2lnID0gbmV3IFVpbnQ4QXJyYXkoNjQpOyAvLyBMZXQgc2lnID0gYnl0ZXMoUikgfHwgYnl0ZXMoKGsgKyBlZCkgbW9kIG4pLlxuICAgIHNpZy5zZXQocngsIDApO1xuICAgIHNpZy5zZXQobnVtVG8zMmIobW9kTihrICsgZSAqIGQpKSwgMzIpO1xuICAgIC8vIElmIFZlcmlmeShieXRlcyhQKSwgbSwgc2lnKSAoc2VlIGJlbG93KSByZXR1cm5zIGZhaWx1cmUsIGFib3J0XG4gICAgaWYgKCFzY2hub3JyVmVyaWZ5KHNpZywgbSwgcHgpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ246IEludmFsaWQgc2lnbmF0dXJlIHByb2R1Y2VkJyk7XG4gICAgcmV0dXJuIHNpZztcbn1cbi8qKlxuICogVmVyaWZpZXMgU2Nobm9yciBzaWduYXR1cmUuXG4gKiBXaWxsIHN3YWxsb3cgZXJyb3JzICYgcmV0dXJuIGZhbHNlIGV4Y2VwdCBmb3IgaW5pdGlhbCB0eXBlIHZhbGlkYXRpb24gb2YgYXJndW1lbnRzLlxuICovXG5mdW5jdGlvbiBzY2hub3JyVmVyaWZ5KHNpZ25hdHVyZSwgbWVzc2FnZSwgcHVibGljS2V5KSB7XG4gICAgY29uc3Qgc2lnID0gZW5zdXJlQnl0ZXMoJ3NpZ25hdHVyZScsIHNpZ25hdHVyZSwgNjQpO1xuICAgIGNvbnN0IG0gPSBlbnN1cmVCeXRlcygnbWVzc2FnZScsIG1lc3NhZ2UpO1xuICAgIGNvbnN0IHB1YiA9IGVuc3VyZUJ5dGVzKCdwdWJsaWNLZXknLCBwdWJsaWNLZXksIDMyKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBQID0gbGlmdF94KG51bShwdWIpKTsgLy8gUCA9IGxpZnRfeChpbnQocGspKTsgZmFpbCBpZiB0aGF0IGZhaWxzXG4gICAgICAgIGNvbnN0IHIgPSBudW0oc2lnLnN1YmFycmF5KDAsIDMyKSk7IC8vIExldCByID0gaW50KHNpZ1swOjMyXSk7IGZhaWwgaWYgciDiiaUgcC5cbiAgICAgICAgaWYgKCFpblJhbmdlKHIsIF8xbiwgc2VjcDI1NmsxUCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IHMgPSBudW0oc2lnLnN1YmFycmF5KDMyLCA2NCkpOyAvLyBMZXQgcyA9IGludChzaWdbMzI6NjRdKTsgZmFpbCBpZiBzIOKJpSBuLlxuICAgICAgICBpZiAoIWluUmFuZ2UocywgXzFuLCBzZWNwMjU2azFOKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgZSA9IGNoYWxsZW5nZShudW1UbzMyYihyKSwgcG9pbnRUb0J5dGVzKFApLCBtKTsgLy8gaW50KGNoYWxsZW5nZShieXRlcyhyKXx8Ynl0ZXMoUCl8fG0pKSVuXG4gICAgICAgIGNvbnN0IFIgPSBHbXVsQWRkKFAsIHMsIG1vZE4oLWUpKTsgLy8gUiA9IHPii4VHIC0gZeKLhVBcbiAgICAgICAgaWYgKCFSIHx8ICFSLmhhc0V2ZW5ZKCkgfHwgUi50b0FmZmluZSgpLnggIT09IHIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIC1lUCA9PSAobi1lKVBcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIEZhaWwgaWYgaXNfaW5maW5pdGUoUikgLyBub3QgaGFzX2V2ZW5feShSKSAvIHgoUikg4omgIHIuXG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBTY2hub3JyIHNpZ25hdHVyZXMgb3ZlciBzZWNwMjU2azEuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYml0Y29pbi9iaXBzL2Jsb2IvbWFzdGVyL2JpcC0wMzQwLm1lZGlhd2lraVxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHNjaG5vcnIgfSBmcm9tICdAbm9ibGUvY3VydmVzL3NlY3AyNTZrMSc7XG4gKiBjb25zdCBwcml2ID0gc2Nobm9yci51dGlscy5yYW5kb21Qcml2YXRlS2V5KCk7XG4gKiBjb25zdCBwdWIgPSBzY2hub3JyLmdldFB1YmxpY0tleShwcml2KTtcbiAqIGNvbnN0IG1zZyA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSgnaGVsbG8nKTtcbiAqIGNvbnN0IHNpZyA9IHNjaG5vcnIuc2lnbihtc2csIHByaXYpO1xuICogY29uc3QgaXNWYWxpZCA9IHNjaG5vcnIudmVyaWZ5KHNpZywgbXNnLCBwdWIpO1xuICovXG5leHBvcnQgY29uc3Qgc2Nobm9yciA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gKHtcbiAgICBnZXRQdWJsaWNLZXk6IHNjaG5vcnJHZXRQdWJsaWNLZXksXG4gICAgc2lnbjogc2Nobm9yclNpZ24sXG4gICAgdmVyaWZ5OiBzY2hub3JyVmVyaWZ5LFxuICAgIHV0aWxzOiB7XG4gICAgICAgIHJhbmRvbVByaXZhdGVLZXk6IHNlY3AyNTZrMS51dGlscy5yYW5kb21Qcml2YXRlS2V5LFxuICAgICAgICBsaWZ0X3gsXG4gICAgICAgIHBvaW50VG9CeXRlcyxcbiAgICAgICAgbnVtYmVyVG9CeXRlc0JFLFxuICAgICAgICBieXRlc1RvTnVtYmVyQkUsXG4gICAgICAgIHRhZ2dlZEhhc2gsXG4gICAgICAgIG1vZCxcbiAgICB9LFxufSkpKCk7XG5jb25zdCBpc29NYXAgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IGlzb2dlbnlNYXAoRnBrMSwgW1xuICAgIC8vIHhOdW1cbiAgICBbXG4gICAgICAgICcweDhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhkYWFhYWE4YzcnLFxuICAgICAgICAnMHg3ZDNkNGM4MGJjMzIxZDViOWYzMTVjZWE3ZmQ0NGM1ZDU5NWQyZmMwYmY2M2I5MmRmZmYxMDQ0ZjE3YzY1ODEnLFxuICAgICAgICAnMHg1MzRjMzI4ZDIzZjIzNGU2ZTJhNDEzZGVjYTI1Y2FlY2U0NTA2MTQ0MDM3YzQwMzE0ZWNiZDBiNTNkOWRkMjYyJyxcbiAgICAgICAgJzB4OGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGRhYWFhYTg4YycsXG4gICAgXSxcbiAgICAvLyB4RGVuXG4gICAgW1xuICAgICAgICAnMHhkMzU3NzExOTNkOTQ5MThhOWNhMzRjY2JiN2I2NDBkZDg2Y2Q0MDk1NDJmODQ4N2Q5ZmU2Yjc0NTc4MWViNDliJyxcbiAgICAgICAgJzB4ZWRhZGM2ZjY0MzgzZGMxZGY3YzRiMmQ1MWI1NDIyNTQwNmQzNmI2NDFmNWU0MWJiYzUyYTU2NjEyYThjNmQxNCcsXG4gICAgICAgICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEnLCAvLyBMQVNUIDFcbiAgICBdLFxuICAgIC8vIHlOdW1cbiAgICBbXG4gICAgICAgICcweDRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiOGUzOGUyM2MnLFxuICAgICAgICAnMHhjNzVlMGMzMmQ1Y2I3YzBmYTlkMGE1NGIxMmEwYTZkNTY0N2FiMDQ2ZDY4NmRhNmZkZmZjOTBmYzIwMWQ3MWEzJyxcbiAgICAgICAgJzB4MjlhNjE5NDY5MWY5MWE3MzcxNTIwOWVmNjUxMmU1NzY3MjI4MzBhMjAxYmUyMDE4YTc2NWU4NWE5ZWNlZTkzMScsXG4gICAgICAgICcweDJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmMzhlMzhkODQnLFxuICAgIF0sXG4gICAgLy8geURlblxuICAgIFtcbiAgICAgICAgJzB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVmZmZmZjkzYicsXG4gICAgICAgICcweDdhMDY1MzRiYjhiZGI0OWZkNWU5ZTY2MzI3MjJjMjk4OTQ2N2MxYmZjOGU4ZDk3OGRmYjQyNWQyNjg1YzI1NzMnLFxuICAgICAgICAnMHg2NDg0YWE3MTY1NDVjYTJjZjNhNzBjM2ZhOGZlMzM3ZTBhM2QyMTE2MmYwZDYyOTlhN2JmODE5MmJmZDJhNzZmJyxcbiAgICAgICAgJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMScsIC8vIExBU1QgMVxuICAgIF0sXG5dLm1hcCgoaSkgPT4gaS5tYXAoKGopID0+IEJpZ0ludChqKSkpKSkoKTtcbmNvbnN0IG1hcFNXVSA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gbWFwVG9DdXJ2ZVNpbXBsZVNXVShGcGsxLCB7XG4gICAgQTogQmlnSW50KCcweDNmODczMWFiZGQ2NjFhZGNhMDhhNTU1OGYwZjVkMjcyZTk1M2QzNjNjYjZmMGU1ZDQwNTQ0N2MwMWE0NDQ1MzMnKSxcbiAgICBCOiBCaWdJbnQoJzE3NzEnKSxcbiAgICBaOiBGcGsxLmNyZWF0ZShCaWdJbnQoJy0xMScpKSxcbn0pKSgpO1xuY29uc3QgaHRmID0gLyogQF9fUFVSRV9fICovICgoKSA9PiBjcmVhdGVIYXNoZXIoc2VjcDI1NmsxLlByb2plY3RpdmVQb2ludCwgKHNjYWxhcnMpID0+IHtcbiAgICBjb25zdCB7IHgsIHkgfSA9IG1hcFNXVShGcGsxLmNyZWF0ZShzY2FsYXJzWzBdKSk7XG4gICAgcmV0dXJuIGlzb01hcCh4LCB5KTtcbn0sIHtcbiAgICBEU1Q6ICdzZWNwMjU2azFfWE1EOlNIQS0yNTZfU1NXVV9ST18nLFxuICAgIGVuY29kZURTVDogJ3NlY3AyNTZrMV9YTUQ6U0hBLTI1Nl9TU1dVX05VXycsXG4gICAgcDogRnBrMS5PUkRFUixcbiAgICBtOiAxLFxuICAgIGs6IDEyOCxcbiAgICBleHBhbmQ6ICd4bWQnLFxuICAgIGhhc2g6IHNoYTI1Nixcbn0pKSgpO1xuLyoqIHNlY3AyNTZrMSBoYXNoLXRvLWN1cnZlIGZyb20gW1JGQyA5MzgwXShodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCkuICovXG5leHBvcnQgY29uc3QgaGFzaFRvQ3VydmUgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IGh0Zi5oYXNoVG9DdXJ2ZSkoKTtcbi8qKiBzZWNwMjU2azEgZW5jb2RlLXRvLWN1cnZlIGZyb20gW1JGQyA5MzgwXShodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCkuICovXG5leHBvcnQgY29uc3QgZW5jb2RlVG9DdXJ2ZSA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gaHRmLmVuY29kZVRvQ3VydmUpKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWNwMjU2azEuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/secp256k1.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/core/dist/index.es.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/core/dist/index.es.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CORE_CONTEXT: () => (/* binding */ he),\n/* harmony export */   CORE_DEFAULT: () => (/* binding */ Et),\n/* harmony export */   CORE_PROTOCOL: () => (/* binding */ ze),\n/* harmony export */   CORE_STORAGE_OPTIONS: () => (/* binding */ It),\n/* harmony export */   CORE_STORAGE_PREFIX: () => (/* binding */ B),\n/* harmony export */   CORE_VERSION: () => (/* binding */ Le),\n/* harmony export */   CRYPTO_CLIENT_SEED: () => (/* binding */ ke),\n/* harmony export */   CRYPTO_CONTEXT: () => (/* binding */ Tt),\n/* harmony export */   CRYPTO_JWT_TTL: () => (/* binding */ Ct),\n/* harmony export */   Core: () => (/* binding */ Jo),\n/* harmony export */   Crypto: () => (/* binding */ vi),\n/* harmony export */   ECHO_CONTEXT: () => (/* binding */ Xt),\n/* harmony export */   ECHO_URL: () => (/* binding */ Zt),\n/* harmony export */   EVENTS_CLIENT_API_URL: () => (/* binding */ ii),\n/* harmony export */   EVENTS_STORAGE_CLEANUP_INTERVAL: () => (/* binding */ ti),\n/* harmony export */   EVENTS_STORAGE_CONTEXT: () => (/* binding */ ei),\n/* harmony export */   EVENTS_STORAGE_VERSION: () => (/* binding */ Qt),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_ERRORS: () => (/* binding */ ir),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_TRACES: () => (/* binding */ tr),\n/* harmony export */   EVENT_CLIENT_CONTEXT: () => (/* binding */ Zs),\n/* harmony export */   EVENT_CLIENT_PAIRING_ERRORS: () => (/* binding */ Y),\n/* harmony export */   EVENT_CLIENT_PAIRING_TRACES: () => (/* binding */ G),\n/* harmony export */   EVENT_CLIENT_SESSION_ERRORS: () => (/* binding */ er),\n/* harmony export */   EVENT_CLIENT_SESSION_TRACES: () => (/* binding */ Qs),\n/* harmony export */   EXPIRER_CONTEXT: () => (/* binding */ qt),\n/* harmony export */   EXPIRER_DEFAULT_TTL: () => (/* binding */ Js),\n/* harmony export */   EXPIRER_EVENTS: () => (/* binding */ F),\n/* harmony export */   EXPIRER_STORAGE_VERSION: () => (/* binding */ Gt),\n/* harmony export */   EchoClient: () => (/* binding */ Fi),\n/* harmony export */   EventClient: () => (/* binding */ Bi),\n/* harmony export */   Expirer: () => (/* binding */ ji),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ Bt),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ M),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Vt),\n/* harmony export */   JsonRpcHistory: () => (/* binding */ ki),\n/* harmony export */   KEYCHAIN_CONTEXT: () => (/* binding */ Pt),\n/* harmony export */   KEYCHAIN_STORAGE_VERSION: () => (/* binding */ St),\n/* harmony export */   KeyChain: () => (/* binding */ Di),\n/* harmony export */   MESSAGES_CONTEXT: () => (/* binding */ Rt),\n/* harmony export */   MESSAGES_STORAGE_VERSION: () => (/* binding */ Ot),\n/* harmony export */   MESSAGE_DIRECTION: () => (/* binding */ le),\n/* harmony export */   MessageTracker: () => (/* binding */ _i),\n/* harmony export */   PAIRING_CONTEXT: () => (/* binding */ Ft),\n/* harmony export */   PAIRING_DEFAULT_TTL: () => (/* binding */ Ys),\n/* harmony export */   PAIRING_EVENTS: () => (/* binding */ se),\n/* harmony export */   PAIRING_RPC_OPTS: () => (/* binding */ ie),\n/* harmony export */   PAIRING_STORAGE_VERSION: () => (/* binding */ Kt),\n/* harmony export */   PENDING_SUB_RESOLUTION_TIMEOUT: () => (/* binding */ Hs),\n/* harmony export */   PUBLISHER_CONTEXT: () => (/* binding */ At),\n/* harmony export */   PUBLISHER_DEFAULT_TTL: () => (/* binding */ je),\n/* harmony export */   Pairing: () => (/* binding */ Li),\n/* harmony export */   RELAYER_CONTEXT: () => (/* binding */ $t),\n/* harmony export */   RELAYER_DEFAULT_LOGGER: () => (/* binding */ Nt),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ xt),\n/* harmony export */   RELAYER_DEFAULT_RELAY_URL: () => (/* binding */ Ue),\n/* harmony export */   RELAYER_EVENTS: () => (/* binding */ C),\n/* harmony export */   RELAYER_PROVIDER_EVENTS: () => (/* binding */ L),\n/* harmony export */   RELAYER_RECONNECT_TIMEOUT: () => (/* binding */ Lt),\n/* harmony export */   RELAYER_SDK_VERSION: () => (/* binding */ _e),\n/* harmony export */   RELAYER_STORAGE_OPTIONS: () => (/* binding */ qs),\n/* harmony export */   RELAYER_SUBSCRIBER_SUFFIX: () => (/* binding */ zt),\n/* harmony export */   RELAYER_TRANSPORT_CUTOFF: () => (/* binding */ Gs),\n/* harmony export */   Relayer: () => (/* binding */ Si),\n/* harmony export */   STORE_STORAGE_VERSION: () => (/* binding */ kt),\n/* harmony export */   SUBSCRIBER_CONTEXT: () => (/* binding */ Ut),\n/* harmony export */   SUBSCRIBER_DEFAULT_TTL: () => (/* binding */ Ws),\n/* harmony export */   SUBSCRIBER_EVENTS: () => (/* binding */ $),\n/* harmony export */   SUBSCRIBER_STORAGE_VERSION: () => (/* binding */ Mt),\n/* harmony export */   Store: () => (/* binding */ zi),\n/* harmony export */   Subscriber: () => (/* binding */ Ti),\n/* harmony export */   TRANSPORT_TYPES: () => (/* binding */ Q),\n/* harmony export */   TRUSTED_VERIFY_URLS: () => (/* binding */ Jt),\n/* harmony export */   VERIFY_CONTEXT: () => (/* binding */ Wt),\n/* harmony export */   VERIFY_SERVER: () => (/* binding */ ue),\n/* harmony export */   VERIFY_SERVER_V3: () => (/* binding */ Yt),\n/* harmony export */   Verify: () => (/* binding */ Ui),\n/* harmony export */   WALLETCONNECT_CLIENT_ID: () => (/* binding */ jt),\n/* harmony export */   WALLETCONNECT_LINK_MODE_APPS: () => (/* binding */ Me),\n/* harmony export */   \"default\": () => (/* binding */ Te)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/heartbeat */ \"(ssr)/./node_modules/@walletconnect/heartbeat/dist/index.es.js\");\n/* harmony import */ var _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/keyvaluestorage */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uint8arrays */ \"(ssr)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @walletconnect/jsonrpc-ws-connection */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js\");\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\nconst ze=\"wc\",Le=2,he=\"core\",B=`${ze}@2:${he}:`,Et={name:he,logger:\"error\"},It={database:\":memory:\"},Tt=\"crypto\",ke=\"client_ed25519_seed\",Ct=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Pt=\"keychain\",St=\"0.3\",Rt=\"messages\",Ot=\"0.3\",je=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.SIX_HOURS,At=\"publisher\",xt=\"irn\",Nt=\"error\",Ue=\"wss://relay.walletconnect.org\",$t=\"relayer\",C={message:\"relayer_message\",message_ack:\"relayer_message_ack\",connect:\"relayer_connect\",disconnect:\"relayer_disconnect\",error:\"relayer_error\",connection_stalled:\"relayer_connection_stalled\",transport_closed:\"relayer_transport_closed\",publish:\"relayer_publish\"},zt=\"_subscription\",L={payload:\"payload\",connect:\"connect\",disconnect:\"disconnect\",error:\"error\"},Lt=.1,qs={database:\":memory:\"},_e=\"2.19.1\",Gs=1e4,Q={link_mode:\"link_mode\",relay:\"relay\"},le={inbound:\"inbound\",outbound:\"outbound\"},kt=\"0.3\",jt=\"WALLETCONNECT_CLIENT_ID\",Me=\"WALLETCONNECT_LINK_MODE_APPS\",$={created:\"subscription_created\",deleted:\"subscription_deleted\",expired:\"subscription_expired\",disabled:\"subscription_disabled\",sync:\"subscription_sync\",resubscribed:\"subscription_resubscribed\"},Ws=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,Ut=\"subscription\",Mt=\"0.3\",Hs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS*1e3,Ft=\"pairing\",Kt=\"0.3\",Ys=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,ie={wc_pairingDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0}}},se={create:\"pairing_create\",expire:\"pairing_expire\",delete:\"pairing_delete\",ping:\"pairing_ping\"},M={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},Bt=\"history\",Vt=\"0.3\",qt=\"expirer\",F={created:\"expirer_created\",deleted:\"expirer_deleted\",expired:\"expirer_expired\",sync:\"expirer_sync\"},Gt=\"0.3\",Js=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Wt=\"verify-api\",Xs=\"https://verify.walletconnect.com\",Ht=\"https://verify.walletconnect.org\",ue=Ht,Yt=`${ue}/v3`,Jt=[Xs,Ht],Xt=\"echo\",Zt=\"https://echo.walletconnect.com\",Zs=\"event-client\",G={pairing_started:\"pairing_started\",pairing_uri_validation_success:\"pairing_uri_validation_success\",pairing_uri_not_expired:\"pairing_uri_not_expired\",store_new_pairing:\"store_new_pairing\",subscribing_pairing_topic:\"subscribing_pairing_topic\",subscribe_pairing_topic_success:\"subscribe_pairing_topic_success\",existing_pairing:\"existing_pairing\",pairing_not_expired:\"pairing_not_expired\",emit_inactive_pairing:\"emit_inactive_pairing\",emit_session_proposal:\"emit_session_proposal\",subscribing_to_pairing_topic:\"subscribing_to_pairing_topic\"},Y={no_wss_connection:\"no_wss_connection\",no_internet_connection:\"no_internet_connection\",malformed_pairing_uri:\"malformed_pairing_uri\",active_pairing_already_exists:\"active_pairing_already_exists\",subscribe_pairing_topic_failure:\"subscribe_pairing_topic_failure\",pairing_expired:\"pairing_expired\",proposal_expired:\"proposal_expired\",proposal_listener_not_found:\"proposal_listener_not_found\"},Qs={session_approve_started:\"session_approve_started\",proposal_not_expired:\"proposal_not_expired\",session_namespaces_validation_success:\"session_namespaces_validation_success\",create_session_topic:\"create_session_topic\",subscribing_session_topic:\"subscribing_session_topic\",subscribe_session_topic_success:\"subscribe_session_topic_success\",publishing_session_approve:\"publishing_session_approve\",session_approve_publish_success:\"session_approve_publish_success\",store_session:\"store_session\",publishing_session_settle:\"publishing_session_settle\",session_settle_publish_success:\"session_settle_publish_success\"},er={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",proposal_expired:\"proposal_expired\",subscribe_session_topic_failure:\"subscribe_session_topic_failure\",session_approve_publish_failure:\"session_approve_publish_failure\",session_settle_publish_failure:\"session_settle_publish_failure\",session_approve_namespace_validation_failure:\"session_approve_namespace_validation_failure\",proposal_not_found:\"proposal_not_found\"},tr={authenticated_session_approve_started:\"authenticated_session_approve_started\",authenticated_session_not_expired:\"authenticated_session_not_expired\",chains_caip2_compliant:\"chains_caip2_compliant\",chains_evm_compliant:\"chains_evm_compliant\",create_authenticated_session_topic:\"create_authenticated_session_topic\",cacaos_verified:\"cacaos_verified\",store_authenticated_session:\"store_authenticated_session\",subscribing_authenticated_session_topic:\"subscribing_authenticated_session_topic\",subscribe_authenticated_session_topic_success:\"subscribe_authenticated_session_topic_success\",publishing_authenticated_session_approve:\"publishing_authenticated_session_approve\",authenticated_session_approve_publish_success:\"authenticated_session_approve_publish_success\"},ir={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",missing_session_authenticate_request:\"missing_session_authenticate_request\",session_authenticate_request_expired:\"session_authenticate_request_expired\",chains_caip2_compliant_failure:\"chains_caip2_compliant_failure\",chains_evm_compliant_failure:\"chains_evm_compliant_failure\",invalid_cacao:\"invalid_cacao\",subscribe_authenticated_session_topic_failure:\"subscribe_authenticated_session_topic_failure\",authenticated_session_approve_publish_failure:\"authenticated_session_approve_publish_failure\",authenticated_session_pending_request_not_found:\"authenticated_session_pending_request_not_found\"},Qt=.1,ei=\"event-client\",ti=86400,ii=\"https://pulse.walletconnect.org/batch\";function sr(r,e){if(r.length>=255)throw new TypeError(\"Alphabet too long\");for(var t=new Uint8Array(256),s=0;s<t.length;s++)t[s]=255;for(var i=0;i<r.length;i++){var n=r.charAt(i),o=n.charCodeAt(0);if(t[o]!==255)throw new TypeError(n+\" is ambiguous\");t[o]=i}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(l.length===0)return\"\";for(var b=0,x=0,I=0,D=l.length;I!==D&&l[I]===0;)I++,b++;for(var j=(D-I)*u+1>>>0,T=new Uint8Array(j);I!==D;){for(var q=l[I],J=0,K=j-1;(q!==0||J<x)&&K!==-1;K--,J++)q+=256*T[K]>>>0,T[K]=q%a>>>0,q=q/a>>>0;if(q!==0)throw new Error(\"Non-zero carry\");x=J,I++}for(var H=j-x;H!==j&&T[H]===0;)H++;for(var me=c.repeat(b);H<j;++H)me+=r.charAt(T[H]);return me}function g(l){if(typeof l!=\"string\")throw new TypeError(\"Expected String\");if(l.length===0)return new Uint8Array;var b=0;if(l[b]!==\" \"){for(var x=0,I=0;l[b]===c;)x++,b++;for(var D=(l.length-b)*h+1>>>0,j=new Uint8Array(D);l[b];){var T=t[l.charCodeAt(b)];if(T===255)return;for(var q=0,J=D-1;(T!==0||q<I)&&J!==-1;J--,q++)T+=a*j[J]>>>0,j[J]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error(\"Non-zero carry\");I=q,b++}if(l[b]!==\" \"){for(var K=D-I;K!==D&&j[K]===0;)K++;for(var H=new Uint8Array(x+(D-K)),me=x;K!==D;)H[me++]=j[K++];return H}}}function _(l){var b=g(l);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:g,decode:_}}var rr=sr,nr=rr;const si=r=>{if(r instanceof Uint8Array&&r.constructor.name===\"Uint8Array\")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error(\"Unknown type, must be binary type\")},or=r=>new TextEncoder().encode(r),ar=r=>new TextDecoder().decode(r);class cr{constructor(e,t,s){this.name=e,this.prefix=t,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class hr{constructor(e,t,s){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=s}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return ri(this,e)}}class lr{constructor(e){this.decoders=e}or(e){return ri(this,e)}decode(e){const t=e[0],s=this.decoders[t];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ri=(r,e)=>new lr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class ur{constructor(e,t,s,i){this.name=e,this.prefix=t,this.baseEncode=s,this.baseDecode=i,this.encoder=new cr(e,t,s),this.decoder=new hr(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ee=({name:r,prefix:e,encode:t,decode:s})=>new ur(r,e,t,s),de=({prefix:r,name:e,alphabet:t})=>{const{encode:s,decode:i}=nr(t,e);return Ee({prefix:r,name:e,encode:s,decode:n=>si(i(n))})},dr=(r,e,t,s)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]===\"=\";)--n;const o=new Uint8Array(n*t/8|0);let a=0,c=0,h=0;for(let u=0;u<n;++u){const d=i[r[u]];if(d===void 0)throw new SyntaxError(`Non-${s} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},gr=(r,e,t)=>{const s=e[e.length-1]===\"=\",i=(1<<t)-1;let n=\"\",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,n+=e[i&a>>o];if(o&&(n+=e[i&a<<t-o]),s)for(;n.length*t&7;)n+=\"=\";return n},P=({name:r,prefix:e,bitsPerChar:t,alphabet:s})=>Ee({prefix:e,name:r,encode(i){return gr(i,s,t)},decode(i){return dr(i,s,t,r)}}),pr=Ee({prefix:\"\\0\",name:\"identity\",encode:r=>ar(r),decode:r=>or(r)});var yr=Object.freeze({__proto__:null,identity:pr});const br=P({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var mr=Object.freeze({__proto__:null,base2:br});const fr=P({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var Dr=Object.freeze({__proto__:null,base8:fr});const vr=de({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var wr=Object.freeze({__proto__:null,base10:vr});const _r=P({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),Er=P({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var Ir=Object.freeze({__proto__:null,base16:_r,base16upper:Er});const Tr=P({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),Cr=P({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),Pr=P({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),Sr=P({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),Rr=P({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),Or=P({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),Ar=P({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),xr=P({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),Nr=P({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var $r=Object.freeze({__proto__:null,base32:Tr,base32upper:Cr,base32pad:Pr,base32padupper:Sr,base32hex:Rr,base32hexupper:Or,base32hexpad:Ar,base32hexpadupper:xr,base32z:Nr});const zr=de({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),Lr=de({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var kr=Object.freeze({__proto__:null,base36:zr,base36upper:Lr});const jr=de({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),Ur=de({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var Mr=Object.freeze({__proto__:null,base58btc:jr,base58flickr:Ur});const Fr=P({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),Kr=P({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),Br=P({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),Vr=P({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var qr=Object.freeze({__proto__:null,base64:Fr,base64pad:Kr,base64url:Br,base64urlpad:Vr});const ni=Array.from(\"\\u{1F680}\\u{1FA90}\\u2604\\u{1F6F0}\\u{1F30C}\\u{1F311}\\u{1F312}\\u{1F313}\\u{1F314}\\u{1F315}\\u{1F316}\\u{1F317}\\u{1F318}\\u{1F30D}\\u{1F30F}\\u{1F30E}\\u{1F409}\\u2600\\u{1F4BB}\\u{1F5A5}\\u{1F4BE}\\u{1F4BF}\\u{1F602}\\u2764\\u{1F60D}\\u{1F923}\\u{1F60A}\\u{1F64F}\\u{1F495}\\u{1F62D}\\u{1F618}\\u{1F44D}\\u{1F605}\\u{1F44F}\\u{1F601}\\u{1F525}\\u{1F970}\\u{1F494}\\u{1F496}\\u{1F499}\\u{1F622}\\u{1F914}\\u{1F606}\\u{1F644}\\u{1F4AA}\\u{1F609}\\u263A\\u{1F44C}\\u{1F917}\\u{1F49C}\\u{1F614}\\u{1F60E}\\u{1F607}\\u{1F339}\\u{1F926}\\u{1F389}\\u{1F49E}\\u270C\\u2728\\u{1F937}\\u{1F631}\\u{1F60C}\\u{1F338}\\u{1F64C}\\u{1F60B}\\u{1F497}\\u{1F49A}\\u{1F60F}\\u{1F49B}\\u{1F642}\\u{1F493}\\u{1F929}\\u{1F604}\\u{1F600}\\u{1F5A4}\\u{1F603}\\u{1F4AF}\\u{1F648}\\u{1F447}\\u{1F3B6}\\u{1F612}\\u{1F92D}\\u2763\\u{1F61C}\\u{1F48B}\\u{1F440}\\u{1F62A}\\u{1F611}\\u{1F4A5}\\u{1F64B}\\u{1F61E}\\u{1F629}\\u{1F621}\\u{1F92A}\\u{1F44A}\\u{1F973}\\u{1F625}\\u{1F924}\\u{1F449}\\u{1F483}\\u{1F633}\\u270B\\u{1F61A}\\u{1F61D}\\u{1F634}\\u{1F31F}\\u{1F62C}\\u{1F643}\\u{1F340}\\u{1F337}\\u{1F63B}\\u{1F613}\\u2B50\\u2705\\u{1F97A}\\u{1F308}\\u{1F608}\\u{1F918}\\u{1F4A6}\\u2714\\u{1F623}\\u{1F3C3}\\u{1F490}\\u2639\\u{1F38A}\\u{1F498}\\u{1F620}\\u261D\\u{1F615}\\u{1F33A}\\u{1F382}\\u{1F33B}\\u{1F610}\\u{1F595}\\u{1F49D}\\u{1F64A}\\u{1F639}\\u{1F5E3}\\u{1F4AB}\\u{1F480}\\u{1F451}\\u{1F3B5}\\u{1F91E}\\u{1F61B}\\u{1F534}\\u{1F624}\\u{1F33C}\\u{1F62B}\\u26BD\\u{1F919}\\u2615\\u{1F3C6}\\u{1F92B}\\u{1F448}\\u{1F62E}\\u{1F646}\\u{1F37B}\\u{1F343}\\u{1F436}\\u{1F481}\\u{1F632}\\u{1F33F}\\u{1F9E1}\\u{1F381}\\u26A1\\u{1F31E}\\u{1F388}\\u274C\\u270A\\u{1F44B}\\u{1F630}\\u{1F928}\\u{1F636}\\u{1F91D}\\u{1F6B6}\\u{1F4B0}\\u{1F353}\\u{1F4A2}\\u{1F91F}\\u{1F641}\\u{1F6A8}\\u{1F4A8}\\u{1F92C}\\u2708\\u{1F380}\\u{1F37A}\\u{1F913}\\u{1F619}\\u{1F49F}\\u{1F331}\\u{1F616}\\u{1F476}\\u{1F974}\\u25B6\\u27A1\\u2753\\u{1F48E}\\u{1F4B8}\\u2B07\\u{1F628}\\u{1F31A}\\u{1F98B}\\u{1F637}\\u{1F57A}\\u26A0\\u{1F645}\\u{1F61F}\\u{1F635}\\u{1F44E}\\u{1F932}\\u{1F920}\\u{1F927}\\u{1F4CC}\\u{1F535}\\u{1F485}\\u{1F9D0}\\u{1F43E}\\u{1F352}\\u{1F617}\\u{1F911}\\u{1F30A}\\u{1F92F}\\u{1F437}\\u260E\\u{1F4A7}\\u{1F62F}\\u{1F486}\\u{1F446}\\u{1F3A4}\\u{1F647}\\u{1F351}\\u2744\\u{1F334}\\u{1F4A3}\\u{1F438}\\u{1F48C}\\u{1F4CD}\\u{1F940}\\u{1F922}\\u{1F445}\\u{1F4A1}\\u{1F4A9}\\u{1F450}\\u{1F4F8}\\u{1F47B}\\u{1F910}\\u{1F92E}\\u{1F3BC}\\u{1F975}\\u{1F6A9}\\u{1F34E}\\u{1F34A}\\u{1F47C}\\u{1F48D}\\u{1F4E3}\\u{1F942}\"),Gr=ni.reduce((r,e,t)=>(r[t]=e,r),[]),Wr=ni.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Hr(r){return r.reduce((e,t)=>(e+=Gr[t],e),\"\")}function Yr(r){const e=[];for(const t of r){const s=Wr[t.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(s)}return new Uint8Array(e)}const Jr=Ee({prefix:\"\\u{1F680}\",name:\"base256emoji\",encode:Hr,decode:Yr});var Xr=Object.freeze({__proto__:null,base256emoji:Jr}),Zr=ai,oi=128,Qr=127,en=~Qr,tn=Math.pow(2,31);function ai(r,e,t){e=e||[],t=t||0;for(var s=t;r>=tn;)e[t++]=r&255|oi,r/=128;for(;r&en;)e[t++]=r&255|oi,r>>>=7;return e[t]=r|0,ai.bytes=t-s+1,e}var sn=Fe,rn=128,ci=127;function Fe(r,s){var t=0,s=s||0,i=0,n=s,o,a=r.length;do{if(n>=a)throw Fe.bytes=0,new RangeError(\"Could not decode varint\");o=r[n++],t+=i<28?(o&ci)<<i:(o&ci)*Math.pow(2,i),i+=7}while(o>=rn);return Fe.bytes=n-s,t}var nn=Math.pow(2,7),on=Math.pow(2,14),an=Math.pow(2,21),cn=Math.pow(2,28),hn=Math.pow(2,35),ln=Math.pow(2,42),un=Math.pow(2,49),dn=Math.pow(2,56),gn=Math.pow(2,63),pn=function(r){return r<nn?1:r<on?2:r<an?3:r<cn?4:r<hn?5:r<ln?6:r<un?7:r<dn?8:r<gn?9:10},yn={encode:Zr,decode:sn,encodingLength:pn},hi=yn;const li=(r,e,t=0)=>(hi.encode(r,e,t),e),ui=r=>hi.encodingLength(r),Ke=(r,e)=>{const t=e.byteLength,s=ui(r),i=s+ui(t),n=new Uint8Array(i+t);return li(r,n,0),li(t,n,s),n.set(e,i),new bn(r,t,e,n)};class bn{constructor(e,t,s,i){this.code=e,this.size=t,this.digest=s,this.bytes=i}}const di=({name:r,code:e,encode:t})=>new mn(r,e,t);class mn{constructor(e,t,s){this.name=e,this.code=t,this.encode=s}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ke(this.code,t):t.then(s=>Ke(this.code,s))}else throw Error(\"Unknown type, must be binary type\")}}const gi=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),fn=di({name:\"sha2-256\",code:18,encode:gi(\"SHA-256\")}),Dn=di({name:\"sha2-512\",code:19,encode:gi(\"SHA-512\")});var vn=Object.freeze({__proto__:null,sha256:fn,sha512:Dn});const pi=0,wn=\"identity\",yi=si,_n=r=>Ke(pi,yi(r)),En={code:pi,name:wn,encode:yi,digest:_n};var In=Object.freeze({__proto__:null,identity:En});new TextEncoder,new TextDecoder;const bi={...yr,...mr,...Dr,...wr,...Ir,...$r,...kr,...Mr,...qr,...Xr};({...vn,...In});function Tn(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function mi(r,e,t,s){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:s}}}const fi=mi(\"utf8\",\"u\",r=>\"u\"+new TextDecoder(\"utf8\").decode(r),r=>new TextEncoder().encode(r.substring(1))),Be=mi(\"ascii\",\"a\",r=>{let e=\"a\";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Tn(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Cn={utf8:fi,\"utf-8\":fi,hex:bi.base16,latin1:Be,ascii:Be,binary:Be,...bi};function Pn(r,e=\"utf8\"){const t=Cn[e];if(!t)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,\"utf8\"):t.decoder.decode(`${t.prefix}${r}`)}var Sn=Object.defineProperty,Rn=(r,e,t)=>e in r?Sn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,W=(r,e,t)=>Rn(r,typeof e!=\"symbol\"?e+\"\":e,t);class Di{constructor(e,t){this.core=e,this.logger=t,W(this,\"keychain\",new Map),W(this,\"name\",Pt),W(this,\"version\",St),W(this,\"initialized\",!1),W(this,\"storagePrefix\",B),W(this,\"init\",async()=>{if(!this.initialized){const s=await this.getKeyChain();typeof s<\"u\"&&(this.keychain=s),this.initialized=!0}}),W(this,\"has\",s=>(this.isInitialized(),this.keychain.has(s))),W(this,\"set\",async(s,i)=>{this.isInitialized(),this.keychain.set(s,i),await this.persist()}),W(this,\"get\",s=>{this.isInitialized();const i=this.keychain.get(s);if(typeof i>\"u\"){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${s}`);throw new Error(n)}return i}),W(this,\"del\",async s=>{this.isInitialized(),this.keychain.delete(s),await this.persist()}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var On=Object.defineProperty,An=(r,e,t)=>e in r?On(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,S=(r,e,t)=>An(r,typeof e!=\"symbol\"?e+\"\":e,t);class vi{constructor(e,t,s){this.core=e,this.logger=t,S(this,\"name\",Tt),S(this,\"keychain\"),S(this,\"randomSessionIdentifier\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)()),S(this,\"initialized\",!1),S(this,\"init\",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),S(this,\"hasKeys\",i=>(this.isInitialized(),this.keychain.has(i))),S(this,\"getClientId\",async()=>{this.isInitialized();const i=await this.getClientSeed(),n=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(i);return _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.encodeIss(n.publicKey)}),S(this,\"generateKeyPair\",()=>{this.isInitialized();const i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateKeyPair)();return this.setPrivateKey(i.publicKey,i.privateKey)}),S(this,\"signJWT\",async i=>{this.isInitialized();const n=await this.getClientSeed(),o=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(n),a=this.randomSessionIdentifier,c=Ct;return await _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.signJWT(a,i,c,o)}),S(this,\"generateSharedKey\",(i,n,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deriveSymKey)(a,n);return this.setSymKey(c,o)}),S(this,\"setSymKey\",async(i,n)=>{this.isInitialized();const o=n||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashKey)(i);return await this.keychain.set(o,i),o}),S(this,\"deleteKeyPair\",async i=>{this.isInitialized(),await this.keychain.del(i)}),S(this,\"deleteSymKey\",async i=>{this.isInitialized(),await this.keychain.del(i)}),S(this,\"encode\",async(i,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateEncoding)(o),c=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonStringify)(n);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a))return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encodeTypeTwoEnvelope)(c,o?.encoding);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const g=a.senderPublicKey,_=a.receiverPublicKey;i=await this.generateSharedKey(g,_)}const h=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encrypt)({type:u,symKey:h,message:c,senderPublicKey:d,encoding:o?.encoding})}),S(this,\"decode\",async(i,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateDecoding)(n,o);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a)){const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeTwoEnvelope)(n,o?.encoding);return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(c)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const c=a.receiverPublicKey,h=a.senderPublicKey;i=await this.generateSharedKey(c,h)}try{const c=this.getSymKey(i),h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decrypt)({symKey:c,encoded:n,encoding:o?.encoding});return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(h)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),S(this,\"getPayloadType\",(i,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:i,encoding:n});return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeByte)(o.type)}),S(this,\"getPayloadSenderPublicKey\",(i,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:i,encoding:n});return o.senderPublicKey?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_7__.toString)(o.senderPublicKey,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE16):void 0}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.keychain=s||new Di(this.core,this.logger)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e=\"\";try{e=this.keychain.get(ke)}catch{e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),await this.keychain.set(ke,e)}return Pn(e,\"base16\")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var xn=Object.defineProperty,Nn=Object.defineProperties,$n=Object.getOwnPropertyDescriptors,wi=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable,Ve=(r,e,t)=>e in r?xn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kn=(r,e)=>{for(var t in e||(e={}))zn.call(e,t)&&Ve(r,t,e[t]);if(wi)for(var t of wi(e))Ln.call(e,t)&&Ve(r,t,e[t]);return r},jn=(r,e)=>Nn(r,$n(e)),k=(r,e,t)=>Ve(r,typeof e!=\"symbol\"?e+\"\":e,t);class _i extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,k(this,\"messages\",new Map),k(this,\"messagesWithoutClientAck\",new Map),k(this,\"name\",Rt),k(this,\"version\",Ot),k(this,\"initialized\",!1),k(this,\"storagePrefix\",B),k(this,\"init\",async()=>{if(!this.initialized){this.logger.trace(\"Initialized\");try{const s=await this.getRelayerMessages();typeof s<\"u\"&&(this.messages=s);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<\"u\"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",size:this.messages.size})}catch(s){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(s)}finally{this.initialized=!0}}}),k(this,\"set\",async(s,i,n)=>{this.isInitialized();const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(i);let a=this.messages.get(s);if(typeof a>\"u\"&&(a={}),typeof a[o]<\"u\")return o;if(a[o]=i,this.messages.set(s,a),n===le.inbound){const c=this.messagesWithoutClientAck.get(s)||{};this.messagesWithoutClientAck.set(s,jn(kn({},c),{[o]:i}))}return await this.persist(),o}),k(this,\"get\",s=>{this.isInitialized();let i=this.messages.get(s);return typeof i>\"u\"&&(i={}),i}),k(this,\"getWithoutAck\",s=>{this.isInitialized();const i={};for(const n of s){const o=this.messagesWithoutClientAck.get(n)||{};i[n]=Object.values(o)}return i}),k(this,\"has\",(s,i)=>{this.isInitialized();const n=this.get(s),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(i);return typeof n[o]<\"u\"}),k(this,\"ack\",async(s,i)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(s);if(typeof n>\"u\")return;const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(i);delete n[o],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(s):this.messagesWithoutClientAck.set(s,n),await this.persist()}),k(this,\"del\",async s=>{this.isInitialized(),this.messages.delete(s),this.messagesWithoutClientAck.delete(s),await this.persist()}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e,this.name),this.core=t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name+\"_withoutClientAck\"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Un=Object.defineProperty,Mn=Object.defineProperties,Fn=Object.getOwnPropertyDescriptors,Ei=Object.getOwnPropertySymbols,Kn=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable,qe=(r,e,t)=>e in r?Un(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ie=(r,e)=>{for(var t in e||(e={}))Kn.call(e,t)&&qe(r,t,e[t]);if(Ei)for(var t of Ei(e))Bn.call(e,t)&&qe(r,t,e[t]);return r},Ge=(r,e)=>Mn(r,Fn(e)),V=(r,e,t)=>qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Vn extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,V(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),V(this,\"name\",At),V(this,\"queue\",new Map),V(this,\"publishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),V(this,\"initialPublishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),V(this,\"needsTransportRestart\",!1),V(this,\"publish\",async(s,i,n)=>{var o;this.logger.debug(\"Publishing Payload\"),this.logger.trace({type:\"method\",method:\"publish\",params:{topic:s,message:i,opts:n}});const a=n?.ttl||je,c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(n),h=n?.prompt||!1,u=n?.tag||0,d=n?.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),g={topic:s,message:i,opts:{ttl:a,relay:c,prompt:h,tag:u,id:d,attestation:n?.attestation,tvf:n?.tvf}},_=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const l=new Promise(async b=>{const x=({id:D})=>{g.opts.id===D&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(C.publish,x),b(g))};this.relayer.events.on(C.publish,x);const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((D,j)=>{this.rpcPublish({topic:s,message:i,ttl:a,prompt:h,tag:u,id:d,attestation:n?.attestation,tvf:n?.tvf}).then(D).catch(T=>{this.logger.warn(T,T?.message),j(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await I,this.events.removeListener(C.publish,x)}catch(D){this.queue.set(d,Ge(Ie({},g),{attempt:1})),this.logger.warn(D,D?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:d,topic:s,message:i,opts:n}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(l,this.publishTimeout,_)}catch(l){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(l),(o=n?.internal)!=null&&o.throwOnFailedPublish)throw l}finally{this.queue.delete(d)}}),V(this,\"on\",(s,i)=>{this.events.on(s,i)}),V(this,\"once\",(s,i)=>{this.events.once(s,i)}),V(this,\"off\",(s,i)=>{this.events.off(s,i)}),V(this,\"removeListener\",(s,i)=>{this.events.removeListener(s,i)}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async rpcPublish(e){var t,s,i,n;const{topic:o,message:a,ttl:c=je,prompt:h,tag:u,id:d,attestation:g,tvf:_}=e,l={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol).publish,params:Ie({topic:o,message:a,ttl:c,prompt:h,tag:u,attestation:g},_),id:d};(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((t=l.params)==null?void 0:t.prompt)&&((s=l.params)==null||delete s.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((i=l.params)==null?void 0:i.tag)&&((n=l.params)==null||delete n.tag),this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"message\",direction:\"outgoing\",request:l});const b=await this.relayer.request(l);return this.relayer.events.emit(C.publish,e),this.logger.debug(\"Successfully Published Payload\"),b}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const s=e.attempt+1;this.queue.set(t,Ge(Ie({},e),{attempt:s}));const{topic:i,message:n,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${s}`),await this.rpcPublish(Ge(Ie({},e),{topic:i,message:n,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C.connection_stalled);return}this.checkQueue()}),this.relayer.on(C.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var qn=Object.defineProperty,Gn=(r,e,t)=>e in r?qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,re=(r,e,t)=>Gn(r,typeof e!=\"symbol\"?e+\"\":e,t);class Wn{constructor(){re(this,\"map\",new Map),re(this,\"set\",(e,t)=>{const s=this.get(e);this.exists(e,t)||this.map.set(e,[...s,t])}),re(this,\"get\",e=>this.map.get(e)||[]),re(this,\"exists\",(e,t)=>this.get(e).includes(t)),re(this,\"delete\",(e,t)=>{if(typeof t>\"u\"){this.map.delete(e);return}if(!this.map.has(e))return;const s=this.get(e);if(!this.exists(e,t))return;const i=s.filter(n=>n!==t);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),re(this,\"clear\",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Hn=Object.defineProperty,Yn=Object.defineProperties,Jn=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Xn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable,We=(r,e,t)=>e in r?Hn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ge=(r,e)=>{for(var t in e||(e={}))Xn.call(e,t)&&We(r,t,e[t]);if(Ii)for(var t of Ii(e))Zn.call(e,t)&&We(r,t,e[t]);return r},He=(r,e)=>Yn(r,Jn(e)),f=(r,e,t)=>We(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ti extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,f(this,\"subscriptions\",new Map),f(this,\"topicMap\",new Wn),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),f(this,\"name\",Ut),f(this,\"version\",Mt),f(this,\"pending\",new Map),f(this,\"cached\",[]),f(this,\"initialized\",!1),f(this,\"storagePrefix\",B),f(this,\"subscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),f(this,\"initialSubscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),f(this,\"clientId\"),f(this,\"batchSubscribeTopicsLimit\",500),f(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f(this,\"subscribe\",async(s,i)=>{this.isInitialized(),this.logger.debug(\"Subscribing Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:s,opts:i}});try{const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(i),o={topic:s,relay:n,transportType:i?.transportType};this.pending.set(s,o);const a=await this.rpcSubscribe(s,n,i);return typeof a==\"string\"&&(this.onSubscribe(a,o),this.logger.debug(\"Successfully Subscribed Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:s,opts:i}})),a}catch(n){throw this.logger.debug(\"Failed to Subscribe Topic\"),this.logger.error(n),n}}),f(this,\"unsubscribe\",async(s,i)=>{this.isInitialized(),typeof i?.id<\"u\"?await this.unsubscribeById(s,i.id,i):await this.unsubscribeByTopic(s,i)}),f(this,\"isSubscribed\",s=>new Promise(i=>{i(this.topicMap.topics.includes(s))})),f(this,\"isKnownTopic\",s=>new Promise(i=>{i(this.topicMap.topics.includes(s)||this.pending.has(s)||this.cached.some(n=>n.topic===s))})),f(this,\"on\",(s,i)=>{this.events.on(s,i)}),f(this,\"once\",(s,i)=>{this.events.once(s,i)}),f(this,\"off\",(s,i)=>{this.events.off(s,i)}),f(this,\"removeListener\",(s,i)=>{this.events.removeListener(s,i)}),f(this,\"start\",async()=>{await this.onConnect()}),f(this,\"stop\",async()=>{await this.onDisconnect()}),f(this,\"restart\",async()=>{await this.restore(),await this.onRestart()}),f(this,\"checkPending\",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const s=[];this.pending.forEach(i=>{s.push(i)}),await this.batchSubscribe(s)}),f(this,\"registerEventListeners\",()=>{this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on($.created,async s=>{const i=$.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:\"event\",event:i,data:s}),await this.persist()}),this.events.on($.deleted,async s=>{const i=$.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:\"event\",event:i,data:s}),await this.persist()})}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.clientId=\"\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+\"//\"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let s=!1;try{s=this.getSubscription(e).topic===t}catch{}return s}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const s=this.topicMap.get(e);await Promise.all(s.map(async i=>await this.unsubscribeById(e,i,t)))}async unsubscribeById(e,t,s){this.logger.debug(\"Unsubscribing Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:s}});try{const i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(s);await this.restartToComplete({topic:e,id:t,relay:i}),await this.rpcUnsubscribe(e,t,i);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug(\"Successfully Unsubscribed Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:s}})}catch(i){throw this.logger.debug(\"Failed to Unsubscribe Topic\"),this.logger.error(i),i}}async rpcSubscribe(e,t,s){var i;(!s||s?.transportType===Q.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const n={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).subscribe,params:{topic:e}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:n});const o=(i=s?.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(s?.transportType===Q.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(u=>this.logger.warn(u))},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),a;const c=new Promise(async u=>{const d=g=>{g.topic===e&&(this.events.removeListener($.created,d),u(g.id))};this.events.on($.created,d);try{const g=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((_,l)=>{this.relayer.request(n).catch(b=>{this.logger.warn(b,b?.message),l(b)}).then(_)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener($.created,d),u(g)}catch{}}),h=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return h?a:null}catch(a){if(this.logger.debug(\"Outgoing Relay Subscribe Payload stalled\"),this.relayer.events.emit(C.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,s={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:s});try{await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise(i=>{this.relayer.request(s).catch(n=>this.logger.warn(n)).then(i)}),this.subscribeTimeout,\"rpcBatchSubscribe failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,s={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:s});let i;try{i=await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((n,o)=>{this.relayer.request(s).catch(a=>{this.logger.warn(a),o(a)}).then(n)}),this.subscribeTimeout,\"rpcBatchFetchMessages failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}return i}rpcUnsubscribe(e,t,s){const i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(s.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,He(ge({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,ge({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,s){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,s),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug(\"Setting subscription\"),this.logger.trace({type:\"method\",method:\"setSubscription\",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,ge({},t)),this.topicMap.set(t.topic,e),this.events.emit($.created,t)}getSubscription(e){this.logger.debug(\"Getting subscription\"),this.logger.trace({type:\"method\",method:\"getSubscription\",id:e});const t=this.subscriptions.get(e);if(!t){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(s)}return t}deleteSubscription(e,t){this.logger.debug(\"Deleting subscription\"),this.logger.trace({type:\"method\",method:\"deleteSubscription\",id:e,reason:t});const s=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(s.topic,e),this.events.emit($.deleted,He(ge({},s),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let s=0;s<t;s++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit($.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>\"u\"||!e.length)return;if(this.subscriptions.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>He(ge({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.sleep)((0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(e+await this.getClientId())}}var Qn=Object.defineProperty,Ci=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,Ye=(r,e,t)=>e in r?Qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pi=(r,e)=>{for(var t in e||(e={}))eo.call(e,t)&&Ye(r,t,e[t]);if(Ci)for(var t of Ci(e))to.call(e,t)&&Ye(r,t,e[t]);return r},y=(r,e,t)=>Ye(r,typeof e!=\"symbol\"?e+\"\":e,t);class Si extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IRelayer{constructor(e){super(e),y(this,\"protocol\",\"wc\"),y(this,\"version\",2),y(this,\"core\"),y(this,\"logger\"),y(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),y(this,\"provider\"),y(this,\"messages\"),y(this,\"subscriber\"),y(this,\"publisher\"),y(this,\"name\",$t),y(this,\"transportExplicitlyClosed\",!1),y(this,\"initialized\",!1),y(this,\"connectionAttemptInProgress\",!1),y(this,\"relayUrl\"),y(this,\"projectId\"),y(this,\"packageName\"),y(this,\"bundleId\"),y(this,\"hasExperiencedNetworkDisruption\",!1),y(this,\"pingTimeout\"),y(this,\"heartBeatTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS+_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS)),y(this,\"reconnectTimeout\"),y(this,\"connectPromise\"),y(this,\"reconnectInProgress\",!1),y(this,\"requestsInFlight\",[]),y(this,\"connectTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),y(this,\"request\",async t=>{var s,i;this.logger.debug(\"Publishing Request Payload\");const n=t.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:t.method,topic:(s=t.params)==null?void 0:s.topic},\"relayer.request - publishing...\");const o=`${n}:${((i=t.params)==null?void 0:i.tag)||\"\"}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${n}`),o}}),y(this,\"resetPingTimeout\",()=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,s,i,n;try{this.logger.debug({},\"pingTimeout: Connection stalled, terminating...\"),(n=(i=(s=(t=this.provider)==null?void 0:t.connection)==null?void 0:s.socket)==null?void 0:i.terminate)==null||n.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),y(this,\"onPayloadHandler\",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),y(this,\"onConnectHandler\",()=>{this.logger.warn({},\"Relayer connected \\u{1F6DC}\"),this.startPingTimeout(),this.events.emit(C.connect)}),y(this,\"onDisconnectHandler\",()=>{this.logger.warn({},\"Relayer disconnected \\u{1F6D1}\"),this.requestsInFlight=[],this.onProviderDisconnect()}),y(this,\"onProviderErrorHandler\",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(C.error,t),this.logger.fatal(\"Fatal socket error received, closing transport\"),this.transportClose()}),y(this,\"registerProviderListeners\",()=>{this.provider.on(L.payload,this.onPayloadHandler),this.provider.on(L.connect,this.onConnectHandler),this.provider.on(L.disconnect,this.onDisconnectHandler),this.provider.on(L.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<\"u\"&&typeof e.logger!=\"string\"?(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e.logger,this.name):(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:e.logger||Nt})),this.messages=new _i(this.logger,e.core),this.subscriber=new Ti(this,this.logger),this.publisher=new Vn(this,this.logger),this.relayUrl=e?.relayUrl||Ue,this.projectId=e.projectId,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAndroid)()?this.packageName=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)():(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isIos)()&&(this.bundleId=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)()),this.provider={}}async init(){if(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get connected(){var e,t,s;return((s=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:s.readyState)===1||!1}get connecting(){var e,t,s;return((s=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:s.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,s){this.isInitialized(),await this.publisher.publish(e,t,s),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Q.relay},le.outbound)}async subscribe(e,t){var s,i,n;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType===\"relay\")&&await this.toEstablishConnection();const o=typeof((s=t?.internal)==null?void 0:s.throwOnFailedPublish)>\"u\"?!0:(i=t?.internal)==null?void 0:i.throwOnFailedPublish;let a=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||\"\",c;const h=u=>{u.topic===e&&(this.subscriber.off($.created,h),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on($.created,h)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,Pi({internal:{throwOnFailedPublish:o}},t)).catch(g=>{o&&d(g)})||a,u()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(this.provider.disconnect(),2e3,\"provider.disconnect()\").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn(\"Starting WS connection skipped because the client has no topics to work with.\");return}if(this.connectPromise?(this.logger.debug({},\"Waiting for existing connection attempt to resolve...\"),await this.connectPromise,this.logger.debug({},\"Existing connection attempt resolved\")):(this.connectPromise=new Promise(async(t,s)=>{await this.connect(e).then(t).catch(s).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},\"Restarting transport...\"),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)())throw new Error(\"No internet connection detected. Please restart your network and try again.\")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace(\"Batch message events is empty. Ignoring...\");return}const t=e.sort((s,i)=>s.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const s of t)try{await this.onMessageEvent(s)}catch(i){this.logger.warn(i,\"Error while processing batch message event: \"+i?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:s}=e;if(!t.sessionExists){const i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),n={topic:s,expiry:i,relay:{protocol:\"irn\"},active:!1};await this.core.pairing.pairings.set(s,n)}this.events.emit(C.message,e),await this.recordMessageEvent(e,le.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(s,i)=>{const n=()=>{i(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(L.disconnect,n),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(L.disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(L.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(L.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,s()})}catch(s){await this.subscriber.stop();const i=s;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(s=>setTimeout(s,(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t*1))),t++}}startPingTimeout(){var e,t,s,i,n;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((n=(i=(s=this.provider)==null?void 0:s.connection)==null?void 0:i.socket)==null||n.on(\"ping\",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__.JsonRpcProvider(new _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__[\"default\"]((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatRelayRpcUrl)({sdkVersion:_e,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:s,message:i}=e;await this.messages.set(s,i,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:s}=e;if(!s||s.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${s}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const i=this.messages.has(t,s);return i&&this.logger.warn(`Ignoring duplicate message: ${s}`),i}async onProviderPayload(e){if(this.logger.debug(\"Incoming Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"incoming\",payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(e)){if(!e.method.endsWith(zt))return;const t=e.params,{topic:s,message:i,publishedAt:n,attestation:o}=t.data,a={topic:s,message:i,publishedAt:n,transportType:Q.relay,attestation:o};this.logger.debug(\"Emitting Relayer Payload\"),this.logger.trace(Pi({type:\"event\",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(e)&&this.events.emit(C.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,le.inbound),this.events.emit(C.message,e))}async acknowledgePayload(e){const t=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(L.payload,this.onPayloadHandler),this.provider.off(L.connect,this.onConnectHandler),this.provider.off(L.disconnect,this.onDisconnectHandler),this.provider.off(L.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)();(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.subscribeToNetworkChange)(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(s=>this.logger.error(s,s?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(Lt)))))}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function io(){}function Ri(r){if(!r||typeof r!=\"object\")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)===\"[object Object]\":!1}function Oi(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function Ai(r){return r==null?r===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(r)}const so=\"[object RegExp]\",ro=\"[object String]\",no=\"[object Number]\",oo=\"[object Boolean]\",xi=\"[object Arguments]\",ao=\"[object Symbol]\",co=\"[object Date]\",ho=\"[object Map]\",lo=\"[object Set]\",uo=\"[object Array]\",go=\"[object Function]\",po=\"[object ArrayBuffer]\",Je=\"[object Object]\",yo=\"[object Error]\",bo=\"[object DataView]\",mo=\"[object Uint8Array]\",fo=\"[object Uint8ClampedArray]\",Do=\"[object Uint16Array]\",vo=\"[object Uint32Array]\",wo=\"[object BigUint64Array]\",_o=\"[object Int8Array]\",Eo=\"[object Int16Array]\",Io=\"[object Int32Array]\",To=\"[object BigInt64Array]\",Co=\"[object Float32Array]\",Po=\"[object Float64Array]\";function So(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function Ro(r,e,t){return pe(r,e,void 0,void 0,void 0,void 0,t)}function pe(r,e,t,s,i,n,o){const a=o(r,e,t,s,i,n);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case\"bigint\":case\"string\":case\"boolean\":case\"symbol\":case\"undefined\":return r===e;case\"number\":return r===e||Object.is(r,e);case\"function\":return r===e;case\"object\":return ye(r,e,n,o)}return ye(r,e,n,o)}function ye(r,e,t,s){if(Object.is(r,e))return!0;let i=Ai(r),n=Ai(e);if(i===xi&&(i=Je),n===xi&&(n=Je),i!==n)return!1;switch(i){case ro:return r.toString()===e.toString();case no:{const c=r.valueOf(),h=e.valueOf();return So(c,h)}case oo:case co:case ao:return Object.is(r.valueOf(),e.valueOf());case so:return r.source===e.source&&r.flags===e.flags;case go:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(i){case ho:{if(r.size!==e.size)return!1;for(const[c,h]of r.entries())if(!e.has(c)||!pe(h,e.get(c),c,r,e,t,s))return!1;return!0}case lo:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),h=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],g=h.findIndex(_=>pe(d,_,void 0,r,e,t,s));if(g===-1)return!1;h.splice(g,1)}return!0}case uo:case mo:case fo:case Do:case vo:case wo:case _o:case Eo:case Io:case To:case Co:case Po:{if(typeof Buffer<\"u\"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!pe(r[c],e[c],c,r,e,t,s))return!1;return!0}case po:return r.byteLength!==e.byteLength?!1:ye(new Uint8Array(r),new Uint8Array(e),t,s);case bo:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:ye(new Uint8Array(r),new Uint8Array(e),t,s);case yo:return r.name===e.name&&r.message===e.message;case Je:{if(!(ye(r.constructor,e.constructor,t,s)||Ri(r)&&Ri(e)))return!1;const h=[...Object.keys(r),...Oi(r)],u=[...Object.keys(e),...Oi(e)];if(h.length!==u.length)return!1;for(let d=0;d<h.length;d++){const g=h[d],_=r[g];if(!Object.hasOwn(e,g))return!1;const l=e[g];if(!pe(_,l,g,r,e,t,s))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function Oo(r,e){return Ro(r,e,io)}var Ao=Object.defineProperty,Ni=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,No=Object.prototype.propertyIsEnumerable,Xe=(r,e,t)=>e in r?Ao(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$i=(r,e)=>{for(var t in e||(e={}))xo.call(e,t)&&Xe(r,t,e[t]);if(Ni)for(var t of Ni(e))No.call(e,t)&&Xe(r,t,e[t]);return r},z=(r,e,t)=>Xe(r,typeof e!=\"symbol\"?e+\"\":e,t);class zi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IStore{constructor(e,t,s,i=B,n=void 0){super(e,t,s,i),this.core=e,this.logger=t,this.name=s,z(this,\"map\",new Map),z(this,\"version\",kt),z(this,\"cached\",[]),z(this,\"initialized\",!1),z(this,\"getKey\"),z(this,\"storagePrefix\",B),z(this,\"recentlyDeleted\",[]),z(this,\"recentlyDeletedLimit\",200),z(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)(o)?this.map.set(this.getKey(o),o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isProposalStruct)(o)?this.map.set(o.id,o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isSessionStruct)(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),z(this,\"set\",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug(\"Setting value\"),this.logger.trace({type:\"method\",method:\"set\",key:o,value:a}),this.map.set(o,a),await this.persist())}),z(this,\"get\",o=>(this.isInitialized(),this.logger.debug(\"Getting value\"),this.logger.trace({type:\"method\",method:\"get\",key:o}),this.getData(o))),z(this,\"getAll\",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Oo(a[c],o[c]))):this.values)),z(this,\"update\",async(o,a)=>{this.isInitialized(),this.logger.debug(\"Updating value\"),this.logger.trace({type:\"method\",method:\"update\",key:o,update:a});const c=$i($i({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),z(this,\"delete\",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug(\"Deleting value\"),this.logger.trace({type:\"method\",method:\"delete\",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.storagePrefix=i,this.getKey=n}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>\"u\"||!e.length)return;if(this.map.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var $o=Object.defineProperty,zo=(r,e,t)=>e in r?$o(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p=(r,e,t)=>zo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Li{constructor(e,t){this.core=e,this.logger=t,p(this,\"name\",Ft),p(this,\"version\",Kt),p(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_0___default())),p(this,\"pairings\"),p(this,\"initialized\",!1),p(this,\"storagePrefix\",B),p(this,\"ignoredPayloadTypes\",[_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.TYPE_1]),p(this,\"registeredMethods\",[]),p(this,\"init\",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace(\"Initialized\"))}),p(this,\"register\",({methods:s})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...s])]}),p(this,\"create\",async s=>{this.isInitialized();const i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),n=await this.core.crypto.setSymKey(i),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),a={protocol:xt},c={topic:n,expiry:o,relay:a,active:!1,methods:s?.methods},h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:i,relay:a,expiryTimestamp:o,methods:s?.methods});return this.events.emit(se.create,c),this.core.expirer.set(n,o),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:s?.transportType}),{topic:n,uri:h}}),p(this,\"pair\",async s=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:s?.uri,trace:[G.pairing_started]}});this.isValidPair(s,i);const{topic:n,symKey:o,relay:a,expiryTimestamp:c,methods:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(s.uri);i.props.properties.topic=n,i.addTrace(G.pairing_uri_validation_success),i.addTrace(G.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(n)){if(u=this.pairings.get(n),i.addTrace(G.existing_pairing),u.active)throw i.setError(Y.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);i.addTrace(G.pairing_not_expired)}const d=c||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),g={topic:n,relay:a,expiry:d,active:!1,methods:h};this.core.expirer.set(n,d),await this.pairings.set(n,g),i.addTrace(G.store_new_pairing),s.activatePairing&&await this.activate({topic:n}),this.events.emit(se.create,g),i.addTrace(G.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(o,n),i.addTrace(G.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Y.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(_){throw i.setError(Y.subscribe_pairing_topic_failure),_}return i.addTrace(G.subscribe_pairing_topic_success),g}),p(this,\"activate\",async({topic:s})=>{this.isInitialized();const i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES);this.core.expirer.set(s,i),await this.pairings.update(s,{active:!0,expiry:i})}),p(this,\"ping\",async s=>{this.isInitialized(),await this.isValidPing(s),this.logger.warn(\"ping() is deprecated and will be removed in the next major release.\");const{topic:i}=s;if(this.pairings.keys.includes(i)){const n=await this.sendRequest(i,\"wc_pairingPing\",{}),{done:o,resolve:a,reject:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),({error:h})=>{h?c(h):a()}),await o()}}),p(this,\"updateExpiry\",async({topic:s,expiry:i})=>{this.isInitialized(),await this.pairings.update(s,{expiry:i})}),p(this,\"updateMetadata\",async({topic:s,metadata:i})=>{this.isInitialized(),await this.pairings.update(s,{peerMetadata:i})}),p(this,\"getPairings\",()=>(this.isInitialized(),this.pairings.values)),p(this,\"disconnect\",async s=>{this.isInitialized(),await this.isValidDisconnect(s);const{topic:i}=s;this.pairings.keys.includes(i)&&(await this.sendRequest(i,\"wc_pairingDelete\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),await this.deletePairing(i))}),p(this,\"formatUriFromPairing\",s=>{this.isInitialized();const{topic:i,relay:n,expiry:o,methods:a}=s,c=this.core.crypto.keychain.get(i);return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:n,expiryTimestamp:o,methods:a})}),p(this,\"sendRequest\",async(s,i,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(i,n),a=await this.core.crypto.encode(s,o),c=ie[i].req;return this.core.history.set(s,o),this.core.relayer.publish(s,a,c),o.id}),p(this,\"sendResult\",async(s,i,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(s,n),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,s)).request.method,h=ie[c].res;await this.core.relayer.publish(i,a,h),await this.core.history.resolve(o)}),p(this,\"sendError\",async(s,i,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcError)(s,n),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,s)).request.method,h=ie[c]?ie[c].res:ie.unregistered_method.res;await this.core.relayer.publish(i,a,h),await this.core.history.resolve(o)}),p(this,\"deletePairing\",async(s,i)=>{await this.core.relayer.unsubscribe(s),await Promise.all([this.pairings.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),this.core.crypto.deleteSymKey(s),i?Promise.resolve():this.core.expirer.del(s)])}),p(this,\"cleanup\",async()=>{const s=this.pairings.getAll().filter(i=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(i.expiry));await Promise.all(s.map(i=>this.deletePairing(i.topic)))}),p(this,\"onRelayEventRequest\",async s=>{const{topic:i,payload:n}=s;switch(n.method){case\"wc_pairingPing\":return await this.onPairingPingRequest(i,n);case\"wc_pairingDelete\":return await this.onPairingDeleteRequest(i,n);default:return await this.onUnknownRpcMethodRequest(i,n)}}),p(this,\"onRelayEventResponse\",async s=>{const{topic:i,payload:n}=s,o=(await this.core.history.get(i,n.id)).request.method;switch(o){case\"wc_pairingPing\":return this.onPairingPingResponse(i,n);default:return this.onUnknownRpcMethodResponse(o)}}),p(this,\"onPairingPingRequest\",async(s,i)=>{const{id:n}=i;try{this.isValidPing({topic:s}),await this.sendResult(n,s,!0),this.events.emit(se.ping,{id:n,topic:s})}catch(o){await this.sendError(n,s,o),this.logger.error(o)}}),p(this,\"onPairingPingResponse\",(s,i)=>{const{id:n}=i;setTimeout(()=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResult)(i)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(i)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{error:i.error})},500)}),p(this,\"onPairingDeleteRequest\",async(s,i)=>{const{id:n}=i;try{this.isValidDisconnect({topic:s}),await this.deletePairing(s),this.events.emit(se.delete,{id:n,topic:s})}catch(o){await this.sendError(n,s,o),this.logger.error(o)}}),p(this,\"onUnknownRpcMethodRequest\",async(s,i)=>{const{id:n,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",o);await this.sendError(n,s,a),this.logger.error(a)}catch(a){await this.sendError(n,s,a),this.logger.error(a)}}),p(this,\"onUnknownRpcMethodResponse\",s=>{this.registeredMethods.includes(s)||this.logger.error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",s))}),p(this,\"isValidPair\",(s,i)=>{var n;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(s)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() params: ${s}`);throw i.setError(Y.malformed_pairing_uri),new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidUrl)(s.uri)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() uri: ${s.uri}`);throw i.setError(Y.malformed_pairing_uri),new Error(a)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(s?.uri);if(!((n=o?.relay)!=null&&n.protocol)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#relay-protocol\");throw i.setError(Y.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#symKey\");throw i.setError(Y.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o?.expiryTimestamp)<Date.now()){i.setError(Y.pairing_expired);const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",\"pair() URI has expired. Please try again with a new connection URI.\");throw new Error(a)}}),p(this,\"isValidPing\",async s=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(s)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${s}`);throw new Error(n)}const{topic:i}=s;await this.isValidPairingTopic(i)}),p(this,\"isValidDisconnect\",async s=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(s)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${s}`);throw new Error(n)}const{topic:i}=s;await this.isValidPairingTopic(i)}),p(this,\"isValidPairingTopic\",async s=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidString)(s,!1)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${s}`);throw new Error(i)}if(!this.pairings.keys.includes(s)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${s}`);throw new Error(i)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(this.pairings.get(s).expiry)){await this.deletePairing(s);const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",`pairing topic: ${s}`);throw new Error(i)}}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.pairings=new zi(this.core,this.logger,this.name,this.storagePrefix)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(C.message,async e=>{const{topic:t,message:s,transportType:i}=e;if(this.pairings.keys.includes(t)&&i!==Q.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(s)))try{const n=await this.core.crypto.decode(t,s);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(n)?(this.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id)),await this.core.relayer.messages.ack(t,s)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(F.expired,async e=>{const{topic:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseExpirerTarget)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(se.expire,{topic:t}))})}}var Lo=Object.defineProperty,ko=(r,e,t)=>e in r?Lo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R=(r,e,t)=>ko(r,typeof e!=\"symbol\"?e+\"\":e,t);class ki extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,R(this,\"records\",new Map),R(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),R(this,\"name\",Bt),R(this,\"version\",Vt),R(this,\"cached\",[]),R(this,\"initialized\",!1),R(this,\"storagePrefix\",B),R(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(s=>this.records.set(s.id,s)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),R(this,\"set\",(s,i,n)=>{if(this.isInitialized(),this.logger.debug(\"Setting JSON-RPC request history record\"),this.logger.trace({type:\"method\",method:\"set\",topic:s,request:i,chainId:n}),this.records.has(i.id))return;const o={id:i.id,topic:s,request:{method:i.method,params:i.params||null},chainId:n,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(M.created,o)}),R(this,\"resolve\",async s=>{if(this.isInitialized(),this.logger.debug(\"Updating JSON-RPC response history record\"),this.logger.trace({type:\"method\",method:\"update\",response:s}),!this.records.has(s.id))return;const i=await this.getRecord(s.id);typeof i.response>\"u\"&&(i.response=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(s)?{error:s.error}:{result:s.result},this.records.set(i.id,i),this.persist(),this.events.emit(M.updated,i))}),R(this,\"get\",async(s,i)=>(this.isInitialized(),this.logger.debug(\"Getting record\"),this.logger.trace({type:\"method\",method:\"get\",topic:s,id:i}),await this.getRecord(i))),R(this,\"delete\",(s,i)=>{this.isInitialized(),this.logger.debug(\"Deleting record\"),this.logger.trace({type:\"method\",method:\"delete\",id:i}),this.values.forEach(n=>{if(n.topic===s){if(typeof i<\"u\"&&n.id!==i)return;this.records.delete(n.id),this.events.emit(M.deleted,n)}}),this.persist()}),R(this,\"exists\",async(s,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===s:!1)),R(this,\"on\",(s,i)=>{this.events.on(s,i)}),R(this,\"once\",(s,i)=>{this.events.once(s,i)}),R(this,\"off\",(s,i)=>{this.events.off(s,i)}),R(this,\"removeListener\",(s,i)=>{this.events.removeListener(s,i)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<\"u\")return;const s={topic:t.topic,request:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(s)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(s)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(M.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>\"u\"||!e.length)return;if(this.records.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(M.created,e=>{const t=M.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(M.updated,e=>{const t=M.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(M.deleted,e=>{const t=M.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(M.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var jo=Object.defineProperty,Uo=(r,e,t)=>e in r?jo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,A=(r,e,t)=>Uo(r,typeof e!=\"symbol\"?e+\"\":e,t);class ji extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,A(this,\"expirations\",new Map),A(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),A(this,\"name\",qt),A(this,\"version\",Gt),A(this,\"cached\",[]),A(this,\"initialized\",!1),A(this,\"storagePrefix\",B),A(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(s=>this.expirations.set(s.target,s)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),A(this,\"has\",s=>{try{const i=this.formatTarget(s);return typeof this.getExpiration(i)<\"u\"}catch{return!1}}),A(this,\"set\",(s,i)=>{this.isInitialized();const n=this.formatTarget(s),o={target:n,expiry:i};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(F.created,{target:n,expiration:o})}),A(this,\"get\",s=>{this.isInitialized();const i=this.formatTarget(s);return this.getExpiration(i)}),A(this,\"del\",s=>{if(this.isInitialized(),this.has(s)){const i=this.formatTarget(s),n=this.getExpiration(i);this.expirations.delete(i),this.events.emit(F.deleted,{target:i,expiration:n})}}),A(this,\"on\",(s,i)=>{this.events.on(s,i)}),A(this,\"once\",(s,i)=>{this.events.once(s,i)}),A(this,\"off\",(s,i)=>{this.events.off(s,i)}),A(this,\"removeListener\",(s,i)=>{this.events.removeListener(s,i)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e==\"string\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatTopicTarget)(e);if(typeof e==\"number\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatIdTarget)(e);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"UNKNOWN_TYPE\",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(F.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>\"u\"||!e.length)return;if(this.expirations.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.warn(s),new Error(s)}return t}checkExpiry(e,t){const{expiry:s}=t;(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(s)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(F.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(F.created,e=>{const t=F.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(F.expired,e=>{const t=F.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(F.deleted,e=>{const t=F.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Mo=Object.defineProperty,Fo=(r,e,t)=>e in r?Mo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w=(r,e,t)=>Fo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ui extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IVerify{constructor(e,t,s){super(e,t,s),this.core=e,this.logger=t,this.store=s,w(this,\"name\",Wt),w(this,\"abortController\"),w(this,\"isDevEnv\"),w(this,\"verifyUrlV3\",Yt),w(this,\"storagePrefix\",B),w(this,\"version\",Le),w(this,\"publicKey\"),w(this,\"fetchPromise\"),w(this,\"init\",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug(\"verify v2 public key expired\"),await this.removePublicKey()))}),w(this,\"register\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isBrowser)()||this.isDevEnv)return;const n=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${o}&decryptedId=${a}`;try{const h=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__.getDocument)(),u=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),d=await new Promise((g,_)=>{const l=()=>{window.removeEventListener(\"message\",x),h.body.removeChild(b),_(\"attestation aborted\")};this.abortController.signal.addEventListener(\"abort\",l);const b=h.createElement(\"iframe\");b.src=c,b.style.display=\"none\",b.addEventListener(\"error\",l,{signal:this.abortController.signal});const x=I=>{if(I.data&&typeof I.data==\"string\")try{const D=JSON.parse(I.data);if(D.type===\"verify_attestation\"){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(D.attestation).payload.id!==o)return;clearInterval(u),h.body.removeChild(b),this.abortController.signal.removeEventListener(\"abort\",l),window.removeEventListener(\"message\",x),g(D.attestation===null?\"\":D.attestation)}}catch(D){this.logger.warn(D)}};h.body.appendChild(b),window.addEventListener(\"message\",x,{signal:this.abortController.signal})});return this.logger.debug(\"jwt attestation\",d),d}catch(h){this.logger.warn(h)}return\"\"}),w(this,\"resolve\",async i=>{if(this.isDevEnv)return\"\";const{attestationId:n,hash:o,encryptedId:a}=i;if(n===\"\"){this.logger.debug(\"resolve: attestationId is empty, skipping\");return}if(n){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(n).payload.id!==a)return;const h=await this.isValidJwtAttestation(n);if(h){if(!h.isVerified){this.logger.warn(\"resolve: jwt attestation: origin url not verified\");return}return h}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),w(this,\"fetchAttestation\",async(i,n)=>{this.logger.debug(`resolving attestation: ${i} from url: ${n}`);const o=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),a=await fetch(`${n}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),w(this,\"getVerifyUrl\",i=>{let n=i||ue;return Jt.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${ue}`),n=ue),n}),w(this,\"fetchPublicKey\",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await n.json()}catch(i){this.logger.warn(i)}}),w(this,\"persistPublicKey\",async i=>{this.logger.debug(\"persisting public key to local storage\",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),w(this,\"removePublicKey\",async()=>{this.logger.debug(\"removing verify v2 public key from storage\"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),w(this,\"isValidJwtAttestation\",async i=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(i,n)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}}),w(this,\"getPublicKey\",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),w(this,\"fetchAndPersistPublicKey\",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),n(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),w(this,\"validateAttestation\",(i,n)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.verifyP256Jwt)(i,n.publicKey),a={hasExpired:(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn(\"resolve: jwt attestation expired\"),new Error(\"JWT attestation expired\");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.abortController=new AbortController,this.isDevEnv=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//verify:public:key\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(e))}}var Ko=Object.defineProperty,Bo=(r,e,t)=>e in r?Ko(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Mi=(r,e,t)=>Bo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Fi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEchoClient{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Mi(this,\"context\",Xt),Mi(this,\"registerDeviceToken\",async s=>{const{clientId:i,token:n,notificationType:o,enableEncrypted:a=!1}=s,c=`${Zt}/${this.projectId}/clients`;await fetch(c,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({client_id:i,type:o,token:n,always_raw:a})})}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context)}}var Vo=Object.defineProperty,Ki=Object.getOwnPropertySymbols,qo=Object.prototype.hasOwnProperty,Go=Object.prototype.propertyIsEnumerable,Ze=(r,e,t)=>e in r?Vo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,be=(r,e)=>{for(var t in e||(e={}))qo.call(e,t)&&Ze(r,t,e[t]);if(Ki)for(var t of Ki(e))Go.call(e,t)&&Ze(r,t,e[t]);return r},E=(r,e,t)=>Ze(r,typeof e!=\"symbol\"?e+\"\":e,t);class Bi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEventClient{constructor(e,t,s=!0){super(e,t,s),this.core=e,this.logger=t,E(this,\"context\",ei),E(this,\"storagePrefix\",B),E(this,\"storageVersion\",Qt),E(this,\"events\",new Map),E(this,\"shouldPersist\",!1),E(this,\"init\",async()=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)())try{const i={eventId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:\"INIT\",type:\"\",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUA)(this.core.relayer.protocol,this.core.relayer.version,_e)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),E(this,\"createEvent\",i=>{const{event:n=\"ERROR\",type:o=\"\",properties:{topic:a,trace:c}}=i,h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),u=this.core.projectId||\"\",d=Date.now(),g=be({eventId:h,timestamp:d,props:{event:n,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,g),this.shouldPersist=!0),g}),E(this,\"getEvent\",i=>{const{eventId:n,topic:o}=i;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return be(be({},a),this.setMethods(a.eventId))}),E(this,\"deleteEvent\",i=>{const{eventId:n}=i;this.events.delete(n),this.shouldPersist=!0}),E(this,\"setEventListeners\",()=>{this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(Date.now())-(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(i.timestamp)>ti&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),E(this,\"setMethods\",i=>({addTrace:n=>this.addTrace(i,n),setError:n=>this.setError(i,n)})),E(this,\"addTrace\",(i,n)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(n),this.events.set(i,o),this.shouldPersist=!0)}),E(this,\"setError\",(i,n)=>{const o=this.events.get(i);o&&(o.props.type=n,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),E(this,\"persist\",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),E(this,\"restore\",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(n=>{this.events.set(n.eventId,be(be({},n),this.setMethods(n.eventId)))})}catch(i){this.logger.warn(i)}}),E(this,\"submit\",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[n,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const n of i)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),E(this,\"sendEvent\",async i=>{const n=this.getAppDomain()?\"\":\"&sp=desktop\";return await fetch(`${ii}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${_e}${n}`,{method:\"POST\",body:JSON.stringify(i)})}),E(this,\"getAppDomain\",()=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppMetadata)().url),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context),this.telemetryEnabled=s,s?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+\"//\"+this.context}}var Wo=Object.defineProperty,Vi=Object.getOwnPropertySymbols,Ho=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,Qe=(r,e,t)=>e in r?Wo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qi=(r,e)=>{for(var t in e||(e={}))Ho.call(e,t)&&Qe(r,t,e[t]);if(Vi)for(var t of Vi(e))Yo.call(e,t)&&Qe(r,t,e[t]);return r},v=(r,e,t)=>Qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Te extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ICore{constructor(e){var t;super(e),v(this,\"protocol\",ze),v(this,\"version\",Le),v(this,\"name\",he),v(this,\"relayUrl\"),v(this,\"projectId\"),v(this,\"customStoragePrefix\"),v(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),v(this,\"logger\"),v(this,\"heartbeat\"),v(this,\"relayer\"),v(this,\"crypto\"),v(this,\"storage\"),v(this,\"history\"),v(this,\"expirer\"),v(this,\"pairing\"),v(this,\"verify\"),v(this,\"echoClient\"),v(this,\"linkModeSupportedApps\"),v(this,\"eventClient\"),v(this,\"initialized\",!1),v(this,\"logChunkController\"),v(this,\"on\",(o,a)=>this.events.on(o,a)),v(this,\"once\",(o,a)=>this.events.once(o,a)),v(this,\"off\",(o,a)=>this.events.off(o,a)),v(this,\"removeListener\",(o,a)=>this.events.removeListener(o,a)),v(this,\"dispatchEnvelope\",({topic:o,message:a,sessionExists:c})=>{if(!o||!a)return;const h={topic:o,message:a,publishedAt:Date.now(),transportType:Q.link_mode};this.relayer.onLinkMessageEvent(h,{sessionExists:c})}),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ue,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:\"\";const s=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:typeof e?.logger==\"string\"&&e.logger?e.logger:Et.logger,name:he}),{logger:i,chunkLoggerController:n}=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generatePlatformLogger)({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=n,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(i,this.name),this.heartbeat=new _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HeartBeat,this.crypto=new vi(this,this.logger,e?.keychain),this.history=new ki(this,this.logger),this.expirer=new ji(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__[\"default\"](qi(qi({},It),e?.storageOptions)),this.relayer=new Si({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Li(this,this.logger),this.verify=new Ui(this,this.logger,this.storage),this.echoClient=new Fi(this.projectId||\"\",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Bi(this,this.logger,e?.telemetryEnabled)}static async init(e){const t=new Te(e);await t.initialize();const s=await t.crypto.getClientId();return await t.storage.setItem(jt,s),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Me,this.linkModeSupportedApps))}async initialize(){this.logger.trace(\"Initialized\");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Me)||[],this.initialized=!0,this.logger.info(\"Core Initialization Success\")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const Jo=Te;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9jb3JlL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaTZFLGtDQUFrQyxHQUFHLEtBQUssR0FBRyxPQUFPLHVCQUF1QixLQUFLLG9CQUFvQix5Q0FBeUMsd0RBQUUsa0RBQWtELDBEQUFFLHVGQUF1RixrUUFBa1EsdUJBQXVCLDBFQUEwRSxXQUFXLG9CQUFvQix1QkFBdUIsb0NBQW9DLEtBQUssc0NBQXNDLDRFQUE0RSxnTUFBZ00sSUFBSSw0REFBRSwrQkFBK0IsNkRBQUUsOEJBQThCLDREQUFFLEtBQUssa0JBQWtCLEtBQUssSUFBSSx3REFBRSxtQkFBbUIsTUFBTSxJQUFJLHdEQUFFLHFCQUFxQixpQkFBaUIsS0FBSyxJQUFJLCtEQUFFLG9CQUFvQixNQUFNLElBQUksK0RBQUUscUJBQXFCLHNCQUFzQixLQUFLLElBQUksd0RBQUUsaUJBQWlCLE1BQU0sSUFBSSx3REFBRSxtQkFBbUIsS0FBSyw0RkFBNEYsSUFBSSxrR0FBa0csdUNBQXVDLGtHQUFrRyxhQUFhLHdEQUFFLHlHQUF5RyxHQUFHLG1GQUFtRix3aEJBQXdoQixJQUFJLG9ZQUFvWSxLQUFLLDhsQkFBOGxCLEtBQUssa2NBQWtjLEtBQUssc3ZCQUFzdkIsS0FBSyxzcUJBQXNxQiw2RUFBNkUsaUJBQWlCLDBEQUEwRCxrQ0FBa0MsV0FBVyxhQUFhLFlBQVksV0FBVyxLQUFLLG9DQUFvQyxxREFBcUQsT0FBTyxxRkFBcUYsY0FBYyx3TkFBd04seUJBQXlCLCtCQUErQixnQkFBZ0IsU0FBUyw0Q0FBNEMsTUFBTSxFQUFFLHlCQUF5QixxQkFBcUIsK0NBQStDLDJDQUEy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QU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxlQUFlLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxlQUFlLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0scUJBQXFCLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcs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QyxjQUFjLGNBQWMsMENBQTBDLG9CQUFvQixNQUFNLDZEQUE2RCx5Q0FBeUMsRUFBRSxpQ0FBaUMsdUlBQXVJLG1CQUFtQixpQ0FBaUMsSUFBSSwrUkFBK1IsU0FBUywrREFBK0QsV0FBVyxzQ0FBc0MsWUFBZzdEO0FBQ3RxekYiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9jb3JlL2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdpLHtFdmVudEVtaXR0ZXIgYXMgZWV9ZnJvbVwiZXZlbnRzXCI7aW1wb3J0e0hFQVJUQkVBVF9FVkVOVFMgYXMgbmUsSGVhcnRCZWF0IGFzIFdpfWZyb21cIkB3YWxsZXRjb25uZWN0L2hlYXJ0YmVhdFwiO2ltcG9ydCBIaSBmcm9tXCJAd2FsbGV0Y29ubmVjdC9rZXl2YWx1ZXN0b3JhZ2VcIjtpbXBvcnR7Z2VuZXJhdGVDaGlsZExvZ2dlciBhcyBOLGdldExvZ2dlckNvbnRleHQgYXMgVSxwaW5vIGFzIFlpLGdldERlZmF1bHRMb2dnZXJPcHRpb25zIGFzIGV0LGdlbmVyYXRlUGxhdGZvcm1Mb2dnZXIgYXMgSml9ZnJvbVwiQHdhbGxldGNvbm5lY3QvbG9nZ2VyXCI7aW1wb3J0e0lNZXNzYWdlVHJhY2tlciBhcyBYaSxJUHVibGlzaGVyIGFzIFppLElTdWJzY3JpYmVyIGFzIFFpLElSZWxheWVyIGFzIGVzLElTdG9yZSBhcyB0cyxJSnNvblJwY0hpc3RvcnkgYXMgaXMsSUV4cGlyZXIgYXMgc3MsSVZlcmlmeSBhcyBycyxJRWNob0NsaWVudCBhcyBucyxJRXZlbnRDbGllbnQgYXMgb3MsSUNvcmUgYXMgYXN9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdHlwZXNcIjtpbXBvcnR7T05FX0RBWSBhcyB0ZSxTSVhfSE9VUlMgYXMgY3MsVEhJUlRZX0RBWVMgYXMgQ2UsRklWRV9TRUNPTkRTIGFzIFBlLFRISVJUWV9TRUNPTkRTIGFzIFNlLHRvTWlsaXNlY29uZHMgYXMgTyxPTkVfTUlOVVRFIGFzIHR0LE9ORV9TRUNPTkQgYXMgWixGSVZFX01JTlVURVMgYXMgZmUsZnJvbU1pbGlzZWNvbmRzIGFzIGl0fWZyb21cIkB3YWxsZXRjb25uZWN0L3RpbWVcIjtpbXBvcnR7c2FmZUpzb25TdHJpbmdpZnkgYXMgaHMsc2FmZUpzb25QYXJzZSBhcyBzdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9zYWZlLWpzb25cIjtpbXBvcnQqYXMgRGUgZnJvbVwiQHdhbGxldGNvbm5lY3QvcmVsYXktYXV0aFwiO2ltcG9ydHtkZWNvZGVKV1QgYXMgcnR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvcmVsYXktYXV0aFwiO2ltcG9ydHttYXBUb09iaiBhcyBSZSxvYmpUb01hcCBhcyBPZSxnZXRJbnRlcm5hbEVycm9yIGFzIG0sZ2VuZXJhdGVSYW5kb21CeXRlczMyIGFzIEFlLGdlbmVyYXRlS2V5UGFpciBhcyBscyxkZXJpdmVTeW1LZXkgYXMgdXMsaGFzaEtleSBhcyBkcyx2YWxpZGF0ZUVuY29kaW5nIGFzIGdzLGlzVHlwZVR3b0VudmVsb3BlIGFzIG50LGVuY29kZVR5cGVUd29FbnZlbG9wZSBhcyBwcyxpc1R5cGVPbmVFbnZlbG9wZSBhcyBvdCxlbmNyeXB0IGFzIHlzLHZhbGlkYXRlRGVjb2RpbmcgYXMgYnMsZGVjb2RlVHlwZVR3b0VudmVsb3BlIGFzIG1zLGRlY3J5cHQgYXMgZnMsZGVzZXJpYWxpemUgYXMgYXQsZGVjb2RlVHlwZUJ5dGUgYXMgRHMsQkFTRTY0IGFzIGN0LEJBU0UxNiBhcyB2cyxoYXNoTWVzc2FnZSBhcyB2ZSxnZXRSZWxheVByb3RvY29sQXBpIGFzIG9lLGdldFJlbGF5UHJvdG9jb2xOYW1lIGFzIHdlLGlzVW5kZWZpbmVkIGFzIHhlLGNyZWF0ZUV4cGlyaW5nUHJvbWlzZSBhcyBYLGdldFNka0Vycm9yIGFzIGFlLHNsZWVwIGFzIHdzLGlzQW5kcm9pZCBhcyBfcyxnZXRBcHBJZCBhcyBodCxpc0lvcyBhcyBFcyxpc09ubGluZSBhcyBsdCxjYWxjRXhwaXJ5IGFzIGNlLGlzTm9kZSBhcyB1dCxmb3JtYXRSZWxheVJwY1VybCBhcyBJcyxzdWJzY3JpYmVUb05ldHdvcmtDaGFuZ2UgYXMgVHMsaXNQcm9wb3NhbFN0cnVjdCBhcyBDcyxpc1Nlc3Npb25TdHJ1Y3QgYXMgUHMscGFyc2VFeHBpcmVyVGFyZ2V0IGFzIFNzLFRZUEVfMSBhcyBScyxmb3JtYXRVcmkgYXMgZHQscGFyc2VVcmkgYXMgZ3QsY3JlYXRlRGVsYXllZFByb21pc2UgYXMgT3MsZW5naW5lRXZlbnQgYXMgTmUsaXNFeHBpcmVkIGFzIHB0LGlzVmFsaWRQYXJhbXMgYXMgJGUsaXNWYWxpZFVybCBhcyBBcyxpc1ZhbGlkU3RyaW5nIGFzIHhzLGZvcm1hdFRvcGljVGFyZ2V0IGFzIE5zLGZvcm1hdElkVGFyZ2V0IGFzICRzLGlzVGVzdFJ1biBhcyB5dCxpc0Jyb3dzZXIgYXMgenMsdmVyaWZ5UDI1Nkp3dCBhcyBMcyx1dWlkdjQgYXMgYnQsZm9ybWF0VUEgYXMga3MsZ2V0QXBwTWV0YWRhdGEgYXMganN9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdXRpbHNcIjtpbXBvcnR7dG9TdHJpbmcgYXMgVXN9ZnJvbVwidWludDhhcnJheXNcIjtpbXBvcnR7SnNvblJwY1Byb3ZpZGVyIGFzIE1zfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtcHJvdmlkZXJcIjtpbXBvcnR7Z2V0QmlnSW50UnBjSWQgYXMgbXQsaXNKc29uUnBjUmVxdWVzdCBhcyBmdCxpc0pzb25ScGNSZXNwb25zZSBhcyBEdCxmb3JtYXRKc29uUnBjUmVzdWx0IGFzIHZ0LGZvcm1hdEpzb25ScGNSZXF1ZXN0IGFzIHd0LGZvcm1hdEpzb25ScGNFcnJvciBhcyBGcyxpc0pzb25ScGNSZXN1bHQgYXMgS3MsaXNKc29uUnBjRXJyb3IgYXMgX3R9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlsc1wiO2ltcG9ydCBCcyBmcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb25cIjtpbXBvcnR7Z2V0RG9jdW1lbnQgYXMgVnN9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnNcIjtjb25zdCB6ZT1cIndjXCIsTGU9MixoZT1cImNvcmVcIixCPWAke3plfUAyOiR7aGV9OmAsRXQ9e25hbWU6aGUsbG9nZ2VyOlwiZXJyb3JcIn0sSXQ9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sVHQ9XCJjcnlwdG9cIixrZT1cImNsaWVudF9lZDI1NTE5X3NlZWRcIixDdD10ZSxQdD1cImtleWNoYWluXCIsU3Q9XCIwLjNcIixSdD1cIm1lc3NhZ2VzXCIsT3Q9XCIwLjNcIixqZT1jcyxBdD1cInB1Ymxpc2hlclwiLHh0PVwiaXJuXCIsTnQ9XCJlcnJvclwiLFVlPVwid3NzOi8vcmVsYXkud2FsbGV0Y29ubmVjdC5vcmdcIiwkdD1cInJlbGF5ZXJcIixDPXttZXNzYWdlOlwicmVsYXllcl9tZXNzYWdlXCIsbWVzc2FnZV9hY2s6XCJyZWxheWVyX21lc3NhZ2VfYWNrXCIsY29ubmVjdDpcInJlbGF5ZXJfY29ubmVjdFwiLGRpc2Nvbm5lY3Q6XCJyZWxheWVyX2Rpc2Nvbm5lY3RcIixlcnJvcjpcInJlbGF5ZXJfZXJyb3JcIixjb25uZWN0aW9uX3N0YWxsZWQ6XCJyZWxheWVyX2Nvbm5lY3Rpb25fc3RhbGxlZFwiLHRyYW5zcG9ydF9jbG9zZWQ6XCJyZWxheWVyX3RyYW5zcG9ydF9jbG9zZWRcIixwdWJsaXNoOlwicmVsYXllcl9wdWJsaXNoXCJ9LHp0PVwiX3N1YnNjcmlwdGlvblwiLEw9e3BheWxvYWQ6XCJwYXlsb2FkXCIsY29ubmVjdDpcImNvbm5lY3RcIixkaXNjb25uZWN0OlwiZGlzY29ubmVjdFwiLGVycm9yOlwiZXJyb3JcIn0sTHQ9LjEscXM9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sX2U9XCIyLjE5LjFcIixHcz0xZTQsUT17bGlua19tb2RlOlwibGlua19tb2RlXCIscmVsYXk6XCJyZWxheVwifSxsZT17aW5ib3VuZDpcImluYm91bmRcIixvdXRib3VuZDpcIm91dGJvdW5kXCJ9LGt0PVwiMC4zXCIsanQ9XCJXQUxMRVRDT05ORUNUX0NMSUVOVF9JRFwiLE1lPVwiV0FMTEVUQ09OTkVDVF9MSU5LX01PREVfQVBQU1wiLCQ9e2NyZWF0ZWQ6XCJzdWJzY3JpcHRpb25fY3JlYXRlZFwiLGRlbGV0ZWQ6XCJzdWJzY3JpcHRpb25fZGVsZXRlZFwiLGV4cGlyZWQ6XCJzdWJzY3JpcHRpb25fZXhwaXJlZFwiLGRpc2FibGVkOlwic3Vic2NyaXB0aW9uX2Rpc2FibGVkXCIsc3luYzpcInN1YnNjcmlwdGlvbl9zeW5jXCIscmVzdWJzY3JpYmVkOlwic3Vic2NyaXB0aW9uX3Jlc3Vic2NyaWJlZFwifSxXcz1DZSxVdD1cInN1YnNjcmlwdGlvblwiLE10PVwiMC4zXCIsSHM9UGUqMWUzLEZ0PVwicGFpcmluZ1wiLEt0PVwiMC4zXCIsWXM9Q2UsaWU9e3djX3BhaXJpbmdEZWxldGU6e3JlcTp7dHRsOnRlLHByb21wdDohMSx0YWc6MWUzfSxyZXM6e3R0bDp0ZSxwcm9tcHQ6ITEsdGFnOjEwMDF9fSx3Y19wYWlyaW5nUGluZzp7cmVxOnt0dGw6U2UscHJvbXB0OiExLHRhZzoxMDAyfSxyZXM6e3R0bDpTZSxwcm9tcHQ6ITEsdGFnOjEwMDN9fSx1bnJlZ2lzdGVyZWRfbWV0aG9kOntyZXE6e3R0bDp0ZSxwcm9tcHQ6ITEsdGFnOjB9LHJlczp7dHRsOnRlLHByb21wdDohMSx0YWc6MH19fSxzZT17Y3JlYXRlOlwicGFpcmluZ19jcmVhdGVcIixleHBpcmU6XCJwYWlyaW5nX2V4cGlyZVwiLGRlbGV0ZTpcInBhaXJpbmdfZGVsZXRlXCIscGluZzpcInBhaXJpbmdfcGluZ1wifSxNPXtjcmVhdGVkOlwiaGlzdG9yeV9jcmVhdGVkXCIsdXBkYXRlZDpcImhpc3RvcnlfdXBkYXRlZFwiLGRlbGV0ZWQ6XCJoaXN0b3J5X2RlbGV0ZWRcIixzeW5jOlwiaGlzdG9yeV9zeW5jXCJ9LEJ0PVwiaGlzdG9yeVwiLFZ0PVwiMC4zXCIscXQ9XCJleHBpcmVyXCIsRj17Y3JlYXRlZDpcImV4cGlyZXJfY3JlYXRlZFwiLGRlbGV0ZWQ6XCJleHBpcmVyX2RlbGV0ZWRcIixleHBpcmVkOlwiZXhwaXJlcl9leHBpcmVkXCIsc3luYzpcImV4cGlyZXJfc3luY1wifSxHdD1cIjAuM1wiLEpzPXRlLFd0PVwidmVyaWZ5LWFwaVwiLFhzPVwiaHR0cHM6Ly92ZXJpZnkud2FsbGV0Y29ubmVjdC5jb21cIixIdD1cImh0dHBzOi8vdmVyaWZ5LndhbGxldGNvbm5lY3Qub3JnXCIsdWU9SHQsWXQ9YCR7dWV9L3YzYCxKdD1bWHMsSHRdLFh0PVwiZWNob1wiLFp0PVwiaHR0cHM6Ly9lY2hvLndhbGxldGNvbm5lY3QuY29tXCIsWnM9XCJldmVudC1jbGllbnRcIixHPXtwYWlyaW5nX3N0YXJ0ZWQ6XCJwYWlyaW5nX3N0YXJ0ZWRcIixwYWlyaW5nX3VyaV92YWxpZGF0aW9uX3N1Y2Nlc3M6XCJwYWlyaW5nX3VyaV92YWxpZGF0aW9uX3N1Y2Nlc3NcIixwYWlyaW5nX3VyaV9ub3RfZXhwaXJlZDpcInBhaXJpbmdfdXJpX25vdF9leHBpcmVkXCIsc3RvcmVfbmV3X3BhaXJpbmc6XCJzdG9yZV9uZXdfcGFpcmluZ1wiLHN1YnNjcmliaW5nX3BhaXJpbmdfdG9waWM6XCJzdWJzY3JpYmluZ19wYWlyaW5nX3RvcGljXCIsc3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfc3VjY2VzczpcInN1YnNjcmliZV9wYWlyaW5nX3RvcGljX3N1Y2Nlc3NcIixleGlzdGluZ19wYWlyaW5nOlwiZXhpc3RpbmdfcGFpcmluZ1wiLHBhaXJpbmdfbm90X2V4cGlyZWQ6XCJwYWlyaW5nX25vdF9leHBpcmVkXCIsZW1pdF9pbmFjdGl2ZV9wYWlyaW5nOlwiZW1pdF9pbmFjdGl2ZV9wYWlyaW5nXCIsZW1pdF9zZXNzaW9uX3Byb3Bvc2FsOlwiZW1pdF9zZXNzaW9uX3Byb3Bvc2FsXCIsc3Vic2NyaWJpbmdfdG9fcGFpcmluZ190b3BpYzpcInN1YnNjcmliaW5nX3RvX3BhaXJpbmdfdG9waWNcIn0sWT17bm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLG5vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbWFsZm9ybWVkX3BhaXJpbmdfdXJpOlwibWFsZm9ybWVkX3BhaXJpbmdfdXJpXCIsYWN0aXZlX3BhaXJpbmdfYWxyZWFkeV9leGlzdHM6XCJhY3RpdmVfcGFpcmluZ19hbHJlYWR5X2V4aXN0c1wiLHN1YnNjcmliZV9wYWlyaW5nX3RvcGljX2ZhaWx1cmU6XCJzdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlXCIscGFpcmluZ19leHBpcmVkOlwicGFpcmluZ19leHBpcmVkXCIscHJvcG9zYWxfZXhwaXJlZDpcInByb3Bvc2FsX2V4cGlyZWRcIixwcm9wb3NhbF9saXN0ZW5lcl9ub3RfZm91bmQ6XCJwcm9wb3NhbF9saXN0ZW5lcl9ub3RfZm91bmRcIn0sUXM9e3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkOlwic2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWRcIixwcm9wb3NhbF9ub3RfZXhwaXJlZDpcInByb3Bvc2FsX25vdF9leHBpcmVkXCIsc2Vzc2lvbl9uYW1lc3BhY2VzX3ZhbGlkYXRpb25fc3VjY2VzczpcInNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3NcIixjcmVhdGVfc2Vzc2lvbl90b3BpYzpcImNyZWF0ZV9zZXNzaW9uX3RvcGljXCIsc3Vic2NyaWJpbmdfc2Vzc2lvbl90b3BpYzpcInN1YnNjcmliaW5nX3Nlc3Npb25fdG9waWNcIixzdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19zdWNjZXNzOlwic3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2Vzc1wiLHB1Ymxpc2hpbmdfc2Vzc2lvbl9hcHByb3ZlOlwicHVibGlzaGluZ19zZXNzaW9uX2FwcHJvdmVcIixzZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9zdWNjZXNzOlwic2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2Vzc1wiLHN0b3JlX3Nlc3Npb246XCJzdG9yZV9zZXNzaW9uXCIscHVibGlzaGluZ19zZXNzaW9uX3NldHRsZTpcInB1Ymxpc2hpbmdfc2Vzc2lvbl9zZXR0bGVcIixzZXNzaW9uX3NldHRsZV9wdWJsaXNoX3N1Y2Nlc3M6XCJzZXNzaW9uX3NldHRsZV9wdWJsaXNoX3N1Y2Nlc3NcIn0sZXI9e25vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLHByb3Bvc2FsX2V4cGlyZWQ6XCJwcm9wb3NhbF9leHBpcmVkXCIsc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfZmFpbHVyZTpcInN1YnNjcmliZV9zZXNzaW9uX3RvcGljX2ZhaWx1cmVcIixzZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlOlwic2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZVwiLHNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZTpcInNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZVwiLHNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlOlwic2Vzc2lvbl9hcHByb3ZlX25hbWVzcGFjZV92YWxpZGF0aW9uX2ZhaWx1cmVcIixwcm9wb3NhbF9ub3RfZm91bmQ6XCJwcm9wb3NhbF9ub3RfZm91bmRcIn0sdHI9e2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWQ6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkXCIsYXV0aGVudGljYXRlZF9zZXNzaW9uX25vdF9leHBpcmVkOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX25vdF9leHBpcmVkXCIsY2hhaW5zX2NhaXAyX2NvbXBsaWFudDpcImNoYWluc19jYWlwMl9jb21wbGlhbnRcIixjaGFpbnNfZXZtX2NvbXBsaWFudDpcImNoYWluc19ldm1fY29tcGxpYW50XCIsY3JlYXRlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpYzpcImNyZWF0ZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNcIixjYWNhb3NfdmVyaWZpZWQ6XCJjYWNhb3NfdmVyaWZpZWRcIixzdG9yZV9hdXRoZW50aWNhdGVkX3Nlc3Npb246XCJzdG9yZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25cIixzdWJzY3JpYmluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWM6XCJzdWJzY3JpYmluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNcIixzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX3N1Y2Nlc3M6XCJzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX3N1Y2Nlc3NcIixwdWJsaXNoaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlOlwicHVibGlzaGluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZVwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2VzczpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2Vzc1wifSxpcj17bm9faW50ZXJuZXRfY29ubmVjdGlvbjpcIm5vX2ludGVybmV0X2Nvbm5lY3Rpb25cIixub193c3NfY29ubmVjdGlvbjpcIm5vX3dzc19jb25uZWN0aW9uXCIsbWlzc2luZ19zZXNzaW9uX2F1dGhlbnRpY2F0ZV9yZXF1ZXN0OlwibWlzc2luZ19zZXNzaW9uX2F1dGhlbnRpY2F0ZV9yZXF1ZXN0XCIsc2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdF9leHBpcmVkOlwic2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdF9leHBpcmVkXCIsY2hhaW5zX2NhaXAyX2NvbXBsaWFudF9mYWlsdXJlOlwiY2hhaW5zX2NhaXAyX2NvbXBsaWFudF9mYWlsdXJlXCIsY2hhaW5zX2V2bV9jb21wbGlhbnRfZmFpbHVyZTpcImNoYWluc19ldm1fY29tcGxpYW50X2ZhaWx1cmVcIixpbnZhbGlkX2NhY2FvOlwiaW52YWxpZF9jYWNhb1wiLHN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfZmFpbHVyZTpcInN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfZmFpbHVyZVwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZTpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZVwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9wZW5kaW5nX3JlcXVlc3Rfbm90X2ZvdW5kOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX3BlbmRpbmdfcmVxdWVzdF9ub3RfZm91bmRcIn0sUXQ9LjEsZWk9XCJldmVudC1jbGllbnRcIix0aT04NjQwMCxpaT1cImh0dHBzOi8vcHVsc2Uud2FsbGV0Y29ubmVjdC5vcmcvYmF0Y2hcIjtmdW5jdGlvbiBzcihyLGUpe2lmKHIubGVuZ3RoPj0yNTUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFscGhhYmV0IHRvbyBsb25nXCIpO2Zvcih2YXIgdD1uZXcgVWludDhBcnJheSgyNTYpLHM9MDtzPHQubGVuZ3RoO3MrKyl0W3NdPTI1NTtmb3IodmFyIGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIG49ci5jaGFyQXQoaSksbz1uLmNoYXJDb2RlQXQoMCk7aWYodFtvXSE9PTI1NSl0aHJvdyBuZXcgVHlwZUVycm9yKG4rXCIgaXMgYW1iaWd1b3VzXCIpO3Rbb109aX12YXIgYT1yLmxlbmd0aCxjPXIuY2hhckF0KDApLGg9TWF0aC5sb2coYSkvTWF0aC5sb2coMjU2KSx1PU1hdGgubG9nKDI1NikvTWF0aC5sb2coYSk7ZnVuY3Rpb24gZChsKXtpZihsIGluc3RhbmNlb2YgVWludDhBcnJheXx8KEFycmF5QnVmZmVyLmlzVmlldyhsKT9sPW5ldyBVaW50OEFycmF5KGwuYnVmZmVyLGwuYnl0ZU9mZnNldCxsLmJ5dGVMZW5ndGgpOkFycmF5LmlzQXJyYXkobCkmJihsPVVpbnQ4QXJyYXkuZnJvbShsKSkpLCEobCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBVaW50OEFycmF5XCIpO2lmKGwubGVuZ3RoPT09MClyZXR1cm5cIlwiO2Zvcih2YXIgYj0wLHg9MCxJPTAsRD1sLmxlbmd0aDtJIT09RCYmbFtJXT09PTA7KUkrKyxiKys7Zm9yKHZhciBqPShELUkpKnUrMT4+PjAsVD1uZXcgVWludDhBcnJheShqKTtJIT09RDspe2Zvcih2YXIgcT1sW0ldLEo9MCxLPWotMTsocSE9PTB8fEo8eCkmJkshPT0tMTtLLS0sSisrKXErPTI1NipUW0tdPj4+MCxUW0tdPXElYT4+PjAscT1xL2E+Pj4wO2lmKHEhPT0wKXRocm93IG5ldyBFcnJvcihcIk5vbi16ZXJvIGNhcnJ5XCIpO3g9SixJKyt9Zm9yKHZhciBIPWoteDtIIT09aiYmVFtIXT09PTA7KUgrKztmb3IodmFyIG1lPWMucmVwZWF0KGIpO0g8ajsrK0gpbWUrPXIuY2hhckF0KFRbSF0pO3JldHVybiBtZX1mdW5jdGlvbiBnKGwpe2lmKHR5cGVvZiBsIT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBTdHJpbmdcIik7aWYobC5sZW5ndGg9PT0wKXJldHVybiBuZXcgVWludDhBcnJheTt2YXIgYj0wO2lmKGxbYl0hPT1cIiBcIil7Zm9yKHZhciB4PTAsST0wO2xbYl09PT1jOyl4KyssYisrO2Zvcih2YXIgRD0obC5sZW5ndGgtYikqaCsxPj4+MCxqPW5ldyBVaW50OEFycmF5KEQpO2xbYl07KXt2YXIgVD10W2wuY2hhckNvZGVBdChiKV07aWYoVD09PTI1NSlyZXR1cm47Zm9yKHZhciBxPTAsSj1ELTE7KFQhPT0wfHxxPEkpJiZKIT09LTE7Si0tLHErKylUKz1hKmpbSl0+Pj4wLGpbSl09VCUyNTY+Pj4wLFQ9VC8yNTY+Pj4wO2lmKFQhPT0wKXRocm93IG5ldyBFcnJvcihcIk5vbi16ZXJvIGNhcnJ5XCIpO0k9cSxiKyt9aWYobFtiXSE9PVwiIFwiKXtmb3IodmFyIEs9RC1JO0shPT1EJiZqW0tdPT09MDspSysrO2Zvcih2YXIgSD1uZXcgVWludDhBcnJheSh4KyhELUspKSxtZT14O0shPT1EOylIW21lKytdPWpbSysrXTtyZXR1cm4gSH19fWZ1bmN0aW9uIF8obCl7dmFyIGI9ZyhsKTtpZihiKXJldHVybiBiO3Rocm93IG5ldyBFcnJvcihgTm9uLSR7ZX0gY2hhcmFjdGVyYCl9cmV0dXJue2VuY29kZTpkLGRlY29kZVVuc2FmZTpnLGRlY29kZTpffX12YXIgcnI9c3IsbnI9cnI7Y29uc3Qgc2k9cj0+e2lmKHIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiZyLmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIilyZXR1cm4gcjtpZihyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIG5ldyBVaW50OEFycmF5KHIpO2lmKEFycmF5QnVmZmVyLmlzVmlldyhyKSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoci5idWZmZXIsci5ieXRlT2Zmc2V0LHIuYnl0ZUxlbmd0aCk7dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlLCBtdXN0IGJlIGJpbmFyeSB0eXBlXCIpfSxvcj1yPT5uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUociksYXI9cj0+bmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHIpO2NsYXNzIGNye2NvbnN0cnVjdG9yKGUsdCxzKXt0aGlzLm5hbWU9ZSx0aGlzLnByZWZpeD10LHRoaXMuYmFzZUVuY29kZT1zfWVuY29kZShlKXtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheSlyZXR1cm5gJHt0aGlzLnByZWZpeH0ke3RoaXMuYmFzZUVuY29kZShlKX1gO3Rocm93IEVycm9yKFwiVW5rbm93biB0eXBlLCBtdXN0IGJlIGJpbmFyeSB0eXBlXCIpfX1jbGFzcyBocntjb25zdHJ1Y3RvcihlLHQscyl7aWYodGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9dCx0LmNvZGVQb2ludEF0KDApPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJlZml4IGNoYXJhY3RlclwiKTt0aGlzLnByZWZpeENvZGVQb2ludD10LmNvZGVQb2ludEF0KDApLHRoaXMuYmFzZURlY29kZT1zfWRlY29kZShlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIil7aWYoZS5jb2RlUG9pbnRBdCgwKSE9PXRoaXMucHJlZml4Q29kZVBvaW50KXRocm93IEVycm9yKGBVbmFibGUgdG8gZGVjb2RlIG11bHRpYmFzZSBzdHJpbmcgJHtKU09OLnN0cmluZ2lmeShlKX0sICR7dGhpcy5uYW1lfSBkZWNvZGVyIG9ubHkgc3VwcG9ydHMgaW5wdXRzIHByZWZpeGVkIHdpdGggJHt0aGlzLnByZWZpeH1gKTtyZXR1cm4gdGhpcy5iYXNlRGVjb2RlKGUuc2xpY2UodGhpcy5wcmVmaXgubGVuZ3RoKSl9ZWxzZSB0aHJvdyBFcnJvcihcIkNhbiBvbmx5IG11bHRpYmFzZSBkZWNvZGUgc3RyaW5nc1wiKX1vcihlKXtyZXR1cm4gcmkodGhpcyxlKX19Y2xhc3MgbHJ7Y29uc3RydWN0b3IoZSl7dGhpcy5kZWNvZGVycz1lfW9yKGUpe3JldHVybiByaSh0aGlzLGUpfWRlY29kZShlKXtjb25zdCB0PWVbMF0scz10aGlzLmRlY29kZXJzW3RdO2lmKHMpcmV0dXJuIHMuZGVjb2RlKGUpO3Rocm93IFJhbmdlRXJyb3IoYFVuYWJsZSB0byBkZWNvZGUgbXVsdGliYXNlIHN0cmluZyAke0pTT04uc3RyaW5naWZ5KGUpfSwgb25seSBpbnB1dHMgcHJlZml4ZWQgd2l0aCAke09iamVjdC5rZXlzKHRoaXMuZGVjb2RlcnMpfSBhcmUgc3VwcG9ydGVkYCl9fWNvbnN0IHJpPShyLGUpPT5uZXcgbHIoey4uLnIuZGVjb2RlcnN8fHtbci5wcmVmaXhdOnJ9LC4uLmUuZGVjb2RlcnN8fHtbZS5wcmVmaXhdOmV9fSk7Y2xhc3MgdXJ7Y29uc3RydWN0b3IoZSx0LHMsaSl7dGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9dCx0aGlzLmJhc2VFbmNvZGU9cyx0aGlzLmJhc2VEZWNvZGU9aSx0aGlzLmVuY29kZXI9bmV3IGNyKGUsdCxzKSx0aGlzLmRlY29kZXI9bmV3IGhyKGUsdCxpKX1lbmNvZGUoZSl7cmV0dXJuIHRoaXMuZW5jb2Rlci5lbmNvZGUoZSl9ZGVjb2RlKGUpe3JldHVybiB0aGlzLmRlY29kZXIuZGVjb2RlKGUpfX1jb25zdCBFZT0oe25hbWU6cixwcmVmaXg6ZSxlbmNvZGU6dCxkZWNvZGU6c30pPT5uZXcgdXIocixlLHQscyksZGU9KHtwcmVmaXg6cixuYW1lOmUsYWxwaGFiZXQ6dH0pPT57Y29uc3R7ZW5jb2RlOnMsZGVjb2RlOml9PW5yKHQsZSk7cmV0dXJuIEVlKHtwcmVmaXg6cixuYW1lOmUsZW5jb2RlOnMsZGVjb2RlOm49PnNpKGkobikpfSl9LGRyPShyLGUsdCxzKT0+e2NvbnN0IGk9e307Zm9yKGxldCB1PTA7dTxlLmxlbmd0aDsrK3UpaVtlW3VdXT11O2xldCBuPXIubGVuZ3RoO2Zvcig7cltuLTFdPT09XCI9XCI7KS0tbjtjb25zdCBvPW5ldyBVaW50OEFycmF5KG4qdC84fDApO2xldCBhPTAsYz0wLGg9MDtmb3IobGV0IHU9MDt1PG47Kyt1KXtjb25zdCBkPWlbclt1XV07aWYoZD09PXZvaWQgMCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoYE5vbi0ke3N9IGNoYXJhY3RlcmApO2M9Yzw8dHxkLGErPXQsYT49OCYmKGEtPTgsb1toKytdPTI1NSZjPj5hKX1pZihhPj10fHwyNTUmYzw8OC1hKXRocm93IG5ldyBTeW50YXhFcnJvcihcIlVuZXhwZWN0ZWQgZW5kIG9mIGRhdGFcIik7cmV0dXJuIG99LGdyPShyLGUsdCk9Pntjb25zdCBzPWVbZS5sZW5ndGgtMV09PT1cIj1cIixpPSgxPDx0KS0xO2xldCBuPVwiXCIsbz0wLGE9MDtmb3IobGV0IGM9MDtjPHIubGVuZ3RoOysrYylmb3IoYT1hPDw4fHJbY10sbys9ODtvPnQ7KW8tPXQsbis9ZVtpJmE+Pm9dO2lmKG8mJihuKz1lW2kmYTw8dC1vXSkscylmb3IoO24ubGVuZ3RoKnQmNzspbis9XCI9XCI7cmV0dXJuIG59LFA9KHtuYW1lOnIscHJlZml4OmUsYml0c1BlckNoYXI6dCxhbHBoYWJldDpzfSk9PkVlKHtwcmVmaXg6ZSxuYW1lOnIsZW5jb2RlKGkpe3JldHVybiBncihpLHMsdCl9LGRlY29kZShpKXtyZXR1cm4gZHIoaSxzLHQscil9fSkscHI9RWUoe3ByZWZpeDpcIlxcMFwiLG5hbWU6XCJpZGVudGl0eVwiLGVuY29kZTpyPT5hcihyKSxkZWNvZGU6cj0+b3Iocil9KTt2YXIgeXI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaWRlbnRpdHk6cHJ9KTtjb25zdCBicj1QKHtwcmVmaXg6XCIwXCIsbmFtZTpcImJhc2UyXCIsYWxwaGFiZXQ6XCIwMVwiLGJpdHNQZXJDaGFyOjF9KTt2YXIgbXI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTI6YnJ9KTtjb25zdCBmcj1QKHtwcmVmaXg6XCI3XCIsbmFtZTpcImJhc2U4XCIsYWxwaGFiZXQ6XCIwMTIzNDU2N1wiLGJpdHNQZXJDaGFyOjN9KTt2YXIgRHI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTg6ZnJ9KTtjb25zdCB2cj1kZSh7cHJlZml4OlwiOVwiLG5hbWU6XCJiYXNlMTBcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlcIn0pO3ZhciB3cj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMTA6dnJ9KTtjb25zdCBfcj1QKHtwcmVmaXg6XCJmXCIsbmFtZTpcImJhc2UxNlwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZlwiLGJpdHNQZXJDaGFyOjR9KSxFcj1QKHtwcmVmaXg6XCJGXCIsbmFtZTpcImJhc2UxNnVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGXCIsYml0c1BlckNoYXI6NH0pO3ZhciBJcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMTY6X3IsYmFzZTE2dXBwZXI6RXJ9KTtjb25zdCBUcj1QKHtwcmVmaXg6XCJiXCIsbmFtZTpcImJhc2UzMlwiLGFscGhhYmV0OlwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoyMzQ1NjdcIixiaXRzUGVyQ2hhcjo1fSksQ3I9UCh7cHJlZml4OlwiQlwiLG5hbWU6XCJiYXNlMzJ1cHBlclwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoyMzQ1NjdcIixiaXRzUGVyQ2hhcjo1fSksUHI9UCh7cHJlZml4OlwiY1wiLG5hbWU6XCJiYXNlMzJwYWRcIixhbHBoYWJldDpcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MjM0NTY3PVwiLGJpdHNQZXJDaGFyOjV9KSxTcj1QKHtwcmVmaXg6XCJDXCIsbmFtZTpcImJhc2UzMnBhZHVwcGVyXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjIzNDU2Nz1cIixiaXRzUGVyQ2hhcjo1fSksUnI9UCh7cHJlZml4OlwidlwiLG5hbWU6XCJiYXNlMzJoZXhcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2XCIsYml0c1BlckNoYXI6NX0pLE9yPVAoe3ByZWZpeDpcIlZcIixuYW1lOlwiYmFzZTMyaGV4dXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWXCIsYml0c1BlckNoYXI6NX0pLEFyPVAoe3ByZWZpeDpcInRcIixuYW1lOlwiYmFzZTMyaGV4cGFkXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dj1cIixiaXRzUGVyQ2hhcjo1fSkseHI9UCh7cHJlZml4OlwiVFwiLG5hbWU6XCJiYXNlMzJoZXhwYWR1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVY9XCIsYml0c1BlckNoYXI6NX0pLE5yPVAoe3ByZWZpeDpcImhcIixuYW1lOlwiYmFzZTMyelwiLGFscGhhYmV0OlwieWJuZHJmZzhlamttY3BxeG90MXV3aXN6YTM0NWg3NjlcIixiaXRzUGVyQ2hhcjo1fSk7dmFyICRyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UzMjpUcixiYXNlMzJ1cHBlcjpDcixiYXNlMzJwYWQ6UHIsYmFzZTMycGFkdXBwZXI6U3IsYmFzZTMyaGV4OlJyLGJhc2UzMmhleHVwcGVyOk9yLGJhc2UzMmhleHBhZDpBcixiYXNlMzJoZXhwYWR1cHBlcjp4cixiYXNlMzJ6Ok5yfSk7Y29uc3QgenI9ZGUoe3ByZWZpeDpcImtcIixuYW1lOlwiYmFzZTM2XCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIn0pLExyPWRlKHtwcmVmaXg6XCJLXCIsbmFtZTpcImJhc2UzNnVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIn0pO3ZhciBrcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMzY6enIsYmFzZTM2dXBwZXI6THJ9KTtjb25zdCBqcj1kZSh7bmFtZTpcImJhc2U1OGJ0Y1wiLHByZWZpeDpcInpcIixhbHBoYWJldDpcIjEyMzQ1Njc4OUFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWmFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXpcIn0pLFVyPWRlKHtuYW1lOlwiYmFzZTU4ZmxpY2tyXCIscHJlZml4OlwiWlwiLGFscGhhYmV0OlwiMTIzNDU2Nzg5YWJjZGVmZ2hpamttbm9wcXJzdHV2d3h5ekFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWlwifSk7dmFyIE1yPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2U1OGJ0YzpqcixiYXNlNThmbGlja3I6VXJ9KTtjb25zdCBGcj1QKHtwcmVmaXg6XCJtXCIsbmFtZTpcImJhc2U2NFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGJpdHNQZXJDaGFyOjZ9KSxLcj1QKHtwcmVmaXg6XCJNXCIsbmFtZTpcImJhc2U2NHBhZFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixiaXRzUGVyQ2hhcjo2fSksQnI9UCh7cHJlZml4OlwidVwiLG5hbWU6XCJiYXNlNjR1cmxcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV9cIixiaXRzUGVyQ2hhcjo2fSksVnI9UCh7cHJlZml4OlwiVVwiLG5hbWU6XCJiYXNlNjR1cmxwYWRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV89XCIsYml0c1BlckNoYXI6Nn0pO3ZhciBxcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlNjQ6RnIsYmFzZTY0cGFkOktyLGJhc2U2NHVybDpCcixiYXNlNjR1cmxwYWQ6VnJ9KTtjb25zdCBuaT1BcnJheS5mcm9tKFwiXFx1ezFGNjgwfVxcdXsxRkE5MH1cXHUyNjA0XFx1ezFGNkYwfVxcdXsxRjMwQ31cXHV7MUYzMTF9XFx1ezFGMzEyfVxcdXsxRjMxM31cXHV7MUYzMTR9XFx1ezFGMzE1fVxcdXsxRjMxNn1cXHV7MUYzMTd9XFx1ezFGMzE4fVxcdXsxRjMwRH1cXHV7MUYzMEZ9XFx1ezFGMzBFfVxcdXsxRjQwOX1cXHUyNjAwXFx1ezFGNEJCfVxcdXsxRjVBNX1cXHV7MUY0QkV9XFx1ezFGNEJGfVxcdXsxRjYwMn1cXHUyNzY0XFx1ezFGNjBEfVxcdXsxRjkyM31cXHV7MUY2MEF9XFx1ezFGNjRGfVxcdXsxRjQ5NX1cXHV7MUY2MkR9XFx1ezFGNjE4fVxcdXsxRjQ0RH1cXHV7MUY2MDV9XFx1ezFGNDRGfVxcdXsxRjYwMX1cXHV7MUY1MjV9XFx1ezFGOTcwfVxcdXsxRjQ5NH1cXHV7MUY0OTZ9XFx1ezFGNDk5fVxcdXsxRjYyMn1cXHV7MUY5MTR9XFx1ezFGNjA2fVxcdXsxRjY0NH1cXHV7MUY0QUF9XFx1ezFGNjA5fVxcdTI2M0FcXHV7MUY0NEN9XFx1ezFGOTE3fVxcdXsxRjQ5Q31cXHV7MUY2MTR9XFx1ezFGNjBFfVxcdXsxRjYwN31cXHV7MUYzMzl9XFx1ezFGOTI2fVxcdXsxRjM4OX1cXHV7MUY0OUV9XFx1MjcwQ1xcdTI3MjhcXHV7MUY5Mzd9XFx1ezFGNjMxfVxcdXsxRjYwQ31cXHV7MUYzMzh9XFx1ezFGNjRDfVxcdXsxRjYwQn1cXHV7MUY0OTd9XFx1ezFGNDlBfVxcdXsxRjYwRn1cXHV7MUY0OUJ9XFx1ezFGNjQyfVxcdXsxRjQ5M31cXHV7MUY5Mjl9XFx1ezFGNjA0fVxcdXsxRjYwMH1cXHV7MUY1QTR9XFx1ezFGNjAzfVxcdXsxRjRBRn1cXHV7MUY2NDh9XFx1ezFGNDQ3fVxcdXsxRjNCNn1cXHV7MUY2MTJ9XFx1ezFGOTJEfVxcdTI3NjNcXHV7MUY2MUN9XFx1ezFGNDhCfVxcdXsxRjQ0MH1cXHV7MUY2MkF9XFx1ezFGNjExfVxcdXsxRjRBNX1cXHV7MUY2NEJ9XFx1ezFGNjFFfVxcdXsxRjYyOX1cXHV7MUY2MjF9XFx1ezFGOTJBfVxcdXsxRjQ0QX1cXHV7MUY5NzN9XFx1ezFGNjI1fVxcdXsxRjkyNH1cXHV7MUY0NDl9XFx1ezFGNDgzfVxcdXsxRjYzM31cXHUyNzBCXFx1ezFGNjFBfVxcdXsxRjYxRH1cXHV7MUY2MzR9XFx1ezFGMzFGfVxcdXsxRjYyQ31cXHV7MUY2NDN9XFx1ezFGMzQwfVxcdXsxRjMzN31cXHV7MUY2M0J9XFx1ezFGNjEzfVxcdTJCNTBcXHUyNzA1XFx1ezFGOTdBfVxcdXsxRjMwOH1cXHV7MUY2MDh9XFx1ezFGOTE4fVxcdXsxRjRBNn1cXHUyNzE0XFx1ezFGNjIzfVxcdXsxRjNDM31cXHV7MUY0OTB9XFx1MjYzOVxcdXsxRjM4QX1cXHV7MUY0OTh9XFx1ezFGNjIwfVxcdTI2MURcXHV7MUY2MTV9XFx1ezFGMzNBfVxcdXsxRjM4Mn1cXHV7MUYzM0J9XFx1ezFGNjEwfVxcdXsxRjU5NX1cXHV7MUY0OUR9XFx1ezFGNjRBfVxcdXsxRjYzOX1cXHV7MUY1RTN9XFx1ezFGNEFCfVxcdXsxRjQ4MH1cXHV7MUY0NTF9XFx1ezFGM0I1fVxcdXsxRjkxRX1cXHV7MUY2MUJ9XFx1ezFGNTM0fVxcdXsxRjYyNH1cXHV7MUYzM0N9XFx1ezFGNjJCfVxcdTI2QkRcXHV7MUY5MTl9XFx1MjYxNVxcdXsxRjNDNn1cXHV7MUY5MkJ9XFx1ezFGNDQ4fVxcdXsxRjYyRX1cXHV7MUY2NDZ9XFx1ezFGMzdCfVxcdXsxRjM0M31cXHV7MUY0MzZ9XFx1ezFGNDgxfVxcdXsxRjYzMn1cXHV7MUYzM0Z9XFx1ezFGOUUxfVxcdXsxRjM4MX1cXHUyNkExXFx1ezFGMzFFfVxcdXsxRjM4OH1cXHUyNzRDXFx1MjcwQVxcdXsxRjQ0Qn1cXHV7MUY2MzB9XFx1ezFGOTI4fVxcdXsxRjYzNn1cXHV7MUY5MUR9XFx1ezFGNkI2fVxcdXsxRjRCMH1cXHV7MUYzNTN9XFx1ezFGNEEyfVxcdXsxRjkxRn1cXHV7MUY2NDF9XFx1ezFGNkE4fVxcdXsxRjRBOH1cXHV7MUY5MkN9XFx1MjcwOFxcdXsxRjM4MH1cXHV7MUYzN0F9XFx1ezFGOTEzfVxcdXsxRjYxOX1cXHV7MUY0OUZ9XFx1ezFGMzMxfVxcdXsxRjYxNn1cXHV7MUY0NzZ9XFx1ezFGOTc0fVxcdTI1QjZcXHUyN0ExXFx1Mjc1M1xcdXsxRjQ4RX1cXHV7MUY0Qjh9XFx1MkIwN1xcdXsxRjYyOH1cXHV7MUYzMUF9XFx1ezFGOThCfVxcdXsxRjYzN31cXHV7MUY1N0F9XFx1MjZBMFxcdXsxRjY0NX1cXHV7MUY2MUZ9XFx1ezFGNjM1fVxcdXsxRjQ0RX1cXHV7MUY5MzJ9XFx1ezFGOTIwfVxcdXsxRjkyN31cXHV7MUY0Q0N9XFx1ezFGNTM1fVxcdXsxRjQ4NX1cXHV7MUY5RDB9XFx1ezFGNDNFfVxcdXsxRjM1Mn1cXHV7MUY2MTd9XFx1ezFGOTExfVxcdXsxRjMwQX1cXHV7MUY5MkZ9XFx1ezFGNDM3fVxcdTI2MEVcXHV7MUY0QTd9XFx1ezFGNjJGfVxcdXsxRjQ4Nn1cXHV7MUY0NDZ9XFx1ezFGM0E0fVxcdXsxRjY0N31cXHV7MUYzNTF9XFx1Mjc0NFxcdXsxRjMzNH1cXHV7MUY0QTN9XFx1ezFGNDM4fVxcdXsxRjQ4Q31cXHV7MUY0Q0R9XFx1ezFGOTQwfVxcdXsxRjkyMn1cXHV7MUY0NDV9XFx1ezFGNEExfVxcdXsxRjRBOX1cXHV7MUY0NTB9XFx1ezFGNEY4fVxcdXsxRjQ3Qn1cXHV7MUY5MTB9XFx1ezFGOTJFfVxcdXsxRjNCQ31cXHV7MUY5NzV9XFx1ezFGNkE5fVxcdXsxRjM0RX1cXHV7MUYzNEF9XFx1ezFGNDdDfVxcdXsxRjQ4RH1cXHV7MUY0RTN9XFx1ezFGOTQyfVwiKSxHcj1uaS5yZWR1Y2UoKHIsZSx0KT0+KHJbdF09ZSxyKSxbXSksV3I9bmkucmVkdWNlKChyLGUsdCk9PihyW2UuY29kZVBvaW50QXQoMCldPXQsciksW10pO2Z1bmN0aW9uIEhyKHIpe3JldHVybiByLnJlZHVjZSgoZSx0KT0+KGUrPUdyW3RdLGUpLFwiXCIpfWZ1bmN0aW9uIFlyKHIpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2Ygcil7Y29uc3Qgcz1Xclt0LmNvZGVQb2ludEF0KDApXTtpZihzPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihgTm9uLWJhc2UyNTZlbW9qaSBjaGFyYWN0ZXI6ICR7dH1gKTtlLnB1c2gocyl9cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpfWNvbnN0IEpyPUVlKHtwcmVmaXg6XCJcXHV7MUY2ODB9XCIsbmFtZTpcImJhc2UyNTZlbW9qaVwiLGVuY29kZTpIcixkZWNvZGU6WXJ9KTt2YXIgWHI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTI1NmVtb2ppOkpyfSksWnI9YWksb2k9MTI4LFFyPTEyNyxlbj1+UXIsdG49TWF0aC5wb3coMiwzMSk7ZnVuY3Rpb24gYWkocixlLHQpe2U9ZXx8W10sdD10fHwwO2Zvcih2YXIgcz10O3I+PXRuOyllW3QrK109ciYyNTV8b2ksci89MTI4O2Zvcig7ciZlbjspZVt0KytdPXImMjU1fG9pLHI+Pj49NztyZXR1cm4gZVt0XT1yfDAsYWkuYnl0ZXM9dC1zKzEsZX12YXIgc249RmUscm49MTI4LGNpPTEyNztmdW5jdGlvbiBGZShyLHMpe3ZhciB0PTAscz1zfHwwLGk9MCxuPXMsbyxhPXIubGVuZ3RoO2Rve2lmKG4+PWEpdGhyb3cgRmUuYnl0ZXM9MCxuZXcgUmFuZ2VFcnJvcihcIkNvdWxkIG5vdCBkZWNvZGUgdmFyaW50XCIpO289cltuKytdLHQrPWk8Mjg/KG8mY2kpPDxpOihvJmNpKSpNYXRoLnBvdygyLGkpLGkrPTd9d2hpbGUobz49cm4pO3JldHVybiBGZS5ieXRlcz1uLXMsdH12YXIgbm49TWF0aC5wb3coMiw3KSxvbj1NYXRoLnBvdygyLDE0KSxhbj1NYXRoLnBvdygyLDIxKSxjbj1NYXRoLnBvdygyLDI4KSxobj1NYXRoLnBvdygyLDM1KSxsbj1NYXRoLnBvdygyLDQyKSx1bj1NYXRoLnBvdygyLDQ5KSxkbj1NYXRoLnBvdygyLDU2KSxnbj1NYXRoLnBvdygyLDYzKSxwbj1mdW5jdGlvbihyKXtyZXR1cm4gcjxubj8xOnI8b24/MjpyPGFuPzM6cjxjbj80OnI8aG4/NTpyPGxuPzY6cjx1bj83OnI8ZG4/ODpyPGduPzk6MTB9LHluPXtlbmNvZGU6WnIsZGVjb2RlOnNuLGVuY29kaW5nTGVuZ3RoOnBufSxoaT15bjtjb25zdCBsaT0ocixlLHQ9MCk9PihoaS5lbmNvZGUocixlLHQpLGUpLHVpPXI9PmhpLmVuY29kaW5nTGVuZ3RoKHIpLEtlPShyLGUpPT57Y29uc3QgdD1lLmJ5dGVMZW5ndGgscz11aShyKSxpPXMrdWkodCksbj1uZXcgVWludDhBcnJheShpK3QpO3JldHVybiBsaShyLG4sMCksbGkodCxuLHMpLG4uc2V0KGUsaSksbmV3IGJuKHIsdCxlLG4pfTtjbGFzcyBibntjb25zdHJ1Y3RvcihlLHQscyxpKXt0aGlzLmNvZGU9ZSx0aGlzLnNpemU9dCx0aGlzLmRpZ2VzdD1zLHRoaXMuYnl0ZXM9aX19Y29uc3QgZGk9KHtuYW1lOnIsY29kZTplLGVuY29kZTp0fSk9Pm5ldyBtbihyLGUsdCk7Y2xhc3MgbW57Y29uc3RydWN0b3IoZSx0LHMpe3RoaXMubmFtZT1lLHRoaXMuY29kZT10LHRoaXMuZW5jb2RlPXN9ZGlnZXN0KGUpe2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXtjb25zdCB0PXRoaXMuZW5jb2RlKGUpO3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheT9LZSh0aGlzLmNvZGUsdCk6dC50aGVuKHM9PktlKHRoaXMuY29kZSxzKSl9ZWxzZSB0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX19Y29uc3QgZ2k9cj0+YXN5bmMgZT0+bmV3IFVpbnQ4QXJyYXkoYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QocixlKSksZm49ZGkoe25hbWU6XCJzaGEyLTI1NlwiLGNvZGU6MTgsZW5jb2RlOmdpKFwiU0hBLTI1NlwiKX0pLERuPWRpKHtuYW1lOlwic2hhMi01MTJcIixjb2RlOjE5LGVuY29kZTpnaShcIlNIQS01MTJcIil9KTt2YXIgdm49T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsc2hhMjU2OmZuLHNoYTUxMjpEbn0pO2NvbnN0IHBpPTAsd249XCJpZGVudGl0eVwiLHlpPXNpLF9uPXI9PktlKHBpLHlpKHIpKSxFbj17Y29kZTpwaSxuYW1lOnduLGVuY29kZTp5aSxkaWdlc3Q6X259O3ZhciBJbj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxpZGVudGl0eTpFbn0pO25ldyBUZXh0RW5jb2RlcixuZXcgVGV4dERlY29kZXI7Y29uc3QgYmk9ey4uLnlyLC4uLm1yLC4uLkRyLC4uLndyLC4uLklyLC4uLiRyLC4uLmtyLC4uLk1yLC4uLnFyLC4uLlhyfTsoey4uLnZuLC4uLklufSk7ZnVuY3Rpb24gVG4ocj0wKXtyZXR1cm4gZ2xvYmFsVGhpcy5CdWZmZXIhPW51bGwmJmdsb2JhbFRoaXMuQnVmZmVyLmFsbG9jVW5zYWZlIT1udWxsP2dsb2JhbFRoaXMuQnVmZmVyLmFsbG9jVW5zYWZlKHIpOm5ldyBVaW50OEFycmF5KHIpfWZ1bmN0aW9uIG1pKHIsZSx0LHMpe3JldHVybntuYW1lOnIscHJlZml4OmUsZW5jb2Rlcjp7bmFtZTpyLHByZWZpeDplLGVuY29kZTp0fSxkZWNvZGVyOntkZWNvZGU6c319fWNvbnN0IGZpPW1pKFwidXRmOFwiLFwidVwiLHI9PlwidVwiK25ldyBUZXh0RGVjb2RlcihcInV0ZjhcIikuZGVjb2RlKHIpLHI9Pm5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShyLnN1YnN0cmluZygxKSkpLEJlPW1pKFwiYXNjaWlcIixcImFcIixyPT57bGV0IGU9XCJhXCI7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0KyspZSs9U3RyaW5nLmZyb21DaGFyQ29kZShyW3RdKTtyZXR1cm4gZX0scj0+e3I9ci5zdWJzdHJpbmcoMSk7Y29uc3QgZT1UbihyLmxlbmd0aCk7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0KyspZVt0XT1yLmNoYXJDb2RlQXQodCk7cmV0dXJuIGV9KSxDbj17dXRmODpmaSxcInV0Zi04XCI6ZmksaGV4OmJpLmJhc2UxNixsYXRpbjE6QmUsYXNjaWk6QmUsYmluYXJ5OkJlLC4uLmJpfTtmdW5jdGlvbiBQbihyLGU9XCJ1dGY4XCIpe2NvbnN0IHQ9Q25bZV07aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBlbmNvZGluZyBcIiR7ZX1cImApO3JldHVybihlPT09XCJ1dGY4XCJ8fGU9PT1cInV0Zi04XCIpJiZnbG9iYWxUaGlzLkJ1ZmZlciE9bnVsbCYmZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbSE9bnVsbD9nbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKHIsXCJ1dGY4XCIpOnQuZGVjb2Rlci5kZWNvZGUoYCR7dC5wcmVmaXh9JHtyfWApfXZhciBTbj1PYmplY3QuZGVmaW5lUHJvcGVydHksUm49KHIsZSx0KT0+ZSBpbiByP1NuKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxXPShyLGUsdCk9PlJuKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgRGl7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LFcodGhpcyxcImtleWNoYWluXCIsbmV3IE1hcCksVyh0aGlzLFwibmFtZVwiLFB0KSxXKHRoaXMsXCJ2ZXJzaW9uXCIsU3QpLFcodGhpcyxcImluaXRpYWxpemVkXCIsITEpLFcodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSxXKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdCBzPWF3YWl0IHRoaXMuZ2V0S2V5Q2hhaW4oKTt0eXBlb2YgczxcInVcIiYmKHRoaXMua2V5Y2hhaW49cyksdGhpcy5pbml0aWFsaXplZD0hMH19KSxXKHRoaXMsXCJoYXNcIixzPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5rZXljaGFpbi5oYXMocykpKSxXKHRoaXMsXCJzZXRcIixhc3luYyhzLGkpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5rZXljaGFpbi5zZXQocyxpKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLFcodGhpcyxcImdldFwiLHM9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBpPXRoaXMua2V5Y2hhaW4uZ2V0KHMpO2lmKHR5cGVvZiBpPlwidVwiKXtjb25zdHttZXNzYWdlOm59PW0oXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke3N9YCk7dGhyb3cgbmV3IEVycm9yKG4pfXJldHVybiBpfSksVyh0aGlzLFwiZGVsXCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uZGVsZXRlKHMpLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWFzeW5jIHNldEtleUNoYWluKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LFJlKGUpKX1hc3luYyBnZXRLZXlDaGFpbigpe2NvbnN0IGU9YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpO3JldHVybiB0eXBlb2YgZTxcInVcIj9PZShlKTp2b2lkIDB9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0S2V5Q2hhaW4odGhpcy5rZXljaGFpbil9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBPbj1PYmplY3QuZGVmaW5lUHJvcGVydHksQW49KHIsZSx0KT0+ZSBpbiByP09uKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxTPShyLGUsdCk9PkFuKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3Mgdml7Y29uc3RydWN0b3IoZSx0LHMpe3RoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsUyh0aGlzLFwibmFtZVwiLFR0KSxTKHRoaXMsXCJrZXljaGFpblwiKSxTKHRoaXMsXCJyYW5kb21TZXNzaW9uSWRlbnRpZmllclwiLEFlKCkpLFModGhpcyxcImluaXRpYWxpemVkXCIsITEpLFModGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMua2V5Y2hhaW4uaW5pdCgpLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSksUyh0aGlzLFwiaGFzS2V5c1wiLGk9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmtleWNoYWluLmhhcyhpKSkpLFModGhpcyxcImdldENsaWVudElkXCIsYXN5bmMoKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGk9YXdhaXQgdGhpcy5nZXRDbGllbnRTZWVkKCksbj1EZS5nZW5lcmF0ZUtleVBhaXIoaSk7cmV0dXJuIERlLmVuY29kZUlzcyhuLnB1YmxpY0tleSl9KSxTKHRoaXMsXCJnZW5lcmF0ZUtleVBhaXJcIiwoKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGk9bHMoKTtyZXR1cm4gdGhpcy5zZXRQcml2YXRlS2V5KGkucHVibGljS2V5LGkucHJpdmF0ZUtleSl9KSxTKHRoaXMsXCJzaWduSldUXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49YXdhaXQgdGhpcy5nZXRDbGllbnRTZWVkKCksbz1EZS5nZW5lcmF0ZUtleVBhaXIobiksYT10aGlzLnJhbmRvbVNlc3Npb25JZGVudGlmaWVyLGM9Q3Q7cmV0dXJuIGF3YWl0IERlLnNpZ25KV1QoYSxpLGMsbyl9KSxTKHRoaXMsXCJnZW5lcmF0ZVNoYXJlZEtleVwiLChpLG4sbyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBhPXRoaXMuZ2V0UHJpdmF0ZUtleShpKSxjPXVzKGEsbik7cmV0dXJuIHRoaXMuc2V0U3ltS2V5KGMsbyl9KSxTKHRoaXMsXCJzZXRTeW1LZXlcIixhc3luYyhpLG4pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbz1ufHxkcyhpKTtyZXR1cm4gYXdhaXQgdGhpcy5rZXljaGFpbi5zZXQobyxpKSxvfSksUyh0aGlzLFwiZGVsZXRlS2V5UGFpclwiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmtleWNoYWluLmRlbChpKX0pLFModGhpcyxcImRlbGV0ZVN5bUtleVwiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmtleWNoYWluLmRlbChpKX0pLFModGhpcyxcImVuY29kZVwiLGFzeW5jKGksbixvKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGE9Z3MobyksYz1ocyhuKTtpZihudChhKSlyZXR1cm4gcHMoYyxvPy5lbmNvZGluZyk7aWYob3QoYSkpe2NvbnN0IGc9YS5zZW5kZXJQdWJsaWNLZXksXz1hLnJlY2VpdmVyUHVibGljS2V5O2k9YXdhaXQgdGhpcy5nZW5lcmF0ZVNoYXJlZEtleShnLF8pfWNvbnN0IGg9dGhpcy5nZXRTeW1LZXkoaSkse3R5cGU6dSxzZW5kZXJQdWJsaWNLZXk6ZH09YTtyZXR1cm4geXMoe3R5cGU6dSxzeW1LZXk6aCxtZXNzYWdlOmMsc2VuZGVyUHVibGljS2V5OmQsZW5jb2Rpbmc6bz8uZW5jb2Rpbmd9KX0pLFModGhpcyxcImRlY29kZVwiLGFzeW5jKGksbixvKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGE9YnMobixvKTtpZihudChhKSl7Y29uc3QgYz1tcyhuLG8/LmVuY29kaW5nKTtyZXR1cm4gc3QoYyl9aWYob3QoYSkpe2NvbnN0IGM9YS5yZWNlaXZlclB1YmxpY0tleSxoPWEuc2VuZGVyUHVibGljS2V5O2k9YXdhaXQgdGhpcy5nZW5lcmF0ZVNoYXJlZEtleShjLGgpfXRyeXtjb25zdCBjPXRoaXMuZ2V0U3ltS2V5KGkpLGg9ZnMoe3N5bUtleTpjLGVuY29kZWQ6bixlbmNvZGluZzpvPy5lbmNvZGluZ30pO3JldHVybiBzdChoKX1jYXRjaChjKXt0aGlzLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGRlY29kZSBtZXNzYWdlIGZyb20gdG9waWM6ICcke2l9JywgY2xpZW50SWQ6ICcke2F3YWl0IHRoaXMuZ2V0Q2xpZW50SWQoKX0nYCksdGhpcy5sb2dnZXIuZXJyb3IoYyl9fSksUyh0aGlzLFwiZ2V0UGF5bG9hZFR5cGVcIiwoaSxuPWN0KT0+e2NvbnN0IG89YXQoe2VuY29kZWQ6aSxlbmNvZGluZzpufSk7cmV0dXJuIERzKG8udHlwZSl9KSxTKHRoaXMsXCJnZXRQYXlsb2FkU2VuZGVyUHVibGljS2V5XCIsKGksbj1jdCk9Pntjb25zdCBvPWF0KHtlbmNvZGVkOmksZW5jb2Rpbmc6bn0pO3JldHVybiBvLnNlbmRlclB1YmxpY0tleT9VcyhvLnNlbmRlclB1YmxpY0tleSx2cyk6dm9pZCAwfSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSksdGhpcy5rZXljaGFpbj1zfHxuZXcgRGkodGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1hc3luYyBzZXRQcml2YXRlS2V5KGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMua2V5Y2hhaW4uc2V0KGUsdCksZX1nZXRQcml2YXRlS2V5KGUpe3JldHVybiB0aGlzLmtleWNoYWluLmdldChlKX1hc3luYyBnZXRDbGllbnRTZWVkKCl7bGV0IGU9XCJcIjt0cnl7ZT10aGlzLmtleWNoYWluLmdldChrZSl9Y2F0Y2h7ZT1BZSgpLGF3YWl0IHRoaXMua2V5Y2hhaW4uc2V0KGtlLGUpfXJldHVybiBQbihlLFwiYmFzZTE2XCIpfWdldFN5bUtleShlKXtyZXR1cm4gdGhpcy5rZXljaGFpbi5nZXQoZSl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciB4bj1PYmplY3QuZGVmaW5lUHJvcGVydHksTm49T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsJG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsd2k9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyx6bj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LExuPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsVmU9KHIsZSx0KT0+ZSBpbiByP3huKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxrbj0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpem4uY2FsbChlLHQpJiZWZShyLHQsZVt0XSk7aWYod2kpZm9yKHZhciB0IG9mIHdpKGUpKUxuLmNhbGwoZSx0KSYmVmUocix0LGVbdF0pO3JldHVybiByfSxqbj0ocixlKT0+Tm4ociwkbihlKSksaz0ocixlLHQpPT5WZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIF9pIGV4dGVuZHMgWGl7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMubG9nZ2VyPWUsdGhpcy5jb3JlPXQsayh0aGlzLFwibWVzc2FnZXNcIixuZXcgTWFwKSxrKHRoaXMsXCJtZXNzYWdlc1dpdGhvdXRDbGllbnRBY2tcIixuZXcgTWFwKSxrKHRoaXMsXCJuYW1lXCIsUnQpLGsodGhpcyxcInZlcnNpb25cIixPdCksayh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksayh0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLGsodGhpcyxcImluaXRcIixhc3luYygpPT57aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRSZWxheWVyTWVzc2FnZXMoKTt0eXBlb2YgczxcInVcIiYmKHRoaXMubWVzc2FnZXM9cyk7Y29uc3QgaT1hd2FpdCB0aGlzLmdldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2soKTt0eXBlb2YgaTxcInVcIiYmKHRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrPWkpLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJyZXN0b3JlXCIsc2l6ZTp0aGlzLm1lc3NhZ2VzLnNpemV9KX1jYXRjaChzKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3Iocyl9ZmluYWxseXt0aGlzLmluaXRpYWxpemVkPSEwfX19KSxrKHRoaXMsXCJzZXRcIixhc3luYyhzLGksbik9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBvPXZlKGkpO2xldCBhPXRoaXMubWVzc2FnZXMuZ2V0KHMpO2lmKHR5cGVvZiBhPlwidVwiJiYoYT17fSksdHlwZW9mIGFbb108XCJ1XCIpcmV0dXJuIG87aWYoYVtvXT1pLHRoaXMubWVzc2FnZXMuc2V0KHMsYSksbj09PWxlLmluYm91bmQpe2NvbnN0IGM9dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZ2V0KHMpfHx7fTt0aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5zZXQocyxqbihrbih7fSxjKSx7W29dOml9KSl9cmV0dXJuIGF3YWl0IHRoaXMucGVyc2lzdCgpLG99KSxrKHRoaXMsXCJnZXRcIixzPT57dGhpcy5pc0luaXRpYWxpemVkKCk7bGV0IGk9dGhpcy5tZXNzYWdlcy5nZXQocyk7cmV0dXJuIHR5cGVvZiBpPlwidVwiJiYoaT17fSksaX0pLGsodGhpcyxcImdldFdpdGhvdXRBY2tcIixzPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3QgaT17fTtmb3IoY29uc3QgbiBvZiBzKXtjb25zdCBvPXRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmdldChuKXx8e307aVtuXT1PYmplY3QudmFsdWVzKG8pfXJldHVybiBpfSksayh0aGlzLFwiaGFzXCIsKHMsaSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBuPXRoaXMuZ2V0KHMpLG89dmUoaSk7cmV0dXJuIHR5cGVvZiBuW29dPFwidVwifSksayh0aGlzLFwiYWNrXCIsYXN5bmMocyxpKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZ2V0KHMpO2lmKHR5cGVvZiBuPlwidVwiKXJldHVybjtjb25zdCBvPXZlKGkpO2RlbGV0ZSBuW29dLE9iamVjdC5rZXlzKG4pLmxlbmd0aD09PTA/dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZGVsZXRlKHMpOnRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLnNldChzLG4pLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksayh0aGlzLFwiZGVsXCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubWVzc2FnZXMuZGVsZXRlKHMpLHRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmRlbGV0ZShzKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLHRoaXMubG9nZ2VyPU4oZSx0aGlzLm5hbWUpLHRoaXMuY29yZT10fWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1nZXQgc3RvcmFnZUtleVdpdGhvdXRDbGllbnRBY2soKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lK1wiX3dpdGhvdXRDbGllbnRBY2tcIn1hc3luYyBzZXRSZWxheWVyTWVzc2FnZXMoZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksUmUoZSkpfWFzeW5jIHNldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2soZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXlXaXRob3V0Q2xpZW50QWNrLFJlKGUpKX1hc3luYyBnZXRSZWxheWVyTWVzc2FnZXMoKXtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KTtyZXR1cm4gdHlwZW9mIGU8XCJ1XCI/T2UoZSk6dm9pZCAwfWFzeW5jIGdldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2soKXtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5V2l0aG91dENsaWVudEFjayk7cmV0dXJuIHR5cGVvZiBlPFwidVwiP09lKGUpOnZvaWQgMH1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRSZWxheWVyTWVzc2FnZXModGhpcy5tZXNzYWdlcyksYXdhaXQgdGhpcy5zZXRSZWxheWVyTWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKHRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09bShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyIFVuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxNbj1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxGbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxFaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLEtuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksQm49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxxZT0ocixlLHQpPT5lIGluIHI/VW4ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LEllPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlLbi5jYWxsKGUsdCkmJnFlKHIsdCxlW3RdKTtpZihFaSlmb3IodmFyIHQgb2YgRWkoZSkpQm4uY2FsbChlLHQpJiZxZShyLHQsZVt0XSk7cmV0dXJuIHJ9LEdlPShyLGUpPT5NbihyLEZuKGUpKSxWPShyLGUsdCk9PnFlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgVm4gZXh0ZW5kcyBaaXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9dCxWKHRoaXMsXCJldmVudHNcIixuZXcgZWUpLFYodGhpcyxcIm5hbWVcIixBdCksVih0aGlzLFwicXVldWVcIixuZXcgTWFwKSxWKHRoaXMsXCJwdWJsaXNoVGltZW91dFwiLE8odHQpKSxWKHRoaXMsXCJpbml0aWFsUHVibGlzaFRpbWVvdXRcIixPKFoqMTUpKSxWKHRoaXMsXCJuZWVkc1RyYW5zcG9ydFJlc3RhcnRcIiwhMSksVih0aGlzLFwicHVibGlzaFwiLGFzeW5jKHMsaSxuKT0+e3ZhciBvO3RoaXMubG9nZ2VyLmRlYnVnKFwiUHVibGlzaGluZyBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicHVibGlzaFwiLHBhcmFtczp7dG9waWM6cyxtZXNzYWdlOmksb3B0czpufX0pO2NvbnN0IGE9bj8udHRsfHxqZSxjPXdlKG4pLGg9bj8ucHJvbXB0fHwhMSx1PW4/LnRhZ3x8MCxkPW4/LmlkfHxtdCgpLnRvU3RyaW5nKCksZz17dG9waWM6cyxtZXNzYWdlOmksb3B0czp7dHRsOmEscmVsYXk6Yyxwcm9tcHQ6aCx0YWc6dSxpZDpkLGF0dGVzdGF0aW9uOm4/LmF0dGVzdGF0aW9uLHR2ZjpuPy50dmZ9fSxfPWBGYWlsZWQgdG8gcHVibGlzaCBwYXlsb2FkLCBwbGVhc2UgdHJ5IGFnYWluLiBpZDoke2R9IHRhZzoke3V9YDt0cnl7Y29uc3QgbD1uZXcgUHJvbWlzZShhc3luYyBiPT57Y29uc3QgeD0oe2lkOkR9KT0+e2cub3B0cy5pZD09PUQmJih0aGlzLnJlbW92ZVJlcXVlc3RGcm9tUXVldWUoRCksdGhpcy5yZWxheWVyLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihDLnB1Ymxpc2gseCksYihnKSl9O3RoaXMucmVsYXllci5ldmVudHMub24oQy5wdWJsaXNoLHgpO2NvbnN0IEk9WChuZXcgUHJvbWlzZSgoRCxqKT0+e3RoaXMucnBjUHVibGlzaCh7dG9waWM6cyxtZXNzYWdlOmksdHRsOmEscHJvbXB0OmgsdGFnOnUsaWQ6ZCxhdHRlc3RhdGlvbjpuPy5hdHRlc3RhdGlvbix0dmY6bj8udHZmfSkudGhlbihEKS5jYXRjaChUPT57dGhpcy5sb2dnZXIud2FybihULFQ/Lm1lc3NhZ2UpLGooVCl9KX0pLHRoaXMuaW5pdGlhbFB1Ymxpc2hUaW1lb3V0LGBGYWlsZWQgaW5pdGlhbCBwdWJsaXNoLCByZXRyeWluZy4uLi4gaWQ6JHtkfSB0YWc6JHt1fWApO3RyeXthd2FpdCBJLHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKEMucHVibGlzaCx4KX1jYXRjaChEKXt0aGlzLnF1ZXVlLnNldChkLEdlKEllKHt9LGcpLHthdHRlbXB0OjF9KSksdGhpcy5sb2dnZXIud2FybihELEQ/Lm1lc3NhZ2UpfX0pO3RoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicHVibGlzaFwiLHBhcmFtczp7aWQ6ZCx0b3BpYzpzLG1lc3NhZ2U6aSxvcHRzOm59fSksYXdhaXQgWChsLHRoaXMucHVibGlzaFRpbWVvdXQsXyl9Y2F0Y2gobCl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJGYWlsZWQgdG8gUHVibGlzaCBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLmVycm9yKGwpLChvPW4/LmludGVybmFsKSE9bnVsbCYmby50aHJvd09uRmFpbGVkUHVibGlzaCl0aHJvdyBsfWZpbmFsbHl7dGhpcy5xdWV1ZS5kZWxldGUoZCl9fSksVih0aGlzLFwib25cIiwocyxpKT0+e3RoaXMuZXZlbnRzLm9uKHMsaSl9KSxWKHRoaXMsXCJvbmNlXCIsKHMsaSk9Pnt0aGlzLmV2ZW50cy5vbmNlKHMsaSl9KSxWKHRoaXMsXCJvZmZcIiwocyxpKT0+e3RoaXMuZXZlbnRzLm9mZihzLGkpfSksVih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwocyxpKT0+e3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKHMsaSl9KSx0aGlzLnJlbGF5ZXI9ZSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5uYW1lKSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKX1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1hc3luYyBycGNQdWJsaXNoKGUpe3ZhciB0LHMsaSxuO2NvbnN0e3RvcGljOm8sbWVzc2FnZTphLHR0bDpjPWplLHByb21wdDpoLHRhZzp1LGlkOmQsYXR0ZXN0YXRpb246Zyx0dmY6X309ZSxsPXttZXRob2Q6b2Uod2UoKS5wcm90b2NvbCkucHVibGlzaCxwYXJhbXM6SWUoe3RvcGljOm8sbWVzc2FnZTphLHR0bDpjLHByb21wdDpoLHRhZzp1LGF0dGVzdGF0aW9uOmd9LF8pLGlkOmR9O3hlKCh0PWwucGFyYW1zKT09bnVsbD92b2lkIDA6dC5wcm9tcHQpJiYoKHM9bC5wYXJhbXMpPT1udWxsfHxkZWxldGUgcy5wcm9tcHQpLHhlKChpPWwucGFyYW1zKT09bnVsbD92b2lkIDA6aS50YWcpJiYoKG49bC5wYXJhbXMpPT1udWxsfHxkZWxldGUgbi50YWcpLHRoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1lc3NhZ2VcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6bH0pO2NvbnN0IGI9YXdhaXQgdGhpcy5yZWxheWVyLnJlcXVlc3QobCk7cmV0dXJuIHRoaXMucmVsYXllci5ldmVudHMuZW1pdChDLnB1Ymxpc2gsZSksdGhpcy5sb2dnZXIuZGVidWcoXCJTdWNjZXNzZnVsbHkgUHVibGlzaGVkIFBheWxvYWRcIiksYn1yZW1vdmVSZXF1ZXN0RnJvbVF1ZXVlKGUpe3RoaXMucXVldWUuZGVsZXRlKGUpfWNoZWNrUXVldWUoKXt0aGlzLnF1ZXVlLmZvckVhY2goYXN5bmMoZSx0KT0+e2NvbnN0IHM9ZS5hdHRlbXB0KzE7dGhpcy5xdWV1ZS5zZXQodCxHZShJZSh7fSxlKSx7YXR0ZW1wdDpzfSkpO2NvbnN0e3RvcGljOmksbWVzc2FnZTpuLG9wdHM6byxhdHRlc3RhdGlvbjphfT1lO3RoaXMubG9nZ2VyLndhcm4oe30sYFB1Ymxpc2hlcjogcXVldWUtPnB1Ymxpc2hpbmc6ICR7ZS5vcHRzLmlkfSwgdGFnOiAke2Uub3B0cy50YWd9LCBhdHRlbXB0OiAke3N9YCksYXdhaXQgdGhpcy5ycGNQdWJsaXNoKEdlKEllKHt9LGUpLHt0b3BpYzppLG1lc3NhZ2U6bix0dGw6by50dGwscHJvbXB0Om8ucHJvbXB0LHRhZzpvLnRhZyxpZDpvLmlkLGF0dGVzdGF0aW9uOmEsdHZmOm8udHZmfSkpLHRoaXMubG9nZ2VyLndhcm4oe30sYFB1Ymxpc2hlcjogcXVldWUtPnB1Ymxpc2hlZDogJHtlLm9wdHMuaWR9YCl9KX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5yZWxheWVyLmNvcmUuaGVhcnRiZWF0Lm9uKG5lLnB1bHNlLCgpPT57aWYodGhpcy5uZWVkc1RyYW5zcG9ydFJlc3RhcnQpe3RoaXMubmVlZHNUcmFuc3BvcnRSZXN0YXJ0PSExLHRoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCk7cmV0dXJufXRoaXMuY2hlY2tRdWV1ZSgpfSksdGhpcy5yZWxheWVyLm9uKEMubWVzc2FnZV9hY2ssZT0+e3RoaXMucmVtb3ZlUmVxdWVzdEZyb21RdWV1ZShlLmlkLnRvU3RyaW5nKCkpfSl9fXZhciBxbj1PYmplY3QuZGVmaW5lUHJvcGVydHksR249KHIsZSx0KT0+ZSBpbiByP3FuKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxyZT0ocixlLHQpPT5HbihyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFdue2NvbnN0cnVjdG9yKCl7cmUodGhpcyxcIm1hcFwiLG5ldyBNYXApLHJlKHRoaXMsXCJzZXRcIiwoZSx0KT0+e2NvbnN0IHM9dGhpcy5nZXQoZSk7dGhpcy5leGlzdHMoZSx0KXx8dGhpcy5tYXAuc2V0KGUsWy4uLnMsdF0pfSkscmUodGhpcyxcImdldFwiLGU9PnRoaXMubWFwLmdldChlKXx8W10pLHJlKHRoaXMsXCJleGlzdHNcIiwoZSx0KT0+dGhpcy5nZXQoZSkuaW5jbHVkZXModCkpLHJlKHRoaXMsXCJkZWxldGVcIiwoZSx0KT0+e2lmKHR5cGVvZiB0PlwidVwiKXt0aGlzLm1hcC5kZWxldGUoZSk7cmV0dXJufWlmKCF0aGlzLm1hcC5oYXMoZSkpcmV0dXJuO2NvbnN0IHM9dGhpcy5nZXQoZSk7aWYoIXRoaXMuZXhpc3RzKGUsdCkpcmV0dXJuO2NvbnN0IGk9cy5maWx0ZXIobj0+biE9PXQpO2lmKCFpLmxlbmd0aCl7dGhpcy5tYXAuZGVsZXRlKGUpO3JldHVybn10aGlzLm1hcC5zZXQoZSxpKX0pLHJlKHRoaXMsXCJjbGVhclwiLCgpPT57dGhpcy5tYXAuY2xlYXIoKX0pfWdldCB0b3BpY3MoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLm1hcC5rZXlzKCkpfX12YXIgSG49T2JqZWN0LmRlZmluZVByb3BlcnR5LFluPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLEpuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLElpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsWG49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxabj1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFdlPShyLGUsdCk9PmUgaW4gcj9IbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsZ2U9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKVhuLmNhbGwoZSx0KSYmV2Uocix0LGVbdF0pO2lmKElpKWZvcih2YXIgdCBvZiBJaShlKSlabi5jYWxsKGUsdCkmJldlKHIsdCxlW3RdKTtyZXR1cm4gcn0sSGU9KHIsZSk9PlluKHIsSm4oZSkpLGY9KHIsZSx0KT0+V2Uocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBUaSBleHRlbmRzIFFpe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnJlbGF5ZXI9ZSx0aGlzLmxvZ2dlcj10LGYodGhpcyxcInN1YnNjcmlwdGlvbnNcIixuZXcgTWFwKSxmKHRoaXMsXCJ0b3BpY01hcFwiLG5ldyBXbiksZih0aGlzLFwiZXZlbnRzXCIsbmV3IGVlKSxmKHRoaXMsXCJuYW1lXCIsVXQpLGYodGhpcyxcInZlcnNpb25cIixNdCksZih0aGlzLFwicGVuZGluZ1wiLG5ldyBNYXApLGYodGhpcyxcImNhY2hlZFwiLFtdKSxmKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxmKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsQiksZih0aGlzLFwic3Vic2NyaWJlVGltZW91dFwiLE8odHQpKSxmKHRoaXMsXCJpbml0aWFsU3Vic2NyaWJlVGltZW91dFwiLE8oWioxNSkpLGYodGhpcyxcImNsaWVudElkXCIpLGYodGhpcyxcImJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXRcIiw1MDApLGYodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksYXdhaXQgdGhpcy5yZXN0b3JlKCkpLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9KSxmKHRoaXMsXCJzdWJzY3JpYmVcIixhc3luYyhzLGkpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJTdWJzY3JpYmluZyBUb3BpY1wiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInN1YnNjcmliZVwiLHBhcmFtczp7dG9waWM6cyxvcHRzOml9fSk7dHJ5e2NvbnN0IG49d2UoaSksbz17dG9waWM6cyxyZWxheTpuLHRyYW5zcG9ydFR5cGU6aT8udHJhbnNwb3J0VHlwZX07dGhpcy5wZW5kaW5nLnNldChzLG8pO2NvbnN0IGE9YXdhaXQgdGhpcy5ycGNTdWJzY3JpYmUocyxuLGkpO3JldHVybiB0eXBlb2YgYT09XCJzdHJpbmdcIiYmKHRoaXMub25TdWJzY3JpYmUoYSxvKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBTdWJzY3JpYmVkIFRvcGljXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic3Vic2NyaWJlXCIscGFyYW1zOnt0b3BpYzpzLG9wdHM6aX19KSksYX1jYXRjaChuKXt0aHJvdyB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZhaWxlZCB0byBTdWJzY3JpYmUgVG9waWNcIiksdGhpcy5sb2dnZXIuZXJyb3Iobiksbn19KSxmKHRoaXMsXCJ1bnN1YnNjcmliZVwiLGFzeW5jKHMsaSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0eXBlb2YgaT8uaWQ8XCJ1XCI/YXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5SWQocyxpLmlkLGkpOmF3YWl0IHRoaXMudW5zdWJzY3JpYmVCeVRvcGljKHMsaSl9KSxmKHRoaXMsXCJpc1N1YnNjcmliZWRcIixzPT5uZXcgUHJvbWlzZShpPT57aSh0aGlzLnRvcGljTWFwLnRvcGljcy5pbmNsdWRlcyhzKSl9KSksZih0aGlzLFwiaXNLbm93blRvcGljXCIscz0+bmV3IFByb21pc2UoaT0+e2kodGhpcy50b3BpY01hcC50b3BpY3MuaW5jbHVkZXMocyl8fHRoaXMucGVuZGluZy5oYXMocyl8fHRoaXMuY2FjaGVkLnNvbWUobj0+bi50b3BpYz09PXMpKX0pKSxmKHRoaXMsXCJvblwiLChzLGkpPT57dGhpcy5ldmVudHMub24ocyxpKX0pLGYodGhpcyxcIm9uY2VcIiwocyxpKT0+e3RoaXMuZXZlbnRzLm9uY2UocyxpKX0pLGYodGhpcyxcIm9mZlwiLChzLGkpPT57dGhpcy5ldmVudHMub2ZmKHMsaSl9KSxmKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChzLGkpPT57dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIocyxpKX0pLGYodGhpcyxcInN0YXJ0XCIsYXN5bmMoKT0+e2F3YWl0IHRoaXMub25Db25uZWN0KCl9KSxmKHRoaXMsXCJzdG9wXCIsYXN5bmMoKT0+e2F3YWl0IHRoaXMub25EaXNjb25uZWN0KCl9KSxmKHRoaXMsXCJyZXN0YXJ0XCIsYXN5bmMoKT0+e2F3YWl0IHRoaXMucmVzdG9yZSgpLGF3YWl0IHRoaXMub25SZXN0YXJ0KCl9KSxmKHRoaXMsXCJjaGVja1BlbmRpbmdcIixhc3luYygpPT57aWYodGhpcy5wZW5kaW5nLnNpemU9PT0wJiYoIXRoaXMuaW5pdGlhbGl6ZWR8fCF0aGlzLnJlbGF5ZXIuY29ubmVjdGVkKSlyZXR1cm47Y29uc3Qgcz1bXTt0aGlzLnBlbmRpbmcuZm9yRWFjaChpPT57cy5wdXNoKGkpfSksYXdhaXQgdGhpcy5iYXRjaFN1YnNjcmliZShzKX0pLGYodGhpcyxcInJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnNcIiwoKT0+e3RoaXMucmVsYXllci5jb3JlLmhlYXJ0YmVhdC5vbihuZS5wdWxzZSxhc3luYygpPT57YXdhaXQgdGhpcy5jaGVja1BlbmRpbmcoKX0pLHRoaXMuZXZlbnRzLm9uKCQuY3JlYXRlZCxhc3luYyBzPT57Y29uc3QgaT0kLmNyZWF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHtpfWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDppLGRhdGE6c30pLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksdGhpcy5ldmVudHMub24oJC5kZWxldGVkLGFzeW5jIHM9Pntjb25zdCBpPSQuZGVsZXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke2l9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OmksZGF0YTpzfSksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KX0pLHRoaXMucmVsYXllcj1lLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpLHRoaXMuY2xpZW50SWQ9XCJcIn1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMucmVsYXllci5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5zaXplfWdldCBpZHMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN1YnNjcmlwdGlvbnMua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5zdWJzY3JpcHRpb25zLnZhbHVlcygpKX1nZXQgdG9waWNzKCl7cmV0dXJuIHRoaXMudG9waWNNYXAudG9waWNzfWdldCBoYXNBbnlUb3BpY3MoKXtyZXR1cm4gdGhpcy50b3BpY01hcC50b3BpY3MubGVuZ3RoPjB8fHRoaXMucGVuZGluZy5zaXplPjB8fHRoaXMuY2FjaGVkLmxlbmd0aD4wfHx0aGlzLnN1YnNjcmlwdGlvbnMuc2l6ZT4wfWhhc1N1YnNjcmlwdGlvbihlLHQpe2xldCBzPSExO3RyeXtzPXRoaXMuZ2V0U3Vic2NyaXB0aW9uKGUpLnRvcGljPT09dH1jYXRjaHt9cmV0dXJuIHN9cmVzZXQoKXt0aGlzLmNhY2hlZD1bXSx0aGlzLmluaXRpYWxpemVkPSEwfW9uRGlzYWJsZSgpe3RoaXMuY2FjaGVkPXRoaXMudmFsdWVzLHRoaXMuc3Vic2NyaXB0aW9ucy5jbGVhcigpLHRoaXMudG9waWNNYXAuY2xlYXIoKX1hc3luYyB1bnN1YnNjcmliZUJ5VG9waWMoZSx0KXtjb25zdCBzPXRoaXMudG9waWNNYXAuZ2V0KGUpO2F3YWl0IFByb21pc2UuYWxsKHMubWFwKGFzeW5jIGk9PmF3YWl0IHRoaXMudW5zdWJzY3JpYmVCeUlkKGUsaSx0KSkpfWFzeW5jIHVuc3Vic2NyaWJlQnlJZChlLHQscyl7dGhpcy5sb2dnZXIuZGVidWcoXCJVbnN1YnNjcmliaW5nIFRvcGljXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwidW5zdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmUsaWQ6dCxvcHRzOnN9fSk7dHJ5e2NvbnN0IGk9d2Uocyk7YXdhaXQgdGhpcy5yZXN0YXJ0VG9Db21wbGV0ZSh7dG9waWM6ZSxpZDp0LHJlbGF5Oml9KSxhd2FpdCB0aGlzLnJwY1Vuc3Vic2NyaWJlKGUsdCxpKTtjb25zdCBuPWFlKFwiVVNFUl9ESVNDT05ORUNURURcIixgJHt0aGlzLm5hbWV9LCAke2V9YCk7YXdhaXQgdGhpcy5vblVuc3Vic2NyaWJlKGUsdCxuKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBVbnN1YnNjcmliZWQgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1bnN1YnNjcmliZVwiLHBhcmFtczp7dG9waWM6ZSxpZDp0LG9wdHM6c319KX1jYXRjaChpKXt0aHJvdyB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZhaWxlZCB0byBVbnN1YnNjcmliZSBUb3BpY1wiKSx0aGlzLmxvZ2dlci5lcnJvcihpKSxpfX1hc3luYyBycGNTdWJzY3JpYmUoZSx0LHMpe3ZhciBpOyghc3x8cz8udHJhbnNwb3J0VHlwZT09PVEucmVsYXkpJiZhd2FpdCB0aGlzLnJlc3RhcnRUb0NvbXBsZXRlKHt0b3BpYzplLGlkOmUscmVsYXk6dH0pO2NvbnN0IG49e21ldGhvZDpvZSh0LnByb3RvY29sKS5zdWJzY3JpYmUscGFyYW1zOnt0b3BpYzplfX07dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDpufSk7Y29uc3Qgbz0oaT1zPy5pbnRlcm5hbCk9PW51bGw/dm9pZCAwOmkudGhyb3dPbkZhaWxlZFB1Ymxpc2g7dHJ5e2NvbnN0IGE9YXdhaXQgdGhpcy5nZXRTdWJzY3JpcHRpb25JZChlKTtpZihzPy50cmFuc3BvcnRUeXBlPT09US5saW5rX21vZGUpcmV0dXJuIHNldFRpbWVvdXQoKCk9PnsodGhpcy5yZWxheWVyLmNvbm5lY3RlZHx8dGhpcy5yZWxheWVyLmNvbm5lY3RpbmcpJiZ0aGlzLnJlbGF5ZXIucmVxdWVzdChuKS5jYXRjaCh1PT50aGlzLmxvZ2dlci53YXJuKHUpKX0sTyhaKSksYTtjb25zdCBjPW5ldyBQcm9taXNlKGFzeW5jIHU9Pntjb25zdCBkPWc9PntnLnRvcGljPT09ZSYmKHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKCQuY3JlYXRlZCxkKSx1KGcuaWQpKX07dGhpcy5ldmVudHMub24oJC5jcmVhdGVkLGQpO3RyeXtjb25zdCBnPWF3YWl0IFgobmV3IFByb21pc2UoKF8sbCk9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChuKS5jYXRjaChiPT57dGhpcy5sb2dnZXIud2FybihiLGI/Lm1lc3NhZ2UpLGwoYil9KS50aGVuKF8pfSksdGhpcy5pbml0aWFsU3Vic2NyaWJlVGltZW91dCxgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcigkLmNyZWF0ZWQsZCksdShnKX1jYXRjaHt9fSksaD1hd2FpdCBYKGMsdGhpcy5zdWJzY3JpYmVUaW1lb3V0LGBTdWJzY3JpYmluZyB0byAke2V9IGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpbmApO2lmKCFoJiZvKXRocm93IG5ldyBFcnJvcihgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTtyZXR1cm4gaD9hOm51bGx9Y2F0Y2goYSl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBTdWJzY3JpYmUgUGF5bG9hZCBzdGFsbGVkXCIpLHRoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCksbyl0aHJvdyBhfXJldHVybiBudWxsfWFzeW5jIHJwY0JhdGNoU3Vic2NyaWJlKGUpe2lmKCFlLmxlbmd0aClyZXR1cm47Y29uc3QgdD1lWzBdLnJlbGF5LHM9e21ldGhvZDpvZSh0LnByb3RvY29sKS5iYXRjaFN1YnNjcmliZSxwYXJhbXM6e3RvcGljczplLm1hcChpPT5pLnRvcGljKX19O3RoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6c30pO3RyeXthd2FpdCBhd2FpdCBYKG5ldyBQcm9taXNlKGk9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChzKS5jYXRjaChuPT50aGlzLmxvZ2dlci53YXJuKG4pKS50aGVuKGkpfSksdGhpcy5zdWJzY3JpYmVUaW1lb3V0LFwicnBjQmF0Y2hTdWJzY3JpYmUgZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluXCIpfWNhdGNoe3RoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCl9fWFzeW5jIHJwY0JhdGNoRmV0Y2hNZXNzYWdlcyhlKXtpZighZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9ZVswXS5yZWxheSxzPXttZXRob2Q6b2UodC5wcm90b2NvbCkuYmF0Y2hGZXRjaE1lc3NhZ2VzLHBhcmFtczp7dG9waWNzOmUubWFwKG49Pm4udG9waWMpfX07dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDpzfSk7bGV0IGk7dHJ5e2k9YXdhaXQgYXdhaXQgWChuZXcgUHJvbWlzZSgobixvKT0+e3RoaXMucmVsYXllci5yZXF1ZXN0KHMpLmNhdGNoKGE9Pnt0aGlzLmxvZ2dlci53YXJuKGEpLG8oYSl9KS50aGVuKG4pfSksdGhpcy5zdWJzY3JpYmVUaW1lb3V0LFwicnBjQmF0Y2hGZXRjaE1lc3NhZ2VzIGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpblwiKX1jYXRjaHt0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpfXJldHVybiBpfXJwY1Vuc3Vic2NyaWJlKGUsdCxzKXtjb25zdCBpPXttZXRob2Q6b2Uocy5wcm90b2NvbCkudW5zdWJzY3JpYmUscGFyYW1zOnt0b3BpYzplLGlkOnR9fTtyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDppfSksdGhpcy5yZWxheWVyLnJlcXVlc3QoaSl9b25TdWJzY3JpYmUoZSx0KXt0aGlzLnNldFN1YnNjcmlwdGlvbihlLEhlKGdlKHt9LHQpLHtpZDplfSkpLHRoaXMucGVuZGluZy5kZWxldGUodC50b3BpYyl9b25CYXRjaFN1YnNjcmliZShlKXtlLmxlbmd0aCYmZS5mb3JFYWNoKHQ9Pnt0aGlzLnNldFN1YnNjcmlwdGlvbih0LmlkLGdlKHt9LHQpKSx0aGlzLnBlbmRpbmcuZGVsZXRlKHQudG9waWMpfSl9YXN5bmMgb25VbnN1YnNjcmliZShlLHQscyl7dGhpcy5ldmVudHMucmVtb3ZlQWxsTGlzdGVuZXJzKHQpLHRoaXMuaGFzU3Vic2NyaXB0aW9uKHQsZSkmJnRoaXMuZGVsZXRlU3Vic2NyaXB0aW9uKHQscyksYXdhaXQgdGhpcy5yZWxheWVyLm1lc3NhZ2VzLmRlbChlKX1hc3luYyBzZXRSZWxheWVyU3Vic2NyaXB0aW9ucyhlKXthd2FpdCB0aGlzLnJlbGF5ZXIuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCl7cmV0dXJuIGF3YWl0IHRoaXMucmVsYXllci5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfXNldFN1YnNjcmlwdGlvbihlLHQpe3RoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBzdWJzY3JpcHRpb25cIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzZXRTdWJzY3JpcHRpb25cIixpZDplLHN1YnNjcmlwdGlvbjp0fSksdGhpcy5hZGRTdWJzY3JpcHRpb24oZSx0KX1hZGRTdWJzY3JpcHRpb24oZSx0KXt0aGlzLnN1YnNjcmlwdGlvbnMuc2V0KGUsZ2Uoe30sdCkpLHRoaXMudG9waWNNYXAuc2V0KHQudG9waWMsZSksdGhpcy5ldmVudHMuZW1pdCgkLmNyZWF0ZWQsdCl9Z2V0U3Vic2NyaXB0aW9uKGUpe3RoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyBzdWJzY3JpcHRpb25cIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRTdWJzY3JpcHRpb25cIixpZDplfSk7Y29uc3QgdD10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGUpO2lmKCF0KXtjb25zdHttZXNzYWdlOnN9PW0oXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKHMpfXJldHVybiB0fWRlbGV0ZVN1YnNjcmlwdGlvbihlLHQpe3RoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgc3Vic2NyaXB0aW9uXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZGVsZXRlU3Vic2NyaXB0aW9uXCIsaWQ6ZSxyZWFzb246dH0pO2NvbnN0IHM9dGhpcy5nZXRTdWJzY3JpcHRpb24oZSk7dGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlKSx0aGlzLnRvcGljTWFwLmRlbGV0ZShzLnRvcGljLGUpLHRoaXMuZXZlbnRzLmVtaXQoJC5kZWxldGVkLEhlKGdlKHt9LHMpLHtyZWFzb246dH0pKX1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRSZWxheWVyU3Vic2NyaXB0aW9ucyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdCgkLnN5bmMpfWFzeW5jIG9uUmVzdGFydCgpe2lmKHRoaXMuY2FjaGVkLmxlbmd0aCl7Y29uc3QgZT1bLi4udGhpcy5jYWNoZWRdLHQ9TWF0aC5jZWlsKHRoaXMuY2FjaGVkLmxlbmd0aC90aGlzLmJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXQpO2ZvcihsZXQgcz0wO3M8dDtzKyspe2NvbnN0IGk9ZS5zcGxpY2UoMCx0aGlzLmJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXQpO2F3YWl0IHRoaXMuYmF0Y2hTdWJzY3JpYmUoaSl9fXRoaXMuZXZlbnRzLmVtaXQoJC5yZXN1YnNjcmliZWQpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5zdWJzY3JpcHRpb25zLnNpemUpe2NvbnN0e21lc3NhZ2U6dH09bShcIlJFU1RPUkVfV0lMTF9PVkVSUklERVwiLHRoaXMubmFtZSk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksdGhpcy5sb2dnZXIuZXJyb3IoYCR7dGhpcy5uYW1lfTogJHtKU09OLnN0cmluZ2lmeSh0aGlzLnZhbHVlcyl9YCksbmV3IEVycm9yKHQpfXRoaXMuY2FjaGVkPWUsdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCBzdWJzY3JpcHRpb25zIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixzdWJzY3JpcHRpb25zOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHN1YnNjcmlwdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGUpfX1hc3luYyBiYXRjaFN1YnNjcmliZShlKXtlLmxlbmd0aCYmKGF3YWl0IHRoaXMucnBjQmF0Y2hTdWJzY3JpYmUoZSksdGhpcy5vbkJhdGNoU3Vic2NyaWJlKGF3YWl0IFByb21pc2UuYWxsKGUubWFwKGFzeW5jIHQ9PkhlKGdlKHt9LHQpLHtpZDphd2FpdCB0aGlzLmdldFN1YnNjcmlwdGlvbklkKHQudG9waWMpfSkpKSkpfWFzeW5jIGJhdGNoRmV0Y2hNZXNzYWdlcyhlKXtpZighZS5sZW5ndGgpcmV0dXJuO3RoaXMubG9nZ2VyLnRyYWNlKGBGZXRjaGluZyBiYXRjaCBtZXNzYWdlcyBmb3IgJHtlLmxlbmd0aH0gc3Vic2NyaXB0aW9uc2ApO2NvbnN0IHQ9YXdhaXQgdGhpcy5ycGNCYXRjaEZldGNoTWVzc2FnZXMoZSk7dCYmdC5tZXNzYWdlcyYmKGF3YWl0IHdzKE8oWikpLGF3YWl0IHRoaXMucmVsYXllci5oYW5kbGVCYXRjaE1lc3NhZ2VFdmVudHModC5tZXNzYWdlcykpfWFzeW5jIG9uQ29ubmVjdCgpe2F3YWl0IHRoaXMucmVzdGFydCgpLHRoaXMucmVzZXQoKX1vbkRpc2Nvbm5lY3QoKXt0aGlzLm9uRGlzYWJsZSgpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1tKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fWFzeW5jIHJlc3RhcnRUb0NvbXBsZXRlKGUpeyF0aGlzLnJlbGF5ZXIuY29ubmVjdGVkJiYhdGhpcy5yZWxheWVyLmNvbm5lY3RpbmcmJih0aGlzLmNhY2hlZC5wdXNoKGUpLGF3YWl0IHRoaXMucmVsYXllci50cmFuc3BvcnRPcGVuKCkpfWFzeW5jIGdldENsaWVudElkKCl7cmV0dXJuIHRoaXMuY2xpZW50SWR8fCh0aGlzLmNsaWVudElkPWF3YWl0IHRoaXMucmVsYXllci5jb3JlLmNyeXB0by5nZXRDbGllbnRJZCgpKSx0aGlzLmNsaWVudElkfWFzeW5jIGdldFN1YnNjcmlwdGlvbklkKGUpe3JldHVybiB2ZShlK2F3YWl0IHRoaXMuZ2V0Q2xpZW50SWQoKSl9fXZhciBRbj1PYmplY3QuZGVmaW5lUHJvcGVydHksQ2k9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxlbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHRvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsWWU9KHIsZSx0KT0+ZSBpbiByP1FuKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxQaT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpZW8uY2FsbChlLHQpJiZZZShyLHQsZVt0XSk7aWYoQ2kpZm9yKHZhciB0IG9mIENpKGUpKXRvLmNhbGwoZSx0KSYmWWUocix0LGVbdF0pO3JldHVybiByfSx5PShyLGUsdCk9PlllKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgU2kgZXh0ZW5kcyBlc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx5KHRoaXMsXCJwcm90b2NvbFwiLFwid2NcIikseSh0aGlzLFwidmVyc2lvblwiLDIpLHkodGhpcyxcImNvcmVcIikseSh0aGlzLFwibG9nZ2VyXCIpLHkodGhpcyxcImV2ZW50c1wiLG5ldyBlZSkseSh0aGlzLFwicHJvdmlkZXJcIikseSh0aGlzLFwibWVzc2FnZXNcIikseSh0aGlzLFwic3Vic2NyaWJlclwiKSx5KHRoaXMsXCJwdWJsaXNoZXJcIikseSh0aGlzLFwibmFtZVwiLCR0KSx5KHRoaXMsXCJ0cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkXCIsITEpLHkodGhpcyxcImluaXRpYWxpemVkXCIsITEpLHkodGhpcyxcImNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzc1wiLCExKSx5KHRoaXMsXCJyZWxheVVybFwiKSx5KHRoaXMsXCJwcm9qZWN0SWRcIikseSh0aGlzLFwicGFja2FnZU5hbWVcIikseSh0aGlzLFwiYnVuZGxlSWRcIikseSh0aGlzLFwiaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvblwiLCExKSx5KHRoaXMsXCJwaW5nVGltZW91dFwiKSx5KHRoaXMsXCJoZWFydEJlYXRUaW1lb3V0XCIsTyhTZStQZSkpLHkodGhpcyxcInJlY29ubmVjdFRpbWVvdXRcIikseSh0aGlzLFwiY29ubmVjdFByb21pc2VcIikseSh0aGlzLFwicmVjb25uZWN0SW5Qcm9ncmVzc1wiLCExKSx5KHRoaXMsXCJyZXF1ZXN0c0luRmxpZ2h0XCIsW10pLHkodGhpcyxcImNvbm5lY3RUaW1lb3V0XCIsTyhaKjE1KSkseSh0aGlzLFwicmVxdWVzdFwiLGFzeW5jIHQ9Pnt2YXIgcyxpO3RoaXMubG9nZ2VyLmRlYnVnKFwiUHVibGlzaGluZyBSZXF1ZXN0IFBheWxvYWRcIik7Y29uc3Qgbj10LmlkfHxtdCgpLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy50b0VzdGFibGlzaENvbm5lY3Rpb24oKTt0cnl7dGhpcy5sb2dnZXIudHJhY2Uoe2lkOm4sbWV0aG9kOnQubWV0aG9kLHRvcGljOihzPXQucGFyYW1zKT09bnVsbD92b2lkIDA6cy50b3BpY30sXCJyZWxheWVyLnJlcXVlc3QgLSBwdWJsaXNoaW5nLi4uXCIpO2NvbnN0IG89YCR7bn06JHsoKGk9dC5wYXJhbXMpPT1udWxsP3ZvaWQgMDppLnRhZyl8fFwiXCJ9YDt0aGlzLnJlcXVlc3RzSW5GbGlnaHQucHVzaChvKTtjb25zdCBhPWF3YWl0IHRoaXMucHJvdmlkZXIucmVxdWVzdCh0KTtyZXR1cm4gdGhpcy5yZXF1ZXN0c0luRmxpZ2h0PXRoaXMucmVxdWVzdHNJbkZsaWdodC5maWx0ZXIoYz0+YyE9PW8pLGF9Y2F0Y2gobyl7dGhyb3cgdGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBQdWJsaXNoIFJlcXVlc3Q6ICR7bn1gKSxvfX0pLHkodGhpcyxcInJlc2V0UGluZ1RpbWVvdXRcIiwoKT0+e3V0KCkmJihjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCksdGhpcy5waW5nVGltZW91dD1zZXRUaW1lb3V0KCgpPT57dmFyIHQscyxpLG47dHJ5e3RoaXMubG9nZ2VyLmRlYnVnKHt9LFwicGluZ1RpbWVvdXQ6IENvbm5lY3Rpb24gc3RhbGxlZCwgdGVybWluYXRpbmcuLi5cIiksKG49KGk9KHM9KHQ9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOnQuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnMuc29ja2V0KT09bnVsbD92b2lkIDA6aS50ZXJtaW5hdGUpPT1udWxsfHxuLmNhbGwoaSl9Y2F0Y2gobyl7dGhpcy5sb2dnZXIud2FybihvLG8/Lm1lc3NhZ2UpfX0sdGhpcy5oZWFydEJlYXRUaW1lb3V0KSl9KSx5KHRoaXMsXCJvblBheWxvYWRIYW5kbGVyXCIsdD0+e3RoaXMub25Qcm92aWRlclBheWxvYWQodCksdGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9KSx5KHRoaXMsXCJvbkNvbm5lY3RIYW5kbGVyXCIsKCk9Pnt0aGlzLmxvZ2dlci53YXJuKHt9LFwiUmVsYXllciBjb25uZWN0ZWQgXFx1ezFGNkRDfVwiKSx0aGlzLnN0YXJ0UGluZ1RpbWVvdXQoKSx0aGlzLmV2ZW50cy5lbWl0KEMuY29ubmVjdCl9KSx5KHRoaXMsXCJvbkRpc2Nvbm5lY3RIYW5kbGVyXCIsKCk9Pnt0aGlzLmxvZ2dlci53YXJuKHt9LFwiUmVsYXllciBkaXNjb25uZWN0ZWQgXFx1ezFGNkQxfVwiKSx0aGlzLnJlcXVlc3RzSW5GbGlnaHQ9W10sdGhpcy5vblByb3ZpZGVyRGlzY29ubmVjdCgpfSkseSh0aGlzLFwib25Qcm92aWRlckVycm9ySGFuZGxlclwiLHQ9Pnt0aGlzLmxvZ2dlci5mYXRhbChgRmF0YWwgc29ja2V0IGVycm9yOiAke3QubWVzc2FnZX1gKSx0aGlzLmV2ZW50cy5lbWl0KEMuZXJyb3IsdCksdGhpcy5sb2dnZXIuZmF0YWwoXCJGYXRhbCBzb2NrZXQgZXJyb3IgcmVjZWl2ZWQsIGNsb3NpbmcgdHJhbnNwb3J0XCIpLHRoaXMudHJhbnNwb3J0Q2xvc2UoKX0pLHkodGhpcyxcInJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnNcIiwoKT0+e3RoaXMucHJvdmlkZXIub24oTC5wYXlsb2FkLHRoaXMub25QYXlsb2FkSGFuZGxlciksdGhpcy5wcm92aWRlci5vbihMLmNvbm5lY3QsdGhpcy5vbkNvbm5lY3RIYW5kbGVyKSx0aGlzLnByb3ZpZGVyLm9uKEwuZGlzY29ubmVjdCx0aGlzLm9uRGlzY29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub24oTC5lcnJvcix0aGlzLm9uUHJvdmlkZXJFcnJvckhhbmRsZXIpfSksdGhpcy5jb3JlPWUuY29yZSx0aGlzLmxvZ2dlcj10eXBlb2YgZS5sb2dnZXI8XCJ1XCImJnR5cGVvZiBlLmxvZ2dlciE9XCJzdHJpbmdcIj9OKGUubG9nZ2VyLHRoaXMubmFtZSk6WWkoZXQoe2xldmVsOmUubG9nZ2VyfHxOdH0pKSx0aGlzLm1lc3NhZ2VzPW5ldyBfaSh0aGlzLmxvZ2dlcixlLmNvcmUpLHRoaXMuc3Vic2NyaWJlcj1uZXcgVGkodGhpcyx0aGlzLmxvZ2dlciksdGhpcy5wdWJsaXNoZXI9bmV3IFZuKHRoaXMsdGhpcy5sb2dnZXIpLHRoaXMucmVsYXlVcmw9ZT8ucmVsYXlVcmx8fFVlLHRoaXMucHJvamVjdElkPWUucHJvamVjdElkLF9zKCk/dGhpcy5wYWNrYWdlTmFtZT1odCgpOkVzKCkmJih0aGlzLmJ1bmRsZUlkPWh0KCkpLHRoaXMucHJvdmlkZXI9e319YXN5bmMgaW5pdCgpe2lmKHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMubWVzc2FnZXMuaW5pdCgpLHRoaXMuc3Vic2NyaWJlci5pbml0KCldKSx0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMuc3Vic2NyaWJlci5oYXNBbnlUb3BpY3MpdHJ5e2F3YWl0IHRoaXMudHJhbnNwb3J0T3BlbigpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLndhcm4oZSxlPy5tZXNzYWdlKX19Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9Z2V0IGNvbm5lY3RlZCgpe3ZhciBlLHQscztyZXR1cm4oKHM9KHQ9KGU9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOmUuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnQuc29ja2V0KT09bnVsbD92b2lkIDA6cy5yZWFkeVN0YXRlKT09PTF8fCExfWdldCBjb25uZWN0aW5nKCl7dmFyIGUsdCxzO3JldHVybigocz0odD0oZT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6ZS5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6dC5zb2NrZXQpPT1udWxsP3ZvaWQgMDpzLnJlYWR5U3RhdGUpPT09MHx8dGhpcy5jb25uZWN0UHJvbWlzZSE9PXZvaWQgMHx8ITF9YXN5bmMgcHVibGlzaChlLHQscyl7dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5wdWJsaXNoZXIucHVibGlzaChlLHQscyksYXdhaXQgdGhpcy5yZWNvcmRNZXNzYWdlRXZlbnQoe3RvcGljOmUsbWVzc2FnZTp0LHB1Ymxpc2hlZEF0OkRhdGUubm93KCksdHJhbnNwb3J0VHlwZTpRLnJlbGF5fSxsZS5vdXRib3VuZCl9YXN5bmMgc3Vic2NyaWJlKGUsdCl7dmFyIHMsaSxuO3RoaXMuaXNJbml0aWFsaXplZCgpLCghKHQhPW51bGwmJnQudHJhbnNwb3J0VHlwZSl8fHQ/LnRyYW5zcG9ydFR5cGU9PT1cInJlbGF5XCIpJiZhd2FpdCB0aGlzLnRvRXN0YWJsaXNoQ29ubmVjdGlvbigpO2NvbnN0IG89dHlwZW9mKChzPXQ/LmludGVybmFsKT09bnVsbD92b2lkIDA6cy50aHJvd09uRmFpbGVkUHVibGlzaCk+XCJ1XCI/ITA6KGk9dD8uaW50ZXJuYWwpPT1udWxsP3ZvaWQgMDppLnRocm93T25GYWlsZWRQdWJsaXNoO2xldCBhPSgobj10aGlzLnN1YnNjcmliZXIudG9waWNNYXAuZ2V0KGUpKT09bnVsbD92b2lkIDA6blswXSl8fFwiXCIsYztjb25zdCBoPXU9Pnt1LnRvcGljPT09ZSYmKHRoaXMuc3Vic2NyaWJlci5vZmYoJC5jcmVhdGVkLGgpLGMoKSl9O3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UodT0+e2M9dSx0aGlzLnN1YnNjcmliZXIub24oJC5jcmVhdGVkLGgpfSksbmV3IFByb21pc2UoYXN5bmModSxkKT0+e2E9YXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN1YnNjcmliZShlLFBpKHtpbnRlcm5hbDp7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6b319LHQpKS5jYXRjaChnPT57byYmZChnKX0pfHxhLHUoKX0pXSksYX1hc3luYyB1bnN1YnNjcmliZShlLHQpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuc3Vic2NyaWJlci51bnN1YnNjcmliZShlLHQpfW9uKGUsdCl7dGhpcy5ldmVudHMub24oZSx0KX1vbmNlKGUsdCl7dGhpcy5ldmVudHMub25jZShlLHQpfW9mZihlLHQpe3RoaXMuZXZlbnRzLm9mZihlLHQpfXJlbW92ZUxpc3RlbmVyKGUsdCl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSx0KX1hc3luYyB0cmFuc3BvcnREaXNjb25uZWN0KCl7dGhpcy5wcm92aWRlci5kaXNjb25uZWN0JiYodGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9ufHx0aGlzLmNvbm5lY3RlZCk/YXdhaXQgWCh0aGlzLnByb3ZpZGVyLmRpc2Nvbm5lY3QoKSwyZTMsXCJwcm92aWRlci5kaXNjb25uZWN0KClcIikuY2F0Y2goKCk9PnRoaXMub25Qcm92aWRlckRpc2Nvbm5lY3QoKSk6dGhpcy5vblByb3ZpZGVyRGlzY29ubmVjdCgpfWFzeW5jIHRyYW5zcG9ydENsb3NlKCl7dGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkPSEwLGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpfWFzeW5jIHRyYW5zcG9ydE9wZW4oZSl7aWYoIXRoaXMuc3Vic2NyaWJlci5oYXNBbnlUb3BpY3Mpe3RoaXMubG9nZ2VyLndhcm4oXCJTdGFydGluZyBXUyBjb25uZWN0aW9uIHNraXBwZWQgYmVjYXVzZSB0aGUgY2xpZW50IGhhcyBubyB0b3BpY3MgdG8gd29yayB3aXRoLlwiKTtyZXR1cm59aWYodGhpcy5jb25uZWN0UHJvbWlzZT8odGhpcy5sb2dnZXIuZGVidWcoe30sXCJXYWl0aW5nIGZvciBleGlzdGluZyBjb25uZWN0aW9uIGF0dGVtcHQgdG8gcmVzb2x2ZS4uLlwiKSxhd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlLHRoaXMubG9nZ2VyLmRlYnVnKHt9LFwiRXhpc3RpbmcgY29ubmVjdGlvbiBhdHRlbXB0IHJlc29sdmVkXCIpKToodGhpcy5jb25uZWN0UHJvbWlzZT1uZXcgUHJvbWlzZShhc3luYyh0LHMpPT57YXdhaXQgdGhpcy5jb25uZWN0KGUpLnRoZW4odCkuY2F0Y2gocykuZmluYWxseSgoKT0+e3RoaXMuY29ubmVjdFByb21pc2U9dm9pZCAwfSl9KSxhd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlKSwhdGhpcy5jb25uZWN0ZWQpdGhyb3cgbmV3IEVycm9yKGBDb3VsZG4ndCBlc3RhYmxpc2ggc29ja2V0IGNvbm5lY3Rpb24gdG8gdGhlIHJlbGF5IHNlcnZlcjogJHt0aGlzLnJlbGF5VXJsfWApfWFzeW5jIHJlc3RhcnRUcmFuc3BvcnQoZSl7dGhpcy5sb2dnZXIuZGVidWcoe30sXCJSZXN0YXJ0aW5nIHRyYW5zcG9ydC4uLlwiKSwhdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3MmJih0aGlzLnJlbGF5VXJsPWV8fHRoaXMucmVsYXlVcmwsYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy50cmFuc3BvcnRDbG9zZSgpLGF3YWl0IHRoaXMudHJhbnNwb3J0T3BlbigpKX1hc3luYyBjb25maXJtT25saW5lU3RhdGVPclRocm93KCl7aWYoIWF3YWl0IGx0KCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gaW50ZXJuZXQgY29ubmVjdGlvbiBkZXRlY3RlZC4gUGxlYXNlIHJlc3RhcnQgeW91ciBuZXR3b3JrIGFuZCB0cnkgYWdhaW4uXCIpfWFzeW5jIGhhbmRsZUJhdGNoTWVzc2FnZUV2ZW50cyhlKXtpZihlPy5sZW5ndGg9PT0wKXt0aGlzLmxvZ2dlci50cmFjZShcIkJhdGNoIG1lc3NhZ2UgZXZlbnRzIGlzIGVtcHR5LiBJZ25vcmluZy4uLlwiKTtyZXR1cm59Y29uc3QgdD1lLnNvcnQoKHMsaSk9PnMucHVibGlzaGVkQXQtaS5wdWJsaXNoZWRBdCk7dGhpcy5sb2dnZXIuZGVidWcoYEJhdGNoIG9mICR7dC5sZW5ndGh9IG1lc3NhZ2UgZXZlbnRzIHNvcnRlZGApO2Zvcihjb25zdCBzIG9mIHQpdHJ5e2F3YWl0IHRoaXMub25NZXNzYWdlRXZlbnQocyl9Y2F0Y2goaSl7dGhpcy5sb2dnZXIud2FybihpLFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBiYXRjaCBtZXNzYWdlIGV2ZW50OiBcIitpPy5tZXNzYWdlKX10aGlzLmxvZ2dlci50cmFjZShgQmF0Y2ggb2YgJHt0Lmxlbmd0aH0gbWVzc2FnZSBldmVudHMgcHJvY2Vzc2VkYCl9YXN5bmMgb25MaW5rTWVzc2FnZUV2ZW50KGUsdCl7Y29uc3R7dG9waWM6c309ZTtpZighdC5zZXNzaW9uRXhpc3RzKXtjb25zdCBpPWNlKGZlKSxuPXt0b3BpYzpzLGV4cGlyeTppLHJlbGF5Ontwcm90b2NvbDpcImlyblwifSxhY3RpdmU6ITF9O2F3YWl0IHRoaXMuY29yZS5wYWlyaW5nLnBhaXJpbmdzLnNldChzLG4pfXRoaXMuZXZlbnRzLmVtaXQoQy5tZXNzYWdlLGUpLGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KGUsbGUuaW5ib3VuZCl9YXN5bmMgY29ubmVjdChlKXthd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxlJiZlIT09dGhpcy5yZWxheVVybCYmKHRoaXMucmVsYXlVcmw9ZSxhd2FpdCB0aGlzLnRyYW5zcG9ydERpc2Nvbm5lY3QoKSksdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3M9ITAsdGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkPSExO2xldCB0PTE7Zm9yKDt0PDY7KXt0cnl7aWYodGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkKWJyZWFrO3RoaXMubG9nZ2VyLmRlYnVnKHt9LGBDb25uZWN0aW5nIHRvICR7dGhpcy5yZWxheVVybH0sIGF0dGVtcHQ6ICR7dH0uLi5gKSxhd2FpdCB0aGlzLmNyZWF0ZVByb3ZpZGVyKCksYXdhaXQgbmV3IFByb21pc2UoYXN5bmMocyxpKT0+e2NvbnN0IG49KCk9PntpKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gaW50ZXJydXB0ZWQgd2hpbGUgdHJ5aW5nIHRvIHN1YnNjcmliZVwiKSl9O3RoaXMucHJvdmlkZXIub25jZShMLmRpc2Nvbm5lY3QsbiksYXdhaXQgWChuZXcgUHJvbWlzZSgobyxhKT0+e3RoaXMucHJvdmlkZXIuY29ubmVjdCgpLnRoZW4obykuY2F0Y2goYSl9KSx0aGlzLmNvbm5lY3RUaW1lb3V0LGBTb2NrZXQgc3RhbGxlZCB3aGVuIHRyeWluZyB0byBjb25uZWN0IHRvICR7dGhpcy5yZWxheVVybH1gKS5jYXRjaChvPT57aShvKX0pLmZpbmFsbHkoKCk9Pnt0aGlzLnByb3ZpZGVyLm9mZihMLmRpc2Nvbm5lY3QsbiksY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZW91dCl9KSxhd2FpdCBuZXcgUHJvbWlzZShhc3luYyhvLGEpPT57Y29uc3QgYz0oKT0+e2EobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBpbnRlcnJ1cHRlZCB3aGlsZSB0cnlpbmcgdG8gc3Vic2NyaWJlXCIpKX07dGhpcy5wcm92aWRlci5vbmNlKEwuZGlzY29ubmVjdCxjKSxhd2FpdCB0aGlzLnN1YnNjcmliZXIuc3RhcnQoKS50aGVuKG8pLmNhdGNoKGEpLmZpbmFsbHkoKCk9Pnt0aGlzLnByb3ZpZGVyLm9mZihMLmRpc2Nvbm5lY3QsYyl9KX0pLHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbj0hMSxzKCl9KX1jYXRjaChzKXthd2FpdCB0aGlzLnN1YnNjcmliZXIuc3RvcCgpO2NvbnN0IGk9czt0aGlzLmxvZ2dlci53YXJuKHt9LGkubWVzc2FnZSksdGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uPSEwfWZpbmFsbHl7dGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3M9ITF9aWYodGhpcy5jb25uZWN0ZWQpe3RoaXMubG9nZ2VyLmRlYnVnKHt9LGBDb25uZWN0ZWQgdG8gJHt0aGlzLnJlbGF5VXJsfSBzdWNjZXNzZnVsbHkgb24gYXR0ZW1wdDogJHt0fWApO2JyZWFrfWF3YWl0IG5ldyBQcm9taXNlKHM9PnNldFRpbWVvdXQocyxPKHQqMSkpKSx0Kyt9fXN0YXJ0UGluZ1RpbWVvdXQoKXt2YXIgZSx0LHMsaSxuO2lmKHV0KCkpdHJ5eyh0PShlPXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDplLmNvbm5lY3Rpb24pIT1udWxsJiZ0LnNvY2tldCYmKChuPShpPShzPXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDpzLmNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDppLnNvY2tldCk9PW51bGx8fG4ub24oXCJwaW5nXCIsKCk9Pnt0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKX0pKSx0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKX1jYXRjaChvKXt0aGlzLmxvZ2dlci53YXJuKG8sbz8ubWVzc2FnZSl9fWFzeW5jIGNyZWF0ZVByb3ZpZGVyKCl7dGhpcy5wcm92aWRlci5jb25uZWN0aW9uJiZ0aGlzLnVucmVnaXN0ZXJQcm92aWRlckxpc3RlbmVycygpO2NvbnN0IGU9YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5zaWduSldUKHRoaXMucmVsYXlVcmwpO3RoaXMucHJvdmlkZXI9bmV3IE1zKG5ldyBCcyhJcyh7c2RrVmVyc2lvbjpfZSxwcm90b2NvbDp0aGlzLnByb3RvY29sLHZlcnNpb246dGhpcy52ZXJzaW9uLHJlbGF5VXJsOnRoaXMucmVsYXlVcmwscHJvamVjdElkOnRoaXMucHJvamVjdElkLGF1dGg6ZSx1c2VPbkNsb3NlRXZlbnQ6ITAsYnVuZGxlSWQ6dGhpcy5idW5kbGVJZCxwYWNrYWdlTmFtZTp0aGlzLnBhY2thZ2VOYW1lfSkpKSx0aGlzLnJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnMoKX1hc3luYyByZWNvcmRNZXNzYWdlRXZlbnQoZSx0KXtjb25zdHt0b3BpYzpzLG1lc3NhZ2U6aX09ZTthd2FpdCB0aGlzLm1lc3NhZ2VzLnNldChzLGksdCl9YXN5bmMgc2hvdWxkSWdub3JlTWVzc2FnZUV2ZW50KGUpe2NvbnN0e3RvcGljOnQsbWVzc2FnZTpzfT1lO2lmKCFzfHxzLmxlbmd0aD09PTApcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oYElnbm9yaW5nIGludmFsaWQvZW1wdHkgbWVzc2FnZTogJHtzfWApLCEwO2lmKCFhd2FpdCB0aGlzLnN1YnNjcmliZXIuaXNLbm93blRvcGljKHQpKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBtZXNzYWdlIGZvciB1bmtub3duIHRvcGljICR7dH1gKSwhMDtjb25zdCBpPXRoaXMubWVzc2FnZXMuaGFzKHQscyk7cmV0dXJuIGkmJnRoaXMubG9nZ2VyLndhcm4oYElnbm9yaW5nIGR1cGxpY2F0ZSBtZXNzYWdlOiAke3N9YCksaX1hc3luYyBvblByb3ZpZGVyUGF5bG9hZChlKXtpZih0aGlzLmxvZ2dlci5kZWJ1ZyhcIkluY29taW5nIFJlbGF5IFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJwYXlsb2FkXCIsZGlyZWN0aW9uOlwiaW5jb21pbmdcIixwYXlsb2FkOmV9KSxmdChlKSl7aWYoIWUubWV0aG9kLmVuZHNXaXRoKHp0KSlyZXR1cm47Y29uc3QgdD1lLnBhcmFtcyx7dG9waWM6cyxtZXNzYWdlOmkscHVibGlzaGVkQXQ6bixhdHRlc3RhdGlvbjpvfT10LmRhdGEsYT17dG9waWM6cyxtZXNzYWdlOmkscHVibGlzaGVkQXQ6bix0cmFuc3BvcnRUeXBlOlEucmVsYXksYXR0ZXN0YXRpb246b307dGhpcy5sb2dnZXIuZGVidWcoXCJFbWl0dGluZyBSZWxheWVyIFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2UoUGkoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQuaWR9LGEpKSx0aGlzLmV2ZW50cy5lbWl0KHQuaWQsYSksYXdhaXQgdGhpcy5hY2tub3dsZWRnZVBheWxvYWQoZSksYXdhaXQgdGhpcy5vbk1lc3NhZ2VFdmVudChhKX1lbHNlIER0KGUpJiZ0aGlzLmV2ZW50cy5lbWl0KEMubWVzc2FnZV9hY2ssZSl9YXN5bmMgb25NZXNzYWdlRXZlbnQoZSl7YXdhaXQgdGhpcy5zaG91bGRJZ25vcmVNZXNzYWdlRXZlbnQoZSl8fChhd2FpdCB0aGlzLnJlY29yZE1lc3NhZ2VFdmVudChlLGxlLmluYm91bmQpLHRoaXMuZXZlbnRzLmVtaXQoQy5tZXNzYWdlLGUpKX1hc3luYyBhY2tub3dsZWRnZVBheWxvYWQoZSl7Y29uc3QgdD12dChlLmlkLCEwKTthd2FpdCB0aGlzLnByb3ZpZGVyLmNvbm5lY3Rpb24uc2VuZCh0KX11bnJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnMoKXt0aGlzLnByb3ZpZGVyLm9mZihMLnBheWxvYWQsdGhpcy5vblBheWxvYWRIYW5kbGVyKSx0aGlzLnByb3ZpZGVyLm9mZihMLmNvbm5lY3QsdGhpcy5vbkNvbm5lY3RIYW5kbGVyKSx0aGlzLnByb3ZpZGVyLm9mZihMLmRpc2Nvbm5lY3QsdGhpcy5vbkRpc2Nvbm5lY3RIYW5kbGVyKSx0aGlzLnByb3ZpZGVyLm9mZihMLmVycm9yLHRoaXMub25Qcm92aWRlckVycm9ySGFuZGxlciksY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpfWFzeW5jIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKXtsZXQgZT1hd2FpdCBsdCgpO1RzKGFzeW5jIHQ9PntlIT09dCYmKGU9dCx0P2F3YWl0IHRoaXMudHJhbnNwb3J0T3BlbigpLmNhdGNoKHM9PnRoaXMubG9nZ2VyLmVycm9yKHMscz8ubWVzc2FnZSkpOih0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb249ITAsYXdhaXQgdGhpcy50cmFuc3BvcnREaXNjb25uZWN0KCksdGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkPSExKSl9KX1hc3luYyBvblByb3ZpZGVyRGlzY29ubmVjdCgpe2NsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0KSx0aGlzLmV2ZW50cy5lbWl0KEMuZGlzY29ubmVjdCksdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3M9ITEsIXRoaXMucmVjb25uZWN0SW5Qcm9ncmVzcyYmKHRoaXMucmVjb25uZWN0SW5Qcm9ncmVzcz0hMCxhd2FpdCB0aGlzLnN1YnNjcmliZXIuc3RvcCgpLHRoaXMuc3Vic2NyaWJlci5oYXNBbnlUb3BpY3MmJih0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWR8fCh0aGlzLnJlY29ubmVjdFRpbWVvdXQ9c2V0VGltZW91dChhc3luYygpPT57YXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCkuY2F0Y2goZT0+dGhpcy5sb2dnZXIuZXJyb3IoZSxlPy5tZXNzYWdlKSksdGhpcy5yZWNvbm5lY3RUaW1lb3V0PXZvaWQgMCx0aGlzLnJlY29ubmVjdEluUHJvZ3Jlc3M9ITF9LE8oTHQpKSkpKX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09bShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX1hc3luYyB0b0VzdGFibGlzaENvbm5lY3Rpb24oKXthd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSwhdGhpcy5jb25uZWN0ZWQmJmF3YWl0IHRoaXMuY29ubmVjdCgpfX1mdW5jdGlvbiBpbygpe31mdW5jdGlvbiBSaShyKXtpZighcnx8dHlwZW9mIHIhPVwib2JqZWN0XCIpcmV0dXJuITE7Y29uc3QgZT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocik7cmV0dXJuIGU9PT1udWxsfHxlPT09T2JqZWN0LnByb3RvdHlwZXx8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09bnVsbD9PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocik9PT1cIltvYmplY3QgT2JqZWN0XVwiOiExfWZ1bmN0aW9uIE9pKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHIpLmZpbHRlcihlPT5PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocixlKSl9ZnVuY3Rpb24gQWkocil7cmV0dXJuIHI9PW51bGw/cj09PXZvaWQgMD9cIltvYmplY3QgVW5kZWZpbmVkXVwiOlwiW29iamVjdCBOdWxsXVwiOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKX1jb25zdCBzbz1cIltvYmplY3QgUmVnRXhwXVwiLHJvPVwiW29iamVjdCBTdHJpbmddXCIsbm89XCJbb2JqZWN0IE51bWJlcl1cIixvbz1cIltvYmplY3QgQm9vbGVhbl1cIix4aT1cIltvYmplY3QgQXJndW1lbnRzXVwiLGFvPVwiW29iamVjdCBTeW1ib2xdXCIsY289XCJbb2JqZWN0IERhdGVdXCIsaG89XCJbb2JqZWN0IE1hcF1cIixsbz1cIltvYmplY3QgU2V0XVwiLHVvPVwiW29iamVjdCBBcnJheV1cIixnbz1cIltvYmplY3QgRnVuY3Rpb25dXCIscG89XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiLEplPVwiW29iamVjdCBPYmplY3RdXCIseW89XCJbb2JqZWN0IEVycm9yXVwiLGJvPVwiW29iamVjdCBEYXRhVmlld11cIixtbz1cIltvYmplY3QgVWludDhBcnJheV1cIixmbz1cIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsRG89XCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiLHZvPVwiW29iamVjdCBVaW50MzJBcnJheV1cIix3bz1cIltvYmplY3QgQmlnVWludDY0QXJyYXldXCIsX289XCJbb2JqZWN0IEludDhBcnJheV1cIixFbz1cIltvYmplY3QgSW50MTZBcnJheV1cIixJbz1cIltvYmplY3QgSW50MzJBcnJheV1cIixUbz1cIltvYmplY3QgQmlnSW50NjRBcnJheV1cIixDbz1cIltvYmplY3QgRmxvYXQzMkFycmF5XVwiLFBvPVwiW29iamVjdCBGbG9hdDY0QXJyYXldXCI7ZnVuY3Rpb24gU28ocixlKXtyZXR1cm4gcj09PWV8fE51bWJlci5pc05hTihyKSYmTnVtYmVyLmlzTmFOKGUpfWZ1bmN0aW9uIFJvKHIsZSx0KXtyZXR1cm4gcGUocixlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0KX1mdW5jdGlvbiBwZShyLGUsdCxzLGksbixvKXtjb25zdCBhPW8ocixlLHQscyxpLG4pO2lmKGEhPT12b2lkIDApcmV0dXJuIGE7aWYodHlwZW9mIHI9PXR5cGVvZiBlKXN3aXRjaCh0eXBlb2Ygcil7Y2FzZVwiYmlnaW50XCI6Y2FzZVwic3RyaW5nXCI6Y2FzZVwiYm9vbGVhblwiOmNhc2VcInN5bWJvbFwiOmNhc2VcInVuZGVmaW5lZFwiOnJldHVybiByPT09ZTtjYXNlXCJudW1iZXJcIjpyZXR1cm4gcj09PWV8fE9iamVjdC5pcyhyLGUpO2Nhc2VcImZ1bmN0aW9uXCI6cmV0dXJuIHI9PT1lO2Nhc2VcIm9iamVjdFwiOnJldHVybiB5ZShyLGUsbixvKX1yZXR1cm4geWUocixlLG4sbyl9ZnVuY3Rpb24geWUocixlLHQscyl7aWYoT2JqZWN0LmlzKHIsZSkpcmV0dXJuITA7bGV0IGk9QWkociksbj1BaShlKTtpZihpPT09eGkmJihpPUplKSxuPT09eGkmJihuPUplKSxpIT09bilyZXR1cm4hMTtzd2l0Y2goaSl7Y2FzZSBybzpyZXR1cm4gci50b1N0cmluZygpPT09ZS50b1N0cmluZygpO2Nhc2Ugbm86e2NvbnN0IGM9ci52YWx1ZU9mKCksaD1lLnZhbHVlT2YoKTtyZXR1cm4gU28oYyxoKX1jYXNlIG9vOmNhc2UgY286Y2FzZSBhbzpyZXR1cm4gT2JqZWN0LmlzKHIudmFsdWVPZigpLGUudmFsdWVPZigpKTtjYXNlIHNvOnJldHVybiByLnNvdXJjZT09PWUuc291cmNlJiZyLmZsYWdzPT09ZS5mbGFncztjYXNlIGdvOnJldHVybiByPT09ZX10PXQ/P25ldyBNYXA7Y29uc3Qgbz10LmdldChyKSxhPXQuZ2V0KGUpO2lmKG8hPW51bGwmJmEhPW51bGwpcmV0dXJuIG89PT1lO3Quc2V0KHIsZSksdC5zZXQoZSxyKTt0cnl7c3dpdGNoKGkpe2Nhc2UgaG86e2lmKHIuc2l6ZSE9PWUuc2l6ZSlyZXR1cm4hMTtmb3IoY29uc3RbYyxoXW9mIHIuZW50cmllcygpKWlmKCFlLmhhcyhjKXx8IXBlKGgsZS5nZXQoYyksYyxyLGUsdCxzKSlyZXR1cm4hMTtyZXR1cm4hMH1jYXNlIGxvOntpZihyLnNpemUhPT1lLnNpemUpcmV0dXJuITE7Y29uc3QgYz1BcnJheS5mcm9tKHIudmFsdWVzKCkpLGg9QXJyYXkuZnJvbShlLnZhbHVlcygpKTtmb3IobGV0IHU9MDt1PGMubGVuZ3RoO3UrKyl7Y29uc3QgZD1jW3VdLGc9aC5maW5kSW5kZXgoXz0+cGUoZCxfLHZvaWQgMCxyLGUsdCxzKSk7aWYoZz09PS0xKXJldHVybiExO2guc3BsaWNlKGcsMSl9cmV0dXJuITB9Y2FzZSB1bzpjYXNlIG1vOmNhc2UgZm86Y2FzZSBEbzpjYXNlIHZvOmNhc2Ugd286Y2FzZSBfbzpjYXNlIEVvOmNhc2UgSW86Y2FzZSBUbzpjYXNlIENvOmNhc2UgUG86e2lmKHR5cGVvZiBCdWZmZXI8XCJ1XCImJkJ1ZmZlci5pc0J1ZmZlcihyKSE9PUJ1ZmZlci5pc0J1ZmZlcihlKXx8ci5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGM9MDtjPHIubGVuZ3RoO2MrKylpZighcGUocltjXSxlW2NdLGMscixlLHQscykpcmV0dXJuITE7cmV0dXJuITB9Y2FzZSBwbzpyZXR1cm4gci5ieXRlTGVuZ3RoIT09ZS5ieXRlTGVuZ3RoPyExOnllKG5ldyBVaW50OEFycmF5KHIpLG5ldyBVaW50OEFycmF5KGUpLHQscyk7Y2FzZSBibzpyZXR1cm4gci5ieXRlTGVuZ3RoIT09ZS5ieXRlTGVuZ3RofHxyLmJ5dGVPZmZzZXQhPT1lLmJ5dGVPZmZzZXQ/ITE6eWUobmV3IFVpbnQ4QXJyYXkociksbmV3IFVpbnQ4QXJyYXkoZSksdCxzKTtjYXNlIHlvOnJldHVybiByLm5hbWU9PT1lLm5hbWUmJnIubWVzc2FnZT09PWUubWVzc2FnZTtjYXNlIEplOntpZighKHllKHIuY29uc3RydWN0b3IsZS5jb25zdHJ1Y3Rvcix0LHMpfHxSaShyKSYmUmkoZSkpKXJldHVybiExO2NvbnN0IGg9Wy4uLk9iamVjdC5rZXlzKHIpLC4uLk9pKHIpXSx1PVsuLi5PYmplY3Qua2V5cyhlKSwuLi5PaShlKV07aWYoaC5sZW5ndGghPT11Lmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGQ9MDtkPGgubGVuZ3RoO2QrKyl7Y29uc3QgZz1oW2RdLF89cltnXTtpZighT2JqZWN0Lmhhc093bihlLGcpKXJldHVybiExO2NvbnN0IGw9ZVtnXTtpZighcGUoXyxsLGcscixlLHQscykpcmV0dXJuITF9cmV0dXJuITB9ZGVmYXVsdDpyZXR1cm4hMX19ZmluYWxseXt0LmRlbGV0ZShyKSx0LmRlbGV0ZShlKX19ZnVuY3Rpb24gT28ocixlKXtyZXR1cm4gUm8ocixlLGlvKX12YXIgQW89T2JqZWN0LmRlZmluZVByb3BlcnR5LE5pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMseG89T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxObz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFhlPShyLGUsdCk9PmUgaW4gcj9BbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsJGk9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKXhvLmNhbGwoZSx0KSYmWGUocix0LGVbdF0pO2lmKE5pKWZvcih2YXIgdCBvZiBOaShlKSlOby5jYWxsKGUsdCkmJlhlKHIsdCxlW3RdKTtyZXR1cm4gcn0sej0ocixlLHQpPT5YZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIHppIGV4dGVuZHMgdHN7Y29uc3RydWN0b3IoZSx0LHMsaT1CLG49dm9pZCAwKXtzdXBlcihlLHQscyxpKSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHRoaXMubmFtZT1zLHoodGhpcyxcIm1hcFwiLG5ldyBNYXApLHoodGhpcyxcInZlcnNpb25cIixrdCkseih0aGlzLFwiY2FjaGVkXCIsW10pLHoodGhpcyxcImluaXRpYWxpemVkXCIsITEpLHoodGhpcyxcImdldEtleVwiKSx6KHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsQikseih0aGlzLFwicmVjZW50bHlEZWxldGVkXCIsW10pLHoodGhpcyxcInJlY2VudGx5RGVsZXRlZExpbWl0XCIsMjAwKSx6KHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLGF3YWl0IHRoaXMucmVzdG9yZSgpLHRoaXMuY2FjaGVkLmZvckVhY2gobz0+e3RoaXMuZ2V0S2V5JiZvIT09bnVsbCYmIXhlKG8pP3RoaXMubWFwLnNldCh0aGlzLmdldEtleShvKSxvKTpDcyhvKT90aGlzLm1hcC5zZXQoby5pZCxvKTpQcyhvKSYmdGhpcy5tYXAuc2V0KG8udG9waWMsbyl9KSx0aGlzLmNhY2hlZD1bXSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLHoodGhpcyxcInNldFwiLGFzeW5jKG8sYSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLm1hcC5oYXMobyk/YXdhaXQgdGhpcy51cGRhdGUobyxhKToodGhpcy5sb2dnZXIuZGVidWcoXCJTZXR0aW5nIHZhbHVlXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic2V0XCIsa2V5Om8sdmFsdWU6YX0pLHRoaXMubWFwLnNldChvLGEpLGF3YWl0IHRoaXMucGVyc2lzdCgpKX0pLHoodGhpcyxcImdldFwiLG89Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIkdldHRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRcIixrZXk6b30pLHRoaXMuZ2V0RGF0YShvKSkpLHoodGhpcyxcImdldEFsbFwiLG89Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSxvP3RoaXMudmFsdWVzLmZpbHRlcihhPT5PYmplY3Qua2V5cyhvKS5ldmVyeShjPT5PbyhhW2NdLG9bY10pKSk6dGhpcy52YWx1ZXMpKSx6KHRoaXMsXCJ1cGRhdGVcIixhc3luYyhvLGEpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJVcGRhdGluZyB2YWx1ZVwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInVwZGF0ZVwiLGtleTpvLHVwZGF0ZTphfSk7Y29uc3QgYz0kaSgkaSh7fSx0aGlzLmdldERhdGEobykpLGEpO3RoaXMubWFwLnNldChvLGMpLGF3YWl0IHRoaXMucGVyc2lzdCgpfSkseih0aGlzLFwiZGVsZXRlXCIsYXN5bmMobyxhKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubWFwLmhhcyhvKSYmKHRoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJkZWxldGVcIixrZXk6byxyZWFzb246YX0pLHRoaXMubWFwLmRlbGV0ZShvKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKG8pLGF3YWl0IHRoaXMucGVyc2lzdCgpKX0pLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpLHRoaXMuc3RvcmFnZVByZWZpeD1pLHRoaXMuZ2V0S2V5PW59Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5tYXAuc2l6ZX1nZXQga2V5cygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSl9Z2V0IHZhbHVlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLnZhbHVlcygpKX1hZGRUb1JlY2VudGx5RGVsZXRlZChlKXt0aGlzLnJlY2VudGx5RGVsZXRlZC5wdXNoKGUpLHRoaXMucmVjZW50bHlEZWxldGVkLmxlbmd0aD49dGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdCYmdGhpcy5yZWNlbnRseURlbGV0ZWQuc3BsaWNlKDAsdGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdC8yKX1hc3luYyBzZXREYXRhU3RvcmUoZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksZSl9YXN5bmMgZ2V0RGF0YVN0b3JlKCl7cmV0dXJuIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1nZXREYXRhKGUpe2NvbnN0IHQ9dGhpcy5tYXAuZ2V0KGUpO2lmKCF0KXtpZih0aGlzLnJlY2VudGx5RGVsZXRlZC5pbmNsdWRlcyhlKSl7Y29uc3R7bWVzc2FnZTppfT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYFJlY29yZCB3YXMgcmVjZW50bHkgZGVsZXRlZCAtICR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKGkpLG5ldyBFcnJvcihpKX1jb25zdHttZXNzYWdlOnN9PW0oXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IocyksbmV3IEVycm9yKHMpfXJldHVybiB0fWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldERhdGFTdG9yZSh0aGlzLnZhbHVlcyl9YXN5bmMgcmVzdG9yZSgpe3RyeXtjb25zdCBlPWF3YWl0IHRoaXMuZ2V0RGF0YVN0b3JlKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5tYXAuc2l6ZSl7Y29uc3R7bWVzc2FnZTp0fT1tKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHZhbHVlIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIix2YWx1ZTp0aGlzLnZhbHVlc30pfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSB2YWx1ZSBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1tKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgJG89T2JqZWN0LmRlZmluZVByb3BlcnR5LHpvPShyLGUsdCk9PmUgaW4gcj8kbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQscD0ocixlLHQpPT56byhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIExpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxwKHRoaXMsXCJuYW1lXCIsRnQpLHAodGhpcyxcInZlcnNpb25cIixLdCkscCh0aGlzLFwiZXZlbnRzXCIsbmV3IEdpKSxwKHRoaXMsXCJwYWlyaW5nc1wiKSxwKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxwKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsQikscCh0aGlzLFwiaWdub3JlZFBheWxvYWRUeXBlc1wiLFtSc10pLHAodGhpcyxcInJlZ2lzdGVyZWRNZXRob2RzXCIsW10pLHAodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMucGFpcmluZ3MuaW5pdCgpLGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMucmVnaXN0ZXJSZWxheWVyRXZlbnRzKCksdGhpcy5yZWdpc3RlckV4cGlyZXJFdmVudHMoKSx0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIikpfSkscCh0aGlzLFwicmVnaXN0ZXJcIiwoe21ldGhvZHM6c30pPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5yZWdpc3RlcmVkTWV0aG9kcz1bLi4ubmV3IFNldChbLi4udGhpcy5yZWdpc3RlcmVkTWV0aG9kcywuLi5zXSldfSkscCh0aGlzLFwiY3JlYXRlXCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGk9QWUoKSxuPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2V0U3ltS2V5KGkpLG89Y2UoZmUpLGE9e3Byb3RvY29sOnh0fSxjPXt0b3BpYzpuLGV4cGlyeTpvLHJlbGF5OmEsYWN0aXZlOiExLG1ldGhvZHM6cz8ubWV0aG9kc30saD1kdCh7cHJvdG9jb2w6dGhpcy5jb3JlLnByb3RvY29sLHZlcnNpb246dGhpcy5jb3JlLnZlcnNpb24sdG9waWM6bixzeW1LZXk6aSxyZWxheTphLGV4cGlyeVRpbWVzdGFtcDpvLG1ldGhvZHM6cz8ubWV0aG9kc30pO3JldHVybiB0aGlzLmV2ZW50cy5lbWl0KHNlLmNyZWF0ZSxjKSx0aGlzLmNvcmUuZXhwaXJlci5zZXQobixvKSxhd2FpdCB0aGlzLnBhaXJpbmdzLnNldChuLGMpLGF3YWl0IHRoaXMuY29yZS5yZWxheWVyLnN1YnNjcmliZShuLHt0cmFuc3BvcnRUeXBlOnM/LnRyYW5zcG9ydFR5cGV9KSx7dG9waWM6bix1cmk6aH19KSxwKHRoaXMsXCJwYWlyXCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGk9dGhpcy5jb3JlLmV2ZW50Q2xpZW50LmNyZWF0ZUV2ZW50KHtwcm9wZXJ0aWVzOnt0b3BpYzpzPy51cmksdHJhY2U6W0cucGFpcmluZ19zdGFydGVkXX19KTt0aGlzLmlzVmFsaWRQYWlyKHMsaSk7Y29uc3R7dG9waWM6bixzeW1LZXk6byxyZWxheTphLGV4cGlyeVRpbWVzdGFtcDpjLG1ldGhvZHM6aH09Z3Qocy51cmkpO2kucHJvcHMucHJvcGVydGllcy50b3BpYz1uLGkuYWRkVHJhY2UoRy5wYWlyaW5nX3VyaV92YWxpZGF0aW9uX3N1Y2Nlc3MpLGkuYWRkVHJhY2UoRy5wYWlyaW5nX3VyaV9ub3RfZXhwaXJlZCk7bGV0IHU7aWYodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKG4pKXtpZih1PXRoaXMucGFpcmluZ3MuZ2V0KG4pLGkuYWRkVHJhY2UoRy5leGlzdGluZ19wYWlyaW5nKSx1LmFjdGl2ZSl0aHJvdyBpLnNldEVycm9yKFkuYWN0aXZlX3BhaXJpbmdfYWxyZWFkeV9leGlzdHMpLG5ldyBFcnJvcihgUGFpcmluZyBhbHJlYWR5IGV4aXN0czogJHtufS4gUGxlYXNlIHRyeSBhZ2FpbiB3aXRoIGEgbmV3IGNvbm5lY3Rpb24gVVJJLmApO2kuYWRkVHJhY2UoRy5wYWlyaW5nX25vdF9leHBpcmVkKX1jb25zdCBkPWN8fGNlKGZlKSxnPXt0b3BpYzpuLHJlbGF5OmEsZXhwaXJ5OmQsYWN0aXZlOiExLG1ldGhvZHM6aH07dGhpcy5jb3JlLmV4cGlyZXIuc2V0KG4sZCksYXdhaXQgdGhpcy5wYWlyaW5ncy5zZXQobixnKSxpLmFkZFRyYWNlKEcuc3RvcmVfbmV3X3BhaXJpbmcpLHMuYWN0aXZhdGVQYWlyaW5nJiZhd2FpdCB0aGlzLmFjdGl2YXRlKHt0b3BpYzpufSksdGhpcy5ldmVudHMuZW1pdChzZS5jcmVhdGUsZyksaS5hZGRUcmFjZShHLmVtaXRfaW5hY3RpdmVfcGFpcmluZyksdGhpcy5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMobil8fGF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2V0U3ltS2V5KG8sbiksaS5hZGRUcmFjZShHLnN1YnNjcmliaW5nX3BhaXJpbmdfdG9waWMpO3RyeXthd2FpdCB0aGlzLmNvcmUucmVsYXllci5jb25maXJtT25saW5lU3RhdGVPclRocm93KCl9Y2F0Y2h7aS5zZXRFcnJvcihZLm5vX2ludGVybmV0X2Nvbm5lY3Rpb24pfXRyeXthd2FpdCB0aGlzLmNvcmUucmVsYXllci5zdWJzY3JpYmUobix7cmVsYXk6YX0pfWNhdGNoKF8pe3Rocm93IGkuc2V0RXJyb3IoWS5zdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlKSxffXJldHVybiBpLmFkZFRyYWNlKEcuc3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfc3VjY2VzcyksZ30pLHAodGhpcyxcImFjdGl2YXRlXCIsYXN5bmMoe3RvcGljOnN9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGk9Y2UoZmUpO3RoaXMuY29yZS5leHBpcmVyLnNldChzLGkpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKHMse2FjdGl2ZTohMCxleHBpcnk6aX0pfSkscCh0aGlzLFwicGluZ1wiLGFzeW5jIHM9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmlzVmFsaWRQaW5nKHMpLHRoaXMubG9nZ2VyLndhcm4oXCJwaW5nKCkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXCIpO2NvbnN0e3RvcGljOml9PXM7aWYodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKGkpKXtjb25zdCBuPWF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoaSxcIndjX3BhaXJpbmdQaW5nXCIse30pLHtkb25lOm8scmVzb2x2ZTphLHJlamVjdDpjfT1PcygpO3RoaXMuZXZlbnRzLm9uY2UoTmUoXCJwYWlyaW5nX3BpbmdcIixuKSwoe2Vycm9yOmh9KT0+e2g/YyhoKTphKCl9KSxhd2FpdCBvKCl9fSkscCh0aGlzLFwidXBkYXRlRXhwaXJ5XCIsYXN5bmMoe3RvcGljOnMsZXhwaXJ5Oml9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKHMse2V4cGlyeTppfSl9KSxwKHRoaXMsXCJ1cGRhdGVNZXRhZGF0YVwiLGFzeW5jKHt0b3BpYzpzLG1ldGFkYXRhOml9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKHMse3BlZXJNZXRhZGF0YTppfSl9KSxwKHRoaXMsXCJnZXRQYWlyaW5nc1wiLCgpPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5wYWlyaW5ncy52YWx1ZXMpKSxwKHRoaXMsXCJkaXNjb25uZWN0XCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZERpc2Nvbm5lY3Qocyk7Y29uc3R7dG9waWM6aX09czt0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMoaSkmJihhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KGksXCJ3Y19wYWlyaW5nRGVsZXRlXCIsYWUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKGkpKX0pLHAodGhpcyxcImZvcm1hdFVyaUZyb21QYWlyaW5nXCIscz0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0e3RvcGljOmkscmVsYXk6bixleHBpcnk6byxtZXRob2RzOmF9PXMsYz10aGlzLmNvcmUuY3J5cHRvLmtleWNoYWluLmdldChpKTtyZXR1cm4gZHQoe3Byb3RvY29sOnRoaXMuY29yZS5wcm90b2NvbCx2ZXJzaW9uOnRoaXMuY29yZS52ZXJzaW9uLHRvcGljOmksc3ltS2V5OmMscmVsYXk6bixleHBpcnlUaW1lc3RhbXA6byxtZXRob2RzOmF9KX0pLHAodGhpcyxcInNlbmRSZXF1ZXN0XCIsYXN5bmMocyxpLG4pPT57Y29uc3Qgbz13dChpLG4pLGE9YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5lbmNvZGUocyxvKSxjPWllW2ldLnJlcTtyZXR1cm4gdGhpcy5jb3JlLmhpc3Rvcnkuc2V0KHMsbyksdGhpcy5jb3JlLnJlbGF5ZXIucHVibGlzaChzLGEsYyksby5pZH0pLHAodGhpcyxcInNlbmRSZXN1bHRcIixhc3luYyhzLGksbik9Pntjb25zdCBvPXZ0KHMsbiksYT1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShpLG8pLGM9KGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChpLHMpKS5yZXF1ZXN0Lm1ldGhvZCxoPWllW2NdLnJlczthd2FpdCB0aGlzLmNvcmUucmVsYXllci5wdWJsaXNoKGksYSxoKSxhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5yZXNvbHZlKG8pfSkscCh0aGlzLFwic2VuZEVycm9yXCIsYXN5bmMocyxpLG4pPT57Y29uc3Qgbz1GcyhzLG4pLGE9YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5lbmNvZGUoaSxvKSxjPShhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5nZXQoaSxzKSkucmVxdWVzdC5tZXRob2QsaD1pZVtjXT9pZVtjXS5yZXM6aWUudW5yZWdpc3RlcmVkX21ldGhvZC5yZXM7YXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIucHVibGlzaChpLGEsaCksYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkucmVzb2x2ZShvKX0pLHAodGhpcyxcImRlbGV0ZVBhaXJpbmdcIixhc3luYyhzLGkpPT57YXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUocyksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMucGFpcmluZ3MuZGVsZXRlKHMsYWUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5jb3JlLmNyeXB0by5kZWxldGVTeW1LZXkocyksaT9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNvcmUuZXhwaXJlci5kZWwocyldKX0pLHAodGhpcyxcImNsZWFudXBcIixhc3luYygpPT57Y29uc3Qgcz10aGlzLnBhaXJpbmdzLmdldEFsbCgpLmZpbHRlcihpPT5wdChpLmV4cGlyeSkpO2F3YWl0IFByb21pc2UuYWxsKHMubWFwKGk9PnRoaXMuZGVsZXRlUGFpcmluZyhpLnRvcGljKSkpfSkscCh0aGlzLFwib25SZWxheUV2ZW50UmVxdWVzdFwiLGFzeW5jIHM9Pntjb25zdHt0b3BpYzppLHBheWxvYWQ6bn09cztzd2l0Y2gobi5tZXRob2Qpe2Nhc2VcIndjX3BhaXJpbmdQaW5nXCI6cmV0dXJuIGF3YWl0IHRoaXMub25QYWlyaW5nUGluZ1JlcXVlc3QoaSxuKTtjYXNlXCJ3Y19wYWlyaW5nRGVsZXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25QYWlyaW5nRGVsZXRlUmVxdWVzdChpLG4pO2RlZmF1bHQ6cmV0dXJuIGF3YWl0IHRoaXMub25Vbmtub3duUnBjTWV0aG9kUmVxdWVzdChpLG4pfX0pLHAodGhpcyxcIm9uUmVsYXlFdmVudFJlc3BvbnNlXCIsYXN5bmMgcz0+e2NvbnN0e3RvcGljOmkscGF5bG9hZDpufT1zLG89KGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChpLG4uaWQpKS5yZXF1ZXN0Lm1ldGhvZDtzd2l0Y2gobyl7Y2FzZVwid2NfcGFpcmluZ1BpbmdcIjpyZXR1cm4gdGhpcy5vblBhaXJpbmdQaW5nUmVzcG9uc2UoaSxuKTtkZWZhdWx0OnJldHVybiB0aGlzLm9uVW5rbm93blJwY01ldGhvZFJlc3BvbnNlKG8pfX0pLHAodGhpcyxcIm9uUGFpcmluZ1BpbmdSZXF1ZXN0XCIsYXN5bmMocyxpKT0+e2NvbnN0e2lkOm59PWk7dHJ5e3RoaXMuaXNWYWxpZFBpbmcoe3RvcGljOnN9KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQobixzLCEwKSx0aGlzLmV2ZW50cy5lbWl0KHNlLnBpbmcse2lkOm4sdG9waWM6c30pfWNhdGNoKG8pe2F3YWl0IHRoaXMuc2VuZEVycm9yKG4scyxvKSx0aGlzLmxvZ2dlci5lcnJvcihvKX19KSxwKHRoaXMsXCJvblBhaXJpbmdQaW5nUmVzcG9uc2VcIiwocyxpKT0+e2NvbnN0e2lkOm59PWk7c2V0VGltZW91dCgoKT0+e0tzKGkpP3RoaXMuZXZlbnRzLmVtaXQoTmUoXCJwYWlyaW5nX3BpbmdcIixuKSx7fSk6X3QoaSkmJnRoaXMuZXZlbnRzLmVtaXQoTmUoXCJwYWlyaW5nX3BpbmdcIixuKSx7ZXJyb3I6aS5lcnJvcn0pfSw1MDApfSkscCh0aGlzLFwib25QYWlyaW5nRGVsZXRlUmVxdWVzdFwiLGFzeW5jKHMsaSk9Pntjb25zdHtpZDpufT1pO3RyeXt0aGlzLmlzVmFsaWREaXNjb25uZWN0KHt0b3BpYzpzfSksYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKHMpLHRoaXMuZXZlbnRzLmVtaXQoc2UuZGVsZXRlLHtpZDpuLHRvcGljOnN9KX1jYXRjaChvKXthd2FpdCB0aGlzLnNlbmRFcnJvcihuLHMsbyksdGhpcy5sb2dnZXIuZXJyb3Iobyl9fSkscCh0aGlzLFwib25Vbmtub3duUnBjTWV0aG9kUmVxdWVzdFwiLGFzeW5jKHMsaSk9Pntjb25zdHtpZDpuLG1ldGhvZDpvfT1pO3RyeXtpZih0aGlzLnJlZ2lzdGVyZWRNZXRob2RzLmluY2x1ZGVzKG8pKXJldHVybjtjb25zdCBhPWFlKFwiV0NfTUVUSE9EX1VOU1VQUE9SVEVEXCIsbyk7YXdhaXQgdGhpcy5zZW5kRXJyb3IobixzLGEpLHRoaXMubG9nZ2VyLmVycm9yKGEpfWNhdGNoKGEpe2F3YWl0IHRoaXMuc2VuZEVycm9yKG4scyxhKSx0aGlzLmxvZ2dlci5lcnJvcihhKX19KSxwKHRoaXMsXCJvblVua25vd25ScGNNZXRob2RSZXNwb25zZVwiLHM9Pnt0aGlzLnJlZ2lzdGVyZWRNZXRob2RzLmluY2x1ZGVzKHMpfHx0aGlzLmxvZ2dlci5lcnJvcihhZShcIldDX01FVEhPRF9VTlNVUFBPUlRFRFwiLHMpKX0pLHAodGhpcyxcImlzVmFsaWRQYWlyXCIsKHMsaSk9Pnt2YXIgbjtpZighJGUocykpe2NvbnN0e21lc3NhZ2U6YX09bShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyKCkgcGFyYW1zOiAke3N9YCk7dGhyb3cgaS5zZXRFcnJvcihZLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWlmKCFBcyhzLnVyaSkpe2NvbnN0e21lc3NhZ2U6YX09bShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyKCkgdXJpOiAke3MudXJpfWApO3Rocm93IGkuc2V0RXJyb3IoWS5tYWxmb3JtZWRfcGFpcmluZ191cmkpLG5ldyBFcnJvcihhKX1jb25zdCBvPWd0KHM/LnVyaSk7aWYoISgobj1vPy5yZWxheSkhPW51bGwmJm4ucHJvdG9jb2wpKXtjb25zdHttZXNzYWdlOmF9PW0oXCJNSVNTSU5HX09SX0lOVkFMSURcIixcInBhaXIoKSB1cmkjcmVsYXktcHJvdG9jb2xcIik7dGhyb3cgaS5zZXRFcnJvcihZLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWlmKCEobyE9bnVsbCYmby5zeW1LZXkpKXtjb25zdHttZXNzYWdlOmF9PW0oXCJNSVNTSU5HX09SX0lOVkFMSURcIixcInBhaXIoKSB1cmkjc3ltS2V5XCIpO3Rocm93IGkuc2V0RXJyb3IoWS5tYWxmb3JtZWRfcGFpcmluZ191cmkpLG5ldyBFcnJvcihhKX1pZihvIT1udWxsJiZvLmV4cGlyeVRpbWVzdGFtcCYmTyhvPy5leHBpcnlUaW1lc3RhbXApPERhdGUubm93KCkpe2kuc2V0RXJyb3IoWS5wYWlyaW5nX2V4cGlyZWQpO2NvbnN0e21lc3NhZ2U6YX09bShcIkVYUElSRURcIixcInBhaXIoKSBVUkkgaGFzIGV4cGlyZWQuIFBsZWFzZSB0cnkgYWdhaW4gd2l0aCBhIG5ldyBjb25uZWN0aW9uIFVSSS5cIik7dGhyb3cgbmV3IEVycm9yKGEpfX0pLHAodGhpcyxcImlzVmFsaWRQaW5nXCIsYXN5bmMgcz0+e2lmKCEkZShzKSl7Y29uc3R7bWVzc2FnZTpufT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBpbmcoKSBwYXJhbXM6ICR7c31gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3R7dG9waWM6aX09czthd2FpdCB0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMoaSl9KSxwKHRoaXMsXCJpc1ZhbGlkRGlzY29ubmVjdFwiLGFzeW5jIHM9PntpZighJGUocykpe2NvbnN0e21lc3NhZ2U6bn09bShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBkaXNjb25uZWN0KCkgcGFyYW1zOiAke3N9YCk7dGhyb3cgbmV3IEVycm9yKG4pfWNvbnN0e3RvcGljOml9PXM7YXdhaXQgdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKGkpfSkscCh0aGlzLFwiaXNWYWxpZFBhaXJpbmdUb3BpY1wiLGFzeW5jIHM9PntpZigheHMocywhMSkpe2NvbnN0e21lc3NhZ2U6aX09bShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyaW5nIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtzfWApO3Rocm93IG5ldyBFcnJvcihpKX1pZighdGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHMpKXtjb25zdHttZXNzYWdlOml9PW0oXCJOT19NQVRDSElOR19LRVlcIixgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke3N9YCk7dGhyb3cgbmV3IEVycm9yKGkpfWlmKHB0KHRoaXMucGFpcmluZ3MuZ2V0KHMpLmV4cGlyeSkpe2F3YWl0IHRoaXMuZGVsZXRlUGFpcmluZyhzKTtjb25zdHttZXNzYWdlOml9PW0oXCJFWFBJUkVEXCIsYHBhaXJpbmcgdG9waWM6ICR7c31gKTt0aHJvdyBuZXcgRXJyb3IoaSl9fSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSksdGhpcy5wYWlyaW5ncz1uZXcgemkodGhpcy5jb3JlLHRoaXMubG9nZ2VyLHRoaXMubmFtZSx0aGlzLnN0b3JhZ2VQcmVmaXgpfWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1tKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fXJlZ2lzdGVyUmVsYXllckV2ZW50cygpe3RoaXMuY29yZS5yZWxheWVyLm9uKEMubWVzc2FnZSxhc3luYyBlPT57Y29uc3R7dG9waWM6dCxtZXNzYWdlOnMsdHJhbnNwb3J0VHlwZTppfT1lO2lmKHRoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyh0KSYmaSE9PVEubGlua19tb2RlJiYhdGhpcy5pZ25vcmVkUGF5bG9hZFR5cGVzLmluY2x1ZGVzKHRoaXMuY29yZS5jcnlwdG8uZ2V0UGF5bG9hZFR5cGUocykpKXRyeXtjb25zdCBuPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uZGVjb2RlKHQscyk7ZnQobik/KHRoaXMuY29yZS5oaXN0b3J5LnNldCh0LG4pLGF3YWl0IHRoaXMub25SZWxheUV2ZW50UmVxdWVzdCh7dG9waWM6dCxwYXlsb2FkOm59KSk6RHQobikmJihhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5yZXNvbHZlKG4pLGF3YWl0IHRoaXMub25SZWxheUV2ZW50UmVzcG9uc2Uoe3RvcGljOnQscGF5bG9hZDpufSksdGhpcy5jb3JlLmhpc3RvcnkuZGVsZXRlKHQsbi5pZCkpLGF3YWl0IHRoaXMuY29yZS5yZWxheWVyLm1lc3NhZ2VzLmFjayh0LHMpfWNhdGNoKG4pe3RoaXMubG9nZ2VyLmVycm9yKG4pfX0pfXJlZ2lzdGVyRXhwaXJlckV2ZW50cygpe3RoaXMuY29yZS5leHBpcmVyLm9uKEYuZXhwaXJlZCxhc3luYyBlPT57Y29uc3R7dG9waWM6dH09U3MoZS50YXJnZXQpO3QmJnRoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyh0KSYmKGF3YWl0IHRoaXMuZGVsZXRlUGFpcmluZyh0LCEwKSx0aGlzLmV2ZW50cy5lbWl0KHNlLmV4cGlyZSx7dG9waWM6dH0pKX0pfX12YXIgTG89T2JqZWN0LmRlZmluZVByb3BlcnR5LGtvPShyLGUsdCk9PmUgaW4gcj9MbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsUj0ocixlLHQpPT5rbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIGtpIGV4dGVuZHMgaXN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsUih0aGlzLFwicmVjb3Jkc1wiLG5ldyBNYXApLFIodGhpcyxcImV2ZW50c1wiLG5ldyBlZSksUih0aGlzLFwibmFtZVwiLEJ0KSxSKHRoaXMsXCJ2ZXJzaW9uXCIsVnQpLFIodGhpcyxcImNhY2hlZFwiLFtdKSxSKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxSKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsQiksUih0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSxhd2FpdCB0aGlzLnJlc3RvcmUoKSx0aGlzLmNhY2hlZC5mb3JFYWNoKHM9PnRoaXMucmVjb3Jkcy5zZXQocy5pZCxzKSksdGhpcy5jYWNoZWQ9W10sdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksdGhpcy5pbml0aWFsaXplZD0hMCl9KSxSKHRoaXMsXCJzZXRcIiwocyxpLG4pPT57aWYodGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJTZXR0aW5nIEpTT04tUlBDIHJlcXVlc3QgaGlzdG9yeSByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzZXRcIix0b3BpYzpzLHJlcXVlc3Q6aSxjaGFpbklkOm59KSx0aGlzLnJlY29yZHMuaGFzKGkuaWQpKXJldHVybjtjb25zdCBvPXtpZDppLmlkLHRvcGljOnMscmVxdWVzdDp7bWV0aG9kOmkubWV0aG9kLHBhcmFtczppLnBhcmFtc3x8bnVsbH0sY2hhaW5JZDpuLGV4cGlyeTpjZShDZSl9O3RoaXMucmVjb3Jkcy5zZXQoby5pZCxvKSx0aGlzLnBlcnNpc3QoKSx0aGlzLmV2ZW50cy5lbWl0KE0uY3JlYXRlZCxvKX0pLFIodGhpcyxcInJlc29sdmVcIixhc3luYyBzPT57aWYodGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJVcGRhdGluZyBKU09OLVJQQyByZXNwb25zZSBoaXN0b3J5IHJlY29yZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInVwZGF0ZVwiLHJlc3BvbnNlOnN9KSwhdGhpcy5yZWNvcmRzLmhhcyhzLmlkKSlyZXR1cm47Y29uc3QgaT1hd2FpdCB0aGlzLmdldFJlY29yZChzLmlkKTt0eXBlb2YgaS5yZXNwb25zZT5cInVcIiYmKGkucmVzcG9uc2U9X3Qocyk/e2Vycm9yOnMuZXJyb3J9OntyZXN1bHQ6cy5yZXN1bHR9LHRoaXMucmVjb3Jkcy5zZXQoaS5pZCxpKSx0aGlzLnBlcnNpc3QoKSx0aGlzLmV2ZW50cy5lbWl0KE0udXBkYXRlZCxpKSl9KSxSKHRoaXMsXCJnZXRcIixhc3luYyhzLGkpPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJHZXR0aW5nIHJlY29yZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImdldFwiLHRvcGljOnMsaWQ6aX0pLGF3YWl0IHRoaXMuZ2V0UmVjb3JkKGkpKSksUih0aGlzLFwiZGVsZXRlXCIsKHMsaSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRlbGV0aW5nIHJlY29yZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImRlbGV0ZVwiLGlkOml9KSx0aGlzLnZhbHVlcy5mb3JFYWNoKG49PntpZihuLnRvcGljPT09cyl7aWYodHlwZW9mIGk8XCJ1XCImJm4uaWQhPT1pKXJldHVybjt0aGlzLnJlY29yZHMuZGVsZXRlKG4uaWQpLHRoaXMuZXZlbnRzLmVtaXQoTS5kZWxldGVkLG4pfX0pLHRoaXMucGVyc2lzdCgpfSksUih0aGlzLFwiZXhpc3RzXCIsYXN5bmMocyxpKT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMucmVjb3Jkcy5oYXMoaSk/KGF3YWl0IHRoaXMuZ2V0UmVjb3JkKGkpKS50b3BpYz09PXM6ITEpKSxSKHRoaXMsXCJvblwiLChzLGkpPT57dGhpcy5ldmVudHMub24ocyxpKX0pLFIodGhpcyxcIm9uY2VcIiwocyxpKT0+e3RoaXMuZXZlbnRzLm9uY2UocyxpKX0pLFIodGhpcyxcIm9mZlwiLChzLGkpPT57dGhpcy5ldmVudHMub2ZmKHMsaSl9KSxSKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChzLGkpPT57dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIocyxpKX0pLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpfWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLnJlY29yZHMuc2l6ZX1nZXQga2V5cygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMucmVjb3Jkcy5rZXlzKCkpfWdldCB2YWx1ZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlY29yZHMudmFsdWVzKCkpfWdldCBwZW5kaW5nKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy52YWx1ZXMuZm9yRWFjaCh0PT57aWYodHlwZW9mIHQucmVzcG9uc2U8XCJ1XCIpcmV0dXJuO2NvbnN0IHM9e3RvcGljOnQudG9waWMscmVxdWVzdDp3dCh0LnJlcXVlc3QubWV0aG9kLHQucmVxdWVzdC5wYXJhbXMsdC5pZCksY2hhaW5JZDp0LmNoYWluSWR9O3JldHVybiBlLnB1c2gocyl9KSxlfWFzeW5jIHNldEpzb25ScGNSZWNvcmRzKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldEpzb25ScGNSZWNvcmRzKCl7cmV0dXJuIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1nZXRSZWNvcmQoZSl7dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3QgdD10aGlzLnJlY29yZHMuZ2V0KGUpO2lmKCF0KXtjb25zdHttZXNzYWdlOnN9PW0oXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKHMpfXJldHVybiB0fWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldEpzb25ScGNSZWNvcmRzKHRoaXMudmFsdWVzKSx0aGlzLmV2ZW50cy5lbWl0KE0uc3luYyl9YXN5bmMgcmVzdG9yZSgpe3RyeXtjb25zdCBlPWF3YWl0IHRoaXMuZ2V0SnNvblJwY1JlY29yZHMoKTtpZih0eXBlb2YgZT5cInVcInx8IWUubGVuZ3RoKXJldHVybjtpZih0aGlzLnJlY29yZHMuc2l6ZSl7Y29uc3R7bWVzc2FnZTp0fT1tKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHJlY29yZHMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLHJlY29yZHM6dGhpcy52YWx1ZXN9KX1jYXRjaChlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fXJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLmV2ZW50cy5vbihNLmNyZWF0ZWQsZT0+e2NvbnN0IHQ9TS5jcmVhdGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxyZWNvcmQ6ZX0pfSksdGhpcy5ldmVudHMub24oTS51cGRhdGVkLGU9Pntjb25zdCB0PU0udXBkYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQscmVjb3JkOmV9KX0pLHRoaXMuZXZlbnRzLm9uKE0uZGVsZXRlZCxlPT57Y29uc3QgdD1NLmRlbGV0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LHJlY29yZDplfSl9KSx0aGlzLmNvcmUuaGVhcnRiZWF0Lm9uKG5lLnB1bHNlLCgpPT57dGhpcy5jbGVhbnVwKCl9KX1jbGVhbnVwKCl7dHJ5e3RoaXMuaXNJbml0aWFsaXplZCgpO2xldCBlPSExO3RoaXMucmVjb3Jkcy5mb3JFYWNoKHQ9PntPKHQuZXhwaXJ5fHwwKS1EYXRlLm5vdygpPD0wJiYodGhpcy5sb2dnZXIuaW5mbyhgRGVsZXRpbmcgZXhwaXJlZCBoaXN0b3J5IGxvZzogJHt0LmlkfWApLHRoaXMucmVjb3Jkcy5kZWxldGUodC5pZCksdGhpcy5ldmVudHMuZW1pdChNLmRlbGV0ZWQsdCwhMSksZT0hMCl9KSxlJiZ0aGlzLnBlcnNpc3QoKX1jYXRjaChlKXt0aGlzLmxvZ2dlci53YXJuKGUpfX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09bShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyIGpvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxVbz0ocixlLHQpPT5lIGluIHI/am8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LEE9KHIsZSx0KT0+VW8ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBqaSBleHRlbmRzIHNze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LEEodGhpcyxcImV4cGlyYXRpb25zXCIsbmV3IE1hcCksQSh0aGlzLFwiZXZlbnRzXCIsbmV3IGVlKSxBKHRoaXMsXCJuYW1lXCIscXQpLEEodGhpcyxcInZlcnNpb25cIixHdCksQSh0aGlzLFwiY2FjaGVkXCIsW10pLEEodGhpcyxcImluaXRpYWxpemVkXCIsITEpLEEodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSxBKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLGF3YWl0IHRoaXMucmVzdG9yZSgpLHRoaXMuY2FjaGVkLmZvckVhY2gocz0+dGhpcy5leHBpcmF0aW9ucy5zZXQocy50YXJnZXQscykpLHRoaXMuY2FjaGVkPVtdLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSksQSh0aGlzLFwiaGFzXCIscz0+e3RyeXtjb25zdCBpPXRoaXMuZm9ybWF0VGFyZ2V0KHMpO3JldHVybiB0eXBlb2YgdGhpcy5nZXRFeHBpcmF0aW9uKGkpPFwidVwifWNhdGNoe3JldHVybiExfX0pLEEodGhpcyxcInNldFwiLChzLGkpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbj10aGlzLmZvcm1hdFRhcmdldChzKSxvPXt0YXJnZXQ6bixleHBpcnk6aX07dGhpcy5leHBpcmF0aW9ucy5zZXQobixvKSx0aGlzLmNoZWNrRXhwaXJ5KG4sbyksdGhpcy5ldmVudHMuZW1pdChGLmNyZWF0ZWQse3RhcmdldDpuLGV4cGlyYXRpb246b30pfSksQSh0aGlzLFwiZ2V0XCIscz0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGk9dGhpcy5mb3JtYXRUYXJnZXQocyk7cmV0dXJuIHRoaXMuZ2V0RXhwaXJhdGlvbihpKX0pLEEodGhpcyxcImRlbFwiLHM9PntpZih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmhhcyhzKSl7Y29uc3QgaT10aGlzLmZvcm1hdFRhcmdldChzKSxuPXRoaXMuZ2V0RXhwaXJhdGlvbihpKTt0aGlzLmV4cGlyYXRpb25zLmRlbGV0ZShpKSx0aGlzLmV2ZW50cy5lbWl0KEYuZGVsZXRlZCx7dGFyZ2V0OmksZXhwaXJhdGlvbjpufSl9fSksQSh0aGlzLFwib25cIiwocyxpKT0+e3RoaXMuZXZlbnRzLm9uKHMsaSl9KSxBKHRoaXMsXCJvbmNlXCIsKHMsaSk9Pnt0aGlzLmV2ZW50cy5vbmNlKHMsaSl9KSxBKHRoaXMsXCJvZmZcIiwocyxpKT0+e3RoaXMuZXZlbnRzLm9mZihzLGkpfSksQSh0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwocyxpKT0+e3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKHMsaSl9KSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5uYW1lKX1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLmV4cGlyYXRpb25zLnNpemV9Z2V0IGtleXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmV4cGlyYXRpb25zLmtleXMoKSl9Z2V0IHZhbHVlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuZXhwaXJhdGlvbnMudmFsdWVzKCkpfWZvcm1hdFRhcmdldChlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIilyZXR1cm4gTnMoZSk7aWYodHlwZW9mIGU9PVwibnVtYmVyXCIpcmV0dXJuICRzKGUpO2NvbnN0e21lc3NhZ2U6dH09bShcIlVOS05PV05fVFlQRVwiLGBUYXJnZXQgdHlwZTogJHt0eXBlb2YgZX1gKTt0aHJvdyBuZXcgRXJyb3IodCl9YXN5bmMgc2V0RXhwaXJhdGlvbnMoZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksZSl9YXN5bmMgZ2V0RXhwaXJhdGlvbnMoKXtyZXR1cm4gYXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldEV4cGlyYXRpb25zKHRoaXMudmFsdWVzKSx0aGlzLmV2ZW50cy5lbWl0KEYuc3luYyl9YXN5bmMgcmVzdG9yZSgpe3RyeXtjb25zdCBlPWF3YWl0IHRoaXMuZ2V0RXhwaXJhdGlvbnMoKTtpZih0eXBlb2YgZT5cInVcInx8IWUubGVuZ3RoKXJldHVybjtpZih0aGlzLmV4cGlyYXRpb25zLnNpemUpe2NvbnN0e21lc3NhZ2U6dH09bShcIlJFU1RPUkVfV0lMTF9PVkVSUklERVwiLHRoaXMubmFtZSk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksbmV3IEVycm9yKHQpfXRoaXMuY2FjaGVkPWUsdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCBleHBpcmF0aW9ucyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJyZXN0b3JlXCIsZXhwaXJhdGlvbnM6dGhpcy52YWx1ZXN9KX1jYXRjaChlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgZXhwaXJhdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGUpfX1nZXRFeHBpcmF0aW9uKGUpe2NvbnN0IHQ9dGhpcy5leHBpcmF0aW9ucy5nZXQoZSk7aWYoIXQpe2NvbnN0e21lc3NhZ2U6c309bShcIk5PX01BVENISU5HX0tFWVwiLGAke3RoaXMubmFtZX06ICR7ZX1gKTt0aHJvdyB0aGlzLmxvZ2dlci53YXJuKHMpLG5ldyBFcnJvcihzKX1yZXR1cm4gdH1jaGVja0V4cGlyeShlLHQpe2NvbnN0e2V4cGlyeTpzfT10O08ocyktRGF0ZS5ub3coKTw9MCYmdGhpcy5leHBpcmUoZSx0KX1leHBpcmUoZSx0KXt0aGlzLmV4cGlyYXRpb25zLmRlbGV0ZShlKSx0aGlzLmV2ZW50cy5lbWl0KEYuZXhwaXJlZCx7dGFyZ2V0OmUsZXhwaXJhdGlvbjp0fSl9Y2hlY2tFeHBpcmF0aW9ucygpe3RoaXMuY29yZS5yZWxheWVyLmNvbm5lY3RlZCYmdGhpcy5leHBpcmF0aW9ucy5mb3JFYWNoKChlLHQpPT50aGlzLmNoZWNrRXhwaXJ5KHQsZSkpfXJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLmNvcmUuaGVhcnRiZWF0Lm9uKG5lLnB1bHNlLCgpPT50aGlzLmNoZWNrRXhwaXJhdGlvbnMoKSksdGhpcy5ldmVudHMub24oRi5jcmVhdGVkLGU9Pntjb25zdCB0PUYuY3JlYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQsZGF0YTplfSksdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmV2ZW50cy5vbihGLmV4cGlyZWQsZT0+e2NvbnN0IHQ9Ri5leHBpcmVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxkYXRhOmV9KSx0aGlzLnBlcnNpc3QoKX0pLHRoaXMuZXZlbnRzLm9uKEYuZGVsZXRlZCxlPT57Y29uc3QgdD1GLmRlbGV0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LGRhdGE6ZX0pLHRoaXMucGVyc2lzdCgpfSl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBNbz1PYmplY3QuZGVmaW5lUHJvcGVydHksRm89KHIsZSx0KT0+ZSBpbiByP01vKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCx3PShyLGUsdCk9PkZvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgVWkgZXh0ZW5kcyByc3tjb25zdHJ1Y3RvcihlLHQscyl7c3VwZXIoZSx0LHMpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsdGhpcy5zdG9yZT1zLHcodGhpcyxcIm5hbWVcIixXdCksdyh0aGlzLFwiYWJvcnRDb250cm9sbGVyXCIpLHcodGhpcyxcImlzRGV2RW52XCIpLHcodGhpcyxcInZlcmlmeVVybFYzXCIsWXQpLHcodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSx3KHRoaXMsXCJ2ZXJzaW9uXCIsTGUpLHcodGhpcyxcInB1YmxpY0tleVwiKSx3KHRoaXMsXCJmZXRjaFByb21pc2VcIiksdyh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt2YXIgaTt0aGlzLmlzRGV2RW52fHwodGhpcy5wdWJsaWNLZXk9YXdhaXQgdGhpcy5zdG9yZS5nZXRJdGVtKHRoaXMuc3RvcmVLZXkpLHRoaXMucHVibGljS2V5JiZPKChpPXRoaXMucHVibGljS2V5KT09bnVsbD92b2lkIDA6aS5leHBpcmVzQXQpPERhdGUubm93KCkmJih0aGlzLmxvZ2dlci5kZWJ1ZyhcInZlcmlmeSB2MiBwdWJsaWMga2V5IGV4cGlyZWRcIiksYXdhaXQgdGhpcy5yZW1vdmVQdWJsaWNLZXkoKSkpfSksdyh0aGlzLFwicmVnaXN0ZXJcIixhc3luYyBpPT57aWYoIXpzKCl8fHRoaXMuaXNEZXZFbnYpcmV0dXJuO2NvbnN0IG49d2luZG93LmxvY2F0aW9uLm9yaWdpbix7aWQ6byxkZWNyeXB0ZWRJZDphfT1pLGM9YCR7dGhpcy52ZXJpZnlVcmxWM30vYXR0ZXN0YXRpb24/cHJvamVjdElkPSR7dGhpcy5jb3JlLnByb2plY3RJZH0mb3JpZ2luPSR7bn0maWQ9JHtvfSZkZWNyeXB0ZWRJZD0ke2F9YDt0cnl7Y29uc3QgaD1WcygpLHU9dGhpcy5zdGFydEFib3J0VGltZXIoWio1KSxkPWF3YWl0IG5ldyBQcm9taXNlKChnLF8pPT57Y29uc3QgbD0oKT0+e3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHgpLGguYm9keS5yZW1vdmVDaGlsZChiKSxfKFwiYXR0ZXN0YXRpb24gYWJvcnRlZFwiKX07dGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGwpO2NvbnN0IGI9aC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2Iuc3JjPWMsYi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGIuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsbCx7c2lnbmFsOnRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pO2NvbnN0IHg9ST0+e2lmKEkuZGF0YSYmdHlwZW9mIEkuZGF0YT09XCJzdHJpbmdcIil0cnl7Y29uc3QgRD1KU09OLnBhcnNlKEkuZGF0YSk7aWYoRC50eXBlPT09XCJ2ZXJpZnlfYXR0ZXN0YXRpb25cIil7aWYocnQoRC5hdHRlc3RhdGlvbikucGF5bG9hZC5pZCE9PW8pcmV0dXJuO2NsZWFySW50ZXJ2YWwodSksaC5ib2R5LnJlbW92ZUNoaWxkKGIpLHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixsKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix4KSxnKEQuYXR0ZXN0YXRpb249PT1udWxsP1wiXCI6RC5hdHRlc3RhdGlvbil9fWNhdGNoKEQpe3RoaXMubG9nZ2VyLndhcm4oRCl9fTtoLmJvZHkuYXBwZW5kQ2hpbGQoYiksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIseCx7c2lnbmFsOnRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pfSk7cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwiand0IGF0dGVzdGF0aW9uXCIsZCksZH1jYXRjaChoKXt0aGlzLmxvZ2dlci53YXJuKGgpfXJldHVyblwiXCJ9KSx3KHRoaXMsXCJyZXNvbHZlXCIsYXN5bmMgaT0+e2lmKHRoaXMuaXNEZXZFbnYpcmV0dXJuXCJcIjtjb25zdHthdHRlc3RhdGlvbklkOm4saGFzaDpvLGVuY3J5cHRlZElkOmF9PWk7aWYobj09PVwiXCIpe3RoaXMubG9nZ2VyLmRlYnVnKFwicmVzb2x2ZTogYXR0ZXN0YXRpb25JZCBpcyBlbXB0eSwgc2tpcHBpbmdcIik7cmV0dXJufWlmKG4pe2lmKHJ0KG4pLnBheWxvYWQuaWQhPT1hKXJldHVybjtjb25zdCBoPWF3YWl0IHRoaXMuaXNWYWxpZEp3dEF0dGVzdGF0aW9uKG4pO2lmKGgpe2lmKCFoLmlzVmVyaWZpZWQpe3RoaXMubG9nZ2VyLndhcm4oXCJyZXNvbHZlOiBqd3QgYXR0ZXN0YXRpb246IG9yaWdpbiB1cmwgbm90IHZlcmlmaWVkXCIpO3JldHVybn1yZXR1cm4gaH19aWYoIW8pcmV0dXJuO2NvbnN0IGM9dGhpcy5nZXRWZXJpZnlVcmwoaT8udmVyaWZ5VXJsKTtyZXR1cm4gdGhpcy5mZXRjaEF0dGVzdGF0aW9uKG8sYyl9KSx3KHRoaXMsXCJmZXRjaEF0dGVzdGF0aW9uXCIsYXN5bmMoaSxuKT0+e3RoaXMubG9nZ2VyLmRlYnVnKGByZXNvbHZpbmcgYXR0ZXN0YXRpb246ICR7aX0gZnJvbSB1cmw6ICR7bn1gKTtjb25zdCBvPXRoaXMuc3RhcnRBYm9ydFRpbWVyKFoqNSksYT1hd2FpdCBmZXRjaChgJHtufS9hdHRlc3RhdGlvbi8ke2l9P3YyU3VwcG9ydGVkPXRydWVgLHtzaWduYWw6dGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsfSk7cmV0dXJuIGNsZWFyVGltZW91dChvKSxhLnN0YXR1cz09PTIwMD9hd2FpdCBhLmpzb24oKTp2b2lkIDB9KSx3KHRoaXMsXCJnZXRWZXJpZnlVcmxcIixpPT57bGV0IG49aXx8dWU7cmV0dXJuIEp0LmluY2x1ZGVzKG4pfHwodGhpcy5sb2dnZXIuaW5mbyhgdmVyaWZ5IHVybDogJHtufSwgbm90IGluY2x1ZGVkIGluIHRydXN0ZWQgbGlzdCwgYXNzaWduaW5nIGRlZmF1bHQ6ICR7dWV9YCksbj11ZSksbn0pLHcodGhpcyxcImZldGNoUHVibGljS2V5XCIsYXN5bmMoKT0+e3RyeXt0aGlzLmxvZ2dlci5kZWJ1ZyhgZmV0Y2hpbmcgcHVibGljIGtleSBmcm9tOiAke3RoaXMudmVyaWZ5VXJsVjN9YCk7Y29uc3QgaT10aGlzLnN0YXJ0QWJvcnRUaW1lcihQZSksbj1hd2FpdCBmZXRjaChgJHt0aGlzLnZlcmlmeVVybFYzfS9wdWJsaWMta2V5YCx7c2lnbmFsOnRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pO3JldHVybiBjbGVhclRpbWVvdXQoaSksYXdhaXQgbi5qc29uKCl9Y2F0Y2goaSl7dGhpcy5sb2dnZXIud2FybihpKX19KSx3KHRoaXMsXCJwZXJzaXN0UHVibGljS2V5XCIsYXN5bmMgaT0+e3RoaXMubG9nZ2VyLmRlYnVnKFwicGVyc2lzdGluZyBwdWJsaWMga2V5IHRvIGxvY2FsIHN0b3JhZ2VcIixpKSxhd2FpdCB0aGlzLnN0b3JlLnNldEl0ZW0odGhpcy5zdG9yZUtleSxpKSx0aGlzLnB1YmxpY0tleT1pfSksdyh0aGlzLFwicmVtb3ZlUHVibGljS2V5XCIsYXN5bmMoKT0+e3RoaXMubG9nZ2VyLmRlYnVnKFwicmVtb3ZpbmcgdmVyaWZ5IHYyIHB1YmxpYyBrZXkgZnJvbSBzdG9yYWdlXCIpLGF3YWl0IHRoaXMuc3RvcmUucmVtb3ZlSXRlbSh0aGlzLnN0b3JlS2V5KSx0aGlzLnB1YmxpY0tleT12b2lkIDB9KSx3KHRoaXMsXCJpc1ZhbGlkSnd0QXR0ZXN0YXRpb25cIixhc3luYyBpPT57Y29uc3Qgbj1hd2FpdCB0aGlzLmdldFB1YmxpY0tleSgpO3RyeXtpZihuKXJldHVybiB0aGlzLnZhbGlkYXRlQXR0ZXN0YXRpb24oaSxuKX1jYXRjaChhKXt0aGlzLmxvZ2dlci5lcnJvcihhKSx0aGlzLmxvZ2dlci53YXJuKFwiZXJyb3IgdmFsaWRhdGluZyBhdHRlc3RhdGlvblwiKX1jb25zdCBvPWF3YWl0IHRoaXMuZmV0Y2hBbmRQZXJzaXN0UHVibGljS2V5KCk7dHJ5e2lmKG8pcmV0dXJuIHRoaXMudmFsaWRhdGVBdHRlc3RhdGlvbihpLG8pfWNhdGNoKGEpe3RoaXMubG9nZ2VyLmVycm9yKGEpLHRoaXMubG9nZ2VyLndhcm4oXCJlcnJvciB2YWxpZGF0aW5nIGF0dGVzdGF0aW9uXCIpfX0pLHcodGhpcyxcImdldFB1YmxpY0tleVwiLGFzeW5jKCk9PnRoaXMucHVibGljS2V5P3RoaXMucHVibGljS2V5OmF3YWl0IHRoaXMuZmV0Y2hBbmRQZXJzaXN0UHVibGljS2V5KCkpLHcodGhpcyxcImZldGNoQW5kUGVyc2lzdFB1YmxpY0tleVwiLGFzeW5jKCk9PntpZih0aGlzLmZldGNoUHJvbWlzZSlyZXR1cm4gYXdhaXQgdGhpcy5mZXRjaFByb21pc2UsdGhpcy5wdWJsaWNLZXk7dGhpcy5mZXRjaFByb21pc2U9bmV3IFByb21pc2UoYXN5bmMgbj0+e2NvbnN0IG89YXdhaXQgdGhpcy5mZXRjaFB1YmxpY0tleSgpO28mJihhd2FpdCB0aGlzLnBlcnNpc3RQdWJsaWNLZXkobyksbihvKSl9KTtjb25zdCBpPWF3YWl0IHRoaXMuZmV0Y2hQcm9taXNlO3JldHVybiB0aGlzLmZldGNoUHJvbWlzZT12b2lkIDAsaX0pLHcodGhpcyxcInZhbGlkYXRlQXR0ZXN0YXRpb25cIiwoaSxuKT0+e2NvbnN0IG89THMoaSxuLnB1YmxpY0tleSksYT17aGFzRXhwaXJlZDpPKG8uZXhwKTxEYXRlLm5vdygpLHBheWxvYWQ6b307aWYoYS5oYXNFeHBpcmVkKXRocm93IHRoaXMubG9nZ2VyLndhcm4oXCJyZXNvbHZlOiBqd3QgYXR0ZXN0YXRpb24gZXhwaXJlZFwiKSxuZXcgRXJyb3IoXCJKV1QgYXR0ZXN0YXRpb24gZXhwaXJlZFwiKTtyZXR1cm57b3JpZ2luOmEucGF5bG9hZC5vcmlnaW4saXNTY2FtOmEucGF5bG9hZC5pc1NjYW0saXNWZXJpZmllZDphLnBheWxvYWQuaXNWZXJpZmllZH19KSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5uYW1lKSx0aGlzLmFib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuaXNEZXZFbnY9eXQoKSx0aGlzLmluaXQoKX1nZXQgc3RvcmVLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vdmVyaWZ5OnB1YmxpYzprZXlcIn1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1zdGFydEFib3J0VGltZXIoZSl7cmV0dXJuIHRoaXMuYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsc2V0VGltZW91dCgoKT0+dGhpcy5hYm9ydENvbnRyb2xsZXIuYWJvcnQoKSxPKGUpKX19dmFyIEtvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxCbz0ocixlLHQpPT5lIGluIHI/S28ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LE1pPShyLGUsdCk9PkJvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgRmkgZXh0ZW5kcyBuc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5wcm9qZWN0SWQ9ZSx0aGlzLmxvZ2dlcj10LE1pKHRoaXMsXCJjb250ZXh0XCIsWHQpLE1pKHRoaXMsXCJyZWdpc3RlckRldmljZVRva2VuXCIsYXN5bmMgcz0+e2NvbnN0e2NsaWVudElkOmksdG9rZW46bixub3RpZmljYXRpb25UeXBlOm8sZW5hYmxlRW5jcnlwdGVkOmE9ITF9PXMsYz1gJHtadH0vJHt0aGlzLnByb2plY3RJZH0vY2xpZW50c2A7YXdhaXQgZmV0Y2goYyx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2NsaWVudF9pZDppLHR5cGU6byx0b2tlbjpuLGFsd2F5c19yYXc6YX0pfSl9KSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5jb250ZXh0KX19dmFyIFZvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxLaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHFvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksR289T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxaZT0ocixlLHQpPT5lIGluIHI/Vm8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LGJlPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlxby5jYWxsKGUsdCkmJlplKHIsdCxlW3RdKTtpZihLaSlmb3IodmFyIHQgb2YgS2koZSkpR28uY2FsbChlLHQpJiZaZShyLHQsZVt0XSk7cmV0dXJuIHJ9LEU9KHIsZSx0KT0+WmUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBCaSBleHRlbmRzIG9ze2NvbnN0cnVjdG9yKGUsdCxzPSEwKXtzdXBlcihlLHQscyksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxFKHRoaXMsXCJjb250ZXh0XCIsZWkpLEUodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSxFKHRoaXMsXCJzdG9yYWdlVmVyc2lvblwiLFF0KSxFKHRoaXMsXCJldmVudHNcIixuZXcgTWFwKSxFKHRoaXMsXCJzaG91bGRQZXJzaXN0XCIsITEpLEUodGhpcyxcImluaXRcIixhc3luYygpPT57aWYoIXl0KCkpdHJ5e2NvbnN0IGk9e2V2ZW50SWQ6YnQoKSx0aW1lc3RhbXA6RGF0ZS5ub3coKSxkb21haW46dGhpcy5nZXRBcHBEb21haW4oKSxwcm9wczp7ZXZlbnQ6XCJJTklUXCIsdHlwZTpcIlwiLHByb3BlcnRpZXM6e2NsaWVudF9pZDphd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmdldENsaWVudElkKCksdXNlcl9hZ2VudDprcyh0aGlzLmNvcmUucmVsYXllci5wcm90b2NvbCx0aGlzLmNvcmUucmVsYXllci52ZXJzaW9uLF9lKX19fTthd2FpdCB0aGlzLnNlbmRFdmVudChbaV0pfWNhdGNoKGkpe3RoaXMubG9nZ2VyLndhcm4oaSl9fSksRSh0aGlzLFwiY3JlYXRlRXZlbnRcIixpPT57Y29uc3R7ZXZlbnQ6bj1cIkVSUk9SXCIsdHlwZTpvPVwiXCIscHJvcGVydGllczp7dG9waWM6YSx0cmFjZTpjfX09aSxoPWJ0KCksdT10aGlzLmNvcmUucHJvamVjdElkfHxcIlwiLGQ9RGF0ZS5ub3coKSxnPWJlKHtldmVudElkOmgsdGltZXN0YW1wOmQscHJvcHM6e2V2ZW50Om4sdHlwZTpvLHByb3BlcnRpZXM6e3RvcGljOmEsdHJhY2U6Y319LGJ1bmRsZUlkOnUsZG9tYWluOnRoaXMuZ2V0QXBwRG9tYWluKCl9LHRoaXMuc2V0TWV0aG9kcyhoKSk7cmV0dXJuIHRoaXMudGVsZW1ldHJ5RW5hYmxlZCYmKHRoaXMuZXZlbnRzLnNldChoLGcpLHRoaXMuc2hvdWxkUGVyc2lzdD0hMCksZ30pLEUodGhpcyxcImdldEV2ZW50XCIsaT0+e2NvbnN0e2V2ZW50SWQ6bix0b3BpYzpvfT1pO2lmKG4pcmV0dXJuIHRoaXMuZXZlbnRzLmdldChuKTtjb25zdCBhPUFycmF5LmZyb20odGhpcy5ldmVudHMudmFsdWVzKCkpLmZpbmQoYz0+Yy5wcm9wcy5wcm9wZXJ0aWVzLnRvcGljPT09byk7aWYoYSlyZXR1cm4gYmUoYmUoe30sYSksdGhpcy5zZXRNZXRob2RzKGEuZXZlbnRJZCkpfSksRSh0aGlzLFwiZGVsZXRlRXZlbnRcIixpPT57Y29uc3R7ZXZlbnRJZDpufT1pO3RoaXMuZXZlbnRzLmRlbGV0ZShuKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITB9KSxFKHRoaXMsXCJzZXRFdmVudExpc3RlbmVyc1wiLCgpPT57dGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihuZS5wdWxzZSxhc3luYygpPT57dGhpcy5zaG91bGRQZXJzaXN0JiZhd2FpdCB0aGlzLnBlcnNpc3QoKSx0aGlzLmV2ZW50cy5mb3JFYWNoKGk9PntpdChEYXRlLm5vdygpKS1pdChpLnRpbWVzdGFtcCk+dGkmJih0aGlzLmV2ZW50cy5kZWxldGUoaS5ldmVudElkKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApfSl9KX0pLEUodGhpcyxcInNldE1ldGhvZHNcIixpPT4oe2FkZFRyYWNlOm49PnRoaXMuYWRkVHJhY2UoaSxuKSxzZXRFcnJvcjpuPT50aGlzLnNldEVycm9yKGksbil9KSksRSh0aGlzLFwiYWRkVHJhY2VcIiwoaSxuKT0+e2NvbnN0IG89dGhpcy5ldmVudHMuZ2V0KGkpO28mJihvLnByb3BzLnByb3BlcnRpZXMudHJhY2UucHVzaChuKSx0aGlzLmV2ZW50cy5zZXQoaSxvKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApfSksRSh0aGlzLFwic2V0RXJyb3JcIiwoaSxuKT0+e2NvbnN0IG89dGhpcy5ldmVudHMuZ2V0KGkpO28mJihvLnByb3BzLnR5cGU9bixvLnRpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuZXZlbnRzLnNldChpLG8pLHRoaXMuc2hvdWxkUGVyc2lzdD0hMCl9KSxFKHRoaXMsXCJwZXJzaXN0XCIsYXN5bmMoKT0+e2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LEFycmF5LmZyb20odGhpcy5ldmVudHMudmFsdWVzKCkpKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITF9KSxFKHRoaXMsXCJyZXN0b3JlXCIsYXN5bmMoKT0+e3RyeXtjb25zdCBpPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KXx8W107aWYoIWkubGVuZ3RoKXJldHVybjtpLmZvckVhY2gobj0+e3RoaXMuZXZlbnRzLnNldChuLmV2ZW50SWQsYmUoYmUoe30sbiksdGhpcy5zZXRNZXRob2RzKG4uZXZlbnRJZCkpKX0pfWNhdGNoKGkpe3RoaXMubG9nZ2VyLndhcm4oaSl9fSksRSh0aGlzLFwic3VibWl0XCIsYXN5bmMoKT0+e2lmKCF0aGlzLnRlbGVtZXRyeUVuYWJsZWR8fHRoaXMuZXZlbnRzLnNpemU9PT0wKXJldHVybjtjb25zdCBpPVtdO2Zvcihjb25zdFtuLG9db2YgdGhpcy5ldmVudHMpby5wcm9wcy50eXBlJiZpLnB1c2gobyk7aWYoaS5sZW5ndGghPT0wKXRyeXtpZigoYXdhaXQgdGhpcy5zZW5kRXZlbnQoaSkpLm9rKWZvcihjb25zdCBuIG9mIGkpdGhpcy5ldmVudHMuZGVsZXRlKG4uZXZlbnRJZCksdGhpcy5zaG91bGRQZXJzaXN0PSEwfWNhdGNoKG4pe3RoaXMubG9nZ2VyLndhcm4obil9fSksRSh0aGlzLFwic2VuZEV2ZW50XCIsYXN5bmMgaT0+e2NvbnN0IG49dGhpcy5nZXRBcHBEb21haW4oKT9cIlwiOlwiJnNwPWRlc2t0b3BcIjtyZXR1cm4gYXdhaXQgZmV0Y2goYCR7aWl9P3Byb2plY3RJZD0ke3RoaXMuY29yZS5wcm9qZWN0SWR9JnN0PWV2ZW50c19zZGsmc3Y9anMtJHtfZX0ke259YCx7bWV0aG9kOlwiUE9TVFwiLGJvZHk6SlNPTi5zdHJpbmdpZnkoaSl9KX0pLEUodGhpcyxcImdldEFwcERvbWFpblwiLCgpPT5qcygpLnVybCksdGhpcy5sb2dnZXI9Tih0LHRoaXMuY29udGV4dCksdGhpcy50ZWxlbWV0cnlFbmFibGVkPXMscz90aGlzLnJlc3RvcmUoKS50aGVuKGFzeW5jKCk9Pnthd2FpdCB0aGlzLnN1Ym1pdCgpLHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKX0pOnRoaXMucGVyc2lzdCgpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnN0b3JhZ2VWZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLmNvbnRleHR9fXZhciBXbz1PYmplY3QuZGVmaW5lUHJvcGVydHksVmk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxIbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFlvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsUWU9KHIsZSx0KT0+ZSBpbiByP1dvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxxaT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpSG8uY2FsbChlLHQpJiZRZShyLHQsZVt0XSk7aWYoVmkpZm9yKHZhciB0IG9mIFZpKGUpKVlvLmNhbGwoZSx0KSYmUWUocix0LGVbdF0pO3JldHVybiByfSx2PShyLGUsdCk9PlFlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgVGUgZXh0ZW5kcyBhc3tjb25zdHJ1Y3RvcihlKXt2YXIgdDtzdXBlcihlKSx2KHRoaXMsXCJwcm90b2NvbFwiLHplKSx2KHRoaXMsXCJ2ZXJzaW9uXCIsTGUpLHYodGhpcyxcIm5hbWVcIixoZSksdih0aGlzLFwicmVsYXlVcmxcIiksdih0aGlzLFwicHJvamVjdElkXCIpLHYodGhpcyxcImN1c3RvbVN0b3JhZ2VQcmVmaXhcIiksdih0aGlzLFwiZXZlbnRzXCIsbmV3IGVlKSx2KHRoaXMsXCJsb2dnZXJcIiksdih0aGlzLFwiaGVhcnRiZWF0XCIpLHYodGhpcyxcInJlbGF5ZXJcIiksdih0aGlzLFwiY3J5cHRvXCIpLHYodGhpcyxcInN0b3JhZ2VcIiksdih0aGlzLFwiaGlzdG9yeVwiKSx2KHRoaXMsXCJleHBpcmVyXCIpLHYodGhpcyxcInBhaXJpbmdcIiksdih0aGlzLFwidmVyaWZ5XCIpLHYodGhpcyxcImVjaG9DbGllbnRcIiksdih0aGlzLFwibGlua01vZGVTdXBwb3J0ZWRBcHBzXCIpLHYodGhpcyxcImV2ZW50Q2xpZW50XCIpLHYodGhpcyxcImluaXRpYWxpemVkXCIsITEpLHYodGhpcyxcImxvZ0NodW5rQ29udHJvbGxlclwiKSx2KHRoaXMsXCJvblwiLChvLGEpPT50aGlzLmV2ZW50cy5vbihvLGEpKSx2KHRoaXMsXCJvbmNlXCIsKG8sYSk9PnRoaXMuZXZlbnRzLm9uY2UobyxhKSksdih0aGlzLFwib2ZmXCIsKG8sYSk9PnRoaXMuZXZlbnRzLm9mZihvLGEpKSx2KHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChvLGEpPT50aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihvLGEpKSx2KHRoaXMsXCJkaXNwYXRjaEVudmVsb3BlXCIsKHt0b3BpYzpvLG1lc3NhZ2U6YSxzZXNzaW9uRXhpc3RzOmN9KT0+e2lmKCFvfHwhYSlyZXR1cm47Y29uc3QgaD17dG9waWM6byxtZXNzYWdlOmEscHVibGlzaGVkQXQ6RGF0ZS5ub3coKSx0cmFuc3BvcnRUeXBlOlEubGlua19tb2RlfTt0aGlzLnJlbGF5ZXIub25MaW5rTWVzc2FnZUV2ZW50KGgse3Nlc3Npb25FeGlzdHM6Y30pfSksdGhpcy5wcm9qZWN0SWQ9ZT8ucHJvamVjdElkLHRoaXMucmVsYXlVcmw9ZT8ucmVsYXlVcmx8fFVlLHRoaXMuY3VzdG9tU3RvcmFnZVByZWZpeD1lIT1udWxsJiZlLmN1c3RvbVN0b3JhZ2VQcmVmaXg/YDoke2UuY3VzdG9tU3RvcmFnZVByZWZpeH1gOlwiXCI7Y29uc3Qgcz1ldCh7bGV2ZWw6dHlwZW9mIGU/LmxvZ2dlcj09XCJzdHJpbmdcIiYmZS5sb2dnZXI/ZS5sb2dnZXI6RXQubG9nZ2VyLG5hbWU6aGV9KSx7bG9nZ2VyOmksY2h1bmtMb2dnZXJDb250cm9sbGVyOm59PUppKHtvcHRzOnMsbWF4U2l6ZUluQnl0ZXM6ZT8ubWF4TG9nQmxvYlNpemVJbkJ5dGVzLGxvZ2dlck92ZXJyaWRlOmU/LmxvZ2dlcn0pO3RoaXMubG9nQ2h1bmtDb250cm9sbGVyPW4sKHQ9dGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpIT1udWxsJiZ0LmRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXImJih3aW5kb3cuZG93bmxvYWRMb2dzQmxvYkluQnJvd3Nlcj1hc3luYygpPT57dmFyIG8sYTsobz10aGlzLmxvZ0NodW5rQ29udHJvbGxlcikhPW51bGwmJm8uZG93bmxvYWRMb2dzQmxvYkluQnJvd3NlciYmKChhPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKT09bnVsbHx8YS5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyKHtjbGllbnRJZDphd2FpdCB0aGlzLmNyeXB0by5nZXRDbGllbnRJZCgpfSkpfSksdGhpcy5sb2dnZXI9TihpLHRoaXMubmFtZSksdGhpcy5oZWFydGJlYXQ9bmV3IFdpLHRoaXMuY3J5cHRvPW5ldyB2aSh0aGlzLHRoaXMubG9nZ2VyLGU/LmtleWNoYWluKSx0aGlzLmhpc3Rvcnk9bmV3IGtpKHRoaXMsdGhpcy5sb2dnZXIpLHRoaXMuZXhwaXJlcj1uZXcgamkodGhpcyx0aGlzLmxvZ2dlciksdGhpcy5zdG9yYWdlPWUhPW51bGwmJmUuc3RvcmFnZT9lLnN0b3JhZ2U6bmV3IEhpKHFpKHFpKHt9LEl0KSxlPy5zdG9yYWdlT3B0aW9ucykpLHRoaXMucmVsYXllcj1uZXcgU2koe2NvcmU6dGhpcyxsb2dnZXI6dGhpcy5sb2dnZXIscmVsYXlVcmw6dGhpcy5yZWxheVVybCxwcm9qZWN0SWQ6dGhpcy5wcm9qZWN0SWR9KSx0aGlzLnBhaXJpbmc9bmV3IExpKHRoaXMsdGhpcy5sb2dnZXIpLHRoaXMudmVyaWZ5PW5ldyBVaSh0aGlzLHRoaXMubG9nZ2VyLHRoaXMuc3RvcmFnZSksdGhpcy5lY2hvQ2xpZW50PW5ldyBGaSh0aGlzLnByb2plY3RJZHx8XCJcIix0aGlzLmxvZ2dlciksdGhpcy5saW5rTW9kZVN1cHBvcnRlZEFwcHM9W10sdGhpcy5ldmVudENsaWVudD1uZXcgQmkodGhpcyx0aGlzLmxvZ2dlcixlPy50ZWxlbWV0cnlFbmFibGVkKX1zdGF0aWMgYXN5bmMgaW5pdChlKXtjb25zdCB0PW5ldyBUZShlKTthd2FpdCB0LmluaXRpYWxpemUoKTtjb25zdCBzPWF3YWl0IHQuY3J5cHRvLmdldENsaWVudElkKCk7cmV0dXJuIGF3YWl0IHQuc3RvcmFnZS5zZXRJdGVtKGp0LHMpLHR9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9YXN5bmMgc3RhcnQoKXt0aGlzLmluaXRpYWxpemVkfHxhd2FpdCB0aGlzLmluaXRpYWxpemUoKX1hc3luYyBnZXRMb2dzQmxvYigpe3ZhciBlO3JldHVybihlPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKT09bnVsbD92b2lkIDA6ZS5sb2dzVG9CbG9iKHtjbGllbnRJZDphd2FpdCB0aGlzLmNyeXB0by5nZXRDbGllbnRJZCgpfSl9YXN5bmMgYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoZSl7dGhpcy5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXMoZSl8fCh0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5wdXNoKGUpLGF3YWl0IHRoaXMuc3RvcmFnZS5zZXRJdGVtKE1lLHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzKSl9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY3J5cHRvLmluaXQoKSxhd2FpdCB0aGlzLmhpc3RvcnkuaW5pdCgpLGF3YWl0IHRoaXMuZXhwaXJlci5pbml0KCksYXdhaXQgdGhpcy5yZWxheWVyLmluaXQoKSxhd2FpdCB0aGlzLmhlYXJ0YmVhdC5pbml0KCksYXdhaXQgdGhpcy5wYWlyaW5nLmluaXQoKSx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1hd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShNZSl8fFtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5sb2dnZXIuaW5mbyhcIkNvcmUgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKX1jYXRjaChlKXt0aHJvdyB0aGlzLmxvZ2dlci53YXJuKGBDb3JlIEluaXRpYWxpemF0aW9uIEZhaWx1cmUgYXQgZXBvY2ggJHtEYXRlLm5vdygpfWAsZSksdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKSxlfX19Y29uc3QgSm89VGU7ZXhwb3J0e2hlIGFzIENPUkVfQ09OVEVYVCxFdCBhcyBDT1JFX0RFRkFVTFQsemUgYXMgQ09SRV9QUk9UT0NPTCxJdCBhcyBDT1JFX1NUT1JBR0VfT1BUSU9OUyxCIGFzIENPUkVfU1RPUkFHRV9QUkVGSVgsTGUgYXMgQ09SRV9WRVJTSU9OLGtlIGFzIENSWVBUT19DTElFTlRfU0VFRCxUdCBhcyBDUllQVE9fQ09OVEVYVCxDdCBhcyBDUllQVE9fSldUX1RUTCxKbyBhcyBDb3JlLHZpIGFzIENyeXB0byxYdCBhcyBFQ0hPX0NPTlRFWFQsWnQgYXMgRUNIT19VUkwsaWkgYXMgRVZFTlRTX0NMSUVOVF9BUElfVVJMLHRpIGFzIEVWRU5UU19TVE9SQUdFX0NMRUFOVVBfSU5URVJWQUwsZWkgYXMgRVZFTlRTX1NUT1JBR0VfQ09OVEVYVCxRdCBhcyBFVkVOVFNfU1RPUkFHRV9WRVJTSU9OLGlyIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfRVJST1JTLHRyIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfVFJBQ0VTLFpzIGFzIEVWRU5UX0NMSUVOVF9DT05URVhULFkgYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfRVJST1JTLEcgYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfVFJBQ0VTLGVyIGFzIEVWRU5UX0NMSUVOVF9TRVNTSU9OX0VSUk9SUyxRcyBhcyBFVkVOVF9DTElFTlRfU0VTU0lPTl9UUkFDRVMscXQgYXMgRVhQSVJFUl9DT05URVhULEpzIGFzIEVYUElSRVJfREVGQVVMVF9UVEwsRiBhcyBFWFBJUkVSX0VWRU5UUyxHdCBhcyBFWFBJUkVSX1NUT1JBR0VfVkVSU0lPTixGaSBhcyBFY2hvQ2xpZW50LEJpIGFzIEV2ZW50Q2xpZW50LGppIGFzIEV4cGlyZXIsQnQgYXMgSElTVE9SWV9DT05URVhULE0gYXMgSElTVE9SWV9FVkVOVFMsVnQgYXMgSElTVE9SWV9TVE9SQUdFX1ZFUlNJT04sa2kgYXMgSnNvblJwY0hpc3RvcnksUHQgYXMgS0VZQ0hBSU5fQ09OVEVYVCxTdCBhcyBLRVlDSEFJTl9TVE9SQUdFX1ZFUlNJT04sRGkgYXMgS2V5Q2hhaW4sUnQgYXMgTUVTU0FHRVNfQ09OVEVYVCxPdCBhcyBNRVNTQUdFU19TVE9SQUdFX1ZFUlNJT04sbGUgYXMgTUVTU0FHRV9ESVJFQ1RJT04sX2kgYXMgTWVzc2FnZVRyYWNrZXIsRnQgYXMgUEFJUklOR19DT05URVhULFlzIGFzIFBBSVJJTkdfREVGQVVMVF9UVEwsc2UgYXMgUEFJUklOR19FVkVOVFMsaWUgYXMgUEFJUklOR19SUENfT1BUUyxLdCBhcyBQQUlSSU5HX1NUT1JBR0VfVkVSU0lPTixIcyBhcyBQRU5ESU5HX1NVQl9SRVNPTFVUSU9OX1RJTUVPVVQsQXQgYXMgUFVCTElTSEVSX0NPTlRFWFQsamUgYXMgUFVCTElTSEVSX0RFRkFVTFRfVFRMLExpIGFzIFBhaXJpbmcsJHQgYXMgUkVMQVlFUl9DT05URVhULE50IGFzIFJFTEFZRVJfREVGQVVMVF9MT0dHRVIseHQgYXMgUkVMQVlFUl9ERUZBVUxUX1BST1RPQ09MLFVlIGFzIFJFTEFZRVJfREVGQVVMVF9SRUxBWV9VUkwsQyBhcyBSRUxBWUVSX0VWRU5UUyxMIGFzIFJFTEFZRVJfUFJPVklERVJfRVZFTlRTLEx0IGFzIFJFTEFZRVJfUkVDT05ORUNUX1RJTUVPVVQsX2UgYXMgUkVMQVlFUl9TREtfVkVSU0lPTixxcyBhcyBSRUxBWUVSX1NUT1JBR0VfT1BUSU9OUyx6dCBhcyBSRUxBWUVSX1NVQlNDUklCRVJfU1VGRklYLEdzIGFzIFJFTEFZRVJfVFJBTlNQT1JUX0NVVE9GRixTaSBhcyBSZWxheWVyLGt0IGFzIFNUT1JFX1NUT1JBR0VfVkVSU0lPTixVdCBhcyBTVUJTQ1JJQkVSX0NPTlRFWFQsV3MgYXMgU1VCU0NSSUJFUl9ERUZBVUxUX1RUTCwkIGFzIFNVQlNDUklCRVJfRVZFTlRTLE10IGFzIFNVQlNDUklCRVJfU1RPUkFHRV9WRVJTSU9OLHppIGFzIFN0b3JlLFRpIGFzIFN1YnNjcmliZXIsUSBhcyBUUkFOU1BPUlRfVFlQRVMsSnQgYXMgVFJVU1RFRF9WRVJJRllfVVJMUyxXdCBhcyBWRVJJRllfQ09OVEVYVCx1ZSBhcyBWRVJJRllfU0VSVkVSLFl0IGFzIFZFUklGWV9TRVJWRVJfVjMsVWkgYXMgVmVyaWZ5LGp0IGFzIFdBTExFVENPTk5FQ1RfQ0xJRU5UX0lELE1lIGFzIFdBTExFVENPTk5FQ1RfTElOS19NT0RFX0FQUFMsVGUgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/core/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeyValueStorage: () => (/* binding */ h),\n/* harmony export */   \"default\": () => (/* binding */ h)\n/* harmony export */ });\n/* harmony import */ var unstorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! unstorage */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/unstorage/dist/index.mjs\");\n/* harmony import */ var idb_keyval__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! idb-keyval */ \"(ssr)/./node_modules/idb-keyval/dist/index.js\");\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\nfunction C(i){return i}const x=\"idb-keyval\";var z=(i={})=>{const t=i.base&&i.base.length>0?`${i.base}:`:\"\",e=s=>t+s;let n;return i.dbName&&i.storeName&&(n=(0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.createStore)(i.dbName,i.storeName)),{name:x,options:i,async hasItem(s){return!(typeof await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.get)(e(s),n)>\"u\")},async getItem(s){return await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.get)(e(s),n)??null},setItem(s,a){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.set)(e(s),a,n)},removeItem(s){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.del)(e(s),n)},getKeys(){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.keys)(n)},clear(){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.clear)(n)}}};const D=\"WALLET_CONNECT_V2_INDEXED_DB\",E=\"keyvaluestorage\";class _{constructor(){this.indexedDb=(0,unstorage__WEBPACK_IMPORTED_MODULE_2__.createStorage)({driver:z({dbName:D,storeName:E})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const e=await this.indexedDb.getItem(t);if(e!==null)return e}async setItem(t,e){await this.indexedDb.setItem(t,(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonStringify)(e))}async removeItem(t){await this.indexedDb.removeItem(t)}}var l=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{},c={exports:{}};(function(){let i;function t(){}i=t,i.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},i.prototype.setItem=function(e,n){this[e]=String(n)},i.prototype.removeItem=function(e){delete this[e]},i.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(n){e[n]=void 0,delete e[n]})},i.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},i.prototype.__defineGetter__(\"length\",function(){return Object.keys(this).length}),typeof l<\"u\"&&l.localStorage?c.exports=l.localStorage:typeof window<\"u\"&&window.localStorage?c.exports=window.localStorage:c.exports=new t})();function k(i){var t;return[i[0],(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonParse)((t=i[1])!=null?t:\"\")]}class K{constructor(){this.localStorage=c.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k)}async getItem(t){const e=this.localStorage.getItem(t);if(e!==null)return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonParse)(e)}async setItem(t,e){this.localStorage.setItem(t,(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonStringify)(e))}async removeItem(t){this.localStorage.removeItem(t)}}const N=\"wc_storage_version\",y=1,O=async(i,t,e)=>{const n=N,s=await t.getItem(n);if(s&&s>=y){e(t);return}const a=await i.getKeys();if(!a.length){e(t);return}const m=[];for(;a.length;){const r=a.shift();if(!r)continue;const o=r.toLowerCase();if(o.includes(\"wc@\")||o.includes(\"walletconnect\")||o.includes(\"wc_\")||o.includes(\"wallet_connect\")){const f=await i.getItem(r);await t.setItem(r,f),m.push(r)}}await t.setItem(n,y),e(t),j(i,m)},j=async(i,t)=>{t.length&&t.forEach(async e=>{await i.removeItem(e)})};class h{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const t=new K;this.storage=t;try{const e=new _;O(t,e,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const e=setInterval(()=>{this.initialized&&(clearInterval(e),t())},20)})}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9rZXl2YWx1ZXN0b3JhZ2UvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFtTixjQUFjLFNBQVMscUJBQXFCLFdBQVcsSUFBSSxtQ0FBbUMsT0FBTyxlQUFlLE1BQU0saUNBQWlDLHVEQUFDLHlCQUF5QixrQ0FBa0MscUJBQXFCLCtDQUFDLGNBQWMsa0JBQWtCLGFBQWEsK0NBQUMsZUFBZSxjQUFjLE9BQU8sK0NBQUMsV0FBVyxlQUFlLE9BQU8sK0NBQUMsU0FBUyxXQUFXLE9BQU8sZ0RBQUMsSUFBSSxTQUFTLE9BQU8saURBQUMsT0FBTywyREFBMkQsUUFBUSxjQUFjLGVBQWUsd0RBQUMsRUFBRSxVQUFVLHFCQUFxQixFQUFFLEVBQUUsZ0JBQWdCLGdDQUFnQyxtQkFBbUIsOEZBQThGLGlCQUFpQix3Q0FBd0MscUJBQXFCLG1CQUFtQiwrQkFBK0IsMkVBQUMsS0FBSyxvQkFBb0Isb0NBQW9DLGdIQUFnSCxJQUFJLFlBQVksWUFBWSxNQUFNLGNBQWMsb0NBQW9DLG1EQUFtRCxtQ0FBbUMsa0JBQWtCLG9DQUFvQyxlQUFlLDhCQUE4QixhQUFhLG1DQUFtQyx3QkFBd0IsRUFBRSw2QkFBNkIsbUNBQW1DLGtEQUFrRCxnQ0FBZ0MsNklBQTZJLElBQUksY0FBYyxNQUFNLFlBQVksdUVBQUMsdUJBQXVCLFFBQVEsY0FBYyw0QkFBNEIsZ0JBQWdCLHNDQUFzQyxtQkFBbUIsZ0RBQWdELGlCQUFpQixxQ0FBcUMsbUJBQW1CLHVFQUFDLElBQUksbUJBQW1CLDRCQUE0QiwyRUFBQyxLQUFLLG9CQUFvQixpQ0FBaUMsa0RBQWtELCtCQUErQixZQUFZLEtBQUssT0FBTywwQkFBMEIsY0FBYyxLQUFLLE9BQU8sV0FBVyxLQUFLLFNBQVMsRUFBRSxrQkFBa0IsZUFBZSx3QkFBd0Isb0dBQW9HLDJCQUEyQixnQ0FBZ0MsaUNBQWlDLGdCQUFnQiw4QkFBOEIsc0JBQXNCLEdBQUcsUUFBUSxjQUFjLDRDQUE0QyxvQ0FBb0MsY0FBYyxlQUFlLElBQUksY0FBYywyQkFBMkIsTUFBTSxxQkFBcUIsZ0JBQWdCLHNEQUFzRCxtQkFBbUIseURBQXlELGlCQUFpQix1REFBdUQsbUJBQW1CLHlEQUF5RCxvQkFBb0IsMERBQTBELG1CQUFtQix3Q0FBd0MseUJBQXlCLHlDQUF5QyxLQUFLLEdBQTZDO0FBQzc3RyIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2tleXZhbHVlc3RvcmFnZS9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtjcmVhdGVTdG9yYWdlIGFzIHd9ZnJvbVwidW5zdG9yYWdlXCI7aW1wb3J0e2NyZWF0ZVN0b3JlIGFzIEksZ2V0IGFzIHUsc2V0IGFzIHAsZGVsIGFzIGIsa2V5cyBhcyB2LGNsZWFyIGFzIFN9ZnJvbVwiaWRiLWtleXZhbFwiO2ltcG9ydHtzYWZlSnNvblN0cmluZ2lmeSBhcyBnLHNhZmVKc29uUGFyc2UgYXMgZH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9zYWZlLWpzb25cIjtmdW5jdGlvbiBDKGkpe3JldHVybiBpfWNvbnN0IHg9XCJpZGIta2V5dmFsXCI7dmFyIHo9KGk9e30pPT57Y29uc3QgdD1pLmJhc2UmJmkuYmFzZS5sZW5ndGg+MD9gJHtpLmJhc2V9OmA6XCJcIixlPXM9PnQrcztsZXQgbjtyZXR1cm4gaS5kYk5hbWUmJmkuc3RvcmVOYW1lJiYobj1JKGkuZGJOYW1lLGkuc3RvcmVOYW1lKSkse25hbWU6eCxvcHRpb25zOmksYXN5bmMgaGFzSXRlbShzKXtyZXR1cm4hKHR5cGVvZiBhd2FpdCB1KGUocyksbik+XCJ1XCIpfSxhc3luYyBnZXRJdGVtKHMpe3JldHVybiBhd2FpdCB1KGUocyksbik/P251bGx9LHNldEl0ZW0ocyxhKXtyZXR1cm4gcChlKHMpLGEsbil9LHJlbW92ZUl0ZW0ocyl7cmV0dXJuIGIoZShzKSxuKX0sZ2V0S2V5cygpe3JldHVybiB2KG4pfSxjbGVhcigpe3JldHVybiBTKG4pfX19O2NvbnN0IEQ9XCJXQUxMRVRfQ09OTkVDVF9WMl9JTkRFWEVEX0RCXCIsRT1cImtleXZhbHVlc3RvcmFnZVwiO2NsYXNzIF97Y29uc3RydWN0b3IoKXt0aGlzLmluZGV4ZWREYj13KHtkcml2ZXI6eih7ZGJOYW1lOkQsc3RvcmVOYW1lOkV9KX0pfWFzeW5jIGdldEtleXMoKXtyZXR1cm4gdGhpcy5pbmRleGVkRGIuZ2V0S2V5cygpfWFzeW5jIGdldEVudHJpZXMoKXtyZXR1cm4oYXdhaXQgdGhpcy5pbmRleGVkRGIuZ2V0SXRlbXMoYXdhaXQgdGhpcy5pbmRleGVkRGIuZ2V0S2V5cygpKSkubWFwKHQ9Plt0LmtleSx0LnZhbHVlXSl9YXN5bmMgZ2V0SXRlbSh0KXtjb25zdCBlPWF3YWl0IHRoaXMuaW5kZXhlZERiLmdldEl0ZW0odCk7aWYoZSE9PW51bGwpcmV0dXJuIGV9YXN5bmMgc2V0SXRlbSh0LGUpe2F3YWl0IHRoaXMuaW5kZXhlZERiLnNldEl0ZW0odCxnKGUpKX1hc3luYyByZW1vdmVJdGVtKHQpe2F3YWl0IHRoaXMuaW5kZXhlZERiLnJlbW92ZUl0ZW0odCl9fXZhciBsPXR5cGVvZiBnbG9iYWxUaGlzPFwidVwiP2dsb2JhbFRoaXM6dHlwZW9mIHdpbmRvdzxcInVcIj93aW5kb3c6dHlwZW9mIGdsb2JhbDxcInVcIj9nbG9iYWw6dHlwZW9mIHNlbGY8XCJ1XCI/c2VsZjp7fSxjPXtleHBvcnRzOnt9fTsoZnVuY3Rpb24oKXtsZXQgaTtmdW5jdGlvbiB0KCl7fWk9dCxpLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhc093blByb3BlcnR5KGUpP1N0cmluZyh0aGlzW2VdKTpudWxsfSxpLnByb3RvdHlwZS5zZXRJdGVtPWZ1bmN0aW9uKGUsbil7dGhpc1tlXT1TdHJpbmcobil9LGkucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXNbZV19LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzO09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24obil7ZVtuXT12b2lkIDAsZGVsZXRlIGVbbl19KX0saS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKGUpe3JldHVybiBlPWV8fDAsT2JqZWN0LmtleXModGhpcylbZV19LGkucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oXCJsZW5ndGhcIixmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzKS5sZW5ndGh9KSx0eXBlb2YgbDxcInVcIiYmbC5sb2NhbFN0b3JhZ2U/Yy5leHBvcnRzPWwubG9jYWxTdG9yYWdlOnR5cGVvZiB3aW5kb3c8XCJ1XCImJndpbmRvdy5sb2NhbFN0b3JhZ2U/Yy5leHBvcnRzPXdpbmRvdy5sb2NhbFN0b3JhZ2U6Yy5leHBvcnRzPW5ldyB0fSkoKTtmdW5jdGlvbiBrKGkpe3ZhciB0O3JldHVybltpWzBdLGQoKHQ9aVsxXSkhPW51bGw/dDpcIlwiKV19Y2xhc3MgS3tjb25zdHJ1Y3Rvcigpe3RoaXMubG9jYWxTdG9yYWdlPWMuZXhwb3J0c31hc3luYyBnZXRLZXlzKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubG9jYWxTdG9yYWdlKX1hc3luYyBnZXRFbnRyaWVzKCl7cmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMubG9jYWxTdG9yYWdlKS5tYXAoayl9YXN5bmMgZ2V0SXRlbSh0KXtjb25zdCBlPXRoaXMubG9jYWxTdG9yYWdlLmdldEl0ZW0odCk7aWYoZSE9PW51bGwpcmV0dXJuIGQoZSl9YXN5bmMgc2V0SXRlbSh0LGUpe3RoaXMubG9jYWxTdG9yYWdlLnNldEl0ZW0odCxnKGUpKX1hc3luYyByZW1vdmVJdGVtKHQpe3RoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCl9fWNvbnN0IE49XCJ3Y19zdG9yYWdlX3ZlcnNpb25cIix5PTEsTz1hc3luYyhpLHQsZSk9Pntjb25zdCBuPU4scz1hd2FpdCB0LmdldEl0ZW0obik7aWYocyYmcz49eSl7ZSh0KTtyZXR1cm59Y29uc3QgYT1hd2FpdCBpLmdldEtleXMoKTtpZighYS5sZW5ndGgpe2UodCk7cmV0dXJufWNvbnN0IG09W107Zm9yKDthLmxlbmd0aDspe2NvbnN0IHI9YS5zaGlmdCgpO2lmKCFyKWNvbnRpbnVlO2NvbnN0IG89ci50b0xvd2VyQ2FzZSgpO2lmKG8uaW5jbHVkZXMoXCJ3Y0BcIil8fG8uaW5jbHVkZXMoXCJ3YWxsZXRjb25uZWN0XCIpfHxvLmluY2x1ZGVzKFwid2NfXCIpfHxvLmluY2x1ZGVzKFwid2FsbGV0X2Nvbm5lY3RcIikpe2NvbnN0IGY9YXdhaXQgaS5nZXRJdGVtKHIpO2F3YWl0IHQuc2V0SXRlbShyLGYpLG0ucHVzaChyKX19YXdhaXQgdC5zZXRJdGVtKG4seSksZSh0KSxqKGksbSl9LGo9YXN5bmMoaSx0KT0+e3QubGVuZ3RoJiZ0LmZvckVhY2goYXN5bmMgZT0+e2F3YWl0IGkucmVtb3ZlSXRlbShlKX0pfTtjbGFzcyBoe2NvbnN0cnVjdG9yKCl7dGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLnNldEluaXRpYWxpemVkPWU9Pnt0aGlzLnN0b3JhZ2U9ZSx0aGlzLmluaXRpYWxpemVkPSEwfTtjb25zdCB0PW5ldyBLO3RoaXMuc3RvcmFnZT10O3RyeXtjb25zdCBlPW5ldyBfO08odCxlLHRoaXMuc2V0SW5pdGlhbGl6ZWQpfWNhdGNoe3RoaXMuaW5pdGlhbGl6ZWQ9ITB9fWFzeW5jIGdldEtleXMoKXtyZXR1cm4gYXdhaXQgdGhpcy5pbml0aWFsaXplKCksdGhpcy5zdG9yYWdlLmdldEtleXMoKX1hc3luYyBnZXRFbnRyaWVzKCl7cmV0dXJuIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXMuc3RvcmFnZS5nZXRFbnRyaWVzKCl9YXN5bmMgZ2V0SXRlbSh0KXtyZXR1cm4gYXdhaXQgdGhpcy5pbml0aWFsaXplKCksdGhpcy5zdG9yYWdlLmdldEl0ZW0odCl9YXN5bmMgc2V0SXRlbSh0LGUpe3JldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemUoKSx0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0LGUpfWFzeW5jIHJlbW92ZUl0ZW0odCl7cmV0dXJuIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKHQpfWFzeW5jIGluaXRpYWxpemUoKXt0aGlzLmluaXRpYWxpemVkfHxhd2FpdCBuZXcgUHJvbWlzZSh0PT57Y29uc3QgZT1zZXRJbnRlcnZhbCgoKT0+e3RoaXMuaW5pdGlhbGl6ZWQmJihjbGVhckludGVydmFsKGUpLHQoKSl9LDIwKX0pfX1leHBvcnR7aCBhcyBLZXlWYWx1ZVN0b3JhZ2UsaCBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/sign-client/dist/index.es.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/sign-client/dist/index.es.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_CONTEXT: () => (/* binding */ wt),\n/* harmony export */   AUTH_KEYS_CONTEXT: () => (/* binding */ mt),\n/* harmony export */   AUTH_PAIRING_TOPIC_CONTEXT: () => (/* binding */ _t),\n/* harmony export */   AUTH_PROTOCOL: () => (/* binding */ yt),\n/* harmony export */   AUTH_PUBLIC_KEY_NAME: () => (/* binding */ ce),\n/* harmony export */   AUTH_REQUEST_CONTEXT: () => (/* binding */ Et),\n/* harmony export */   AUTH_STORAGE_PREFIX: () => (/* binding */ ae),\n/* harmony export */   AUTH_VERSION: () => (/* binding */ Ss),\n/* harmony export */   ENGINE_CONTEXT: () => (/* binding */ dt),\n/* harmony export */   ENGINE_QUEUE_STATES: () => (/* binding */ $),\n/* harmony export */   ENGINE_RPC_OPTS: () => (/* binding */ N),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ _s),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ ms),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Es),\n/* harmony export */   METHODS_TO_VERIFY: () => (/* binding */ gt),\n/* harmony export */   PROPOSAL_CONTEXT: () => (/* binding */ pt),\n/* harmony export */   PROPOSAL_EXPIRY: () => (/* binding */ fs),\n/* harmony export */   PROPOSAL_EXPIRY_MESSAGE: () => (/* binding */ $e),\n/* harmony export */   REQUEST_CONTEXT: () => (/* binding */ ut),\n/* harmony export */   SESSION_CONTEXT: () => (/* binding */ ht),\n/* harmony export */   SESSION_EXPIRY: () => (/* binding */ J),\n/* harmony export */   SESSION_REQUEST_EXPIRY_BOUNDARIES: () => (/* binding */ _e),\n/* harmony export */   SIGN_CLIENT_CONTEXT: () => (/* binding */ ke),\n/* harmony export */   SIGN_CLIENT_DEFAULT: () => (/* binding */ me),\n/* harmony export */   SIGN_CLIENT_EVENTS: () => (/* binding */ ys),\n/* harmony export */   SIGN_CLIENT_PROTOCOL: () => (/* binding */ De),\n/* harmony export */   SIGN_CLIENT_STORAGE_OPTIONS: () => (/* binding */ ws),\n/* harmony export */   SIGN_CLIENT_STORAGE_PREFIX: () => (/* binding */ we),\n/* harmony export */   SIGN_CLIENT_VERSION: () => (/* binding */ Le),\n/* harmony export */   SessionStore: () => (/* binding */ Ms),\n/* harmony export */   SignClient: () => (/* binding */ $s),\n/* harmony export */   TVF_METHODS: () => (/* binding */ Ue),\n/* harmony export */   WALLETCONNECT_DEEPLINK_CHOICE: () => (/* binding */ Me),\n/* harmony export */   \"default\": () => (/* binding */ Ee)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/core */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/core/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst De=\"wc\",Le=2,ke=\"client\",we=`${De}@${Le}:${ke}:`,me={name:ke,logger:\"error\",controller:!1,relayUrl:\"wss://relay.walletconnect.org\"},ys={session_proposal:\"session_proposal\",session_update:\"session_update\",session_extend:\"session_extend\",session_ping:\"session_ping\",session_delete:\"session_delete\",session_expire:\"session_expire\",session_request:\"session_request\",session_request_sent:\"session_request_sent\",session_event:\"session_event\",proposal_expire:\"proposal_expire\",session_authenticate:\"session_authenticate\",session_request_expire:\"session_request_expire\",session_connect:\"session_connect\"},ws={database:\":memory:\"},Me=\"WALLETCONNECT_DEEPLINK_CHOICE\",ms={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},_s=\"history\",Es=\"0.3\",pt=\"proposal\",fs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.THIRTY_DAYS,$e=\"Proposal expired\",ht=\"session\",J=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.SEVEN_DAYS,dt=\"engine\",N={wc_sessionPropose:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1114},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1119}}},_e={min:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,max:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.SEVEN_DAYS},$={idle:\"IDLE\",active:\"ACTIVE\"},Ue={eth_sendTransaction:{key:\"\"},eth_sendRawTransaction:{key:\"\"},wallet_sendCalls:{key:\"\"},solana_signTransaction:{key:\"signature\"},solana_signAllTransactions:{key:\"transactions\"},solana_signAndSendTransaction:{key:\"signature\"}},ut=\"request\",gt=[\"wc_sessionPropose\",\"wc_sessionRequest\",\"wc_authRequest\",\"wc_sessionAuthenticate\"],yt=\"wc\",Ss=1.5,wt=\"auth\",mt=\"authKeys\",_t=\"pairingTopics\",Et=\"requests\",ae=`${yt}@${1.5}:${wt}:`,ce=`${ae}:PUB_KEY`;var Rs=Object.defineProperty,vs=Object.defineProperties,Is=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,Ts=Object.prototype.hasOwnProperty,qs=Object.prototype.propertyIsEnumerable,Ke=(S,n,e)=>n in S?Rs(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,v=(S,n)=>{for(var e in n||(n={}))Ts.call(n,e)&&Ke(S,e,n[e]);if(ft)for(var e of ft(n))qs.call(n,e)&&Ke(S,e,n[e]);return S},b=(S,n)=>vs(S,Is(n)),c=(S,n,e)=>Ke(S,typeof n!=\"symbol\"?n+\"\":n,e);class Ps extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.IEngine{constructor(n){super(n),c(this,\"name\",dt),c(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_2___default())),c(this,\"initialized\",!1),c(this,\"requestQueue\",{state:$.idle,queue:[]}),c(this,\"sessionRequestQueue\",{state:$.idle,queue:[]}),c(this,\"requestQueueDelay\",_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND),c(this,\"expectedPairingMethodMap\",new Map),c(this,\"recentlyDeletedMap\",new Map),c(this,\"recentlyDeletedLimit\",200),c(this,\"relayMessageCache\",[]),c(this,\"pendingSessions\",new Map),c(this,\"init\",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(N)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(this.requestQueueDelay)))}),c(this,\"connect\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=b(v({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:r,sessionProperties:o,scopedProperties:a,relays:l}=t;let p=s,h,u=!1;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn(\"connect() with existing pairing topic is deprecated and will be removed in the next major release.\"),u=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!u){const{topic:T,uri:U}=await this.client.core.pairing.create();p=T,h=U}if(!p){const{message:T}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`connect() pairing topic: ${p}`);throw new Error(T)}const d=await this.client.core.crypto.generateKeyPair(),w=N.wc_sessionPropose.req.ttl||_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,m=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(w),f=b(v(v({requiredNamespaces:i,optionalNamespaces:r,relays:l??[{protocol:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:p},o&&{sessionProperties:o}),a&&{scopedProperties:a}),{id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()}),_=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",f.id),{reject:g,resolve:A,done:D}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(w,$e),I=({id:T})=>{T===f.id&&(this.client.events.off(\"proposal_expire\",I),this.pendingSessions.delete(f.id),this.events.emit(_,{error:{message:$e,code:0}}))};return this.client.events.on(\"proposal_expire\",I),this.events.once(_,({error:T,session:U})=>{this.client.events.off(\"proposal_expire\",I),T?g(T):U&&A(U)}),await this.sendRequest({topic:p,method:\"wc_sessionPropose\",params:f,throwOnFailedPublish:!0,clientRpcId:f.id}),await this.setProposal(f.id,f),{uri:h,approval:D}}),c(this,\"pair\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(t){throw this.client.logger.error(\"pair() failed\"),t}}),c(this,\"approve\",async e=>{var t,s,i;const r=this.client.core.eventClient.createEvent({properties:{topic:(t=e?.id)==null?void 0:t.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(q){throw r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.no_internet_connection),q}try{await this.isValidProposalId(e?.id)}catch(q){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_not_found),q}try{await this.isValidApprove(e)}catch(q){throw this.client.logger.error(\"approve() -> isValidApprove() failed\"),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_namespace_validation_failure),q}const{id:o,relayProtocol:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=e,d=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:r.eventId});const{pairingTopic:w,proposer:m,requiredNamespaces:f,optionalNamespaces:_}=d;let g=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:w});g||(g=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,properties:{topic:w,trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_namespaces_validation_success]}}));const A=await this.client.core.crypto.generateKeyPair(),D=m.publicKey,I=await this.client.core.crypto.generateSharedKey(A,D),T=v(v(v({relay:{protocol:a??\"irn\"},namespaces:l,controller:{publicKey:A,metadata:this.client.metadata},expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),U=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:U})}catch(q){throw g.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.subscribe_session_topic_failure),q}g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribe_session_topic_success);const fe=b(v({},T),{topic:I,requiredNamespaces:f,optionalNamespaces:_,pairingTopic:w,acknowledged:!1,self:T.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:A,transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(I,fe),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.store_session);try{g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.publishing_session_settle),await this.sendRequest({topic:I,method:\"wc_sessionSettle\",params:T,throwOnFailedPublish:!0}).catch(q=>{throw g?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_settle_publish_failure),q}),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_settle_publish_success),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.publishing_session_approve),await this.sendResult({id:o,topic:w,result:{relay:{protocol:a??\"irn\"},responderPublicKey:A},throwOnFailedPublish:!0}).catch(q=>{throw g?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_publish_failure),q}),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_publish_success)}catch(q){throw this.client.logger.error(q),this.client.session.delete(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.relayer.unsubscribe(I),q}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:w,metadata:m.metadata}),await this.client.proposal.delete(o,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.pairing.activate({topic:w}),await this.setExpiry(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),c(this,\"reject\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(r){throw this.client.logger.error(\"reject() -> isValidReject() failed\"),r}const{id:t,reason:s}=e;let i;try{i=this.client.proposal.get(t).pairingTopic}catch(r){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),r}i&&(await this.sendError({id:t,topic:i,error:s,rpcOpts:N.wc_sessionPropose.reject}),await this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")))}),c(this,\"update\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(h){throw this.client.logger.error(\"update() -> isValidUpdate() failed\"),h}const{topic:t,namespaces:s}=e,{done:i,resolve:r,reject:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(),a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),p=this.client.session.get(t).namespaces;return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",a),({error:h})=>{h?o(h):r()}),await this.client.session.update(t,{namespaces:s}),await this.sendRequest({topic:t,method:\"wc_sessionUpdate\",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(t,{namespaces:p}),o(h)}),{acknowledged:i}}),c(this,\"extend\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(a){throw this.client.logger.error(\"extend() -> isValidExtend() failed\"),a}const{topic:t}=e,s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),{done:i,resolve:r,reject:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),({error:a})=>{a?o(a):r()}),await this.setExpiry(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)),this.sendRequest({topic:t,method:\"wc_sessionExtend\",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(a=>{o(a)}),{acknowledged:i}}),c(this,\"request\",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(_){throw this.client.logger.error(\"request() -> isValidRequest() failed\"),_}const{chainId:t,request:s,topic:i,expiry:r=N.wc_sessionRequest.req.ttl}=e,o=this.client.session.get(i);o?.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:p,resolve:h,reject:u}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(r,\"Request expired. Please try again.\");this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",a),({error:_,result:g})=>{_?u(_):h(g)});const d=\"wc_sessionRequest\",w=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(w)return await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:{request:b(v({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:t},expiry:r,throwOnFailedPublish:!0,appLink:w}).catch(_=>u(_)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:t,id:a}),await p();const m={request:b(v({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:t},f=this.shouldSetTVF(d,m);return await Promise.all([new Promise(async _=>{await this.sendRequest(v({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:m,expiry:r,throwOnFailedPublish:!0},f&&{tvf:this.getTVFParams(a,m)})).catch(g=>u(g)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:t,id:a}),_()}),new Promise(async _=>{var g;if(!((g=o.sessionConfig)!=null&&g.disableDeepLink)){const A=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDeepLink)(this.client.core.storage,Me);await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.handleDeeplinkRedirect)({id:a,topic:i,wcDeepLink:A})}_()}),p()]).then(_=>_[2])}),c(this,\"respond\",async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:s}=e,{id:i}=s,r=this.client.session.get(t);r.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(r.peer.metadata,r.transportType);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)?await this.sendResult({id:i,topic:t,result:s.result,throwOnFailedPublish:!0,appLink:o}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&await this.sendError({id:i,topic:t,error:s.error,appLink:o}),this.cleanupAfterResponse(e)}),c(this,\"ping\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(s){throw this.client.logger.error(\"ping() -> isValidPing() failed\"),s}const{topic:t}=e;if(this.client.session.keys.includes(t)){const s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:r,resolve:o,reject:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),({error:l})=>{l?a(l):o()}),await Promise.all([this.sendRequest({topic:t,method:\"wc_sessionPing\",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn(\"ping() on pairing topic is deprecated and will be removed in the next major release.\"),await this.client.core.pairing.ping({topic:t}))}),c(this,\"emit\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:s,chainId:i}=e,r=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)();await this.sendRequest({topic:t,method:\"wc_sessionEvent\",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:r,clientRpcId:o})}),c(this,\"disconnect\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:\"wc_sessionDelete\",params:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISMATCHED_TOPIC\",`Session or pairing topic not found: ${t}`);throw new Error(s)}}),c(this,\"find\",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isSessionCompatible)(t,e)))),c(this,\"getPendingSessionRequests\",()=>this.client.pendingRequest.getAll()),c(this,\"authenticate\",async(e,t)=>{var s;this.isInitialized(),this.isValidAuthenticate(e);const i=t&&this.client.core.linkModeSupportedApps.includes(t)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),r=i?_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;r===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:a=\"\",uri:l,domain:p,nonce:h,type:u,exp:d,nbf:w,methods:m=[],expiry:f}=e,_=[...e.resources||[]],{topic:g,uri:A}=await this.client.core.pairing.create({methods:[\"wc_sessionAuthenticate\"],transportType:r});this.client.logger.info({message:\"Generated new pairing\",pairing:{topic:g,uri:A}});const D=await this.client.core.crypto.generateKeyPair(),I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(D);if(await Promise.all([this.client.auth.authKeys.set(ce,{responseTopic:I,publicKey:D}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:g})]),await this.client.core.relayer.subscribe(I,{transportType:r}),this.client.logger.info(`sending request to new pairing topic: ${g}`),m.length>0){const{namespace:x}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(o[0]);let L=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createEncodedRecap)(x,\"request\",m);(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(_)&&(L=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeEncodedRecaps)(L,_.pop())),_.push(L)}const T=f&&f>N.wc_sessionAuthenticate.req.ttl?f:N.wc_sessionAuthenticate.req.ttl,U={authPayload:{type:u??\"caip122\",chains:o,statement:a,aud:l,domain:p,version:\"1\",nonce:h,iat:new Date().toISOString(),exp:d,nbf:w,resources:_},requester:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(T)},fe={eip155:{chains:o,methods:[...new Set([\"personal_sign\",...m])],events:[\"chainChanged\",\"accountsChanged\"]}},q={requiredNamespaces:{},optionalNamespaces:fe,relays:[{protocol:\"irn\"}],pairingTopic:g,proposer:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionPropose.req.ttl),id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()},{done:Rt,resolve:je,reject:Se}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(T,\"Request expired\"),te=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),le=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",q.id),Re=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",te),pe=async({error:x,session:L})=>{this.events.off(Re,ve),x?Se(x):L&&je({session:L})},ve=async x=>{var L,Fe,Qe;if(await this.deletePendingAuthRequest(te,{message:\"fulfilled\",code:0}),x.error){const ie=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",\"wc_sessionAuthenticate\");return x.error.code===ie.code?void 0:(this.events.off(le,pe),Se(x.error.message))}await this.deleteProposal(q.id),this.events.off(le,pe);const{cacaos:He,responder:Q}=x.result,Te=[],ze=[];for(const ie of He){await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:ie,projectId:this.client.core.projectId})||(this.client.logger.error(ie,\"Signature verification failed\"),Se((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\")));const{p:qe}=ie,Pe=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(qe.resources),Ye=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(qe.iss)],vt=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(qe.iss);if(Pe){const Ne=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(Pe),It=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(Pe);Te.push(...Ne),Ye.push(...It)}for(const Ne of Ye)ze.push(`${Ne}:${vt}`)}const se=await this.client.core.crypto.generateSharedKey(D,Q.publicKey);let he;Te.length>0&&(he={topic:se,acknowledged:!0,self:{publicKey:D,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:g,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(Te)],[...new Set(ze)]),transportType:r},await this.client.core.relayer.subscribe(se,{transportType:r}),await this.client.session.set(se,he),g&&await this.client.core.pairing.updateMetadata({topic:g,metadata:Q.metadata}),he=this.client.session.get(se)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(Fe=Q.metadata.redirect)!=null&&Fe.linkMode&&(Qe=Q.metadata.redirect)!=null&&Qe.universal&&t&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(se,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode})),je({auths:He,session:he})};this.events.once(le,pe),this.events.once(Re,ve);let Ie;try{if(i){const x=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionAuthenticate\",U,te);this.client.core.history.set(g,x);const L=await this.client.core.crypto.encode(\"\",x,{type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_2,encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL});Ie=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(t,g,L)}else await Promise.all([this.sendRequest({topic:g,method:\"wc_sessionAuthenticate\",params:U,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:te}),this.sendRequest({topic:g,method:\"wc_sessionPropose\",params:q,expiry:N.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:q.id})])}catch(x){throw this.events.off(le,pe),this.events.off(Re,ve),x}return await this.setProposal(q.id,q),await this.setAuthRequest(te,{request:b(v({},U),{verifyContext:{}}),pairingTopic:g,transportType:r}),{uri:Ie??A,response:Rt}}),c(this,\"approveSessionAuthenticate\",async e=>{const{id:t,auths:s}=e,i=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.authenticated_session_approve_started]}});try{this.isInitialized()}catch(f){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.no_internet_connection),f}const r=this.getPendingAuthRequest(t);if(!r)throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${t}`);const o=r.transportType||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;o===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=r.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(a),h={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:a,senderPublicKey:l},u=[],d=[];for(const f of s){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:f,projectId:this.client.core.projectId})){i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.invalid_cacao);const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\");throw await this.sendError({id:t,topic:p,error:I,encodeOpts:h}),new Error(I.message)}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.cacaos_verified);const{p:_}=f,g=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(_.resources),A=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(_.iss)],D=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(_.iss);if(g){const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(g),T=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(g);u.push(...I),A.push(...T)}for(const I of A)d.push(`${I}:${D}`)}const w=await this.client.core.crypto.generateSharedKey(l,a);i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.create_authenticated_session_topic);let m;if(u?.length>0){m={topic:w,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:a,metadata:r.requester.metadata},controller:a,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:r.pairingTopic,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(u)],[...new Set(d)]),transportType:o},i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:o})}catch(f){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.subscribe_authenticated_session_topic_failure),f}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribe_authenticated_session_topic_success),await this.client.session.set(w,m),i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:r.pairingTopic,metadata:r.requester.metadata})}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:t,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(r.requester.metadata,o)})}catch(f){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_approve_publish_failure),f}return await this.client.auth.requests.delete(t,{message:\"fulfilled\",code:0}),await this.client.core.pairing.activate({topic:r.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),c(this,\"rejectSessionAuthenticate\",async e=>{this.isInitialized();const{id:t,reason:s}=e,i=this.getPendingAuthRequest(t);if(!i)throw new Error(`Could not find pending auth request with id ${t}`);i.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const r=i.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(r),l={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:r,senderPublicKey:o};await this.sendError({id:t,topic:a,error:s,encodeOpts:l,rpcOpts:N.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(t,{message:\"rejected\",code:0}),await this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),c(this,\"formatAuthMessage\",e=>{this.isInitialized();const{request:t,iss:s}=e;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.formatMessage)(t,s)}),c(this,\"processRelayMessageCache\",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),c(this,\"cleanupDuplicatePairings\",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var r,o;return((r=i.peerMetadata)==null?void 0:r.url)&&((o=i.peerMetadata)==null?void 0:o.url)===e.peer.metadata.url&&i.topic&&i.topic!==t.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info(\"Duplicate pairings clean up finished\")}catch(t){this.client.logger.error(t)}}),c(this,\"deleteSession\",async e=>{var t;const{topic:s,expirerHasDeleted:i=!1,emitEvent:r=!0,id:o=0}=e,{self:a}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.addToRecentlyDeleted(s,\"session\"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Me).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),s===((t=this.sessionRequestQueue.queue[0])==null?void 0:t.topic)&&(this.sessionRequestQueue.state=$.idle),r&&this.client.events.emit(\"session_delete\",{id:o,topic:s})}),c(this,\"deleteProposal\",async(e,t)=>{if(t)try{const s=this.client.proposal.get(e),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,\"proposal\")}),c(this,\"deletePendingSessionRequest\",async(e,t,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,\"request\"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==e),s&&(this.sessionRequestQueue.state=$.idle,this.client.events.emit(\"session_request_expire\",{id:e}))}),c(this,\"deletePendingAuthRequest\",async(e,t,s=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)])}),c(this,\"setExpiry\",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),c(this,\"setProposal\",async(e,t)=>{this.client.core.expirer.set(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),c(this,\"setAuthRequest\",async(e,t)=>{const{request:s,pairingTopic:i,transportType:r=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay}=t;this.client.core.expirer.set(e,s.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:e,pairingTopic:i,verifyContext:s.verifyContext,transportType:r})}),c(this,\"setPendingSessionRequest\",async e=>{const{id:t,topic:s,params:i,verifyContext:r}=e,o=i.request.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,o),await this.client.pendingRequest.set(t,{id:t,topic:s,params:i,verifyContext:r})}),c(this,\"sendRequest\",async e=>{const{topic:t,method:s,params:i,expiry:r,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:l,appLink:p,tvf:h}=e,u=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(s,i,a);let d;const w=!!p;try{const _=w?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;d=await this.client.core.crypto.encode(t,u,{encoding:_})}catch(_){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),_}let m;if(gt.includes(s)){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(u)),g=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(d);m=await this.client.core.verify.register({id:g,decryptedId:_})}const f=N[s].req;if(f.attestation=m,r&&(f.ttl=r),o&&(f.id=o),this.client.core.history.set(t,u),w){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(p,t,d);await global.Linking.openURL(_,this.client.name)}else{const _=N[s].req;r&&(_.ttl=r),o&&(_.id=o),_.tvf=b(v({},h),{correlationId:u.id}),l?(_.internal=b(v({},_.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,d,_)):this.client.core.relayer.publish(t,d,_).catch(g=>this.client.logger.error(g))}return u.id}),c(this,\"sendResult\",async e=>{const{id:t,topic:s,result:i,throwOnFailedPublish:r,encodeOpts:o,appLink:a}=e,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(t,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const w=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,b(v({},o||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),w}let u,d;try{u=await this.client.core.history.get(s,t);const w=u.request;try{this.shouldSetTVF(w.method,w.params)&&(d=this.getTVFParams(t,w.params,i))}catch(m){this.client.logger.warn(\"sendResult() -> getTVFParams() failed\",m)}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${t}) failed`),w}if(h){const w=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(w,this.client.name)}else{const w=u.request.method,m=N[w].res;m.tvf=b(v({},d),{correlationId:t}),r?(m.internal=b(v({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,m)):this.client.core.relayer.publish(s,p,m).catch(f=>this.client.logger.error(f))}await this.client.core.history.resolve(l)}),c(this,\"sendError\",async e=>{const{id:t,topic:s,error:i,encodeOpts:r,rpcOpts:o,appLink:a}=e,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(t,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const d=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,b(v({},r||{}),{encoding:d}))}catch(d){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),d}let u;try{u=await this.client.core.history.get(s,t)}catch(d){throw this.client.logger.error(`sendError() -> history.get(${s}, ${t}) failed`),d}if(h){const d=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(d,this.client.name)}else{const d=u.request.method,w=o||N[d].res;this.client.core.relayer.publish(s,p,w)}await this.client.core.history.resolve(l)}),c(this,\"cleanup\",async()=>{const e=[],t=[];this.client.session.getAll().forEach(s=>{let i=!1;(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&e.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiryTimestamp)&&t.push(s.id)}),await Promise.all([...e.map(s=>this.deleteSession({topic:s})),...t.map(s=>this.deleteProposal(s))])}),c(this,\"onProviderMessageEvent\",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),c(this,\"onRelayEventRequest\",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),c(this,\"processRequestsQueue\",async()=>{if(this.requestQueue.state===$.active){this.client.logger.info(\"Request queue already active, skipping...\");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=$.active;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(t){this.client.logger.warn(t)}}this.requestQueue.state=$.idle}),c(this,\"processRequest\",async e=>{const{topic:t,payload:s,attestation:i,transportType:r,encryptedId:o}=e,a=s.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:a}))switch(a){case\"wc_sessionPropose\":return await this.onSessionProposeRequest({topic:t,payload:s,attestation:i,encryptedId:o});case\"wc_sessionSettle\":return await this.onSessionSettleRequest(t,s);case\"wc_sessionUpdate\":return await this.onSessionUpdateRequest(t,s);case\"wc_sessionExtend\":return await this.onSessionExtendRequest(t,s);case\"wc_sessionPing\":return await this.onSessionPingRequest(t,s);case\"wc_sessionDelete\":return await this.onSessionDeleteRequest(t,s);case\"wc_sessionRequest\":return await this.onSessionRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});case\"wc_sessionEvent\":return await this.onSessionEventRequest(t,s);case\"wc_sessionAuthenticate\":return await this.onSessionAuthenticateRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),c(this,\"onRelayEventResponse\",async e=>{const{topic:t,payload:s,transportType:i}=e,r=(await this.client.core.history.get(t,s.id)).request.method;switch(r){case\"wc_sessionPropose\":return this.onSessionProposeResponse(t,s,i);case\"wc_sessionSettle\":return this.onSessionSettleResponse(t,s);case\"wc_sessionUpdate\":return this.onSessionUpdateResponse(t,s);case\"wc_sessionExtend\":return this.onSessionExtendResponse(t,s);case\"wc_sessionPing\":return this.onSessionPingResponse(t,s);case\"wc_sessionRequest\":return this.onSessionRequestResponse(t,s);case\"wc_sessionAuthenticate\":return this.onSessionAuthenticateResponse(t,s);default:return this.client.logger.info(`Unsupported response method ${r}`)}}),c(this,\"onRelayEventUnknownPayload\",e=>{const{topic:t}=e,{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),c(this,\"shouldIgnorePairingRequest\",e=>{const{topic:t,requestMethod:s}=e,i=this.expectedPairingMethodMap.get(t);return!i||i.includes(s)?!1:!!(i.includes(\"wc_sessionAuthenticate\")&&this.client.events.listenerCount(\"session_authenticate\")>0)}),c(this,\"onSessionProposeRequest\",async e=>{const{topic:t,payload:s,attestation:i,encryptedId:r}=e,{params:o,id:a}=s;try{const l=this.client.core.eventClient.getEvent({topic:t});this.client.events.listenerCount(\"session_proposal\")===0&&(console.warn(\"No listener for session_proposal event\"),l?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_ERRORS.proposal_listener_not_found)),this.isValidConnect(v({},s.params));const p=o.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionPropose.req.ttl),h=v({id:a,pairingTopic:t,expiryTimestamp:p},o);await this.setProposal(a,h);const u=await this.getVerifyContext({attestationId:i,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(s)),encryptedId:r,metadata:h.proposer.metadata});l?.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_TRACES.emit_session_proposal),this.client.events.emit(\"session_proposal\",{id:a,params:h,verifyContext:u})}catch(l){await this.sendError({id:a,topic:t,error:l,rpcOpts:N.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),c(this,\"onSessionProposeResponse\",async(e,t,s)=>{const{id:i}=t;if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)){const{result:r}=t;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",result:r});const o=this.client.proposal.get(i);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",selfPublicKey:a});const l=r.responderPublicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",peerPublicKey:l});const p=await this.client.core.crypto.generateSharedKey(a,l);this.pendingSessions.set(i,{sessionTopic:p,pairingTopic:e,proposalId:i,publicKey:a});const h=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",subscriptionId:h}),await this.client.core.pairing.activate({topic:e})}else if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)){await this.client.proposal.delete(i,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"));const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",i);if(this.events.listenerCount(r)===0)throw new Error(`emitting ${r} without any listeners, 954`);this.events.emit(r,{error:t.error})}}),c(this,\"onSessionSettleRequest\",async(e,t)=>{const{id:s,params:i}=t;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:o,expiry:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=t.params,d=[...this.pendingSessions.values()].find(f=>f.sessionTopic===e);if(!d)return this.client.logger.error(`Pending session not found for topic ${e}`);const w=this.client.proposal.get(d.proposalId),m=b(v(v(v({topic:e,relay:r,expiry:a,namespaces:l,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces,controller:o.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit(\"session_connect\",{session:m}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",d.proposalId),{session:m}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionSettleResponse\",async(e,t)=>{const{id:s}=t;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&(await this.client.session.delete(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{error:t.error}))}),c(this,\"onSessionUpdateRequest\",async(e,t)=>{const{params:s,id:i}=t;try{const r=`${e}_session_update`,o=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:e,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"INVALID_UPDATE_REQUEST\")});return}this.isValidUpdate(v({topic:e},s));try{_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,i),await this.client.session.update(e,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:e,result:!0,throwOnFailedPublish:!0})}catch(a){throw _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.delete(r),a}this.client.events.emit(\"session_update\",{id:i,topic:e,params:s})}catch(r){await this.sendError({id:i,topic:e,error:r}),this.client.logger.error(r)}}),c(this,\"isRequestOutOfSync\",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),c(this,\"onSessionUpdateResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{error:t.error})}),c(this,\"onSessionExtendRequest\",async(e,t)=>{const{id:s}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_extend\",{id:s,topic:e})}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionExtendResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{error:t.error})}),c(this,\"onSessionPingRequest\",async(e,t)=>{const{id:s}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_ping\",{id:s,topic:e})}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionPingResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{error:t.error})},500)}),c(this,\"onSessionDeleteRequest\",async(e,t)=>{const{id:s}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.publish,async()=>{i(await this.deleteSession({topic:e,id:s}))})}),this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),c(this,\"onSessionRequest\",async e=>{var t,s,i;const{topic:r,payload:o,attestation:a,encryptedId:l,transportType:p}=e,{id:h,params:u}=o;try{await this.isValidRequest(v({topic:r},u));const d=this.client.session.get(r),w=await this.getVerifyContext({attestationId:a,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionRequest\",u,h))),encryptedId:l,metadata:d.peer.metadata,transportType:p}),m={id:h,topic:r,params:u,verifyContext:w};await this.setPendingSessionRequest(m),p===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(t=d.peer.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp((s=d.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(d){await this.sendError({id:h,topic:r,error:d}),this.client.logger.error(d)}}),c(this,\"onSessionRequestResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:t.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:t.error})}),c(this,\"onSessionEventRequest\",async(e,t)=>{const{id:s,params:i}=t;try{const r=`${e}_session_event_${i.event.name}`,o=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(v({topic:e},i)),this.client.events.emit(\"session_event\",{id:s,topic:e,params:i}),_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,s)}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionAuthenticateResponse\",(e,t)=>{const{id:s}=t;this.client.logger.trace({type:\"method\",method:\"onSessionAuthenticateResponse\",topic:e,payload:t}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:t.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:t.error})}),c(this,\"onSessionAuthenticateRequest\",async e=>{var t;const{topic:s,payload:i,attestation:r,encryptedId:o,transportType:a}=e;try{const{requester:l,authPayload:p,expiryTimestamp:h}=i.params,u=await this.getVerifyContext({attestationId:r,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),encryptedId:o,metadata:l.metadata,transportType:a}),d={requester:l,pairingTopic:s,id:i.id,authPayload:p,verifyContext:u,expiryTimestamp:h};await this.setAuthRequest(i.id,{request:d,pairingTopic:s,transportType:a}),a===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(t=l.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit(\"session_authenticate\",{topic:s,params:i.params,id:i.id,verifyContext:u})}catch(l){this.client.logger.error(l);const p=i.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),u=this.getAppLinkIfEnabled(i.params.requester.metadata,a),d={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:p,senderPublicKey:h};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:d,rpcOpts:N.wc_sessionAuthenticate.autoReject,appLink:u})}}),c(this,\"addSessionRequestToSessionRequestQueue\",e=>{this.sessionRequestQueue.queue.push(e)}),c(this,\"cleanupAfterResponse\",e=>{this.deletePendingSessionRequest(e.response.id,{message:\"fulfilled\",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=$.idle,this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(this.requestQueueDelay))}),c(this,\"cleanupPendingSentRequestsForTopic\",({topic:e,error:t})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===e&&i.request.method===\"wc_sessionRequest\").forEach(i=>{const r=i.request.id,o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",r);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",i.request.id),{error:t})})}),c(this,\"processSessionRequestQueue\",()=>{if(this.sessionRequestQueue.state===$.active){this.client.logger.info(\"session request queue is already active.\");return}const e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info(\"session request queue is empty.\");return}try{this.sessionRequestQueue.state=$.active,this.emitSessionRequest(e)}catch(t){this.client.logger.error(t)}}),c(this,\"emitSessionRequest\",e=>{this.client.events.emit(\"session_request\",e)}),c(this,\"onPairingCreated\",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(s=>s.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",b(v({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id)})}),c(this,\"isValidConnect\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() params: ${JSON.stringify(e)}`);throw new Error(l)}const{pairingTopic:t,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:r,scopedProperties:o,relays:a}=e;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(t)||await this.isValidPairingTopic(t),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelays)(a,!0)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() relays: ${a}`);throw new Error(l)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(s)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(s)!==0&&this.validateNamespaces(s,\"requiredNamespaces\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(i)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(i)!==0&&this.validateNamespaces(i,\"optionalNamespaces\"),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(o)){this.validateSessionProps(o,\"scopedProperties\");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(o).every(p=>l.includes(p)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),c(this,\"validateNamespaces\",(e,t)=>{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequiredNamespaces)(e,\"connect()\",t);if(s)throw new Error(s.message)}),c(this,\"isValidApprove\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e))throw new Error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() params: ${e}`).message);const{id:t,namespaces:s,relayProtocol:i,sessionProperties:r,scopedProperties:o}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const a=this.client.proposal.get(t),l=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"approve()\");if(l)throw new Error(l.message);const p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(a.requiredNamespaces,s,\"approve()\");if(p)throw new Error(p.message);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!0)){const{message:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() relayProtocol: ${i}`);throw new Error(h)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(o)){this.validateSessionProps(o,\"scopedProperties\");const h=new Set(Object.keys(s));if(!Object.keys(o).every(u=>h.has(u)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(h).join(\", \")}`)}}),c(this,\"isValidReject\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() params: ${e}`);throw new Error(i)}const{id:t,reason:s}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidErrorReason)(s)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),c(this,\"isValidSessionSettleRequest\",e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`onSessionSettleRequest() params: ${e}`);throw new Error(l)}const{relay:t,controller:s,namespaces:i,expiry:r}=e;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelay)(t)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",\"onSessionSettleRequest() relay protocol should be a string\");throw new Error(l)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidController)(s,\"onSessionSettleRequest()\");if(o)throw new Error(o.message);const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(i,\"onSessionSettleRequest()\");if(a)throw new Error(a.message);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(r)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",\"onSessionSettleRequest()\");throw new Error(l)}}),c(this,\"isValidUpdate\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`update() params: ${e}`);throw new Error(a)}const{topic:t,namespaces:s}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const i=this.client.session.get(t),r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"update()\");if(r)throw new Error(r.message);const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(i.requiredNamespaces,s,\"update()\");if(o)throw new Error(o.message)}),c(this,\"isValidExtend\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`extend() params: ${e}`);throw new Error(s)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),c(this,\"isValidRequest\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() params: ${e}`);throw new Error(a)}const{topic:t,request:s,chainId:i,expiry:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:o}=this.client.session.get(t);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(o,i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() chainId: ${i}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequest)(s)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() ${JSON.stringify(s)}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesRequest)(o,i,s.method)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() method: ${s.method}`);throw new Error(a)}if(r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequestExpiry)(r,_e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() expiry: ${r}. Expiry must be a number (in seconds) between ${_e.min} and ${_e.max}`);throw new Error(a)}}),c(this,\"isValidRespond\",async e=>{var t;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() params: ${e}`);throw new Error(r)}const{topic:s,response:i}=e;try{await this.isValidSessionTopic(s)}catch(r){throw(t=e?.response)!=null&&t.id&&this.cleanupAfterResponse(e),r}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidResponse)(i)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() response: ${JSON.stringify(i)}`);throw new Error(r)}}),c(this,\"isValidPing\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),c(this,\"isValidEmit\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() params: ${e}`);throw new Error(o)}const{topic:t,event:s,chainId:i}=e;await this.isValidSessionTopic(t);const{namespaces:r}=this.client.session.get(t);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(r,i)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() chainId: ${i}`);throw new Error(o)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidEvent)(s)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesEvent)(r,i,s.name)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}}),c(this,\"isValidDisconnect\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),c(this,\"isValidAuthenticate\",e=>{const{chains:t,uri:s,domain:i,nonce:r}=e;if(!Array.isArray(t)||t.length===0)throw new Error(\"chains is required and must be a non-empty array\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(s,!1))throw new Error(\"uri is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!1))throw new Error(\"domain is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(r,!1))throw new Error(\"nonce is required parameter\");if([...new Set(t.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(a).namespace))].length>1)throw new Error(\"Multi-namespace requests are not supported. Please request single namespace only.\");const{namespace:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(t[0]);if(o!==\"eip155\")throw new Error(\"Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.\")}),c(this,\"getVerifyContext\",async e=>{const{attestationId:t,hash:s,encryptedId:i,metadata:r,transportType:o}=e,a={verified:{verifyUrl:r.verifyUrl||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.VERIFY_SERVER,validation:\"UNKNOWN\",origin:r.url||\"\"}};try{if(o===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode){const p=this.getAppLinkIfEnabled(r,o);return a.verified.validation=p&&new URL(p).origin===new URL(r.url).origin?\"VALID\":\"INVALID\",a}const l=await this.client.core.verify.resolve({attestationId:t,hash:s,encryptedId:i,verifyUrl:r.verifyUrl});l&&(a.verified.origin=l.origin,a.verified.isScam=l.isScam,a.verified.validation=l.origin===new URL(r.url).origin?\"VALID\":\"INVALID\")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),c(this,\"validateSessionProps\",(e,t)=>{Object.values(e).forEach((s,i)=>{if(s==null){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`${t} must contain an existing value for each key. Received: ${s} for key ${Object.keys(e)[i]}`);throw new Error(r)}})}),c(this,\"getPendingAuthRequest\",e=>{const t=this.client.auth.requests.get(e);return typeof t==\"object\"?t:void 0}),c(this,\"addToRecentlyDeleted\",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(r)}}}),c(this,\"checkRecentlyDeleted\",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${t}: ${e}`);throw new Error(s)}}),c(this,\"isLinkModeEnabled\",(e,t)=>{var s,i,r,o,a,l,p,h,u;return!e||t!==_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((o=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:o.universal)!==void 0&&((l=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:l.universal)!==\"\"&&((p=e?.redirect)==null?void 0:p.universal)!==void 0&&((h=e?.redirect)==null?void 0:h.universal)!==\"\"&&((u=e?.redirect)==null?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(global==null?void 0:global.Linking)<\"u\"}),c(this,\"getAppLinkIfEnabled\",(e,t)=>{var s;return this.isLinkModeEnabled(e,t)?(s=e?.redirect)==null?void 0:s.universal:void 0}),c(this,\"handleLinkModeMessage\",({url:e})=>{if(!e||!e.includes(\"wc_ev\")||!e.includes(\"topic\"))return;const t=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(e,\"topic\")||\"\",s=decodeURIComponent((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(e,\"wc_ev\")||\"\"),i=this.client.session.keys.includes(t);i&&this.client.session.update(t,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:s,sessionExists:i})}),c(this,\"registerLinkModeListeners\",async()=>{var e;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isTestRun)()||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isReactNative)()&&(e=this.client.metadata.redirect)!=null&&e.linkMode){const t=global==null?void 0:global.Linking;if(typeof t<\"u\"){t.addEventListener(\"url\",this.handleLinkModeMessage,this.client.name);const s=await t.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),c(this,\"shouldSetTVF\",(e,t)=>{if(!t||e!==\"wc_sessionRequest\")return!1;const{request:s}=t;return Object.keys(Ue).includes(s.method)}),c(this,\"getTVFParams\",(e,t,s)=>{var i,r;try{const o=t.request.method,a=this.extractTxHashesFromResult(o,s);return b(v({correlationId:e,rpcMethods:[o],chainId:t.chainId},this.isValidContractData(t.request.params)&&{contractAddresses:[(r=(i=t.request.params)==null?void 0:i[0])==null?void 0:r.to]}),{txHashes:a})}catch(o){this.client.logger.warn(\"Error getting TVF params\",o)}return{}}),c(this,\"isValidContractData\",e=>{var t;if(!e)return!1;try{const s=e?.data||((t=e?.[0])==null?void 0:t.data);if(!s.startsWith(\"0x\"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),c(this,\"extractTxHashesFromResult\",(e,t)=>{try{const s=Ue[e];if(typeof t==\"string\")return[t];const i=t[s.key];if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(i))return e===\"solana_signAllTransactions\"?i.map(r=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.extractSolanaTransactionId)(r)):i;if(typeof i==\"string\")return[i]}catch(s){this.client.logger.warn(\"Error extracting tx hashes from result\",s)}return[]})}async processPendingMessageEvents(){try{const n=this.client.session.keys,e=this.client.core.relayer.messages.getWithoutAck(n);for(const[t,s]of Object.entries(e))for(const i of s)try{await this.onProviderMessageEvent({topic:t,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${t}, message: ${i}`)}}catch(n){this.client.logger.warn(\"processPendingMessageEvents failed\",n)}}isInitialized(){if(!this.initialized){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(n)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.message,n=>{this.onProviderMessageEvent(n)})}async onRelayMessage(n){const{topic:e,message:t,attestation:s,transportType:i}=n,{publicKey:r}=this.client.auth.authKeys.keys.includes(ce)?this.client.auth.authKeys.get(ce):{responseTopic:void 0,publicKey:void 0};try{const o=await this.client.core.crypto.decode(e,t,{receiverPublicKey:r,encoding:i===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcRequest)(o)?(this.client.core.history.set(e,o),await this.onRelayEventRequest({topic:e,payload:o,attestation:s,transportType:i,encryptedId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(t)})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResponse)(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:e,payload:o,transportType:i}),this.client.core.history.delete(e,o.id)):await this.onRelayEventUnknownPayload({topic:e,payload:o,transportType:i}),await this.client.core.relayer.messages.ack(e,t)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EXPIRER_EVENTS.expired,async n=>{const{topic:e,id:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseExpirerTarget)(n.target);if(t&&this.client.pendingRequest.keys.includes(t))return await this.deletePendingSessionRequest(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);if(t&&this.client.auth.requests.keys.includes(t))return await this.deletePendingAuthRequest(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);e?this.client.session.keys.includes(e)&&(await this.deleteSession({topic:e,expirerHasDeleted:!0}),this.client.events.emit(\"session_expire\",{topic:e})):t&&(await this.deleteProposal(t,!0),this.client.events.emit(\"proposal_expire\",{id:t}))})}registerPairingEvents(){this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.create,n=>this.onPairingCreated(n)),this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.delete,n=>{this.addToRecentlyDeleted(n.topic,\"pairing\")})}isValidPairingTopic(n){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(n,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${n}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${n}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.core.pairing.pairings.get(n).expiry)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`pairing topic: ${n}`);throw new Error(e)}}async isValidSessionTopic(n){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(n,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic should be a string: ${n}`);throw new Error(e)}if(this.checkRecentlyDeleted(n),!this.client.session.keys.includes(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session topic doesn't exist: ${n}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.session.get(n).expiry)){await this.deleteSession({topic:n});const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`session topic: ${n}`);throw new Error(e)}if(!this.client.core.crypto.keychain.has(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic does not exist in keychain: ${n}`);throw await this.deleteSession({topic:n}),new Error(e)}}async isValidSessionOrPairingTopic(n){if(this.checkRecentlyDeleted(n),this.client.session.keys.includes(n))await this.isValidSessionTopic(n);else if(this.client.core.pairing.pairings.keys.includes(n))this.isValidPairingTopic(n);else if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(n,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session or pairing topic doesn't exist: ${n}`);throw new Error(e)}else{const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session or pairing topic should be a string: ${n}`);throw new Error(e)}}async isValidProposalId(n){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidId)(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`proposal id should be a number: ${n}`);throw new Error(e)}if(!this.client.proposal.keys.includes(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`proposal id doesn't exist: ${n}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.proposal.get(n).expiryTimestamp)){await this.deleteProposal(n);const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`proposal id: ${n}`);throw new Error(e)}}}class Ns extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,pt,we),this.core=n,this.logger=e}}class St extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,ht,we),this.core=n,this.logger=e}}class Os extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,ut,we,t=>t.id),this.core=n,this.logger=e}}class bs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,mt,ae,()=>ce),this.core=n,this.logger=e}}class As extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,_t,ae),this.core=n,this.logger=e}}class xs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,Et,ae,t=>t.id),this.core=n,this.logger=e}}var Cs=Object.defineProperty,Vs=(S,n,e)=>n in S?Cs(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,Ge=(S,n,e)=>Vs(S,typeof n!=\"symbol\"?n+\"\":n,e);class Ds{constructor(n,e){this.core=n,this.logger=e,Ge(this,\"authKeys\"),Ge(this,\"pairingTopics\"),Ge(this,\"requests\"),this.authKeys=new bs(this.core,this.logger),this.pairingTopics=new As(this.core,this.logger),this.requests=new xs(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Ls=Object.defineProperty,ks=(S,n,e)=>n in S?Ls(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,E=(S,n,e)=>ks(S,typeof n!=\"symbol\"?n+\"\":n,e);class Ee extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.ISignClient{constructor(n){super(n),E(this,\"protocol\",De),E(this,\"version\",Le),E(this,\"name\",me.name),E(this,\"metadata\"),E(this,\"core\"),E(this,\"logger\"),E(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter),E(this,\"engine\"),E(this,\"session\"),E(this,\"proposal\"),E(this,\"pendingRequest\"),E(this,\"auth\"),E(this,\"signConfig\"),E(this,\"on\",(t,s)=>this.events.on(t,s)),E(this,\"once\",(t,s)=>this.events.once(t,s)),E(this,\"off\",(t,s)=>this.events.off(t,s)),E(this,\"removeListener\",(t,s)=>this.events.removeListener(t,s)),E(this,\"removeAllListeners\",t=>this.events.removeAllListeners(t)),E(this,\"connect\",async t=>{try{return await this.engine.connect(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"pair\",async t=>{try{return await this.engine.pair(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"approve\",async t=>{try{return await this.engine.approve(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"reject\",async t=>{try{return await this.engine.reject(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"update\",async t=>{try{return await this.engine.update(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"extend\",async t=>{try{return await this.engine.extend(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"request\",async t=>{try{return await this.engine.request(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"respond\",async t=>{try{return await this.engine.respond(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"ping\",async t=>{try{return await this.engine.ping(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"emit\",async t=>{try{return await this.engine.emit(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"disconnect\",async t=>{try{return await this.engine.disconnect(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"find\",t=>{try{return this.engine.find(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"getPendingSessionRequests\",()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}}),E(this,\"authenticate\",async(t,s)=>{try{return await this.engine.authenticate(t,s)}catch(i){throw this.logger.error(i.message),i}}),E(this,\"formatAuthMessage\",t=>{try{return this.engine.formatAuthMessage(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"approveSessionAuthenticate\",async t=>{try{return await this.engine.approveSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"rejectSessionAuthenticate\",async t=>{try{return await this.engine.rejectSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),this.name=n?.name||me.name,this.metadata=n?.metadata||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getAppMetadata)(),this.signConfig=n?.signConfig;const e=typeof n?.logger<\"u\"&&typeof n?.logger!=\"string\"?n.logger:(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({level:n?.logger||me.logger}));this.core=n?.core||new _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Core(n),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.generateChildLogger)(e,this.name),this.session=new St(this.core,this.logger),this.proposal=new Ns(this.core,this.logger),this.pendingRequest=new Os(this.core,this.logger),this.engine=new Ps(this),this.auth=new Ds(this.core,this.logger)}static async init(n){const e=new Ee(n);return await e.initialize(),e}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace(\"Initialized\");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info(\"SignClient Initialization Success\"),setTimeout(()=>{this.engine.processRelayMessageCache()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND))}catch(n){throw this.logger.info(\"SignClient Initialization Failure\"),this.logger.error(n.message),n}}}const Ms=St,$s=Ee;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9zaWduLWNsaWVudC9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ3RFLHFDQUFxQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsT0FBTyw4RUFBOEUsS0FBSyw0Y0FBNGMsS0FBSyxvQkFBb0Isd0NBQXdDLGtHQUFrRyx3Q0FBd0MsNERBQUUsc0NBQXNDLDJEQUFFLGdCQUFnQixtQkFBbUIsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMsb0JBQW9CLFNBQVMsSUFBSSw2REFBQyxvQkFBb0IsYUFBYSxJQUFJLDZEQUFDLHFCQUFxQixtQkFBbUIsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQixvQkFBb0IsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMscUJBQXFCLGtCQUFrQixLQUFLLElBQUksNkRBQUMsb0JBQW9CLE1BQU0sSUFBSSw2REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQixpQkFBaUIsS0FBSyxJQUFJLHdEQUFDLG9CQUFvQixNQUFNLElBQUksd0RBQUMscUJBQXFCLHlCQUF5QixLQUFLLElBQUkseURBQUUsb0JBQW9CLE1BQU0sSUFBSSx5REFBRSxvQkFBb0IsU0FBUyxJQUFJLDZEQUFDLG9CQUFvQixhQUFhLElBQUksNkRBQUMsc0JBQXNCLEtBQUssSUFBSSw2REFBQyxL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Z0MsSUFBSSx1Q0FBdUMsU0FBUyxzQ0FBc0Msb0JBQW9CLElBQUksMkJBQTJCLFNBQVMsc0NBQXNDLDBDQUEwQyxJQUFJLCtDQUErQyxTQUFTLHNDQUFzQyxxQ0FBcUMsSUFBSSwyQ0FBMkMsU0FBUyxzQ0FBc0MsaUNBQWlDLElBQUksd0NBQXdDLFNBQVMsc0NBQXNDLGdEQUFnRCxJQUFJLHVEQUF1RCxTQUFTLHNDQUFzQywrQ0FBK0MsSUFBSSxzREFBc0QsU0FBUyxzQ0FBc0Msd0RBQXdELG9FQUFFLGlDQUFpQyxrRUFBa0UsMkRBQUUsQ0FBQyw4RUFBRSxFQUFFLDJCQUEyQixHQUFHLHVCQUF1QixxREFBRSxnQkFBZ0IsMEVBQUUsd05BQXdOLHFCQUFxQixrQkFBa0IsOEJBQThCLGNBQWMsT0FBTyx1RUFBRSxjQUFjLGNBQWMsa0NBQWtDLG1CQUFtQixpQ0FBaUMsSUFBSSxvT0FBb08sdUNBQXVDLENBQUMsa0VBQUUsQ0FBQywyREFBRSxHQUFHLFNBQVMsNkZBQTZGLGtCQUFpMkI7QUFDbjQ5RCIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3NpZ24tY2xpZW50L2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e1JFTEFZRVJfRVZFTlRTIGFzIFhlLFRSQU5TUE9SVF9UWVBFUyBhcyBQLEVYUElSRVJfRVZFTlRTIGFzIFR0LFBBSVJJTkdfRVZFTlRTIGFzIEplLFJFTEFZRVJfREVGQVVMVF9QUk9UT0NPTCBhcyBxdCxFVkVOVF9DTElFTlRfU0VTU0lPTl9UUkFDRVMgYXMgayxFVkVOVF9DTElFTlRfU0VTU0lPTl9FUlJPUlMgYXMgSCxFVkVOVF9DTElFTlRfQVVUSEVOVElDQVRFX1RSQUNFUyBhcyB6LEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfRVJST1JTIGFzIHJlLEVWRU5UX0NMSUVOVF9QQUlSSU5HX0VSUk9SUyBhcyBQdCxFVkVOVF9DTElFTlRfUEFJUklOR19UUkFDRVMgYXMgTnQsVkVSSUZZX1NFUlZFUiBhcyBPdCxTdG9yZSBhcyBCLENvcmUgYXMgYnR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvY29yZVwiO2ltcG9ydHtwaW5vIGFzIEF0LGdldERlZmF1bHRMb2dnZXJPcHRpb25zIGFzIHh0LGdlbmVyYXRlQ2hpbGRMb2dnZXIgYXMgQ3QsZ2V0TG9nZ2VyQ29udGV4dCBhcyBWdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9sb2dnZXJcIjtpbXBvcnR7SUVuZ2luZSBhcyBEdCxJU2lnbkNsaWVudCBhcyBMdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC90eXBlc1wiO2ltcG9ydHtUSElSVFlfREFZUyBhcyBrdCxTRVZFTl9EQVlTIGFzIEJlLEZJVkVfTUlOVVRFUyBhcyBDLE9ORV9EQVkgYXMgSyxPTkVfSE9VUiBhcyBXZSxPTkVfU0VDT05EIGFzIFplLHRvTWlsaXNlY29uZHMgYXMgT2V9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdGltZVwiO2ltcG9ydHtnZXRJbnRlcm5hbEVycm9yIGFzIHksQkFTRTY0VVJMIGFzIG5lLEJBU0U2NCBhcyBkZSxoYXNoTWVzc2FnZSBhcyBXLHBhcnNlRXhwaXJlclRhcmdldCBhcyBNdCxpc1ZhbGlkU3RyaW5nIGFzIFksaXNFeHBpcmVkIGFzIFosaXNWYWxpZElkIGFzICR0LGNhbGNFeHBpcnkgYXMgVixlbmdpbmVFdmVudCBhcyBSLGNyZWF0ZURlbGF5ZWRQcm9taXNlIGFzIGVlLGdldFNka0Vycm9yIGFzIE8sZ2V0RGVlcExpbmsgYXMgVXQsaGFuZGxlRGVlcGxpbmtSZWRpcmVjdCBhcyBLdCxpc1Nlc3Npb25Db21wYXRpYmxlIGFzIEd0LGhhc2hLZXkgYXMgYmUscGFyc2VDaGFpbklkIGFzIEFlLGNyZWF0ZUVuY29kZWRSZWNhcCBhcyBqdCxnZXRSZWNhcEZyb21SZXNvdXJjZXMgYXMgeGUsbWVyZ2VFbmNvZGVkUmVjYXBzIGFzIEZ0LFRZUEVfMiBhcyBRdCxnZXRMaW5rTW9kZVVSTCBhcyB1ZSx2YWxpZGF0ZVNpZ25lZENhY2FvIGFzIGV0LGdldE5hbWVzcGFjZWREaWRDaGFpbklkIGFzIHR0LGdldERpZEFkZHJlc3MgYXMgc3QsZ2V0TWV0aG9kc0Zyb21SZWNhcCBhcyBpdCxnZXRDaGFpbnNGcm9tUmVjYXAgYXMgcnQsYnVpbGROYW1lc3BhY2VzRnJvbUF1dGggYXMgbnQsZm9ybWF0TWVzc2FnZSBhcyBIdCxNZW1vcnlTdG9yZSBhcyBvZSxpc1ZhbGlkUGFyYW1zIGFzIE0saXNVbmRlZmluZWQgYXMgWCxpc1ZhbGlkUmVsYXlzIGFzIHp0LGlzVmFsaWRPYmplY3QgYXMgb3QsaXNWYWxpZFJlcXVpcmVkTmFtZXNwYWNlcyBhcyBZdCxpc1ZhbGlkTmFtZXNwYWNlcyBhcyBDZSxpc0NvbmZvcm1pbmdOYW1lc3BhY2VzIGFzIGF0LGlzVmFsaWRFcnJvclJlYXNvbiBhcyBYdCxpc1ZhbGlkUmVsYXkgYXMgSnQsaXNWYWxpZENvbnRyb2xsZXIgYXMgQnQsaXNWYWxpZE5hbWVzcGFjZXNDaGFpbklkIGFzIGN0LGlzVmFsaWRSZXF1ZXN0IGFzIFd0LGlzVmFsaWROYW1lc3BhY2VzUmVxdWVzdCBhcyBadCxpc1ZhbGlkUmVxdWVzdEV4cGlyeSBhcyBlcyxpc1ZhbGlkUmVzcG9uc2UgYXMgdHMsaXNWYWxpZEV2ZW50IGFzIHNzLGlzVmFsaWROYW1lc3BhY2VzRXZlbnQgYXMgaXMsZ2V0U2VhcmNoUGFyYW1Gcm9tVVJMIGFzIGx0LGlzVGVzdFJ1biBhcyBycyxpc1JlYWN0TmF0aXZlIGFzIG5zLGlzVmFsaWRBcnJheSBhcyBvcyxleHRyYWN0U29sYW5hVHJhbnNhY3Rpb25JZCBhcyBhcyxUWVBFXzEgYXMgVmUsZ2V0QXBwTWV0YWRhdGEgYXMgY3N9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdXRpbHNcIjtpbXBvcnQgbHMse0V2ZW50RW1pdHRlciBhcyBwc31mcm9tXCJldmVudHNcIjtpbXBvcnR7aXNKc29uUnBjUmVxdWVzdCBhcyBocyxpc0pzb25ScGNSZXNwb25zZSBhcyBkcyxwYXlsb2FkSWQgYXMgRyxnZXRCaWdJbnRScGNJZCBhcyBnZSxpc0pzb25ScGNSZXN1bHQgYXMgaixpc0pzb25ScGNFcnJvciBhcyBGLGZvcm1hdEpzb25ScGNSZXF1ZXN0IGFzIHllLGZvcm1hdEpzb25ScGNSZXN1bHQgYXMgdXMsZm9ybWF0SnNvblJwY0Vycm9yIGFzIGdzfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHNcIjtjb25zdCBEZT1cIndjXCIsTGU9MixrZT1cImNsaWVudFwiLHdlPWAke0RlfUAke0xlfToke2tlfTpgLG1lPXtuYW1lOmtlLGxvZ2dlcjpcImVycm9yXCIsY29udHJvbGxlcjohMSxyZWxheVVybDpcIndzczovL3JlbGF5LndhbGxldGNvbm5lY3Qub3JnXCJ9LHlzPXtzZXNzaW9uX3Byb3Bvc2FsOlwic2Vzc2lvbl9wcm9wb3NhbFwiLHNlc3Npb25fdXBkYXRlOlwic2Vzc2lvbl91cGRhdGVcIixzZXNzaW9uX2V4dGVuZDpcInNlc3Npb25fZXh0ZW5kXCIsc2Vzc2lvbl9waW5nOlwic2Vzc2lvbl9waW5nXCIsc2Vzc2lvbl9kZWxldGU6XCJzZXNzaW9uX2RlbGV0ZVwiLHNlc3Npb25fZXhwaXJlOlwic2Vzc2lvbl9leHBpcmVcIixzZXNzaW9uX3JlcXVlc3Q6XCJzZXNzaW9uX3JlcXVlc3RcIixzZXNzaW9uX3JlcXVlc3Rfc2VudDpcInNlc3Npb25fcmVxdWVzdF9zZW50XCIsc2Vzc2lvbl9ldmVudDpcInNlc3Npb25fZXZlbnRcIixwcm9wb3NhbF9leHBpcmU6XCJwcm9wb3NhbF9leHBpcmVcIixzZXNzaW9uX2F1dGhlbnRpY2F0ZTpcInNlc3Npb25fYXV0aGVudGljYXRlXCIsc2Vzc2lvbl9yZXF1ZXN0X2V4cGlyZTpcInNlc3Npb25fcmVxdWVzdF9leHBpcmVcIixzZXNzaW9uX2Nvbm5lY3Q6XCJzZXNzaW9uX2Nvbm5lY3RcIn0sd3M9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sTWU9XCJXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRVwiLG1zPXtjcmVhdGVkOlwiaGlzdG9yeV9jcmVhdGVkXCIsdXBkYXRlZDpcImhpc3RvcnlfdXBkYXRlZFwiLGRlbGV0ZWQ6XCJoaXN0b3J5X2RlbGV0ZWRcIixzeW5jOlwiaGlzdG9yeV9zeW5jXCJ9LF9zPVwiaGlzdG9yeVwiLEVzPVwiMC4zXCIscHQ9XCJwcm9wb3NhbFwiLGZzPWt0LCRlPVwiUHJvcG9zYWwgZXhwaXJlZFwiLGh0PVwic2Vzc2lvblwiLEo9QmUsZHQ9XCJlbmdpbmVcIixOPXt3Y19zZXNzaW9uUHJvcG9zZTp7cmVxOnt0dGw6Qyxwcm9tcHQ6ITAsdGFnOjExMDB9LHJlczp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTAxfSxyZWplY3Q6e3R0bDpDLHByb21wdDohMSx0YWc6MTEyMH0sYXV0b1JlamVjdDp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTIxfX0sd2Nfc2Vzc2lvblNldHRsZTp7cmVxOnt0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMDJ9LHJlczp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTAzfX0sd2Nfc2Vzc2lvblVwZGF0ZTp7cmVxOnt0dGw6Syxwcm9tcHQ6ITEsdGFnOjExMDR9LHJlczp7dHRsOksscHJvbXB0OiExLHRhZzoxMTA1fX0sd2Nfc2Vzc2lvbkV4dGVuZDp7cmVxOnt0dGw6Syxwcm9tcHQ6ITEsdGFnOjExMDZ9LHJlczp7dHRsOksscHJvbXB0OiExLHRhZzoxMTA3fX0sd2Nfc2Vzc2lvblJlcXVlc3Q6e3JlcTp7dHRsOkMscHJvbXB0OiEwLHRhZzoxMTA4fSxyZXM6e3R0bDpDLHByb21wdDohMSx0YWc6MTEwOX19LHdjX3Nlc3Npb25FdmVudDp7cmVxOnt0dGw6Qyxwcm9tcHQ6ITAsdGFnOjExMTB9LHJlczp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTExfX0sd2Nfc2Vzc2lvbkRlbGV0ZTp7cmVxOnt0dGw6Syxwcm9tcHQ6ITEsdGFnOjExMTJ9LHJlczp7dHRsOksscHJvbXB0OiExLHRhZzoxMTEzfX0sd2Nfc2Vzc2lvblBpbmc6e3JlcTp7dHRsOksscHJvbXB0OiExLHRhZzoxMTE0fSxyZXM6e3R0bDpLLHByb21wdDohMSx0YWc6MTExNX19LHdjX3Nlc3Npb25BdXRoZW50aWNhdGU6e3JlcTp7dHRsOldlLHByb21wdDohMCx0YWc6MTExNn0scmVzOnt0dGw6V2UscHJvbXB0OiExLHRhZzoxMTE3fSxyZWplY3Q6e3R0bDpDLHByb21wdDohMSx0YWc6MTExOH0sYXV0b1JlamVjdDp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTE5fX19LF9lPXttaW46QyxtYXg6QmV9LCQ9e2lkbGU6XCJJRExFXCIsYWN0aXZlOlwiQUNUSVZFXCJ9LFVlPXtldGhfc2VuZFRyYW5zYWN0aW9uOntrZXk6XCJcIn0sZXRoX3NlbmRSYXdUcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LHdhbGxldF9zZW5kQ2FsbHM6e2tleTpcIlwifSxzb2xhbmFfc2lnblRyYW5zYWN0aW9uOntrZXk6XCJzaWduYXR1cmVcIn0sc29sYW5hX3NpZ25BbGxUcmFuc2FjdGlvbnM6e2tleTpcInRyYW5zYWN0aW9uc1wifSxzb2xhbmFfc2lnbkFuZFNlbmRUcmFuc2FjdGlvbjp7a2V5Olwic2lnbmF0dXJlXCJ9fSx1dD1cInJlcXVlc3RcIixndD1bXCJ3Y19zZXNzaW9uUHJvcG9zZVwiLFwid2Nfc2Vzc2lvblJlcXVlc3RcIixcIndjX2F1dGhSZXF1ZXN0XCIsXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCJdLHl0PVwid2NcIixTcz0xLjUsd3Q9XCJhdXRoXCIsbXQ9XCJhdXRoS2V5c1wiLF90PVwicGFpcmluZ1RvcGljc1wiLEV0PVwicmVxdWVzdHNcIixhZT1gJHt5dH1AJHsxLjV9OiR7d3R9OmAsY2U9YCR7YWV9OlBVQl9LRVlgO3ZhciBScz1PYmplY3QuZGVmaW5lUHJvcGVydHksdnM9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsSXM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsZnQ9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxUcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHFzPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsS2U9KFMsbixlKT0+biBpbiBTP1JzKFMsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOlNbbl09ZSx2PShTLG4pPT57Zm9yKHZhciBlIGluIG58fChuPXt9KSlUcy5jYWxsKG4sZSkmJktlKFMsZSxuW2VdKTtpZihmdClmb3IodmFyIGUgb2YgZnQobikpcXMuY2FsbChuLGUpJiZLZShTLGUsbltlXSk7cmV0dXJuIFN9LGI9KFMsbik9PnZzKFMsSXMobikpLGM9KFMsbixlKT0+S2UoUyx0eXBlb2YgbiE9XCJzeW1ib2xcIj9uK1wiXCI6bixlKTtjbGFzcyBQcyBleHRlbmRzIER0e2NvbnN0cnVjdG9yKG4pe3N1cGVyKG4pLGModGhpcyxcIm5hbWVcIixkdCksYyh0aGlzLFwiZXZlbnRzXCIsbmV3IGxzKSxjKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxjKHRoaXMsXCJyZXF1ZXN0UXVldWVcIix7c3RhdGU6JC5pZGxlLHF1ZXVlOltdfSksYyh0aGlzLFwic2Vzc2lvblJlcXVlc3RRdWV1ZVwiLHtzdGF0ZTokLmlkbGUscXVldWU6W119KSxjKHRoaXMsXCJyZXF1ZXN0UXVldWVEZWxheVwiLFplKSxjKHRoaXMsXCJleHBlY3RlZFBhaXJpbmdNZXRob2RNYXBcIixuZXcgTWFwKSxjKHRoaXMsXCJyZWNlbnRseURlbGV0ZWRNYXBcIixuZXcgTWFwKSxjKHRoaXMsXCJyZWNlbnRseURlbGV0ZWRMaW1pdFwiLDIwMCksYyh0aGlzLFwicmVsYXlNZXNzYWdlQ2FjaGVcIixbXSksYyh0aGlzLFwicGVuZGluZ1Nlc3Npb25zXCIsbmV3IE1hcCksYyh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwoYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5yZWdpc3RlclJlbGF5ZXJFdmVudHMoKSx0aGlzLnJlZ2lzdGVyRXhwaXJlckV2ZW50cygpLHRoaXMucmVnaXN0ZXJQYWlyaW5nRXZlbnRzKCksYXdhaXQgdGhpcy5yZWdpc3RlckxpbmtNb2RlTGlzdGVuZXJzKCksdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnJlZ2lzdGVyKHttZXRob2RzOk9iamVjdC5rZXlzKE4pfSksdGhpcy5pbml0aWFsaXplZD0hMCxzZXRUaW1lb3V0KGFzeW5jKCk9Pnthd2FpdCB0aGlzLnByb2Nlc3NQZW5kaW5nTWVzc2FnZUV2ZW50cygpLHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZT10aGlzLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKSx0aGlzLnByb2Nlc3NTZXNzaW9uUmVxdWVzdFF1ZXVlKCl9LE9lKHRoaXMucmVxdWVzdFF1ZXVlRGVsYXkpKSl9KSxjKHRoaXMsXCJjb25uZWN0XCIsYXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IHQ9Yih2KHt9LGUpLHtyZXF1aXJlZE5hbWVzcGFjZXM6ZS5yZXF1aXJlZE5hbWVzcGFjZXN8fHt9LG9wdGlvbmFsTmFtZXNwYWNlczplLm9wdGlvbmFsTmFtZXNwYWNlc3x8e319KTthd2FpdCB0aGlzLmlzVmFsaWRDb25uZWN0KHQpO2NvbnN0e3BhaXJpbmdUb3BpYzpzLHJlcXVpcmVkTmFtZXNwYWNlczppLG9wdGlvbmFsTmFtZXNwYWNlczpyLHNlc3Npb25Qcm9wZXJ0aWVzOm8sc2NvcGVkUHJvcGVydGllczphLHJlbGF5czpsfT10O2xldCBwPXMsaCx1PSExO3RyeXtpZihwKXtjb25zdCBUPXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5nZXQocCk7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oXCJjb25uZWN0KCkgd2l0aCBleGlzdGluZyBwYWlyaW5nIHRvcGljIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlwiKSx1PVQuYWN0aXZlfX1jYXRjaChUKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYGNvbm5lY3QoKSAtPiBwYWlyaW5nLmdldCgke3B9KSBmYWlsZWRgKSxUfWlmKCFwfHwhdSl7Y29uc3R7dG9waWM6VCx1cmk6VX09YXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmNyZWF0ZSgpO3A9VCxoPVV9aWYoIXApe2NvbnN0e21lc3NhZ2U6VH09eShcIk5PX01BVENISU5HX0tFWVwiLGBjb25uZWN0KCkgcGFpcmluZyB0b3BpYzogJHtwfWApO3Rocm93IG5ldyBFcnJvcihUKX1jb25zdCBkPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLHc9Ti53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsfHxDLG09Vih3KSxmPWIodih2KHtyZXF1aXJlZE5hbWVzcGFjZXM6aSxvcHRpb25hbE5hbWVzcGFjZXM6cixyZWxheXM6bD8/W3twcm90b2NvbDpxdH1dLHByb3Bvc2VyOntwdWJsaWNLZXk6ZCxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0sZXhwaXJ5VGltZXN0YW1wOm0scGFpcmluZ1RvcGljOnB9LG8mJntzZXNzaW9uUHJvcGVydGllczpvfSksYSYme3Njb3BlZFByb3BlcnRpZXM6YX0pLHtpZDpHKCl9KSxfPVIoXCJzZXNzaW9uX2Nvbm5lY3RcIixmLmlkKSx7cmVqZWN0OmcscmVzb2x2ZTpBLGRvbmU6RH09ZWUodywkZSksST0oe2lkOlR9KT0+e1Q9PT1mLmlkJiYodGhpcy5jbGllbnQuZXZlbnRzLm9mZihcInByb3Bvc2FsX2V4cGlyZVwiLEkpLHRoaXMucGVuZGluZ1Nlc3Npb25zLmRlbGV0ZShmLmlkKSx0aGlzLmV2ZW50cy5lbWl0KF8se2Vycm9yOnttZXNzYWdlOiRlLGNvZGU6MH19KSl9O3JldHVybiB0aGlzLmNsaWVudC5ldmVudHMub24oXCJwcm9wb3NhbF9leHBpcmVcIixJKSx0aGlzLmV2ZW50cy5vbmNlKF8sKHtlcnJvcjpULHNlc3Npb246VX0pPT57dGhpcy5jbGllbnQuZXZlbnRzLm9mZihcInByb3Bvc2FsX2V4cGlyZVwiLEkpLFQ/ZyhUKTpVJiZBKFUpfSksYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6cCxtZXRob2Q6XCJ3Y19zZXNzaW9uUHJvcG9zZVwiLHBhcmFtczpmLHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGNsaWVudFJwY0lkOmYuaWR9KSxhd2FpdCB0aGlzLnNldFByb3Bvc2FsKGYuaWQsZikse3VyaTpoLGFwcHJvdmFsOkR9fSksYyh0aGlzLFwicGFpclwiLGFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyKGUpfWNhdGNoKHQpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInBhaXIoKSBmYWlsZWRcIiksdH19KSxjKHRoaXMsXCJhcHByb3ZlXCIsYXN5bmMgZT0+e3ZhciB0LHMsaTtjb25zdCByPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuY3JlYXRlRXZlbnQoe3Byb3BlcnRpZXM6e3RvcGljOih0PWU/LmlkKT09bnVsbD92b2lkIDA6dC50b1N0cmluZygpLHRyYWNlOltrLnNlc3Npb25fYXBwcm92ZV9zdGFydGVkXX19KTt0cnl7dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCl9Y2F0Y2gocSl7dGhyb3cgci5zZXRFcnJvcihILm5vX2ludGVybmV0X2Nvbm5lY3Rpb24pLHF9dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFByb3Bvc2FsSWQoZT8uaWQpfWNhdGNoKHEpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgYXBwcm92ZSgpIC0+IHByb3Bvc2FsLmdldCgke2U/LmlkfSkgZmFpbGVkYCksci5zZXRFcnJvcihILnByb3Bvc2FsX25vdF9mb3VuZCkscX10cnl7YXdhaXQgdGhpcy5pc1ZhbGlkQXBwcm92ZShlKX1jYXRjaChxKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJhcHByb3ZlKCkgLT4gaXNWYWxpZEFwcHJvdmUoKSBmYWlsZWRcIiksci5zZXRFcnJvcihILnNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlKSxxfWNvbnN0e2lkOm8scmVsYXlQcm90b2NvbDphLG5hbWVzcGFjZXM6bCxzZXNzaW9uUHJvcGVydGllczpwLHNjb3BlZFByb3BlcnRpZXM6aCxzZXNzaW9uQ29uZmlnOnV9PWUsZD10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQobyk7dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5kZWxldGVFdmVudCh7ZXZlbnRJZDpyLmV2ZW50SWR9KTtjb25zdHtwYWlyaW5nVG9waWM6dyxwcm9wb3NlcjptLHJlcXVpcmVkTmFtZXNwYWNlczpmLG9wdGlvbmFsTmFtZXNwYWNlczpffT1kO2xldCBnPShzPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQpPT1udWxsP3ZvaWQgMDpzLmdldEV2ZW50KHt0b3BpYzp3fSk7Z3x8KGc9KGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudCk9PW51bGw/dm9pZCAwOmkuY3JlYXRlRXZlbnQoe3R5cGU6ay5zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZCxwcm9wZXJ0aWVzOnt0b3BpYzp3LHRyYWNlOltrLnNlc3Npb25fYXBwcm92ZV9zdGFydGVkLGsuc2Vzc2lvbl9uYW1lc3BhY2VzX3ZhbGlkYXRpb25fc3VjY2Vzc119fSkpO2NvbnN0IEE9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksRD1tLnB1YmxpY0tleSxJPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KEEsRCksVD12KHYodih7cmVsYXk6e3Byb3RvY29sOmE/P1wiaXJuXCJ9LG5hbWVzcGFjZXM6bCxjb250cm9sbGVyOntwdWJsaWNLZXk6QSxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0sZXhwaXJ5OlYoSil9LHAmJntzZXNzaW9uUHJvcGVydGllczpwfSksaCYme3Njb3BlZFByb3BlcnRpZXM6aH0pLHUmJntzZXNzaW9uQ29uZmlnOnV9KSxVPVAucmVsYXk7Zy5hZGRUcmFjZShrLnN1YnNjcmliaW5nX3Nlc3Npb25fdG9waWMpO3RyeXthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKEkse3RyYW5zcG9ydFR5cGU6VX0pfWNhdGNoKHEpe3Rocm93IGcuc2V0RXJyb3IoSC5zdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19mYWlsdXJlKSxxfWcuYWRkVHJhY2Uoay5zdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19zdWNjZXNzKTtjb25zdCBmZT1iKHYoe30sVCkse3RvcGljOkkscmVxdWlyZWROYW1lc3BhY2VzOmYsb3B0aW9uYWxOYW1lc3BhY2VzOl8scGFpcmluZ1RvcGljOncsYWNrbm93bGVkZ2VkOiExLHNlbGY6VC5jb250cm9sbGVyLHBlZXI6e3B1YmxpY0tleTptLnB1YmxpY0tleSxtZXRhZGF0YTptLm1ldGFkYXRhfSxjb250cm9sbGVyOkEsdHJhbnNwb3J0VHlwZTpQLnJlbGF5fSk7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQoSSxmZSksZy5hZGRUcmFjZShrLnN0b3JlX3Nlc3Npb24pO3RyeXtnLmFkZFRyYWNlKGsucHVibGlzaGluZ19zZXNzaW9uX3NldHRsZSksYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6SSxtZXRob2Q6XCJ3Y19zZXNzaW9uU2V0dGxlXCIscGFyYW1zOlQsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KS5jYXRjaChxPT57dGhyb3cgZz8uc2V0RXJyb3IoSC5zZXNzaW9uX3NldHRsZV9wdWJsaXNoX2ZhaWx1cmUpLHF9KSxnLmFkZFRyYWNlKGsuc2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9zdWNjZXNzKSxnLmFkZFRyYWNlKGsucHVibGlzaGluZ19zZXNzaW9uX2FwcHJvdmUpLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6byx0b3BpYzp3LHJlc3VsdDp7cmVsYXk6e3Byb3RvY29sOmE/P1wiaXJuXCJ9LHJlc3BvbmRlclB1YmxpY0tleTpBfSx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLmNhdGNoKHE9Pnt0aHJvdyBnPy5zZXRFcnJvcihILnNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmUpLHF9KSxnLmFkZFRyYWNlKGsuc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2Vzcyl9Y2F0Y2gocSl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHEpLHRoaXMuY2xpZW50LnNlc3Npb24uZGVsZXRlKEksTyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUoSSkscX1yZXR1cm4gdGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5kZWxldGVFdmVudCh7ZXZlbnRJZDpnLmV2ZW50SWR9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOncsbWV0YWRhdGE6bS5tZXRhZGF0YX0pLGF3YWl0IHRoaXMuY2xpZW50LnByb3Bvc2FsLmRlbGV0ZShvLE8oXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmFjdGl2YXRlKHt0b3BpYzp3fSksYXdhaXQgdGhpcy5zZXRFeHBpcnkoSSxWKEopKSx7dG9waWM6SSxhY2tub3dsZWRnZWQ6KCk9PlByb21pc2UucmVzb2x2ZSh0aGlzLmNsaWVudC5zZXNzaW9uLmdldChJKSl9fSksYyh0aGlzLFwicmVqZWN0XCIsYXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRSZWplY3QoZSl9Y2F0Y2gocil7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwicmVqZWN0KCkgLT4gaXNWYWxpZFJlamVjdCgpIGZhaWxlZFwiKSxyfWNvbnN0e2lkOnQscmVhc29uOnN9PWU7bGV0IGk7dHJ5e2k9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KHQpLnBhaXJpbmdUb3BpY31jYXRjaChyKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHJlamVjdCgpIC0+IHByb3Bvc2FsLmdldCgke3R9KSBmYWlsZWRgKSxyfWkmJihhd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6dCx0b3BpYzppLGVycm9yOnMscnBjT3B0czpOLndjX3Nlc3Npb25Qcm9wb3NlLnJlamVjdH0pLGF3YWl0IHRoaXMuY2xpZW50LnByb3Bvc2FsLmRlbGV0ZSh0LE8oXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSkpfSksYyh0aGlzLFwidXBkYXRlXCIsYXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRVcGRhdGUoZSl9Y2F0Y2goaCl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwidXBkYXRlKCkgLT4gaXNWYWxpZFVwZGF0ZSgpIGZhaWxlZFwiKSxofWNvbnN0e3RvcGljOnQsbmFtZXNwYWNlczpzfT1lLHtkb25lOmkscmVzb2x2ZTpyLHJlamVjdDpvfT1lZSgpLGE9RygpLGw9Z2UoKS50b1N0cmluZygpLHA9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQodCkubmFtZXNwYWNlcztyZXR1cm4gdGhpcy5ldmVudHMub25jZShSKFwic2Vzc2lvbl91cGRhdGVcIixhKSwoe2Vycm9yOmh9KT0+e2g/byhoKTpyKCl9KSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZSh0LHtuYW1lc3BhY2VzOnN9KSxhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzp0LG1ldGhvZDpcIndjX3Nlc3Npb25VcGRhdGVcIixwYXJhbXM6e25hbWVzcGFjZXM6c30sdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6YSxyZWxheVJwY0lkOmx9KS5jYXRjaChoPT57dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGgpLHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKHQse25hbWVzcGFjZXM6cH0pLG8oaCl9KSx7YWNrbm93bGVkZ2VkOml9fSksYyh0aGlzLFwiZXh0ZW5kXCIsYXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRFeHRlbmQoZSl9Y2F0Y2goYSl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwiZXh0ZW5kKCkgLT4gaXNWYWxpZEV4dGVuZCgpIGZhaWxlZFwiKSxhfWNvbnN0e3RvcGljOnR9PWUscz1HKCkse2RvbmU6aSxyZXNvbHZlOnIscmVqZWN0Om99PWVlKCk7cmV0dXJuIHRoaXMuZXZlbnRzLm9uY2UoUihcInNlc3Npb25fZXh0ZW5kXCIscyksKHtlcnJvcjphfSk9PnthP28oYSk6cigpfSksYXdhaXQgdGhpcy5zZXRFeHBpcnkodCxWKEopKSx0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzp0LG1ldGhvZDpcIndjX3Nlc3Npb25FeHRlbmRcIixwYXJhbXM6e30sY2xpZW50UnBjSWQ6cyx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLmNhdGNoKGE9PntvKGEpfSkse2Fja25vd2xlZGdlZDppfX0pLGModGhpcyxcInJlcXVlc3RcIixhc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFJlcXVlc3QoZSl9Y2F0Y2goXyl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwicmVxdWVzdCgpIC0+IGlzVmFsaWRSZXF1ZXN0KCkgZmFpbGVkXCIpLF99Y29uc3R7Y2hhaW5JZDp0LHJlcXVlc3Q6cyx0b3BpYzppLGV4cGlyeTpyPU4ud2Nfc2Vzc2lvblJlcXVlc3QucmVxLnR0bH09ZSxvPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGkpO28/LnRyYW5zcG9ydFR5cGU9PT1QLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBhPUcoKSxsPWdlKCkudG9TdHJpbmcoKSx7ZG9uZTpwLHJlc29sdmU6aCxyZWplY3Q6dX09ZWUocixcIlJlcXVlc3QgZXhwaXJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7dGhpcy5ldmVudHMub25jZShSKFwic2Vzc2lvbl9yZXF1ZXN0XCIsYSksKHtlcnJvcjpfLHJlc3VsdDpnfSk9PntfP3UoXyk6aChnKX0pO2NvbnN0IGQ9XCJ3Y19zZXNzaW9uUmVxdWVzdFwiLHc9dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKG8ucGVlci5tZXRhZGF0YSxvLnRyYW5zcG9ydFR5cGUpO2lmKHcpcmV0dXJuIGF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe2NsaWVudFJwY0lkOmEscmVsYXlScGNJZDpsLHRvcGljOmksbWV0aG9kOmQscGFyYW1zOntyZXF1ZXN0OmIodih7fSxzKSx7ZXhwaXJ5VGltZXN0YW1wOlYocil9KSxjaGFpbklkOnR9LGV4cGlyeTpyLHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGFwcExpbms6d30pLmNhdGNoKF89PnUoXykpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9yZXF1ZXN0X3NlbnRcIix7dG9waWM6aSxyZXF1ZXN0OnMsY2hhaW5JZDp0LGlkOmF9KSxhd2FpdCBwKCk7Y29uc3QgbT17cmVxdWVzdDpiKHYoe30scykse2V4cGlyeVRpbWVzdGFtcDpWKHIpfSksY2hhaW5JZDp0fSxmPXRoaXMuc2hvdWxkU2V0VFZGKGQsbSk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKFtuZXcgUHJvbWlzZShhc3luYyBfPT57YXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh2KHtjbGllbnRScGNJZDphLHJlbGF5UnBjSWQ6bCx0b3BpYzppLG1ldGhvZDpkLHBhcmFtczptLGV4cGlyeTpyLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSxmJiZ7dHZmOnRoaXMuZ2V0VFZGUGFyYW1zKGEsbSl9KSkuY2F0Y2goZz0+dShnKSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3JlcXVlc3Rfc2VudFwiLHt0b3BpYzppLHJlcXVlc3Q6cyxjaGFpbklkOnQsaWQ6YX0pLF8oKX0pLG5ldyBQcm9taXNlKGFzeW5jIF89Pnt2YXIgZztpZighKChnPW8uc2Vzc2lvbkNvbmZpZykhPW51bGwmJmcuZGlzYWJsZURlZXBMaW5rKSl7Y29uc3QgQT1hd2FpdCBVdCh0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UsTWUpO2F3YWl0IEt0KHtpZDphLHRvcGljOmksd2NEZWVwTGluazpBfSl9XygpfSkscCgpXSkudGhlbihfPT5fWzJdKX0pLGModGhpcyxcInJlc3BvbmRcIixhc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5pc1ZhbGlkUmVzcG9uZChlKTtjb25zdHt0b3BpYzp0LHJlc3BvbnNlOnN9PWUse2lkOml9PXMscj10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0KTtyLnRyYW5zcG9ydFR5cGU9PT1QLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBvPXRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChyLnBlZXIubWV0YWRhdGEsci50cmFuc3BvcnRUeXBlKTtqKHMpP2F3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6aSx0b3BpYzp0LHJlc3VsdDpzLnJlc3VsdCx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxhcHBMaW5rOm99KTpGKHMpJiZhd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6aSx0b3BpYzp0LGVycm9yOnMuZXJyb3IsYXBwTGluazpvfSksdGhpcy5jbGVhbnVwQWZ0ZXJSZXNwb25zZShlKX0pLGModGhpcyxcInBpbmdcIixhc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFBpbmcoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwicGluZygpIC0+IGlzVmFsaWRQaW5nKCkgZmFpbGVkXCIpLHN9Y29uc3R7dG9waWM6dH09ZTtpZih0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXModCkpe2NvbnN0IHM9RygpLGk9Z2UoKS50b1N0cmluZygpLHtkb25lOnIscmVzb2x2ZTpvLHJlamVjdDphfT1lZSgpO3RoaXMuZXZlbnRzLm9uY2UoUihcInNlc3Npb25fcGluZ1wiLHMpLCh7ZXJyb3I6bH0pPT57bD9hKGwpOm8oKX0pLGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzp0LG1ldGhvZDpcIndjX3Nlc3Npb25QaW5nXCIscGFyYW1zOnt9LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGNsaWVudFJwY0lkOnMscmVsYXlScGNJZDppfSkscigpXSl9ZWxzZSB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyh0KSYmKHRoaXMuY2xpZW50LmxvZ2dlci53YXJuKFwicGluZygpIG9uIHBhaXJpbmcgdG9waWMgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXCIpLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5waW5nKHt0b3BpYzp0fSkpfSksYyh0aGlzLFwiZW1pdFwiLGFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxhd2FpdCB0aGlzLmlzVmFsaWRFbWl0KGUpO2NvbnN0e3RvcGljOnQsZXZlbnQ6cyxjaGFpbklkOml9PWUscj1nZSgpLnRvU3RyaW5nKCksbz1HKCk7YXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6dCxtZXRob2Q6XCJ3Y19zZXNzaW9uRXZlbnRcIixwYXJhbXM6e2V2ZW50OnMsY2hhaW5JZDppfSx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxyZWxheVJwY0lkOnIsY2xpZW50UnBjSWQ6b30pfSksYyh0aGlzLFwiZGlzY29ubmVjdFwiLGFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxhd2FpdCB0aGlzLmlzVmFsaWREaXNjb25uZWN0KGUpO2NvbnN0e3RvcGljOnR9PWU7aWYodGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKHQpKWF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOnQsbWV0aG9kOlwid2Nfc2Vzc2lvbkRlbGV0ZVwiLHBhcmFtczpPKFwiVVNFUl9ESVNDT05ORUNURURcIiksdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOnQsZW1pdEV2ZW50OiExfSk7ZWxzZSBpZih0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyh0KSlhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuZGlzY29ubmVjdCh7dG9waWM6dH0pO2Vsc2V7Y29uc3R7bWVzc2FnZTpzfT15KFwiTUlTTUFUQ0hFRF9UT1BJQ1wiLGBTZXNzaW9uIG9yIHBhaXJpbmcgdG9waWMgbm90IGZvdW5kOiAke3R9YCk7dGhyb3cgbmV3IEVycm9yKHMpfX0pLGModGhpcyxcImZpbmRcIixlPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKS5maWx0ZXIodD0+R3QodCxlKSkpKSxjKHRoaXMsXCJnZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzXCIsKCk9PnRoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LmdldEFsbCgpKSxjKHRoaXMsXCJhdXRoZW50aWNhdGVcIixhc3luYyhlLHQpPT57dmFyIHM7dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5pc1ZhbGlkQXV0aGVudGljYXRlKGUpO2NvbnN0IGk9dCYmdGhpcy5jbGllbnQuY29yZS5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXModCkmJigocz10aGlzLmNsaWVudC5tZXRhZGF0YS5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnMubGlua01vZGUpLHI9aT9QLmxpbmtfbW9kZTpQLnJlbGF5O3I9PT1QLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdHtjaGFpbnM6byxzdGF0ZW1lbnQ6YT1cIlwiLHVyaTpsLGRvbWFpbjpwLG5vbmNlOmgsdHlwZTp1LGV4cDpkLG5iZjp3LG1ldGhvZHM6bT1bXSxleHBpcnk6Zn09ZSxfPVsuLi5lLnJlc291cmNlc3x8W11dLHt0b3BpYzpnLHVyaTpBfT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuY3JlYXRlKHttZXRob2RzOltcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIl0sdHJhbnNwb3J0VHlwZTpyfSk7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oe21lc3NhZ2U6XCJHZW5lcmF0ZWQgbmV3IHBhaXJpbmdcIixwYWlyaW5nOnt0b3BpYzpnLHVyaTpBfX0pO2NvbnN0IEQ9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksST1iZShEKTtpZihhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQuYXV0aC5hdXRoS2V5cy5zZXQoY2Use3Jlc3BvbnNlVG9waWM6SSxwdWJsaWNLZXk6RH0pLHRoaXMuY2xpZW50LmF1dGgucGFpcmluZ1RvcGljcy5zZXQoSSx7dG9waWM6SSxwYWlyaW5nVG9waWM6Z30pXSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShJLHt0cmFuc3BvcnRUeXBlOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgc2VuZGluZyByZXF1ZXN0IHRvIG5ldyBwYWlyaW5nIHRvcGljOiAke2d9YCksbS5sZW5ndGg+MCl7Y29uc3R7bmFtZXNwYWNlOnh9PUFlKG9bMF0pO2xldCBMPWp0KHgsXCJyZXF1ZXN0XCIsbSk7eGUoXykmJihMPUZ0KEwsXy5wb3AoKSkpLF8ucHVzaChMKX1jb25zdCBUPWYmJmY+Ti53Y19zZXNzaW9uQXV0aGVudGljYXRlLnJlcS50dGw/ZjpOLndjX3Nlc3Npb25BdXRoZW50aWNhdGUucmVxLnR0bCxVPXthdXRoUGF5bG9hZDp7dHlwZTp1Pz9cImNhaXAxMjJcIixjaGFpbnM6byxzdGF0ZW1lbnQ6YSxhdWQ6bCxkb21haW46cCx2ZXJzaW9uOlwiMVwiLG5vbmNlOmgsaWF0Om5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxleHA6ZCxuYmY6dyxyZXNvdXJjZXM6X30scmVxdWVzdGVyOntwdWJsaWNLZXk6RCxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0sZXhwaXJ5VGltZXN0YW1wOlYoVCl9LGZlPXtlaXAxNTU6e2NoYWluczpvLG1ldGhvZHM6Wy4uLm5ldyBTZXQoW1wicGVyc29uYWxfc2lnblwiLC4uLm1dKV0sZXZlbnRzOltcImNoYWluQ2hhbmdlZFwiLFwiYWNjb3VudHNDaGFuZ2VkXCJdfX0scT17cmVxdWlyZWROYW1lc3BhY2VzOnt9LG9wdGlvbmFsTmFtZXNwYWNlczpmZSxyZWxheXM6W3twcm90b2NvbDpcImlyblwifV0scGFpcmluZ1RvcGljOmcscHJvcG9zZXI6e3B1YmxpY0tleTpELG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxleHBpcnlUaW1lc3RhbXA6VihOLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwpLGlkOkcoKX0se2RvbmU6UnQscmVzb2x2ZTpqZSxyZWplY3Q6U2V9PWVlKFQsXCJSZXF1ZXN0IGV4cGlyZWRcIiksdGU9RygpLGxlPVIoXCJzZXNzaW9uX2Nvbm5lY3RcIixxLmlkKSxSZT1SKFwic2Vzc2lvbl9yZXF1ZXN0XCIsdGUpLHBlPWFzeW5jKHtlcnJvcjp4LHNlc3Npb246TH0pPT57dGhpcy5ldmVudHMub2ZmKFJlLHZlKSx4P1NlKHgpOkwmJmplKHtzZXNzaW9uOkx9KX0sdmU9YXN5bmMgeD0+e3ZhciBMLEZlLFFlO2lmKGF3YWl0IHRoaXMuZGVsZXRlUGVuZGluZ0F1dGhSZXF1ZXN0KHRlLHttZXNzYWdlOlwiZnVsZmlsbGVkXCIsY29kZTowfSkseC5lcnJvcil7Y29uc3QgaWU9TyhcIldDX01FVEhPRF9VTlNVUFBPUlRFRFwiLFwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiKTtyZXR1cm4geC5lcnJvci5jb2RlPT09aWUuY29kZT92b2lkIDA6KHRoaXMuZXZlbnRzLm9mZihsZSxwZSksU2UoeC5lcnJvci5tZXNzYWdlKSl9YXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChxLmlkKSx0aGlzLmV2ZW50cy5vZmYobGUscGUpO2NvbnN0e2NhY2FvczpIZSxyZXNwb25kZXI6UX09eC5yZXN1bHQsVGU9W10semU9W107Zm9yKGNvbnN0IGllIG9mIEhlKXthd2FpdCBldCh7Y2FjYW86aWUscHJvamVjdElkOnRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkfSl8fCh0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaWUsXCJTaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZFwiKSxTZShPKFwiU0VTU0lPTl9TRVRUTEVNRU5UX0ZBSUxFRFwiLFwiU2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWRcIikpKTtjb25zdHtwOnFlfT1pZSxQZT14ZShxZS5yZXNvdXJjZXMpLFllPVt0dChxZS5pc3MpXSx2dD1zdChxZS5pc3MpO2lmKFBlKXtjb25zdCBOZT1pdChQZSksSXQ9cnQoUGUpO1RlLnB1c2goLi4uTmUpLFllLnB1c2goLi4uSXQpfWZvcihjb25zdCBOZSBvZiBZZSl6ZS5wdXNoKGAke05lfToke3Z0fWApfWNvbnN0IHNlPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KEQsUS5wdWJsaWNLZXkpO2xldCBoZTtUZS5sZW5ndGg+MCYmKGhlPXt0b3BpYzpzZSxhY2tub3dsZWRnZWQ6ITAsc2VsZjp7cHVibGljS2V5OkQsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LHBlZXI6USxjb250cm9sbGVyOlEucHVibGljS2V5LGV4cGlyeTpWKEopLHJlcXVpcmVkTmFtZXNwYWNlczp7fSxvcHRpb25hbE5hbWVzcGFjZXM6e30scmVsYXk6e3Byb3RvY29sOlwiaXJuXCJ9LHBhaXJpbmdUb3BpYzpnLG5hbWVzcGFjZXM6bnQoWy4uLm5ldyBTZXQoVGUpXSxbLi4ubmV3IFNldCh6ZSldKSx0cmFuc3BvcnRUeXBlOnJ9LGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUoc2Use3RyYW5zcG9ydFR5cGU6cn0pLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uc2V0KHNlLGhlKSxnJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOmcsbWV0YWRhdGE6US5tZXRhZGF0YX0pLGhlPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHNlKSksKEw9dGhpcy5jbGllbnQubWV0YWRhdGEucmVkaXJlY3QpIT1udWxsJiZMLmxpbmtNb2RlJiYoRmU9US5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJkZlLmxpbmtNb2RlJiYoUWU9US5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJlFlLnVuaXZlcnNhbCYmdCYmKHRoaXMuY2xpZW50LmNvcmUuYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoUS5tZXRhZGF0YS5yZWRpcmVjdC51bml2ZXJzYWwpLHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKHNlLHt0cmFuc3BvcnRUeXBlOlAubGlua19tb2RlfSkpLGplKHthdXRoczpIZSxzZXNzaW9uOmhlfSl9O3RoaXMuZXZlbnRzLm9uY2UobGUscGUpLHRoaXMuZXZlbnRzLm9uY2UoUmUsdmUpO2xldCBJZTt0cnl7aWYoaSl7Y29uc3QgeD15ZShcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIixVLHRlKTt0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KGcseCk7Y29uc3QgTD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUoXCJcIix4LHt0eXBlOlF0LGVuY29kaW5nOm5lfSk7SWU9dWUodCxnLEwpfWVsc2UgYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOmcsbWV0aG9kOlwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLHBhcmFtczpVLGV4cGlyeTplLmV4cGlyeSx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDp0ZX0pLHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOmcsbWV0aG9kOlwid2Nfc2Vzc2lvblByb3Bvc2VcIixwYXJhbXM6cSxleHBpcnk6Ti53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsLHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGNsaWVudFJwY0lkOnEuaWR9KV0pfWNhdGNoKHgpe3Rocm93IHRoaXMuZXZlbnRzLm9mZihsZSxwZSksdGhpcy5ldmVudHMub2ZmKFJlLHZlKSx4fXJldHVybiBhd2FpdCB0aGlzLnNldFByb3Bvc2FsKHEuaWQscSksYXdhaXQgdGhpcy5zZXRBdXRoUmVxdWVzdCh0ZSx7cmVxdWVzdDpiKHYoe30sVSkse3ZlcmlmeUNvbnRleHQ6e319KSxwYWlyaW5nVG9waWM6Zyx0cmFuc3BvcnRUeXBlOnJ9KSx7dXJpOkllPz9BLHJlc3BvbnNlOlJ0fX0pLGModGhpcyxcImFwcHJvdmVTZXNzaW9uQXV0aGVudGljYXRlXCIsYXN5bmMgZT0+e2NvbnN0e2lkOnQsYXV0aHM6c309ZSxpPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuY3JlYXRlRXZlbnQoe3Byb3BlcnRpZXM6e3RvcGljOnQudG9TdHJpbmcoKSx0cmFjZTpbei5hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkXX19KTt0cnl7dGhpcy5pc0luaXRpYWxpemVkKCl9Y2F0Y2goZil7dGhyb3cgaS5zZXRFcnJvcihyZS5ub19pbnRlcm5ldF9jb25uZWN0aW9uKSxmfWNvbnN0IHI9dGhpcy5nZXRQZW5kaW5nQXV0aFJlcXVlc3QodCk7aWYoIXIpdGhyb3cgaS5zZXRFcnJvcihyZS5hdXRoZW50aWNhdGVkX3Nlc3Npb25fcGVuZGluZ19yZXF1ZXN0X25vdF9mb3VuZCksbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBwZW5kaW5nIGF1dGggcmVxdWVzdCB3aXRoIGlkICR7dH1gKTtjb25zdCBvPXIudHJhbnNwb3J0VHlwZXx8UC5yZWxheTtvPT09UC5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3QgYT1yLnJlcXVlc3Rlci5wdWJsaWNLZXksbD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSxwPWJlKGEpLGg9e3R5cGU6VmUscmVjZWl2ZXJQdWJsaWNLZXk6YSxzZW5kZXJQdWJsaWNLZXk6bH0sdT1bXSxkPVtdO2Zvcihjb25zdCBmIG9mIHMpe2lmKCFhd2FpdCBldCh7Y2FjYW86Zixwcm9qZWN0SWQ6dGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWR9KSl7aS5zZXRFcnJvcihyZS5pbnZhbGlkX2NhY2FvKTtjb25zdCBJPU8oXCJTRVNTSU9OX1NFVFRMRU1FTlRfRkFJTEVEXCIsXCJTaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZFwiKTt0aHJvdyBhd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6dCx0b3BpYzpwLGVycm9yOkksZW5jb2RlT3B0czpofSksbmV3IEVycm9yKEkubWVzc2FnZSl9aS5hZGRUcmFjZSh6LmNhY2Fvc192ZXJpZmllZCk7Y29uc3R7cDpffT1mLGc9eGUoXy5yZXNvdXJjZXMpLEE9W3R0KF8uaXNzKV0sRD1zdChfLmlzcyk7aWYoZyl7Y29uc3QgST1pdChnKSxUPXJ0KGcpO3UucHVzaCguLi5JKSxBLnB1c2goLi4uVCl9Zm9yKGNvbnN0IEkgb2YgQSlkLnB1c2goYCR7SX06JHtEfWApfWNvbnN0IHc9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVTaGFyZWRLZXkobCxhKTtpLmFkZFRyYWNlKHouY3JlYXRlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpYyk7bGV0IG07aWYodT8ubGVuZ3RoPjApe209e3RvcGljOncsYWNrbm93bGVkZ2VkOiEwLHNlbGY6e3B1YmxpY0tleTpsLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxwZWVyOntwdWJsaWNLZXk6YSxtZXRhZGF0YTpyLnJlcXVlc3Rlci5tZXRhZGF0YX0sY29udHJvbGxlcjphLGV4cGlyeTpWKEopLGF1dGhlbnRpY2F0aW9uOnMscmVxdWlyZWROYW1lc3BhY2VzOnt9LG9wdGlvbmFsTmFtZXNwYWNlczp7fSxyZWxheTp7cHJvdG9jb2w6XCJpcm5cIn0scGFpcmluZ1RvcGljOnIucGFpcmluZ1RvcGljLG5hbWVzcGFjZXM6bnQoWy4uLm5ldyBTZXQodSldLFsuLi5uZXcgU2V0KGQpXSksdHJhbnNwb3J0VHlwZTpvfSxpLmFkZFRyYWNlKHouc3Vic2NyaWJpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljKTt0cnl7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZSh3LHt0cmFuc3BvcnRUeXBlOm99KX1jYXRjaChmKXt0aHJvdyBpLnNldEVycm9yKHJlLnN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfZmFpbHVyZSksZn1pLmFkZFRyYWNlKHouc3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19zdWNjZXNzKSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldCh3LG0pLGkuYWRkVHJhY2Uoei5zdG9yZV9hdXRoZW50aWNhdGVkX3Nlc3Npb24pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7dG9waWM6ci5wYWlyaW5nVG9waWMsbWV0YWRhdGE6ci5yZXF1ZXN0ZXIubWV0YWRhdGF9KX1pLmFkZFRyYWNlKHoucHVibGlzaGluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZSk7dHJ5e2F3YWl0IHRoaXMuc2VuZFJlc3VsdCh7dG9waWM6cCxpZDp0LHJlc3VsdDp7Y2FjYW9zOnMscmVzcG9uZGVyOntwdWJsaWNLZXk6bCxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX19LGVuY29kZU9wdHM6aCx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxhcHBMaW5rOnRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChyLnJlcXVlc3Rlci5tZXRhZGF0YSxvKX0pfWNhdGNoKGYpe3Rocm93IGkuc2V0RXJyb3IocmUuYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlKSxmfXJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmRlbGV0ZSh0LHttZXNzYWdlOlwiZnVsZmlsbGVkXCIsY29kZTowfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmFjdGl2YXRlKHt0b3BpYzpyLnBhaXJpbmdUb3BpY30pLHRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZGVsZXRlRXZlbnQoe2V2ZW50SWQ6aS5ldmVudElkfSkse3Nlc3Npb246bX19KSxjKHRoaXMsXCJyZWplY3RTZXNzaW9uQXV0aGVudGljYXRlXCIsYXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0e2lkOnQscmVhc29uOnN9PWUsaT10aGlzLmdldFBlbmRpbmdBdXRoUmVxdWVzdCh0KTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIHBlbmRpbmcgYXV0aCByZXF1ZXN0IHdpdGggaWQgJHt0fWApO2kudHJhbnNwb3J0VHlwZT09PVAucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IHI9aS5yZXF1ZXN0ZXIucHVibGljS2V5LG89YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksYT1iZShyKSxsPXt0eXBlOlZlLHJlY2VpdmVyUHVibGljS2V5OnIsc2VuZGVyUHVibGljS2V5Om99O2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDp0LHRvcGljOmEsZXJyb3I6cyxlbmNvZGVPcHRzOmwscnBjT3B0czpOLndjX3Nlc3Npb25BdXRoZW50aWNhdGUucmVqZWN0LGFwcExpbms6dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKGkucmVxdWVzdGVyLm1ldGFkYXRhLGkudHJhbnNwb3J0VHlwZSl9KSxhd2FpdCB0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmRlbGV0ZSh0LHttZXNzYWdlOlwicmVqZWN0ZWRcIixjb2RlOjB9KSxhd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5kZWxldGUodCxPKFwiVVNFUl9ESVNDT05ORUNURURcIikpfSksYyh0aGlzLFwiZm9ybWF0QXV0aE1lc3NhZ2VcIixlPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3R7cmVxdWVzdDp0LGlzczpzfT1lO3JldHVybiBIdCh0LHMpfSksYyh0aGlzLFwicHJvY2Vzc1JlbGF5TWVzc2FnZUNhY2hlXCIsKCk9PntzZXRUaW1lb3V0KGFzeW5jKCk9PntpZih0aGlzLnJlbGF5TWVzc2FnZUNhY2hlLmxlbmd0aCE9PTApZm9yKDt0aGlzLnJlbGF5TWVzc2FnZUNhY2hlLmxlbmd0aD4wOyl0cnl7Y29uc3QgZT10aGlzLnJlbGF5TWVzc2FnZUNhY2hlLnNoaWZ0KCk7ZSYmYXdhaXQgdGhpcy5vblJlbGF5TWVzc2FnZShlKX1jYXRjaChlKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoZSl9fSw1MCl9KSxjKHRoaXMsXCJjbGVhbnVwRHVwbGljYXRlUGFpcmluZ3NcIixhc3luYyBlPT57aWYoZS5wYWlyaW5nVG9waWMpdHJ5e2NvbnN0IHQ9dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChlLnBhaXJpbmdUb3BpYykscz10aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0QWxsKCkuZmlsdGVyKGk9Pnt2YXIgcixvO3JldHVybigocj1pLnBlZXJNZXRhZGF0YSk9PW51bGw/dm9pZCAwOnIudXJsKSYmKChvPWkucGVlck1ldGFkYXRhKT09bnVsbD92b2lkIDA6by51cmwpPT09ZS5wZWVyLm1ldGFkYXRhLnVybCYmaS50b3BpYyYmaS50b3BpYyE9PXQudG9waWN9KTtpZihzLmxlbmd0aD09PTApcmV0dXJuO3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBDbGVhbmluZyB1cCAke3MubGVuZ3RofSBkdXBsaWNhdGUgcGFpcmluZyhzKWApLGF3YWl0IFByb21pc2UuYWxsKHMubWFwKGk9PnRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5kaXNjb25uZWN0KHt0b3BpYzppLnRvcGljfSkpKSx0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhcIkR1cGxpY2F0ZSBwYWlyaW5ncyBjbGVhbiB1cCBmaW5pc2hlZFwiKX1jYXRjaCh0KXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IodCl9fSksYyh0aGlzLFwiZGVsZXRlU2Vzc2lvblwiLGFzeW5jIGU9Pnt2YXIgdDtjb25zdHt0b3BpYzpzLGV4cGlyZXJIYXNEZWxldGVkOmk9ITEsZW1pdEV2ZW50OnI9ITAsaWQ6bz0wfT1lLHtzZWxmOmF9PXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHMpO2F3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci51bnN1YnNjcmliZShzKSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLmRlbGV0ZShzLE8oXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZChzLFwic2Vzc2lvblwiKSx0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMoYS5wdWJsaWNLZXkpJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5kZWxldGVLZXlQYWlyKGEucHVibGljS2V5KSx0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMocykmJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmRlbGV0ZVN5bUtleShzKSxpfHx0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKHMpLHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5yZW1vdmVJdGVtKE1lKS5jYXRjaChsPT50aGlzLmNsaWVudC5sb2dnZXIud2FybihsKSksdGhpcy5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCkuZm9yRWFjaChsPT57bC50b3BpYz09PXMmJnRoaXMuZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0KGwuaWQsTyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKX0pLHM9PT0oKHQ9dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlWzBdKT09bnVsbD92b2lkIDA6dC50b3BpYykmJih0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9JC5pZGxlKSxyJiZ0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZGVsZXRlXCIse2lkOm8sdG9waWM6c30pfSksYyh0aGlzLFwiZGVsZXRlUHJvcG9zYWxcIixhc3luYyhlLHQpPT57aWYodCl0cnl7Y29uc3Qgcz10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoZSksaT10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmdldEV2ZW50KHt0b3BpYzpzLnBhaXJpbmdUb3BpY30pO2k/LnNldEVycm9yKEgucHJvcG9zYWxfZXhwaXJlZCl9Y2F0Y2h7fWF3YWl0IFByb21pc2UuYWxsKFt0aGlzLmNsaWVudC5wcm9wb3NhbC5kZWxldGUoZSxPKFwiVVNFUl9ESVNDT05ORUNURURcIikpLHQ/UHJvbWlzZS5yZXNvbHZlKCk6dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLmRlbChlKV0pLHRoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQoZSxcInByb3Bvc2FsXCIpfSksYyh0aGlzLFwiZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0XCIsYXN5bmMoZSx0LHM9ITEpPT57YXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LmRlbGV0ZShlLHQpLHM/UHJvbWlzZS5yZXNvbHZlKCk6dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLmRlbChlKV0pLHRoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQoZSxcInJlcXVlc3RcIiksdGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlPXRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZS5maWx0ZXIoaT0+aS5pZCE9PWUpLHMmJih0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9JC5pZGxlLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9yZXF1ZXN0X2V4cGlyZVwiLHtpZDplfSkpfSksYyh0aGlzLFwiZGVsZXRlUGVuZGluZ0F1dGhSZXF1ZXN0XCIsYXN5bmMoZSx0LHM9ITEpPT57YXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuZGVsZXRlKGUsdCkscz9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKGUpXSl9KSxjKHRoaXMsXCJzZXRFeHBpcnlcIixhc3luYyhlLHQpPT57dGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKGUpJiYodGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChlLHQpLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGUse2V4cGlyeTp0fSkpfSksYyh0aGlzLFwic2V0UHJvcG9zYWxcIixhc3luYyhlLHQpPT57dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChlLFYoTi53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsKSksYXdhaXQgdGhpcy5jbGllbnQucHJvcG9zYWwuc2V0KGUsdCl9KSxjKHRoaXMsXCJzZXRBdXRoUmVxdWVzdFwiLGFzeW5jKGUsdCk9Pntjb25zdHtyZXF1ZXN0OnMscGFpcmluZ1RvcGljOmksdHJhbnNwb3J0VHlwZTpyPVAucmVsYXl9PXQ7dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChlLHMuZXhwaXJ5VGltZXN0YW1wKSxhd2FpdCB0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLnNldChlLHthdXRoUGF5bG9hZDpzLmF1dGhQYXlsb2FkLHJlcXVlc3RlcjpzLnJlcXVlc3RlcixleHBpcnlUaW1lc3RhbXA6cy5leHBpcnlUaW1lc3RhbXAsaWQ6ZSxwYWlyaW5nVG9waWM6aSx2ZXJpZnlDb250ZXh0OnMudmVyaWZ5Q29udGV4dCx0cmFuc3BvcnRUeXBlOnJ9KX0pLGModGhpcyxcInNldFBlbmRpbmdTZXNzaW9uUmVxdWVzdFwiLGFzeW5jIGU9Pntjb25zdHtpZDp0LHRvcGljOnMscGFyYW1zOmksdmVyaWZ5Q29udGV4dDpyfT1lLG89aS5yZXF1ZXN0LmV4cGlyeVRpbWVzdGFtcHx8VihOLndjX3Nlc3Npb25SZXF1ZXN0LnJlcS50dGwpO3RoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5zZXQodCxvKSxhd2FpdCB0aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5zZXQodCx7aWQ6dCx0b3BpYzpzLHBhcmFtczppLHZlcmlmeUNvbnRleHQ6cn0pfSksYyh0aGlzLFwic2VuZFJlcXVlc3RcIixhc3luYyBlPT57Y29uc3R7dG9waWM6dCxtZXRob2Q6cyxwYXJhbXM6aSxleHBpcnk6cixyZWxheVJwY0lkOm8sY2xpZW50UnBjSWQ6YSx0aHJvd09uRmFpbGVkUHVibGlzaDpsLGFwcExpbms6cCx0dmY6aH09ZSx1PXllKHMsaSxhKTtsZXQgZDtjb25zdCB3PSEhcDt0cnl7Y29uc3QgXz13P25lOmRlO2Q9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKHQsdSx7ZW5jb2Rpbmc6X30pfWNhdGNoKF8pe3Rocm93IGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZFJlcXVlc3QoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHt0fSBmYWlsZWRgKSxffWxldCBtO2lmKGd0LmluY2x1ZGVzKHMpKXtjb25zdCBfPVcoSlNPTi5zdHJpbmdpZnkodSkpLGc9VyhkKTttPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUudmVyaWZ5LnJlZ2lzdGVyKHtpZDpnLGRlY3J5cHRlZElkOl99KX1jb25zdCBmPU5bc10ucmVxO2lmKGYuYXR0ZXN0YXRpb249bSxyJiYoZi50dGw9ciksbyYmKGYuaWQ9byksdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnNldCh0LHUpLHcpe2NvbnN0IF89dWUocCx0LGQpO2F3YWl0IGdsb2JhbC5MaW5raW5nLm9wZW5VUkwoXyx0aGlzLmNsaWVudC5uYW1lKX1lbHNle2NvbnN0IF89TltzXS5yZXE7ciYmKF8udHRsPXIpLG8mJihfLmlkPW8pLF8udHZmPWIodih7fSxoKSx7Y29ycmVsYXRpb25JZDp1LmlkfSksbD8oXy5pbnRlcm5hbD1iKHYoe30sXy5pbnRlcm5hbCkse3Rocm93T25GYWlsZWRQdWJsaXNoOiEwfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2godCxkLF8pKTp0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaCh0LGQsXykuY2F0Y2goZz0+dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGcpKX1yZXR1cm4gdS5pZH0pLGModGhpcyxcInNlbmRSZXN1bHRcIixhc3luYyBlPT57Y29uc3R7aWQ6dCx0b3BpYzpzLHJlc3VsdDppLHRocm93T25GYWlsZWRQdWJsaXNoOnIsZW5jb2RlT3B0czpvLGFwcExpbms6YX09ZSxsPXVzKHQsaSk7bGV0IHA7Y29uc3QgaD1hJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuTGlua2luZyk8XCJ1XCI7dHJ5e2NvbnN0IHc9aD9uZTpkZTtwPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShzLGwsYih2KHt9LG98fHt9KSx7ZW5jb2Rpbmc6d30pKX1jYXRjaCh3KXt0aHJvdyBhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRSZXN1bHQoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHtzfSBmYWlsZWRgKSx3fWxldCB1LGQ7dHJ5e3U9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LmdldChzLHQpO2NvbnN0IHc9dS5yZXF1ZXN0O3RyeXt0aGlzLnNob3VsZFNldFRWRih3Lm1ldGhvZCx3LnBhcmFtcykmJihkPXRoaXMuZ2V0VFZGUGFyYW1zKHQsdy5wYXJhbXMsaSkpfWNhdGNoKG0pe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKFwic2VuZFJlc3VsdCgpIC0+IGdldFRWRlBhcmFtcygpIGZhaWxlZFwiLG0pfX1jYXRjaCh3KXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRSZXN1bHQoKSAtPiBoaXN0b3J5LmdldCgke3N9LCAke3R9KSBmYWlsZWRgKSx3fWlmKGgpe2NvbnN0IHc9dWUoYSxzLHApO2F3YWl0IGdsb2JhbC5MaW5raW5nLm9wZW5VUkwodyx0aGlzLmNsaWVudC5uYW1lKX1lbHNle2NvbnN0IHc9dS5yZXF1ZXN0Lm1ldGhvZCxtPU5bd10ucmVzO20udHZmPWIodih7fSxkKSx7Y29ycmVsYXRpb25JZDp0fSkscj8obS5pbnRlcm5hbD1iKHYoe30sbS5pbnRlcm5hbCkse3Rocm93T25GYWlsZWRQdWJsaXNoOiEwfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxwLG0pKTp0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChzLHAsbSkuY2F0Y2goZj0+dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGYpKX1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkucmVzb2x2ZShsKX0pLGModGhpcyxcInNlbmRFcnJvclwiLGFzeW5jIGU9Pntjb25zdHtpZDp0LHRvcGljOnMsZXJyb3I6aSxlbmNvZGVPcHRzOnIscnBjT3B0czpvLGFwcExpbms6YX09ZSxsPWdzKHQsaSk7bGV0IHA7Y29uc3QgaD1hJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuTGlua2luZyk8XCJ1XCI7dHJ5e2NvbnN0IGQ9aD9uZTpkZTtwPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShzLGwsYih2KHt9LHJ8fHt9KSx7ZW5jb2Rpbmc6ZH0pKX1jYXRjaChkKXt0aHJvdyBhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRFcnJvcigpIC0+IGNvcmUuY3J5cHRvLmVuY29kZSgpIGZvciB0b3BpYyAke3N9IGZhaWxlZGApLGR9bGV0IHU7dHJ5e3U9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LmdldChzLHQpfWNhdGNoKGQpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZEVycm9yKCkgLT4gaGlzdG9yeS5nZXQoJHtzfSwgJHt0fSkgZmFpbGVkYCksZH1pZihoKXtjb25zdCBkPXVlKGEscyxwKTthd2FpdCBnbG9iYWwuTGlua2luZy5vcGVuVVJMKGQsdGhpcy5jbGllbnQubmFtZSl9ZWxzZXtjb25zdCBkPXUucmVxdWVzdC5tZXRob2Qsdz1vfHxOW2RdLnJlczt0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChzLHAsdyl9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnJlc29sdmUobCl9KSxjKHRoaXMsXCJjbGVhbnVwXCIsYXN5bmMoKT0+e2NvbnN0IGU9W10sdD1bXTt0aGlzLmNsaWVudC5zZXNzaW9uLmdldEFsbCgpLmZvckVhY2gocz0+e2xldCBpPSExO1oocy5leHBpcnkpJiYoaT0hMCksdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKHMudG9waWMpfHwoaT0hMCksaSYmZS5wdXNoKHMudG9waWMpfSksdGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0QWxsKCkuZm9yRWFjaChzPT57WihzLmV4cGlyeVRpbWVzdGFtcCkmJnQucHVzaChzLmlkKX0pLGF3YWl0IFByb21pc2UuYWxsKFsuLi5lLm1hcChzPT50aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOnN9KSksLi4udC5tYXAocz0+dGhpcy5kZWxldGVQcm9wb3NhbChzKSldKX0pLGModGhpcyxcIm9uUHJvdmlkZXJNZXNzYWdlRXZlbnRcIixhc3luYyBlPT57IXRoaXMuaW5pdGlhbGl6ZWR8fHRoaXMucmVsYXlNZXNzYWdlQ2FjaGUubGVuZ3RoPjA/dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5wdXNoKGUpOmF3YWl0IHRoaXMub25SZWxheU1lc3NhZ2UoZSl9KSxjKHRoaXMsXCJvblJlbGF5RXZlbnRSZXF1ZXN0XCIsYXN5bmMgZT0+e3RoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLnB1c2goZSksYXdhaXQgdGhpcy5wcm9jZXNzUmVxdWVzdHNRdWV1ZSgpfSksYyh0aGlzLFwicHJvY2Vzc1JlcXVlc3RzUXVldWVcIixhc3luYygpPT57aWYodGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9PT0kLmFjdGl2ZSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJSZXF1ZXN0IHF1ZXVlIGFscmVhZHkgYWN0aXZlLCBza2lwcGluZy4uLlwiKTtyZXR1cm59Zm9yKHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBSZXF1ZXN0IHF1ZXVlIHN0YXJ0aW5nIHdpdGggJHt0aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5sZW5ndGh9IHJlcXVlc3RzYCk7dGhpcy5yZXF1ZXN0UXVldWUucXVldWUubGVuZ3RoPjA7KXt0aGlzLnJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmFjdGl2ZTtjb25zdCBlPXRoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLnNoaWZ0KCk7aWYoZSl0cnl7YXdhaXQgdGhpcy5wcm9jZXNzUmVxdWVzdChlKX1jYXRjaCh0KXt0aGlzLmNsaWVudC5sb2dnZXIud2Fybih0KX19dGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9JC5pZGxlfSksYyh0aGlzLFwicHJvY2Vzc1JlcXVlc3RcIixhc3luYyBlPT57Y29uc3R7dG9waWM6dCxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSx0cmFuc3BvcnRUeXBlOnIsZW5jcnlwdGVkSWQ6b309ZSxhPXMubWV0aG9kO2lmKCF0aGlzLnNob3VsZElnbm9yZVBhaXJpbmdSZXF1ZXN0KHt0b3BpYzp0LHJlcXVlc3RNZXRob2Q6YX0pKXN3aXRjaChhKXtjYXNlXCJ3Y19zZXNzaW9uUHJvcG9zZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblByb3Bvc2VSZXF1ZXN0KHt0b3BpYzp0LHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOm99KTtjYXNlXCJ3Y19zZXNzaW9uU2V0dGxlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uU2V0dGxlUmVxdWVzdCh0LHMpO2Nhc2VcIndjX3Nlc3Npb25VcGRhdGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25VcGRhdGVSZXF1ZXN0KHQscyk7Y2FzZVwid2Nfc2Vzc2lvbkV4dGVuZFwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkV4dGVuZFJlcXVlc3QodCxzKTtjYXNlXCJ3Y19zZXNzaW9uUGluZ1wiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblBpbmdSZXF1ZXN0KHQscyk7Y2FzZVwid2Nfc2Vzc2lvbkRlbGV0ZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkRlbGV0ZVJlcXVlc3QodCxzKTtjYXNlXCJ3Y19zZXNzaW9uUmVxdWVzdFwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblJlcXVlc3Qoe3RvcGljOnQscGF5bG9hZDpzLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6byx0cmFuc3BvcnRUeXBlOnJ9KTtjYXNlXCJ3Y19zZXNzaW9uRXZlbnRcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25FdmVudFJlcXVlc3QodCxzKTtjYXNlXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uQXV0aGVudGljYXRlUmVxdWVzdCh7dG9waWM6dCxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSxlbmNyeXB0ZWRJZDpvLHRyYW5zcG9ydFR5cGU6cn0pO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBVbnN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZCAke2F9YCl9fSksYyh0aGlzLFwib25SZWxheUV2ZW50UmVzcG9uc2VcIixhc3luYyBlPT57Y29uc3R7dG9waWM6dCxwYXlsb2FkOnMsdHJhbnNwb3J0VHlwZTppfT1lLHI9KGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQodCxzLmlkKSkucmVxdWVzdC5tZXRob2Q7c3dpdGNoKHIpe2Nhc2VcIndjX3Nlc3Npb25Qcm9wb3NlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlKHQscyxpKTtjYXNlXCJ3Y19zZXNzaW9uU2V0dGxlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uU2V0dGxlUmVzcG9uc2UodCxzKTtjYXNlXCJ3Y19zZXNzaW9uVXBkYXRlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uVXBkYXRlUmVzcG9uc2UodCxzKTtjYXNlXCJ3Y19zZXNzaW9uRXh0ZW5kXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uRXh0ZW5kUmVzcG9uc2UodCxzKTtjYXNlXCJ3Y19zZXNzaW9uUGluZ1wiOnJldHVybiB0aGlzLm9uU2Vzc2lvblBpbmdSZXNwb25zZSh0LHMpO2Nhc2VcIndjX3Nlc3Npb25SZXF1ZXN0XCI6cmV0dXJuIHRoaXMub25TZXNzaW9uUmVxdWVzdFJlc3BvbnNlKHQscyk7Y2FzZVwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlc3BvbnNlKHQscyk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYFVuc3VwcG9ydGVkIHJlc3BvbnNlIG1ldGhvZCAke3J9YCl9fSksYyh0aGlzLFwib25SZWxheUV2ZW50VW5rbm93blBheWxvYWRcIixlPT57Y29uc3R7dG9waWM6dH09ZSx7bWVzc2FnZTpzfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYERlY29kZWQgcGF5bG9hZCBvbiB0b3BpYyAke3R9IGlzIG5vdCBpZGVudGlmaWFibGUgYXMgYSBKU09OLVJQQyByZXF1ZXN0IG9yIGEgcmVzcG9uc2UuYCk7dGhyb3cgbmV3IEVycm9yKHMpfSksYyh0aGlzLFwic2hvdWxkSWdub3JlUGFpcmluZ1JlcXVlc3RcIixlPT57Y29uc3R7dG9waWM6dCxyZXF1ZXN0TWV0aG9kOnN9PWUsaT10aGlzLmV4cGVjdGVkUGFpcmluZ01ldGhvZE1hcC5nZXQodCk7cmV0dXJuIWl8fGkuaW5jbHVkZXMocyk/ITE6ISEoaS5pbmNsdWRlcyhcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIikmJnRoaXMuY2xpZW50LmV2ZW50cy5saXN0ZW5lckNvdW50KFwic2Vzc2lvbl9hdXRoZW50aWNhdGVcIik+MCl9KSxjKHRoaXMsXCJvblNlc3Npb25Qcm9wb3NlUmVxdWVzdFwiLGFzeW5jIGU9Pntjb25zdHt0b3BpYzp0LHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOnJ9PWUse3BhcmFtczpvLGlkOmF9PXM7dHJ5e2NvbnN0IGw9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5nZXRFdmVudCh7dG9waWM6dH0pO3RoaXMuY2xpZW50LmV2ZW50cy5saXN0ZW5lckNvdW50KFwic2Vzc2lvbl9wcm9wb3NhbFwiKT09PTAmJihjb25zb2xlLndhcm4oXCJObyBsaXN0ZW5lciBmb3Igc2Vzc2lvbl9wcm9wb3NhbCBldmVudFwiKSxsPy5zZXRFcnJvcihQdC5wcm9wb3NhbF9saXN0ZW5lcl9ub3RfZm91bmQpKSx0aGlzLmlzVmFsaWRDb25uZWN0KHYoe30scy5wYXJhbXMpKTtjb25zdCBwPW8uZXhwaXJ5VGltZXN0YW1wfHxWKE4ud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCksaD12KHtpZDphLHBhaXJpbmdUb3BpYzp0LGV4cGlyeVRpbWVzdGFtcDpwfSxvKTthd2FpdCB0aGlzLnNldFByb3Bvc2FsKGEsaCk7Y29uc3QgdT1hd2FpdCB0aGlzLmdldFZlcmlmeUNvbnRleHQoe2F0dGVzdGF0aW9uSWQ6aSxoYXNoOlcoSlNPTi5zdHJpbmdpZnkocykpLGVuY3J5cHRlZElkOnIsbWV0YWRhdGE6aC5wcm9wb3Nlci5tZXRhZGF0YX0pO2w/LmFkZFRyYWNlKE50LmVtaXRfc2Vzc2lvbl9wcm9wb3NhbCksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3Byb3Bvc2FsXCIse2lkOmEscGFyYW1zOmgsdmVyaWZ5Q29udGV4dDp1fSl9Y2F0Y2gobCl7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmEsdG9waWM6dCxlcnJvcjpsLHJwY09wdHM6Ti53Y19zZXNzaW9uUHJvcG9zZS5hdXRvUmVqZWN0fSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGwpfX0pLGModGhpcyxcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLGFzeW5jKGUsdCxzKT0+e2NvbnN0e2lkOml9PXQ7aWYoaih0KSl7Y29uc3R7cmVzdWx0OnJ9PXQ7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIscmVzdWx0OnJ9KTtjb25zdCBvPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChpKTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixwcm9wb3NhbDpvfSk7Y29uc3QgYT1vLnByb3Bvc2VyLnB1YmxpY0tleTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixzZWxmUHVibGljS2V5OmF9KTtjb25zdCBsPXIucmVzcG9uZGVyUHVibGljS2V5O3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHBlZXJQdWJsaWNLZXk6bH0pO2NvbnN0IHA9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVTaGFyZWRLZXkoYSxsKTt0aGlzLnBlbmRpbmdTZXNzaW9ucy5zZXQoaSx7c2Vzc2lvblRvcGljOnAscGFpcmluZ1RvcGljOmUscHJvcG9zYWxJZDppLHB1YmxpY0tleTphfSk7Y29uc3QgaD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKHAse3RyYW5zcG9ydFR5cGU6c30pO3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHN1YnNjcmlwdGlvbklkOmh9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuYWN0aXZhdGUoe3RvcGljOmV9KX1lbHNlIGlmKEYodCkpe2F3YWl0IHRoaXMuY2xpZW50LnByb3Bvc2FsLmRlbGV0ZShpLE8oXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSk7Y29uc3Qgcj1SKFwic2Vzc2lvbl9jb25uZWN0XCIsaSk7aWYodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChyKT09PTApdGhyb3cgbmV3IEVycm9yKGBlbWl0dGluZyAke3J9IHdpdGhvdXQgYW55IGxpc3RlbmVycywgOTU0YCk7dGhpcy5ldmVudHMuZW1pdChyLHtlcnJvcjp0LmVycm9yfSl9fSksYyh0aGlzLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdFwiLGFzeW5jKGUsdCk9Pntjb25zdHtpZDpzLHBhcmFtczppfT10O3RyeXt0aGlzLmlzVmFsaWRTZXNzaW9uU2V0dGxlUmVxdWVzdChpKTtjb25zdHtyZWxheTpyLGNvbnRyb2xsZXI6byxleHBpcnk6YSxuYW1lc3BhY2VzOmwsc2Vzc2lvblByb3BlcnRpZXM6cCxzY29wZWRQcm9wZXJ0aWVzOmgsc2Vzc2lvbkNvbmZpZzp1fT10LnBhcmFtcyxkPVsuLi50aGlzLnBlbmRpbmdTZXNzaW9ucy52YWx1ZXMoKV0uZmluZChmPT5mLnNlc3Npb25Ub3BpYz09PWUpO2lmKCFkKXJldHVybiB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYFBlbmRpbmcgc2Vzc2lvbiBub3QgZm91bmQgZm9yIHRvcGljICR7ZX1gKTtjb25zdCB3PXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChkLnByb3Bvc2FsSWQpLG09Yih2KHYodih7dG9waWM6ZSxyZWxheTpyLGV4cGlyeTphLG5hbWVzcGFjZXM6bCxhY2tub3dsZWRnZWQ6ITAscGFpcmluZ1RvcGljOmQucGFpcmluZ1RvcGljLHJlcXVpcmVkTmFtZXNwYWNlczp3LnJlcXVpcmVkTmFtZXNwYWNlcyxvcHRpb25hbE5hbWVzcGFjZXM6dy5vcHRpb25hbE5hbWVzcGFjZXMsY29udHJvbGxlcjpvLnB1YmxpY0tleSxzZWxmOntwdWJsaWNLZXk6ZC5wdWJsaWNLZXksbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LHBlZXI6e3B1YmxpY0tleTpvLnB1YmxpY0tleSxtZXRhZGF0YTpvLm1ldGFkYXRhfX0scCYme3Nlc3Npb25Qcm9wZXJ0aWVzOnB9KSxoJiZ7c2NvcGVkUHJvcGVydGllczpofSksdSYme3Nlc3Npb25Db25maWc6dX0pLHt0cmFuc3BvcnRUeXBlOlAucmVsYXl9KTthd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldChtLnRvcGljLG0pLGF3YWl0IHRoaXMuc2V0RXhwaXJ5KG0udG9waWMsbS5leHBpcnkpLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7dG9waWM6ZC5wYWlyaW5nVG9waWMsbWV0YWRhdGE6bS5wZWVyLm1ldGFkYXRhfSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2Nvbm5lY3RcIix7c2Vzc2lvbjptfSksdGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9jb25uZWN0XCIsZC5wcm9wb3NhbElkKSx7c2Vzc2lvbjptfSksdGhpcy5wZW5kaW5nU2Vzc2lvbnMuZGVsZXRlKGQucHJvcG9zYWxJZCksdGhpcy5kZWxldGVQcm9wb3NhbChkLnByb3Bvc2FsSWQsITEpLHRoaXMuY2xlYW51cER1cGxpY2F0ZVBhaXJpbmdzKG0pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6dC5pZCx0b3BpYzplLHJlc3VsdDohMCx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pfWNhdGNoKHIpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDpzLHRvcGljOmUsZXJyb3I6cn0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihyKX19KSxjKHRoaXMsXCJvblNlc3Npb25TZXR0bGVSZXNwb25zZVwiLGFzeW5jKGUsdCk9Pntjb25zdHtpZDpzfT10O2oodCk/KGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGUse2Fja25vd2xlZGdlZDohMH0pLHRoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fYXBwcm92ZVwiLHMpLHt9KSk6Rih0KSYmKGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uZGVsZXRlKGUsTyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx0aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX2FwcHJvdmVcIixzKSx7ZXJyb3I6dC5lcnJvcn0pKX0pLGModGhpcyxcIm9uU2Vzc2lvblVwZGF0ZVJlcXVlc3RcIixhc3luYyhlLHQpPT57Y29uc3R7cGFyYW1zOnMsaWQ6aX09dDt0cnl7Y29uc3Qgcj1gJHtlfV9zZXNzaW9uX3VwZGF0ZWAsbz1vZS5nZXQocik7aWYobyYmdGhpcy5pc1JlcXVlc3RPdXRPZlN5bmMobyxpKSl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oYERpc2NhcmRpbmcgb3V0IG9mIHN5bmMgcmVxdWVzdCAtICR7aX1gKSx0aGlzLnNlbmRFcnJvcih7aWQ6aSx0b3BpYzplLGVycm9yOk8oXCJJTlZBTElEX1VQREFURV9SRVFVRVNUXCIpfSk7cmV0dXJufXRoaXMuaXNWYWxpZFVwZGF0ZSh2KHt0b3BpYzplfSxzKSk7dHJ5e29lLnNldChyLGkpLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGUse25hbWVzcGFjZXM6cy5uYW1lc3BhY2VzfSksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDppLHRvcGljOmUscmVzdWx0OiEwLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSl9Y2F0Y2goYSl7dGhyb3cgb2UuZGVsZXRlKHIpLGF9dGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3VwZGF0ZVwiLHtpZDppLHRvcGljOmUscGFyYW1zOnN9KX1jYXRjaChyKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6aSx0b3BpYzplLGVycm9yOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iocil9fSksYyh0aGlzLFwiaXNSZXF1ZXN0T3V0T2ZTeW5jXCIsKGUsdCk9PnQudG9TdHJpbmcoKS5zbGljZSgwLC0zKTxlLnRvU3RyaW5nKCkuc2xpY2UoMCwtMykpLGModGhpcyxcIm9uU2Vzc2lvblVwZGF0ZVJlc3BvbnNlXCIsKGUsdCk9Pntjb25zdHtpZDpzfT10LGk9UihcInNlc3Npb25fdXBkYXRlXCIscyk7aWYodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChpKT09PTApdGhyb3cgbmV3IEVycm9yKGBlbWl0dGluZyAke2l9IHdpdGhvdXQgYW55IGxpc3RlbmVyc2ApO2oodCk/dGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl91cGRhdGVcIixzKSx7fSk6Rih0KSYmdGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl91cGRhdGVcIixzKSx7ZXJyb3I6dC5lcnJvcn0pfSksYyh0aGlzLFwib25TZXNzaW9uRXh0ZW5kUmVxdWVzdFwiLGFzeW5jKGUsdCk9Pntjb25zdHtpZDpzfT10O3RyeXt0aGlzLmlzVmFsaWRFeHRlbmQoe3RvcGljOmV9KSxhd2FpdCB0aGlzLnNldEV4cGlyeShlLFYoSikpLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6cyx0b3BpYzplLHJlc3VsdDohMCx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9leHRlbmRcIix7aWQ6cyx0b3BpYzplfSl9Y2F0Y2goaSl7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnMsdG9waWM6ZSxlcnJvcjppfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpfX0pLGModGhpcyxcIm9uU2Vzc2lvbkV4dGVuZFJlc3BvbnNlXCIsKGUsdCk9Pntjb25zdHtpZDpzfT10LGk9UihcInNlc3Npb25fZXh0ZW5kXCIscyk7aWYodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChpKT09PTApdGhyb3cgbmV3IEVycm9yKGBlbWl0dGluZyAke2l9IHdpdGhvdXQgYW55IGxpc3RlbmVyc2ApO2oodCk/dGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9leHRlbmRcIixzKSx7fSk6Rih0KSYmdGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9leHRlbmRcIixzKSx7ZXJyb3I6dC5lcnJvcn0pfSksYyh0aGlzLFwib25TZXNzaW9uUGluZ1JlcXVlc3RcIixhc3luYyhlLHQpPT57Y29uc3R7aWQ6c309dDt0cnl7dGhpcy5pc1ZhbGlkUGluZyh7dG9waWM6ZX0pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6cyx0b3BpYzplLHJlc3VsdDohMCx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9waW5nXCIse2lkOnMsdG9waWM6ZX0pfWNhdGNoKGkpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDpzLHRvcGljOmUsZXJyb3I6aX0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihpKX19KSxjKHRoaXMsXCJvblNlc3Npb25QaW5nUmVzcG9uc2VcIiwoZSx0KT0+e2NvbnN0e2lkOnN9PXQsaT1SKFwic2Vzc2lvbl9waW5nXCIscyk7c2V0VGltZW91dCgoKT0+e2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnMgMjE3NmApO2oodCk/dGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9waW5nXCIscykse30pOkYodCkmJnRoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fcGluZ1wiLHMpLHtlcnJvcjp0LmVycm9yfSl9LDUwMCl9KSxjKHRoaXMsXCJvblNlc3Npb25EZWxldGVSZXF1ZXN0XCIsYXN5bmMoZSx0KT0+e2NvbnN0e2lkOnN9PXQ7dHJ5e3RoaXMuaXNWYWxpZERpc2Nvbm5lY3Qoe3RvcGljOmUscmVhc29uOnQucGFyYW1zfSksUHJvbWlzZS5hbGwoW25ldyBQcm9taXNlKGk9Pnt0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIub25jZShYZS5wdWJsaXNoLGFzeW5jKCk9PntpKGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6ZSxpZDpzfSkpfSl9KSx0aGlzLnNlbmRSZXN1bHQoe2lkOnMsdG9waWM6ZSxyZXN1bHQ6ITAsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSx0aGlzLmNsZWFudXBQZW5kaW5nU2VudFJlcXVlc3RzRm9yVG9waWMoe3RvcGljOmUsZXJyb3I6TyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpfSldKS5jYXRjaChpPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSkpfWNhdGNoKGkpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihpKX19KSxjKHRoaXMsXCJvblNlc3Npb25SZXF1ZXN0XCIsYXN5bmMgZT0+e3ZhciB0LHMsaTtjb25zdHt0b3BpYzpyLHBheWxvYWQ6byxhdHRlc3RhdGlvbjphLGVuY3J5cHRlZElkOmwsdHJhbnNwb3J0VHlwZTpwfT1lLHtpZDpoLHBhcmFtczp1fT1vO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRSZXF1ZXN0KHYoe3RvcGljOnJ9LHUpKTtjb25zdCBkPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHIpLHc9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KHthdHRlc3RhdGlvbklkOmEsaGFzaDpXKEpTT04uc3RyaW5naWZ5KHllKFwid2Nfc2Vzc2lvblJlcXVlc3RcIix1LGgpKSksZW5jcnlwdGVkSWQ6bCxtZXRhZGF0YTpkLnBlZXIubWV0YWRhdGEsdHJhbnNwb3J0VHlwZTpwfSksbT17aWQ6aCx0b3BpYzpyLHBhcmFtczp1LHZlcmlmeUNvbnRleHQ6d307YXdhaXQgdGhpcy5zZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3QobSkscD09PVAubGlua19tb2RlJiYodD1kLnBlZXIubWV0YWRhdGEucmVkaXJlY3QpIT1udWxsJiZ0LnVuaXZlcnNhbCYmdGhpcy5jbGllbnQuY29yZS5hZGRMaW5rTW9kZVN1cHBvcnRlZEFwcCgocz1kLnBlZXIubWV0YWRhdGEucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpzLnVuaXZlcnNhbCksKGk9dGhpcy5jbGllbnQuc2lnbkNvbmZpZykhPW51bGwmJmkuZGlzYWJsZVJlcXVlc3RRdWV1ZT90aGlzLmVtaXRTZXNzaW9uUmVxdWVzdChtKToodGhpcy5hZGRTZXNzaW9uUmVxdWVzdFRvU2Vzc2lvblJlcXVlc3RRdWV1ZShtKSx0aGlzLnByb2Nlc3NTZXNzaW9uUmVxdWVzdFF1ZXVlKCkpfWNhdGNoKGQpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDpoLHRvcGljOnIsZXJyb3I6ZH0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihkKX19KSxjKHRoaXMsXCJvblNlc3Npb25SZXF1ZXN0UmVzcG9uc2VcIiwoZSx0KT0+e2NvbnN0e2lkOnN9PXQsaT1SKFwic2Vzc2lvbl9yZXF1ZXN0XCIscyk7aWYodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChpKT09PTApdGhyb3cgbmV3IEVycm9yKGBlbWl0dGluZyAke2l9IHdpdGhvdXQgYW55IGxpc3RlbmVyc2ApO2oodCk/dGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9yZXF1ZXN0XCIscykse3Jlc3VsdDp0LnJlc3VsdH0pOkYodCkmJnRoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtlcnJvcjp0LmVycm9yfSl9KSxjKHRoaXMsXCJvblNlc3Npb25FdmVudFJlcXVlc3RcIixhc3luYyhlLHQpPT57Y29uc3R7aWQ6cyxwYXJhbXM6aX09dDt0cnl7Y29uc3Qgcj1gJHtlfV9zZXNzaW9uX2V2ZW50XyR7aS5ldmVudC5uYW1lfWAsbz1vZS5nZXQocik7aWYobyYmdGhpcy5pc1JlcXVlc3RPdXRPZlN5bmMobyxzKSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYERpc2NhcmRpbmcgb3V0IG9mIHN5bmMgcmVxdWVzdCAtICR7c31gKTtyZXR1cm59dGhpcy5pc1ZhbGlkRW1pdCh2KHt0b3BpYzplfSxpKSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2V2ZW50XCIse2lkOnMsdG9waWM6ZSxwYXJhbXM6aX0pLG9lLnNldChyLHMpfWNhdGNoKHIpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDpzLHRvcGljOmUsZXJyb3I6cn0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihyKX19KSxjKHRoaXMsXCJvblNlc3Npb25BdXRoZW50aWNhdGVSZXNwb25zZVwiLChlLHQpPT57Y29uc3R7aWQ6c309dDt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25BdXRoZW50aWNhdGVSZXNwb25zZVwiLHRvcGljOmUscGF5bG9hZDp0fSksaih0KT90aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX3JlcXVlc3RcIixzKSx7cmVzdWx0OnQucmVzdWx0fSk6Rih0KSYmdGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9yZXF1ZXN0XCIscykse2Vycm9yOnQuZXJyb3J9KX0pLGModGhpcyxcIm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlcXVlc3RcIixhc3luYyBlPT57dmFyIHQ7Y29uc3R7dG9waWM6cyxwYXlsb2FkOmksYXR0ZXN0YXRpb246cixlbmNyeXB0ZWRJZDpvLHRyYW5zcG9ydFR5cGU6YX09ZTt0cnl7Y29uc3R7cmVxdWVzdGVyOmwsYXV0aFBheWxvYWQ6cCxleHBpcnlUaW1lc3RhbXA6aH09aS5wYXJhbXMsdT1hd2FpdCB0aGlzLmdldFZlcmlmeUNvbnRleHQoe2F0dGVzdGF0aW9uSWQ6cixoYXNoOlcoSlNPTi5zdHJpbmdpZnkoaSkpLGVuY3J5cHRlZElkOm8sbWV0YWRhdGE6bC5tZXRhZGF0YSx0cmFuc3BvcnRUeXBlOmF9KSxkPXtyZXF1ZXN0ZXI6bCxwYWlyaW5nVG9waWM6cyxpZDppLmlkLGF1dGhQYXlsb2FkOnAsdmVyaWZ5Q29udGV4dDp1LGV4cGlyeVRpbWVzdGFtcDpofTthd2FpdCB0aGlzLnNldEF1dGhSZXF1ZXN0KGkuaWQse3JlcXVlc3Q6ZCxwYWlyaW5nVG9waWM6cyx0cmFuc3BvcnRUeXBlOmF9KSxhPT09UC5saW5rX21vZGUmJih0PWwubWV0YWRhdGEucmVkaXJlY3QpIT1udWxsJiZ0LnVuaXZlcnNhbCYmdGhpcy5jbGllbnQuY29yZS5hZGRMaW5rTW9kZVN1cHBvcnRlZEFwcChsLm1ldGFkYXRhLnJlZGlyZWN0LnVuaXZlcnNhbCksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2F1dGhlbnRpY2F0ZVwiLHt0b3BpYzpzLHBhcmFtczppLnBhcmFtcyxpZDppLmlkLHZlcmlmeUNvbnRleHQ6dX0pfWNhdGNoKGwpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihsKTtjb25zdCBwPWkucGFyYW1zLnJlcXVlc3Rlci5wdWJsaWNLZXksaD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSx1PXRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChpLnBhcmFtcy5yZXF1ZXN0ZXIubWV0YWRhdGEsYSksZD17dHlwZTpWZSxyZWNlaXZlclB1YmxpY0tleTpwLHNlbmRlclB1YmxpY0tleTpofTthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6aS5pZCx0b3BpYzpzLGVycm9yOmwsZW5jb2RlT3B0czpkLHJwY09wdHM6Ti53Y19zZXNzaW9uQXV0aGVudGljYXRlLmF1dG9SZWplY3QsYXBwTGluazp1fSl9fSksYyh0aGlzLFwiYWRkU2Vzc2lvblJlcXVlc3RUb1Nlc3Npb25SZXF1ZXN0UXVldWVcIixlPT57dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlLnB1c2goZSl9KSxjKHRoaXMsXCJjbGVhbnVwQWZ0ZXJSZXNwb25zZVwiLGU9Pnt0aGlzLmRlbGV0ZVBlbmRpbmdTZXNzaW9uUmVxdWVzdChlLnJlc3BvbnNlLmlkLHttZXNzYWdlOlwiZnVsZmlsbGVkXCIsY29kZTowfSksc2V0VGltZW91dCgoKT0+e3RoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmlkbGUsdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpfSxPZSh0aGlzLnJlcXVlc3RRdWV1ZURlbGF5KSl9KSxjKHRoaXMsXCJjbGVhbnVwUGVuZGluZ1NlbnRSZXF1ZXN0c0ZvclRvcGljXCIsKHt0b3BpYzplLGVycm9yOnR9KT0+e2NvbnN0IHM9dGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnBlbmRpbmc7cy5sZW5ndGg+MCYmcy5maWx0ZXIoaT0+aS50b3BpYz09PWUmJmkucmVxdWVzdC5tZXRob2Q9PT1cIndjX3Nlc3Npb25SZXF1ZXN0XCIpLmZvckVhY2goaT0+e2NvbnN0IHI9aS5yZXF1ZXN0LmlkLG89UihcInNlc3Npb25fcmVxdWVzdFwiLHIpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQobyk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtvfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTt0aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX3JlcXVlc3RcIixpLnJlcXVlc3QuaWQpLHtlcnJvcjp0fSl9KX0pLGModGhpcyxcInByb2Nlc3NTZXNzaW9uUmVxdWVzdFF1ZXVlXCIsKCk9PntpZih0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9PT0kLmFjdGl2ZSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJzZXNzaW9uIHJlcXVlc3QgcXVldWUgaXMgYWxyZWFkeSBhY3RpdmUuXCIpO3JldHVybn1jb25zdCBlPXRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZVswXTtpZighZSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJzZXNzaW9uIHJlcXVlc3QgcXVldWUgaXMgZW1wdHkuXCIpO3JldHVybn10cnl7dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPSQuYWN0aXZlLHRoaXMuZW1pdFNlc3Npb25SZXF1ZXN0KGUpfWNhdGNoKHQpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcih0KX19KSxjKHRoaXMsXCJlbWl0U2Vzc2lvblJlcXVlc3RcIixlPT57dGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3JlcXVlc3RcIixlKX0pLGModGhpcyxcIm9uUGFpcmluZ0NyZWF0ZWRcIixlPT57aWYoZS5tZXRob2RzJiZ0aGlzLmV4cGVjdGVkUGFpcmluZ01ldGhvZE1hcC5zZXQoZS50b3BpYyxlLm1ldGhvZHMpLGUuYWN0aXZlKXJldHVybjtjb25zdCB0PXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldEFsbCgpLmZpbmQocz0+cy5wYWlyaW5nVG9waWM9PT1lLnRvcGljKTt0JiZ0aGlzLm9uU2Vzc2lvblByb3Bvc2VSZXF1ZXN0KHt0b3BpYzplLnRvcGljLHBheWxvYWQ6eWUoXCJ3Y19zZXNzaW9uUHJvcG9zZVwiLGIodih7fSx0KSx7cmVxdWlyZWROYW1lc3BhY2VzOnQucmVxdWlyZWROYW1lc3BhY2VzLG9wdGlvbmFsTmFtZXNwYWNlczp0Lm9wdGlvbmFsTmFtZXNwYWNlcyxyZWxheXM6dC5yZWxheXMscHJvcG9zZXI6dC5wcm9wb3NlcixzZXNzaW9uUHJvcGVydGllczp0LnNlc3Npb25Qcm9wZXJ0aWVzLHNjb3BlZFByb3BlcnRpZXM6dC5zY29wZWRQcm9wZXJ0aWVzfSksdC5pZCl9KX0pLGModGhpcyxcImlzVmFsaWRDb25uZWN0XCIsYXN5bmMgZT0+e2lmKCFNKGUpKXtjb25zdHttZXNzYWdlOmx9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgY29ubmVjdCgpIHBhcmFtczogJHtKU09OLnN0cmluZ2lmeShlKX1gKTt0aHJvdyBuZXcgRXJyb3IobCl9Y29uc3R7cGFpcmluZ1RvcGljOnQscmVxdWlyZWROYW1lc3BhY2VzOnMsb3B0aW9uYWxOYW1lc3BhY2VzOmksc2Vzc2lvblByb3BlcnRpZXM6cixzY29wZWRQcm9wZXJ0aWVzOm8scmVsYXlzOmF9PWU7aWYoWCh0KXx8YXdhaXQgdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKHQpLCF6dChhLCEwKSl7Y29uc3R7bWVzc2FnZTpsfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGNvbm5lY3QoKSByZWxheXM6ICR7YX1gKTt0aHJvdyBuZXcgRXJyb3IobCl9aWYoIVgocykmJm90KHMpIT09MCYmdGhpcy52YWxpZGF0ZU5hbWVzcGFjZXMocyxcInJlcXVpcmVkTmFtZXNwYWNlc1wiKSwhWChpKSYmb3QoaSkhPT0wJiZ0aGlzLnZhbGlkYXRlTmFtZXNwYWNlcyhpLFwib3B0aW9uYWxOYW1lc3BhY2VzXCIpLFgocil8fHRoaXMudmFsaWRhdGVTZXNzaW9uUHJvcHMocixcInNlc3Npb25Qcm9wZXJ0aWVzXCIpLCFYKG8pKXt0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKG8sXCJzY29wZWRQcm9wZXJ0aWVzXCIpO2NvbnN0IGw9T2JqZWN0LmtleXMoc3x8e30pLmNvbmNhdChPYmplY3Qua2V5cyhpfHx7fSkpO2lmKCFPYmplY3Qua2V5cyhvKS5ldmVyeShwPT5sLmluY2x1ZGVzKHApKSl0aHJvdyBuZXcgRXJyb3IoYFNjb3BlZCBwcm9wZXJ0aWVzIG11c3QgYmUgYSBzdWJzZXQgb2YgcmVxdWlyZWQvb3B0aW9uYWwgbmFtZXNwYWNlcywgcmVjZWl2ZWQ6ICR7SlNPTi5zdHJpbmdpZnkobyl9LCByZXF1aXJlZC9vcHRpb25hbCBuYW1lc3BhY2VzOiAke0pTT04uc3RyaW5naWZ5KGwpfWApfX0pLGModGhpcyxcInZhbGlkYXRlTmFtZXNwYWNlc1wiLChlLHQpPT57Y29uc3Qgcz1ZdChlLFwiY29ubmVjdCgpXCIsdCk7aWYocyl0aHJvdyBuZXcgRXJyb3Iocy5tZXNzYWdlKX0pLGModGhpcyxcImlzVmFsaWRBcHByb3ZlXCIsYXN5bmMgZT0+e2lmKCFNKGUpKXRocm93IG5ldyBFcnJvcih5KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGFwcHJvdmUoKSBwYXJhbXM6ICR7ZX1gKS5tZXNzYWdlKTtjb25zdHtpZDp0LG5hbWVzcGFjZXM6cyxyZWxheVByb3RvY29sOmksc2Vzc2lvblByb3BlcnRpZXM6cixzY29wZWRQcm9wZXJ0aWVzOm99PWU7dGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZCh0KSxhd2FpdCB0aGlzLmlzVmFsaWRQcm9wb3NhbElkKHQpO2NvbnN0IGE9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KHQpLGw9Q2UocyxcImFwcHJvdmUoKVwiKTtpZihsKXRocm93IG5ldyBFcnJvcihsLm1lc3NhZ2UpO2NvbnN0IHA9YXQoYS5yZXF1aXJlZE5hbWVzcGFjZXMscyxcImFwcHJvdmUoKVwiKTtpZihwKXRocm93IG5ldyBFcnJvcihwLm1lc3NhZ2UpO2lmKCFZKGksITApKXtjb25zdHttZXNzYWdlOmh9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgYXBwcm92ZSgpIHJlbGF5UHJvdG9jb2w6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3IoaCl9aWYoWChyKXx8dGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcyhyLFwic2Vzc2lvblByb3BlcnRpZXNcIiksIVgobykpe3RoaXMudmFsaWRhdGVTZXNzaW9uUHJvcHMobyxcInNjb3BlZFByb3BlcnRpZXNcIik7Y29uc3QgaD1uZXcgU2V0KE9iamVjdC5rZXlzKHMpKTtpZighT2JqZWN0LmtleXMobykuZXZlcnkodT0+aC5oYXModSkpKXRocm93IG5ldyBFcnJvcihgU2NvcGVkIHByb3BlcnRpZXMgbXVzdCBiZSBhIHN1YnNldCBvZiBhcHByb3ZlZCBuYW1lc3BhY2VzLCByZWNlaXZlZDogJHtKU09OLnN0cmluZ2lmeShvKX0sIGFwcHJvdmVkIG5hbWVzcGFjZXM6ICR7QXJyYXkuZnJvbShoKS5qb2luKFwiLCBcIil9YCl9fSksYyh0aGlzLFwiaXNWYWxpZFJlamVjdFwiLGFzeW5jIGU9PntpZighTShlKSl7Y29uc3R7bWVzc2FnZTppfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlamVjdCgpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcihpKX1jb25zdHtpZDp0LHJlYXNvbjpzfT1lO2lmKHRoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQodCksYXdhaXQgdGhpcy5pc1ZhbGlkUHJvcG9zYWxJZCh0KSwhWHQocykpe2NvbnN0e21lc3NhZ2U6aX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZWplY3QoKSByZWFzb246ICR7SlNPTi5zdHJpbmdpZnkocyl9YCk7dGhyb3cgbmV3IEVycm9yKGkpfX0pLGModGhpcyxcImlzVmFsaWRTZXNzaW9uU2V0dGxlUmVxdWVzdFwiLGU9PntpZighTShlKSl7Y29uc3R7bWVzc2FnZTpsfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYG9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3IobCl9Y29uc3R7cmVsYXk6dCxjb250cm9sbGVyOnMsbmFtZXNwYWNlczppLGV4cGlyeTpyfT1lO2lmKCFKdCh0KSl7Y29uc3R7bWVzc2FnZTpsfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0KCkgcmVsYXkgcHJvdG9jb2wgc2hvdWxkIGJlIGEgc3RyaW5nXCIpO3Rocm93IG5ldyBFcnJvcihsKX1jb25zdCBvPUJ0KHMsXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0KClcIik7aWYobyl0aHJvdyBuZXcgRXJyb3Ioby5tZXNzYWdlKTtjb25zdCBhPUNlKGksXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0KClcIik7aWYoYSl0aHJvdyBuZXcgRXJyb3IoYS5tZXNzYWdlKTtpZihaKHIpKXtjb25zdHttZXNzYWdlOmx9PXkoXCJFWFBJUkVEXCIsXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0KClcIik7dGhyb3cgbmV3IEVycm9yKGwpfX0pLGModGhpcyxcImlzVmFsaWRVcGRhdGVcIixhc3luYyBlPT57aWYoIU0oZSkpe2NvbnN0e21lc3NhZ2U6YX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGB1cGRhdGUoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9Y29uc3R7dG9waWM6dCxuYW1lc3BhY2VzOnN9PWU7dGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZCh0KSxhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWModCk7Y29uc3QgaT10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0KSxyPUNlKHMsXCJ1cGRhdGUoKVwiKTtpZihyKXRocm93IG5ldyBFcnJvcihyLm1lc3NhZ2UpO2NvbnN0IG89YXQoaS5yZXF1aXJlZE5hbWVzcGFjZXMscyxcInVwZGF0ZSgpXCIpO2lmKG8pdGhyb3cgbmV3IEVycm9yKG8ubWVzc2FnZSl9KSxjKHRoaXMsXCJpc1ZhbGlkRXh0ZW5kXCIsYXN5bmMgZT0+e2lmKCFNKGUpKXtjb25zdHttZXNzYWdlOnN9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZXh0ZW5kKCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWNvbnN0e3RvcGljOnR9PWU7dGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZCh0KSxhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWModCl9KSxjKHRoaXMsXCJpc1ZhbGlkUmVxdWVzdFwiLGFzeW5jIGU9PntpZighTShlKSl7Y29uc3R7bWVzc2FnZTphfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9Y29uc3R7dG9waWM6dCxyZXF1ZXN0OnMsY2hhaW5JZDppLGV4cGlyeTpyfT1lO3RoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQodCksYXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKHQpO2NvbnN0e25hbWVzcGFjZXM6b309dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQodCk7aWYoIWN0KG8saSkpe2NvbnN0e21lc3NhZ2U6YX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXF1ZXN0KCkgY2hhaW5JZDogJHtpfWApO3Rocm93IG5ldyBFcnJvcihhKX1pZighV3Qocykpe2NvbnN0e21lc3NhZ2U6YX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXF1ZXN0KCkgJHtKU09OLnN0cmluZ2lmeShzKX1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9aWYoIVp0KG8saSxzLm1ldGhvZCkpe2NvbnN0e21lc3NhZ2U6YX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXF1ZXN0KCkgbWV0aG9kOiAke3MubWV0aG9kfWApO3Rocm93IG5ldyBFcnJvcihhKX1pZihyJiYhZXMocixfZSkpe2NvbnN0e21lc3NhZ2U6YX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXF1ZXN0KCkgZXhwaXJ5OiAke3J9LiBFeHBpcnkgbXVzdCBiZSBhIG51bWJlciAoaW4gc2Vjb25kcykgYmV0d2VlbiAke19lLm1pbn0gYW5kICR7X2UubWF4fWApO3Rocm93IG5ldyBFcnJvcihhKX19KSxjKHRoaXMsXCJpc1ZhbGlkUmVzcG9uZFwiLGFzeW5jIGU9Pnt2YXIgdDtpZighTShlKSl7Y29uc3R7bWVzc2FnZTpyfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlc3BvbmQoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3Iocil9Y29uc3R7dG9waWM6cyxyZXNwb25zZTppfT1lO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMocyl9Y2F0Y2gocil7dGhyb3codD1lPy5yZXNwb25zZSkhPW51bGwmJnQuaWQmJnRoaXMuY2xlYW51cEFmdGVyUmVzcG9uc2UoZSkscn1pZighdHMoaSkpe2NvbnN0e21lc3NhZ2U6cn09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXNwb25kKCkgcmVzcG9uc2U6ICR7SlNPTi5zdHJpbmdpZnkoaSl9YCk7dGhyb3cgbmV3IEVycm9yKHIpfX0pLGModGhpcyxcImlzVmFsaWRQaW5nXCIsYXN5bmMgZT0+e2lmKCFNKGUpKXtjb25zdHttZXNzYWdlOnN9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGluZygpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcihzKX1jb25zdHt0b3BpYzp0fT1lO2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25PclBhaXJpbmdUb3BpYyh0KX0pLGModGhpcyxcImlzVmFsaWRFbWl0XCIsYXN5bmMgZT0+e2lmKCFNKGUpKXtjb25zdHttZXNzYWdlOm99PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZW1pdCgpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcihvKX1jb25zdHt0b3BpYzp0LGV2ZW50OnMsY2hhaW5JZDppfT1lO2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyh0KTtjb25zdHtuYW1lc3BhY2VzOnJ9PXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHQpO2lmKCFjdChyLGkpKXtjb25zdHttZXNzYWdlOm99PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZW1pdCgpIGNoYWluSWQ6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iobyl9aWYoIXNzKHMpKXtjb25zdHttZXNzYWdlOm99PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZW1pdCgpIGV2ZW50OiAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihvKX1pZighaXMocixpLHMubmFtZSkpe2NvbnN0e21lc3NhZ2U6b309eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBlbWl0KCkgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkocyl9YCk7dGhyb3cgbmV3IEVycm9yKG8pfX0pLGModGhpcyxcImlzVmFsaWREaXNjb25uZWN0XCIsYXN5bmMgZT0+e2lmKCFNKGUpKXtjb25zdHttZXNzYWdlOnN9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZGlzY29ubmVjdCgpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcihzKX1jb25zdHt0b3BpYzp0fT1lO2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25PclBhaXJpbmdUb3BpYyh0KX0pLGModGhpcyxcImlzVmFsaWRBdXRoZW50aWNhdGVcIixlPT57Y29uc3R7Y2hhaW5zOnQsdXJpOnMsZG9tYWluOmksbm9uY2U6cn09ZTtpZighQXJyYXkuaXNBcnJheSh0KXx8dC5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcihcImNoYWlucyBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBhIG5vbi1lbXB0eSBhcnJheVwiKTtpZighWShzLCExKSl0aHJvdyBuZXcgRXJyb3IoXCJ1cmkgaXMgcmVxdWlyZWQgcGFyYW1ldGVyXCIpO2lmKCFZKGksITEpKXRocm93IG5ldyBFcnJvcihcImRvbWFpbiBpcyByZXF1aXJlZCBwYXJhbWV0ZXJcIik7aWYoIVkociwhMSkpdGhyb3cgbmV3IEVycm9yKFwibm9uY2UgaXMgcmVxdWlyZWQgcGFyYW1ldGVyXCIpO2lmKFsuLi5uZXcgU2V0KHQubWFwKGE9PkFlKGEpLm5hbWVzcGFjZSkpXS5sZW5ndGg+MSl0aHJvdyBuZXcgRXJyb3IoXCJNdWx0aS1uYW1lc3BhY2UgcmVxdWVzdHMgYXJlIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSByZXF1ZXN0IHNpbmdsZSBuYW1lc3BhY2Ugb25seS5cIik7Y29uc3R7bmFtZXNwYWNlOm99PUFlKHRbMF0pO2lmKG8hPT1cImVpcDE1NVwiKXRocm93IG5ldyBFcnJvcihcIk9ubHkgZWlwMTU1IG5hbWVzcGFjZSBpcyBzdXBwb3J0ZWQgZm9yIGF1dGhlbnRpY2F0ZWQgc2Vzc2lvbnMuIFBsZWFzZSB1c2UgLmNvbm5lY3QoKSBmb3Igbm9uLWVpcDE1NSBjaGFpbnMuXCIpfSksYyh0aGlzLFwiZ2V0VmVyaWZ5Q29udGV4dFwiLGFzeW5jIGU9Pntjb25zdHthdHRlc3RhdGlvbklkOnQsaGFzaDpzLGVuY3J5cHRlZElkOmksbWV0YWRhdGE6cix0cmFuc3BvcnRUeXBlOm99PWUsYT17dmVyaWZpZWQ6e3ZlcmlmeVVybDpyLnZlcmlmeVVybHx8T3QsdmFsaWRhdGlvbjpcIlVOS05PV05cIixvcmlnaW46ci51cmx8fFwiXCJ9fTt0cnl7aWYobz09PVAubGlua19tb2RlKXtjb25zdCBwPXRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChyLG8pO3JldHVybiBhLnZlcmlmaWVkLnZhbGlkYXRpb249cCYmbmV3IFVSTChwKS5vcmlnaW49PT1uZXcgVVJMKHIudXJsKS5vcmlnaW4/XCJWQUxJRFwiOlwiSU5WQUxJRFwiLGF9Y29uc3QgbD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnZlcmlmeS5yZXNvbHZlKHthdHRlc3RhdGlvbklkOnQsaGFzaDpzLGVuY3J5cHRlZElkOmksdmVyaWZ5VXJsOnIudmVyaWZ5VXJsfSk7bCYmKGEudmVyaWZpZWQub3JpZ2luPWwub3JpZ2luLGEudmVyaWZpZWQuaXNTY2FtPWwuaXNTY2FtLGEudmVyaWZpZWQudmFsaWRhdGlvbj1sLm9yaWdpbj09PW5ldyBVUkwoci51cmwpLm9yaWdpbj9cIlZBTElEXCI6XCJJTlZBTElEXCIpfWNhdGNoKGwpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGwpfXJldHVybiB0aGlzLmNsaWVudC5sb2dnZXIuZGVidWcoYFZlcmlmeSBjb250ZXh0OiAke0pTT04uc3RyaW5naWZ5KGEpfWApLGF9KSxjKHRoaXMsXCJ2YWxpZGF0ZVNlc3Npb25Qcm9wc1wiLChlLHQpPT57T2JqZWN0LnZhbHVlcyhlKS5mb3JFYWNoKChzLGkpPT57aWYocz09bnVsbCl7Y29uc3R7bWVzc2FnZTpyfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYCR7dH0gbXVzdCBjb250YWluIGFuIGV4aXN0aW5nIHZhbHVlIGZvciBlYWNoIGtleS4gUmVjZWl2ZWQ6ICR7c30gZm9yIGtleSAke09iamVjdC5rZXlzKGUpW2ldfWApO3Rocm93IG5ldyBFcnJvcihyKX19KX0pLGModGhpcyxcImdldFBlbmRpbmdBdXRoUmVxdWVzdFwiLGU9Pntjb25zdCB0PXRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuZ2V0KGUpO3JldHVybiB0eXBlb2YgdD09XCJvYmplY3RcIj90OnZvaWQgMH0pLGModGhpcyxcImFkZFRvUmVjZW50bHlEZWxldGVkXCIsKGUsdCk9PntpZih0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5zZXQoZSx0KSx0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5zaXplPj10aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0KXtsZXQgcz0wO2NvbnN0IGk9dGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdC8yO2Zvcihjb25zdCByIG9mIHRoaXMucmVjZW50bHlEZWxldGVkTWFwLmtleXMoKSl7aWYocysrPj1pKWJyZWFrO3RoaXMucmVjZW50bHlEZWxldGVkTWFwLmRlbGV0ZShyKX19fSksYyh0aGlzLFwiY2hlY2tSZWNlbnRseURlbGV0ZWRcIixlPT57Y29uc3QgdD10aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5nZXQoZSk7aWYodCl7Y29uc3R7bWVzc2FnZTpzfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYFJlY29yZCB3YXMgcmVjZW50bHkgZGVsZXRlZCAtICR7dH06ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9fSksYyh0aGlzLFwiaXNMaW5rTW9kZUVuYWJsZWRcIiwoZSx0KT0+e3ZhciBzLGkscixvLGEsbCxwLGgsdTtyZXR1cm4hZXx8dCE9PVAubGlua19tb2RlPyExOigoaT0ocz10aGlzLmNsaWVudC5tZXRhZGF0YSk9PW51bGw/dm9pZCAwOnMucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDppLmxpbmtNb2RlKT09PSEwJiYoKG89KHI9dGhpcy5jbGllbnQubWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpyLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6by51bml2ZXJzYWwpIT09dm9pZCAwJiYoKGw9KGE9dGhpcy5jbGllbnQubWV0YWRhdGEpPT1udWxsP3ZvaWQgMDphLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6bC51bml2ZXJzYWwpIT09XCJcIiYmKChwPWU/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cC51bml2ZXJzYWwpIT09dm9pZCAwJiYoKGg9ZT8ucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpoLnVuaXZlcnNhbCkhPT1cIlwiJiYoKHU9ZT8ucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDp1LmxpbmtNb2RlKT09PSEwJiZ0aGlzLmNsaWVudC5jb3JlLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5pbmNsdWRlcyhlLnJlZGlyZWN0LnVuaXZlcnNhbCkmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIn0pLGModGhpcyxcImdldEFwcExpbmtJZkVuYWJsZWRcIiwoZSx0KT0+e3ZhciBzO3JldHVybiB0aGlzLmlzTGlua01vZGVFbmFibGVkKGUsdCk/KHM9ZT8ucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpzLnVuaXZlcnNhbDp2b2lkIDB9KSxjKHRoaXMsXCJoYW5kbGVMaW5rTW9kZU1lc3NhZ2VcIiwoe3VybDplfSk9PntpZighZXx8IWUuaW5jbHVkZXMoXCJ3Y19ldlwiKXx8IWUuaW5jbHVkZXMoXCJ0b3BpY1wiKSlyZXR1cm47Y29uc3QgdD1sdChlLFwidG9waWNcIil8fFwiXCIscz1kZWNvZGVVUklDb21wb25lbnQobHQoZSxcIndjX2V2XCIpfHxcIlwiKSxpPXRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyh0KTtpJiZ0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZSh0LHt0cmFuc3BvcnRUeXBlOlAubGlua19tb2RlfSksdGhpcy5jbGllbnQuY29yZS5kaXNwYXRjaEVudmVsb3BlKHt0b3BpYzp0LG1lc3NhZ2U6cyxzZXNzaW9uRXhpc3RzOml9KX0pLGModGhpcyxcInJlZ2lzdGVyTGlua01vZGVMaXN0ZW5lcnNcIixhc3luYygpPT57dmFyIGU7aWYocnMoKXx8bnMoKSYmKGU9dGhpcy5jbGllbnQubWV0YWRhdGEucmVkaXJlY3QpIT1udWxsJiZlLmxpbmtNb2RlKXtjb25zdCB0PWdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkxpbmtpbmc7aWYodHlwZW9mIHQ8XCJ1XCIpe3QuYWRkRXZlbnRMaXN0ZW5lcihcInVybFwiLHRoaXMuaGFuZGxlTGlua01vZGVNZXNzYWdlLHRoaXMuY2xpZW50Lm5hbWUpO2NvbnN0IHM9YXdhaXQgdC5nZXRJbml0aWFsVVJMKCk7cyYmc2V0VGltZW91dCgoKT0+e3RoaXMuaGFuZGxlTGlua01vZGVNZXNzYWdlKHt1cmw6c30pfSw1MCl9fX0pLGModGhpcyxcInNob3VsZFNldFRWRlwiLChlLHQpPT57aWYoIXR8fGUhPT1cIndjX3Nlc3Npb25SZXF1ZXN0XCIpcmV0dXJuITE7Y29uc3R7cmVxdWVzdDpzfT10O3JldHVybiBPYmplY3Qua2V5cyhVZSkuaW5jbHVkZXMocy5tZXRob2QpfSksYyh0aGlzLFwiZ2V0VFZGUGFyYW1zXCIsKGUsdCxzKT0+e3ZhciBpLHI7dHJ5e2NvbnN0IG89dC5yZXF1ZXN0Lm1ldGhvZCxhPXRoaXMuZXh0cmFjdFR4SGFzaGVzRnJvbVJlc3VsdChvLHMpO3JldHVybiBiKHYoe2NvcnJlbGF0aW9uSWQ6ZSxycGNNZXRob2RzOltvXSxjaGFpbklkOnQuY2hhaW5JZH0sdGhpcy5pc1ZhbGlkQ29udHJhY3REYXRhKHQucmVxdWVzdC5wYXJhbXMpJiZ7Y29udHJhY3RBZGRyZXNzZXM6WyhyPShpPXQucmVxdWVzdC5wYXJhbXMpPT1udWxsP3ZvaWQgMDppWzBdKT09bnVsbD92b2lkIDA6ci50b119KSx7dHhIYXNoZXM6YX0pfWNhdGNoKG8pe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKFwiRXJyb3IgZ2V0dGluZyBUVkYgcGFyYW1zXCIsbyl9cmV0dXJue319KSxjKHRoaXMsXCJpc1ZhbGlkQ29udHJhY3REYXRhXCIsZT0+e3ZhciB0O2lmKCFlKXJldHVybiExO3RyeXtjb25zdCBzPWU/LmRhdGF8fCgodD1lPy5bMF0pPT1udWxsP3ZvaWQgMDp0LmRhdGEpO2lmKCFzLnN0YXJ0c1dpdGgoXCIweFwiKSlyZXR1cm4hMTtjb25zdCBpPXMuc2xpY2UoMik7cmV0dXJuL15bMC05YS1mQS1GXSokLy50ZXN0KGkpP2kubGVuZ3RoJTI9PT0wOiExfWNhdGNoe31yZXR1cm4hMX0pLGModGhpcyxcImV4dHJhY3RUeEhhc2hlc0Zyb21SZXN1bHRcIiwoZSx0KT0+e3RyeXtjb25zdCBzPVVlW2VdO2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXJldHVyblt0XTtjb25zdCBpPXRbcy5rZXldO2lmKG9zKGkpKXJldHVybiBlPT09XCJzb2xhbmFfc2lnbkFsbFRyYW5zYWN0aW9uc1wiP2kubWFwKHI9PmFzKHIpKTppO2lmKHR5cGVvZiBpPT1cInN0cmluZ1wiKXJldHVybltpXX1jYXRjaChzKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihcIkVycm9yIGV4dHJhY3RpbmcgdHggaGFzaGVzIGZyb20gcmVzdWx0XCIscyl9cmV0dXJuW119KX1hc3luYyBwcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMoKXt0cnl7Y29uc3Qgbj10aGlzLmNsaWVudC5zZXNzaW9uLmtleXMsZT10aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIubWVzc2FnZXMuZ2V0V2l0aG91dEFjayhuKTtmb3IoY29uc3RbdCxzXW9mIE9iamVjdC5lbnRyaWVzKGUpKWZvcihjb25zdCBpIG9mIHMpdHJ5e2F3YWl0IHRoaXMub25Qcm92aWRlck1lc3NhZ2VFdmVudCh7dG9waWM6dCxtZXNzYWdlOmkscHVibGlzaGVkQXQ6RGF0ZS5ub3coKX0pfWNhdGNoe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGBFcnJvciBwcm9jZXNzaW5nIHBlbmRpbmcgbWVzc2FnZSBldmVudCBmb3IgdG9waWM6ICR7dH0sIG1lc3NhZ2U6ICR7aX1gKX19Y2F0Y2gobil7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oXCJwcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMgZmFpbGVkXCIsbil9fWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTpufT15KFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3Iobil9fWFzeW5jIGNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKXthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpfXJlZ2lzdGVyUmVsYXllckV2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUucmVsYXllci5vbihYZS5tZXNzYWdlLG49Pnt0aGlzLm9uUHJvdmlkZXJNZXNzYWdlRXZlbnQobil9KX1hc3luYyBvblJlbGF5TWVzc2FnZShuKXtjb25zdHt0b3BpYzplLG1lc3NhZ2U6dCxhdHRlc3RhdGlvbjpzLHRyYW5zcG9ydFR5cGU6aX09bix7cHVibGljS2V5OnJ9PXRoaXMuY2xpZW50LmF1dGguYXV0aEtleXMua2V5cy5pbmNsdWRlcyhjZSk/dGhpcy5jbGllbnQuYXV0aC5hdXRoS2V5cy5nZXQoY2UpOntyZXNwb25zZVRvcGljOnZvaWQgMCxwdWJsaWNLZXk6dm9pZCAwfTt0cnl7Y29uc3Qgbz1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5kZWNvZGUoZSx0LHtyZWNlaXZlclB1YmxpY0tleTpyLGVuY29kaW5nOmk9PT1QLmxpbmtfbW9kZT9uZTpkZX0pO2hzKG8pPyh0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KGUsbyksYXdhaXQgdGhpcy5vblJlbGF5RXZlbnRSZXF1ZXN0KHt0b3BpYzplLHBheWxvYWQ6byxhdHRlc3RhdGlvbjpzLHRyYW5zcG9ydFR5cGU6aSxlbmNyeXB0ZWRJZDpXKHQpfSkpOmRzKG8pPyhhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkucmVzb2x2ZShvKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlc3BvbnNlKHt0b3BpYzplLHBheWxvYWQ6byx0cmFuc3BvcnRUeXBlOml9KSx0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZGVsZXRlKGUsby5pZCkpOmF3YWl0IHRoaXMub25SZWxheUV2ZW50VW5rbm93blBheWxvYWQoe3RvcGljOmUscGF5bG9hZDpvLHRyYW5zcG9ydFR5cGU6aX0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5tZXNzYWdlcy5hY2soZSx0KX1jYXRjaChvKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iobyl9fXJlZ2lzdGVyRXhwaXJlckV2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5vbihUdC5leHBpcmVkLGFzeW5jIG49Pntjb25zdHt0b3BpYzplLGlkOnR9PU10KG4udGFyZ2V0KTtpZih0JiZ0aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5rZXlzLmluY2x1ZGVzKHQpKXJldHVybiBhd2FpdCB0aGlzLmRlbGV0ZVBlbmRpbmdTZXNzaW9uUmVxdWVzdCh0LHkoXCJFWFBJUkVEXCIpLCEwKTtpZih0JiZ0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmtleXMuaW5jbHVkZXModCkpcmV0dXJuIGF3YWl0IHRoaXMuZGVsZXRlUGVuZGluZ0F1dGhSZXF1ZXN0KHQseShcIkVYUElSRURcIiksITApO2U/dGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKGUpJiYoYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzplLGV4cGlyZXJIYXNEZWxldGVkOiEwfSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2V4cGlyZVwiLHt0b3BpYzplfSkpOnQmJihhd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKHQsITApLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwicHJvcG9zYWxfZXhwaXJlXCIse2lkOnR9KSl9KX1yZWdpc3RlclBhaXJpbmdFdmVudHMoKXt0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuZXZlbnRzLm9uKEplLmNyZWF0ZSxuPT50aGlzLm9uUGFpcmluZ0NyZWF0ZWQobikpLHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5ldmVudHMub24oSmUuZGVsZXRlLG49Pnt0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKG4udG9waWMsXCJwYWlyaW5nXCIpfSl9aXNWYWxpZFBhaXJpbmdUb3BpYyhuKXtpZighWShuLCExKSl7Y29uc3R7bWVzc2FnZTplfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXJpbmcgdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke259YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKCF0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhuKSl7Y29uc3R7bWVzc2FnZTplfT15KFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHBhaXJpbmcgdG9waWMgZG9lc24ndCBleGlzdDogJHtufWApO3Rocm93IG5ldyBFcnJvcihlKX1pZihaKHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5nZXQobikuZXhwaXJ5KSl7Y29uc3R7bWVzc2FnZTplfT15KFwiRVhQSVJFRFwiLGBwYWlyaW5nIHRvcGljOiAke259YCk7dGhyb3cgbmV3IEVycm9yKGUpfX1hc3luYyBpc1ZhbGlkU2Vzc2lvblRvcGljKG4pe2lmKCFZKG4sITEpKXtjb25zdHttZXNzYWdlOmV9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgc2Vzc2lvbiB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7bn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9aWYodGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChuKSwhdGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKG4pKXtjb25zdHttZXNzYWdlOmV9PXkoXCJOT19NQVRDSElOR19LRVlcIixgc2Vzc2lvbiB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke259YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKFoodGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQobikuZXhwaXJ5KSl7YXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzpufSk7Y29uc3R7bWVzc2FnZTplfT15KFwiRVhQSVJFRFwiLGBzZXNzaW9uIHRvcGljOiAke259YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKCF0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMobikpe2NvbnN0e21lc3NhZ2U6ZX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBzZXNzaW9uIHRvcGljIGRvZXMgbm90IGV4aXN0IGluIGtleWNoYWluOiAke259YCk7dGhyb3cgYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzpufSksbmV3IEVycm9yKGUpfX1hc3luYyBpc1ZhbGlkU2Vzc2lvbk9yUGFpcmluZ1RvcGljKG4pe2lmKHRoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQobiksdGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKG4pKWF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhuKTtlbHNlIGlmKHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKG4pKXRoaXMuaXNWYWxpZFBhaXJpbmdUb3BpYyhuKTtlbHNlIGlmKFkobiwhMSkpe2NvbnN0e21lc3NhZ2U6ZX09eShcIk5PX01BVENISU5HX0tFWVwiLGBzZXNzaW9uIG9yIHBhaXJpbmcgdG9waWMgZG9lc24ndCBleGlzdDogJHtufWApO3Rocm93IG5ldyBFcnJvcihlKX1lbHNle2NvbnN0e21lc3NhZ2U6ZX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBzZXNzaW9uIG9yIHBhaXJpbmcgdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke259YCk7dGhyb3cgbmV3IEVycm9yKGUpfX1hc3luYyBpc1ZhbGlkUHJvcG9zYWxJZChuKXtpZighJHQobikpe2NvbnN0e21lc3NhZ2U6ZX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwcm9wb3NhbCBpZCBzaG91bGQgYmUgYSBudW1iZXI6ICR7bn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9aWYoIXRoaXMuY2xpZW50LnByb3Bvc2FsLmtleXMuaW5jbHVkZXMobikpe2NvbnN0e21lc3NhZ2U6ZX09eShcIk5PX01BVENISU5HX0tFWVwiLGBwcm9wb3NhbCBpZCBkb2Vzbid0IGV4aXN0OiAke259YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKFoodGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KG4pLmV4cGlyeVRpbWVzdGFtcCkpe2F3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwobik7Y29uc3R7bWVzc2FnZTplfT15KFwiRVhQSVJFRFwiLGBwcm9wb3NhbCBpZDogJHtufWApO3Rocm93IG5ldyBFcnJvcihlKX19fWNsYXNzIE5zIGV4dGVuZHMgQntjb25zdHJ1Y3RvcihuLGUpe3N1cGVyKG4sZSxwdCx3ZSksdGhpcy5jb3JlPW4sdGhpcy5sb2dnZXI9ZX19Y2xhc3MgU3QgZXh0ZW5kcyBCe2NvbnN0cnVjdG9yKG4sZSl7c3VwZXIobixlLGh0LHdlKSx0aGlzLmNvcmU9bix0aGlzLmxvZ2dlcj1lfX1jbGFzcyBPcyBleHRlbmRzIEJ7Y29uc3RydWN0b3IobixlKXtzdXBlcihuLGUsdXQsd2UsdD0+dC5pZCksdGhpcy5jb3JlPW4sdGhpcy5sb2dnZXI9ZX19Y2xhc3MgYnMgZXh0ZW5kcyBCe2NvbnN0cnVjdG9yKG4sZSl7c3VwZXIobixlLG10LGFlLCgpPT5jZSksdGhpcy5jb3JlPW4sdGhpcy5sb2dnZXI9ZX19Y2xhc3MgQXMgZXh0ZW5kcyBCe2NvbnN0cnVjdG9yKG4sZSl7c3VwZXIobixlLF90LGFlKSx0aGlzLmNvcmU9bix0aGlzLmxvZ2dlcj1lfX1jbGFzcyB4cyBleHRlbmRzIEJ7Y29uc3RydWN0b3IobixlKXtzdXBlcihuLGUsRXQsYWUsdD0+dC5pZCksdGhpcy5jb3JlPW4sdGhpcy5sb2dnZXI9ZX19dmFyIENzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxWcz0oUyxuLGUpPT5uIGluIFM/Q3MoUyxuLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6U1tuXT1lLEdlPShTLG4sZSk9PlZzKFMsdHlwZW9mIG4hPVwic3ltYm9sXCI/bitcIlwiOm4sZSk7Y2xhc3MgRHN7Y29uc3RydWN0b3IobixlKXt0aGlzLmNvcmU9bix0aGlzLmxvZ2dlcj1lLEdlKHRoaXMsXCJhdXRoS2V5c1wiKSxHZSh0aGlzLFwicGFpcmluZ1RvcGljc1wiKSxHZSh0aGlzLFwicmVxdWVzdHNcIiksdGhpcy5hdXRoS2V5cz1uZXcgYnModGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnBhaXJpbmdUb3BpY3M9bmV3IEFzKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5yZXF1ZXN0cz1uZXcgeHModGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1hc3luYyBpbml0KCl7YXdhaXQgdGhpcy5hdXRoS2V5cy5pbml0KCksYXdhaXQgdGhpcy5wYWlyaW5nVG9waWNzLmluaXQoKSxhd2FpdCB0aGlzLnJlcXVlc3RzLmluaXQoKX19dmFyIExzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxrcz0oUyxuLGUpPT5uIGluIFM/THMoUyxuLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6U1tuXT1lLEU9KFMsbixlKT0+a3MoUyx0eXBlb2YgbiE9XCJzeW1ib2xcIj9uK1wiXCI6bixlKTtjbGFzcyBFZSBleHRlbmRzIEx0e2NvbnN0cnVjdG9yKG4pe3N1cGVyKG4pLEUodGhpcyxcInByb3RvY29sXCIsRGUpLEUodGhpcyxcInZlcnNpb25cIixMZSksRSh0aGlzLFwibmFtZVwiLG1lLm5hbWUpLEUodGhpcyxcIm1ldGFkYXRhXCIpLEUodGhpcyxcImNvcmVcIiksRSh0aGlzLFwibG9nZ2VyXCIpLEUodGhpcyxcImV2ZW50c1wiLG5ldyBwcyksRSh0aGlzLFwiZW5naW5lXCIpLEUodGhpcyxcInNlc3Npb25cIiksRSh0aGlzLFwicHJvcG9zYWxcIiksRSh0aGlzLFwicGVuZGluZ1JlcXVlc3RcIiksRSh0aGlzLFwiYXV0aFwiKSxFKHRoaXMsXCJzaWduQ29uZmlnXCIpLEUodGhpcyxcIm9uXCIsKHQscyk9PnRoaXMuZXZlbnRzLm9uKHQscykpLEUodGhpcyxcIm9uY2VcIiwodCxzKT0+dGhpcy5ldmVudHMub25jZSh0LHMpKSxFKHRoaXMsXCJvZmZcIiwodCxzKT0+dGhpcy5ldmVudHMub2ZmKHQscykpLEUodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKHQscyk9PnRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKHQscykpLEUodGhpcyxcInJlbW92ZUFsbExpc3RlbmVyc1wiLHQ9PnRoaXMuZXZlbnRzLnJlbW92ZUFsbExpc3RlbmVycyh0KSksRSh0aGlzLFwiY29ubmVjdFwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmNvbm5lY3QodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcInBhaXJcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5wYWlyKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJhcHByb3ZlXCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXBwcm92ZSh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwicmVqZWN0XCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVqZWN0KHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJ1cGRhdGVcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS51cGRhdGUodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcImV4dGVuZFwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmV4dGVuZCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwicmVxdWVzdFwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlcXVlc3QodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcInJlc3BvbmRcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZXNwb25kKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJwaW5nXCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucGluZyh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwiZW1pdFwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmVtaXQodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcImRpc2Nvbm5lY3RcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5kaXNjb25uZWN0KHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJmaW5kXCIsdD0+e3RyeXtyZXR1cm4gdGhpcy5lbmdpbmUuZmluZCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwiZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0c1wiLCgpPT57dHJ5e3JldHVybiB0aGlzLmVuZ2luZS5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodC5tZXNzYWdlKSx0fX0pLEUodGhpcyxcImF1dGhlbnRpY2F0ZVwiLGFzeW5jKHQscyk9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmF1dGhlbnRpY2F0ZSh0LHMpfWNhdGNoKGkpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKGkubWVzc2FnZSksaX19KSxFKHRoaXMsXCJmb3JtYXRBdXRoTWVzc2FnZVwiLHQ9Pnt0cnl7cmV0dXJuIHRoaXMuZW5naW5lLmZvcm1hdEF1dGhNZXNzYWdlKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJhcHByb3ZlU2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmFwcHJvdmVTZXNzaW9uQXV0aGVudGljYXRlKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJyZWplY3RTZXNzaW9uQXV0aGVudGljYXRlXCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVqZWN0U2Vzc2lvbkF1dGhlbnRpY2F0ZSh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksdGhpcy5uYW1lPW4/Lm5hbWV8fG1lLm5hbWUsdGhpcy5tZXRhZGF0YT1uPy5tZXRhZGF0YXx8Y3MoKSx0aGlzLnNpZ25Db25maWc9bj8uc2lnbkNvbmZpZztjb25zdCBlPXR5cGVvZiBuPy5sb2dnZXI8XCJ1XCImJnR5cGVvZiBuPy5sb2dnZXIhPVwic3RyaW5nXCI/bi5sb2dnZXI6QXQoeHQoe2xldmVsOm4/LmxvZ2dlcnx8bWUubG9nZ2VyfSkpO3RoaXMuY29yZT1uPy5jb3JlfHxuZXcgYnQobiksdGhpcy5sb2dnZXI9Q3QoZSx0aGlzLm5hbWUpLHRoaXMuc2Vzc2lvbj1uZXcgU3QodGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnByb3Bvc2FsPW5ldyBOcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucGVuZGluZ1JlcXVlc3Q9bmV3IE9zKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5lbmdpbmU9bmV3IFBzKHRoaXMpLHRoaXMuYXV0aD1uZXcgRHModGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1zdGF0aWMgYXN5bmMgaW5pdChuKXtjb25zdCBlPW5ldyBFZShuKTtyZXR1cm4gYXdhaXQgZS5pbml0aWFsaXplKCksZX1nZXQgY29udGV4dCgpe3JldHVybiBWdCh0aGlzLmxvZ2dlcil9Z2V0IHBhaXJpbmcoKXtyZXR1cm4gdGhpcy5jb3JlLnBhaXJpbmcucGFpcmluZ3N9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY29yZS5zdGFydCgpLGF3YWl0IHRoaXMuc2Vzc2lvbi5pbml0KCksYXdhaXQgdGhpcy5wcm9wb3NhbC5pbml0KCksYXdhaXQgdGhpcy5wZW5kaW5nUmVxdWVzdC5pbml0KCksYXdhaXQgdGhpcy5hdXRoLmluaXQoKSxhd2FpdCB0aGlzLmVuZ2luZS5pbml0KCksdGhpcy5sb2dnZXIuaW5mbyhcIlNpZ25DbGllbnQgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKSxzZXRUaW1lb3V0KCgpPT57dGhpcy5lbmdpbmUucHJvY2Vzc1JlbGF5TWVzc2FnZUNhY2hlKCl9LE9lKFplKSl9Y2F0Y2gobil7dGhyb3cgdGhpcy5sb2dnZXIuaW5mbyhcIlNpZ25DbGllbnQgSW5pdGlhbGl6YXRpb24gRmFpbHVyZVwiKSx0aGlzLmxvZ2dlci5lcnJvcihuLm1lc3NhZ2UpLG59fX1jb25zdCBNcz1TdCwkcz1FZTtleHBvcnR7d3QgYXMgQVVUSF9DT05URVhULG10IGFzIEFVVEhfS0VZU19DT05URVhULF90IGFzIEFVVEhfUEFJUklOR19UT1BJQ19DT05URVhULHl0IGFzIEFVVEhfUFJPVE9DT0wsY2UgYXMgQVVUSF9QVUJMSUNfS0VZX05BTUUsRXQgYXMgQVVUSF9SRVFVRVNUX0NPTlRFWFQsYWUgYXMgQVVUSF9TVE9SQUdFX1BSRUZJWCxTcyBhcyBBVVRIX1ZFUlNJT04sZHQgYXMgRU5HSU5FX0NPTlRFWFQsJCBhcyBFTkdJTkVfUVVFVUVfU1RBVEVTLE4gYXMgRU5HSU5FX1JQQ19PUFRTLF9zIGFzIEhJU1RPUllfQ09OVEVYVCxtcyBhcyBISVNUT1JZX0VWRU5UUyxFcyBhcyBISVNUT1JZX1NUT1JBR0VfVkVSU0lPTixndCBhcyBNRVRIT0RTX1RPX1ZFUklGWSxwdCBhcyBQUk9QT1NBTF9DT05URVhULGZzIGFzIFBST1BPU0FMX0VYUElSWSwkZSBhcyBQUk9QT1NBTF9FWFBJUllfTUVTU0FHRSx1dCBhcyBSRVFVRVNUX0NPTlRFWFQsaHQgYXMgU0VTU0lPTl9DT05URVhULEogYXMgU0VTU0lPTl9FWFBJUlksX2UgYXMgU0VTU0lPTl9SRVFVRVNUX0VYUElSWV9CT1VOREFSSUVTLGtlIGFzIFNJR05fQ0xJRU5UX0NPTlRFWFQsbWUgYXMgU0lHTl9DTElFTlRfREVGQVVMVCx5cyBhcyBTSUdOX0NMSUVOVF9FVkVOVFMsRGUgYXMgU0lHTl9DTElFTlRfUFJPVE9DT0wsd3MgYXMgU0lHTl9DTElFTlRfU1RPUkFHRV9PUFRJT05TLHdlIGFzIFNJR05fQ0xJRU5UX1NUT1JBR0VfUFJFRklYLExlIGFzIFNJR05fQ0xJRU5UX1ZFUlNJT04sTXMgYXMgU2Vzc2lvblN0b3JlLCRzIGFzIFNpZ25DbGllbnQsVWUgYXMgVFZGX01FVEhPRFMsTWUgYXMgV0FMTEVUQ09OTkVDVF9ERUVQTElOS19DSE9JQ0UsRWUgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/sign-client/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BASE10: () => (/* binding */ Ot),\n/* harmony export */   BASE16: () => (/* binding */ V),\n/* harmony export */   BASE64: () => (/* binding */ At),\n/* harmony export */   BASE64URL: () => (/* binding */ ti),\n/* harmony export */   COLON: () => (/* binding */ Gr),\n/* harmony export */   DEFAULT_DEPTH: () => (/* binding */ Qe),\n/* harmony export */   EMPTY_SPACE: () => (/* binding */ Le),\n/* harmony export */   ENV_MAP: () => (/* binding */ H),\n/* harmony export */   INTERNAL_ERRORS: () => (/* binding */ mr),\n/* harmony export */   MemoryStore: () => (/* binding */ ec),\n/* harmony export */   ONE_THOUSAND: () => (/* binding */ Wr),\n/* harmony export */   REACT_NATIVE_PRODUCT: () => (/* binding */ Ft),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ sr),\n/* harmony export */   SDK_ERRORS: () => (/* binding */ yr),\n/* harmony export */   SDK_TYPE: () => (/* binding */ Gt),\n/* harmony export */   SLASH: () => (/* binding */ qt),\n/* harmony export */   TYPE_0: () => (/* binding */ Nt),\n/* harmony export */   TYPE_1: () => (/* binding */ Oe),\n/* harmony export */   TYPE_2: () => (/* binding */ _e),\n/* harmony export */   UTF8: () => (/* binding */ Ie),\n/* harmony export */   addResourceToRecap: () => (/* binding */ $n),\n/* harmony export */   appendToQueryString: () => (/* binding */ Wt),\n/* harmony export */   assertType: () => (/* binding */ to),\n/* harmony export */   assignAbilityToActions: () => (/* binding */ ft),\n/* harmony export */   base64Decode: () => (/* binding */ _n),\n/* harmony export */   base64Encode: () => (/* binding */ Un),\n/* harmony export */   buildApprovedNamespaces: () => (/* binding */ $i),\n/* harmony export */   buildAuthObject: () => (/* binding */ Qo),\n/* harmony export */   buildNamespacesFromAuth: () => (/* binding */ Ri),\n/* harmony export */   buildRecapStatement: () => (/* binding */ Pn),\n/* harmony export */   calcExpiry: () => (/* binding */ po),\n/* harmony export */   capitalize: () => (/* binding */ co),\n/* harmony export */   capitalizeWord: () => (/* binding */ Qt),\n/* harmony export */   createDelayedPromise: () => (/* binding */ ao),\n/* harmony export */   createEncodedRecap: () => (/* binding */ rs),\n/* harmony export */   createExpiringPromise: () => (/* binding */ uo),\n/* harmony export */   createRecap: () => (/* binding */ Tn),\n/* harmony export */   decodeRecap: () => (/* binding */ oe),\n/* harmony export */   decodeTypeByte: () => (/* binding */ fe),\n/* harmony export */   decodeTypeTwoEnvelope: () => (/* binding */ li),\n/* harmony export */   decrypt: () => (/* binding */ ui),\n/* harmony export */   deriveSymKey: () => (/* binding */ si),\n/* harmony export */   deserialize: () => (/* binding */ Fe),\n/* harmony export */   encodeRecap: () => (/* binding */ De),\n/* harmony export */   encodeTypeByte: () => (/* binding */ Ut),\n/* harmony export */   encodeTypeTwoEnvelope: () => (/* binding */ fi),\n/* harmony export */   encrypt: () => (/* binding */ ai),\n/* harmony export */   engineEvent: () => (/* binding */ yo),\n/* harmony export */   enumify: () => (/* binding */ io),\n/* harmony export */   extractSolanaTransactionId: () => (/* binding */ qo),\n/* harmony export */   formatAccountId: () => (/* binding */ Mt),\n/* harmony export */   formatAccountWithChain: () => (/* binding */ Vr),\n/* harmony export */   formatChainId: () => (/* binding */ Dt),\n/* harmony export */   formatDeeplinkUrl: () => (/* binding */ en),\n/* harmony export */   formatExpirerTarget: () => (/* binding */ tt),\n/* harmony export */   formatIdTarget: () => (/* binding */ lo),\n/* harmony export */   formatMessage: () => (/* binding */ On),\n/* harmony export */   formatMessageContext: () => (/* binding */ no),\n/* harmony export */   formatRelayParams: () => (/* binding */ ar),\n/* harmony export */   formatRelayRpcUrl: () => (/* binding */ Qr),\n/* harmony export */   formatStatementFromRecap: () => (/* binding */ dt),\n/* harmony export */   formatTopicTarget: () => (/* binding */ fo),\n/* harmony export */   formatUA: () => (/* binding */ Yt),\n/* harmony export */   formatUri: () => (/* binding */ vi),\n/* harmony export */   fromBase64: () => (/* binding */ rt),\n/* harmony export */   generateKeyPair: () => (/* binding */ ri),\n/* harmony export */   generateRandomBytes32: () => (/* binding */ oi),\n/* harmony export */   getAccountsChains: () => (/* binding */ le),\n/* harmony export */   getAccountsFromNamespaces: () => (/* binding */ Kr),\n/* harmony export */   getAddressFromAccount: () => (/* binding */ Vt),\n/* harmony export */   getAddressesFromAccounts: () => (/* binding */ Hr),\n/* harmony export */   getAppId: () => (/* binding */ Yr),\n/* harmony export */   getAppMetadata: () => (/* binding */ Xr),\n/* harmony export */   getBrowserOnlineStatus: () => (/* binding */ Ur),\n/* harmony export */   getChainFromAccount: () => (/* binding */ Ht),\n/* harmony export */   getChainsFromAccounts: () => (/* binding */ Kt),\n/* harmony export */   getChainsFromNamespace: () => (/* binding */ Be),\n/* harmony export */   getChainsFromNamespaces: () => (/* binding */ Fr),\n/* harmony export */   getChainsFromRecap: () => (/* binding */ is),\n/* harmony export */   getChainsFromRequiredNamespaces: () => (/* binding */ qr),\n/* harmony export */   getCommonValuesInArrays: () => (/* binding */ nt),\n/* harmony export */   getCryptoKeyFromKeyData: () => (/* binding */ or),\n/* harmony export */   getDecodedRecapFromResources: () => (/* binding */ An),\n/* harmony export */   getDeepLink: () => (/* binding */ bo),\n/* harmony export */   getDidAddress: () => (/* binding */ ut),\n/* harmony export */   getDidAddressSegments: () => (/* binding */ ke),\n/* harmony export */   getDidChainId: () => (/* binding */ xn),\n/* harmony export */   getEnvironment: () => (/* binding */ ue),\n/* harmony export */   getHttpUrl: () => (/* binding */ eo),\n/* harmony export */   getInternalError: () => (/* binding */ te),\n/* harmony export */   getJavascriptID: () => (/* binding */ Jt),\n/* harmony export */   getJavascriptOS: () => (/* binding */ zt),\n/* harmony export */   getLastItems: () => (/* binding */ Zt),\n/* harmony export */   getLinkModeURL: () => (/* binding */ xi),\n/* harmony export */   getMethodsFromRecap: () => (/* binding */ ss),\n/* harmony export */   getNamespacedDidChainId: () => (/* binding */ In),\n/* harmony export */   getNamespacesChains: () => (/* binding */ lr),\n/* harmony export */   getNamespacesEventsForChainId: () => (/* binding */ hr),\n/* harmony export */   getNamespacesFromAccounts: () => (/* binding */ gr),\n/* harmony export */   getNamespacesMethodsForChainId: () => (/* binding */ dr),\n/* harmony export */   getNodeOnlineStatus: () => (/* binding */ Tr),\n/* harmony export */   getReCapActions: () => (/* binding */ Sn),\n/* harmony export */   getReactNativeOnlineStatus: () => (/* binding */ _r),\n/* harmony export */   getRecapAbilitiesFromResource: () => (/* binding */ ns),\n/* harmony export */   getRecapFromResources: () => (/* binding */ Me),\n/* harmony export */   getRecapResource: () => (/* binding */ Nn),\n/* harmony export */   getRelayClientMetadata: () => (/* binding */ Zr),\n/* harmony export */   getRelayProtocolApi: () => (/* binding */ wi),\n/* harmony export */   getRelayProtocolName: () => (/* binding */ bi),\n/* harmony export */   getRequiredNamespacesFromNamespaces: () => (/* binding */ Ti),\n/* harmony export */   getSdkError: () => (/* binding */ de),\n/* harmony export */   getSearchParamFromURL: () => (/* binding */ wo),\n/* harmony export */   getUniqueValues: () => (/* binding */ Ze),\n/* harmony export */   handleDeeplinkRedirect: () => (/* binding */ mo),\n/* harmony export */   hasOverlap: () => (/* binding */ re),\n/* harmony export */   hashEthereumMessage: () => (/* binding */ ct),\n/* harmony export */   hashKey: () => (/* binding */ ii),\n/* harmony export */   hashMessage: () => (/* binding */ ci),\n/* harmony export */   isAndroid: () => (/* binding */ zr),\n/* harmony export */   isBrowser: () => (/* binding */ Ae),\n/* harmony export */   isCaipNamespace: () => (/* binding */ Tt),\n/* harmony export */   isConformingNamespaces: () => (/* binding */ Nr),\n/* harmony export */   isExpired: () => (/* binding */ go),\n/* harmony export */   isIframe: () => (/* binding */ rn),\n/* harmony export */   isIos: () => (/* binding */ Jr),\n/* harmony export */   isNode: () => (/* binding */ et),\n/* harmony export */   isOnline: () => (/* binding */ Zi),\n/* harmony export */   isProposalStruct: () => (/* binding */ Li),\n/* harmony export */   isReactNative: () => (/* binding */ ne),\n/* harmony export */   isRecap: () => (/* binding */ lt),\n/* harmony export */   isSessionCompatible: () => (/* binding */ Pi),\n/* harmony export */   isSessionStruct: () => (/* binding */ ji),\n/* harmony export */   isTelegram: () => (/* binding */ nn),\n/* harmony export */   isTestRun: () => (/* binding */ vo),\n/* harmony export */   isTypeOneEnvelope: () => (/* binding */ hi),\n/* harmony export */   isTypeTwoEnvelope: () => (/* binding */ pi),\n/* harmony export */   isUndefined: () => (/* binding */ ae),\n/* harmony export */   isValidAccountId: () => (/* binding */ br),\n/* harmony export */   isValidAccounts: () => (/* binding */ vr),\n/* harmony export */   isValidActions: () => (/* binding */ Ir),\n/* harmony export */   isValidArray: () => (/* binding */ $e),\n/* harmony export */   isValidChainId: () => (/* binding */ Re),\n/* harmony export */   isValidChains: () => (/* binding */ wr),\n/* harmony export */   isValidController: () => (/* binding */ Ci),\n/* harmony export */   isValidEip1271Signature: () => (/* binding */ bn),\n/* harmony export */   isValidEip191Signature: () => (/* binding */ mn),\n/* harmony export */   isValidErrorReason: () => (/* binding */ Hi),\n/* harmony export */   isValidEvent: () => (/* binding */ qi),\n/* harmony export */   isValidId: () => (/* binding */ Mi),\n/* harmony export */   isValidNamespaceAccounts: () => (/* binding */ xr),\n/* harmony export */   isValidNamespaceActions: () => (/* binding */ Pt),\n/* harmony export */   isValidNamespaceChains: () => (/* binding */ Er),\n/* harmony export */   isValidNamespaceMethodsOrEvents: () => (/* binding */ Rt),\n/* harmony export */   isValidNamespaces: () => (/* binding */ Or),\n/* harmony export */   isValidNamespacesChainId: () => (/* binding */ Gi),\n/* harmony export */   isValidNamespacesEvent: () => (/* binding */ zi),\n/* harmony export */   isValidNamespacesRequest: () => (/* binding */ Wi),\n/* harmony export */   isValidNumber: () => (/* binding */ Ge),\n/* harmony export */   isValidObject: () => (/* binding */ qe),\n/* harmony export */   isValidParams: () => (/* binding */ Vi),\n/* harmony export */   isValidRecap: () => (/* binding */ Y),\n/* harmony export */   isValidRelay: () => (/* binding */ Ar),\n/* harmony export */   isValidRelays: () => (/* binding */ Di),\n/* harmony export */   isValidRequest: () => (/* binding */ Ki),\n/* harmony export */   isValidRequestExpiry: () => (/* binding */ Xi),\n/* harmony export */   isValidRequiredNamespaces: () => (/* binding */ ki),\n/* harmony export */   isValidResponse: () => (/* binding */ Fi),\n/* harmony export */   isValidString: () => (/* binding */ q),\n/* harmony export */   isValidUrl: () => (/* binding */ Bi),\n/* harmony export */   mapEntries: () => (/* binding */ so),\n/* harmony export */   mapToObj: () => (/* binding */ ro),\n/* harmony export */   mergeArrays: () => (/* binding */ Q),\n/* harmony export */   mergeEncodedRecaps: () => (/* binding */ os),\n/* harmony export */   mergeRecaps: () => (/* binding */ Rn),\n/* harmony export */   normalizeNamespaces: () => (/* binding */ $t),\n/* harmony export */   objToMap: () => (/* binding */ oo),\n/* harmony export */   openDeeplink: () => (/* binding */ tn),\n/* harmony export */   parseAccountId: () => (/* binding */ Xe),\n/* harmony export */   parseChainId: () => (/* binding */ Ye),\n/* harmony export */   parseContextNames: () => (/* binding */ Xt),\n/* harmony export */   parseExpirerTarget: () => (/* binding */ ho),\n/* harmony export */   parseNamespaceKey: () => (/* binding */ pr),\n/* harmony export */   parseRelayParams: () => (/* binding */ ir),\n/* harmony export */   parseTopic: () => (/* binding */ cr),\n/* harmony export */   parseUri: () => (/* binding */ Ei),\n/* harmony export */   populateAuthPayload: () => (/* binding */ es),\n/* harmony export */   recapHasResource: () => (/* binding */ ts),\n/* harmony export */   serialize: () => (/* binding */ _t),\n/* harmony export */   sleep: () => (/* binding */ xo),\n/* harmony export */   subscribeToBrowserNetworkChange: () => (/* binding */ $r),\n/* harmony export */   subscribeToNetworkChange: () => (/* binding */ Qi),\n/* harmony export */   subscribeToReactNativeNetworkChange: () => (/* binding */ Rr),\n/* harmony export */   toBase64: () => (/* binding */ on),\n/* harmony export */   uuidv4: () => (/* binding */ Eo),\n/* harmony export */   validateDecoding: () => (/* binding */ di),\n/* harmony export */   validateEncoding: () => (/* binding */ rr),\n/* harmony export */   validateSignedCacao: () => (/* binding */ Zo),\n/* harmony export */   verifyP256Jwt: () => (/* binding */ mi),\n/* harmony export */   verifySignature: () => (/* binding */ yn)\n/* harmony export */ });\n/* harmony import */ var detect_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! detect-browser */ \"(ssr)/./node_modules/detect-browser/es/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/window-metadata */ \"(ssr)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverAddress.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bs58 */ \"(ssr)/./node_modules/bs58/src/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uint8arrays */ \"(ssr)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var elliptic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! elliptic */ \"(ssr)/./node_modules/elliptic/lib/elliptic.js\");\n/* harmony import */ var elliptic__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(elliptic__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @walletconnect/relay-api */ \"(ssr)/./node_modules/@walletconnect/relay-api/dist/index.es.js\");\nconst Pe=\":\";function Ye(e){const[t,n]=e.split(Pe);return{namespace:t,reference:n}}function Dt(e){const{namespace:t,reference:n}=e;return[t,n].join(Pe)}function Xe(e){const[t,n,r]=e.split(Pe);return{namespace:t,reference:n,address:r}}function Mt(e){const{namespace:t,reference:n,address:r}=e;return[t,n,r].join(Pe)}function Ze(e,t){const n=[];return e.forEach(r=>{const o=t(r);n.includes(o)||n.push(o)}),n}function Vt(e){const{address:t}=Xe(e);return t}function Ht(e){const{namespace:t,reference:n}=Xe(e);return Dt({namespace:t,reference:n})}function Vr(e,t){const{namespace:n,reference:r}=Ye(t);return Mt({namespace:n,reference:r,address:e})}function Hr(e){return Ze(e,Vt)}function Kt(e){return Ze(e,Ht)}function Kr(e,t=[]){const n=[];return Object.keys(e).forEach(r=>{if(t.length&&!t.includes(r))return;const o=e[r];n.push(...o.accounts)}),n}function Fr(e,t=[]){const n=[];return Object.keys(e).forEach(r=>{if(t.length&&!t.includes(r))return;const o=e[r];n.push(...Kt(o.accounts))}),n}function qr(e,t=[]){const n=[];return Object.keys(e).forEach(r=>{if(t.length&&!t.includes(r))return;const o=e[r];n.push(...Be(r,o))}),n}function Be(e,t){return e.includes(\":\")?[e]:t.chains||[]}const Ft=\"ReactNative\",H={reactNative:\"react-native\",node:\"node\",browser:\"browser\",unknown:\"unknown\"},Le=\" \",Gr=\":\",qt=\"/\",Qe=2,Wr=1e3,Gt=\"js\";function et(){return typeof process<\"u\"&&typeof process.versions<\"u\"&&typeof process.versions.node<\"u\"}function ne(){return!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&navigator.product===Ft}function zr(){return ne()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"android\"}function Jr(){return ne()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"ios\"}function Ae(){return!et()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()}function ue(){return ne()?H.reactNative:et()?H.node:Ae()?H.browser:H.unknown}function Yr(){var e;try{return ne()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Application)<\"u\"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function Wt(e,t){const n=new URLSearchParams(e);for(const r of Object.keys(t).sort())if(t.hasOwnProperty(r)){const o=t[r];o!==void 0&&n.set(r,o)}return n.toString()}function Xr(){return (0,_walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__.getWindowMetadata)()||{name:\"\",description:\"\",url:\"\",icons:[\"\"]}}function Zr(e,t){var n;const r=ue(),o={protocol:e,version:t,env:r};return r===\"browser\"&&(o.host=((n=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:n.host)||\"unknown\"),o}function zt(){if(ue()===H.reactNative&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"){const{OS:n,Version:r}=global.Platform;return[n,r].join(\"-\")}const e=(0,detect_browser__WEBPACK_IMPORTED_MODULE_8__.detect)();if(e===null)return\"unknown\";const t=e.os?e.os.replace(\" \",\"\").toLowerCase():\"unknown\";return e.type===\"browser\"?[t,e.name,e.version].join(\"-\"):[t,e.version].join(\"-\")}function Jt(){var e;const t=ue();return t===H.browser?[t,((e=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:e.host)||\"unknown\"].join(\":\"):t}function Yt(e,t,n){const r=zt(),o=Jt();return[[e,t].join(\"-\"),[Gt,n].join(\"-\"),r,o].join(\"/\")}function Qr({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:o,projectId:s,useOnCloseEvent:i,bundleId:c,packageName:u}){const a=n.split(\"?\"),l=Yt(e,t,r),f={auth:o,ua:l,projectId:s,useOnCloseEvent:i||void 0,packageName:u||void 0,bundleId:c||void 0},d=Wt(a[1]||\"\",f);return a[0]+\"?\"+d}function eo(e){let t=(e.match(/^[^:]+(?=:\\/\\/)/gi)||[])[0];const n=typeof t<\"u\"?e.split(\"://\")[1]:e;return t=t===\"wss\"?\"https\":\"http\",[t,n].join(\"://\")}function to(e,t,n){if(!e[t]||typeof e[t]!==n)throw new Error(`Missing or invalid \"${t}\" param`)}function Xt(e,t=Qe){return Zt(e.split(qt),t)}function no(e){return Xt(e).join(Le)}function re(e,t){return e.filter(n=>t.includes(n)).length===e.length}function Zt(e,t=Qe){return e.slice(Math.max(e.length-t,0))}function ro(e){return Object.fromEntries(e.entries())}function oo(e){return new Map(Object.entries(e))}function so(e,t){const n={};return Object.keys(e).forEach(r=>{n[r]=t(e[r])}),n}const io=e=>e;function Qt(e){return e.trim().replace(/^\\w/,t=>t.toUpperCase())}function co(e){return e.split(Le).map(t=>Qt(t)).join(Le)}function ao(e=_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES,t){const n=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(e||_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES);let r,o,s,i;return{resolve:c=>{s&&r&&(clearTimeout(s),r(c),i=Promise.resolve(c))},reject:c=>{s&&o&&(clearTimeout(s),o(c))},done:()=>new Promise((c,u)=>{if(i)return c(i);s=setTimeout(()=>{const a=new Error(t);i=Promise.reject(a),u(a)},n),r=c,o=u})}}function uo(e,t,n){return new Promise(async(r,o)=>{const s=setTimeout(()=>o(new Error(n)),t);try{const i=await e;r(i)}catch(i){o(i)}clearTimeout(s)})}function tt(e,t){if(typeof t==\"string\"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()===\"topic\"){if(typeof t!=\"string\")throw new Error('Value must be \"string\" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()===\"id\"){if(typeof t!=\"number\")throw new Error('Value must be \"number\" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function fo(e){return tt(\"topic\",e)}function lo(e){return tt(\"id\",e)}function ho(e){const[t,n]=e.split(\":\"),r={id:void 0,topic:void 0};if(t===\"topic\"&&typeof n==\"string\")r.topic=n;else if(t===\"id\"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function po(e,t){return (0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.fromMiliseconds)((t||Date.now())+(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(e))}function go(e){return Date.now()>=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(e)}function yo(e,t){return`${e}${t?`:${t}`:\"\"}`}function Q(e=[],t=[]){return[...new Set([...e,...t])]}async function mo({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const o=typeof n==\"string\"?JSON.parse(n):n,s=o?.href;if(typeof s!=\"string\")return;const i=en(s,e,t),c=ue();if(c===H.browser){if(!((r=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)())!=null&&r.hasFocus())){console.warn(\"Document does not have focus, skipping deeplink.\");return}tn(i)}else c===H.reactNative&&typeof(global==null?void 0:global.Linking)<\"u\"&&await global.Linking.openURL(i)}catch(o){console.error(o)}}function en(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith(\"/\")&&(e=e.slice(0,-1));let o=`${e}`;if(e.startsWith(\"https://t.me\")){const s=e.includes(\"?\")?\"&startapp=\":\"?startapp=\";o=`${o}${s}${on(r,!0)}`}else o=`${o}/wc?${r}`;return o}function tn(e){let t=\"_self\";rn()?t=\"_top\":(nn()||e.startsWith(\"https://\")||e.startsWith(\"http://\"))&&(t=\"_blank\"),window.open(e,t,\"noreferrer noopener\")}async function bo(e,t){let n=\"\";try{if(Ae()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(r){console.error(r)}return n}function nt(e,t){return e.filter(n=>t.includes(n))}function wo(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function Eo(){return typeof crypto<\"u\"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e===\"x\"?t:t&3|8).toString(16)})}function vo(){return typeof process<\"u\"&&process.env.IS_VITEST===\"true\"}function nn(){return typeof window<\"u\"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function rn(){try{return window.self!==window.top}catch{return!1}}function on(e,t=!1){const n=Buffer.from(e).toString(\"base64\");return t?n.replace(/[=]/g,\"\"):n}function rt(e){return Buffer.from(e,\"base64\").toString(\"utf-8\")}function xo(e){return new Promise(t=>setTimeout(t,e))}function Ne(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(\"positive integer expected, got \"+e)}function Io(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name===\"Uint8Array\"}function je(e,...t){if(!Io(e))throw new Error(\"Uint8Array expected\");if(t.length>0&&!t.includes(e.length))throw new Error(\"Uint8Array expected of length \"+t+\", got length=\"+e.length)}function ot(e){if(typeof e!=\"function\"||typeof e.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");Ne(e.outputLen),Ne(e.blockLen)}function me(e,t=!0){if(e.destroyed)throw new Error(\"Hash instance has been destroyed\");if(t&&e.finished)throw new Error(\"Hash#digest() has already been called\")}function sn(e,t){je(e);const n=t.outputLen;if(e.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}const Ce=BigInt(2**32-1),cn=BigInt(32);function Oo(e,t=!1){return t?{h:Number(e&Ce),l:Number(e>>cn&Ce)}:{h:Number(e>>cn&Ce)|0,l:Number(e&Ce)|0}}function Ao(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:s,l:i}=Oo(e[o],t);[n[o],r[o]]=[s,i]}return[n,r]}const No=(e,t,n)=>e<<n|t>>>32-n,So=(e,t,n)=>t<<n|e>>>32-n,Uo=(e,t,n)=>t<<n-32|e>>>64-n,_o=(e,t,n)=>e<<n-32|t>>>64-n,be=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;function To(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function st(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function J(e,t){return e<<32-t|e>>>t}const an=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function $o(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function un(e){for(let t=0;t<e.length;t++)e[t]=$o(e[t])}function Ro(e){if(typeof e!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function we(e){return typeof e==\"string\"&&(e=Ro(e)),je(e),e}class it{clone(){return this._cloneInto()}}function fn(e){const t=r=>e().update(we(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Se(e=32){if(be&&typeof be.getRandomValues==\"function\")return be.getRandomValues(new Uint8Array(e));if(be&&typeof be.randomBytes==\"function\")return be.randomBytes(e);throw new Error(\"crypto.getRandomValues must be defined\")}const ln=[],dn=[],hn=[],Po=BigInt(0),Ue=BigInt(1),Bo=BigInt(2),Lo=BigInt(7),jo=BigInt(256),Co=BigInt(113);for(let e=0,t=Ue,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],ln.push(2*(5*r+n)),dn.push((e+1)*(e+2)/2%64);let o=Po;for(let s=0;s<7;s++)t=(t<<Ue^(t>>Lo)*Co)%jo,t&Bo&&(o^=Ue<<(Ue<<BigInt(s))-Ue);hn.push(o)}const[ko,Do]=Ao(hn,!0),pn=(e,t,n)=>n>32?Uo(e,t,n):No(e,t,n),gn=(e,t,n)=>n>32?_o(e,t,n):So(e,t,n);function Mo(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const c=(i+8)%10,u=(i+2)%10,a=n[u],l=n[u+1],f=pn(a,l,1)^n[c],d=gn(a,l,1)^n[c+1];for(let g=0;g<50;g+=10)e[i+g]^=f,e[i+g+1]^=d}let o=e[2],s=e[3];for(let i=0;i<24;i++){const c=dn[i],u=pn(o,s,c),a=gn(o,s,c),l=ln[i];o=e[l],s=e[l+1],e[l]=u,e[l+1]=a}for(let i=0;i<50;i+=10){for(let c=0;c<10;c++)n[c]=e[i+c];for(let c=0;c<10;c++)e[i+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=ko[r],e[1]^=Do[r]}n.fill(0)}class Lt extends it{constructor(t,n,r,o=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ne(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=To(this.state)}keccak(){an||un(this.state32),Mo(this.state32,this.rounds),an||un(this.state32),this.posOut=0,this.pos=0}update(t){me(this);const{blockLen:n,state:r}=this;t=we(t);const o=t.length;for(let s=0;s<o;){const i=Math.min(n-this.pos,o-s);for(let c=0;c<i;c++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:o}=this;t[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){me(this,!1),je(t),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,s=t.length;o<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-o);t.set(n.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(t)}xof(t){return Ne(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(sn(t,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:o,rounds:s,enableXOF:i}=this;return t||(t=new Lt(n,r,o,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=o,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Vo=(e,t,n)=>fn(()=>new Lt(t,e,n)),Ho=Vo(1,136,256/8),Ko=\"https://rpc.walletconnect.org/v1\";function ct(e){const t=`\u0019Ethereum Signed Message:\n${e.length}`,n=new TextEncoder().encode(t+e);return\"0x\"+Buffer.from(Ho(n)).toString(\"hex\")}async function yn(e,t,n,r,o,s){switch(n.t){case\"eip191\":return await mn(e,t,n.s);case\"eip1271\":return await bn(e,t,n.s,r,o,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function mn(e,t,n){return(await (0,viem__WEBPACK_IMPORTED_MODULE_9__.recoverAddress)({hash:ct(t),signature:n})).toLowerCase()===e.toLowerCase()}async function bn(e,t,n,r,o,s){const i=Ye(r);if(!i.namespace||!i.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c=\"0x1626ba7e\",u=\"0000000000000000000000000000000000000000000000000000000000000040\",a=\"0000000000000000000000000000000000000000000000000000000000000041\",l=n.substring(2),f=ct(t).substring(2),d=c+f+u+a+l,g=await fetch(`${s||Ko}/?chainId=${r}&projectId=${o}`,{method:\"POST\",body:JSON.stringify({id:Fo(),jsonrpc:\"2.0\",method:\"eth_call\",params:[{to:e,data:d},\"latest\"]})}),{result:y}=await g.json();return y?y.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error(\"isValidEip1271Signature: \",c),!1}}function Fo(){return Date.now()+Math.floor(Math.random()*1e3)}function qo(e){const t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);const r=n[0];if(r===0)throw new Error(\"No signatures found\");const o=1+r*64;if(n.length<o)throw new Error(\"Transaction data too short for claimed signature count\");if(n.length<100)throw new Error(\"Transaction too short\");const s=Buffer.from(e,\"base64\").slice(1,65);return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(s)}var Go=Object.defineProperty,Wo=Object.defineProperties,zo=Object.getOwnPropertyDescriptors,wn=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,En=(e,t,n)=>t in e?Go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,at=(e,t)=>{for(var n in t||(t={}))Jo.call(t,n)&&En(e,n,t[n]);if(wn)for(var n of wn(t))Yo.call(t,n)&&En(e,n,t[n]);return e},vn=(e,t)=>Wo(e,zo(t));const Xo=\"did:pkh:\",ke=e=>e?.split(\":\"),xn=e=>{const t=e&&ke(e);if(t)return e.includes(Xo)?t[3]:t[1]},In=e=>{const t=e&&ke(e);if(t)return t[2]+\":\"+t[3]},ut=e=>{const t=e&&ke(e);if(t)return t.pop()};async function Zo(e){const{cacao:t,projectId:n}=e,{s:r,p:o}=t,s=On(o,o.iss),i=ut(o.iss);return await yn(i,s,r,In(o.iss),n)}const On=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=ut(t);if(!e.aud&&!e.uri)throw new Error(\"Either `aud` or `uri` is required to construct the message\");let o=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,i=`Version: ${e.version}`,c=`Chain ID: ${xn(t)}`,u=`Nonce: ${e.nonce}`,a=`Issued At: ${e.iat}`,l=e.exp?`Expiration Time: ${e.exp}`:void 0,f=e.nbf?`Not Before: ${e.nbf}`:void 0,d=e.requestId?`Request ID: ${e.requestId}`:void 0,g=e.resources?`Resources:${e.resources.map(h=>`\n- ${h}`).join(\"\")}`:void 0,y=Me(e.resources);if(y){const h=oe(y);o=dt(o,h)}return[n,r,\"\",o,\"\",s,i,c,u,a,l,f,d,g].filter(h=>h!=null).join(`\n`)};function Qo(e,t,n){return n.includes(\"did:pkh:\")||(n=`did:pkh:${n}`),{h:{t:\"caip122\"},p:{iss:n,domain:e.domain,aud:e.aud,version:e.version,nonce:e.nonce,iat:e.iat,statement:e.statement,requestId:e.requestId,resources:e.resources,nbf:e.nbf,exp:e.exp},s:t}}function es(e){var t;const{authPayload:n,chains:r,methods:o}=e,s=n.statement||\"\";if(!(r!=null&&r.length))return n;const i=n.chains,c=nt(i,r);if(!(c!=null&&c.length))throw new Error(\"No supported chains\");const u=An(n.resources);if(!u)return n;Y(u);const a=Nn(u,\"eip155\");let l=n?.resources||[];if(a!=null&&a.length){const f=Sn(a),d=nt(f,o);if(!(d!=null&&d.length))throw new Error(`Supported methods don't satisfy the requested: ${JSON.stringify(f)}, supported: ${JSON.stringify(o)}`);const g=ft(\"request\",d,{chains:c}),y=$n(u,\"eip155\",g);l=((t=n?.resources)==null?void 0:t.slice(0,-1))||[],l.push(De(y))}return vn(at({},n),{statement:Pn(s,Me(l)),chains:c,resources:n!=null&&n.resources||l.length>0?l:void 0})}function An(e){const t=Me(e);if(t&&lt(t))return oe(t)}function ts(e,t){var n;return(n=e?.att)==null?void 0:n.hasOwnProperty(t)}function Nn(e,t){var n,r;return(n=e?.att)!=null&&n[t]?Object.keys((r=e?.att)==null?void 0:r[t]):[]}function ns(e){return e?.map(t=>Object.keys(t))||[]}function Sn(e){return e?.map(t=>{var n;return(n=t.split(\"/\"))==null?void 0:n[1]})||[]}function Un(e){return Buffer.from(JSON.stringify(e)).toString(\"base64\")}function _n(e){return JSON.parse(Buffer.from(e,\"base64\").toString(\"utf-8\"))}function Y(e){if(!e)throw new Error(\"No recap provided, value is undefined\");if(!e.att)throw new Error(\"No `att` property found\");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error(\"No resources found in `att` property\");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!=\"object\")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(o=>{const s=r[o];if(!Array.isArray(s))throw new Error(`Ability limits ${o} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${o} is empty array, must be an array with objects`);s.forEach(i=>{if(typeof i!=\"object\")throw new Error(`Ability limits (${o}) must be an array of objects, found: ${i}`)})})})}function Tn(e,t,n,r={}){return n?.sort((o,s)=>o.localeCompare(s)),{att:{[e]:ft(t,n,r)}}}function $n(e,t,n){var r;e.att[t]=at({},n);const o=(r=Object.keys(e.att))==null?void 0:r.sort((i,c)=>i.localeCompare(c)),s={att:{}};return o.reduce((i,c)=>(i.att[c]=e.att[c],i),s)}function ft(e,t,n={}){t=t?.sort((o,s)=>o.localeCompare(s));const r=t.map(o=>({[`${e}/${o}`]:[n]}));return Object.assign({},...r)}function De(e){return Y(e),`urn:recap:${Un(e).replace(/=/g,\"\")}`}function oe(e){const t=_n(e.replace(\"urn:recap:\",\"\"));return Y(t),t}function rs(e,t,n){const r=Tn(e,t,n);return De(r)}function lt(e){return e&&e.includes(\"urn:recap:\")}function os(e,t){const n=oe(e),r=oe(t),o=Rn(n,r);return De(o)}function Rn(e,t){Y(e),Y(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((o,s)=>o.localeCompare(s)),r={att:{}};return n.forEach(o=>{var s,i;Object.keys(((s=e.att)==null?void 0:s[o])||{}).concat(Object.keys(((i=t.att)==null?void 0:i[o])||{})).sort((c,u)=>c.localeCompare(u)).forEach(c=>{var u,a;r.att[o]=vn(at({},r.att[o]),{[c]:((u=e.att[o])==null?void 0:u[c])||((a=t.att[o])==null?void 0:a[c])})})}),r}function dt(e=\"\",t){Y(t);const n=\"I further authorize the stated URI to perform the following actions on my behalf: \";if(e.includes(n))return e;const r=[];let o=0;Object.keys(t.att).forEach(c=>{const u=Object.keys(t.att[c]).map(f=>({ability:f.split(\"/\")[0],action:f.split(\"/\")[1]}));u.sort((f,d)=>f.action.localeCompare(d.action));const a={};u.forEach(f=>{a[f.ability]||(a[f.ability]=[]),a[f.ability].push(f.action)});const l=Object.keys(a).map(f=>(o++,`(${o}) '${f}': '${a[f].join(\"', '\")}' for '${c}'.`));r.push(l.join(\", \").replace(\".,\",\".\"))});const s=r.join(\" \"),i=`${n}${s}`;return`${e?e+\" \":\"\"}${i}`}function ss(e){var t;const n=oe(e);Y(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(o=>o.split(\"/\")[1]):[]}function is(e){const t=oe(e);Y(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(o=>{var s;(s=o?.[0])!=null&&s.chains&&n.push(o[0].chains)})}),[...new Set(n.flat())]}function Pn(e,t){if(!t)return e;const n=oe(t);return Y(n),dt(e,n)}function Me(e){if(!e)return;const t=e?.[e.length-1];return lt(t)?t:void 0}function ht(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(\"positive integer expected, got \"+e)}function Bn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name===\"Uint8Array\"}function F(e,...t){if(!Bn(e))throw new Error(\"Uint8Array expected\");if(t.length>0&&!t.includes(e.length))throw new Error(\"Uint8Array expected of length \"+t+\", got length=\"+e.length)}function Ln(e,t=!0){if(e.destroyed)throw new Error(\"Hash instance has been destroyed\");if(t&&e.finished)throw new Error(\"Hash#digest() has already been called\")}function cs(e,t){F(e);const n=t.outputLen;if(e.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function jn(e){if(typeof e!=\"boolean\")throw new Error(`boolean expected, not ${e}`)}const se=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),as=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),us=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!us)throw new Error(\"Non little-endian hardware is not supported\");function fs(e){if(typeof e!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(e))}function pt(e){if(typeof e==\"string\")e=fs(e);else if(Bn(e))e=gt(e);else throw new Error(\"Uint8Array expected, got \"+typeof e);return e}function ls(e,t){if(t==null||typeof t!=\"object\")throw new Error(\"options must be defined\");return Object.assign(e,t)}function ds(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const hs=(e,t)=>{function n(r,...o){if(F(r),e.nonceLength!==void 0){const l=o[0];if(!l)throw new Error(\"nonce / iv required\");e.varSizeNonce?F(l):F(l,e.nonceLength)}const s=e.tagLength;s&&o[1]!==void 0&&F(o[1]);const i=t(r,...o),c=(l,f)=>{if(f!==void 0){if(l!==2)throw new Error(\"cipher output not supported\");F(f)}};let u=!1;return{encrypt(l,f){if(u)throw new Error(\"cannot encrypt() twice with same key + nonce\");return u=!0,F(l),c(i.encrypt.length,f),i.encrypt(l,f)},decrypt(l,f){if(F(l),s&&l.length<s)throw new Error(\"invalid ciphertext length: smaller than tagLength=\"+s);return c(i.decrypt.length,f),i.decrypt(l,f)}}}return Object.assign(n,e),n};function Cn(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error(\"invalid output length, expected \"+e+\", got: \"+t.length);if(n&&!ps(t))throw new Error(\"invalid output, must be aligned\");return t}function kn(e,t,n,r){if(typeof e.setBigUint64==\"function\")return e.setBigUint64(t,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),u=r?4:0,a=r?0:4;e.setUint32(t+u,i,r),e.setUint32(t+a,c,r)}function ps(e){return e.byteOffset%4===0}function gt(e){return Uint8Array.from(e)}function Ee(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const Dn=e=>Uint8Array.from(e.split(\"\").map(t=>t.charCodeAt(0))),gs=Dn(\"expand 16-byte k\"),ys=Dn(\"expand 32-byte k\"),ms=se(gs),bs=se(ys);function x(e,t){return e<<t|e>>>32-t}function yt(e){return e.byteOffset%4===0}const Ve=64,ws=16,Mn=2**32-1,Vn=new Uint32Array;function Es(e,t,n,r,o,s,i,c){const u=o.length,a=new Uint8Array(Ve),l=se(a),f=yt(o)&&yt(s),d=f?se(o):Vn,g=f?se(s):Vn;for(let y=0;y<u;i++){if(e(t,n,r,l,i,c),i>=Mn)throw new Error(\"arx: counter overflow\");const h=Math.min(Ve,u-y);if(f&&h===Ve){const m=y/4;if(y%4!==0)throw new Error(\"arx: invalid block position\");for(let L=0,b;L<ws;L++)b=m+L,g[b]=d[b]^l[L];y+=Ve;continue}for(let m=0,L;m<h;m++)L=y+m,s[L]=o[L]^a[m];y+=h}}function vs(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:s,rounds:i}=ls({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!=\"function\")throw new Error(\"core must be a function\");return ht(o),ht(i),jn(s),jn(n),(c,u,a,l,f=0)=>{F(c),F(u),F(a);const d=a.length;if(l===void 0&&(l=new Uint8Array(d)),F(l),ht(f),f<0||f>=Mn)throw new Error(\"arx: counter overflow\");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);const g=[];let y=c.length,h,m;if(y===32)g.push(h=gt(c)),m=bs;else if(y===16&&n)h=new Uint8Array(32),h.set(c),h.set(c,16),m=ms,g.push(h);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);yt(u)||g.push(u=gt(u));const L=se(h);if(r){if(u.length!==24)throw new Error(\"arx: extended nonce must be 24 bytes\");r(m,L,se(u.subarray(0,16)),L),u=u.subarray(16)}const b=16-o;if(b!==u.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const O=new Uint8Array(12);O.set(u,s?0:12-u.length),u=O,g.push(u)}const _=se(u);return Es(e,m,L,_,a,l,f,i),Ee(...g),l}}const M=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class xs{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=pt(t),F(t,32);const n=M(t,0),r=M(t,2),o=M(t,4),s=M(t,6),i=M(t,8),c=M(t,10),u=M(t,12),a=M(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|s<<9)&8191,this.r[4]=(s>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|c<<2)&8191,this.r[7]=(c>>>11|u<<5)&8065,this.r[8]=(u>>>8|a<<8)&8191,this.r[9]=a>>>5&127;for(let l=0;l<8;l++)this.pad[l]=M(t,16+2*l)}process(t,n,r=!1){const o=r?0:2048,{h:s,r:i}=this,c=i[0],u=i[1],a=i[2],l=i[3],f=i[4],d=i[5],g=i[6],y=i[7],h=i[8],m=i[9],L=M(t,n+0),b=M(t,n+2),_=M(t,n+4),O=M(t,n+6),k=M(t,n+8),E=M(t,n+10),B=M(t,n+12),j=M(t,n+14);let v=s[0]+(L&8191),I=s[1]+((L>>>13|b<<3)&8191),w=s[2]+((b>>>10|_<<6)&8191),R=s[3]+((_>>>7|O<<9)&8191),A=s[4]+((O>>>4|k<<12)&8191),T=s[5]+(k>>>1&8191),N=s[6]+((k>>>14|E<<2)&8191),S=s[7]+((E>>>11|B<<5)&8191),U=s[8]+((B>>>8|j<<8)&8191),$=s[9]+(j>>>5|o),p=0,C=p+v*c+I*(5*m)+w*(5*h)+R*(5*y)+A*(5*g);p=C>>>13,C&=8191,C+=T*(5*d)+N*(5*f)+S*(5*l)+U*(5*a)+$*(5*u),p+=C>>>13,C&=8191;let D=p+v*u+I*c+w*(5*m)+R*(5*h)+A*(5*y);p=D>>>13,D&=8191,D+=T*(5*g)+N*(5*d)+S*(5*f)+U*(5*l)+$*(5*a),p+=D>>>13,D&=8191;let P=p+v*a+I*u+w*c+R*(5*m)+A*(5*h);p=P>>>13,P&=8191,P+=T*(5*y)+N*(5*g)+S*(5*d)+U*(5*f)+$*(5*l),p+=P>>>13,P&=8191;let G=p+v*l+I*a+w*u+R*c+A*(5*m);p=G>>>13,G&=8191,G+=T*(5*h)+N*(5*y)+S*(5*g)+U*(5*d)+$*(5*f),p+=G>>>13,G&=8191;let X=p+v*f+I*l+w*a+R*u+A*c;p=X>>>13,X&=8191,X+=T*(5*m)+N*(5*h)+S*(5*y)+U*(5*g)+$*(5*d),p+=X>>>13,X&=8191;let Z=p+v*d+I*f+w*l+R*a+A*u;p=Z>>>13,Z&=8191,Z+=T*c+N*(5*m)+S*(5*h)+U*(5*y)+$*(5*g),p+=Z>>>13,Z&=8191;let he=p+v*g+I*d+w*f+R*l+A*a;p=he>>>13,he&=8191,he+=T*u+N*c+S*(5*m)+U*(5*h)+$*(5*y),p+=he>>>13,he&=8191;let pe=p+v*y+I*g+w*d+R*f+A*l;p=pe>>>13,pe&=8191,pe+=T*a+N*u+S*c+U*(5*m)+$*(5*h),p+=pe>>>13,pe&=8191;let ge=p+v*h+I*y+w*g+R*d+A*f;p=ge>>>13,ge&=8191,ge+=T*l+N*a+S*u+U*c+$*(5*m),p+=ge>>>13,ge&=8191;let ye=p+v*m+I*h+w*y+R*g+A*d;p=ye>>>13,ye&=8191,ye+=T*f+N*l+S*a+U*u+$*c,p+=ye>>>13,ye&=8191,p=(p<<2)+p|0,p=p+C|0,C=p&8191,p=p>>>13,D+=p,s[0]=C,s[1]=D,s[2]=P,s[3]=G,s[4]=X,s[5]=Z,s[6]=he,s[7]=pe,s[8]=ge,s[9]=ye}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let o=t[1]>>>13;t[1]&=8191;for(let c=2;c<10;c++)t[c]+=o,o=t[c]>>>13,t[c]&=8191;t[0]+=o*5,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,r[0]=t[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=t[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let s=(o^1)-1;for(let c=0;c<10;c++)r[c]&=s;s=~s;for(let c=0;c<10;c++)t[c]=t[c]&s|r[c];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let i=t[0]+n[0];t[0]=i&65535;for(let c=1;c<8;c++)i=(t[c]+n[c]|0)+(i>>>16)|0,t[c]=i&65535;Ee(r)}update(t){Ln(this);const{buffer:n,blockLen:r}=this;t=pt(t);const o=t.length;for(let s=0;s<o;){const i=Math.min(r-this.pos,o-s);if(i===r){for(;r<=o-s;s+=r)this.process(t,s);continue}n.set(t.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Ee(this.h,this.r,this.buffer,this.pad)}digestInto(t){Ln(this),cs(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let i=0;i<8;i++)t[s++]=r[i]>>>0,t[s++]=r[i]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function Is(e){const t=(r,o)=>e(o).update(pt(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const Os=Is(e=>new xs(e));function As(e,t,n,r,o,s=20){let i=e[0],c=e[1],u=e[2],a=e[3],l=t[0],f=t[1],d=t[2],g=t[3],y=t[4],h=t[5],m=t[6],L=t[7],b=o,_=n[0],O=n[1],k=n[2],E=i,B=c,j=u,v=a,I=l,w=f,R=d,A=g,T=y,N=h,S=m,U=L,$=b,p=_,C=O,D=k;for(let G=0;G<s;G+=2)E=E+I|0,$=x($^E,16),T=T+$|0,I=x(I^T,12),E=E+I|0,$=x($^E,8),T=T+$|0,I=x(I^T,7),B=B+w|0,p=x(p^B,16),N=N+p|0,w=x(w^N,12),B=B+w|0,p=x(p^B,8),N=N+p|0,w=x(w^N,7),j=j+R|0,C=x(C^j,16),S=S+C|0,R=x(R^S,12),j=j+R|0,C=x(C^j,8),S=S+C|0,R=x(R^S,7),v=v+A|0,D=x(D^v,16),U=U+D|0,A=x(A^U,12),v=v+A|0,D=x(D^v,8),U=U+D|0,A=x(A^U,7),E=E+w|0,D=x(D^E,16),S=S+D|0,w=x(w^S,12),E=E+w|0,D=x(D^E,8),S=S+D|0,w=x(w^S,7),B=B+R|0,$=x($^B,16),U=U+$|0,R=x(R^U,12),B=B+R|0,$=x($^B,8),U=U+$|0,R=x(R^U,7),j=j+A|0,p=x(p^j,16),T=T+p|0,A=x(A^T,12),j=j+A|0,p=x(p^j,8),T=T+p|0,A=x(A^T,7),v=v+I|0,C=x(C^v,16),N=N+C|0,I=x(I^N,12),v=v+I|0,C=x(C^v,8),N=N+C|0,I=x(I^N,7);let P=0;r[P++]=i+E|0,r[P++]=c+B|0,r[P++]=u+j|0,r[P++]=a+v|0,r[P++]=l+I|0,r[P++]=f+w|0,r[P++]=d+R|0,r[P++]=g+A|0,r[P++]=y+T|0,r[P++]=h+N|0,r[P++]=m+S|0,r[P++]=L+U|0,r[P++]=b+$|0,r[P++]=_+p|0,r[P++]=O+C|0,r[P++]=k+D|0}const Ns=vs(As,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Ss=new Uint8Array(16),Hn=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Ss.subarray(n))},Us=new Uint8Array(32);function Kn(e,t,n,r,o){const s=e(t,n,Us),i=Os.create(s);o&&Hn(i,o),Hn(i,r);const c=new Uint8Array(16),u=as(c);kn(u,0,BigInt(o?o.length:0),!0),kn(u,8,BigInt(r.length),!0),i.update(c);const a=i.digest();return Ee(s,c),a}const _s=e=>(t,n,r)=>({encrypt(s,i){const c=s.length;i=Cn(c+16,i,!1),i.set(s);const u=i.subarray(0,-16);e(t,n,u,u,1);const a=Kn(e,t,n,u,r);return i.set(a,c),Ee(a),i},decrypt(s,i){i=Cn(s.length-16,i,!1);const c=s.subarray(0,-16),u=s.subarray(-16),a=Kn(e,t,n,c,r);if(!ds(u,a))throw new Error(\"invalid tag\");return i.set(s.subarray(0,-16)),e(t,n,i,i,1),Ee(a),i}}),Fn=hs({blockSize:64,nonceLength:12,tagLength:16},_s(Ns));class qn extends it{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ot(t);const r=we(n);if(this.iHash=t.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return me(this),this.iHash.update(t),this}digestInto(t){me(this),je(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:c}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const mt=(e,t,n)=>new qn(e,t).update(n).digest();mt.create=(e,t)=>new qn(e,t);function Ts(e,t,n){return ot(e),n===void 0&&(n=new Uint8Array(e.outputLen)),mt(e,we(n),we(t))}const bt=new Uint8Array([0]),Gn=new Uint8Array;function $s(e,t,n,r=32){if(ot(e),Ne(r),r>255*e.outputLen)throw new Error(\"Length should be <= 255*HashLen\");const o=Math.ceil(r/e.outputLen);n===void 0&&(n=Gn);const s=new Uint8Array(o*e.outputLen),i=mt.create(e,t),c=i._cloneInto(),u=new Uint8Array(i.outputLen);for(let a=0;a<o;a++)bt[0]=a+1,c.update(a===0?Gn:u).update(n).update(bt).digestInto(u),s.set(u,e.outputLen*a),i._cloneInto(c);return i.destroy(),c.destroy(),u.fill(0),bt.fill(0),s.slice(0,r)}const Rs=(e,t,n,r,o)=>$s(e,Ts(e,t,n),r,o);function Ps(e,t,n,r){if(typeof e.setBigUint64==\"function\")return e.setBigUint64(t,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),u=r?4:0,a=r?0:4;e.setUint32(t+u,i,r),e.setUint32(t+a,c,r)}function Bs(e,t,n){return e&t^~e&n}function Ls(e,t,n){return e&t^e&n^t&n}class js extends it{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=st(this.buffer)}update(t){me(this);const{view:n,buffer:r,blockLen:o}=this;t=we(t);const s=t.length;for(let i=0;i<s;){const c=Math.min(o-this.pos,s-i);if(c===o){const u=st(t);for(;o<=s-i;i+=o)this.process(u,i);continue}r.set(t.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){me(this),sn(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let f=i;f<o;f++)n[f]=0;Ps(r,o-8,BigInt(this.length*8),s),this.process(r,0);const c=st(t),u=this.outputLen;if(u%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const a=u/4,l=this.get();if(a>l.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let f=0;f<a;f++)c.setUint32(4*f,l[f],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:c}=this;return t.length=o,t.pos=c,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}}const Cs=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ie=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ce=new Uint32Array(64);class ks extends js{constructor(){super(64,32,8,!1),this.A=ie[0]|0,this.B=ie[1]|0,this.C=ie[2]|0,this.D=ie[3]|0,this.E=ie[4]|0,this.F=ie[5]|0,this.G=ie[6]|0,this.H=ie[7]|0}get(){const{A:t,B:n,C:r,D:o,E:s,F:i,G:c,H:u}=this;return[t,n,r,o,s,i,c,u]}set(t,n,r,o,s,i,c,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=c|0,this.H=u|0}process(t,n){for(let f=0;f<16;f++,n+=4)ce[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=ce[f-15],g=ce[f-2],y=J(d,7)^J(d,18)^d>>>3,h=J(g,17)^J(g,19)^g>>>10;ce[f]=h+ce[f-7]+y+ce[f-16]|0}let{A:r,B:o,C:s,D:i,E:c,F:u,G:a,H:l}=this;for(let f=0;f<64;f++){const d=J(c,6)^J(c,11)^J(c,25),g=l+d+Bs(c,u,a)+Cs[f]+ce[f]|0,h=(J(r,2)^J(r,13)^J(r,22))+Ls(r,o,s)|0;l=a,a=u,u=c,c=i+g|0,i=s,s=o,o=r,r=g+h|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,c=c+this.E|0,u=u+this.F|0,a=a+this.G|0,l=l+this.H|0,this.set(r,o,s,i,c,u,a,l)}roundClean(){ce.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const He=fn(()=>new ks);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wn=BigInt(0);function wt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name===\"Uint8Array\"}function zn(e){if(!wt(e))throw new Error(\"Uint8Array expected\")}const Ds=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,\"0\"));function Ms(e){zn(e);let t=\"\";for(let n=0;n<e.length;n++)t+=Ds[e[n]];return t}function Vs(e){if(typeof e!=\"string\")throw new Error(\"hex string expected, got \"+typeof e);return e===\"\"?Wn:BigInt(\"0x\"+e)}const ee={_0:48,_9:57,A:65,F:70,a:97,f:102};function Jn(e){if(e>=ee._0&&e<=ee._9)return e-ee._0;if(e>=ee.A&&e<=ee.F)return e-(ee.A-10);if(e>=ee.a&&e<=ee.f)return e-(ee.a-10)}function Yn(e){if(typeof e!=\"string\")throw new Error(\"hex string expected, got \"+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error(\"hex string expected, got unpadded hex of length \"+t);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const i=Jn(e.charCodeAt(s)),c=Jn(e.charCodeAt(s+1));if(i===void 0||c===void 0){const u=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character \"'+u+'\" at index '+s)}r[o]=i*16+c}return r}function Xn(e){return zn(e),Vs(Ms(Uint8Array.from(e).reverse()))}function Hs(e,t){return Yn(e.toString(16).padStart(t*2,\"0\"))}function Ks(e,t){return Hs(e,t).reverse()}function Zn(e,t,n){let r;if(typeof t==\"string\")try{r=Yn(t)}catch(s){throw new Error(e+\" must be hex string or Uint8Array, cause: \"+s)}else if(wt(t))r=Uint8Array.from(t);else throw new Error(e+\" must be hex string or Uint8Array\");const o=r.length;if(typeof n==\"number\"&&o!==n)throw new Error(e+\" of length \"+n+\" expected, got \"+o);return r}const Et=e=>typeof e==\"bigint\"&&Wn<=e;function Fs(e,t,n){return Et(e)&&Et(t)&&Et(n)&&t<=e&&e<n}function Qn(e,t,n,r){if(!Fs(t,n,r))throw new Error(\"expected valid \"+e+\": \"+n+\" <= n < \"+r+\", got \"+t)}const qs={bigint:e=>typeof e==\"bigint\",function:e=>typeof e==\"function\",boolean:e=>typeof e==\"boolean\",string:e=>typeof e==\"string\",stringOrUint8Array:e=>typeof e==\"string\"||wt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e==\"function\"&&Number.isSafeInteger(e.outputLen)};function Gs(e,t,n={}){const r=(o,s,i)=>{const c=qs[s];if(typeof c!=\"function\")throw new Error(\"invalid validator function\");const u=e[o];if(!(i&&u===void 0)&&!c(u,e))throw new Error(\"param \"+String(o)+\" is invalid. Expected \"+s+\", got \"+u)};for(const[o,s]of Object.entries(t))r(o,s,!1);for(const[o,s]of Object.entries(n))r(o,s,!0);return e}const ve=BigInt(0),Ke=BigInt(1);function er(e,t){const n=e%t;return n>=ve?n:t+n}function Ws(e,t,n){if(t<ve)throw new Error(\"invalid exponent, negatives unsupported\");if(n<=ve)throw new Error(\"invalid modulus\");if(n===Ke)return ve;let r=Ke;for(;t>ve;)t&Ke&&(r=r*e%n),e=e*e%n,t>>=Ke;return r}function z(e,t,n){let r=e;for(;t-- >ve;)r*=r,r%=n;return r}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const xe=BigInt(0),vt=BigInt(1);function zs(e){return Gs(e,{a:\"bigint\"},{montgomeryBits:\"isSafeInteger\",nByteLength:\"isSafeInteger\",adjustScalarBytes:\"function\",domain:\"function\",powPminus2:\"function\",Gu:\"bigint\"}),Object.freeze({...e})}function Js(e){const t=zs(e),{P:n}=t,r=b=>er(b,n),o=t.montgomeryBits,s=Math.ceil(o/8),i=t.nByteLength,c=t.adjustScalarBytes||(b=>b),u=t.powPminus2||(b=>Ws(b,n-BigInt(2),n));function a(b,_,O){const k=r(b*(_-O));return _=r(_-k),O=r(O+k),[_,O]}const l=(t.a-BigInt(2))/BigInt(4);function f(b,_){Qn(\"u\",b,xe,n),Qn(\"scalar\",_,xe,n);const O=_,k=b;let E=vt,B=xe,j=b,v=vt,I=xe,w;for(let A=BigInt(o-1);A>=xe;A--){const T=O>>A&vt;I^=T,w=a(I,E,j),E=w[0],j=w[1],w=a(I,B,v),B=w[0],v=w[1],I=T;const N=E+B,S=r(N*N),U=E-B,$=r(U*U),p=S-$,C=j+v,D=j-v,P=r(D*N),G=r(C*U),X=P+G,Z=P-G;j=r(X*X),v=r(k*r(Z*Z)),E=r(S*$),B=r(p*(S+r(l*p)))}w=a(I,E,j),E=w[0],j=w[1],w=a(I,B,v),B=w[0],v=w[1];const R=u(B);return r(E*R)}function d(b){return Ks(r(b),s)}function g(b){const _=Zn(\"u coordinate\",b,s);return i===32&&(_[31]&=127),Xn(_)}function y(b){const _=Zn(\"scalar\",b),O=_.length;if(O!==s&&O!==i){let k=\"\"+s+\" or \"+i;throw new Error(\"invalid scalar, expected \"+k+\" bytes, got \"+O)}return Xn(c(_))}function h(b,_){const O=g(_),k=y(b),E=f(O,k);if(E===xe)throw new Error(\"invalid private or public key received\");return d(E)}const m=d(t.Gu);function L(b){return h(b,m)}return{scalarMult:h,scalarMultBase:L,getSharedSecret:(b,_)=>h(b,_),getPublicKey:b=>L(b),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:m}}const xt=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\");BigInt(0);const Ys=BigInt(1),tr=BigInt(2),Xs=BigInt(3),Zs=BigInt(5);BigInt(8);function Qs(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=xt,c=e*e%s*e%s,u=z(c,tr,s)*c%s,a=z(u,Ys,s)*e%s,l=z(a,Zs,s)*a%s,f=z(l,t,s)*l%s,d=z(f,n,s)*f%s,g=z(d,r,s)*d%s,y=z(g,o,s)*g%s,h=z(y,o,s)*g%s,m=z(h,t,s)*l%s;return{pow_p_5_8:z(m,tr,s)*e%s,b2:c}}function ei(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const It=Js({P:xt,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=xt,{pow_p_5_8:n,b2:r}=Qs(e);return er(z(n,Xs,t)*r,t)},adjustScalarBytes:ei,randomBytes:Se}),Ot=\"base10\",V=\"base16\",At=\"base64pad\",ti=\"base64url\",Ie=\"utf8\",Nt=0,Oe=1,_e=2,ni=0,nr=1,Te=12,St=32;function ri(){const e=It.utils.randomPrivateKey(),t=It.getPublicKey(e);return{privateKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,V),publicKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,V)}}function oi(){const e=Se(St);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,V)}function si(e,t){const n=It.getSharedSecret((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,V),(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,V)),r=Rs(He,n,void 0,void 0,St);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(r,V)}function ii(e){const t=He((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,V));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,V)}function ci(e){const t=He((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,Ie));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,V)}function Ut(e){return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(`${e}`,Ot)}function fe(e){return Number((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,Ot))}function ai(e){const t=Ut(typeof e.type<\"u\"?e.type:Nt);if(fe(t)===Oe&&typeof e.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");const n=typeof e.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e.senderPublicKey,V):void 0,r=typeof e.iv<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e.iv,V):Se(Te),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e.symKey,V),s=Fn(o,r).encrypt((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e.message,Ie));return _t({type:t,sealed:s,iv:r,senderPublicKey:n,encoding:e.encoding})}function ui(e){const t=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e.symKey,V),{sealed:n,iv:r}=Fe(e),o=Fn(t,r).decrypt(n);if(o===null)throw new Error(\"Failed to decrypt\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(o,Ie)}function fi(e,t){const n=Ut(_e),r=Se(Te),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,Ie);return _t({type:n,sealed:o,iv:r,encoding:t})}function li(e,t){const{sealed:n}=Fe({encoded:e,encoding:t});return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n,Ie)}function _t(e){const{encoding:t=At}=e;if(fe(e.type)===_e)return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([e.type,e.sealed]),t);if(fe(e.type)===Oe){if(typeof e.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([e.type,e.iv,e.sealed]),t)}function Fe(e){const{encoded:t,encoding:n=At}=e,r=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,n),o=r.slice(ni,nr),s=nr;if(fe(o)===Oe){const a=s+St,l=a+Te,f=r.slice(s,a),d=r.slice(a,l),g=r.slice(l);return{type:o,sealed:g,iv:d,senderPublicKey:f}}if(fe(o)===_e){const a=r.slice(s),l=Se(Te);return{type:o,sealed:a,iv:l}}const i=s+Te,c=r.slice(s,i),u=r.slice(i);return{type:o,sealed:u,iv:c}}function di(e,t){const n=Fe({encoded:e,encoding:t?.encoding});return rr({type:fe(n.type),senderPublicKey:typeof n.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n.senderPublicKey,V):void 0,receiverPublicKey:t?.receiverPublicKey})}function rr(e){const t=e?.type||Nt;if(t===Oe){if(typeof e?.senderPublicKey>\"u\")throw new Error(\"missing sender public key\");if(typeof e?.receiverPublicKey>\"u\")throw new Error(\"missing receiver public key\")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function hi(e){return e.type===Oe&&typeof e.senderPublicKey==\"string\"&&typeof e.receiverPublicKey==\"string\"}function pi(e){return e.type===_e}function or(e){return new elliptic__WEBPACK_IMPORTED_MODULE_6__.ec(\"p256\").keyFromPublic({x:Buffer.from(e.x,\"base64\").toString(\"hex\"),y:Buffer.from(e.y,\"base64\").toString(\"hex\")},\"hex\")}function gi(e){let t=e.replace(/-/g,\"+\").replace(/_/g,\"/\");const n=t.length%4;return n>0&&(t+=\"=\".repeat(4-n)),t}function yi(e){return Buffer.from(gi(e),\"base64\")}function mi(e,t){const[n,r,o]=e.split(\".\"),s=yi(o);if(s.length!==64)throw new Error(\"Invalid signature length\");const i=s.slice(0,32).toString(\"hex\"),c=s.slice(32,64).toString(\"hex\"),u=`${n}.${r}`,a=He(u),l=or(t),f=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(a,V);if(!l.verify(f,{r:i,s:c}))throw new Error(\"Invalid signature\");return (0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__.decodeJWT)(e).payload}const sr=\"irn\";function bi(e){return e?.relay||{protocol:sr}}function wi(e){const t=_walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_7__.RELAY_JSONRPC[e];if(typeof t>\"u\")throw new Error(`Relay Protocol not supported: ${e}`);return t}function ir(e,t=\"-\"){const n={},r=\"relay\"+t;return Object.keys(e).forEach(o=>{if(o.startsWith(r)){const s=o.replace(r,\"\"),i=e[o];n[s]=i}}),n}function Ei(e){if(!e.includes(\"wc:\")){const a=rt(e);a!=null&&a.includes(\"wc:\")&&(e=a)}e=e.includes(\"wc://\")?e.replace(\"wc://\",\"\"):e,e=e.includes(\"wc:\")?e.replace(\"wc:\",\"\"):e;const t=e.indexOf(\":\"),n=e.indexOf(\"?\")!==-1?e.indexOf(\"?\"):void 0,r=e.substring(0,t),o=e.substring(t+1,n).split(\"@\"),s=typeof n<\"u\"?e.substring(n):\"\",i=new URLSearchParams(s),c={};i.forEach((a,l)=>{c[l]=a});const u=typeof c.methods==\"string\"?c.methods.split(\",\"):void 0;return{protocol:r,topic:cr(o[0]),version:parseInt(o[1],10),symKey:c.symKey,relay:ir(c),methods:u,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function cr(e){return e.startsWith(\"//\")?e.substring(2):e}function ar(e,t=\"-\"){const n=\"relay\",r={};return Object.keys(e).forEach(o=>{const s=o,i=n+t+s;e[s]&&(r[i]=e[s])}),r}function vi(e){const t=new URLSearchParams,n=ar(e.relay);Object.keys(n).sort().forEach(o=>{t.set(o,n[o])}),t.set(\"symKey\",e.symKey),e.expiryTimestamp&&t.set(\"expiryTimestamp\",e.expiryTimestamp.toString()),e.methods&&t.set(\"methods\",e.methods.join(\",\"));const r=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${r}`}function xi(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var Ii=Object.defineProperty,Oi=Object.defineProperties,Ai=Object.getOwnPropertyDescriptors,ur=Object.getOwnPropertySymbols,Ni=Object.prototype.hasOwnProperty,Si=Object.prototype.propertyIsEnumerable,fr=(e,t,n)=>t in e?Ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ui=(e,t)=>{for(var n in t||(t={}))Ni.call(t,n)&&fr(e,n,t[n]);if(ur)for(var n of ur(t))Si.call(t,n)&&fr(e,n,t[n]);return e},_i=(e,t)=>Oi(e,Ai(t));function le(e){const t=[];return e.forEach(n=>{const[r,o]=n.split(\":\");t.push(`${r}:${o}`)}),t}function lr(e){const t=[];return Object.values(e).forEach(n=>{t.push(...le(n.accounts))}),t}function dr(e,t){const n=[];return Object.values(e).forEach(r=>{le(r.accounts).includes(t)&&n.push(...r.methods)}),n}function hr(e,t){const n=[];return Object.values(e).forEach(r=>{le(r.accounts).includes(t)&&n.push(...r.events)}),n}function Ti(e,t){const n=Or(e,t);if(n)throw new Error(n.message);const r={};for(const[o,s]of Object.entries(e))r[o]={methods:s.methods,events:s.events,chains:s.accounts.map(i=>`${i.split(\":\")[0]}:${i.split(\":\")[1]}`)};return r}function $i(e){const{proposal:{requiredNamespaces:t,optionalNamespaces:n={}},supportedNamespaces:r}=e,o=$t(t),s=$t(n),i={};Object.keys(r).forEach(a=>{const l=r[a].chains,f=r[a].methods,d=r[a].events,g=r[a].accounts;l.forEach(y=>{if(!g.some(h=>h.includes(y)))throw new Error(`No accounts provided for chain ${y} in namespace ${a}`)}),i[a]={chains:l,methods:f,events:d,accounts:g}});const c=Nr(t,i,\"approve()\");if(c)throw new Error(c.message);const u={};return!Object.keys(t).length&&!Object.keys(n).length?i:(Object.keys(o).forEach(a=>{const l=r[a].chains.filter(y=>{var h,m;return(m=(h=o[a])==null?void 0:h.chains)==null?void 0:m.includes(y)}),f=r[a].methods.filter(y=>{var h,m;return(m=(h=o[a])==null?void 0:h.methods)==null?void 0:m.includes(y)}),d=r[a].events.filter(y=>{var h,m;return(m=(h=o[a])==null?void 0:h.events)==null?void 0:m.includes(y)}),g=l.map(y=>r[a].accounts.filter(h=>h.includes(`${y}:`))).flat();u[a]={chains:l,methods:f,events:d,accounts:g}}),Object.keys(s).forEach(a=>{var l,f,d,g,y,h;if(!r[a])return;const m=(f=(l=s[a])==null?void 0:l.chains)==null?void 0:f.filter(O=>r[a].chains.includes(O)),L=r[a].methods.filter(O=>{var k,E;return(E=(k=s[a])==null?void 0:k.methods)==null?void 0:E.includes(O)}),b=r[a].events.filter(O=>{var k,E;return(E=(k=s[a])==null?void 0:k.events)==null?void 0:E.includes(O)}),_=m?.map(O=>r[a].accounts.filter(k=>k.includes(`${O}:`))).flat();u[a]={chains:Q((d=u[a])==null?void 0:d.chains,m),methods:Q((g=u[a])==null?void 0:g.methods,L),events:Q((y=u[a])==null?void 0:y.events,b),accounts:Q((h=u[a])==null?void 0:h.accounts,_)}}),u)}function Tt(e){return e.includes(\":\")}function pr(e){return Tt(e)?e.split(\":\")[0]:e}function $t(e){var t,n,r;const o={};if(!qe(e))return o;for(const[s,i]of Object.entries(e)){const c=Tt(s)?[s]:i.chains,u=i.methods||[],a=i.events||[],l=pr(s);o[l]=_i(Ui({},o[l]),{chains:Q(c,(t=o[l])==null?void 0:t.chains),methods:Q(u,(n=o[l])==null?void 0:n.methods),events:Q(a,(r=o[l])==null?void 0:r.events)})}return o}function gr(e){const t={};return e?.forEach(n=>{var r;const[o,s]=n.split(\":\");t[o]||(t[o]={accounts:[],chains:[],events:[],methods:[]}),t[o].accounts.push(n),(r=t[o].chains)==null||r.push(`${o}:${s}`)}),t}function Ri(e,t){t=t.map(r=>r.replace(\"did:pkh:\",\"\"));const n=gr(t);for(const[r,o]of Object.entries(n))o.methods?o.methods=Q(o.methods,e):o.methods=e,o.events=[\"chainChanged\",\"accountsChanged\"];return n}const yr={INVALID_METHOD:{message:\"Invalid method.\",code:1001},INVALID_EVENT:{message:\"Invalid event.\",code:1002},INVALID_UPDATE_REQUEST:{message:\"Invalid update request.\",code:1003},INVALID_EXTEND_REQUEST:{message:\"Invalid extend request.\",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:\"Invalid session settle request.\",code:1005},UNAUTHORIZED_METHOD:{message:\"Unauthorized method.\",code:3001},UNAUTHORIZED_EVENT:{message:\"Unauthorized event.\",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:\"Unauthorized update request.\",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:\"Unauthorized extend request.\",code:3004},USER_REJECTED:{message:\"User rejected.\",code:5e3},USER_REJECTED_CHAINS:{message:\"User rejected chains.\",code:5001},USER_REJECTED_METHODS:{message:\"User rejected methods.\",code:5002},USER_REJECTED_EVENTS:{message:\"User rejected events.\",code:5003},UNSUPPORTED_CHAINS:{message:\"Unsupported chains.\",code:5100},UNSUPPORTED_METHODS:{message:\"Unsupported methods.\",code:5101},UNSUPPORTED_EVENTS:{message:\"Unsupported events.\",code:5102},UNSUPPORTED_ACCOUNTS:{message:\"Unsupported accounts.\",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:\"Unsupported namespace key.\",code:5104},USER_DISCONNECTED:{message:\"User disconnected.\",code:6e3},SESSION_SETTLEMENT_FAILED:{message:\"Session settlement failed.\",code:7e3},WC_METHOD_UNSUPPORTED:{message:\"Unsupported wc_ method.\",code:10001}},mr={NOT_INITIALIZED:{message:\"Not initialized.\",code:1},NO_MATCHING_KEY:{message:\"No matching key.\",code:2},RESTORE_WILL_OVERRIDE:{message:\"Restore will override.\",code:3},RESUBSCRIBED:{message:\"Resubscribed.\",code:4},MISSING_OR_INVALID:{message:\"Missing or invalid.\",code:5},EXPIRED:{message:\"Expired.\",code:6},UNKNOWN_TYPE:{message:\"Unknown type.\",code:7},MISMATCHED_TOPIC:{message:\"Mismatched topic.\",code:8},NON_CONFORMING_NAMESPACES:{message:\"Non conforming namespaces.\",code:9}};function te(e,t){const{message:n,code:r}=mr[e];return{message:t?`${n} ${t}`:n,code:r}}function de(e,t){const{message:n,code:r}=yr[e];return{message:t?`${n} ${t}`:n,code:r}}function $e(e,t){return Array.isArray(e)?typeof t<\"u\"&&e.length?e.every(t):!0:!1}function qe(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function ae(e){return typeof e>\"u\"}function q(e,t){return t&&ae(e)?!0:typeof e==\"string\"&&!!e.trim().length}function Ge(e,t){return t&&ae(e)?!0:typeof e==\"number\"&&!isNaN(e)}function Pi(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),o=Object.keys(n);let s=!0;return re(o,r)?(r.forEach(i=>{const{accounts:c,methods:u,events:a}=e.namespaces[i],l=le(c),f=n[i];(!re(Be(i,f),l)||!re(f.methods,u)||!re(f.events,a))&&(s=!1)}),s):!1}function Re(e){return q(e,!1)&&e.includes(\":\")?e.split(\":\").length===2:!1}function br(e){if(q(e,!1)&&e.includes(\":\")){const t=e.split(\":\");if(t.length===3){const n=t[0]+\":\"+t[1];return!!t[2]&&Re(n)}}return!1}function Bi(e){function t(n){try{return typeof new URL(n)<\"u\"}catch{return!1}}try{if(q(e,!1)){if(t(e))return!0;const n=rt(e);return t(n)}}catch{}return!1}function Li(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function ji(e){return e?.topic}function Ci(e,t){let n=null;return q(e?.publicKey,!1)||(n=te(\"MISSING_OR_INVALID\",`${t} controller public key should be a string`)),n}function Rt(e){let t=!0;return $e(e)?e.length&&(t=e.every(n=>q(n,!1))):t=!1,t}function wr(e,t,n){let r=null;return $e(t)&&t.length?t.forEach(o=>{r||Re(o)||(r=de(\"UNSUPPORTED_CHAINS\",`${n}, chain ${o} should be a string and conform to \"namespace:chainId\" format`))}):Re(e)||(r=de(\"UNSUPPORTED_CHAINS\",`${n}, chains must be defined as \"namespace:chainId\" e.g. \"eip155:1\": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: [\"eip155:1\", \"eip155:5\"] }`)),r}function Er(e,t,n){let r=null;return Object.entries(e).forEach(([o,s])=>{if(r)return;const i=wr(o,Be(o,s),`${t} ${n}`);i&&(r=i)}),r}function vr(e,t){let n=null;return $e(e)?e.forEach(r=>{n||br(r)||(n=de(\"UNSUPPORTED_ACCOUNTS\",`${t}, account ${r} should be a string and conform to \"namespace:chainId:address\" format`))}):n=de(\"UNSUPPORTED_ACCOUNTS\",`${t}, accounts should be an array of strings conforming to \"namespace:chainId:address\" format`),n}function xr(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const o=vr(r?.accounts,`${t} namespace`);o&&(n=o)}),n}function Ir(e,t){let n=null;return Rt(e?.methods)?Rt(e?.events)||(n=de(\"UNSUPPORTED_EVENTS\",`${t}, events should be an array of strings or empty array for no events`)):n=de(\"UNSUPPORTED_METHODS\",`${t}, methods should be an array of strings or empty array for no methods`),n}function Pt(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const o=Ir(r,`${t}, namespace`);o&&(n=o)}),n}function ki(e,t,n){let r=null;if(e&&qe(e)){const o=Pt(e,t);o&&(r=o);const s=Er(e,t,n);s&&(r=s)}else r=te(\"MISSING_OR_INVALID\",`${t}, ${n} should be an object with data`);return r}function Or(e,t){let n=null;if(e&&qe(e)){const r=Pt(e,t);r&&(n=r);const o=xr(e,t);o&&(n=o)}else n=te(\"MISSING_OR_INVALID\",`${t}, namespaces should be an object with data`);return n}function Ar(e){return q(e.protocol,!0)}function Di(e,t){let n=!1;return t&&!e?n=!0:e&&$e(e)&&e.length&&e.forEach(r=>{n=Ar(r)}),n}function Mi(e){return typeof e==\"number\"}function Vi(e){return typeof e<\"u\"&&typeof e!==null}function Hi(e){return!(!e||typeof e!=\"object\"||!e.code||!Ge(e.code,!1)||!e.message||!q(e.message,!1))}function Ki(e){return!(ae(e)||!q(e.method,!1))}function Fi(e){return!(ae(e)||ae(e.result)&&ae(e.error)||!Ge(e.id,!1)||!q(e.jsonrpc,!1))}function qi(e){return!(ae(e)||!q(e.name,!1))}function Gi(e,t){return!(!Re(t)||!lr(e).includes(t))}function Wi(e,t,n){return q(n,!1)?dr(e,t).includes(n):!1}function zi(e,t,n){return q(n,!1)?hr(e,t).includes(n):!1}function Nr(e,t,n){let r=null;const o=Ji(e),s=Yi(t),i=Object.keys(o),c=Object.keys(s),u=Sr(Object.keys(e)),a=Sr(Object.keys(t)),l=u.filter(f=>!a.includes(f));return l.length&&(r=te(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${l.toString()}\n      Received: ${Object.keys(t).toString()}`)),re(i,c)||(r=te(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${i.toString()}\n      Approved: ${c.toString()}`)),Object.keys(t).forEach(f=>{if(!f.includes(\":\")||r)return;const d=le(t[f].accounts);d.includes(f)||(r=te(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces accounts don't satisfy namespace accounts for ${f}\n        Required: ${f}\n        Approved: ${d.toString()}`))}),i.forEach(f=>{r||(re(o[f].methods,s[f].methods)?re(o[f].events,s[f].events)||(r=te(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=te(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function Ji(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(\":\")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(o=>{t[o]={methods:e[n].methods,events:e[n].events}})}),t}function Sr(e){return[...new Set(e.map(t=>t.includes(\":\")?t.split(\":\")[0]:t))]}function Yi(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(\":\"))t[n]=e[n];else{const r=le(e[n].accounts);r?.forEach(o=>{t[o]={accounts:e[n].accounts.filter(s=>s.includes(`${o}:`)),methods:e[n].methods,events:e[n].events}})}}),t}function Xi(e,t){return Ge(e,!1)&&e<=t.max&&e>=t.min}function Zi(){const e=ue();return new Promise(t=>{switch(e){case H.browser:t(Ur());break;case H.reactNative:t(_r());break;case H.node:t(Tr());break;default:t(!0)}})}function Ur(){return Ae()&&navigator?.onLine}async function _r(){if(ne()&&typeof global<\"u\"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e?.isConnected}return!0}function Tr(){return!0}function Qi(e){switch(ue()){case H.browser:$r(e);break;case H.reactNative:Rr(e);break;case H.node:break}}function $r(e){!ne()&&Ae()&&(window.addEventListener(\"online\",()=>e(!0)),window.addEventListener(\"offline\",()=>e(!1)))}function Rr(e){ne()&&typeof global<\"u\"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}const Bt={};class ec{static get(t){return Bt[t]}static set(t,n){Bt[t]=n}static delete(t){delete Bt[t]}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNmpCLGFBQWEsZUFBZSx1QkFBdUIsT0FBTyx5QkFBeUIsZUFBZSxNQUFNLHdCQUF3QixHQUFHLHFCQUFxQixlQUFlLHlCQUF5QixPQUFPLG1DQUFtQyxlQUFlLE1BQU0sa0NBQWtDLEdBQUcsdUJBQXVCLGlCQUFpQixXQUFXLHFCQUFxQixhQUFhLHlCQUF5QixJQUFJLGVBQWUsTUFBTSxVQUFVLE9BQU8sU0FBUyxlQUFlLE1BQU0sd0JBQXdCLE9BQU8sV0FBVyx3QkFBd0IsRUFBRSxpQkFBaUIsTUFBTSx3QkFBd0IsT0FBTyxXQUFXLGtDQUFrQyxFQUFFLGVBQWUsZ0JBQWdCLGVBQWUsZ0JBQWdCLG9CQUFvQixXQUFXLGtDQUFrQyxtQ0FBbUMsYUFBYSxzQkFBc0IsSUFBSSxvQkFBb0IsV0FBVyxrQ0FBa0MsbUNBQW1DLGFBQWEsMEJBQTBCLElBQUksb0JBQW9CLFdBQVcsa0NBQWtDLG1DQUFtQyxhQUFhLG1CQUFtQixJQUFJLGlCQUFpQix3Q0FBd0MsMEJBQTBCLDJFQUEyRSwwQ0FBMEMsY0FBYyx5RkFBeUYsY0FBYyxPQUFPLDBFQUFFLE1BQU0sMkVBQUUsMkJBQTJCLGNBQWMsc0lBQXNJLGNBQWMsa0lBQWtJLGNBQWMsZUFBZSwyRUFBRSxNQUFNLDBFQUFFLEdBQUcsY0FBYywrREFBK0QsY0FBYyxNQUFNLElBQUksOElBQThJLE1BQU0sUUFBUSxpQkFBaUIsK0JBQStCLDZEQUE2RCxhQUFhLHVCQUF1QixvQkFBb0IsY0FBYyxPQUFPLGlGQUFFLEtBQUssMENBQTBDLGlCQUFpQixNQUFNLGdCQUFnQiw0QkFBNEIsa0NBQWtDLDBFQUFFLHVDQUF1QyxjQUFjLDZGQUE2RixNQUFNLGVBQWUsaUJBQWlCLHNCQUFzQixRQUFRLHNEQUFFLEdBQUcsNEJBQTRCLDBEQUEwRCxpRkFBaUYsY0FBYyxNQUFNLGFBQWEsNEJBQTRCLDBFQUFFLGlEQUFpRCxtQkFBbUIsb0JBQW9CLHVEQUF1RCxhQUFhLDJHQUEyRyxFQUFFLG9DQUFvQywyRkFBMkYsa0JBQWtCLGtCQUFrQixlQUFlLDRDQUE0Qyx5Q0FBeUMsb0RBQW9ELG1CQUFtQixpRUFBaUUsRUFBRSxVQUFVLG9CQUFvQix5QkFBeUIsZUFBZSxzQkFBc0IsaUJBQWlCLG9EQUFvRCxvQkFBb0IsdUNBQXVDLGVBQWUsdUNBQXVDLGVBQWUsa0NBQWtDLGlCQUFpQixXQUFXLGtDQUFrQyxhQUFhLElBQUksY0FBYyxlQUFlLGtEQUFrRCxlQUFlLDBDQUEwQyxjQUFjLDZEQUFFLElBQUksUUFBUSxrRUFBRSxJQUFJLDZEQUFFLEVBQUUsWUFBWSxPQUFPLFlBQVksa0RBQWtELFlBQVksNkJBQTZCLDhCQUE4QixpQkFBaUIsa0JBQWtCLHFCQUFxQix5QkFBeUIsWUFBWSxHQUFHLG1CQUFtQixnQ0FBZ0MsMENBQTBDLElBQUksZ0JBQWdCLEtBQUssU0FBUyxLQUFLLGdCQUFnQixFQUFFLGlCQUFpQix1Q0FBdUMsRUFBRSxhQUFhLDhCQUE4QiwrRkFBK0YsZUFBZSxFQUFFLEVBQUUsZ0NBQWdDLDRGQUE0RixZQUFZLEVBQUUsRUFBRSxnREFBZ0QsRUFBRSxHQUFHLGVBQWUscUJBQXFCLGVBQWUsa0JBQWtCLGVBQWUsMkJBQTJCLHdCQUF3Qiw2Q0FBNkMsNkRBQTZELGdGQUFnRixFQUFFLEdBQUcsRUFBRSxHQUFHLFNBQVMsaUJBQWlCLE9BQU8sb0VBQUUsaUJBQWlCLGtFQUFFLEtBQUssZUFBZSxtQkFBbUIsa0VBQUUsSUFBSSxpQkFBaUIsU0FBUyxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxzQkFBc0IsZ0NBQWdDLG1CQUFtQiwwQkFBMEIsRUFBRSxNQUFNLElBQUksYUFBYSxxREFBcUQsNkJBQTZCLHlCQUF5QixrQkFBa0IsUUFBUSwwRUFBRSwwQkFBMEIsaUVBQWlFLE9BQU8sTUFBTSx3R0FBd0csU0FBUyxrQkFBa0IsbUJBQW1CLHFCQUFxQixFQUFFLGdCQUFnQixFQUFFLEVBQUUsbUNBQW1DLFNBQVMsRUFBRSxFQUFFLGlDQUFpQyxrREFBa0QsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLEVBQUUsU0FBUyxlQUFlLGNBQWMsNkhBQTZILHVCQUF1QixTQUFTLElBQUksZ0RBQWdELHFCQUFxQixTQUFTLGlCQUFpQixTQUFTLGlCQUFpQixrQ0FBa0MsaUJBQWlCLDhCQUE4Qiw0Q0FBNEMsY0FBYyxjQUFjLDBJQUEwSSwyQkFBMkIscUNBQXFDLEVBQUUsY0FBYywwREFBMEQsY0FBYyxpSEFBaUgsY0FBYyxJQUFJLGdDQUFnQyxNQUFNLFVBQVUsb0JBQW9CLDBDQUEwQyxnQ0FBZ0MsZUFBZSxpREFBaUQsZUFBZSx1Q0FBdUMsZUFBZSxzRkFBc0YsZUFBZSx5RkFBeUYsb0JBQW9CLGlEQUFpRCxrSEFBa0gsZUFBZSx3SEFBd0gsK0JBQStCLG9CQUFvQixtRUFBbUUsMEVBQTBFLGlCQUFpQixNQUFNLG9CQUFvQiwwRkFBMEYsdUNBQXVDLG9CQUFvQixVQUFVLGtDQUFrQyxFQUFFLHVDQUF1QyxvQkFBb0IsNERBQTRELFlBQVksV0FBVyxLQUFLLE1BQU0sUUFBUSxZQUFZLGtCQUFrQixZQUFZLG1NQUFtTSxlQUFlLHlFQUF5RSxlQUFlLHdEQUF3RCxnQkFBZ0IscUJBQXFCLHFFQUFxRSxlQUFlLDZEQUE2RCxlQUFlLFlBQVksV0FBVyxrQkFBa0IsZUFBZSxvRkFBb0YsbURBQW1ELGVBQWUsNkNBQTZDLFNBQVMsUUFBUSwwQkFBMEIsZUFBZSw0Q0FBNEMsd0VBQXdFLGtCQUFrQiwwRkFBMEYsa0VBQWtFLDBEQUEwRCwwR0FBMEcseUJBQXlCLEtBQUssS0FBSyxtRUFBbUUsU0FBUyxZQUFZLElBQUksOERBQThELFdBQVcsaUdBQWlHLG9CQUFvQiw0QkFBNEIsZUFBZSxLQUFLLEtBQUssWUFBWSxLQUFLLDhDQUE4QyxZQUFZLEtBQUssTUFBTSxnRkFBZ0YsWUFBWSxLQUFLLDRCQUE0QixrQkFBa0IsWUFBWSxLQUFLLEtBQUssOENBQThDLGdDQUFnQyxZQUFZLEtBQUssT0FBTyxZQUFZLEtBQUssZ0JBQWdCLFlBQVksS0FBSyxxQ0FBcUMsd0JBQXdCLFVBQVUsb0JBQW9CLDZCQUE2Qiw0UEFBNFAsMkRBQTJELFNBQVMsZ0dBQWdHLFVBQVUsU0FBUyxNQUFNLG1CQUFtQixNQUFNLFFBQVEsaUJBQWlCLFlBQVksSUFBSSxFQUFFLGlDQUFpQyxZQUFZLElBQUksMEJBQTBCLDRCQUE0QixZQUFZLFNBQVMsd0JBQXdCLGlCQUFpQixNQUFNLGtDQUFrQyxNQUFNLHNFQUFzRSxhQUFhLGdDQUFnQyxvQkFBb0IsV0FBVyxNQUFNLHVCQUF1QixJQUFJLEVBQUUsOEJBQThCLG9DQUFvQyxtRUFBbUUsU0FBUyxXQUFXLDRFQUE0RSx5QkFBeUIsT0FBTyw2Q0FBNkMsY0FBYywyRUFBMkUsMENBQTBDLFNBQVMsdURBQXVELFVBQVUscUNBQXFDLGNBQWMsTUFBTSxxREFBcUQsTUFBTSx5TUFBeU0saUdBQWlHLGVBQWU7QUFDenZaLEVBQUUsU0FBUyxrQ0FBa0MsOENBQThDLCtCQUErQixZQUFZLHNDQUFzQyw2Q0FBNkMseUdBQXlHLElBQUksSUFBSSx5QkFBeUIsYUFBYSxvREFBRSxFQUFFLHVCQUF1QixtQ0FBbUMsK0JBQStCLGNBQWMsNkhBQTZILEVBQUUsR0FBRyxJQUFJLGtPQUFrTyxNQUFNLFlBQVksRUFBRSxhQUFhLEVBQUUsR0FBRyxtQ0FBbUMsaURBQWlELFlBQVksV0FBVyxFQUFFLEdBQUcsU0FBUyxnQkFBZ0IsZ0VBQWdFLFNBQVMsd0RBQXdELGNBQWMsZ0RBQWdELGVBQWUsMkNBQTJDLFlBQVksV0FBVyx5QkFBeUIsYUFBYSxnREFBZ0QsZUFBZSx3RkFBd0YseURBQXlELDRDQUE0QyxPQUFPLDRDQUFFLFdBQVcsbU9BQW1PLGtEQUFrRCxvQkFBb0IscUJBQXFCLDZCQUE2QixvREFBb0QsU0FBUyx1QkFBdUIsK0NBQStDLGlCQUFpQixxQ0FBcUMsUUFBUSxpQkFBaUIsMEJBQTBCLFFBQVEsaUJBQWlCLHFCQUFxQixxQkFBcUIsTUFBTSxvQkFBb0IsSUFBSSxRQUFRLDZCQUE2QixtQ0FBbUMsaUJBQWlCLFdBQVcsVUFBVSwwREFBMEQsZ0dBQWdHLDBCQUEwQixnQkFBZ0IsYUFBYSxnQkFBZ0IsVUFBVSxpQkFBaUIsTUFBTSxjQUFjLFFBQVEsa0JBQWtCLE1BQU0sOEJBQThCLE1BQU0sZ0NBQWdDLE1BQU0sc0NBQXNDLFlBQVksb0NBQW9DO0FBQzl4RixJQUFJLEVBQUUsWUFBWSwyQkFBMkIsTUFBTSxjQUFjLFVBQVU7QUFDM0UsSUFBSSxtQkFBbUIsNkNBQTZDLEVBQUUsSUFBSSxHQUFHLFlBQVksSUFBSSxnS0FBZ0ssTUFBTSxlQUFlLE1BQU0sTUFBTSxpQ0FBaUMscUJBQXFCLGlDQUFpQywyQkFBMkIsK0RBQStELHdCQUF3QixlQUFlLEtBQUssdUJBQXVCLHVCQUF1QixzQkFBc0Isd0JBQXdCLDBGQUEwRixrQkFBa0IsZUFBZSxrQkFBa0IsR0FBRyx3QkFBd0IsU0FBUyxxQkFBcUIsa0VBQWtFLGVBQWUsS0FBSyxtRkFBbUYsRUFBRSxlQUFlLGNBQWMseUJBQXlCLGlCQUFpQixNQUFNLGtEQUFrRCxpQkFBaUIsUUFBUSwwRUFBMEUsZUFBZSxxQ0FBcUMsZUFBZSxrQkFBa0IsTUFBTSx5Q0FBeUMsTUFBTSxlQUFlLHlEQUF5RCxlQUFlLDZEQUE2RCxjQUFjLCtEQUErRCxxREFBcUQsMkJBQTJCLGdGQUFnRixjQUFjLGlCQUFpQixtRUFBbUUsRUFBRSxHQUFHLHFFQUFxRSxFQUFFLEdBQUcsdUVBQXVFLEVBQUUsR0FBRywyQkFBMkIsYUFBYSx1REFBdUQsR0FBRyxzQ0FBc0MsRUFBRSxHQUFHLHlDQUF5QyxHQUFHLGdEQUFnRCxjQUFjLHlEQUF5RCxFQUFFLHdDQUF3QyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsc0JBQXNCLEVBQUUsMkNBQTJDLEtBQUssZ0JBQWdCLG1CQUFtQixNQUFNLGNBQWMsSUFBSSxpRkFBaUYsUUFBUSxnREFBZ0Qsb0JBQW9CLEVBQUUscUNBQXFDLG1CQUFtQixJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sR0FBRyx1QkFBdUIsT0FBTyxlQUFlLHlCQUF5Qix1QkFBdUIsRUFBRSxlQUFlLHVDQUF1QyxjQUFjLG1CQUFtQixrQkFBa0IsYUFBYSxlQUFlLG1DQUFtQyxpQkFBaUIsZ0NBQWdDLGFBQWEsaUJBQWlCLFVBQVUseUZBQXlGLFFBQVEscUJBQXFCLFFBQVEsNkNBQTZDLHNEQUFzRCwrQ0FBK0MsUUFBUSxpQkFBaUIsWUFBWSx1RUFBdUUsRUFBRSxFQUFFLElBQUksb0JBQW9CLEtBQUssNkZBQTZGLDBCQUEwQixXQUFXLFFBQVEsK0JBQStCLHVDQUF1QywrQ0FBK0MsR0FBRyxnREFBZ0QsV0FBVyxjQUFjLDREQUE0RCxFQUFFLHVDQUF1QyxFQUFFLEtBQUssRUFBRSxNQUFNLGtCQUFrQixTQUFTLEVBQUUsTUFBTSx1Q0FBdUMsRUFBRSx5QkFBeUIsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLFdBQVcsRUFBRSxFQUFFLEVBQUUsZUFBZSxNQUFNLGNBQWMsS0FBSyx3Q0FBd0MsbURBQW1ELGVBQWUsY0FBYyxLQUFLLFdBQVcsd0NBQXdDLDZCQUE2QixNQUFNLGdEQUFnRCxFQUFFLHlCQUF5QixpQkFBaUIsZUFBZSxjQUFjLG9CQUFvQixlQUFlLGFBQWEsd0JBQXdCLHNCQUFzQixlQUFlLHNGQUFzRixlQUFlLHlGQUF5RixtQkFBbUIsaURBQWlELGtIQUFrSCxvQkFBb0IsbUVBQW1FLDBFQUEwRSxpQkFBaUIsS0FBSyxvQkFBb0IsMEZBQTBGLGVBQWUsZ0VBQWdFLEVBQUUsR0FBRyxvTUFBb00sc0VBQXNFLGVBQWUseURBQXlELG1EQUFtRCxlQUFlLDhCQUE4QixzQkFBc0IsMkRBQTJELFNBQVMsaUJBQWlCLDBFQUEwRSwwQkFBMEIsaUJBQWlCLGdDQUFnQyxRQUFRLFlBQVksV0FBVyxpQkFBaUIsYUFBYSxpQkFBaUIsbUJBQW1CLGdDQUFnQyxhQUFhLDZDQUE2Qyx1Q0FBdUMsb0JBQW9CLDBCQUEwQiw0QkFBNEIsZUFBZSx3REFBd0QsT0FBTyxTQUFTLE9BQU8sYUFBYSxxRUFBcUUsc0RBQXNELGNBQWMsOEZBQThGLDhDQUE4Qyw2QkFBNkIsc0JBQXNCLHVDQUF1Qyx5RkFBeUYsZ0VBQWdFLFNBQVMscUJBQXFCLGtFQUFrRSx1RkFBdUYsMENBQTBDLGVBQWUsMEJBQTBCLGVBQWUsMEJBQTBCLGtCQUFrQixZQUFZLFdBQVcsaUJBQWlCLHlJQUF5SSxnQkFBZ0IscUJBQXFCLGVBQWUsMEJBQTBCLGdEQUFnRCw2QkFBNkIsdUZBQXVGLFlBQVksSUFBSSxLQUFLLGlFQUFpRSx5QkFBeUIsY0FBYyxZQUFZLDBEQUEwRCxjQUFjLEtBQUsseUJBQXlCLE1BQU0sU0FBUyxjQUFjLElBQUkseUJBQXlCLE1BQU0saUJBQWlCLE1BQU0seUVBQXlFLEtBQUssNERBQTRELElBQUksbUVBQW1FLCtDQUErQyxlQUFlLGlCQUFpQixvR0FBb0csOENBQThDLFNBQVMsMEJBQTBCLEVBQUUsSUFBSSxXQUFXLG1CQUFtQiwrQkFBK0IsMkVBQTJFLDZEQUE2RCxFQUFFLEdBQUcsdUJBQXVCLGNBQWMsTUFBTSx5RUFBeUUsK0NBQStDLGFBQWEsc0RBQXNELEdBQUcsY0FBYyxXQUFXLDJCQUEyQix1Q0FBdUMsY0FBYyx1Q0FBdUMsMENBQTBDLFNBQVMsZUFBZSxnTUFBZ00saUZBQWlGLGtRQUFrUSxZQUFZLElBQUksNEJBQTRCLGtCQUFrQixrQkFBa0IsUUFBUSx1S0FBdUssdVNBQXVTLDhFQUE4RSx3Q0FBd0MsOEVBQThFLG9DQUFvQyw4RUFBOEUsZ0NBQWdDLDhFQUE4RSw0QkFBNEIsOEVBQThFLDRCQUE0QiwwRUFBMEUsNkJBQTZCLDJFQUEyRSw2QkFBNkIsdUVBQXVFLDZCQUE2QixtRUFBbUUsNkJBQTZCLHFMQUFxTCxXQUFXLE1BQU0sVUFBVSw0QkFBNEIsZ0JBQWdCLFdBQVcsWUFBWSxLQUFLLG1DQUFtQywyR0FBMkcsWUFBWSxLQUFLLHVDQUF1QyxXQUFXLGNBQWMsWUFBWSxLQUFLLFlBQVksS0FBSyxZQUFZLEtBQUsscUJBQXFCLHlQQUF5UCxnQkFBZ0IsYUFBYSxZQUFZLElBQUksNENBQTRDLE1BQU0sVUFBVSxTQUFTLE1BQU0sb0JBQW9CLE1BQU0sUUFBUSxpQkFBaUIsWUFBWSxJQUFJLEVBQUUsaUNBQWlDLFVBQVUsS0FBSyxPQUFPLHVCQUF1QixTQUFTLG1HQUFtRyxZQUFZLFVBQVUsdUNBQXVDLGNBQWMscUNBQXFDLE1BQU0sYUFBYSxNQUFNLElBQUksTUFBTSxNQUFNLE1BQU0sYUFBYSxLQUFLLFdBQVcscUJBQXFCLGdCQUFnQixRQUFRLFlBQVksSUFBSSxvQ0FBb0MsU0FBUyxTQUFTLE1BQU0scUJBQXFCLE1BQU0sbUJBQW1CLHFCQUFxQix5QkFBeUIsZUFBZSxtRUFBbUUsd0VBQXdFLDBCQUEwQiw0QkFBNEIsaUxBQWlMLFlBQVksSUFBSSxxbkJBQXFuQixRQUFRLGdOQUFnTixnQkFBZ0Isa0RBQWtELG1DQUFtQyxZQUFZLG9CQUFvQiw0QkFBNEIsdUJBQXVCLHVCQUF1QixpQ0FBaUMsbUJBQW1CLG1DQUFtQyx3RUFBd0UsbUJBQW1CLGlCQUFpQix1QkFBdUIsYUFBYSxpQkFBaUIseUJBQXlCLDBCQUEwQixhQUFhLHNCQUFzQiwwQkFBMEIsY0FBYyx1QkFBdUIsNERBQTRELDJDQUEyQyxzREFBc0QsU0FBUyx5Q0FBeUMsU0FBUyxvQkFBb0IsaUJBQWlCLGlEQUFpRCxjQUFjLHFJQUFxSSxzRUFBc0UsMENBQTBDLGtEQUFrRCxZQUFZLFdBQVcsYUFBYSwyQ0FBMkMsWUFBWSxXQUFXLGNBQWMsK0JBQStCLFVBQVUsMENBQTBDLGNBQWMscUlBQXFJLFNBQVMsNkNBQTZDLDRCQUE0QixjQUFjLGtEQUFrRCxHQUFHLE1BQU0sOERBQThELE1BQU0sK0hBQStILFVBQVUsNkRBQTZELGlEQUFpRCw2QkFBNkIsbUJBQW1CLDJFQUEyRSwrQ0FBK0Msd0JBQXdCLG9GQUFvRixpQ0FBaUMsbUJBQW1CLHNHQUFzRyxZQUFZLElBQUksNkdBQTZHLGlFQUFpRSwwQ0FBMEMscUJBQXFCLGtFQUFrRSx1RkFBdUYsMENBQTBDLG1CQUFtQixnQkFBZ0IsbUJBQW1CLG1CQUFtQixvQkFBb0IscUJBQXFCLDBMQUEwTCxVQUFVLFNBQVMsTUFBTSwyQkFBMkIsTUFBTSxRQUFRLGlCQUFpQixZQUFZLElBQUksRUFBRSxpQ0FBaUMsVUFBVSxjQUFjLEtBQUssT0FBTyx1QkFBdUIsU0FBUyxnR0FBZ0csb0RBQW9ELGNBQWMscUNBQXFDLE1BQU0sa0NBQWtDLE1BQU0sSUFBSSxNQUFNLE1BQU0sdUZBQXVGLFlBQVksSUFBSSxXQUFXLG9EQUFvRCwrQkFBK0Isc0VBQXNFLHlCQUF5QixvRUFBb0UsWUFBWSxJQUFJLDRCQUE0QixTQUFTLE1BQU0scUJBQXFCLE1BQU0sbUJBQW1CLHFCQUFxQix3QkFBd0IsY0FBYyxpREFBaUQsTUFBTSwwREFBMEQsTUFBTSw2RUFBNkUsZzFCQUFnMUIsb0JBQW9CLGNBQWMsMElBQTBJLE1BQU0sTUFBTSxnQ0FBZ0MsTUFBTSx3QkFBd0IscUJBQXFCLHdGQUF3RixhQUFhLFlBQVksS0FBSyxpQ0FBaUMsYUFBYSxLQUFLLEtBQUssMkVBQTJFLDZCQUE2QixJQUFJLGdDQUFnQyxNQUFNLFlBQVksS0FBSyxLQUFLLG9HQUFvRyx3Q0FBd0Msa0lBQWtJLGFBQWEsV0FBVyxVQUFVLCtDQUErQyx3QkFBd0IseUZBQXlGLGVBQWUseUZBQXlGLGVBQWUsaURBQWlELHFCQUFxQixXQUFXLHdDQUF3QyxlQUFlLE1BQU0sU0FBUyxZQUFZLFdBQVcsZ0JBQWdCLFNBQVMsZUFBZSw0RUFBNEUsZ0NBQWdDLFVBQVUsa0NBQWtDLGVBQWUscUNBQXFDLHVDQUF1Qyx1Q0FBdUMsZUFBZSw0RUFBNEUsdUJBQXVCLDZFQUE2RSwwQkFBMEIsZ0JBQWdCLElBQUksVUFBVSxvREFBb0QsMkJBQTJCLG9CQUFvQixrRkFBa0YsWUFBWSxTQUFTLGVBQWUsa0RBQWtELGlCQUFpQiw0Q0FBNEMsaUJBQWlCLHlCQUF5QixtQkFBbUIsTUFBTSwwQkFBMEIsUUFBUSxTQUFTLGtFQUFrRSxtQ0FBbUMsNERBQTRELGlCQUFpQixvRkFBb0YsU0FBUyxzQ0FBc0MsbUJBQW1CLHNDQUFzQyxxQkFBcUIsa0ZBQWtGLFVBQVUsMlVBQTJVLG9CQUFvQixFQUFFLGtCQUFrQixjQUFjLHNFQUFzRSxhQUFhLHdHQUF3Ryw2Q0FBNkMsNkNBQTZDLFNBQVMsZ0NBQWdDLGlCQUFpQixZQUFZLG1CQUFtQixtQkFBbUIsbUVBQW1FLDRDQUE0QyxvQkFBb0IsU0FBUyxLQUFLLEtBQUssZ0NBQWdDLFNBQVMsa0JBQWtCLFFBQVEsS0FBSyxRQUFRLFdBQVcsU0FBUyw0REFBNEQsZ0NBQWdDLGVBQWUsYUFBYSxXQUFXLEVBQUUsNElBQTRJLGlCQUFpQixLQUFLLEVBQUUsZUFBZSxlQUFlLElBQUksMklBQTJJLGtCQUFrQixtQkFBbUIsK0JBQStCLGtDQUFrQyxnQkFBZ0IsbUNBQW1DLGNBQWMsOEJBQThCLHNCQUFzQixNQUFNLEtBQUssZ0JBQWdCLDJEQUEyRCxvRkFBb0Ysa0RBQWtELGtEQUFrRCxhQUFhLGNBQWMsY0FBYyxrQkFBa0IsY0FBYywrQkFBK0Isa0NBQWtDLGNBQWMsa0NBQWtDLGlCQUFpQixvQkFBb0IsZ0VBQWdFLGdCQUFnQixnQkFBZ0IsNkJBQTZCLG9FQUFvRSxZQUFZLGdCQUFnQixjQUFjLGNBQWMsT0FBTyx3RkFBd0Ysa0RBQWtELFlBQVksaUdBQWlHLFVBQVUsMERBQTBELFVBQVUsZUFBZSxxTkFBcU4sT0FBTyw4QkFBOEIsZUFBZSx3Q0FBd0MsYUFBYSxvRkFBb0YsWUFBWSxpQkFBaUIsT0FBTyx5QkFBeUIscUNBQXFDLHNHQUFzRyxjQUFjLHlEQUF5RCxPQUFPLFdBQVcscURBQUMsZ0JBQWdCLHFEQUFDLE9BQU8sY0FBYyxlQUFlLE9BQU8scURBQUMsTUFBTSxpQkFBaUIsMkJBQTJCLHVEQUFDLE1BQU0sdURBQUMsbUNBQW1DLE9BQU8scURBQUMsTUFBTSxlQUFlLFdBQVcsdURBQUMsT0FBTyxPQUFPLHFEQUFDLE1BQU0sZUFBZSxXQUFXLHVEQUFDLFFBQVEsT0FBTyxxREFBQyxNQUFNLGVBQWUsT0FBTyx1REFBQyxJQUFJLEVBQUUsTUFBTSxlQUFlLGNBQWMscURBQUMsUUFBUSxlQUFlLHdDQUF3Qyw2R0FBNkcscUNBQXFDLHVEQUFDLCtDQUErQyx1REFBQyxrQkFBa0IsdURBQUMsK0JBQStCLHVEQUFDLGdCQUFnQixXQUFXLDJEQUEyRCxFQUFFLGVBQWUsUUFBUSx1REFBQyxjQUFjLGNBQWMsNEJBQTRCLGlEQUFpRCxPQUFPLHFEQUFDLE9BQU8saUJBQWlCLDBCQUEwQix1REFBQyxPQUFPLFdBQVcsZ0NBQWdDLEVBQUUsaUJBQWlCLE1BQU0sU0FBUyxLQUFLLHFCQUFxQixFQUFFLE9BQU8scURBQUMsT0FBTyxlQUFlLE1BQU0sY0FBYyxHQUFHLDBCQUEwQixxREFBQyxDQUFDLG1EQUFFLHVCQUF1QixvQkFBb0IsaUdBQWlHLE9BQU8scURBQUMsQ0FBQyxtREFBRSw4Q0FBOEMsT0FBTyxxREFBQyxDQUFDLG1EQUFFLDRCQUE0QixlQUFlLE1BQU0sd0JBQXdCLEtBQUssdURBQUMsNEJBQTRCLGVBQWUsK0RBQStELE9BQU8sd0NBQXdDLGVBQWUsNEJBQTRCLE9BQU8sc0JBQXNCLHlDQUF5QyxPQUFPLHNCQUFzQixpQkFBaUIsWUFBWSwrQkFBK0IsRUFBRSxXQUFXLDZEQUE2RCxxREFBQyxvRUFBb0UsRUFBRSxlQUFlLG9CQUFvQixXQUFXLDhFQUE4RSxrRkFBa0YsT0FBTyxrRkFBa0YsZUFBZSw2RkFBNkYsZUFBZSxtQkFBbUIsZUFBZSxXQUFXLHdDQUFFLHdCQUF3Qix3RkFBd0YsUUFBUSxlQUFlLDRDQUE0QyxtQkFBbUIsbUNBQW1DLGVBQWUsbUNBQW1DLGlCQUFpQixrQ0FBa0MsNkRBQTZELDRFQUE0RSxFQUFFLEdBQUcsRUFBRSxvQkFBb0IscURBQUMsTUFBTSxnQkFBZ0IsUUFBUSx1Q0FBdUMsT0FBTyxvRUFBRSxZQUFZLGVBQWUsZUFBZSxrQkFBa0IsYUFBYSxlQUFlLFFBQVEsbUVBQUUsSUFBSSxpRUFBaUUsRUFBRSxHQUFHLFNBQVMscUJBQXFCLFVBQVUsYUFBYSxrQ0FBa0Msb0JBQW9CLCtCQUErQixRQUFRLElBQUksZUFBZSx1QkFBdUIsY0FBYyxrQ0FBa0Msd0ZBQXdGLHFMQUFxTCxrQkFBa0IsT0FBTyxFQUFFLCtEQUErRCxPQUFPLG1LQUFtSyxlQUFlLDJDQUEyQyxxQkFBcUIscUJBQXFCLGtDQUFrQyxrQkFBa0Isa0JBQWtCLElBQUksZUFBZSwwQ0FBMEMsa0NBQWtDLGNBQWMsb0pBQW9KLHFCQUFxQixTQUFTLFdBQVcsR0FBRyxRQUFRLEdBQUcsVUFBVSxHQUFHLEVBQUUsRUFBRSxtQkFBbUIsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsRUFBRSxtT0FBbU8sa0RBQWtELG9CQUFvQixxQkFBcUIsNkJBQTZCLG9EQUFvRCxTQUFTLHVCQUF1QixlQUFlLFdBQVcscUJBQXFCLHdCQUF3QixVQUFVLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSSxlQUFlLFdBQVcsb0NBQW9DLDBCQUEwQixJQUFJLGlCQUFpQixXQUFXLG9DQUFvQyxpREFBaUQsSUFBSSxpQkFBaUIsV0FBVyxvQ0FBb0MsZ0RBQWdELElBQUksaUJBQWlCLGdCQUFnQixnQ0FBZ0MsV0FBVyx5Q0FBeUMsOERBQThELGdCQUFnQixHQUFHLGdCQUFnQixJQUFJLFNBQVMsZUFBZSxNQUFNLFVBQVUsNkNBQTZDLHVCQUF1Qix3QkFBd0IsMkJBQTJCLGlFQUFpRSxjQUFjLCtFQUErRSxHQUFHLGVBQWUsRUFBRSxHQUFHLFFBQVEsd0NBQXdDLEVBQUUsNEJBQTRCLGdDQUFnQyxXQUFXLG1GQUFtRiwrQkFBK0IsUUFBUSxvRUFBb0UsNEJBQTRCLFFBQVEscUVBQXFFLDJCQUEyQixRQUFRLG9FQUFvRSxtREFBbUQsRUFBRSxhQUFhLE1BQU0sd0NBQXdDLDZCQUE2QixnQkFBZ0IsZ0JBQWdCLHVIQUF1SCxRQUFRLHFFQUFxRSwyQkFBMkIsUUFBUSxvRUFBb0Usb0RBQW9ELEVBQUUsYUFBYSxNQUFNLG1MQUFtTCxLQUFLLGVBQWUsdUJBQXVCLGVBQWUsK0JBQStCLGVBQWUsVUFBVSxXQUFXLG1CQUFtQixvQ0FBb0Msa0VBQWtFLGFBQWEsUUFBUSxtSUFBbUksRUFBRSxTQUFTLGVBQWUsV0FBVyxzQkFBc0IsTUFBTSx3QkFBd0IsYUFBYSwyQ0FBMkMseURBQXlELEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSSxpQkFBaUIscUNBQXFDLGNBQWMsOEhBQThILFNBQVMsVUFBVSxnQkFBZ0Isb0NBQW9DLGdCQUFnQixtQ0FBbUMseUJBQXlCLDRDQUE0Qyx5QkFBeUIsNENBQTRDLGlDQUFpQyxvREFBb0Qsc0JBQXNCLHlDQUF5QyxxQkFBcUIsd0NBQXdDLDhCQUE4QixpREFBaUQsOEJBQThCLGlEQUFpRCxnQkFBZ0Isa0NBQWtDLHVCQUF1QiwwQ0FBMEMsd0JBQXdCLDJDQUEyQyx1QkFBdUIsMENBQTBDLHFCQUFxQix3Q0FBd0Msc0JBQXNCLHlDQUF5QyxxQkFBcUIsd0NBQXdDLHVCQUF1QiwwQ0FBMEMsNEJBQTRCLCtDQUErQyxvQkFBb0Isc0NBQXNDLDRCQUE0Qiw4Q0FBOEMsd0JBQXdCLDhDQUE4QyxLQUFLLGlCQUFpQixrQ0FBa0Msa0JBQWtCLGtDQUFrQyx3QkFBd0Isd0NBQXdDLGVBQWUsK0JBQStCLHFCQUFxQixxQ0FBcUMsVUFBVSwwQkFBMEIsZUFBZSwrQkFBK0IsbUJBQW1CLG1DQUFtQyw0QkFBNEIsOENBQThDLGlCQUFpQixNQUFNLGlCQUFpQixPQUFPLE9BQU8sYUFBYSxHQUFHLEVBQUUsRUFBRSxZQUFZLGlCQUFpQixNQUFNLGlCQUFpQixPQUFPLE9BQU8sYUFBYSxHQUFHLEVBQUUsRUFBRSxZQUFZLGlCQUFpQixnRUFBZ0UsZUFBZSwwRUFBMEUsZUFBZSxvQkFBb0IsZ0JBQWdCLHlEQUF5RCxpQkFBaUIsaURBQWlELGlCQUFpQixNQUFNLHFCQUFxQixnREFBZ0QsU0FBUyw4QkFBOEIsTUFBTSw4QkFBOEIsZ0NBQWdDLDREQUE0RCxRQUFRLGVBQWUsMkRBQTJELGVBQWUsNkJBQTZCLHFCQUFxQixpQkFBaUIsc0JBQXNCLHFCQUFxQixTQUFTLGVBQWUsY0FBYyxJQUFJLDZCQUE2QixNQUFNLFVBQVUsSUFBSSxZQUFZLGlCQUFpQixjQUFjLGFBQWEsT0FBTyxTQUFTLGVBQWUsTUFBTSwrQ0FBK0MsZUFBZSxnQkFBZ0IsaUJBQWlCLFdBQVcseURBQXlELEdBQUcsOENBQThDLGVBQWUsU0FBUyxzREFBc0QsbUJBQW1CLFdBQVcscUNBQXFDLHdDQUF3QyxFQUFFLFVBQVUsR0FBRyxnRUFBZ0UsdUNBQXVDLEVBQUUsa0VBQWtFLEtBQUssc0VBQXNFLGtDQUFrQyxNQUFNLG1CQUFtQixXQUFXLDJDQUEyQyxZQUFZLHdCQUF3QixHQUFHLEVBQUUsRUFBRSxHQUFHLFNBQVMsSUFBSSxpQkFBaUIsV0FBVywyQkFBMkIsMENBQTBDLEVBQUUsWUFBWSxHQUFHLHdFQUF3RSxpQ0FBaUMsRUFBRSw4RkFBOEYsaUJBQWlCLFdBQVcsb0NBQW9DLFlBQVksMEJBQTBCLEdBQUcsWUFBWSxTQUFTLElBQUksaUJBQWlCLFdBQVcsbUVBQW1FLEVBQUUscUdBQXFHLEVBQUUsMEVBQTBFLGlCQUFpQixXQUFXLG9DQUFvQyxZQUFZLGdCQUFnQixFQUFFLGNBQWMsU0FBUyxJQUFJLG1CQUFtQixXQUFXLGFBQWEsZ0JBQWdCLFNBQVMsa0JBQWtCLFNBQVMsa0NBQWtDLEVBQUUsSUFBSSxHQUFHLGdDQUFnQyxTQUFTLGlCQUFpQixXQUFXLGFBQWEsZ0JBQWdCLFNBQVMsZ0JBQWdCLFNBQVMsa0NBQWtDLEVBQUUsNkNBQTZDLFNBQVMsZUFBZSx3QkFBd0IsaUJBQWlCLFNBQVMsb0RBQW9ELFFBQVEsSUFBSSxlQUFlLDBCQUEwQixlQUFlLHFDQUFxQyxlQUFlLHVGQUF1RixlQUFlLGdDQUFnQyxlQUFlLDBFQUEwRSxlQUFlLDhCQUE4QixpQkFBaUIsb0NBQW9DLG1CQUFtQixzQ0FBc0MsbUJBQW1CLHNDQUFzQyxtQkFBbUIsV0FBVyxnSUFBZ0ksc0RBQXNELEdBQUc7QUFDNytzQyxrQkFBa0I7QUFDbEIsa0JBQWtCLDBCQUEwQixrREFBa0QsR0FBRztBQUNqRyxrQkFBa0I7QUFDbEIsa0JBQWtCLGFBQWEsK0JBQStCLDhCQUE4QiwwQkFBMEIsb0RBQW9ELEdBQUcsMkRBQTJEO0FBQ3hPLG9CQUFvQjtBQUNwQixvQkFBb0IsYUFBYSxJQUFJLGdCQUFnQixvR0FBb0csR0FBRyx1REFBdUQsRUFBRSx3Q0FBd0MsR0FBRyx5REFBeUQsRUFBRSxJQUFJLElBQUksZUFBZSxXQUFXLGtDQUFrQyxNQUFNLCtEQUErRCxNQUFNLHlDQUF5QyxFQUFFLElBQUksZUFBZSxnRUFBZ0UsZUFBZSxXQUFXLGtDQUFrQyw2QkFBNkIsS0FBSywwQkFBMEIsZUFBZSxNQUFNLCtDQUErQyxFQUFFLDhDQUE4QyxHQUFHLElBQUksaUJBQWlCLG9DQUFvQyxjQUFjLGFBQWEsdUJBQXVCLFVBQVUsdUJBQXVCLE1BQU0sMkJBQTJCLE1BQU0sb0JBQW9CLE1BQU0sZUFBZSxFQUFFLGNBQWMsK0JBQStCLG9CQUFvQiwwREFBMEQsMERBQTBELHNCQUFzQixTQUFTLGNBQWMsU0FBUyxlQUFlLGFBQWEscUJBQXFCLE1BQU0seUJBQXlCLE1BQU0sbUJBQW1CLGVBQWUsd0dBQXdHLGVBQWUsOEdBQThHLFlBQVksU0FBUyxjQUFjLGFBQWEsZ0JBQWdCLFFBQVEsaUJBQWlCLGNBQTQ1STtBQUNsbE0iLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtkZXRlY3QgYXMgUHJ9ZnJvbVwiZGV0ZWN0LWJyb3dzZXJcIjtpbXBvcnR7dG9NaWxpc2Vjb25kcyBhcyBXZSxGSVZFX01JTlVURVMgYXMganQsZnJvbU1pbGlzZWNvbmRzIGFzIEJyfWZyb21cIkB3YWxsZXRjb25uZWN0L3RpbWVcIjtpbXBvcnR7Z2V0RG9jdW1lbnQgYXMgemUsZ2V0TmF2aWdhdG9yIGFzIEN0LGdldExvY2F0aW9uIGFzIGt0fWZyb21cIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1nZXR0ZXJzXCI7aW1wb3J0e2dldFdpbmRvd01ldGFkYXRhIGFzIExyfWZyb21cIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1tZXRhZGF0YVwiO2ltcG9ydHtyZWNvdmVyQWRkcmVzcyBhcyBqcn1mcm9tXCJ2aWVtXCI7aW1wb3J0IENyIGZyb21cImJzNThcIjtpbXBvcnR7ZGVjb2RlSldUIGFzIGtyfWZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGhcIjtpbXBvcnR7dG9TdHJpbmcgYXMgSyxmcm9tU3RyaW5nIGFzIFcsY29uY2F0IGFzIEplfWZyb21cInVpbnQ4YXJyYXlzXCI7aW1wb3J0e2VjIGFzIERyfWZyb21cImVsbGlwdGljXCI7aW1wb3J0e1JFTEFZX0pTT05SUEMgYXMgTXJ9ZnJvbVwiQHdhbGxldGNvbm5lY3QvcmVsYXktYXBpXCI7Y29uc3QgUGU9XCI6XCI7ZnVuY3Rpb24gWWUoZSl7Y29uc3RbdCxuXT1lLnNwbGl0KFBlKTtyZXR1cm57bmFtZXNwYWNlOnQscmVmZXJlbmNlOm59fWZ1bmN0aW9uIER0KGUpe2NvbnN0e25hbWVzcGFjZTp0LHJlZmVyZW5jZTpufT1lO3JldHVyblt0LG5dLmpvaW4oUGUpfWZ1bmN0aW9uIFhlKGUpe2NvbnN0W3QsbixyXT1lLnNwbGl0KFBlKTtyZXR1cm57bmFtZXNwYWNlOnQscmVmZXJlbmNlOm4sYWRkcmVzczpyfX1mdW5jdGlvbiBNdChlKXtjb25zdHtuYW1lc3BhY2U6dCxyZWZlcmVuY2U6bixhZGRyZXNzOnJ9PWU7cmV0dXJuW3QsbixyXS5qb2luKFBlKX1mdW5jdGlvbiBaZShlLHQpe2NvbnN0IG49W107cmV0dXJuIGUuZm9yRWFjaChyPT57Y29uc3Qgbz10KHIpO24uaW5jbHVkZXMobyl8fG4ucHVzaChvKX0pLG59ZnVuY3Rpb24gVnQoZSl7Y29uc3R7YWRkcmVzczp0fT1YZShlKTtyZXR1cm4gdH1mdW5jdGlvbiBIdChlKXtjb25zdHtuYW1lc3BhY2U6dCxyZWZlcmVuY2U6bn09WGUoZSk7cmV0dXJuIER0KHtuYW1lc3BhY2U6dCxyZWZlcmVuY2U6bn0pfWZ1bmN0aW9uIFZyKGUsdCl7Y29uc3R7bmFtZXNwYWNlOm4scmVmZXJlbmNlOnJ9PVllKHQpO3JldHVybiBNdCh7bmFtZXNwYWNlOm4scmVmZXJlbmNlOnIsYWRkcmVzczplfSl9ZnVuY3Rpb24gSHIoZSl7cmV0dXJuIFplKGUsVnQpfWZ1bmN0aW9uIEt0KGUpe3JldHVybiBaZShlLEh0KX1mdW5jdGlvbiBLcihlLHQ9W10pe2NvbnN0IG49W107cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2gocj0+e2lmKHQubGVuZ3RoJiYhdC5pbmNsdWRlcyhyKSlyZXR1cm47Y29uc3Qgbz1lW3JdO24ucHVzaCguLi5vLmFjY291bnRzKX0pLG59ZnVuY3Rpb24gRnIoZSx0PVtdKXtjb25zdCBuPVtdO3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKHI9PntpZih0Lmxlbmd0aCYmIXQuaW5jbHVkZXMocikpcmV0dXJuO2NvbnN0IG89ZVtyXTtuLnB1c2goLi4uS3Qoby5hY2NvdW50cykpfSksbn1mdW5jdGlvbiBxcihlLHQ9W10pe2NvbnN0IG49W107cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2gocj0+e2lmKHQubGVuZ3RoJiYhdC5pbmNsdWRlcyhyKSlyZXR1cm47Y29uc3Qgbz1lW3JdO24ucHVzaCguLi5CZShyLG8pKX0pLG59ZnVuY3Rpb24gQmUoZSx0KXtyZXR1cm4gZS5pbmNsdWRlcyhcIjpcIik/W2VdOnQuY2hhaW5zfHxbXX1jb25zdCBGdD1cIlJlYWN0TmF0aXZlXCIsSD17cmVhY3ROYXRpdmU6XCJyZWFjdC1uYXRpdmVcIixub2RlOlwibm9kZVwiLGJyb3dzZXI6XCJicm93c2VyXCIsdW5rbm93bjpcInVua25vd25cIn0sTGU9XCIgXCIsR3I9XCI6XCIscXQ9XCIvXCIsUWU9MixXcj0xZTMsR3Q9XCJqc1wiO2Z1bmN0aW9uIGV0KCl7cmV0dXJuIHR5cGVvZiBwcm9jZXNzPFwidVwiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9uczxcInVcIiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZTxcInVcIn1mdW5jdGlvbiBuZSgpe3JldHVybiF6ZSgpJiYhIUN0KCkmJm5hdmlnYXRvci5wcm9kdWN0PT09RnR9ZnVuY3Rpb24genIoKXtyZXR1cm4gbmUoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLlBsYXRmb3JtKTxcInVcIiYmKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLlBsYXRmb3JtLk9TKT09PVwiYW5kcm9pZFwifWZ1bmN0aW9uIEpyKCl7cmV0dXJuIG5lKCkmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybSk8XCJ1XCImJihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybS5PUyk9PT1cImlvc1wifWZ1bmN0aW9uIEFlKCl7cmV0dXJuIWV0KCkmJiEhQ3QoKSYmISF6ZSgpfWZ1bmN0aW9uIHVlKCl7cmV0dXJuIG5lKCk/SC5yZWFjdE5hdGl2ZTpldCgpP0gubm9kZTpBZSgpP0guYnJvd3NlcjpILnVua25vd259ZnVuY3Rpb24gWXIoKXt2YXIgZTt0cnl7cmV0dXJuIG5lKCkmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5BcHBsaWNhdGlvbik8XCJ1XCI/KGU9Z2xvYmFsLkFwcGxpY2F0aW9uKT09bnVsbD92b2lkIDA6ZS5hcHBsaWNhdGlvbklkOnZvaWQgMH1jYXRjaHtyZXR1cm59fWZ1bmN0aW9uIFd0KGUsdCl7Y29uc3Qgbj1uZXcgVVJMU2VhcmNoUGFyYW1zKGUpO2Zvcihjb25zdCByIG9mIE9iamVjdC5rZXlzKHQpLnNvcnQoKSlpZih0Lmhhc093blByb3BlcnR5KHIpKXtjb25zdCBvPXRbcl07byE9PXZvaWQgMCYmbi5zZXQocixvKX1yZXR1cm4gbi50b1N0cmluZygpfWZ1bmN0aW9uIFhyKCl7cmV0dXJuIExyKCl8fHtuYW1lOlwiXCIsZGVzY3JpcHRpb246XCJcIix1cmw6XCJcIixpY29uczpbXCJcIl19fWZ1bmN0aW9uIFpyKGUsdCl7dmFyIG47Y29uc3Qgcj11ZSgpLG89e3Byb3RvY29sOmUsdmVyc2lvbjp0LGVudjpyfTtyZXR1cm4gcj09PVwiYnJvd3NlclwiJiYoby5ob3N0PSgobj1rdCgpKT09bnVsbD92b2lkIDA6bi5ob3N0KXx8XCJ1bmtub3duXCIpLG99ZnVuY3Rpb24genQoKXtpZih1ZSgpPT09SC5yZWFjdE5hdGl2ZSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLlBsYXRmb3JtKTxcInVcIil7Y29uc3R7T1M6bixWZXJzaW9uOnJ9PWdsb2JhbC5QbGF0Zm9ybTtyZXR1cm5bbixyXS5qb2luKFwiLVwiKX1jb25zdCBlPVByKCk7aWYoZT09PW51bGwpcmV0dXJuXCJ1bmtub3duXCI7Y29uc3QgdD1lLm9zP2Uub3MucmVwbGFjZShcIiBcIixcIlwiKS50b0xvd2VyQ2FzZSgpOlwidW5rbm93blwiO3JldHVybiBlLnR5cGU9PT1cImJyb3dzZXJcIj9bdCxlLm5hbWUsZS52ZXJzaW9uXS5qb2luKFwiLVwiKTpbdCxlLnZlcnNpb25dLmpvaW4oXCItXCIpfWZ1bmN0aW9uIEp0KCl7dmFyIGU7Y29uc3QgdD11ZSgpO3JldHVybiB0PT09SC5icm93c2VyP1t0LCgoZT1rdCgpKT09bnVsbD92b2lkIDA6ZS5ob3N0KXx8XCJ1bmtub3duXCJdLmpvaW4oXCI6XCIpOnR9ZnVuY3Rpb24gWXQoZSx0LG4pe2NvbnN0IHI9enQoKSxvPUp0KCk7cmV0dXJuW1tlLHRdLmpvaW4oXCItXCIpLFtHdCxuXS5qb2luKFwiLVwiKSxyLG9dLmpvaW4oXCIvXCIpfWZ1bmN0aW9uIFFyKHtwcm90b2NvbDplLHZlcnNpb246dCxyZWxheVVybDpuLHNka1ZlcnNpb246cixhdXRoOm8scHJvamVjdElkOnMsdXNlT25DbG9zZUV2ZW50OmksYnVuZGxlSWQ6YyxwYWNrYWdlTmFtZTp1fSl7Y29uc3QgYT1uLnNwbGl0KFwiP1wiKSxsPVl0KGUsdCxyKSxmPXthdXRoOm8sdWE6bCxwcm9qZWN0SWQ6cyx1c2VPbkNsb3NlRXZlbnQ6aXx8dm9pZCAwLHBhY2thZ2VOYW1lOnV8fHZvaWQgMCxidW5kbGVJZDpjfHx2b2lkIDB9LGQ9V3QoYVsxXXx8XCJcIixmKTtyZXR1cm4gYVswXStcIj9cIitkfWZ1bmN0aW9uIGVvKGUpe2xldCB0PShlLm1hdGNoKC9eW146XSsoPz06XFwvXFwvKS9naSl8fFtdKVswXTtjb25zdCBuPXR5cGVvZiB0PFwidVwiP2Uuc3BsaXQoXCI6Ly9cIilbMV06ZTtyZXR1cm4gdD10PT09XCJ3c3NcIj9cImh0dHBzXCI6XCJodHRwXCIsW3Qsbl0uam9pbihcIjovL1wiKX1mdW5jdGlvbiB0byhlLHQsbil7aWYoIWVbdF18fHR5cGVvZiBlW3RdIT09bil0aHJvdyBuZXcgRXJyb3IoYE1pc3Npbmcgb3IgaW52YWxpZCBcIiR7dH1cIiBwYXJhbWApfWZ1bmN0aW9uIFh0KGUsdD1RZSl7cmV0dXJuIFp0KGUuc3BsaXQocXQpLHQpfWZ1bmN0aW9uIG5vKGUpe3JldHVybiBYdChlKS5qb2luKExlKX1mdW5jdGlvbiByZShlLHQpe3JldHVybiBlLmZpbHRlcihuPT50LmluY2x1ZGVzKG4pKS5sZW5ndGg9PT1lLmxlbmd0aH1mdW5jdGlvbiBadChlLHQ9UWUpe3JldHVybiBlLnNsaWNlKE1hdGgubWF4KGUubGVuZ3RoLXQsMCkpfWZ1bmN0aW9uIHJvKGUpe3JldHVybiBPYmplY3QuZnJvbUVudHJpZXMoZS5lbnRyaWVzKCkpfWZ1bmN0aW9uIG9vKGUpe3JldHVybiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKGUpKX1mdW5jdGlvbiBzbyhlLHQpe2NvbnN0IG49e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2gocj0+e25bcl09dChlW3JdKX0pLG59Y29uc3QgaW89ZT0+ZTtmdW5jdGlvbiBRdChlKXtyZXR1cm4gZS50cmltKCkucmVwbGFjZSgvXlxcdy8sdD0+dC50b1VwcGVyQ2FzZSgpKX1mdW5jdGlvbiBjbyhlKXtyZXR1cm4gZS5zcGxpdChMZSkubWFwKHQ9PlF0KHQpKS5qb2luKExlKX1mdW5jdGlvbiBhbyhlPWp0LHQpe2NvbnN0IG49V2UoZXx8anQpO2xldCByLG8scyxpO3JldHVybntyZXNvbHZlOmM9PntzJiZyJiYoY2xlYXJUaW1lb3V0KHMpLHIoYyksaT1Qcm9taXNlLnJlc29sdmUoYykpfSxyZWplY3Q6Yz0+e3MmJm8mJihjbGVhclRpbWVvdXQocyksbyhjKSl9LGRvbmU6KCk9Pm5ldyBQcm9taXNlKChjLHUpPT57aWYoaSlyZXR1cm4gYyhpKTtzPXNldFRpbWVvdXQoKCk9Pntjb25zdCBhPW5ldyBFcnJvcih0KTtpPVByb21pc2UucmVqZWN0KGEpLHUoYSl9LG4pLHI9YyxvPXV9KX19ZnVuY3Rpb24gdW8oZSx0LG4pe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhyLG8pPT57Y29uc3Qgcz1zZXRUaW1lb3V0KCgpPT5vKG5ldyBFcnJvcihuKSksdCk7dHJ5e2NvbnN0IGk9YXdhaXQgZTtyKGkpfWNhdGNoKGkpe28oaSl9Y2xlYXJUaW1lb3V0KHMpfSl9ZnVuY3Rpb24gdHQoZSx0KXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIiYmdC5zdGFydHNXaXRoKGAke2V9OmApKXJldHVybiB0O2lmKGUudG9Mb3dlckNhc2UoKT09PVwidG9waWNcIil7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSBtdXN0IGJlIFwic3RyaW5nXCIgZm9yIGV4cGlyZXIgdGFyZ2V0IHR5cGU6IHRvcGljJyk7cmV0dXJuYHRvcGljOiR7dH1gfWVsc2UgaWYoZS50b0xvd2VyQ2FzZSgpPT09XCJpZFwiKXtpZih0eXBlb2YgdCE9XCJudW1iZXJcIil0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIG11c3QgYmUgXCJudW1iZXJcIiBmb3IgZXhwaXJlciB0YXJnZXQgdHlwZTogaWQnKTtyZXR1cm5gaWQ6JHt0fWB9dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGV4cGlyZXIgdGFyZ2V0IHR5cGU6ICR7ZX1gKX1mdW5jdGlvbiBmbyhlKXtyZXR1cm4gdHQoXCJ0b3BpY1wiLGUpfWZ1bmN0aW9uIGxvKGUpe3JldHVybiB0dChcImlkXCIsZSl9ZnVuY3Rpb24gaG8oZSl7Y29uc3RbdCxuXT1lLnNwbGl0KFwiOlwiKSxyPXtpZDp2b2lkIDAsdG9waWM6dm9pZCAwfTtpZih0PT09XCJ0b3BpY1wiJiZ0eXBlb2Ygbj09XCJzdHJpbmdcIilyLnRvcGljPW47ZWxzZSBpZih0PT09XCJpZFwiJiZOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcihuKSkpci5pZD1OdW1iZXIobik7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGFyZ2V0LCBleHBlY3RlZCBpZDpudW1iZXIgb3IgdG9waWM6c3RyaW5nLCBnb3QgJHt0fToke259YCk7cmV0dXJuIHJ9ZnVuY3Rpb24gcG8oZSx0KXtyZXR1cm4gQnIoKHR8fERhdGUubm93KCkpK1dlKGUpKX1mdW5jdGlvbiBnbyhlKXtyZXR1cm4gRGF0ZS5ub3coKT49V2UoZSl9ZnVuY3Rpb24geW8oZSx0KXtyZXR1cm5gJHtlfSR7dD9gOiR7dH1gOlwiXCJ9YH1mdW5jdGlvbiBRKGU9W10sdD1bXSl7cmV0dXJuWy4uLm5ldyBTZXQoWy4uLmUsLi4udF0pXX1hc3luYyBmdW5jdGlvbiBtbyh7aWQ6ZSx0b3BpYzp0LHdjRGVlcExpbms6bn0pe3ZhciByO3RyeXtpZighbilyZXR1cm47Y29uc3Qgbz10eXBlb2Ygbj09XCJzdHJpbmdcIj9KU09OLnBhcnNlKG4pOm4scz1vPy5ocmVmO2lmKHR5cGVvZiBzIT1cInN0cmluZ1wiKXJldHVybjtjb25zdCBpPWVuKHMsZSx0KSxjPXVlKCk7aWYoYz09PUguYnJvd3Nlcil7aWYoISgocj16ZSgpKSE9bnVsbCYmci5oYXNGb2N1cygpKSl7Y29uc29sZS53YXJuKFwiRG9jdW1lbnQgZG9lcyBub3QgaGF2ZSBmb2N1cywgc2tpcHBpbmcgZGVlcGxpbmsuXCIpO3JldHVybn10bihpKX1lbHNlIGM9PT1ILnJlYWN0TmF0aXZlJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuTGlua2luZyk8XCJ1XCImJmF3YWl0IGdsb2JhbC5MaW5raW5nLm9wZW5VUkwoaSl9Y2F0Y2gobyl7Y29uc29sZS5lcnJvcihvKX19ZnVuY3Rpb24gZW4oZSx0LG4pe2NvbnN0IHI9YHJlcXVlc3RJZD0ke3R9JnNlc3Npb25Ub3BpYz0ke259YDtlLmVuZHNXaXRoKFwiL1wiKSYmKGU9ZS5zbGljZSgwLC0xKSk7bGV0IG89YCR7ZX1gO2lmKGUuc3RhcnRzV2l0aChcImh0dHBzOi8vdC5tZVwiKSl7Y29uc3Qgcz1lLmluY2x1ZGVzKFwiP1wiKT9cIiZzdGFydGFwcD1cIjpcIj9zdGFydGFwcD1cIjtvPWAke299JHtzfSR7b24ociwhMCl9YH1lbHNlIG89YCR7b30vd2M/JHtyfWA7cmV0dXJuIG99ZnVuY3Rpb24gdG4oZSl7bGV0IHQ9XCJfc2VsZlwiO3JuKCk/dD1cIl90b3BcIjoobm4oKXx8ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIikpJiYodD1cIl9ibGFua1wiKSx3aW5kb3cub3BlbihlLHQsXCJub3JlZmVycmVyIG5vb3BlbmVyXCIpfWFzeW5jIGZ1bmN0aW9uIGJvKGUsdCl7bGV0IG49XCJcIjt0cnl7aWYoQWUoKSYmKG49bG9jYWxTdG9yYWdlLmdldEl0ZW0odCksbikpcmV0dXJuIG47bj1hd2FpdCBlLmdldEl0ZW0odCl9Y2F0Y2gocil7Y29uc29sZS5lcnJvcihyKX1yZXR1cm4gbn1mdW5jdGlvbiBudChlLHQpe3JldHVybiBlLmZpbHRlcihuPT50LmluY2x1ZGVzKG4pKX1mdW5jdGlvbiB3byhlLHQpe2lmKCFlLmluY2x1ZGVzKHQpKXJldHVybiBudWxsO2NvbnN0IG49ZS5zcGxpdCgvKFsmLD8sPV0pLykscj1uLmluZGV4T2YodCk7cmV0dXJuIG5bcisyXX1mdW5jdGlvbiBFbygpe3JldHVybiB0eXBlb2YgY3J5cHRvPFwidVwiJiZjcnlwdG8hPW51bGwmJmNyeXB0by5yYW5kb21VVUlEP2NyeXB0by5yYW5kb21VVUlEKCk6XCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2d1LGU9Pntjb25zdCB0PU1hdGgucmFuZG9tKCkqMTZ8MDtyZXR1cm4oZT09PVwieFwiP3Q6dCYzfDgpLnRvU3RyaW5nKDE2KX0pfWZ1bmN0aW9uIHZvKCl7cmV0dXJuIHR5cGVvZiBwcm9jZXNzPFwidVwiJiZwcm9jZXNzLmVudi5JU19WSVRFU1Q9PT1cInRydWVcIn1mdW5jdGlvbiBubigpe3JldHVybiB0eXBlb2Ygd2luZG93PFwidVwiJiYoISF3aW5kb3cuVGVsZWdyYW1XZWJ2aWV3UHJveHl8fCEhd2luZG93LlRlbGVncmFtfHwhIXdpbmRvdy5UZWxlZ3JhbVdlYnZpZXdQcm94eVByb3RvKX1mdW5jdGlvbiBybigpe3RyeXtyZXR1cm4gd2luZG93LnNlbGYhPT13aW5kb3cudG9wfWNhdGNoe3JldHVybiExfX1mdW5jdGlvbiBvbihlLHQ9ITEpe2NvbnN0IG49QnVmZmVyLmZyb20oZSkudG9TdHJpbmcoXCJiYXNlNjRcIik7cmV0dXJuIHQ/bi5yZXBsYWNlKC9bPV0vZyxcIlwiKTpufWZ1bmN0aW9uIHJ0KGUpe3JldHVybiBCdWZmZXIuZnJvbShlLFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmLThcIil9ZnVuY3Rpb24geG8oZSl7cmV0dXJuIG5ldyBQcm9taXNlKHQ9PnNldFRpbWVvdXQodCxlKSl9ZnVuY3Rpb24gTmUoZSl7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGUpfHxlPDApdGhyb3cgbmV3IEVycm9yKFwicG9zaXRpdmUgaW50ZWdlciBleHBlY3RlZCwgZ290IFwiK2UpfWZ1bmN0aW9uIElvKGUpe3JldHVybiBlIGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXlCdWZmZXIuaXNWaWV3KGUpJiZlLmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIn1mdW5jdGlvbiBqZShlLC4uLnQpe2lmKCFJbyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkXCIpO2lmKHQubGVuZ3RoPjAmJiF0LmluY2x1ZGVzKGUubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkIG9mIGxlbmd0aCBcIit0K1wiLCBnb3QgbGVuZ3RoPVwiK2UubGVuZ3RoKX1mdW5jdGlvbiBvdChlKXtpZih0eXBlb2YgZSE9XCJmdW5jdGlvblwifHx0eXBlb2YgZS5jcmVhdGUhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJIYXNoIHNob3VsZCBiZSB3cmFwcGVkIGJ5IHV0aWxzLndyYXBDb25zdHJ1Y3RvclwiKTtOZShlLm91dHB1dExlbiksTmUoZS5ibG9ja0xlbil9ZnVuY3Rpb24gbWUoZSx0PSEwKXtpZihlLmRlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoIGluc3RhbmNlIGhhcyBiZWVuIGRlc3Ryb3llZFwiKTtpZih0JiZlLmZpbmlzaGVkKXRocm93IG5ldyBFcnJvcihcIkhhc2gjZGlnZXN0KCkgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWRcIil9ZnVuY3Rpb24gc24oZSx0KXtqZShlKTtjb25zdCBuPXQub3V0cHV0TGVuO2lmKGUubGVuZ3RoPG4pdGhyb3cgbmV3IEVycm9yKFwiZGlnZXN0SW50bygpIGV4cGVjdHMgb3V0cHV0IGJ1ZmZlciBvZiBsZW5ndGggYXQgbGVhc3QgXCIrbil9Y29uc3QgQ2U9QmlnSW50KDIqKjMyLTEpLGNuPUJpZ0ludCgzMik7ZnVuY3Rpb24gT28oZSx0PSExKXtyZXR1cm4gdD97aDpOdW1iZXIoZSZDZSksbDpOdW1iZXIoZT4+Y24mQ2UpfTp7aDpOdW1iZXIoZT4+Y24mQ2UpfDAsbDpOdW1iZXIoZSZDZSl8MH19ZnVuY3Rpb24gQW8oZSx0PSExKXtsZXQgbj1uZXcgVWludDMyQXJyYXkoZS5sZW5ndGgpLHI9bmV3IFVpbnQzMkFycmF5KGUubGVuZ3RoKTtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3R7aDpzLGw6aX09T28oZVtvXSx0KTtbbltvXSxyW29dXT1bcyxpXX1yZXR1cm5bbixyXX1jb25zdCBObz0oZSx0LG4pPT5lPDxufHQ+Pj4zMi1uLFNvPShlLHQsbik9PnQ8PG58ZT4+PjMyLW4sVW89KGUsdCxuKT0+dDw8bi0zMnxlPj4+NjQtbixfbz0oZSx0LG4pPT5lPDxuLTMyfHQ+Pj42NC1uLGJlPXR5cGVvZiBnbG9iYWxUaGlzPT1cIm9iamVjdFwiJiZcImNyeXB0b1wiaW4gZ2xvYmFsVGhpcz9nbG9iYWxUaGlzLmNyeXB0bzp2b2lkIDA7ZnVuY3Rpb24gVG8oZSl7cmV0dXJuIG5ldyBVaW50MzJBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsTWF0aC5mbG9vcihlLmJ5dGVMZW5ndGgvNCkpfWZ1bmN0aW9uIHN0KGUpe3JldHVybiBuZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCl9ZnVuY3Rpb24gSihlLHQpe3JldHVybiBlPDwzMi10fGU+Pj50fWNvbnN0IGFuPW5ldyBVaW50OEFycmF5KG5ldyBVaW50MzJBcnJheShbMjg3NDU0MDIwXSkuYnVmZmVyKVswXT09PTY4O2Z1bmN0aW9uICRvKGUpe3JldHVybiBlPDwyNCY0Mjc4MTkwMDgwfGU8PDgmMTY3MTE2ODB8ZT4+PjgmNjUyODB8ZT4+PjI0JjI1NX1mdW5jdGlvbiB1bihlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdPSRvKGVbdF0pfWZ1bmN0aW9uIFJvKGUpe2lmKHR5cGVvZiBlIT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcInV0ZjhUb0J5dGVzIGV4cGVjdGVkIHN0cmluZywgZ290IFwiK3R5cGVvZiBlKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGUpKX1mdW5jdGlvbiB3ZShlKXtyZXR1cm4gdHlwZW9mIGU9PVwic3RyaW5nXCImJihlPVJvKGUpKSxqZShlKSxlfWNsYXNzIGl0e2Nsb25lKCl7cmV0dXJuIHRoaXMuX2Nsb25lSW50bygpfX1mdW5jdGlvbiBmbihlKXtjb25zdCB0PXI9PmUoKS51cGRhdGUod2UocikpLmRpZ2VzdCgpLG49ZSgpO3JldHVybiB0Lm91dHB1dExlbj1uLm91dHB1dExlbix0LmJsb2NrTGVuPW4uYmxvY2tMZW4sdC5jcmVhdGU9KCk9PmUoKSx0fWZ1bmN0aW9uIFNlKGU9MzIpe2lmKGJlJiZ0eXBlb2YgYmUuZ2V0UmFuZG9tVmFsdWVzPT1cImZ1bmN0aW9uXCIpcmV0dXJuIGJlLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShlKSk7aWYoYmUmJnR5cGVvZiBiZS5yYW5kb21CeXRlcz09XCJmdW5jdGlvblwiKXJldHVybiBiZS5yYW5kb21CeXRlcyhlKTt0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG11c3QgYmUgZGVmaW5lZFwiKX1jb25zdCBsbj1bXSxkbj1bXSxobj1bXSxQbz1CaWdJbnQoMCksVWU9QmlnSW50KDEpLEJvPUJpZ0ludCgyKSxMbz1CaWdJbnQoNyksam89QmlnSW50KDI1NiksQ289QmlnSW50KDExMyk7Zm9yKGxldCBlPTAsdD1VZSxuPTEscj0wO2U8MjQ7ZSsrKXtbbixyXT1bciwoMipuKzMqciklNV0sbG4ucHVzaCgyKig1KnIrbikpLGRuLnB1c2goKGUrMSkqKGUrMikvMiU2NCk7bGV0IG89UG87Zm9yKGxldCBzPTA7czw3O3MrKyl0PSh0PDxVZV4odD4+TG8pKkNvKSVqbyx0JkJvJiYob149VWU8PChVZTw8QmlnSW50KHMpKS1VZSk7aG4ucHVzaChvKX1jb25zdFtrbyxEb109QW8oaG4sITApLHBuPShlLHQsbik9Pm4+MzI/VW8oZSx0LG4pOk5vKGUsdCxuKSxnbj0oZSx0LG4pPT5uPjMyP19vKGUsdCxuKTpTbyhlLHQsbik7ZnVuY3Rpb24gTW8oZSx0PTI0KXtjb25zdCBuPW5ldyBVaW50MzJBcnJheSgxMCk7Zm9yKGxldCByPTI0LXQ7cjwyNDtyKyspe2ZvcihsZXQgaT0wO2k8MTA7aSsrKW5baV09ZVtpXV5lW2krMTBdXmVbaSsyMF1eZVtpKzMwXV5lW2krNDBdO2ZvcihsZXQgaT0wO2k8MTA7aSs9Mil7Y29uc3QgYz0oaSs4KSUxMCx1PShpKzIpJTEwLGE9blt1XSxsPW5bdSsxXSxmPXBuKGEsbCwxKV5uW2NdLGQ9Z24oYSxsLDEpXm5bYysxXTtmb3IobGV0IGc9MDtnPDUwO2crPTEwKWVbaStnXV49ZixlW2krZysxXV49ZH1sZXQgbz1lWzJdLHM9ZVszXTtmb3IobGV0IGk9MDtpPDI0O2krKyl7Y29uc3QgYz1kbltpXSx1PXBuKG8scyxjKSxhPWduKG8scyxjKSxsPWxuW2ldO289ZVtsXSxzPWVbbCsxXSxlW2xdPXUsZVtsKzFdPWF9Zm9yKGxldCBpPTA7aTw1MDtpKz0xMCl7Zm9yKGxldCBjPTA7YzwxMDtjKyspbltjXT1lW2krY107Zm9yKGxldCBjPTA7YzwxMDtjKyspZVtpK2NdXj1+blsoYysyKSUxMF0mblsoYys0KSUxMF19ZVswXV49a29bcl0sZVsxXV49RG9bcl19bi5maWxsKDApfWNsYXNzIEx0IGV4dGVuZHMgaXR7Y29uc3RydWN0b3IodCxuLHIsbz0hMSxzPTI0KXtpZihzdXBlcigpLHRoaXMuYmxvY2tMZW49dCx0aGlzLnN1ZmZpeD1uLHRoaXMub3V0cHV0TGVuPXIsdGhpcy5lbmFibGVYT0Y9byx0aGlzLnJvdW5kcz1zLHRoaXMucG9zPTAsdGhpcy5wb3NPdXQ9MCx0aGlzLmZpbmlzaGVkPSExLHRoaXMuZGVzdHJveWVkPSExLE5lKHIpLDA+PXRoaXMuYmxvY2tMZW58fHRoaXMuYmxvY2tMZW4+PTIwMCl0aHJvdyBuZXcgRXJyb3IoXCJTaGEzIHN1cHBvcnRzIG9ubHkga2VjY2FrLWYxNjAwIGZ1bmN0aW9uXCIpO3RoaXMuc3RhdGU9bmV3IFVpbnQ4QXJyYXkoMjAwKSx0aGlzLnN0YXRlMzI9VG8odGhpcy5zdGF0ZSl9a2VjY2FrKCl7YW58fHVuKHRoaXMuc3RhdGUzMiksTW8odGhpcy5zdGF0ZTMyLHRoaXMucm91bmRzKSxhbnx8dW4odGhpcy5zdGF0ZTMyKSx0aGlzLnBvc091dD0wLHRoaXMucG9zPTB9dXBkYXRlKHQpe21lKHRoaXMpO2NvbnN0e2Jsb2NrTGVuOm4sc3RhdGU6cn09dGhpczt0PXdlKHQpO2NvbnN0IG89dC5sZW5ndGg7Zm9yKGxldCBzPTA7czxvOyl7Y29uc3QgaT1NYXRoLm1pbihuLXRoaXMucG9zLG8tcyk7Zm9yKGxldCBjPTA7YzxpO2MrKylyW3RoaXMucG9zKytdXj10W3MrK107dGhpcy5wb3M9PT1uJiZ0aGlzLmtlY2NhaygpfXJldHVybiB0aGlzfWZpbmlzaCgpe2lmKHRoaXMuZmluaXNoZWQpcmV0dXJuO3RoaXMuZmluaXNoZWQ9ITA7Y29uc3R7c3RhdGU6dCxzdWZmaXg6bixwb3M6cixibG9ja0xlbjpvfT10aGlzO3Rbcl1ePW4sKG4mMTI4KSE9PTAmJnI9PT1vLTEmJnRoaXMua2VjY2FrKCksdFtvLTFdXj0xMjgsdGhpcy5rZWNjYWsoKX13cml0ZUludG8odCl7bWUodGhpcywhMSksamUodCksdGhpcy5maW5pc2goKTtjb25zdCBuPXRoaXMuc3RhdGUse2Jsb2NrTGVuOnJ9PXRoaXM7Zm9yKGxldCBvPTAscz10Lmxlbmd0aDtvPHM7KXt0aGlzLnBvc091dD49ciYmdGhpcy5rZWNjYWsoKTtjb25zdCBpPU1hdGgubWluKHItdGhpcy5wb3NPdXQscy1vKTt0LnNldChuLnN1YmFycmF5KHRoaXMucG9zT3V0LHRoaXMucG9zT3V0K2kpLG8pLHRoaXMucG9zT3V0Kz1pLG8rPWl9cmV0dXJuIHR9eG9mSW50byh0KXtpZighdGhpcy5lbmFibGVYT0YpdGhyb3cgbmV3IEVycm9yKFwiWE9GIGlzIG5vdCBwb3NzaWJsZSBmb3IgdGhpcyBpbnN0YW5jZVwiKTtyZXR1cm4gdGhpcy53cml0ZUludG8odCl9eG9mKHQpe3JldHVybiBOZSh0KSx0aGlzLnhvZkludG8obmV3IFVpbnQ4QXJyYXkodCkpfWRpZ2VzdEludG8odCl7aWYoc24odCx0aGlzKSx0aGlzLmZpbmlzaGVkKXRocm93IG5ldyBFcnJvcihcImRpZ2VzdCgpIHdhcyBhbHJlYWR5IGNhbGxlZFwiKTtyZXR1cm4gdGhpcy53cml0ZUludG8odCksdGhpcy5kZXN0cm95KCksdH1kaWdlc3QoKXtyZXR1cm4gdGhpcy5kaWdlc3RJbnRvKG5ldyBVaW50OEFycmF5KHRoaXMub3V0cHV0TGVuKSl9ZGVzdHJveSgpe3RoaXMuZGVzdHJveWVkPSEwLHRoaXMuc3RhdGUuZmlsbCgwKX1fY2xvbmVJbnRvKHQpe2NvbnN0e2Jsb2NrTGVuOm4sc3VmZml4OnIsb3V0cHV0TGVuOm8scm91bmRzOnMsZW5hYmxlWE9GOml9PXRoaXM7cmV0dXJuIHR8fCh0PW5ldyBMdChuLHIsbyxpLHMpKSx0LnN0YXRlMzIuc2V0KHRoaXMuc3RhdGUzMiksdC5wb3M9dGhpcy5wb3MsdC5wb3NPdXQ9dGhpcy5wb3NPdXQsdC5maW5pc2hlZD10aGlzLmZpbmlzaGVkLHQucm91bmRzPXMsdC5zdWZmaXg9cix0Lm91dHB1dExlbj1vLHQuZW5hYmxlWE9GPWksdC5kZXN0cm95ZWQ9dGhpcy5kZXN0cm95ZWQsdH19Y29uc3QgVm89KGUsdCxuKT0+Zm4oKCk9Pm5ldyBMdCh0LGUsbikpLEhvPVZvKDEsMTM2LDI1Ni84KSxLbz1cImh0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxXCI7ZnVuY3Rpb24gY3QoZSl7Y29uc3QgdD1gXHUwMDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4ke2UubGVuZ3RofWAsbj1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCtlKTtyZXR1cm5cIjB4XCIrQnVmZmVyLmZyb20oSG8obikpLnRvU3RyaW5nKFwiaGV4XCIpfWFzeW5jIGZ1bmN0aW9uIHluKGUsdCxuLHIsbyxzKXtzd2l0Y2gobi50KXtjYXNlXCJlaXAxOTFcIjpyZXR1cm4gYXdhaXQgbW4oZSx0LG4ucyk7Y2FzZVwiZWlwMTI3MVwiOnJldHVybiBhd2FpdCBibihlLHQsbi5zLHIsbyxzKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdmVyaWZ5U2lnbmF0dXJlIGZhaWxlZDogQXR0ZW1wdGVkIHRvIHZlcmlmeSBDYWNhb1NpZ25hdHVyZSB3aXRoIHVua25vd24gdHlwZTogJHtuLnR9YCl9fWFzeW5jIGZ1bmN0aW9uIG1uKGUsdCxuKXtyZXR1cm4oYXdhaXQganIoe2hhc2g6Y3QodCksc2lnbmF0dXJlOm59KSkudG9Mb3dlckNhc2UoKT09PWUudG9Mb3dlckNhc2UoKX1hc3luYyBmdW5jdGlvbiBibihlLHQsbixyLG8scyl7Y29uc3QgaT1ZZShyKTtpZighaS5uYW1lc3BhY2V8fCFpLnJlZmVyZW5jZSl0aHJvdyBuZXcgRXJyb3IoYGlzVmFsaWRFaXAxMjcxU2lnbmF0dXJlIGZhaWxlZDogY2hhaW5JZCBtdXN0IGJlIGluIENBSVAtMiBmb3JtYXQsIHJlY2VpdmVkOiAke3J9YCk7dHJ5e2NvbnN0IGM9XCIweDE2MjZiYTdlXCIsdT1cIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDBcIixhPVwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0MVwiLGw9bi5zdWJzdHJpbmcoMiksZj1jdCh0KS5zdWJzdHJpbmcoMiksZD1jK2YrdSthK2wsZz1hd2FpdCBmZXRjaChgJHtzfHxLb30vP2NoYWluSWQ9JHtyfSZwcm9qZWN0SWQ9JHtvfWAse21ldGhvZDpcIlBPU1RcIixib2R5OkpTT04uc3RyaW5naWZ5KHtpZDpGbygpLGpzb25ycGM6XCIyLjBcIixtZXRob2Q6XCJldGhfY2FsbFwiLHBhcmFtczpbe3RvOmUsZGF0YTpkfSxcImxhdGVzdFwiXX0pfSkse3Jlc3VsdDp5fT1hd2FpdCBnLmpzb24oKTtyZXR1cm4geT95LnNsaWNlKDAsYy5sZW5ndGgpLnRvTG93ZXJDYXNlKCk9PT1jLnRvTG93ZXJDYXNlKCk6ITF9Y2F0Y2goYyl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJpc1ZhbGlkRWlwMTI3MVNpZ25hdHVyZTogXCIsYyksITF9fWZ1bmN0aW9uIEZvKCl7cmV0dXJuIERhdGUubm93KCkrTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjFlMyl9ZnVuY3Rpb24gcW8oZSl7Y29uc3QgdD1hdG9iKGUpLG49bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKW5baV09dC5jaGFyQ29kZUF0KGkpO2NvbnN0IHI9blswXTtpZihyPT09MCl0aHJvdyBuZXcgRXJyb3IoXCJObyBzaWduYXR1cmVzIGZvdW5kXCIpO2NvbnN0IG89MStyKjY0O2lmKG4ubGVuZ3RoPG8pdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gZGF0YSB0b28gc2hvcnQgZm9yIGNsYWltZWQgc2lnbmF0dXJlIGNvdW50XCIpO2lmKG4ubGVuZ3RoPDEwMCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2FjdGlvbiB0b28gc2hvcnRcIik7Y29uc3Qgcz1CdWZmZXIuZnJvbShlLFwiYmFzZTY0XCIpLnNsaWNlKDEsNjUpO3JldHVybiBDci5lbmNvZGUocyl9dmFyIEdvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxXbz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyx6bz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyx3bj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLEpvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWW89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxFbj0oZSx0LG4pPT50IGluIGU/R28oZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpufSk6ZVt0XT1uLGF0PShlLHQpPT57Zm9yKHZhciBuIGluIHR8fCh0PXt9KSlKby5jYWxsKHQsbikmJkVuKGUsbix0W25dKTtpZih3bilmb3IodmFyIG4gb2Ygd24odCkpWW8uY2FsbCh0LG4pJiZFbihlLG4sdFtuXSk7cmV0dXJuIGV9LHZuPShlLHQpPT5XbyhlLHpvKHQpKTtjb25zdCBYbz1cImRpZDpwa2g6XCIsa2U9ZT0+ZT8uc3BsaXQoXCI6XCIpLHhuPWU9Pntjb25zdCB0PWUmJmtlKGUpO2lmKHQpcmV0dXJuIGUuaW5jbHVkZXMoWG8pP3RbM106dFsxXX0sSW49ZT0+e2NvbnN0IHQ9ZSYma2UoZSk7aWYodClyZXR1cm4gdFsyXStcIjpcIit0WzNdfSx1dD1lPT57Y29uc3QgdD1lJiZrZShlKTtpZih0KXJldHVybiB0LnBvcCgpfTthc3luYyBmdW5jdGlvbiBabyhlKXtjb25zdHtjYWNhbzp0LHByb2plY3RJZDpufT1lLHtzOnIscDpvfT10LHM9T24obyxvLmlzcyksaT11dChvLmlzcyk7cmV0dXJuIGF3YWl0IHluKGkscyxyLEluKG8uaXNzKSxuKX1jb25zdCBPbj0oZSx0KT0+e2NvbnN0IG49YCR7ZS5kb21haW59IHdhbnRzIHlvdSB0byBzaWduIGluIHdpdGggeW91ciBFdGhlcmV1bSBhY2NvdW50OmAscj11dCh0KTtpZighZS5hdWQmJiFlLnVyaSl0aHJvdyBuZXcgRXJyb3IoXCJFaXRoZXIgYGF1ZGAgb3IgYHVyaWAgaXMgcmVxdWlyZWQgdG8gY29uc3RydWN0IHRoZSBtZXNzYWdlXCIpO2xldCBvPWUuc3RhdGVtZW50fHx2b2lkIDA7Y29uc3Qgcz1gVVJJOiAke2UuYXVkfHxlLnVyaX1gLGk9YFZlcnNpb246ICR7ZS52ZXJzaW9ufWAsYz1gQ2hhaW4gSUQ6ICR7eG4odCl9YCx1PWBOb25jZTogJHtlLm5vbmNlfWAsYT1gSXNzdWVkIEF0OiAke2UuaWF0fWAsbD1lLmV4cD9gRXhwaXJhdGlvbiBUaW1lOiAke2UuZXhwfWA6dm9pZCAwLGY9ZS5uYmY/YE5vdCBCZWZvcmU6ICR7ZS5uYmZ9YDp2b2lkIDAsZD1lLnJlcXVlc3RJZD9gUmVxdWVzdCBJRDogJHtlLnJlcXVlc3RJZH1gOnZvaWQgMCxnPWUucmVzb3VyY2VzP2BSZXNvdXJjZXM6JHtlLnJlc291cmNlcy5tYXAoaD0+YFxuLSAke2h9YCkuam9pbihcIlwiKX1gOnZvaWQgMCx5PU1lKGUucmVzb3VyY2VzKTtpZih5KXtjb25zdCBoPW9lKHkpO289ZHQobyxoKX1yZXR1cm5bbixyLFwiXCIsbyxcIlwiLHMsaSxjLHUsYSxsLGYsZCxnXS5maWx0ZXIoaD0+aCE9bnVsbCkuam9pbihgXG5gKX07ZnVuY3Rpb24gUW8oZSx0LG4pe3JldHVybiBuLmluY2x1ZGVzKFwiZGlkOnBraDpcIil8fChuPWBkaWQ6cGtoOiR7bn1gKSx7aDp7dDpcImNhaXAxMjJcIn0scDp7aXNzOm4sZG9tYWluOmUuZG9tYWluLGF1ZDplLmF1ZCx2ZXJzaW9uOmUudmVyc2lvbixub25jZTplLm5vbmNlLGlhdDplLmlhdCxzdGF0ZW1lbnQ6ZS5zdGF0ZW1lbnQscmVxdWVzdElkOmUucmVxdWVzdElkLHJlc291cmNlczplLnJlc291cmNlcyxuYmY6ZS5uYmYsZXhwOmUuZXhwfSxzOnR9fWZ1bmN0aW9uIGVzKGUpe3ZhciB0O2NvbnN0e2F1dGhQYXlsb2FkOm4sY2hhaW5zOnIsbWV0aG9kczpvfT1lLHM9bi5zdGF0ZW1lbnR8fFwiXCI7aWYoIShyIT1udWxsJiZyLmxlbmd0aCkpcmV0dXJuIG47Y29uc3QgaT1uLmNoYWlucyxjPW50KGkscik7aWYoIShjIT1udWxsJiZjLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VwcG9ydGVkIGNoYWluc1wiKTtjb25zdCB1PUFuKG4ucmVzb3VyY2VzKTtpZighdSlyZXR1cm4gbjtZKHUpO2NvbnN0IGE9Tm4odSxcImVpcDE1NVwiKTtsZXQgbD1uPy5yZXNvdXJjZXN8fFtdO2lmKGEhPW51bGwmJmEubGVuZ3RoKXtjb25zdCBmPVNuKGEpLGQ9bnQoZixvKTtpZighKGQhPW51bGwmJmQubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoYFN1cHBvcnRlZCBtZXRob2RzIGRvbid0IHNhdGlzZnkgdGhlIHJlcXVlc3RlZDogJHtKU09OLnN0cmluZ2lmeShmKX0sIHN1cHBvcnRlZDogJHtKU09OLnN0cmluZ2lmeShvKX1gKTtjb25zdCBnPWZ0KFwicmVxdWVzdFwiLGQse2NoYWluczpjfSkseT0kbih1LFwiZWlwMTU1XCIsZyk7bD0oKHQ9bj8ucmVzb3VyY2VzKT09bnVsbD92b2lkIDA6dC5zbGljZSgwLC0xKSl8fFtdLGwucHVzaChEZSh5KSl9cmV0dXJuIHZuKGF0KHt9LG4pLHtzdGF0ZW1lbnQ6UG4ocyxNZShsKSksY2hhaW5zOmMscmVzb3VyY2VzOm4hPW51bGwmJm4ucmVzb3VyY2VzfHxsLmxlbmd0aD4wP2w6dm9pZCAwfSl9ZnVuY3Rpb24gQW4oZSl7Y29uc3QgdD1NZShlKTtpZih0JiZsdCh0KSlyZXR1cm4gb2UodCl9ZnVuY3Rpb24gdHMoZSx0KXt2YXIgbjtyZXR1cm4obj1lPy5hdHQpPT1udWxsP3ZvaWQgMDpuLmhhc093blByb3BlcnR5KHQpfWZ1bmN0aW9uIE5uKGUsdCl7dmFyIG4scjtyZXR1cm4obj1lPy5hdHQpIT1udWxsJiZuW3RdP09iamVjdC5rZXlzKChyPWU/LmF0dCk9PW51bGw/dm9pZCAwOnJbdF0pOltdfWZ1bmN0aW9uIG5zKGUpe3JldHVybiBlPy5tYXAodD0+T2JqZWN0LmtleXModCkpfHxbXX1mdW5jdGlvbiBTbihlKXtyZXR1cm4gZT8ubWFwKHQ9Pnt2YXIgbjtyZXR1cm4obj10LnNwbGl0KFwiL1wiKSk9PW51bGw/dm9pZCAwOm5bMV19KXx8W119ZnVuY3Rpb24gVW4oZSl7cmV0dXJuIEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KGUpKS50b1N0cmluZyhcImJhc2U2NFwiKX1mdW5jdGlvbiBfbihlKXtyZXR1cm4gSlNPTi5wYXJzZShCdWZmZXIuZnJvbShlLFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmLThcIikpfWZ1bmN0aW9uIFkoZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVjYXAgcHJvdmlkZWQsIHZhbHVlIGlzIHVuZGVmaW5lZFwiKTtpZighZS5hdHQpdGhyb3cgbmV3IEVycm9yKFwiTm8gYGF0dGAgcHJvcGVydHkgZm91bmRcIik7Y29uc3QgdD1PYmplY3Qua2V5cyhlLmF0dCk7aWYoISh0IT1udWxsJiZ0Lmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVzb3VyY2VzIGZvdW5kIGluIGBhdHRgIHByb3BlcnR5XCIpO3QuZm9yRWFjaChuPT57Y29uc3Qgcj1lLmF0dFtuXTtpZihBcnJheS5pc0FycmF5KHIpKXRocm93IG5ldyBFcnJvcihgUmVzb3VyY2UgbXVzdCBiZSBhbiBvYmplY3Q6ICR7bn1gKTtpZih0eXBlb2YgciE9XCJvYmplY3RcIil0aHJvdyBuZXcgRXJyb3IoYFJlc291cmNlIG11c3QgYmUgYW4gb2JqZWN0OiAke259YCk7aWYoIU9iamVjdC5rZXlzKHIpLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYFJlc291cmNlIG9iamVjdCBpcyBlbXB0eTogJHtufWApO09iamVjdC5rZXlzKHIpLmZvckVhY2gobz0+e2NvbnN0IHM9cltvXTtpZighQXJyYXkuaXNBcnJheShzKSl0aHJvdyBuZXcgRXJyb3IoYEFiaWxpdHkgbGltaXRzICR7b30gbXVzdCBiZSBhbiBhcnJheSBvZiBvYmplY3RzLCBmb3VuZDogJHtzfWApO2lmKCFzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYFZhbHVlIG9mICR7b30gaXMgZW1wdHkgYXJyYXksIG11c3QgYmUgYW4gYXJyYXkgd2l0aCBvYmplY3RzYCk7cy5mb3JFYWNoKGk9PntpZih0eXBlb2YgaSE9XCJvYmplY3RcIil0aHJvdyBuZXcgRXJyb3IoYEFiaWxpdHkgbGltaXRzICgke299KSBtdXN0IGJlIGFuIGFycmF5IG9mIG9iamVjdHMsIGZvdW5kOiAke2l9YCl9KX0pfSl9ZnVuY3Rpb24gVG4oZSx0LG4scj17fSl7cmV0dXJuIG4/LnNvcnQoKG8scyk9Pm8ubG9jYWxlQ29tcGFyZShzKSkse2F0dDp7W2VdOmZ0KHQsbixyKX19fWZ1bmN0aW9uICRuKGUsdCxuKXt2YXIgcjtlLmF0dFt0XT1hdCh7fSxuKTtjb25zdCBvPShyPU9iamVjdC5rZXlzKGUuYXR0KSk9PW51bGw/dm9pZCAwOnIuc29ydCgoaSxjKT0+aS5sb2NhbGVDb21wYXJlKGMpKSxzPXthdHQ6e319O3JldHVybiBvLnJlZHVjZSgoaSxjKT0+KGkuYXR0W2NdPWUuYXR0W2NdLGkpLHMpfWZ1bmN0aW9uIGZ0KGUsdCxuPXt9KXt0PXQ/LnNvcnQoKG8scyk9Pm8ubG9jYWxlQ29tcGFyZShzKSk7Y29uc3Qgcj10Lm1hcChvPT4oe1tgJHtlfS8ke299YF06W25dfSkpO3JldHVybiBPYmplY3QuYXNzaWduKHt9LC4uLnIpfWZ1bmN0aW9uIERlKGUpe3JldHVybiBZKGUpLGB1cm46cmVjYXA6JHtVbihlKS5yZXBsYWNlKC89L2csXCJcIil9YH1mdW5jdGlvbiBvZShlKXtjb25zdCB0PV9uKGUucmVwbGFjZShcInVybjpyZWNhcDpcIixcIlwiKSk7cmV0dXJuIFkodCksdH1mdW5jdGlvbiBycyhlLHQsbil7Y29uc3Qgcj1UbihlLHQsbik7cmV0dXJuIERlKHIpfWZ1bmN0aW9uIGx0KGUpe3JldHVybiBlJiZlLmluY2x1ZGVzKFwidXJuOnJlY2FwOlwiKX1mdW5jdGlvbiBvcyhlLHQpe2NvbnN0IG49b2UoZSkscj1vZSh0KSxvPVJuKG4scik7cmV0dXJuIERlKG8pfWZ1bmN0aW9uIFJuKGUsdCl7WShlKSxZKHQpO2NvbnN0IG49T2JqZWN0LmtleXMoZS5hdHQpLmNvbmNhdChPYmplY3Qua2V5cyh0LmF0dCkpLnNvcnQoKG8scyk9Pm8ubG9jYWxlQ29tcGFyZShzKSkscj17YXR0Ont9fTtyZXR1cm4gbi5mb3JFYWNoKG89Pnt2YXIgcyxpO09iamVjdC5rZXlzKCgocz1lLmF0dCk9PW51bGw/dm9pZCAwOnNbb10pfHx7fSkuY29uY2F0KE9iamVjdC5rZXlzKCgoaT10LmF0dCk9PW51bGw/dm9pZCAwOmlbb10pfHx7fSkpLnNvcnQoKGMsdSk9PmMubG9jYWxlQ29tcGFyZSh1KSkuZm9yRWFjaChjPT57dmFyIHUsYTtyLmF0dFtvXT12bihhdCh7fSxyLmF0dFtvXSkse1tjXTooKHU9ZS5hdHRbb10pPT1udWxsP3ZvaWQgMDp1W2NdKXx8KChhPXQuYXR0W29dKT09bnVsbD92b2lkIDA6YVtjXSl9KX0pfSkscn1mdW5jdGlvbiBkdChlPVwiXCIsdCl7WSh0KTtjb25zdCBuPVwiSSBmdXJ0aGVyIGF1dGhvcml6ZSB0aGUgc3RhdGVkIFVSSSB0byBwZXJmb3JtIHRoZSBmb2xsb3dpbmcgYWN0aW9ucyBvbiBteSBiZWhhbGY6IFwiO2lmKGUuaW5jbHVkZXMobikpcmV0dXJuIGU7Y29uc3Qgcj1bXTtsZXQgbz0wO09iamVjdC5rZXlzKHQuYXR0KS5mb3JFYWNoKGM9Pntjb25zdCB1PU9iamVjdC5rZXlzKHQuYXR0W2NdKS5tYXAoZj0+KHthYmlsaXR5OmYuc3BsaXQoXCIvXCIpWzBdLGFjdGlvbjpmLnNwbGl0KFwiL1wiKVsxXX0pKTt1LnNvcnQoKGYsZCk9PmYuYWN0aW9uLmxvY2FsZUNvbXBhcmUoZC5hY3Rpb24pKTtjb25zdCBhPXt9O3UuZm9yRWFjaChmPT57YVtmLmFiaWxpdHldfHwoYVtmLmFiaWxpdHldPVtdKSxhW2YuYWJpbGl0eV0ucHVzaChmLmFjdGlvbil9KTtjb25zdCBsPU9iamVjdC5rZXlzKGEpLm1hcChmPT4obysrLGAoJHtvfSkgJyR7Zn0nOiAnJHthW2ZdLmpvaW4oXCInLCAnXCIpfScgZm9yICcke2N9Jy5gKSk7ci5wdXNoKGwuam9pbihcIiwgXCIpLnJlcGxhY2UoXCIuLFwiLFwiLlwiKSl9KTtjb25zdCBzPXIuam9pbihcIiBcIiksaT1gJHtufSR7c31gO3JldHVybmAke2U/ZStcIiBcIjpcIlwifSR7aX1gfWZ1bmN0aW9uIHNzKGUpe3ZhciB0O2NvbnN0IG49b2UoZSk7WShuKTtjb25zdCByPSh0PW4uYXR0KT09bnVsbD92b2lkIDA6dC5laXAxNTU7cmV0dXJuIHI/T2JqZWN0LmtleXMocikubWFwKG89Pm8uc3BsaXQoXCIvXCIpWzFdKTpbXX1mdW5jdGlvbiBpcyhlKXtjb25zdCB0PW9lKGUpO1kodCk7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0LmF0dCkuZm9yRWFjaChyPT57T2JqZWN0LnZhbHVlcyhyKS5mb3JFYWNoKG89Pnt2YXIgczsocz1vPy5bMF0pIT1udWxsJiZzLmNoYWlucyYmbi5wdXNoKG9bMF0uY2hhaW5zKX0pfSksWy4uLm5ldyBTZXQobi5mbGF0KCkpXX1mdW5jdGlvbiBQbihlLHQpe2lmKCF0KXJldHVybiBlO2NvbnN0IG49b2UodCk7cmV0dXJuIFkobiksZHQoZSxuKX1mdW5jdGlvbiBNZShlKXtpZighZSlyZXR1cm47Y29uc3QgdD1lPy5bZS5sZW5ndGgtMV07cmV0dXJuIGx0KHQpP3Q6dm9pZCAwfWZ1bmN0aW9uIGh0KGUpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihlKXx8ZTwwKXRocm93IG5ldyBFcnJvcihcInBvc2l0aXZlIGludGVnZXIgZXhwZWN0ZWQsIGdvdCBcIitlKX1mdW5jdGlvbiBCbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fEFycmF5QnVmZmVyLmlzVmlldyhlKSYmZS5jb25zdHJ1Y3Rvci5uYW1lPT09XCJVaW50OEFycmF5XCJ9ZnVuY3Rpb24gRihlLC4uLnQpe2lmKCFCbihlKSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkXCIpO2lmKHQubGVuZ3RoPjAmJiF0LmluY2x1ZGVzKGUubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkIG9mIGxlbmd0aCBcIit0K1wiLCBnb3QgbGVuZ3RoPVwiK2UubGVuZ3RoKX1mdW5jdGlvbiBMbihlLHQ9ITApe2lmKGUuZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcIkhhc2ggaW5zdGFuY2UgaGFzIGJlZW4gZGVzdHJveWVkXCIpO2lmKHQmJmUuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCNkaWdlc3QoKSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFwiKX1mdW5jdGlvbiBjcyhlLHQpe0YoZSk7Y29uc3Qgbj10Lm91dHB1dExlbjtpZihlLmxlbmd0aDxuKXRocm93IG5ldyBFcnJvcihcImRpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0IFwiK24pfWZ1bmN0aW9uIGpuKGUpe2lmKHR5cGVvZiBlIT1cImJvb2xlYW5cIil0aHJvdyBuZXcgRXJyb3IoYGJvb2xlYW4gZXhwZWN0ZWQsIG5vdCAke2V9YCl9Y29uc3Qgc2U9ZT0+bmV3IFVpbnQzMkFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxNYXRoLmZsb29yKGUuYnl0ZUxlbmd0aC80KSksYXM9ZT0+bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpLHVzPW5ldyBVaW50OEFycmF5KG5ldyBVaW50MzJBcnJheShbMjg3NDU0MDIwXSkuYnVmZmVyKVswXT09PTY4O2lmKCF1cyl0aHJvdyBuZXcgRXJyb3IoXCJOb24gbGl0dGxlLWVuZGlhbiBoYXJkd2FyZSBpcyBub3Qgc3VwcG9ydGVkXCIpO2Z1bmN0aW9uIGZzKGUpe2lmKHR5cGVvZiBlIT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcInN0cmluZyBleHBlY3RlZFwiKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGUpKX1mdW5jdGlvbiBwdChlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIillPWZzKGUpO2Vsc2UgaWYoQm4oZSkpZT1ndChlKTtlbHNlIHRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWQsIGdvdCBcIit0eXBlb2YgZSk7cmV0dXJuIGV9ZnVuY3Rpb24gbHMoZSx0KXtpZih0PT1udWxsfHx0eXBlb2YgdCE9XCJvYmplY3RcIil0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zIG11c3QgYmUgZGVmaW5lZFwiKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihlLHQpfWZ1bmN0aW9uIGRzKGUsdCl7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtsZXQgbj0wO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKW58PWVbcl1edFtyXTtyZXR1cm4gbj09PTB9Y29uc3QgaHM9KGUsdCk9PntmdW5jdGlvbiBuKHIsLi4ubyl7aWYoRihyKSxlLm5vbmNlTGVuZ3RoIT09dm9pZCAwKXtjb25zdCBsPW9bMF07aWYoIWwpdGhyb3cgbmV3IEVycm9yKFwibm9uY2UgLyBpdiByZXF1aXJlZFwiKTtlLnZhclNpemVOb25jZT9GKGwpOkYobCxlLm5vbmNlTGVuZ3RoKX1jb25zdCBzPWUudGFnTGVuZ3RoO3MmJm9bMV0hPT12b2lkIDAmJkYob1sxXSk7Y29uc3QgaT10KHIsLi4ubyksYz0obCxmKT0+e2lmKGYhPT12b2lkIDApe2lmKGwhPT0yKXRocm93IG5ldyBFcnJvcihcImNpcGhlciBvdXRwdXQgbm90IHN1cHBvcnRlZFwiKTtGKGYpfX07bGV0IHU9ITE7cmV0dXJue2VuY3J5cHQobCxmKXtpZih1KXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmNyeXB0KCkgdHdpY2Ugd2l0aCBzYW1lIGtleSArIG5vbmNlXCIpO3JldHVybiB1PSEwLEYobCksYyhpLmVuY3J5cHQubGVuZ3RoLGYpLGkuZW5jcnlwdChsLGYpfSxkZWNyeXB0KGwsZil7aWYoRihsKSxzJiZsLmxlbmd0aDxzKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgY2lwaGVydGV4dCBsZW5ndGg6IHNtYWxsZXIgdGhhbiB0YWdMZW5ndGg9XCIrcyk7cmV0dXJuIGMoaS5kZWNyeXB0Lmxlbmd0aCxmKSxpLmRlY3J5cHQobCxmKX19fXJldHVybiBPYmplY3QuYXNzaWduKG4sZSksbn07ZnVuY3Rpb24gQ24oZSx0LG49ITApe2lmKHQ9PT12b2lkIDApcmV0dXJuIG5ldyBVaW50OEFycmF5KGUpO2lmKHQubGVuZ3RoIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG91dHB1dCBsZW5ndGgsIGV4cGVjdGVkIFwiK2UrXCIsIGdvdDogXCIrdC5sZW5ndGgpO2lmKG4mJiFwcyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG91dHB1dCwgbXVzdCBiZSBhbGlnbmVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIGtuKGUsdCxuLHIpe2lmKHR5cGVvZiBlLnNldEJpZ1VpbnQ2ND09XCJmdW5jdGlvblwiKXJldHVybiBlLnNldEJpZ1VpbnQ2NCh0LG4scik7Y29uc3Qgbz1CaWdJbnQoMzIpLHM9QmlnSW50KDQyOTQ5NjcyOTUpLGk9TnVtYmVyKG4+Pm8mcyksYz1OdW1iZXIobiZzKSx1PXI/NDowLGE9cj8wOjQ7ZS5zZXRVaW50MzIodCt1LGksciksZS5zZXRVaW50MzIodCthLGMscil9ZnVuY3Rpb24gcHMoZSl7cmV0dXJuIGUuYnl0ZU9mZnNldCU0PT09MH1mdW5jdGlvbiBndChlKXtyZXR1cm4gVWludDhBcnJheS5mcm9tKGUpfWZ1bmN0aW9uIEVlKC4uLmUpe2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0uZmlsbCgwKX1jb25zdCBEbj1lPT5VaW50OEFycmF5LmZyb20oZS5zcGxpdChcIlwiKS5tYXAodD0+dC5jaGFyQ29kZUF0KDApKSksZ3M9RG4oXCJleHBhbmQgMTYtYnl0ZSBrXCIpLHlzPURuKFwiZXhwYW5kIDMyLWJ5dGUga1wiKSxtcz1zZShncyksYnM9c2UoeXMpO2Z1bmN0aW9uIHgoZSx0KXtyZXR1cm4gZTw8dHxlPj4+MzItdH1mdW5jdGlvbiB5dChlKXtyZXR1cm4gZS5ieXRlT2Zmc2V0JTQ9PT0wfWNvbnN0IFZlPTY0LHdzPTE2LE1uPTIqKjMyLTEsVm49bmV3IFVpbnQzMkFycmF5O2Z1bmN0aW9uIEVzKGUsdCxuLHIsbyxzLGksYyl7Y29uc3QgdT1vLmxlbmd0aCxhPW5ldyBVaW50OEFycmF5KFZlKSxsPXNlKGEpLGY9eXQobykmJnl0KHMpLGQ9Zj9zZShvKTpWbixnPWY/c2Uocyk6Vm47Zm9yKGxldCB5PTA7eTx1O2krKyl7aWYoZSh0LG4scixsLGksYyksaT49TW4pdGhyb3cgbmV3IEVycm9yKFwiYXJ4OiBjb3VudGVyIG92ZXJmbG93XCIpO2NvbnN0IGg9TWF0aC5taW4oVmUsdS15KTtpZihmJiZoPT09VmUpe2NvbnN0IG09eS80O2lmKHklNCE9PTApdGhyb3cgbmV3IEVycm9yKFwiYXJ4OiBpbnZhbGlkIGJsb2NrIHBvc2l0aW9uXCIpO2ZvcihsZXQgTD0wLGI7TDx3cztMKyspYj1tK0wsZ1tiXT1kW2JdXmxbTF07eSs9VmU7Y29udGludWV9Zm9yKGxldCBtPTAsTDttPGg7bSsrKUw9eSttLHNbTF09b1tMXV5hW21dO3krPWh9fWZ1bmN0aW9uIHZzKGUsdCl7Y29uc3R7YWxsb3dTaG9ydEtleXM6bixleHRlbmROb25jZUZuOnIsY291bnRlckxlbmd0aDpvLGNvdW50ZXJSaWdodDpzLHJvdW5kczppfT1scyh7YWxsb3dTaG9ydEtleXM6ITEsY291bnRlckxlbmd0aDo4LGNvdW50ZXJSaWdodDohMSxyb3VuZHM6MjB9LHQpO2lmKHR5cGVvZiBlIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiY29yZSBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIGh0KG8pLGh0KGkpLGpuKHMpLGpuKG4pLChjLHUsYSxsLGY9MCk9PntGKGMpLEYodSksRihhKTtjb25zdCBkPWEubGVuZ3RoO2lmKGw9PT12b2lkIDAmJihsPW5ldyBVaW50OEFycmF5KGQpKSxGKGwpLGh0KGYpLGY8MHx8Zj49TW4pdGhyb3cgbmV3IEVycm9yKFwiYXJ4OiBjb3VudGVyIG92ZXJmbG93XCIpO2lmKGwubGVuZ3RoPGQpdGhyb3cgbmV3IEVycm9yKGBhcng6IG91dHB1dCAoJHtsLmxlbmd0aH0pIGlzIHNob3J0ZXIgdGhhbiBkYXRhICgke2R9KWApO2NvbnN0IGc9W107bGV0IHk9Yy5sZW5ndGgsaCxtO2lmKHk9PT0zMilnLnB1c2goaD1ndChjKSksbT1icztlbHNlIGlmKHk9PT0xNiYmbiloPW5ldyBVaW50OEFycmF5KDMyKSxoLnNldChjKSxoLnNldChjLDE2KSxtPW1zLGcucHVzaChoKTtlbHNlIHRocm93IG5ldyBFcnJvcihgYXJ4OiBpbnZhbGlkIDMyLWJ5dGUga2V5LCBnb3QgbGVuZ3RoPSR7eX1gKTt5dCh1KXx8Zy5wdXNoKHU9Z3QodSkpO2NvbnN0IEw9c2UoaCk7aWYocil7aWYodS5sZW5ndGghPT0yNCl0aHJvdyBuZXcgRXJyb3IoXCJhcng6IGV4dGVuZGVkIG5vbmNlIG11c3QgYmUgMjQgYnl0ZXNcIik7cihtLEwsc2UodS5zdWJhcnJheSgwLDE2KSksTCksdT11LnN1YmFycmF5KDE2KX1jb25zdCBiPTE2LW87aWYoYiE9PXUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgYXJ4OiBub25jZSBtdXN0IGJlICR7Yn0gb3IgMTYgYnl0ZXNgKTtpZihiIT09MTIpe2NvbnN0IE89bmV3IFVpbnQ4QXJyYXkoMTIpO08uc2V0KHUscz8wOjEyLXUubGVuZ3RoKSx1PU8sZy5wdXNoKHUpfWNvbnN0IF89c2UodSk7cmV0dXJuIEVzKGUsbSxMLF8sYSxsLGYsaSksRWUoLi4uZyksbH19Y29uc3QgTT0oZSx0KT0+ZVt0KytdJjI1NXwoZVt0KytdJjI1NSk8PDg7Y2xhc3MgeHN7Y29uc3RydWN0b3IodCl7dGhpcy5ibG9ja0xlbj0xNix0aGlzLm91dHB1dExlbj0xNix0aGlzLmJ1ZmZlcj1uZXcgVWludDhBcnJheSgxNiksdGhpcy5yPW5ldyBVaW50MTZBcnJheSgxMCksdGhpcy5oPW5ldyBVaW50MTZBcnJheSgxMCksdGhpcy5wYWQ9bmV3IFVpbnQxNkFycmF5KDgpLHRoaXMucG9zPTAsdGhpcy5maW5pc2hlZD0hMSx0PXB0KHQpLEYodCwzMik7Y29uc3Qgbj1NKHQsMCkscj1NKHQsMiksbz1NKHQsNCkscz1NKHQsNiksaT1NKHQsOCksYz1NKHQsMTApLHU9TSh0LDEyKSxhPU0odCwxNCk7dGhpcy5yWzBdPW4mODE5MSx0aGlzLnJbMV09KG4+Pj4xM3xyPDwzKSY4MTkxLHRoaXMuclsyXT0ocj4+PjEwfG88PDYpJjc5MzksdGhpcy5yWzNdPShvPj4+N3xzPDw5KSY4MTkxLHRoaXMucls0XT0ocz4+PjR8aTw8MTIpJjI1NSx0aGlzLnJbNV09aT4+PjEmODE5MCx0aGlzLnJbNl09KGk+Pj4xNHxjPDwyKSY4MTkxLHRoaXMucls3XT0oYz4+PjExfHU8PDUpJjgwNjUsdGhpcy5yWzhdPSh1Pj4+OHxhPDw4KSY4MTkxLHRoaXMucls5XT1hPj4+NSYxMjc7Zm9yKGxldCBsPTA7bDw4O2wrKyl0aGlzLnBhZFtsXT1NKHQsMTYrMipsKX1wcm9jZXNzKHQsbixyPSExKXtjb25zdCBvPXI/MDoyMDQ4LHtoOnMscjppfT10aGlzLGM9aVswXSx1PWlbMV0sYT1pWzJdLGw9aVszXSxmPWlbNF0sZD1pWzVdLGc9aVs2XSx5PWlbN10saD1pWzhdLG09aVs5XSxMPU0odCxuKzApLGI9TSh0LG4rMiksXz1NKHQsbis0KSxPPU0odCxuKzYpLGs9TSh0LG4rOCksRT1NKHQsbisxMCksQj1NKHQsbisxMiksaj1NKHQsbisxNCk7bGV0IHY9c1swXSsoTCY4MTkxKSxJPXNbMV0rKChMPj4+MTN8Yjw8MykmODE5MSksdz1zWzJdKygoYj4+PjEwfF88PDYpJjgxOTEpLFI9c1szXSsoKF8+Pj43fE88PDkpJjgxOTEpLEE9c1s0XSsoKE8+Pj40fGs8PDEyKSY4MTkxKSxUPXNbNV0rKGs+Pj4xJjgxOTEpLE49c1s2XSsoKGs+Pj4xNHxFPDwyKSY4MTkxKSxTPXNbN10rKChFPj4+MTF8Qjw8NSkmODE5MSksVT1zWzhdKygoQj4+Pjh8ajw8OCkmODE5MSksJD1zWzldKyhqPj4+NXxvKSxwPTAsQz1wK3YqYytJKig1Km0pK3cqKDUqaCkrUiooNSp5KStBKig1KmcpO3A9Qz4+PjEzLEMmPTgxOTEsQys9VCooNSpkKStOKig1KmYpK1MqKDUqbCkrVSooNSphKSskKig1KnUpLHArPUM+Pj4xMyxDJj04MTkxO2xldCBEPXArdip1K0kqYyt3Kig1Km0pK1IqKDUqaCkrQSooNSp5KTtwPUQ+Pj4xMyxEJj04MTkxLEQrPVQqKDUqZykrTiooNSpkKStTKig1KmYpK1UqKDUqbCkrJCooNSphKSxwKz1EPj4+MTMsRCY9ODE5MTtsZXQgUD1wK3YqYStJKnUrdypjK1IqKDUqbSkrQSooNSpoKTtwPVA+Pj4xMyxQJj04MTkxLFArPVQqKDUqeSkrTiooNSpnKStTKig1KmQpK1UqKDUqZikrJCooNSpsKSxwKz1QPj4+MTMsUCY9ODE5MTtsZXQgRz1wK3YqbCtJKmErdyp1K1IqYytBKig1Km0pO3A9Rz4+PjEzLEcmPTgxOTEsRys9VCooNSpoKStOKig1KnkpK1MqKDUqZykrVSooNSpkKSskKig1KmYpLHArPUc+Pj4xMyxHJj04MTkxO2xldCBYPXArdipmK0kqbCt3KmErUip1K0EqYztwPVg+Pj4xMyxYJj04MTkxLFgrPVQqKDUqbSkrTiooNSpoKStTKig1KnkpK1UqKDUqZykrJCooNSpkKSxwKz1YPj4+MTMsWCY9ODE5MTtsZXQgWj1wK3YqZCtJKmYrdypsK1IqYStBKnU7cD1aPj4+MTMsWiY9ODE5MSxaKz1UKmMrTiooNSptKStTKig1KmgpK1UqKDUqeSkrJCooNSpnKSxwKz1aPj4+MTMsWiY9ODE5MTtsZXQgaGU9cCt2KmcrSSpkK3cqZitSKmwrQSphO3A9aGU+Pj4xMyxoZSY9ODE5MSxoZSs9VCp1K04qYytTKig1Km0pK1UqKDUqaCkrJCooNSp5KSxwKz1oZT4+PjEzLGhlJj04MTkxO2xldCBwZT1wK3YqeStJKmcrdypkK1IqZitBKmw7cD1wZT4+PjEzLHBlJj04MTkxLHBlKz1UKmErTip1K1MqYytVKig1Km0pKyQqKDUqaCkscCs9cGU+Pj4xMyxwZSY9ODE5MTtsZXQgZ2U9cCt2KmgrSSp5K3cqZytSKmQrQSpmO3A9Z2U+Pj4xMyxnZSY9ODE5MSxnZSs9VCpsK04qYStTKnUrVSpjKyQqKDUqbSkscCs9Z2U+Pj4xMyxnZSY9ODE5MTtsZXQgeWU9cCt2Km0rSSpoK3cqeStSKmcrQSpkO3A9eWU+Pj4xMyx5ZSY9ODE5MSx5ZSs9VCpmK04qbCtTKmErVSp1KyQqYyxwKz15ZT4+PjEzLHllJj04MTkxLHA9KHA8PDIpK3B8MCxwPXArQ3wwLEM9cCY4MTkxLHA9cD4+PjEzLEQrPXAsc1swXT1DLHNbMV09RCxzWzJdPVAsc1szXT1HLHNbNF09WCxzWzVdPVosc1s2XT1oZSxzWzddPXBlLHNbOF09Z2Usc1s5XT15ZX1maW5hbGl6ZSgpe2NvbnN0e2g6dCxwYWQ6bn09dGhpcyxyPW5ldyBVaW50MTZBcnJheSgxMCk7bGV0IG89dFsxXT4+PjEzO3RbMV0mPTgxOTE7Zm9yKGxldCBjPTI7YzwxMDtjKyspdFtjXSs9byxvPXRbY10+Pj4xMyx0W2NdJj04MTkxO3RbMF0rPW8qNSxvPXRbMF0+Pj4xMyx0WzBdJj04MTkxLHRbMV0rPW8sbz10WzFdPj4+MTMsdFsxXSY9ODE5MSx0WzJdKz1vLHJbMF09dFswXSs1LG89clswXT4+PjEzLHJbMF0mPTgxOTE7Zm9yKGxldCBjPTE7YzwxMDtjKyspcltjXT10W2NdK28sbz1yW2NdPj4+MTMscltjXSY9ODE5MTtyWzldLT04MTkyO2xldCBzPShvXjEpLTE7Zm9yKGxldCBjPTA7YzwxMDtjKyspcltjXSY9cztzPX5zO2ZvcihsZXQgYz0wO2M8MTA7YysrKXRbY109dFtjXSZzfHJbY107dFswXT0odFswXXx0WzFdPDwxMykmNjU1MzUsdFsxXT0odFsxXT4+PjN8dFsyXTw8MTApJjY1NTM1LHRbMl09KHRbMl0+Pj42fHRbM108PDcpJjY1NTM1LHRbM109KHRbM10+Pj45fHRbNF08PDQpJjY1NTM1LHRbNF09KHRbNF0+Pj4xMnx0WzVdPDwxfHRbNl08PDE0KSY2NTUzNSx0WzVdPSh0WzZdPj4+Mnx0WzddPDwxMSkmNjU1MzUsdFs2XT0odFs3XT4+PjV8dFs4XTw8OCkmNjU1MzUsdFs3XT0odFs4XT4+Pjh8dFs5XTw8NSkmNjU1MzU7bGV0IGk9dFswXStuWzBdO3RbMF09aSY2NTUzNTtmb3IobGV0IGM9MTtjPDg7YysrKWk9KHRbY10rbltjXXwwKSsoaT4+PjE2KXwwLHRbY109aSY2NTUzNTtFZShyKX11cGRhdGUodCl7TG4odGhpcyk7Y29uc3R7YnVmZmVyOm4sYmxvY2tMZW46cn09dGhpczt0PXB0KHQpO2NvbnN0IG89dC5sZW5ndGg7Zm9yKGxldCBzPTA7czxvOyl7Y29uc3QgaT1NYXRoLm1pbihyLXRoaXMucG9zLG8tcyk7aWYoaT09PXIpe2Zvcig7cjw9by1zO3MrPXIpdGhpcy5wcm9jZXNzKHQscyk7Y29udGludWV9bi5zZXQodC5zdWJhcnJheShzLHMraSksdGhpcy5wb3MpLHRoaXMucG9zKz1pLHMrPWksdGhpcy5wb3M9PT1yJiYodGhpcy5wcm9jZXNzKG4sMCwhMSksdGhpcy5wb3M9MCl9cmV0dXJuIHRoaXN9ZGVzdHJveSgpe0VlKHRoaXMuaCx0aGlzLnIsdGhpcy5idWZmZXIsdGhpcy5wYWQpfWRpZ2VzdEludG8odCl7TG4odGhpcyksY3ModCx0aGlzKSx0aGlzLmZpbmlzaGVkPSEwO2NvbnN0e2J1ZmZlcjpuLGg6cn09dGhpcztsZXR7cG9zOm99PXRoaXM7aWYobyl7Zm9yKG5bbysrXT0xO288MTY7bysrKW5bb109MDt0aGlzLnByb2Nlc3MobiwwLCEwKX10aGlzLmZpbmFsaXplKCk7bGV0IHM9MDtmb3IobGV0IGk9MDtpPDg7aSsrKXRbcysrXT1yW2ldPj4+MCx0W3MrK109cltpXT4+Pjg7cmV0dXJuIHR9ZGlnZXN0KCl7Y29uc3R7YnVmZmVyOnQsb3V0cHV0TGVuOm59PXRoaXM7dGhpcy5kaWdlc3RJbnRvKHQpO2NvbnN0IHI9dC5zbGljZSgwLG4pO3JldHVybiB0aGlzLmRlc3Ryb3koKSxyfX1mdW5jdGlvbiBJcyhlKXtjb25zdCB0PShyLG8pPT5lKG8pLnVwZGF0ZShwdChyKSkuZGlnZXN0KCksbj1lKG5ldyBVaW50OEFycmF5KDMyKSk7cmV0dXJuIHQub3V0cHV0TGVuPW4ub3V0cHV0TGVuLHQuYmxvY2tMZW49bi5ibG9ja0xlbix0LmNyZWF0ZT1yPT5lKHIpLHR9Y29uc3QgT3M9SXMoZT0+bmV3IHhzKGUpKTtmdW5jdGlvbiBBcyhlLHQsbixyLG8scz0yMCl7bGV0IGk9ZVswXSxjPWVbMV0sdT1lWzJdLGE9ZVszXSxsPXRbMF0sZj10WzFdLGQ9dFsyXSxnPXRbM10seT10WzRdLGg9dFs1XSxtPXRbNl0sTD10WzddLGI9byxfPW5bMF0sTz1uWzFdLGs9blsyXSxFPWksQj1jLGo9dSx2PWEsST1sLHc9ZixSPWQsQT1nLFQ9eSxOPWgsUz1tLFU9TCwkPWIscD1fLEM9TyxEPWs7Zm9yKGxldCBHPTA7RzxzO0crPTIpRT1FK0l8MCwkPXgoJF5FLDE2KSxUPVQrJHwwLEk9eChJXlQsMTIpLEU9RStJfDAsJD14KCReRSw4KSxUPVQrJHwwLEk9eChJXlQsNyksQj1CK3d8MCxwPXgocF5CLDE2KSxOPU4rcHwwLHc9eCh3Xk4sMTIpLEI9Qit3fDAscD14KHBeQiw4KSxOPU4rcHwwLHc9eCh3Xk4sNyksaj1qK1J8MCxDPXgoQ15qLDE2KSxTPVMrQ3wwLFI9eChSXlMsMTIpLGo9aitSfDAsQz14KENeaiw4KSxTPVMrQ3wwLFI9eChSXlMsNyksdj12K0F8MCxEPXgoRF52LDE2KSxVPVUrRHwwLEE9eChBXlUsMTIpLHY9ditBfDAsRD14KERediw4KSxVPVUrRHwwLEE9eChBXlUsNyksRT1FK3d8MCxEPXgoRF5FLDE2KSxTPVMrRHwwLHc9eCh3XlMsMTIpLEU9RSt3fDAsRD14KEReRSw4KSxTPVMrRHwwLHc9eCh3XlMsNyksQj1CK1J8MCwkPXgoJF5CLDE2KSxVPVUrJHwwLFI9eChSXlUsMTIpLEI9QitSfDAsJD14KCReQiw4KSxVPVUrJHwwLFI9eChSXlUsNyksaj1qK0F8MCxwPXgocF5qLDE2KSxUPVQrcHwwLEE9eChBXlQsMTIpLGo9aitBfDAscD14KHBeaiw4KSxUPVQrcHwwLEE9eChBXlQsNyksdj12K0l8MCxDPXgoQ152LDE2KSxOPU4rQ3wwLEk9eChJXk4sMTIpLHY9ditJfDAsQz14KENediw4KSxOPU4rQ3wwLEk9eChJXk4sNyk7bGV0IFA9MDtyW1ArK109aStFfDAscltQKytdPWMrQnwwLHJbUCsrXT11K2p8MCxyW1ArK109YSt2fDAscltQKytdPWwrSXwwLHJbUCsrXT1mK3d8MCxyW1ArK109ZCtSfDAscltQKytdPWcrQXwwLHJbUCsrXT15K1R8MCxyW1ArK109aCtOfDAscltQKytdPW0rU3wwLHJbUCsrXT1MK1V8MCxyW1ArK109YiskfDAscltQKytdPV8rcHwwLHJbUCsrXT1PK0N8MCxyW1ArK109aytEfDB9Y29uc3QgTnM9dnMoQXMse2NvdW50ZXJSaWdodDohMSxjb3VudGVyTGVuZ3RoOjQsYWxsb3dTaG9ydEtleXM6ITF9KSxTcz1uZXcgVWludDhBcnJheSgxNiksSG49KGUsdCk9PntlLnVwZGF0ZSh0KTtjb25zdCBuPXQubGVuZ3RoJTE2O24mJmUudXBkYXRlKFNzLnN1YmFycmF5KG4pKX0sVXM9bmV3IFVpbnQ4QXJyYXkoMzIpO2Z1bmN0aW9uIEtuKGUsdCxuLHIsbyl7Y29uc3Qgcz1lKHQsbixVcyksaT1Pcy5jcmVhdGUocyk7byYmSG4oaSxvKSxIbihpLHIpO2NvbnN0IGM9bmV3IFVpbnQ4QXJyYXkoMTYpLHU9YXMoYyk7a24odSwwLEJpZ0ludChvP28ubGVuZ3RoOjApLCEwKSxrbih1LDgsQmlnSW50KHIubGVuZ3RoKSwhMCksaS51cGRhdGUoYyk7Y29uc3QgYT1pLmRpZ2VzdCgpO3JldHVybiBFZShzLGMpLGF9Y29uc3QgX3M9ZT0+KHQsbixyKT0+KHtlbmNyeXB0KHMsaSl7Y29uc3QgYz1zLmxlbmd0aDtpPUNuKGMrMTYsaSwhMSksaS5zZXQocyk7Y29uc3QgdT1pLnN1YmFycmF5KDAsLTE2KTtlKHQsbix1LHUsMSk7Y29uc3QgYT1LbihlLHQsbix1LHIpO3JldHVybiBpLnNldChhLGMpLEVlKGEpLGl9LGRlY3J5cHQocyxpKXtpPUNuKHMubGVuZ3RoLTE2LGksITEpO2NvbnN0IGM9cy5zdWJhcnJheSgwLC0xNiksdT1zLnN1YmFycmF5KC0xNiksYT1LbihlLHQsbixjLHIpO2lmKCFkcyh1LGEpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgdGFnXCIpO3JldHVybiBpLnNldChzLnN1YmFycmF5KDAsLTE2KSksZSh0LG4saSxpLDEpLEVlKGEpLGl9fSksRm49aHMoe2Jsb2NrU2l6ZTo2NCxub25jZUxlbmd0aDoxMix0YWdMZW5ndGg6MTZ9LF9zKE5zKSk7Y2xhc3MgcW4gZXh0ZW5kcyBpdHtjb25zdHJ1Y3Rvcih0LG4pe3N1cGVyKCksdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMSxvdCh0KTtjb25zdCByPXdlKG4pO2lmKHRoaXMuaUhhc2g9dC5jcmVhdGUoKSx0eXBlb2YgdGhpcy5pSGFzaC51cGRhdGUhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBpbnN0YW5jZSBvZiBjbGFzcyB3aGljaCBleHRlbmRzIHV0aWxzLkhhc2hcIik7dGhpcy5ibG9ja0xlbj10aGlzLmlIYXNoLmJsb2NrTGVuLHRoaXMub3V0cHV0TGVuPXRoaXMuaUhhc2gub3V0cHV0TGVuO2NvbnN0IG89dGhpcy5ibG9ja0xlbixzPW5ldyBVaW50OEFycmF5KG8pO3Muc2V0KHIubGVuZ3RoPm8/dC5jcmVhdGUoKS51cGRhdGUocikuZGlnZXN0KCk6cik7Zm9yKGxldCBpPTA7aTxzLmxlbmd0aDtpKyspc1tpXV49NTQ7dGhpcy5pSGFzaC51cGRhdGUocyksdGhpcy5vSGFzaD10LmNyZWF0ZSgpO2ZvcihsZXQgaT0wO2k8cy5sZW5ndGg7aSsrKXNbaV1ePTEwNjt0aGlzLm9IYXNoLnVwZGF0ZShzKSxzLmZpbGwoMCl9dXBkYXRlKHQpe3JldHVybiBtZSh0aGlzKSx0aGlzLmlIYXNoLnVwZGF0ZSh0KSx0aGlzfWRpZ2VzdEludG8odCl7bWUodGhpcyksamUodCx0aGlzLm91dHB1dExlbiksdGhpcy5maW5pc2hlZD0hMCx0aGlzLmlIYXNoLmRpZ2VzdEludG8odCksdGhpcy5vSGFzaC51cGRhdGUodCksdGhpcy5vSGFzaC5kaWdlc3RJbnRvKHQpLHRoaXMuZGVzdHJveSgpfWRpZ2VzdCgpe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkodGhpcy5vSGFzaC5vdXRwdXRMZW4pO3JldHVybiB0aGlzLmRpZ2VzdEludG8odCksdH1fY2xvbmVJbnRvKHQpe3R8fCh0PU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLHt9KSk7Y29uc3R7b0hhc2g6bixpSGFzaDpyLGZpbmlzaGVkOm8sZGVzdHJveWVkOnMsYmxvY2tMZW46aSxvdXRwdXRMZW46Y309dGhpcztyZXR1cm4gdD10LHQuZmluaXNoZWQ9byx0LmRlc3Ryb3llZD1zLHQuYmxvY2tMZW49aSx0Lm91dHB1dExlbj1jLHQub0hhc2g9bi5fY2xvbmVJbnRvKHQub0hhc2gpLHQuaUhhc2g9ci5fY2xvbmVJbnRvKHQuaUhhc2gpLHR9ZGVzdHJveSgpe3RoaXMuZGVzdHJveWVkPSEwLHRoaXMub0hhc2guZGVzdHJveSgpLHRoaXMuaUhhc2guZGVzdHJveSgpfX1jb25zdCBtdD0oZSx0LG4pPT5uZXcgcW4oZSx0KS51cGRhdGUobikuZGlnZXN0KCk7bXQuY3JlYXRlPShlLHQpPT5uZXcgcW4oZSx0KTtmdW5jdGlvbiBUcyhlLHQsbil7cmV0dXJuIG90KGUpLG49PT12b2lkIDAmJihuPW5ldyBVaW50OEFycmF5KGUub3V0cHV0TGVuKSksbXQoZSx3ZShuKSx3ZSh0KSl9Y29uc3QgYnQ9bmV3IFVpbnQ4QXJyYXkoWzBdKSxHbj1uZXcgVWludDhBcnJheTtmdW5jdGlvbiAkcyhlLHQsbixyPTMyKXtpZihvdChlKSxOZShyKSxyPjI1NSplLm91dHB1dExlbil0aHJvdyBuZXcgRXJyb3IoXCJMZW5ndGggc2hvdWxkIGJlIDw9IDI1NSpIYXNoTGVuXCIpO2NvbnN0IG89TWF0aC5jZWlsKHIvZS5vdXRwdXRMZW4pO249PT12b2lkIDAmJihuPUduKTtjb25zdCBzPW5ldyBVaW50OEFycmF5KG8qZS5vdXRwdXRMZW4pLGk9bXQuY3JlYXRlKGUsdCksYz1pLl9jbG9uZUludG8oKSx1PW5ldyBVaW50OEFycmF5KGkub3V0cHV0TGVuKTtmb3IobGV0IGE9MDthPG87YSsrKWJ0WzBdPWErMSxjLnVwZGF0ZShhPT09MD9Hbjp1KS51cGRhdGUobikudXBkYXRlKGJ0KS5kaWdlc3RJbnRvKHUpLHMuc2V0KHUsZS5vdXRwdXRMZW4qYSksaS5fY2xvbmVJbnRvKGMpO3JldHVybiBpLmRlc3Ryb3koKSxjLmRlc3Ryb3koKSx1LmZpbGwoMCksYnQuZmlsbCgwKSxzLnNsaWNlKDAscil9Y29uc3QgUnM9KGUsdCxuLHIsbyk9PiRzKGUsVHMoZSx0LG4pLHIsbyk7ZnVuY3Rpb24gUHMoZSx0LG4scil7aWYodHlwZW9mIGUuc2V0QmlnVWludDY0PT1cImZ1bmN0aW9uXCIpcmV0dXJuIGUuc2V0QmlnVWludDY0KHQsbixyKTtjb25zdCBvPUJpZ0ludCgzMikscz1CaWdJbnQoNDI5NDk2NzI5NSksaT1OdW1iZXIobj4+byZzKSxjPU51bWJlcihuJnMpLHU9cj80OjAsYT1yPzA6NDtlLnNldFVpbnQzMih0K3UsaSxyKSxlLnNldFVpbnQzMih0K2EsYyxyKX1mdW5jdGlvbiBCcyhlLHQsbil7cmV0dXJuIGUmdF5+ZSZufWZ1bmN0aW9uIExzKGUsdCxuKXtyZXR1cm4gZSZ0XmUmbl50Jm59Y2xhc3MganMgZXh0ZW5kcyBpdHtjb25zdHJ1Y3Rvcih0LG4scixvKXtzdXBlcigpLHRoaXMuYmxvY2tMZW49dCx0aGlzLm91dHB1dExlbj1uLHRoaXMucGFkT2Zmc2V0PXIsdGhpcy5pc0xFPW8sdGhpcy5maW5pc2hlZD0hMSx0aGlzLmxlbmd0aD0wLHRoaXMucG9zPTAsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkodCksdGhpcy52aWV3PXN0KHRoaXMuYnVmZmVyKX11cGRhdGUodCl7bWUodGhpcyk7Y29uc3R7dmlldzpuLGJ1ZmZlcjpyLGJsb2NrTGVuOm99PXRoaXM7dD13ZSh0KTtjb25zdCBzPXQubGVuZ3RoO2ZvcihsZXQgaT0wO2k8czspe2NvbnN0IGM9TWF0aC5taW4oby10aGlzLnBvcyxzLWkpO2lmKGM9PT1vKXtjb25zdCB1PXN0KHQpO2Zvcig7bzw9cy1pO2krPW8pdGhpcy5wcm9jZXNzKHUsaSk7Y29udGludWV9ci5zZXQodC5zdWJhcnJheShpLGkrYyksdGhpcy5wb3MpLHRoaXMucG9zKz1jLGkrPWMsdGhpcy5wb3M9PT1vJiYodGhpcy5wcm9jZXNzKG4sMCksdGhpcy5wb3M9MCl9cmV0dXJuIHRoaXMubGVuZ3RoKz10Lmxlbmd0aCx0aGlzLnJvdW5kQ2xlYW4oKSx0aGlzfWRpZ2VzdEludG8odCl7bWUodGhpcyksc24odCx0aGlzKSx0aGlzLmZpbmlzaGVkPSEwO2NvbnN0e2J1ZmZlcjpuLHZpZXc6cixibG9ja0xlbjpvLGlzTEU6c309dGhpcztsZXR7cG9zOml9PXRoaXM7bltpKytdPTEyOCx0aGlzLmJ1ZmZlci5zdWJhcnJheShpKS5maWxsKDApLHRoaXMucGFkT2Zmc2V0Pm8taSYmKHRoaXMucHJvY2VzcyhyLDApLGk9MCk7Zm9yKGxldCBmPWk7ZjxvO2YrKyluW2ZdPTA7UHMocixvLTgsQmlnSW50KHRoaXMubGVuZ3RoKjgpLHMpLHRoaXMucHJvY2VzcyhyLDApO2NvbnN0IGM9c3QodCksdT10aGlzLm91dHB1dExlbjtpZih1JTQpdGhyb3cgbmV3IEVycm9yKFwiX3NoYTI6IG91dHB1dExlbiBzaG91bGQgYmUgYWxpZ25lZCB0byAzMmJpdFwiKTtjb25zdCBhPXUvNCxsPXRoaXMuZ2V0KCk7aWYoYT5sLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJfc2hhMjogb3V0cHV0TGVuIGJpZ2dlciB0aGFuIHN0YXRlXCIpO2ZvcihsZXQgZj0wO2Y8YTtmKyspYy5zZXRVaW50MzIoNCpmLGxbZl0scyl9ZGlnZXN0KCl7Y29uc3R7YnVmZmVyOnQsb3V0cHV0TGVuOm59PXRoaXM7dGhpcy5kaWdlc3RJbnRvKHQpO2NvbnN0IHI9dC5zbGljZSgwLG4pO3JldHVybiB0aGlzLmRlc3Ryb3koKSxyfV9jbG9uZUludG8odCl7dHx8KHQ9bmV3IHRoaXMuY29uc3RydWN0b3IpLHQuc2V0KC4uLnRoaXMuZ2V0KCkpO2NvbnN0e2Jsb2NrTGVuOm4sYnVmZmVyOnIsbGVuZ3RoOm8sZmluaXNoZWQ6cyxkZXN0cm95ZWQ6aSxwb3M6Y309dGhpcztyZXR1cm4gdC5sZW5ndGg9byx0LnBvcz1jLHQuZmluaXNoZWQ9cyx0LmRlc3Ryb3llZD1pLG8lbiYmdC5idWZmZXIuc2V0KHIpLHR9fWNvbnN0IENzPW5ldyBVaW50MzJBcnJheShbMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSksaWU9bmV3IFVpbnQzMkFycmF5KFsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0pLGNlPW5ldyBVaW50MzJBcnJheSg2NCk7Y2xhc3Mga3MgZXh0ZW5kcyBqc3tjb25zdHJ1Y3Rvcigpe3N1cGVyKDY0LDMyLDgsITEpLHRoaXMuQT1pZVswXXwwLHRoaXMuQj1pZVsxXXwwLHRoaXMuQz1pZVsyXXwwLHRoaXMuRD1pZVszXXwwLHRoaXMuRT1pZVs0XXwwLHRoaXMuRj1pZVs1XXwwLHRoaXMuRz1pZVs2XXwwLHRoaXMuSD1pZVs3XXwwfWdldCgpe2NvbnN0e0E6dCxCOm4sQzpyLEQ6byxFOnMsRjppLEc6YyxIOnV9PXRoaXM7cmV0dXJuW3QsbixyLG8scyxpLGMsdV19c2V0KHQsbixyLG8scyxpLGMsdSl7dGhpcy5BPXR8MCx0aGlzLkI9bnwwLHRoaXMuQz1yfDAsdGhpcy5EPW98MCx0aGlzLkU9c3wwLHRoaXMuRj1pfDAsdGhpcy5HPWN8MCx0aGlzLkg9dXwwfXByb2Nlc3ModCxuKXtmb3IobGV0IGY9MDtmPDE2O2YrKyxuKz00KWNlW2ZdPXQuZ2V0VWludDMyKG4sITEpO2ZvcihsZXQgZj0xNjtmPDY0O2YrKyl7Y29uc3QgZD1jZVtmLTE1XSxnPWNlW2YtMl0seT1KKGQsNyleSihkLDE4KV5kPj4+MyxoPUooZywxNyleSihnLDE5KV5nPj4+MTA7Y2VbZl09aCtjZVtmLTddK3krY2VbZi0xNl18MH1sZXR7QTpyLEI6byxDOnMsRDppLEU6YyxGOnUsRzphLEg6bH09dGhpcztmb3IobGV0IGY9MDtmPDY0O2YrKyl7Y29uc3QgZD1KKGMsNileSihjLDExKV5KKGMsMjUpLGc9bCtkK0JzKGMsdSxhKStDc1tmXStjZVtmXXwwLGg9KEoociwyKV5KKHIsMTMpXkoociwyMikpK0xzKHIsbyxzKXwwO2w9YSxhPXUsdT1jLGM9aStnfDAsaT1zLHM9byxvPXIscj1nK2h8MH1yPXIrdGhpcy5BfDAsbz1vK3RoaXMuQnwwLHM9cyt0aGlzLkN8MCxpPWkrdGhpcy5EfDAsYz1jK3RoaXMuRXwwLHU9dSt0aGlzLkZ8MCxhPWErdGhpcy5HfDAsbD1sK3RoaXMuSHwwLHRoaXMuc2V0KHIsbyxzLGksYyx1LGEsbCl9cm91bmRDbGVhbigpe2NlLmZpbGwoMCl9ZGVzdHJveSgpe3RoaXMuc2V0KDAsMCwwLDAsMCwwLDAsMCksdGhpcy5idWZmZXIuZmlsbCgwKX19Y29uc3QgSGU9Zm4oKCk9Pm5ldyBrcyk7LyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL2NvbnN0IFduPUJpZ0ludCgwKTtmdW5jdGlvbiB3dChlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fEFycmF5QnVmZmVyLmlzVmlldyhlKSYmZS5jb25zdHJ1Y3Rvci5uYW1lPT09XCJVaW50OEFycmF5XCJ9ZnVuY3Rpb24gem4oZSl7aWYoIXd0KGUpKXRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWRcIil9Y29uc3QgRHM9QXJyYXkuZnJvbSh7bGVuZ3RoOjI1Nn0sKGUsdCk9PnQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKTtmdW5jdGlvbiBNcyhlKXt6bihlKTtsZXQgdD1cIlwiO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQrPURzW2Vbbl1dO3JldHVybiB0fWZ1bmN0aW9uIFZzKGUpe2lmKHR5cGVvZiBlIT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBcIit0eXBlb2YgZSk7cmV0dXJuIGU9PT1cIlwiP1duOkJpZ0ludChcIjB4XCIrZSl9Y29uc3QgZWU9e18wOjQ4LF85OjU3LEE6NjUsRjo3MCxhOjk3LGY6MTAyfTtmdW5jdGlvbiBKbihlKXtpZihlPj1lZS5fMCYmZTw9ZWUuXzkpcmV0dXJuIGUtZWUuXzA7aWYoZT49ZWUuQSYmZTw9ZWUuRilyZXR1cm4gZS0oZWUuQS0xMCk7aWYoZT49ZWUuYSYmZTw9ZWUuZilyZXR1cm4gZS0oZWUuYS0xMCl9ZnVuY3Rpb24gWW4oZSl7aWYodHlwZW9mIGUhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiBlKTtjb25zdCB0PWUubGVuZ3RoLG49dC8yO2lmKHQlMil0aHJvdyBuZXcgRXJyb3IoXCJoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgdW5wYWRkZWQgaGV4IG9mIGxlbmd0aCBcIit0KTtjb25zdCByPW5ldyBVaW50OEFycmF5KG4pO2ZvcihsZXQgbz0wLHM9MDtvPG47bysrLHMrPTIpe2NvbnN0IGk9Sm4oZS5jaGFyQ29kZUF0KHMpKSxjPUpuKGUuY2hhckNvZGVBdChzKzEpKTtpZihpPT09dm9pZCAwfHxjPT09dm9pZCAwKXtjb25zdCB1PWVbc10rZVtzKzFdO3Rocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IG5vbi1oZXggY2hhcmFjdGVyIFwiJyt1KydcIiBhdCBpbmRleCAnK3MpfXJbb109aSoxNitjfXJldHVybiByfWZ1bmN0aW9uIFhuKGUpe3JldHVybiB6bihlKSxWcyhNcyhVaW50OEFycmF5LmZyb20oZSkucmV2ZXJzZSgpKSl9ZnVuY3Rpb24gSHMoZSx0KXtyZXR1cm4gWW4oZS50b1N0cmluZygxNikucGFkU3RhcnQodCoyLFwiMFwiKSl9ZnVuY3Rpb24gS3MoZSx0KXtyZXR1cm4gSHMoZSx0KS5yZXZlcnNlKCl9ZnVuY3Rpb24gWm4oZSx0LG4pe2xldCByO2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXRyeXtyPVluKHQpfWNhdGNoKHMpe3Rocm93IG5ldyBFcnJvcihlK1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5LCBjYXVzZTogXCIrcyl9ZWxzZSBpZih3dCh0KSlyPVVpbnQ4QXJyYXkuZnJvbSh0KTtlbHNlIHRocm93IG5ldyBFcnJvcihlK1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5XCIpO2NvbnN0IG89ci5sZW5ndGg7aWYodHlwZW9mIG49PVwibnVtYmVyXCImJm8hPT1uKXRocm93IG5ldyBFcnJvcihlK1wiIG9mIGxlbmd0aCBcIituK1wiIGV4cGVjdGVkLCBnb3QgXCIrbyk7cmV0dXJuIHJ9Y29uc3QgRXQ9ZT0+dHlwZW9mIGU9PVwiYmlnaW50XCImJlduPD1lO2Z1bmN0aW9uIEZzKGUsdCxuKXtyZXR1cm4gRXQoZSkmJkV0KHQpJiZFdChuKSYmdDw9ZSYmZTxufWZ1bmN0aW9uIFFuKGUsdCxuLHIpe2lmKCFGcyh0LG4scikpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgdmFsaWQgXCIrZStcIjogXCIrbitcIiA8PSBuIDwgXCIrcitcIiwgZ290IFwiK3QpfWNvbnN0IHFzPXtiaWdpbnQ6ZT0+dHlwZW9mIGU9PVwiYmlnaW50XCIsZnVuY3Rpb246ZT0+dHlwZW9mIGU9PVwiZnVuY3Rpb25cIixib29sZWFuOmU9PnR5cGVvZiBlPT1cImJvb2xlYW5cIixzdHJpbmc6ZT0+dHlwZW9mIGU9PVwic3RyaW5nXCIsc3RyaW5nT3JVaW50OEFycmF5OmU9PnR5cGVvZiBlPT1cInN0cmluZ1wifHx3dChlKSxpc1NhZmVJbnRlZ2VyOmU9Pk51bWJlci5pc1NhZmVJbnRlZ2VyKGUpLGFycmF5OmU9PkFycmF5LmlzQXJyYXkoZSksZmllbGQ6KGUsdCk9PnQuRnAuaXNWYWxpZChlKSxoYXNoOmU9PnR5cGVvZiBlPT1cImZ1bmN0aW9uXCImJk51bWJlci5pc1NhZmVJbnRlZ2VyKGUub3V0cHV0TGVuKX07ZnVuY3Rpb24gR3MoZSx0LG49e30pe2NvbnN0IHI9KG8scyxpKT0+e2NvbnN0IGM9cXNbc107aWYodHlwZW9mIGMhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHZhbGlkYXRvciBmdW5jdGlvblwiKTtjb25zdCB1PWVbb107aWYoIShpJiZ1PT09dm9pZCAwKSYmIWModSxlKSl0aHJvdyBuZXcgRXJyb3IoXCJwYXJhbSBcIitTdHJpbmcobykrXCIgaXMgaW52YWxpZC4gRXhwZWN0ZWQgXCIrcytcIiwgZ290IFwiK3UpfTtmb3IoY29uc3RbbyxzXW9mIE9iamVjdC5lbnRyaWVzKHQpKXIobyxzLCExKTtmb3IoY29uc3RbbyxzXW9mIE9iamVjdC5lbnRyaWVzKG4pKXIobyxzLCEwKTtyZXR1cm4gZX1jb25zdCB2ZT1CaWdJbnQoMCksS2U9QmlnSW50KDEpO2Z1bmN0aW9uIGVyKGUsdCl7Y29uc3Qgbj1lJXQ7cmV0dXJuIG4+PXZlP246dCtufWZ1bmN0aW9uIFdzKGUsdCxuKXtpZih0PHZlKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZXhwb25lbnQsIG5lZ2F0aXZlcyB1bnN1cHBvcnRlZFwiKTtpZihuPD12ZSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG1vZHVsdXNcIik7aWYobj09PUtlKXJldHVybiB2ZTtsZXQgcj1LZTtmb3IoO3Q+dmU7KXQmS2UmJihyPXIqZSVuKSxlPWUqZSVuLHQ+Pj1LZTtyZXR1cm4gcn1mdW5jdGlvbiB6KGUsdCxuKXtsZXQgcj1lO2Zvcig7dC0tID52ZTspcio9cixyJT1uO3JldHVybiByfUJpZ0ludCgwKSxCaWdJbnQoMSksQmlnSW50KDApLEJpZ0ludCgxKSxCaWdJbnQoMiksQmlnSW50KDgpO2NvbnN0IHhlPUJpZ0ludCgwKSx2dD1CaWdJbnQoMSk7ZnVuY3Rpb24genMoZSl7cmV0dXJuIEdzKGUse2E6XCJiaWdpbnRcIn0se21vbnRnb21lcnlCaXRzOlwiaXNTYWZlSW50ZWdlclwiLG5CeXRlTGVuZ3RoOlwiaXNTYWZlSW50ZWdlclwiLGFkanVzdFNjYWxhckJ5dGVzOlwiZnVuY3Rpb25cIixkb21haW46XCJmdW5jdGlvblwiLHBvd1BtaW51czI6XCJmdW5jdGlvblwiLEd1OlwiYmlnaW50XCJ9KSxPYmplY3QuZnJlZXplKHsuLi5lfSl9ZnVuY3Rpb24gSnMoZSl7Y29uc3QgdD16cyhlKSx7UDpufT10LHI9Yj0+ZXIoYixuKSxvPXQubW9udGdvbWVyeUJpdHMscz1NYXRoLmNlaWwoby84KSxpPXQubkJ5dGVMZW5ndGgsYz10LmFkanVzdFNjYWxhckJ5dGVzfHwoYj0+YiksdT10LnBvd1BtaW51czJ8fChiPT5XcyhiLG4tQmlnSW50KDIpLG4pKTtmdW5jdGlvbiBhKGIsXyxPKXtjb25zdCBrPXIoYiooXy1PKSk7cmV0dXJuIF89cihfLWspLE89cihPK2spLFtfLE9dfWNvbnN0IGw9KHQuYS1CaWdJbnQoMikpL0JpZ0ludCg0KTtmdW5jdGlvbiBmKGIsXyl7UW4oXCJ1XCIsYix4ZSxuKSxRbihcInNjYWxhclwiLF8seGUsbik7Y29uc3QgTz1fLGs9YjtsZXQgRT12dCxCPXhlLGo9Yix2PXZ0LEk9eGUsdztmb3IobGV0IEE9QmlnSW50KG8tMSk7QT49eGU7QS0tKXtjb25zdCBUPU8+PkEmdnQ7SV49VCx3PWEoSSxFLGopLEU9d1swXSxqPXdbMV0sdz1hKEksQix2KSxCPXdbMF0sdj13WzFdLEk9VDtjb25zdCBOPUUrQixTPXIoTipOKSxVPUUtQiwkPXIoVSpVKSxwPVMtJCxDPWordixEPWotdixQPXIoRCpOKSxHPXIoQypVKSxYPVArRyxaPVAtRztqPXIoWCpYKSx2PXIoaypyKFoqWikpLEU9cihTKiQpLEI9cihwKihTK3IobCpwKSkpfXc9YShJLEUsaiksRT13WzBdLGo9d1sxXSx3PWEoSSxCLHYpLEI9d1swXSx2PXdbMV07Y29uc3QgUj11KEIpO3JldHVybiByKEUqUil9ZnVuY3Rpb24gZChiKXtyZXR1cm4gS3MocihiKSxzKX1mdW5jdGlvbiBnKGIpe2NvbnN0IF89Wm4oXCJ1IGNvb3JkaW5hdGVcIixiLHMpO3JldHVybiBpPT09MzImJihfWzMxXSY9MTI3KSxYbihfKX1mdW5jdGlvbiB5KGIpe2NvbnN0IF89Wm4oXCJzY2FsYXJcIixiKSxPPV8ubGVuZ3RoO2lmKE8hPT1zJiZPIT09aSl7bGV0IGs9XCJcIitzK1wiIG9yIFwiK2k7dGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzY2FsYXIsIGV4cGVjdGVkIFwiK2srXCIgYnl0ZXMsIGdvdCBcIitPKX1yZXR1cm4gWG4oYyhfKSl9ZnVuY3Rpb24gaChiLF8pe2NvbnN0IE89ZyhfKSxrPXkoYiksRT1mKE8sayk7aWYoRT09PXhlKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgcHJpdmF0ZSBvciBwdWJsaWMga2V5IHJlY2VpdmVkXCIpO3JldHVybiBkKEUpfWNvbnN0IG09ZCh0Lkd1KTtmdW5jdGlvbiBMKGIpe3JldHVybiBoKGIsbSl9cmV0dXJue3NjYWxhck11bHQ6aCxzY2FsYXJNdWx0QmFzZTpMLGdldFNoYXJlZFNlY3JldDooYixfKT0+aChiLF8pLGdldFB1YmxpY0tleTpiPT5MKGIpLHV0aWxzOntyYW5kb21Qcml2YXRlS2V5OigpPT50LnJhbmRvbUJ5dGVzKHQubkJ5dGVMZW5ndGgpfSxHdUJ5dGVzOm19fWNvbnN0IHh0PUJpZ0ludChcIjU3ODk2MDQ0NjE4NjU4MDk3NzExNzg1NDkyNTA0MzQzOTUzOTI2NjM0OTkyMzMyODIwMjgyMDE5NzI4NzkyMDAzOTU2NTY0ODE5OTQ5XCIpO0JpZ0ludCgwKTtjb25zdCBZcz1CaWdJbnQoMSksdHI9QmlnSW50KDIpLFhzPUJpZ0ludCgzKSxacz1CaWdJbnQoNSk7QmlnSW50KDgpO2Z1bmN0aW9uIFFzKGUpe2NvbnN0IHQ9QmlnSW50KDEwKSxuPUJpZ0ludCgyMCkscj1CaWdJbnQoNDApLG89QmlnSW50KDgwKSxzPXh0LGM9ZSplJXMqZSVzLHU9eihjLHRyLHMpKmMlcyxhPXoodSxZcyxzKSplJXMsbD16KGEsWnMscykqYSVzLGY9eihsLHQscykqbCVzLGQ9eihmLG4scykqZiVzLGc9eihkLHIscykqZCVzLHk9eihnLG8scykqZyVzLGg9eih5LG8scykqZyVzLG09eihoLHQscykqbCVzO3JldHVybntwb3dfcF81Xzg6eihtLHRyLHMpKmUlcyxiMjpjfX1mdW5jdGlvbiBlaShlKXtyZXR1cm4gZVswXSY9MjQ4LGVbMzFdJj0xMjcsZVszMV18PTY0LGV9Y29uc3QgSXQ9SnMoe1A6eHQsYTpCaWdJbnQoNDg2NjYyKSxtb250Z29tZXJ5Qml0czoyNTUsbkJ5dGVMZW5ndGg6MzIsR3U6QmlnSW50KDkpLHBvd1BtaW51czI6ZT0+e2NvbnN0IHQ9eHQse3Bvd19wXzVfODpuLGIyOnJ9PVFzKGUpO3JldHVybiBlcih6KG4sWHMsdCkqcix0KX0sYWRqdXN0U2NhbGFyQnl0ZXM6ZWkscmFuZG9tQnl0ZXM6U2V9KSxPdD1cImJhc2UxMFwiLFY9XCJiYXNlMTZcIixBdD1cImJhc2U2NHBhZFwiLHRpPVwiYmFzZTY0dXJsXCIsSWU9XCJ1dGY4XCIsTnQ9MCxPZT0xLF9lPTIsbmk9MCxucj0xLFRlPTEyLFN0PTMyO2Z1bmN0aW9uIHJpKCl7Y29uc3QgZT1JdC51dGlscy5yYW5kb21Qcml2YXRlS2V5KCksdD1JdC5nZXRQdWJsaWNLZXkoZSk7cmV0dXJue3ByaXZhdGVLZXk6SyhlLFYpLHB1YmxpY0tleTpLKHQsVil9fWZ1bmN0aW9uIG9pKCl7Y29uc3QgZT1TZShTdCk7cmV0dXJuIEsoZSxWKX1mdW5jdGlvbiBzaShlLHQpe2NvbnN0IG49SXQuZ2V0U2hhcmVkU2VjcmV0KFcoZSxWKSxXKHQsVikpLHI9UnMoSGUsbix2b2lkIDAsdm9pZCAwLFN0KTtyZXR1cm4gSyhyLFYpfWZ1bmN0aW9uIGlpKGUpe2NvbnN0IHQ9SGUoVyhlLFYpKTtyZXR1cm4gSyh0LFYpfWZ1bmN0aW9uIGNpKGUpe2NvbnN0IHQ9SGUoVyhlLEllKSk7cmV0dXJuIEsodCxWKX1mdW5jdGlvbiBVdChlKXtyZXR1cm4gVyhgJHtlfWAsT3QpfWZ1bmN0aW9uIGZlKGUpe3JldHVybiBOdW1iZXIoSyhlLE90KSl9ZnVuY3Rpb24gYWkoZSl7Y29uc3QgdD1VdCh0eXBlb2YgZS50eXBlPFwidVwiP2UudHlwZTpOdCk7aWYoZmUodCk9PT1PZSYmdHlwZW9mIGUuc2VuZGVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIk1pc3Npbmcgc2VuZGVyIHB1YmxpYyBrZXkgZm9yIHR5cGUgMSBlbnZlbG9wZVwiKTtjb25zdCBuPXR5cGVvZiBlLnNlbmRlclB1YmxpY0tleTxcInVcIj9XKGUuc2VuZGVyUHVibGljS2V5LFYpOnZvaWQgMCxyPXR5cGVvZiBlLml2PFwidVwiP1coZS5pdixWKTpTZShUZSksbz1XKGUuc3ltS2V5LFYpLHM9Rm4obyxyKS5lbmNyeXB0KFcoZS5tZXNzYWdlLEllKSk7cmV0dXJuIF90KHt0eXBlOnQsc2VhbGVkOnMsaXY6cixzZW5kZXJQdWJsaWNLZXk6bixlbmNvZGluZzplLmVuY29kaW5nfSl9ZnVuY3Rpb24gdWkoZSl7Y29uc3QgdD1XKGUuc3ltS2V5LFYpLHtzZWFsZWQ6bixpdjpyfT1GZShlKSxvPUZuKHQscikuZGVjcnlwdChuKTtpZihvPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVjcnlwdFwiKTtyZXR1cm4gSyhvLEllKX1mdW5jdGlvbiBmaShlLHQpe2NvbnN0IG49VXQoX2UpLHI9U2UoVGUpLG89VyhlLEllKTtyZXR1cm4gX3Qoe3R5cGU6bixzZWFsZWQ6byxpdjpyLGVuY29kaW5nOnR9KX1mdW5jdGlvbiBsaShlLHQpe2NvbnN0e3NlYWxlZDpufT1GZSh7ZW5jb2RlZDplLGVuY29kaW5nOnR9KTtyZXR1cm4gSyhuLEllKX1mdW5jdGlvbiBfdChlKXtjb25zdHtlbmNvZGluZzp0PUF0fT1lO2lmKGZlKGUudHlwZSk9PT1fZSlyZXR1cm4gSyhKZShbZS50eXBlLGUuc2VhbGVkXSksdCk7aWYoZmUoZS50eXBlKT09PU9lKXtpZih0eXBlb2YgZS5zZW5kZXJQdWJsaWNLZXk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBzZW5kZXIgcHVibGljIGtleSBmb3IgdHlwZSAxIGVudmVsb3BlXCIpO3JldHVybiBLKEplKFtlLnR5cGUsZS5zZW5kZXJQdWJsaWNLZXksZS5pdixlLnNlYWxlZF0pLHQpfXJldHVybiBLKEplKFtlLnR5cGUsZS5pdixlLnNlYWxlZF0pLHQpfWZ1bmN0aW9uIEZlKGUpe2NvbnN0e2VuY29kZWQ6dCxlbmNvZGluZzpuPUF0fT1lLHI9Vyh0LG4pLG89ci5zbGljZShuaSxucikscz1ucjtpZihmZShvKT09PU9lKXtjb25zdCBhPXMrU3QsbD1hK1RlLGY9ci5zbGljZShzLGEpLGQ9ci5zbGljZShhLGwpLGc9ci5zbGljZShsKTtyZXR1cm57dHlwZTpvLHNlYWxlZDpnLGl2OmQsc2VuZGVyUHVibGljS2V5OmZ9fWlmKGZlKG8pPT09X2Upe2NvbnN0IGE9ci5zbGljZShzKSxsPVNlKFRlKTtyZXR1cm57dHlwZTpvLHNlYWxlZDphLGl2Omx9fWNvbnN0IGk9cytUZSxjPXIuc2xpY2UocyxpKSx1PXIuc2xpY2UoaSk7cmV0dXJue3R5cGU6byxzZWFsZWQ6dSxpdjpjfX1mdW5jdGlvbiBkaShlLHQpe2NvbnN0IG49RmUoe2VuY29kZWQ6ZSxlbmNvZGluZzp0Py5lbmNvZGluZ30pO3JldHVybiBycih7dHlwZTpmZShuLnR5cGUpLHNlbmRlclB1YmxpY0tleTp0eXBlb2Ygbi5zZW5kZXJQdWJsaWNLZXk8XCJ1XCI/SyhuLnNlbmRlclB1YmxpY0tleSxWKTp2b2lkIDAscmVjZWl2ZXJQdWJsaWNLZXk6dD8ucmVjZWl2ZXJQdWJsaWNLZXl9KX1mdW5jdGlvbiBycihlKXtjb25zdCB0PWU/LnR5cGV8fE50O2lmKHQ9PT1PZSl7aWYodHlwZW9mIGU/LnNlbmRlclB1YmxpY0tleT5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIHNlbmRlciBwdWJsaWMga2V5XCIpO2lmKHR5cGVvZiBlPy5yZWNlaXZlclB1YmxpY0tleT5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIHJlY2VpdmVyIHB1YmxpYyBrZXlcIil9cmV0dXJue3R5cGU6dCxzZW5kZXJQdWJsaWNLZXk6ZT8uc2VuZGVyUHVibGljS2V5LHJlY2VpdmVyUHVibGljS2V5OmU/LnJlY2VpdmVyUHVibGljS2V5fX1mdW5jdGlvbiBoaShlKXtyZXR1cm4gZS50eXBlPT09T2UmJnR5cGVvZiBlLnNlbmRlclB1YmxpY0tleT09XCJzdHJpbmdcIiYmdHlwZW9mIGUucmVjZWl2ZXJQdWJsaWNLZXk9PVwic3RyaW5nXCJ9ZnVuY3Rpb24gcGkoZSl7cmV0dXJuIGUudHlwZT09PV9lfWZ1bmN0aW9uIG9yKGUpe3JldHVybiBuZXcgRHIoXCJwMjU2XCIpLmtleUZyb21QdWJsaWMoe3g6QnVmZmVyLmZyb20oZS54LFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwiaGV4XCIpLHk6QnVmZmVyLmZyb20oZS55LFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwiaGV4XCIpfSxcImhleFwiKX1mdW5jdGlvbiBnaShlKXtsZXQgdD1lLnJlcGxhY2UoLy0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKTtjb25zdCBuPXQubGVuZ3RoJTQ7cmV0dXJuIG4+MCYmKHQrPVwiPVwiLnJlcGVhdCg0LW4pKSx0fWZ1bmN0aW9uIHlpKGUpe3JldHVybiBCdWZmZXIuZnJvbShnaShlKSxcImJhc2U2NFwiKX1mdW5jdGlvbiBtaShlLHQpe2NvbnN0W24scixvXT1lLnNwbGl0KFwiLlwiKSxzPXlpKG8pO2lmKHMubGVuZ3RoIT09NjQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYXR1cmUgbGVuZ3RoXCIpO2NvbnN0IGk9cy5zbGljZSgwLDMyKS50b1N0cmluZyhcImhleFwiKSxjPXMuc2xpY2UoMzIsNjQpLnRvU3RyaW5nKFwiaGV4XCIpLHU9YCR7bn0uJHtyfWAsYT1IZSh1KSxsPW9yKHQpLGY9SyhhLFYpO2lmKCFsLnZlcmlmeShmLHtyOmksczpjfSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYXR1cmVcIik7cmV0dXJuIGtyKGUpLnBheWxvYWR9Y29uc3Qgc3I9XCJpcm5cIjtmdW5jdGlvbiBiaShlKXtyZXR1cm4gZT8ucmVsYXl8fHtwcm90b2NvbDpzcn19ZnVuY3Rpb24gd2koZSl7Y29uc3QgdD1NcltlXTtpZih0eXBlb2YgdD5cInVcIil0aHJvdyBuZXcgRXJyb3IoYFJlbGF5IFByb3RvY29sIG5vdCBzdXBwb3J0ZWQ6ICR7ZX1gKTtyZXR1cm4gdH1mdW5jdGlvbiBpcihlLHQ9XCItXCIpe2NvbnN0IG49e30scj1cInJlbGF5XCIrdDtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChvPT57aWYoby5zdGFydHNXaXRoKHIpKXtjb25zdCBzPW8ucmVwbGFjZShyLFwiXCIpLGk9ZVtvXTtuW3NdPWl9fSksbn1mdW5jdGlvbiBFaShlKXtpZighZS5pbmNsdWRlcyhcIndjOlwiKSl7Y29uc3QgYT1ydChlKTthIT1udWxsJiZhLmluY2x1ZGVzKFwid2M6XCIpJiYoZT1hKX1lPWUuaW5jbHVkZXMoXCJ3YzovL1wiKT9lLnJlcGxhY2UoXCJ3YzovL1wiLFwiXCIpOmUsZT1lLmluY2x1ZGVzKFwid2M6XCIpP2UucmVwbGFjZShcIndjOlwiLFwiXCIpOmU7Y29uc3QgdD1lLmluZGV4T2YoXCI6XCIpLG49ZS5pbmRleE9mKFwiP1wiKSE9PS0xP2UuaW5kZXhPZihcIj9cIik6dm9pZCAwLHI9ZS5zdWJzdHJpbmcoMCx0KSxvPWUuc3Vic3RyaW5nKHQrMSxuKS5zcGxpdChcIkBcIikscz10eXBlb2YgbjxcInVcIj9lLnN1YnN0cmluZyhuKTpcIlwiLGk9bmV3IFVSTFNlYXJjaFBhcmFtcyhzKSxjPXt9O2kuZm9yRWFjaCgoYSxsKT0+e2NbbF09YX0pO2NvbnN0IHU9dHlwZW9mIGMubWV0aG9kcz09XCJzdHJpbmdcIj9jLm1ldGhvZHMuc3BsaXQoXCIsXCIpOnZvaWQgMDtyZXR1cm57cHJvdG9jb2w6cix0b3BpYzpjcihvWzBdKSx2ZXJzaW9uOnBhcnNlSW50KG9bMV0sMTApLHN5bUtleTpjLnN5bUtleSxyZWxheTppcihjKSxtZXRob2RzOnUsZXhwaXJ5VGltZXN0YW1wOmMuZXhwaXJ5VGltZXN0YW1wP3BhcnNlSW50KGMuZXhwaXJ5VGltZXN0YW1wLDEwKTp2b2lkIDB9fWZ1bmN0aW9uIGNyKGUpe3JldHVybiBlLnN0YXJ0c1dpdGgoXCIvL1wiKT9lLnN1YnN0cmluZygyKTplfWZ1bmN0aW9uIGFyKGUsdD1cIi1cIil7Y29uc3Qgbj1cInJlbGF5XCIscj17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChvPT57Y29uc3Qgcz1vLGk9bit0K3M7ZVtzXSYmKHJbaV09ZVtzXSl9KSxyfWZ1bmN0aW9uIHZpKGUpe2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyxuPWFyKGUucmVsYXkpO09iamVjdC5rZXlzKG4pLnNvcnQoKS5mb3JFYWNoKG89Pnt0LnNldChvLG5bb10pfSksdC5zZXQoXCJzeW1LZXlcIixlLnN5bUtleSksZS5leHBpcnlUaW1lc3RhbXAmJnQuc2V0KFwiZXhwaXJ5VGltZXN0YW1wXCIsZS5leHBpcnlUaW1lc3RhbXAudG9TdHJpbmcoKSksZS5tZXRob2RzJiZ0LnNldChcIm1ldGhvZHNcIixlLm1ldGhvZHMuam9pbihcIixcIikpO2NvbnN0IHI9dC50b1N0cmluZygpO3JldHVybmAke2UucHJvdG9jb2x9OiR7ZS50b3BpY31AJHtlLnZlcnNpb259PyR7cn1gfWZ1bmN0aW9uIHhpKGUsdCxuKXtyZXR1cm5gJHtlfT93Y19ldj0ke259JnRvcGljPSR7dH1gfXZhciBJaT1PYmplY3QuZGVmaW5lUHJvcGVydHksT2k9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsQWk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsdXI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxOaT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFNpPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsZnI9KGUsdCxuKT0+dCBpbiBlP0lpKGUsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOmVbdF09bixVaT0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0fHwodD17fSkpTmkuY2FsbCh0LG4pJiZmcihlLG4sdFtuXSk7aWYodXIpZm9yKHZhciBuIG9mIHVyKHQpKVNpLmNhbGwodCxuKSYmZnIoZSxuLHRbbl0pO3JldHVybiBlfSxfaT0oZSx0KT0+T2koZSxBaSh0KSk7ZnVuY3Rpb24gbGUoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKG49Pntjb25zdFtyLG9dPW4uc3BsaXQoXCI6XCIpO3QucHVzaChgJHtyfToke299YCl9KSx0fWZ1bmN0aW9uIGxyKGUpe2NvbnN0IHQ9W107cmV0dXJuIE9iamVjdC52YWx1ZXMoZSkuZm9yRWFjaChuPT57dC5wdXNoKC4uLmxlKG4uYWNjb3VudHMpKX0pLHR9ZnVuY3Rpb24gZHIoZSx0KXtjb25zdCBuPVtdO3JldHVybiBPYmplY3QudmFsdWVzKGUpLmZvckVhY2gocj0+e2xlKHIuYWNjb3VudHMpLmluY2x1ZGVzKHQpJiZuLnB1c2goLi4uci5tZXRob2RzKX0pLG59ZnVuY3Rpb24gaHIoZSx0KXtjb25zdCBuPVtdO3JldHVybiBPYmplY3QudmFsdWVzKGUpLmZvckVhY2gocj0+e2xlKHIuYWNjb3VudHMpLmluY2x1ZGVzKHQpJiZuLnB1c2goLi4uci5ldmVudHMpfSksbn1mdW5jdGlvbiBUaShlLHQpe2NvbnN0IG49T3IoZSx0KTtpZihuKXRocm93IG5ldyBFcnJvcihuLm1lc3NhZ2UpO2NvbnN0IHI9e307Zm9yKGNvbnN0W28sc11vZiBPYmplY3QuZW50cmllcyhlKSlyW29dPXttZXRob2RzOnMubWV0aG9kcyxldmVudHM6cy5ldmVudHMsY2hhaW5zOnMuYWNjb3VudHMubWFwKGk9PmAke2kuc3BsaXQoXCI6XCIpWzBdfToke2kuc3BsaXQoXCI6XCIpWzFdfWApfTtyZXR1cm4gcn1mdW5jdGlvbiAkaShlKXtjb25zdHtwcm9wb3NhbDp7cmVxdWlyZWROYW1lc3BhY2VzOnQsb3B0aW9uYWxOYW1lc3BhY2VzOm49e319LHN1cHBvcnRlZE5hbWVzcGFjZXM6cn09ZSxvPSR0KHQpLHM9JHQobiksaT17fTtPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGE9Pntjb25zdCBsPXJbYV0uY2hhaW5zLGY9clthXS5tZXRob2RzLGQ9clthXS5ldmVudHMsZz1yW2FdLmFjY291bnRzO2wuZm9yRWFjaCh5PT57aWYoIWcuc29tZShoPT5oLmluY2x1ZGVzKHkpKSl0aHJvdyBuZXcgRXJyb3IoYE5vIGFjY291bnRzIHByb3ZpZGVkIGZvciBjaGFpbiAke3l9IGluIG5hbWVzcGFjZSAke2F9YCl9KSxpW2FdPXtjaGFpbnM6bCxtZXRob2RzOmYsZXZlbnRzOmQsYWNjb3VudHM6Z319KTtjb25zdCBjPU5yKHQsaSxcImFwcHJvdmUoKVwiKTtpZihjKXRocm93IG5ldyBFcnJvcihjLm1lc3NhZ2UpO2NvbnN0IHU9e307cmV0dXJuIU9iamVjdC5rZXlzKHQpLmxlbmd0aCYmIU9iamVjdC5rZXlzKG4pLmxlbmd0aD9pOihPYmplY3Qua2V5cyhvKS5mb3JFYWNoKGE9Pntjb25zdCBsPXJbYV0uY2hhaW5zLmZpbHRlcih5PT57dmFyIGgsbTtyZXR1cm4obT0oaD1vW2FdKT09bnVsbD92b2lkIDA6aC5jaGFpbnMpPT1udWxsP3ZvaWQgMDptLmluY2x1ZGVzKHkpfSksZj1yW2FdLm1ldGhvZHMuZmlsdGVyKHk9Pnt2YXIgaCxtO3JldHVybihtPShoPW9bYV0pPT1udWxsP3ZvaWQgMDpoLm1ldGhvZHMpPT1udWxsP3ZvaWQgMDptLmluY2x1ZGVzKHkpfSksZD1yW2FdLmV2ZW50cy5maWx0ZXIoeT0+e3ZhciBoLG07cmV0dXJuKG09KGg9b1thXSk9PW51bGw/dm9pZCAwOmguZXZlbnRzKT09bnVsbD92b2lkIDA6bS5pbmNsdWRlcyh5KX0pLGc9bC5tYXAoeT0+clthXS5hY2NvdW50cy5maWx0ZXIoaD0+aC5pbmNsdWRlcyhgJHt5fTpgKSkpLmZsYXQoKTt1W2FdPXtjaGFpbnM6bCxtZXRob2RzOmYsZXZlbnRzOmQsYWNjb3VudHM6Z319KSxPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGE9Pnt2YXIgbCxmLGQsZyx5LGg7aWYoIXJbYV0pcmV0dXJuO2NvbnN0IG09KGY9KGw9c1thXSk9PW51bGw/dm9pZCAwOmwuY2hhaW5zKT09bnVsbD92b2lkIDA6Zi5maWx0ZXIoTz0+clthXS5jaGFpbnMuaW5jbHVkZXMoTykpLEw9clthXS5tZXRob2RzLmZpbHRlcihPPT57dmFyIGssRTtyZXR1cm4oRT0oaz1zW2FdKT09bnVsbD92b2lkIDA6ay5tZXRob2RzKT09bnVsbD92b2lkIDA6RS5pbmNsdWRlcyhPKX0pLGI9clthXS5ldmVudHMuZmlsdGVyKE89Pnt2YXIgayxFO3JldHVybihFPShrPXNbYV0pPT1udWxsP3ZvaWQgMDprLmV2ZW50cyk9PW51bGw/dm9pZCAwOkUuaW5jbHVkZXMoTyl9KSxfPW0/Lm1hcChPPT5yW2FdLmFjY291bnRzLmZpbHRlcihrPT5rLmluY2x1ZGVzKGAke099OmApKSkuZmxhdCgpO3VbYV09e2NoYWluczpRKChkPXVbYV0pPT1udWxsP3ZvaWQgMDpkLmNoYWlucyxtKSxtZXRob2RzOlEoKGc9dVthXSk9PW51bGw/dm9pZCAwOmcubWV0aG9kcyxMKSxldmVudHM6USgoeT11W2FdKT09bnVsbD92b2lkIDA6eS5ldmVudHMsYiksYWNjb3VudHM6USgoaD11W2FdKT09bnVsbD92b2lkIDA6aC5hY2NvdW50cyxfKX19KSx1KX1mdW5jdGlvbiBUdChlKXtyZXR1cm4gZS5pbmNsdWRlcyhcIjpcIil9ZnVuY3Rpb24gcHIoZSl7cmV0dXJuIFR0KGUpP2Uuc3BsaXQoXCI6XCIpWzBdOmV9ZnVuY3Rpb24gJHQoZSl7dmFyIHQsbixyO2NvbnN0IG89e307aWYoIXFlKGUpKXJldHVybiBvO2Zvcihjb25zdFtzLGldb2YgT2JqZWN0LmVudHJpZXMoZSkpe2NvbnN0IGM9VHQocyk/W3NdOmkuY2hhaW5zLHU9aS5tZXRob2RzfHxbXSxhPWkuZXZlbnRzfHxbXSxsPXByKHMpO29bbF09X2koVWkoe30sb1tsXSkse2NoYWluczpRKGMsKHQ9b1tsXSk9PW51bGw/dm9pZCAwOnQuY2hhaW5zKSxtZXRob2RzOlEodSwobj1vW2xdKT09bnVsbD92b2lkIDA6bi5tZXRob2RzKSxldmVudHM6UShhLChyPW9bbF0pPT1udWxsP3ZvaWQgMDpyLmV2ZW50cyl9KX1yZXR1cm4gb31mdW5jdGlvbiBncihlKXtjb25zdCB0PXt9O3JldHVybiBlPy5mb3JFYWNoKG49Pnt2YXIgcjtjb25zdFtvLHNdPW4uc3BsaXQoXCI6XCIpO3Rbb118fCh0W29dPXthY2NvdW50czpbXSxjaGFpbnM6W10sZXZlbnRzOltdLG1ldGhvZHM6W119KSx0W29dLmFjY291bnRzLnB1c2gobiksKHI9dFtvXS5jaGFpbnMpPT1udWxsfHxyLnB1c2goYCR7b306JHtzfWApfSksdH1mdW5jdGlvbiBSaShlLHQpe3Q9dC5tYXAocj0+ci5yZXBsYWNlKFwiZGlkOnBraDpcIixcIlwiKSk7Y29uc3Qgbj1ncih0KTtmb3IoY29uc3RbcixvXW9mIE9iamVjdC5lbnRyaWVzKG4pKW8ubWV0aG9kcz9vLm1ldGhvZHM9UShvLm1ldGhvZHMsZSk6by5tZXRob2RzPWUsby5ldmVudHM9W1wiY2hhaW5DaGFuZ2VkXCIsXCJhY2NvdW50c0NoYW5nZWRcIl07cmV0dXJuIG59Y29uc3QgeXI9e0lOVkFMSURfTUVUSE9EOnttZXNzYWdlOlwiSW52YWxpZCBtZXRob2QuXCIsY29kZToxMDAxfSxJTlZBTElEX0VWRU5UOnttZXNzYWdlOlwiSW52YWxpZCBldmVudC5cIixjb2RlOjEwMDJ9LElOVkFMSURfVVBEQVRFX1JFUVVFU1Q6e21lc3NhZ2U6XCJJbnZhbGlkIHVwZGF0ZSByZXF1ZXN0LlwiLGNvZGU6MTAwM30sSU5WQUxJRF9FWFRFTkRfUkVRVUVTVDp7bWVzc2FnZTpcIkludmFsaWQgZXh0ZW5kIHJlcXVlc3QuXCIsY29kZToxMDA0fSxJTlZBTElEX1NFU1NJT05fU0VUVExFX1JFUVVFU1Q6e21lc3NhZ2U6XCJJbnZhbGlkIHNlc3Npb24gc2V0dGxlIHJlcXVlc3QuXCIsY29kZToxMDA1fSxVTkFVVEhPUklaRURfTUVUSE9EOnttZXNzYWdlOlwiVW5hdXRob3JpemVkIG1ldGhvZC5cIixjb2RlOjMwMDF9LFVOQVVUSE9SSVpFRF9FVkVOVDp7bWVzc2FnZTpcIlVuYXV0aG9yaXplZCBldmVudC5cIixjb2RlOjMwMDJ9LFVOQVVUSE9SSVpFRF9VUERBVEVfUkVRVUVTVDp7bWVzc2FnZTpcIlVuYXV0aG9yaXplZCB1cGRhdGUgcmVxdWVzdC5cIixjb2RlOjMwMDN9LFVOQVVUSE9SSVpFRF9FWFRFTkRfUkVRVUVTVDp7bWVzc2FnZTpcIlVuYXV0aG9yaXplZCBleHRlbmQgcmVxdWVzdC5cIixjb2RlOjMwMDR9LFVTRVJfUkVKRUNURUQ6e21lc3NhZ2U6XCJVc2VyIHJlamVjdGVkLlwiLGNvZGU6NWUzfSxVU0VSX1JFSkVDVEVEX0NIQUlOUzp7bWVzc2FnZTpcIlVzZXIgcmVqZWN0ZWQgY2hhaW5zLlwiLGNvZGU6NTAwMX0sVVNFUl9SRUpFQ1RFRF9NRVRIT0RTOnttZXNzYWdlOlwiVXNlciByZWplY3RlZCBtZXRob2RzLlwiLGNvZGU6NTAwMn0sVVNFUl9SRUpFQ1RFRF9FVkVOVFM6e21lc3NhZ2U6XCJVc2VyIHJlamVjdGVkIGV2ZW50cy5cIixjb2RlOjUwMDN9LFVOU1VQUE9SVEVEX0NIQUlOUzp7bWVzc2FnZTpcIlVuc3VwcG9ydGVkIGNoYWlucy5cIixjb2RlOjUxMDB9LFVOU1VQUE9SVEVEX01FVEhPRFM6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBtZXRob2RzLlwiLGNvZGU6NTEwMX0sVU5TVVBQT1JURURfRVZFTlRTOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgZXZlbnRzLlwiLGNvZGU6NTEwMn0sVU5TVVBQT1JURURfQUNDT1VOVFM6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBhY2NvdW50cy5cIixjb2RlOjUxMDN9LFVOU1VQUE9SVEVEX05BTUVTUEFDRV9LRVk6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBuYW1lc3BhY2Uga2V5LlwiLGNvZGU6NTEwNH0sVVNFUl9ESVNDT05ORUNURUQ6e21lc3NhZ2U6XCJVc2VyIGRpc2Nvbm5lY3RlZC5cIixjb2RlOjZlM30sU0VTU0lPTl9TRVRUTEVNRU5UX0ZBSUxFRDp7bWVzc2FnZTpcIlNlc3Npb24gc2V0dGxlbWVudCBmYWlsZWQuXCIsY29kZTo3ZTN9LFdDX01FVEhPRF9VTlNVUFBPUlRFRDp7bWVzc2FnZTpcIlVuc3VwcG9ydGVkIHdjXyBtZXRob2QuXCIsY29kZToxMDAwMX19LG1yPXtOT1RfSU5JVElBTElaRUQ6e21lc3NhZ2U6XCJOb3QgaW5pdGlhbGl6ZWQuXCIsY29kZToxfSxOT19NQVRDSElOR19LRVk6e21lc3NhZ2U6XCJObyBtYXRjaGluZyBrZXkuXCIsY29kZToyfSxSRVNUT1JFX1dJTExfT1ZFUlJJREU6e21lc3NhZ2U6XCJSZXN0b3JlIHdpbGwgb3ZlcnJpZGUuXCIsY29kZTozfSxSRVNVQlNDUklCRUQ6e21lc3NhZ2U6XCJSZXN1YnNjcmliZWQuXCIsY29kZTo0fSxNSVNTSU5HX09SX0lOVkFMSUQ6e21lc3NhZ2U6XCJNaXNzaW5nIG9yIGludmFsaWQuXCIsY29kZTo1fSxFWFBJUkVEOnttZXNzYWdlOlwiRXhwaXJlZC5cIixjb2RlOjZ9LFVOS05PV05fVFlQRTp7bWVzc2FnZTpcIlVua25vd24gdHlwZS5cIixjb2RlOjd9LE1JU01BVENIRURfVE9QSUM6e21lc3NhZ2U6XCJNaXNtYXRjaGVkIHRvcGljLlwiLGNvZGU6OH0sTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFUzp7bWVzc2FnZTpcIk5vbiBjb25mb3JtaW5nIG5hbWVzcGFjZXMuXCIsY29kZTo5fX07ZnVuY3Rpb24gdGUoZSx0KXtjb25zdHttZXNzYWdlOm4sY29kZTpyfT1tcltlXTtyZXR1cm57bWVzc2FnZTp0P2Ake259ICR7dH1gOm4sY29kZTpyfX1mdW5jdGlvbiBkZShlLHQpe2NvbnN0e21lc3NhZ2U6bixjb2RlOnJ9PXlyW2VdO3JldHVybnttZXNzYWdlOnQ/YCR7bn0gJHt0fWA6bixjb2RlOnJ9fWZ1bmN0aW9uICRlKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/dHlwZW9mIHQ8XCJ1XCImJmUubGVuZ3RoP2UuZXZlcnkodCk6ITA6ITF9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihlKT09PU9iamVjdC5wcm90b3R5cGUmJk9iamVjdC5rZXlzKGUpLmxlbmd0aH1mdW5jdGlvbiBhZShlKXtyZXR1cm4gdHlwZW9mIGU+XCJ1XCJ9ZnVuY3Rpb24gcShlLHQpe3JldHVybiB0JiZhZShlKT8hMDp0eXBlb2YgZT09XCJzdHJpbmdcIiYmISFlLnRyaW0oKS5sZW5ndGh9ZnVuY3Rpb24gR2UoZSx0KXtyZXR1cm4gdCYmYWUoZSk/ITA6dHlwZW9mIGU9PVwibnVtYmVyXCImJiFpc05hTihlKX1mdW5jdGlvbiBQaShlLHQpe2NvbnN0e3JlcXVpcmVkTmFtZXNwYWNlczpufT10LHI9T2JqZWN0LmtleXMoZS5uYW1lc3BhY2VzKSxvPU9iamVjdC5rZXlzKG4pO2xldCBzPSEwO3JldHVybiByZShvLHIpPyhyLmZvckVhY2goaT0+e2NvbnN0e2FjY291bnRzOmMsbWV0aG9kczp1LGV2ZW50czphfT1lLm5hbWVzcGFjZXNbaV0sbD1sZShjKSxmPW5baV07KCFyZShCZShpLGYpLGwpfHwhcmUoZi5tZXRob2RzLHUpfHwhcmUoZi5ldmVudHMsYSkpJiYocz0hMSl9KSxzKTohMX1mdW5jdGlvbiBSZShlKXtyZXR1cm4gcShlLCExKSYmZS5pbmNsdWRlcyhcIjpcIik/ZS5zcGxpdChcIjpcIikubGVuZ3RoPT09MjohMX1mdW5jdGlvbiBicihlKXtpZihxKGUsITEpJiZlLmluY2x1ZGVzKFwiOlwiKSl7Y29uc3QgdD1lLnNwbGl0KFwiOlwiKTtpZih0Lmxlbmd0aD09PTMpe2NvbnN0IG49dFswXStcIjpcIit0WzFdO3JldHVybiEhdFsyXSYmUmUobil9fXJldHVybiExfWZ1bmN0aW9uIEJpKGUpe2Z1bmN0aW9uIHQobil7dHJ5e3JldHVybiB0eXBlb2YgbmV3IFVSTChuKTxcInVcIn1jYXRjaHtyZXR1cm4hMX19dHJ5e2lmKHEoZSwhMSkpe2lmKHQoZSkpcmV0dXJuITA7Y29uc3Qgbj1ydChlKTtyZXR1cm4gdChuKX19Y2F0Y2h7fXJldHVybiExfWZ1bmN0aW9uIExpKGUpe3ZhciB0O3JldHVybih0PWU/LnByb3Bvc2VyKT09bnVsbD92b2lkIDA6dC5wdWJsaWNLZXl9ZnVuY3Rpb24gamkoZSl7cmV0dXJuIGU/LnRvcGljfWZ1bmN0aW9uIENpKGUsdCl7bGV0IG49bnVsbDtyZXR1cm4gcShlPy5wdWJsaWNLZXksITEpfHwobj10ZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke3R9IGNvbnRyb2xsZXIgcHVibGljIGtleSBzaG91bGQgYmUgYSBzdHJpbmdgKSksbn1mdW5jdGlvbiBSdChlKXtsZXQgdD0hMDtyZXR1cm4gJGUoZSk/ZS5sZW5ndGgmJih0PWUuZXZlcnkobj0+cShuLCExKSkpOnQ9ITEsdH1mdW5jdGlvbiB3cihlLHQsbil7bGV0IHI9bnVsbDtyZXR1cm4gJGUodCkmJnQubGVuZ3RoP3QuZm9yRWFjaChvPT57cnx8UmUobyl8fChyPWRlKFwiVU5TVVBQT1JURURfQ0hBSU5TXCIsYCR7bn0sIGNoYWluICR7b30gc2hvdWxkIGJlIGEgc3RyaW5nIGFuZCBjb25mb3JtIHRvIFwibmFtZXNwYWNlOmNoYWluSWRcIiBmb3JtYXRgKSl9KTpSZShlKXx8KHI9ZGUoXCJVTlNVUFBPUlRFRF9DSEFJTlNcIixgJHtufSwgY2hhaW5zIG11c3QgYmUgZGVmaW5lZCBhcyBcIm5hbWVzcGFjZTpjaGFpbklkXCIgZS5nLiBcImVpcDE1NToxXCI6IHsuLi59IGluIHRoZSBuYW1lc3BhY2Uga2V5IE9SIGFzIGFuIGFycmF5IG9mIENBSVAtMiBjaGFpbklkcyBlLmcuIGVpcDE1NTogeyBjaGFpbnM6IFtcImVpcDE1NToxXCIsIFwiZWlwMTU1OjVcIl0gfWApKSxyfWZ1bmN0aW9uIEVyKGUsdCxuKXtsZXQgcj1udWxsO3JldHVybiBPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbbyxzXSk9PntpZihyKXJldHVybjtjb25zdCBpPXdyKG8sQmUobyxzKSxgJHt0fSAke259YCk7aSYmKHI9aSl9KSxyfWZ1bmN0aW9uIHZyKGUsdCl7bGV0IG49bnVsbDtyZXR1cm4gJGUoZSk/ZS5mb3JFYWNoKHI9PntufHxicihyKXx8KG49ZGUoXCJVTlNVUFBPUlRFRF9BQ0NPVU5UU1wiLGAke3R9LCBhY2NvdW50ICR7cn0gc2hvdWxkIGJlIGEgc3RyaW5nIGFuZCBjb25mb3JtIHRvIFwibmFtZXNwYWNlOmNoYWluSWQ6YWRkcmVzc1wiIGZvcm1hdGApKX0pOm49ZGUoXCJVTlNVUFBPUlRFRF9BQ0NPVU5UU1wiLGAke3R9LCBhY2NvdW50cyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyBjb25mb3JtaW5nIHRvIFwibmFtZXNwYWNlOmNoYWluSWQ6YWRkcmVzc1wiIGZvcm1hdGApLG59ZnVuY3Rpb24geHIoZSx0KXtsZXQgbj1udWxsO3JldHVybiBPYmplY3QudmFsdWVzKGUpLmZvckVhY2gocj0+e2lmKG4pcmV0dXJuO2NvbnN0IG89dnIocj8uYWNjb3VudHMsYCR7dH0gbmFtZXNwYWNlYCk7byYmKG49byl9KSxufWZ1bmN0aW9uIElyKGUsdCl7bGV0IG49bnVsbDtyZXR1cm4gUnQoZT8ubWV0aG9kcyk/UnQoZT8uZXZlbnRzKXx8KG49ZGUoXCJVTlNVUFBPUlRFRF9FVkVOVFNcIixgJHt0fSwgZXZlbnRzIHNob3VsZCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIG9yIGVtcHR5IGFycmF5IGZvciBubyBldmVudHNgKSk6bj1kZShcIlVOU1VQUE9SVEVEX01FVEhPRFNcIixgJHt0fSwgbWV0aG9kcyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyBvciBlbXB0eSBhcnJheSBmb3Igbm8gbWV0aG9kc2ApLG59ZnVuY3Rpb24gUHQoZSx0KXtsZXQgbj1udWxsO3JldHVybiBPYmplY3QudmFsdWVzKGUpLmZvckVhY2gocj0+e2lmKG4pcmV0dXJuO2NvbnN0IG89SXIocixgJHt0fSwgbmFtZXNwYWNlYCk7byYmKG49byl9KSxufWZ1bmN0aW9uIGtpKGUsdCxuKXtsZXQgcj1udWxsO2lmKGUmJnFlKGUpKXtjb25zdCBvPVB0KGUsdCk7byYmKHI9byk7Y29uc3Qgcz1FcihlLHQsbik7cyYmKHI9cyl9ZWxzZSByPXRlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYCR7dH0sICR7bn0gc2hvdWxkIGJlIGFuIG9iamVjdCB3aXRoIGRhdGFgKTtyZXR1cm4gcn1mdW5jdGlvbiBPcihlLHQpe2xldCBuPW51bGw7aWYoZSYmcWUoZSkpe2NvbnN0IHI9UHQoZSx0KTtyJiYobj1yKTtjb25zdCBvPXhyKGUsdCk7byYmKG49byl9ZWxzZSBuPXRlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYCR7dH0sIG5hbWVzcGFjZXMgc2hvdWxkIGJlIGFuIG9iamVjdCB3aXRoIGRhdGFgKTtyZXR1cm4gbn1mdW5jdGlvbiBBcihlKXtyZXR1cm4gcShlLnByb3RvY29sLCEwKX1mdW5jdGlvbiBEaShlLHQpe2xldCBuPSExO3JldHVybiB0JiYhZT9uPSEwOmUmJiRlKGUpJiZlLmxlbmd0aCYmZS5mb3JFYWNoKHI9PntuPUFyKHIpfSksbn1mdW5jdGlvbiBNaShlKXtyZXR1cm4gdHlwZW9mIGU9PVwibnVtYmVyXCJ9ZnVuY3Rpb24gVmkoZSl7cmV0dXJuIHR5cGVvZiBlPFwidVwiJiZ0eXBlb2YgZSE9PW51bGx9ZnVuY3Rpb24gSGkoZSl7cmV0dXJuISghZXx8dHlwZW9mIGUhPVwib2JqZWN0XCJ8fCFlLmNvZGV8fCFHZShlLmNvZGUsITEpfHwhZS5tZXNzYWdlfHwhcShlLm1lc3NhZ2UsITEpKX1mdW5jdGlvbiBLaShlKXtyZXR1cm4hKGFlKGUpfHwhcShlLm1ldGhvZCwhMSkpfWZ1bmN0aW9uIEZpKGUpe3JldHVybiEoYWUoZSl8fGFlKGUucmVzdWx0KSYmYWUoZS5lcnJvcil8fCFHZShlLmlkLCExKXx8IXEoZS5qc29ucnBjLCExKSl9ZnVuY3Rpb24gcWkoZSl7cmV0dXJuIShhZShlKXx8IXEoZS5uYW1lLCExKSl9ZnVuY3Rpb24gR2koZSx0KXtyZXR1cm4hKCFSZSh0KXx8IWxyKGUpLmluY2x1ZGVzKHQpKX1mdW5jdGlvbiBXaShlLHQsbil7cmV0dXJuIHEobiwhMSk/ZHIoZSx0KS5pbmNsdWRlcyhuKTohMX1mdW5jdGlvbiB6aShlLHQsbil7cmV0dXJuIHEobiwhMSk/aHIoZSx0KS5pbmNsdWRlcyhuKTohMX1mdW5jdGlvbiBOcihlLHQsbil7bGV0IHI9bnVsbDtjb25zdCBvPUppKGUpLHM9WWkodCksaT1PYmplY3Qua2V5cyhvKSxjPU9iamVjdC5rZXlzKHMpLHU9U3IoT2JqZWN0LmtleXMoZSkpLGE9U3IoT2JqZWN0LmtleXModCkpLGw9dS5maWx0ZXIoZj0+IWEuaW5jbHVkZXMoZikpO3JldHVybiBsLmxlbmd0aCYmKHI9dGUoXCJOT05fQ09ORk9STUlOR19OQU1FU1BBQ0VTXCIsYCR7bn0gbmFtZXNwYWNlcyBrZXlzIGRvbid0IHNhdGlzZnkgcmVxdWlyZWROYW1lc3BhY2VzLlxuICAgICAgUmVxdWlyZWQ6ICR7bC50b1N0cmluZygpfVxuICAgICAgUmVjZWl2ZWQ6ICR7T2JqZWN0LmtleXModCkudG9TdHJpbmcoKX1gKSkscmUoaSxjKXx8KHI9dGUoXCJOT05fQ09ORk9STUlOR19OQU1FU1BBQ0VTXCIsYCR7bn0gbmFtZXNwYWNlcyBjaGFpbnMgZG9uJ3Qgc2F0aXNmeSByZXF1aXJlZCBuYW1lc3BhY2VzLlxuICAgICAgUmVxdWlyZWQ6ICR7aS50b1N0cmluZygpfVxuICAgICAgQXBwcm92ZWQ6ICR7Yy50b1N0cmluZygpfWApKSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGY9PntpZighZi5pbmNsdWRlcyhcIjpcIil8fHIpcmV0dXJuO2NvbnN0IGQ9bGUodFtmXS5hY2NvdW50cyk7ZC5pbmNsdWRlcyhmKXx8KHI9dGUoXCJOT05fQ09ORk9STUlOR19OQU1FU1BBQ0VTXCIsYCR7bn0gbmFtZXNwYWNlcyBhY2NvdW50cyBkb24ndCBzYXRpc2Z5IG5hbWVzcGFjZSBhY2NvdW50cyBmb3IgJHtmfVxuICAgICAgICBSZXF1aXJlZDogJHtmfVxuICAgICAgICBBcHByb3ZlZDogJHtkLnRvU3RyaW5nKCl9YCkpfSksaS5mb3JFYWNoKGY9PntyfHwocmUob1tmXS5tZXRob2RzLHNbZl0ubWV0aG9kcyk/cmUob1tmXS5ldmVudHMsc1tmXS5ldmVudHMpfHwocj10ZShcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGV2ZW50cyBkb24ndCBzYXRpc2Z5IG5hbWVzcGFjZSBldmVudHMgZm9yICR7Zn1gKSk6cj10ZShcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIG1ldGhvZHMgZG9uJ3Qgc2F0aXNmeSBuYW1lc3BhY2UgbWV0aG9kcyBmb3IgJHtmfWApKX0pLHJ9ZnVuY3Rpb24gSmkoZSl7Y29uc3QgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChuPT57dmFyIHI7bi5pbmNsdWRlcyhcIjpcIik/dFtuXT1lW25dOihyPWVbbl0uY2hhaW5zKT09bnVsbHx8ci5mb3JFYWNoKG89Pnt0W29dPXttZXRob2RzOmVbbl0ubWV0aG9kcyxldmVudHM6ZVtuXS5ldmVudHN9fSl9KSx0fWZ1bmN0aW9uIFNyKGUpe3JldHVyblsuLi5uZXcgU2V0KGUubWFwKHQ9PnQuaW5jbHVkZXMoXCI6XCIpP3Quc3BsaXQoXCI6XCIpWzBdOnQpKV19ZnVuY3Rpb24gWWkoZSl7Y29uc3QgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChuPT57aWYobi5pbmNsdWRlcyhcIjpcIikpdFtuXT1lW25dO2Vsc2V7Y29uc3Qgcj1sZShlW25dLmFjY291bnRzKTtyPy5mb3JFYWNoKG89Pnt0W29dPXthY2NvdW50czplW25dLmFjY291bnRzLmZpbHRlcihzPT5zLmluY2x1ZGVzKGAke299OmApKSxtZXRob2RzOmVbbl0ubWV0aG9kcyxldmVudHM6ZVtuXS5ldmVudHN9fSl9fSksdH1mdW5jdGlvbiBYaShlLHQpe3JldHVybiBHZShlLCExKSYmZTw9dC5tYXgmJmU+PXQubWlufWZ1bmN0aW9uIFppKCl7Y29uc3QgZT11ZSgpO3JldHVybiBuZXcgUHJvbWlzZSh0PT57c3dpdGNoKGUpe2Nhc2UgSC5icm93c2VyOnQoVXIoKSk7YnJlYWs7Y2FzZSBILnJlYWN0TmF0aXZlOnQoX3IoKSk7YnJlYWs7Y2FzZSBILm5vZGU6dChUcigpKTticmVhaztkZWZhdWx0OnQoITApfX0pfWZ1bmN0aW9uIFVyKCl7cmV0dXJuIEFlKCkmJm5hdmlnYXRvcj8ub25MaW5lfWFzeW5jIGZ1bmN0aW9uIF9yKCl7aWYobmUoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmZ2xvYmFsIT1udWxsJiZnbG9iYWwuTmV0SW5mbyl7Y29uc3QgZT1hd2FpdChnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5OZXRJbmZvLmZldGNoKCkpO3JldHVybiBlPy5pc0Nvbm5lY3RlZH1yZXR1cm4hMH1mdW5jdGlvbiBUcigpe3JldHVybiEwfWZ1bmN0aW9uIFFpKGUpe3N3aXRjaCh1ZSgpKXtjYXNlIEguYnJvd3NlcjokcihlKTticmVhaztjYXNlIEgucmVhY3ROYXRpdmU6UnIoZSk7YnJlYWs7Y2FzZSBILm5vZGU6YnJlYWt9fWZ1bmN0aW9uICRyKGUpeyFuZSgpJiZBZSgpJiYod2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIiwoKT0+ZSghMCkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCgpPT5lKCExKSkpfWZ1bmN0aW9uIFJyKGUpe25lKCkmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJmdsb2JhbCE9bnVsbCYmZ2xvYmFsLk5ldEluZm8mJmdsb2JhbD8uTmV0SW5mby5hZGRFdmVudExpc3RlbmVyKHQ9PmUodD8uaXNDb25uZWN0ZWQpKX1jb25zdCBCdD17fTtjbGFzcyBlY3tzdGF0aWMgZ2V0KHQpe3JldHVybiBCdFt0XX1zdGF0aWMgc2V0KHQsbil7QnRbdF09bn1zdGF0aWMgZGVsZXRlKHQpe2RlbGV0ZSBCdFt0XX19ZXhwb3J0e090IGFzIEJBU0UxMCxWIGFzIEJBU0UxNixBdCBhcyBCQVNFNjQsdGkgYXMgQkFTRTY0VVJMLEdyIGFzIENPTE9OLFFlIGFzIERFRkFVTFRfREVQVEgsTGUgYXMgRU1QVFlfU1BBQ0UsSCBhcyBFTlZfTUFQLG1yIGFzIElOVEVSTkFMX0VSUk9SUyxlYyBhcyBNZW1vcnlTdG9yZSxXciBhcyBPTkVfVEhPVVNBTkQsRnQgYXMgUkVBQ1RfTkFUSVZFX1BST0RVQ1Qsc3IgYXMgUkVMQVlFUl9ERUZBVUxUX1BST1RPQ09MLHlyIGFzIFNES19FUlJPUlMsR3QgYXMgU0RLX1RZUEUscXQgYXMgU0xBU0gsTnQgYXMgVFlQRV8wLE9lIGFzIFRZUEVfMSxfZSBhcyBUWVBFXzIsSWUgYXMgVVRGOCwkbiBhcyBhZGRSZXNvdXJjZVRvUmVjYXAsV3QgYXMgYXBwZW5kVG9RdWVyeVN0cmluZyx0byBhcyBhc3NlcnRUeXBlLGZ0IGFzIGFzc2lnbkFiaWxpdHlUb0FjdGlvbnMsX24gYXMgYmFzZTY0RGVjb2RlLFVuIGFzIGJhc2U2NEVuY29kZSwkaSBhcyBidWlsZEFwcHJvdmVkTmFtZXNwYWNlcyxRbyBhcyBidWlsZEF1dGhPYmplY3QsUmkgYXMgYnVpbGROYW1lc3BhY2VzRnJvbUF1dGgsUG4gYXMgYnVpbGRSZWNhcFN0YXRlbWVudCxwbyBhcyBjYWxjRXhwaXJ5LGNvIGFzIGNhcGl0YWxpemUsUXQgYXMgY2FwaXRhbGl6ZVdvcmQsYW8gYXMgY3JlYXRlRGVsYXllZFByb21pc2UscnMgYXMgY3JlYXRlRW5jb2RlZFJlY2FwLHVvIGFzIGNyZWF0ZUV4cGlyaW5nUHJvbWlzZSxUbiBhcyBjcmVhdGVSZWNhcCxvZSBhcyBkZWNvZGVSZWNhcCxmZSBhcyBkZWNvZGVUeXBlQnl0ZSxsaSBhcyBkZWNvZGVUeXBlVHdvRW52ZWxvcGUsdWkgYXMgZGVjcnlwdCxzaSBhcyBkZXJpdmVTeW1LZXksRmUgYXMgZGVzZXJpYWxpemUsRGUgYXMgZW5jb2RlUmVjYXAsVXQgYXMgZW5jb2RlVHlwZUJ5dGUsZmkgYXMgZW5jb2RlVHlwZVR3b0VudmVsb3BlLGFpIGFzIGVuY3J5cHQseW8gYXMgZW5naW5lRXZlbnQsaW8gYXMgZW51bWlmeSxxbyBhcyBleHRyYWN0U29sYW5hVHJhbnNhY3Rpb25JZCxNdCBhcyBmb3JtYXRBY2NvdW50SWQsVnIgYXMgZm9ybWF0QWNjb3VudFdpdGhDaGFpbixEdCBhcyBmb3JtYXRDaGFpbklkLGVuIGFzIGZvcm1hdERlZXBsaW5rVXJsLHR0IGFzIGZvcm1hdEV4cGlyZXJUYXJnZXQsbG8gYXMgZm9ybWF0SWRUYXJnZXQsT24gYXMgZm9ybWF0TWVzc2FnZSxubyBhcyBmb3JtYXRNZXNzYWdlQ29udGV4dCxhciBhcyBmb3JtYXRSZWxheVBhcmFtcyxRciBhcyBmb3JtYXRSZWxheVJwY1VybCxkdCBhcyBmb3JtYXRTdGF0ZW1lbnRGcm9tUmVjYXAsZm8gYXMgZm9ybWF0VG9waWNUYXJnZXQsWXQgYXMgZm9ybWF0VUEsdmkgYXMgZm9ybWF0VXJpLHJ0IGFzIGZyb21CYXNlNjQscmkgYXMgZ2VuZXJhdGVLZXlQYWlyLG9pIGFzIGdlbmVyYXRlUmFuZG9tQnl0ZXMzMixsZSBhcyBnZXRBY2NvdW50c0NoYWlucyxLciBhcyBnZXRBY2NvdW50c0Zyb21OYW1lc3BhY2VzLFZ0IGFzIGdldEFkZHJlc3NGcm9tQWNjb3VudCxIciBhcyBnZXRBZGRyZXNzZXNGcm9tQWNjb3VudHMsWXIgYXMgZ2V0QXBwSWQsWHIgYXMgZ2V0QXBwTWV0YWRhdGEsVXIgYXMgZ2V0QnJvd3Nlck9ubGluZVN0YXR1cyxIdCBhcyBnZXRDaGFpbkZyb21BY2NvdW50LEt0IGFzIGdldENoYWluc0Zyb21BY2NvdW50cyxCZSBhcyBnZXRDaGFpbnNGcm9tTmFtZXNwYWNlLEZyIGFzIGdldENoYWluc0Zyb21OYW1lc3BhY2VzLGlzIGFzIGdldENoYWluc0Zyb21SZWNhcCxxciBhcyBnZXRDaGFpbnNGcm9tUmVxdWlyZWROYW1lc3BhY2VzLG50IGFzIGdldENvbW1vblZhbHVlc0luQXJyYXlzLG9yIGFzIGdldENyeXB0b0tleUZyb21LZXlEYXRhLEFuIGFzIGdldERlY29kZWRSZWNhcEZyb21SZXNvdXJjZXMsYm8gYXMgZ2V0RGVlcExpbmssdXQgYXMgZ2V0RGlkQWRkcmVzcyxrZSBhcyBnZXREaWRBZGRyZXNzU2VnbWVudHMseG4gYXMgZ2V0RGlkQ2hhaW5JZCx1ZSBhcyBnZXRFbnZpcm9ubWVudCxlbyBhcyBnZXRIdHRwVXJsLHRlIGFzIGdldEludGVybmFsRXJyb3IsSnQgYXMgZ2V0SmF2YXNjcmlwdElELHp0IGFzIGdldEphdmFzY3JpcHRPUyxadCBhcyBnZXRMYXN0SXRlbXMseGkgYXMgZ2V0TGlua01vZGVVUkwsc3MgYXMgZ2V0TWV0aG9kc0Zyb21SZWNhcCxJbiBhcyBnZXROYW1lc3BhY2VkRGlkQ2hhaW5JZCxsciBhcyBnZXROYW1lc3BhY2VzQ2hhaW5zLGhyIGFzIGdldE5hbWVzcGFjZXNFdmVudHNGb3JDaGFpbklkLGdyIGFzIGdldE5hbWVzcGFjZXNGcm9tQWNjb3VudHMsZHIgYXMgZ2V0TmFtZXNwYWNlc01ldGhvZHNGb3JDaGFpbklkLFRyIGFzIGdldE5vZGVPbmxpbmVTdGF0dXMsU24gYXMgZ2V0UmVDYXBBY3Rpb25zLF9yIGFzIGdldFJlYWN0TmF0aXZlT25saW5lU3RhdHVzLG5zIGFzIGdldFJlY2FwQWJpbGl0aWVzRnJvbVJlc291cmNlLE1lIGFzIGdldFJlY2FwRnJvbVJlc291cmNlcyxObiBhcyBnZXRSZWNhcFJlc291cmNlLFpyIGFzIGdldFJlbGF5Q2xpZW50TWV0YWRhdGEsd2kgYXMgZ2V0UmVsYXlQcm90b2NvbEFwaSxiaSBhcyBnZXRSZWxheVByb3RvY29sTmFtZSxUaSBhcyBnZXRSZXF1aXJlZE5hbWVzcGFjZXNGcm9tTmFtZXNwYWNlcyxkZSBhcyBnZXRTZGtFcnJvcix3byBhcyBnZXRTZWFyY2hQYXJhbUZyb21VUkwsWmUgYXMgZ2V0VW5pcXVlVmFsdWVzLG1vIGFzIGhhbmRsZURlZXBsaW5rUmVkaXJlY3QscmUgYXMgaGFzT3ZlcmxhcCxjdCBhcyBoYXNoRXRoZXJldW1NZXNzYWdlLGlpIGFzIGhhc2hLZXksY2kgYXMgaGFzaE1lc3NhZ2UsenIgYXMgaXNBbmRyb2lkLEFlIGFzIGlzQnJvd3NlcixUdCBhcyBpc0NhaXBOYW1lc3BhY2UsTnIgYXMgaXNDb25mb3JtaW5nTmFtZXNwYWNlcyxnbyBhcyBpc0V4cGlyZWQscm4gYXMgaXNJZnJhbWUsSnIgYXMgaXNJb3MsZXQgYXMgaXNOb2RlLFppIGFzIGlzT25saW5lLExpIGFzIGlzUHJvcG9zYWxTdHJ1Y3QsbmUgYXMgaXNSZWFjdE5hdGl2ZSxsdCBhcyBpc1JlY2FwLFBpIGFzIGlzU2Vzc2lvbkNvbXBhdGlibGUsamkgYXMgaXNTZXNzaW9uU3RydWN0LG5uIGFzIGlzVGVsZWdyYW0sdm8gYXMgaXNUZXN0UnVuLGhpIGFzIGlzVHlwZU9uZUVudmVsb3BlLHBpIGFzIGlzVHlwZVR3b0VudmVsb3BlLGFlIGFzIGlzVW5kZWZpbmVkLGJyIGFzIGlzVmFsaWRBY2NvdW50SWQsdnIgYXMgaXNWYWxpZEFjY291bnRzLElyIGFzIGlzVmFsaWRBY3Rpb25zLCRlIGFzIGlzVmFsaWRBcnJheSxSZSBhcyBpc1ZhbGlkQ2hhaW5JZCx3ciBhcyBpc1ZhbGlkQ2hhaW5zLENpIGFzIGlzVmFsaWRDb250cm9sbGVyLGJuIGFzIGlzVmFsaWRFaXAxMjcxU2lnbmF0dXJlLG1uIGFzIGlzVmFsaWRFaXAxOTFTaWduYXR1cmUsSGkgYXMgaXNWYWxpZEVycm9yUmVhc29uLHFpIGFzIGlzVmFsaWRFdmVudCxNaSBhcyBpc1ZhbGlkSWQseHIgYXMgaXNWYWxpZE5hbWVzcGFjZUFjY291bnRzLFB0IGFzIGlzVmFsaWROYW1lc3BhY2VBY3Rpb25zLEVyIGFzIGlzVmFsaWROYW1lc3BhY2VDaGFpbnMsUnQgYXMgaXNWYWxpZE5hbWVzcGFjZU1ldGhvZHNPckV2ZW50cyxPciBhcyBpc1ZhbGlkTmFtZXNwYWNlcyxHaSBhcyBpc1ZhbGlkTmFtZXNwYWNlc0NoYWluSWQsemkgYXMgaXNWYWxpZE5hbWVzcGFjZXNFdmVudCxXaSBhcyBpc1ZhbGlkTmFtZXNwYWNlc1JlcXVlc3QsR2UgYXMgaXNWYWxpZE51bWJlcixxZSBhcyBpc1ZhbGlkT2JqZWN0LFZpIGFzIGlzVmFsaWRQYXJhbXMsWSBhcyBpc1ZhbGlkUmVjYXAsQXIgYXMgaXNWYWxpZFJlbGF5LERpIGFzIGlzVmFsaWRSZWxheXMsS2kgYXMgaXNWYWxpZFJlcXVlc3QsWGkgYXMgaXNWYWxpZFJlcXVlc3RFeHBpcnksa2kgYXMgaXNWYWxpZFJlcXVpcmVkTmFtZXNwYWNlcyxGaSBhcyBpc1ZhbGlkUmVzcG9uc2UscSBhcyBpc1ZhbGlkU3RyaW5nLEJpIGFzIGlzVmFsaWRVcmwsc28gYXMgbWFwRW50cmllcyxybyBhcyBtYXBUb09iaixRIGFzIG1lcmdlQXJyYXlzLG9zIGFzIG1lcmdlRW5jb2RlZFJlY2FwcyxSbiBhcyBtZXJnZVJlY2FwcywkdCBhcyBub3JtYWxpemVOYW1lc3BhY2VzLG9vIGFzIG9ialRvTWFwLHRuIGFzIG9wZW5EZWVwbGluayxYZSBhcyBwYXJzZUFjY291bnRJZCxZZSBhcyBwYXJzZUNoYWluSWQsWHQgYXMgcGFyc2VDb250ZXh0TmFtZXMsaG8gYXMgcGFyc2VFeHBpcmVyVGFyZ2V0LHByIGFzIHBhcnNlTmFtZXNwYWNlS2V5LGlyIGFzIHBhcnNlUmVsYXlQYXJhbXMsY3IgYXMgcGFyc2VUb3BpYyxFaSBhcyBwYXJzZVVyaSxlcyBhcyBwb3B1bGF0ZUF1dGhQYXlsb2FkLHRzIGFzIHJlY2FwSGFzUmVzb3VyY2UsX3QgYXMgc2VyaWFsaXplLHhvIGFzIHNsZWVwLCRyIGFzIHN1YnNjcmliZVRvQnJvd3Nlck5ldHdvcmtDaGFuZ2UsUWkgYXMgc3Vic2NyaWJlVG9OZXR3b3JrQ2hhbmdlLFJyIGFzIHN1YnNjcmliZVRvUmVhY3ROYXRpdmVOZXR3b3JrQ2hhbmdlLG9uIGFzIHRvQmFzZTY0LEVvIGFzIHV1aWR2NCxkaSBhcyB2YWxpZGF0ZURlY29kaW5nLHJyIGFzIHZhbGlkYXRlRW5jb2RpbmcsWm8gYXMgdmFsaWRhdGVTaWduZWRDYWNhbyxtaSBhcyB2ZXJpZnlQMjU2Snd0LHluIGFzIHZlcmlmeVNpZ25hdHVyZX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/unstorage/dist/index.mjs":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/unstorage/dist/index.mjs ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   builtinDrivers: () => (/* binding */ builtinDrivers),\n/* harmony export */   createStorage: () => (/* binding */ createStorage),\n/* harmony export */   defineDriver: () => (/* binding */ defineDriver),\n/* harmony export */   filterKeyByBase: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   filterKeyByDepth: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.f),\n/* harmony export */   joinKeys: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.j),\n/* harmony export */   normalizeBaseKey: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n),\n/* harmony export */   normalizeKey: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   prefixStorage: () => (/* reexport safe */ _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.p),\n/* harmony export */   restoreSnapshot: () => (/* binding */ restoreSnapshot),\n/* harmony export */   snapshot: () => (/* binding */ snapshot)\n/* harmony export */ });\n/* harmony import */ var destr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! destr */ \"(ssr)/./node_modules/destr/dist/index.mjs\");\n/* harmony import */ var _shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shared/unstorage.mNKHTF5Y.mjs */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/unstorage/dist/shared/unstorage.mNKHTF5Y.mjs\");\n\n\n\n\nfunction defineDriver(factory) {\n  return factory;\n}\n\nconst DRIVER_NAME = \"memory\";\nconst memory = defineDriver(() => {\n  const data = /* @__PURE__ */ new Map();\n  return {\n    name: DRIVER_NAME,\n    getInstance: () => data,\n    hasItem(key) {\n      return data.has(key);\n    },\n    getItem(key) {\n      return data.get(key) ?? null;\n    },\n    getItemRaw(key) {\n      return data.get(key) ?? null;\n    },\n    setItem(key, value) {\n      data.set(key, value);\n    },\n    setItemRaw(key, value) {\n      data.set(key, value);\n    },\n    removeItem(key) {\n      data.delete(key);\n    },\n    getKeys() {\n      return [...data.keys()];\n    },\n    clear() {\n      data.clear();\n    },\n    dispose() {\n      data.clear();\n    }\n  };\n});\n\nfunction createStorage(options = {}) {\n  const context = {\n    mounts: { \"\": options.driver || memory() },\n    mountpoints: [\"\"],\n    watching: false,\n    watchListeners: [],\n    unwatch: {}\n  };\n  const getMount = (key) => {\n    for (const base of context.mountpoints) {\n      if (key.startsWith(base)) {\n        return {\n          base,\n          relativeKey: key.slice(base.length),\n          driver: context.mounts[base]\n        };\n      }\n    }\n    return {\n      base: \"\",\n      relativeKey: key,\n      driver: context.mounts[\"\"]\n    };\n  };\n  const getMounts = (base, includeParent) => {\n    return context.mountpoints.filter(\n      (mountpoint) => mountpoint.startsWith(base) || includeParent && base.startsWith(mountpoint)\n    ).map((mountpoint) => ({\n      relativeBase: base.length > mountpoint.length ? base.slice(mountpoint.length) : void 0,\n      mountpoint,\n      driver: context.mounts[mountpoint]\n    }));\n  };\n  const onChange = (event, key) => {\n    if (!context.watching) {\n      return;\n    }\n    key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n    for (const listener of context.watchListeners) {\n      listener(event, key);\n    }\n  };\n  const startWatch = async () => {\n    if (context.watching) {\n      return;\n    }\n    context.watching = true;\n    for (const mountpoint in context.mounts) {\n      context.unwatch[mountpoint] = await watch(\n        context.mounts[mountpoint],\n        onChange,\n        mountpoint\n      );\n    }\n  };\n  const stopWatch = async () => {\n    if (!context.watching) {\n      return;\n    }\n    for (const mountpoint in context.unwatch) {\n      await context.unwatch[mountpoint]();\n    }\n    context.unwatch = {};\n    context.watching = false;\n  };\n  const runBatch = (items, commonOptions, cb) => {\n    const batches = /* @__PURE__ */ new Map();\n    const getBatch = (mount) => {\n      let batch = batches.get(mount.base);\n      if (!batch) {\n        batch = {\n          driver: mount.driver,\n          base: mount.base,\n          items: []\n        };\n        batches.set(mount.base, batch);\n      }\n      return batch;\n    };\n    for (const item of items) {\n      const isStringItem = typeof item === \"string\";\n      const key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(isStringItem ? item : item.key);\n      const value = isStringItem ? void 0 : item.value;\n      const options2 = isStringItem || !item.options ? commonOptions : { ...commonOptions, ...item.options };\n      const mount = getMount(key);\n      getBatch(mount).items.push({\n        key,\n        value,\n        relativeKey: mount.relativeKey,\n        options: options2\n      });\n    }\n    return Promise.all([...batches.values()].map((batch) => cb(batch))).then(\n      (r) => r.flat()\n    );\n  };\n  const storage = {\n    // Item\n    hasItem(key, opts = {}) {\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.hasItem, relativeKey, opts);\n    },\n    getItem(key, opts = {}) {\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getItem, relativeKey, opts).then(\n        (value) => (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value)\n      );\n    },\n    getItems(items, commonOptions = {}) {\n      return runBatch(items, commonOptions, (batch) => {\n        if (batch.driver.getItems) {\n          return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n            batch.driver.getItems,\n            batch.items.map((item) => ({\n              key: item.relativeKey,\n              options: item.options\n            })),\n            commonOptions\n          ).then(\n            (r) => r.map((item) => ({\n              key: (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(batch.base, item.key),\n              value: (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(item.value)\n            }))\n          );\n        }\n        return Promise.all(\n          batch.items.map((item) => {\n            return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n              batch.driver.getItem,\n              item.relativeKey,\n              item.options\n            ).then((value) => ({\n              key: item.key,\n              value: (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value)\n            }));\n          })\n        );\n      });\n    },\n    getItemRaw(key, opts = {}) {\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (driver.getItemRaw) {\n        return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getItemRaw, relativeKey, opts);\n      }\n      return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getItem, relativeKey, opts).then(\n        (value) => (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.e)(value)\n      );\n    },\n    async setItem(key, value, opts = {}) {\n      if (value === void 0) {\n        return storage.removeItem(key);\n      }\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (!driver.setItem) {\n        return;\n      }\n      await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.setItem, relativeKey, (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(value), opts);\n      if (!driver.watch) {\n        onChange(\"update\", key);\n      }\n    },\n    async setItems(items, commonOptions) {\n      await runBatch(items, commonOptions, async (batch) => {\n        if (batch.driver.setItems) {\n          return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n            batch.driver.setItems,\n            batch.items.map((item) => ({\n              key: item.relativeKey,\n              value: (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(item.value),\n              options: item.options\n            })),\n            commonOptions\n          );\n        }\n        if (!batch.driver.setItem) {\n          return;\n        }\n        await Promise.all(\n          batch.items.map((item) => {\n            return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n              batch.driver.setItem,\n              item.relativeKey,\n              (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(item.value),\n              item.options\n            );\n          })\n        );\n      });\n    },\n    async setItemRaw(key, value, opts = {}) {\n      if (value === void 0) {\n        return storage.removeItem(key, opts);\n      }\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (driver.setItemRaw) {\n        await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.setItemRaw, relativeKey, value, opts);\n      } else if (driver.setItem) {\n        await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.setItem, relativeKey, (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(value), opts);\n      } else {\n        return;\n      }\n      if (!driver.watch) {\n        onChange(\"update\", key);\n      }\n    },\n    async removeItem(key, opts = {}) {\n      if (typeof opts === \"boolean\") {\n        opts = { removeMeta: opts };\n      }\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (!driver.removeItem) {\n        return;\n      }\n      await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.removeItem, relativeKey, opts);\n      if (opts.removeMeta || opts.removeMata) {\n        await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.removeItem, relativeKey + \"$\", opts);\n      }\n      if (!driver.watch) {\n        onChange(\"remove\", key);\n      }\n    },\n    // Meta\n    async getMeta(key, opts = {}) {\n      if (typeof opts === \"boolean\") {\n        opts = { nativeOnly: opts };\n      }\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      const meta = /* @__PURE__ */ Object.create(null);\n      if (driver.getMeta) {\n        Object.assign(meta, await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getMeta, relativeKey, opts));\n      }\n      if (!opts.nativeOnly) {\n        const value = await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n          driver.getItem,\n          relativeKey + \"$\",\n          opts\n        ).then((value_) => (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value_));\n        if (value && typeof value === \"object\") {\n          if (typeof value.atime === \"string\") {\n            value.atime = new Date(value.atime);\n          }\n          if (typeof value.mtime === \"string\") {\n            value.mtime = new Date(value.mtime);\n          }\n          Object.assign(meta, value);\n        }\n      }\n      return meta;\n    },\n    setMeta(key, value, opts = {}) {\n      return this.setItem(key + \"$\", value, opts);\n    },\n    removeMeta(key, opts = {}) {\n      return this.removeItem(key + \"$\", opts);\n    },\n    // Keys\n    async getKeys(base, opts = {}) {\n      base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      const mounts = getMounts(base, true);\n      let maskedMounts = [];\n      const allKeys = [];\n      let allMountsSupportMaxDepth = true;\n      for (const mount of mounts) {\n        if (!mount.driver.flags?.maxDepth) {\n          allMountsSupportMaxDepth = false;\n        }\n        const rawKeys = await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n          mount.driver.getKeys,\n          mount.relativeBase,\n          opts\n        );\n        for (const key of rawKeys) {\n          const fullKey = mount.mountpoint + (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n          if (!maskedMounts.some((p) => fullKey.startsWith(p))) {\n            allKeys.push(fullKey);\n          }\n        }\n        maskedMounts = [\n          mount.mountpoint,\n          ...maskedMounts.filter((p) => !p.startsWith(mount.mountpoint))\n        ];\n      }\n      const shouldFilterByDepth = opts.maxDepth !== void 0 && !allMountsSupportMaxDepth;\n      return allKeys.filter(\n        (key) => (!shouldFilterByDepth || (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(key, opts.maxDepth)) && (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(key, base)\n      );\n    },\n    // Utils\n    async clear(base, opts = {}) {\n      base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      await Promise.all(\n        getMounts(base, false).map(async (m) => {\n          if (m.driver.clear) {\n            return (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(m.driver.clear, m.relativeBase, opts);\n          }\n          if (m.driver.removeItem) {\n            const keys = await m.driver.getKeys(m.relativeBase || \"\", opts);\n            return Promise.all(\n              keys.map((key) => m.driver.removeItem(key, opts))\n            );\n          }\n        })\n      );\n    },\n    async dispose() {\n      await Promise.all(\n        Object.values(context.mounts).map((driver) => dispose(driver))\n      );\n    },\n    async watch(callback) {\n      await startWatch();\n      context.watchListeners.push(callback);\n      return async () => {\n        context.watchListeners = context.watchListeners.filter(\n          (listener) => listener !== callback\n        );\n        if (context.watchListeners.length === 0) {\n          await stopWatch();\n        }\n      };\n    },\n    async unwatch() {\n      context.watchListeners = [];\n      await stopWatch();\n    },\n    // Mount\n    mount(base, driver) {\n      base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      if (base && context.mounts[base]) {\n        throw new Error(`already mounted at ${base}`);\n      }\n      if (base) {\n        context.mountpoints.push(base);\n        context.mountpoints.sort((a, b) => b.length - a.length);\n      }\n      context.mounts[base] = driver;\n      if (context.watching) {\n        Promise.resolve(watch(driver, onChange, base)).then((unwatcher) => {\n          context.unwatch[base] = unwatcher;\n        }).catch(console.error);\n      }\n      return storage;\n    },\n    async unmount(base, _dispose = true) {\n      base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      if (!base || !context.mounts[base]) {\n        return;\n      }\n      if (context.watching && base in context.unwatch) {\n        context.unwatch[base]?.();\n        delete context.unwatch[base];\n      }\n      if (_dispose) {\n        await dispose(context.mounts[base]);\n      }\n      context.mountpoints = context.mountpoints.filter((key) => key !== base);\n      delete context.mounts[base];\n    },\n    getMount(key = \"\") {\n      key = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key) + \":\";\n      const m = getMount(key);\n      return {\n        driver: m.driver,\n        base: m.base\n      };\n    },\n    getMounts(base = \"\", opts = {}) {\n      base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(base);\n      const mounts = getMounts(base, opts.parents);\n      return mounts.map((m) => ({\n        driver: m.driver,\n        base: m.mountpoint\n      }));\n    },\n    // Aliases\n    keys: (base, opts = {}) => storage.getKeys(base, opts),\n    get: (key, opts = {}) => storage.getItem(key, opts),\n    set: (key, value, opts = {}) => storage.setItem(key, value, opts),\n    has: (key, opts = {}) => storage.hasItem(key, opts),\n    del: (key, opts = {}) => storage.removeItem(key, opts),\n    remove: (key, opts = {}) => storage.removeItem(key, opts)\n  };\n  return storage;\n}\nasync function snapshot(storage, base) {\n  base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n  const keys = await storage.getKeys(base);\n  const snapshot2 = {};\n  await Promise.all(\n    keys.map(async (key) => {\n      snapshot2[key.slice(base.length)] = await storage.getItem(key);\n    })\n  );\n  return snapshot2;\n}\nasync function restoreSnapshot(driver, snapshot2, base = \"\") {\n  base = (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n  await Promise.all(\n    Object.entries(snapshot2).map((e) => driver.setItem(base + e[0], e[1]))\n  );\n}\nfunction watch(driver, onChange, base) {\n  return driver.watch ? driver.watch((event, key) => onChange(event, base + key)) : () => {\n  };\n}\nasync function dispose(driver) {\n  if (typeof driver.dispose === \"function\") {\n    await (0,_shared_unstorage_mNKHTF5Y_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.dispose);\n  }\n}\n\nconst builtinDrivers = {\n  \"azure-app-configuration\": \"unstorage/drivers/azure-app-configuration\",\n  \"azureAppConfiguration\": \"unstorage/drivers/azure-app-configuration\",\n  \"azure-cosmos\": \"unstorage/drivers/azure-cosmos\",\n  \"azureCosmos\": \"unstorage/drivers/azure-cosmos\",\n  \"azure-key-vault\": \"unstorage/drivers/azure-key-vault\",\n  \"azureKeyVault\": \"unstorage/drivers/azure-key-vault\",\n  \"azure-storage-blob\": \"unstorage/drivers/azure-storage-blob\",\n  \"azureStorageBlob\": \"unstorage/drivers/azure-storage-blob\",\n  \"azure-storage-table\": \"unstorage/drivers/azure-storage-table\",\n  \"azureStorageTable\": \"unstorage/drivers/azure-storage-table\",\n  \"capacitor-preferences\": \"unstorage/drivers/capacitor-preferences\",\n  \"capacitorPreferences\": \"unstorage/drivers/capacitor-preferences\",\n  \"cloudflare-kv-binding\": \"unstorage/drivers/cloudflare-kv-binding\",\n  \"cloudflareKVBinding\": \"unstorage/drivers/cloudflare-kv-binding\",\n  \"cloudflare-kv-http\": \"unstorage/drivers/cloudflare-kv-http\",\n  \"cloudflareKVHttp\": \"unstorage/drivers/cloudflare-kv-http\",\n  \"cloudflare-r2-binding\": \"unstorage/drivers/cloudflare-r2-binding\",\n  \"cloudflareR2Binding\": \"unstorage/drivers/cloudflare-r2-binding\",\n  \"db0\": \"unstorage/drivers/db0\",\n  \"deno-kv-node\": \"unstorage/drivers/deno-kv-node\",\n  \"denoKVNode\": \"unstorage/drivers/deno-kv-node\",\n  \"deno-kv\": \"unstorage/drivers/deno-kv\",\n  \"denoKV\": \"unstorage/drivers/deno-kv\",\n  \"fs-lite\": \"unstorage/drivers/fs-lite\",\n  \"fsLite\": \"unstorage/drivers/fs-lite\",\n  \"fs\": \"unstorage/drivers/fs\",\n  \"github\": \"unstorage/drivers/github\",\n  \"http\": \"unstorage/drivers/http\",\n  \"indexedb\": \"unstorage/drivers/indexedb\",\n  \"localstorage\": \"unstorage/drivers/localstorage\",\n  \"lru-cache\": \"unstorage/drivers/lru-cache\",\n  \"lruCache\": \"unstorage/drivers/lru-cache\",\n  \"memory\": \"unstorage/drivers/memory\",\n  \"mongodb\": \"unstorage/drivers/mongodb\",\n  \"netlify-blobs\": \"unstorage/drivers/netlify-blobs\",\n  \"netlifyBlobs\": \"unstorage/drivers/netlify-blobs\",\n  \"null\": \"unstorage/drivers/null\",\n  \"overlay\": \"unstorage/drivers/overlay\",\n  \"planetscale\": \"unstorage/drivers/planetscale\",\n  \"redis\": \"unstorage/drivers/redis\",\n  \"s3\": \"unstorage/drivers/s3\",\n  \"session-storage\": \"unstorage/drivers/session-storage\",\n  \"sessionStorage\": \"unstorage/drivers/session-storage\",\n  \"uploadthing\": \"unstorage/drivers/uploadthing\",\n  \"upstash\": \"unstorage/drivers/upstash\",\n  \"vercel-blob\": \"unstorage/drivers/vercel-blob\",\n  \"vercelBlob\": \"unstorage/drivers/vercel-blob\",\n  \"vercel-kv\": \"unstorage/drivers/vercel-kv\",\n  \"vercelKV\": \"unstorage/drivers/vercel-kv\"\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91bnN0b3JhZ2UvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQjtBQUNxTTtBQUMxSjs7QUFFckU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsbUNBQW1DO0FBQ25DO0FBQ0EsY0FBYyxnQ0FBZ0M7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUVBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsaUVBQVk7QUFDOUI7QUFDQSx5RUFBeUU7QUFDekU7QUFDQTtBQUNBO0FBQ0E7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrSiIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3Vuc3RvcmFnZS9kaXN0L2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVzdHIgZnJvbSAnZGVzdHInO1xuaW1wb3J0IHsgbiBhcyBub3JtYWxpemVCYXNlS2V5LCBhIGFzIG5vcm1hbGl6ZUtleSwgYiBhcyBhc3luY0NhbGwsIGYgYXMgZmlsdGVyS2V5QnlEZXB0aCwgYyBhcyBmaWx0ZXJLZXlCeUJhc2UsIHMgYXMgc2VyaWFsaXplUmF3LCBkIGFzIHN0cmluZ2lmeSwgZSBhcyBkZXNlcmlhbGl6ZVJhdywgaiBhcyBqb2luS2V5cyB9IGZyb20gJy4vc2hhcmVkL3Vuc3RvcmFnZS5tTktIVEY1WS5tanMnO1xuZXhwb3J0IHsgcCBhcyBwcmVmaXhTdG9yYWdlIH0gZnJvbSAnLi9zaGFyZWQvdW5zdG9yYWdlLm1OS0hURjVZLm1qcyc7XG5cbmZ1bmN0aW9uIGRlZmluZURyaXZlcihmYWN0b3J5KSB7XG4gIHJldHVybiBmYWN0b3J5O1xufVxuXG5jb25zdCBEUklWRVJfTkFNRSA9IFwibWVtb3J5XCI7XG5jb25zdCBtZW1vcnkgPSBkZWZpbmVEcml2ZXIoKCkgPT4ge1xuICBjb25zdCBkYXRhID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBEUklWRVJfTkFNRSxcbiAgICBnZXRJbnN0YW5jZTogKCkgPT4gZGF0YSxcbiAgICBoYXNJdGVtKGtleSkge1xuICAgICAgcmV0dXJuIGRhdGEuaGFzKGtleSk7XG4gICAgfSxcbiAgICBnZXRJdGVtKGtleSkge1xuICAgICAgcmV0dXJuIGRhdGEuZ2V0KGtleSkgPz8gbnVsbDtcbiAgICB9LFxuICAgIGdldEl0ZW1SYXcoa2V5KSB7XG4gICAgICByZXR1cm4gZGF0YS5nZXQoa2V5KSA/PyBudWxsO1xuICAgIH0sXG4gICAgc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICB9LFxuICAgIHNldEl0ZW1SYXcoa2V5LCB2YWx1ZSkge1xuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfSxcbiAgICByZW1vdmVJdGVtKGtleSkge1xuICAgICAgZGF0YS5kZWxldGUoa2V5KTtcbiAgICB9LFxuICAgIGdldEtleXMoKSB7XG4gICAgICByZXR1cm4gWy4uLmRhdGEua2V5cygpXTtcbiAgICB9LFxuICAgIGNsZWFyKCkge1xuICAgICAgZGF0YS5jbGVhcigpO1xuICAgIH0sXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgIGRhdGEuY2xlYXIoKTtcbiAgICB9XG4gIH07XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlU3RvcmFnZShvcHRpb25zID0ge30pIHtcbiAgY29uc3QgY29udGV4dCA9IHtcbiAgICBtb3VudHM6IHsgXCJcIjogb3B0aW9ucy5kcml2ZXIgfHwgbWVtb3J5KCkgfSxcbiAgICBtb3VudHBvaW50czogW1wiXCJdLFxuICAgIHdhdGNoaW5nOiBmYWxzZSxcbiAgICB3YXRjaExpc3RlbmVyczogW10sXG4gICAgdW53YXRjaDoge31cbiAgfTtcbiAgY29uc3QgZ2V0TW91bnQgPSAoa2V5KSA9PiB7XG4gICAgZm9yIChjb25zdCBiYXNlIG9mIGNvbnRleHQubW91bnRwb2ludHMpIHtcbiAgICAgIGlmIChrZXkuc3RhcnRzV2l0aChiYXNlKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGJhc2UsXG4gICAgICAgICAgcmVsYXRpdmVLZXk6IGtleS5zbGljZShiYXNlLmxlbmd0aCksXG4gICAgICAgICAgZHJpdmVyOiBjb250ZXh0Lm1vdW50c1tiYXNlXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgYmFzZTogXCJcIixcbiAgICAgIHJlbGF0aXZlS2V5OiBrZXksXG4gICAgICBkcml2ZXI6IGNvbnRleHQubW91bnRzW1wiXCJdXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgZ2V0TW91bnRzID0gKGJhc2UsIGluY2x1ZGVQYXJlbnQpID0+IHtcbiAgICByZXR1cm4gY29udGV4dC5tb3VudHBvaW50cy5maWx0ZXIoXG4gICAgICAobW91bnRwb2ludCkgPT4gbW91bnRwb2ludC5zdGFydHNXaXRoKGJhc2UpIHx8IGluY2x1ZGVQYXJlbnQgJiYgYmFzZS5zdGFydHNXaXRoKG1vdW50cG9pbnQpXG4gICAgKS5tYXAoKG1vdW50cG9pbnQpID0+ICh7XG4gICAgICByZWxhdGl2ZUJhc2U6IGJhc2UubGVuZ3RoID4gbW91bnRwb2ludC5sZW5ndGggPyBiYXNlLnNsaWNlKG1vdW50cG9pbnQubGVuZ3RoKSA6IHZvaWQgMCxcbiAgICAgIG1vdW50cG9pbnQsXG4gICAgICBkcml2ZXI6IGNvbnRleHQubW91bnRzW21vdW50cG9pbnRdXG4gICAgfSkpO1xuICB9O1xuICBjb25zdCBvbkNoYW5nZSA9IChldmVudCwga2V5KSA9PiB7XG4gICAgaWYgKCFjb250ZXh0LndhdGNoaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgY29udGV4dC53YXRjaExpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXIoZXZlbnQsIGtleSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBzdGFydFdhdGNoID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChjb250ZXh0LndhdGNoaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnRleHQud2F0Y2hpbmcgPSB0cnVlO1xuICAgIGZvciAoY29uc3QgbW91bnRwb2ludCBpbiBjb250ZXh0Lm1vdW50cykge1xuICAgICAgY29udGV4dC51bndhdGNoW21vdW50cG9pbnRdID0gYXdhaXQgd2F0Y2goXG4gICAgICAgIGNvbnRleHQubW91bnRzW21vdW50cG9pbnRdLFxuICAgICAgICBvbkNoYW5nZSxcbiAgICAgICAgbW91bnRwb2ludFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHN0b3BXYXRjaCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWNvbnRleHQud2F0Y2hpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBtb3VudHBvaW50IGluIGNvbnRleHQudW53YXRjaCkge1xuICAgICAgYXdhaXQgY29udGV4dC51bndhdGNoW21vdW50cG9pbnRdKCk7XG4gICAgfVxuICAgIGNvbnRleHQudW53YXRjaCA9IHt9O1xuICAgIGNvbnRleHQud2F0Y2hpbmcgPSBmYWxzZTtcbiAgfTtcbiAgY29uc3QgcnVuQmF0Y2ggPSAoaXRlbXMsIGNvbW1vbk9wdGlvbnMsIGNiKSA9PiB7XG4gICAgY29uc3QgYmF0Y2hlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgY29uc3QgZ2V0QmF0Y2ggPSAobW91bnQpID0+IHtcbiAgICAgIGxldCBiYXRjaCA9IGJhdGNoZXMuZ2V0KG1vdW50LmJhc2UpO1xuICAgICAgaWYgKCFiYXRjaCkge1xuICAgICAgICBiYXRjaCA9IHtcbiAgICAgICAgICBkcml2ZXI6IG1vdW50LmRyaXZlcixcbiAgICAgICAgICBiYXNlOiBtb3VudC5iYXNlLFxuICAgICAgICAgIGl0ZW1zOiBbXVxuICAgICAgICB9O1xuICAgICAgICBiYXRjaGVzLnNldChtb3VudC5iYXNlLCBiYXRjaCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmF0Y2g7XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgIGNvbnN0IGlzU3RyaW5nSXRlbSA9IHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiO1xuICAgICAgY29uc3Qga2V5ID0gbm9ybWFsaXplS2V5KGlzU3RyaW5nSXRlbSA/IGl0ZW0gOiBpdGVtLmtleSk7XG4gICAgICBjb25zdCB2YWx1ZSA9IGlzU3RyaW5nSXRlbSA/IHZvaWQgMCA6IGl0ZW0udmFsdWU7XG4gICAgICBjb25zdCBvcHRpb25zMiA9IGlzU3RyaW5nSXRlbSB8fCAhaXRlbS5vcHRpb25zID8gY29tbW9uT3B0aW9ucyA6IHsgLi4uY29tbW9uT3B0aW9ucywgLi4uaXRlbS5vcHRpb25zIH07XG4gICAgICBjb25zdCBtb3VudCA9IGdldE1vdW50KGtleSk7XG4gICAgICBnZXRCYXRjaChtb3VudCkuaXRlbXMucHVzaCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHJlbGF0aXZlS2V5OiBtb3VudC5yZWxhdGl2ZUtleSxcbiAgICAgICAgb3B0aW9uczogb3B0aW9uczJcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLmJhdGNoZXMudmFsdWVzKCldLm1hcCgoYmF0Y2gpID0+IGNiKGJhdGNoKSkpLnRoZW4oXG4gICAgICAocikgPT4gci5mbGF0KClcbiAgICApO1xuICB9O1xuICBjb25zdCBzdG9yYWdlID0ge1xuICAgIC8vIEl0ZW1cbiAgICBoYXNJdGVtKGtleSwgb3B0cyA9IHt9KSB7XG4gICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgIGNvbnN0IHsgcmVsYXRpdmVLZXksIGRyaXZlciB9ID0gZ2V0TW91bnQoa2V5KTtcbiAgICAgIHJldHVybiBhc3luY0NhbGwoZHJpdmVyLmhhc0l0ZW0sIHJlbGF0aXZlS2V5LCBvcHRzKTtcbiAgICB9LFxuICAgIGdldEl0ZW0oa2V5LCBvcHRzID0ge30pIHtcbiAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgY29uc3QgeyByZWxhdGl2ZUtleSwgZHJpdmVyIH0gPSBnZXRNb3VudChrZXkpO1xuICAgICAgcmV0dXJuIGFzeW5jQ2FsbChkcml2ZXIuZ2V0SXRlbSwgcmVsYXRpdmVLZXksIG9wdHMpLnRoZW4oXG4gICAgICAgICh2YWx1ZSkgPT4gZGVzdHIodmFsdWUpXG4gICAgICApO1xuICAgIH0sXG4gICAgZ2V0SXRlbXMoaXRlbXMsIGNvbW1vbk9wdGlvbnMgPSB7fSkge1xuICAgICAgcmV0dXJuIHJ1bkJhdGNoKGl0ZW1zLCBjb21tb25PcHRpb25zLCAoYmF0Y2gpID0+IHtcbiAgICAgICAgaWYgKGJhdGNoLmRyaXZlci5nZXRJdGVtcykge1xuICAgICAgICAgIHJldHVybiBhc3luY0NhbGwoXG4gICAgICAgICAgICBiYXRjaC5kcml2ZXIuZ2V0SXRlbXMsXG4gICAgICAgICAgICBiYXRjaC5pdGVtcy5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgICAgICAgIGtleTogaXRlbS5yZWxhdGl2ZUtleSxcbiAgICAgICAgICAgICAgb3B0aW9uczogaXRlbS5vcHRpb25zXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICBjb21tb25PcHRpb25zXG4gICAgICAgICAgKS50aGVuKFxuICAgICAgICAgICAgKHIpID0+IHIubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgICAgICBrZXk6IGpvaW5LZXlzKGJhdGNoLmJhc2UsIGl0ZW0ua2V5KSxcbiAgICAgICAgICAgICAgdmFsdWU6IGRlc3RyKGl0ZW0udmFsdWUpXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgICBiYXRjaC5pdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhc3luY0NhbGwoXG4gICAgICAgICAgICAgIGJhdGNoLmRyaXZlci5nZXRJdGVtLFxuICAgICAgICAgICAgICBpdGVtLnJlbGF0aXZlS2V5LFxuICAgICAgICAgICAgICBpdGVtLm9wdGlvbnNcbiAgICAgICAgICAgICkudGhlbigodmFsdWUpID0+ICh7XG4gICAgICAgICAgICAgIGtleTogaXRlbS5rZXksXG4gICAgICAgICAgICAgIHZhbHVlOiBkZXN0cih2YWx1ZSlcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtUmF3KGtleSwgb3B0cyA9IHt9KSB7XG4gICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgIGNvbnN0IHsgcmVsYXRpdmVLZXksIGRyaXZlciB9ID0gZ2V0TW91bnQoa2V5KTtcbiAgICAgIGlmIChkcml2ZXIuZ2V0SXRlbVJhdykge1xuICAgICAgICByZXR1cm4gYXN5bmNDYWxsKGRyaXZlci5nZXRJdGVtUmF3LCByZWxhdGl2ZUtleSwgb3B0cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXN5bmNDYWxsKGRyaXZlci5nZXRJdGVtLCByZWxhdGl2ZUtleSwgb3B0cykudGhlbihcbiAgICAgICAgKHZhbHVlKSA9PiBkZXNlcmlhbGl6ZVJhdyh2YWx1ZSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBhc3luYyBzZXRJdGVtKGtleSwgdmFsdWUsIG9wdHMgPSB7fSkge1xuICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIHN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgfVxuICAgICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gICAgICBjb25zdCB7IHJlbGF0aXZlS2V5LCBkcml2ZXIgfSA9IGdldE1vdW50KGtleSk7XG4gICAgICBpZiAoIWRyaXZlci5zZXRJdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGF3YWl0IGFzeW5jQ2FsbChkcml2ZXIuc2V0SXRlbSwgcmVsYXRpdmVLZXksIHN0cmluZ2lmeSh2YWx1ZSksIG9wdHMpO1xuICAgICAgaWYgKCFkcml2ZXIud2F0Y2gpIHtcbiAgICAgICAgb25DaGFuZ2UoXCJ1cGRhdGVcIiwga2V5KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHNldEl0ZW1zKGl0ZW1zLCBjb21tb25PcHRpb25zKSB7XG4gICAgICBhd2FpdCBydW5CYXRjaChpdGVtcywgY29tbW9uT3B0aW9ucywgYXN5bmMgKGJhdGNoKSA9PiB7XG4gICAgICAgIGlmIChiYXRjaC5kcml2ZXIuc2V0SXRlbXMpIHtcbiAgICAgICAgICByZXR1cm4gYXN5bmNDYWxsKFxuICAgICAgICAgICAgYmF0Y2guZHJpdmVyLnNldEl0ZW1zLFxuICAgICAgICAgICAgYmF0Y2guaXRlbXMubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgICAgICBrZXk6IGl0ZW0ucmVsYXRpdmVLZXksXG4gICAgICAgICAgICAgIHZhbHVlOiBzdHJpbmdpZnkoaXRlbS52YWx1ZSksXG4gICAgICAgICAgICAgIG9wdGlvbnM6IGl0ZW0ub3B0aW9uc1xuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgY29tbW9uT3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFiYXRjaC5kcml2ZXIuc2V0SXRlbSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBiYXRjaC5pdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhc3luY0NhbGwoXG4gICAgICAgICAgICAgIGJhdGNoLmRyaXZlci5zZXRJdGVtLFxuICAgICAgICAgICAgICBpdGVtLnJlbGF0aXZlS2V5LFxuICAgICAgICAgICAgICBzdHJpbmdpZnkoaXRlbS52YWx1ZSksXG4gICAgICAgICAgICAgIGl0ZW0ub3B0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBzZXRJdGVtUmF3KGtleSwgdmFsdWUsIG9wdHMgPSB7fSkge1xuICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIHN0b3JhZ2UucmVtb3ZlSXRlbShrZXksIG9wdHMpO1xuICAgICAgfVxuICAgICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gICAgICBjb25zdCB7IHJlbGF0aXZlS2V5LCBkcml2ZXIgfSA9IGdldE1vdW50KGtleSk7XG4gICAgICBpZiAoZHJpdmVyLnNldEl0ZW1SYXcpIHtcbiAgICAgICAgYXdhaXQgYXN5bmNDYWxsKGRyaXZlci5zZXRJdGVtUmF3LCByZWxhdGl2ZUtleSwgdmFsdWUsIG9wdHMpO1xuICAgICAgfSBlbHNlIGlmIChkcml2ZXIuc2V0SXRlbSkge1xuICAgICAgICBhd2FpdCBhc3luY0NhbGwoZHJpdmVyLnNldEl0ZW0sIHJlbGF0aXZlS2V5LCBzZXJpYWxpemVSYXcodmFsdWUpLCBvcHRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZHJpdmVyLndhdGNoKSB7XG4gICAgICAgIG9uQ2hhbmdlKFwidXBkYXRlXCIsIGtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBhc3luYyByZW1vdmVJdGVtKGtleSwgb3B0cyA9IHt9KSB7XG4gICAgICBpZiAodHlwZW9mIG9wdHMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIG9wdHMgPSB7IHJlbW92ZU1ldGE6IG9wdHMgfTtcbiAgICAgIH1cbiAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgY29uc3QgeyByZWxhdGl2ZUtleSwgZHJpdmVyIH0gPSBnZXRNb3VudChrZXkpO1xuICAgICAgaWYgKCFkcml2ZXIucmVtb3ZlSXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhd2FpdCBhc3luY0NhbGwoZHJpdmVyLnJlbW92ZUl0ZW0sIHJlbGF0aXZlS2V5LCBvcHRzKTtcbiAgICAgIGlmIChvcHRzLnJlbW92ZU1ldGEgfHwgb3B0cy5yZW1vdmVNYXRhKSB7XG4gICAgICAgIGF3YWl0IGFzeW5jQ2FsbChkcml2ZXIucmVtb3ZlSXRlbSwgcmVsYXRpdmVLZXkgKyBcIiRcIiwgb3B0cyk7XG4gICAgICB9XG4gICAgICBpZiAoIWRyaXZlci53YXRjaCkge1xuICAgICAgICBvbkNoYW5nZShcInJlbW92ZVwiLCBrZXkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgLy8gTWV0YVxuICAgIGFzeW5jIGdldE1ldGEoa2V5LCBvcHRzID0ge30pIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgb3B0cyA9IHsgbmF0aXZlT25seTogb3B0cyB9O1xuICAgICAgfVxuICAgICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gICAgICBjb25zdCB7IHJlbGF0aXZlS2V5LCBkcml2ZXIgfSA9IGdldE1vdW50KGtleSk7XG4gICAgICBjb25zdCBtZXRhID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBpZiAoZHJpdmVyLmdldE1ldGEpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihtZXRhLCBhd2FpdCBhc3luY0NhbGwoZHJpdmVyLmdldE1ldGEsIHJlbGF0aXZlS2V5LCBvcHRzKSk7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdHMubmF0aXZlT25seSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGFzeW5jQ2FsbChcbiAgICAgICAgICBkcml2ZXIuZ2V0SXRlbSxcbiAgICAgICAgICByZWxhdGl2ZUtleSArIFwiJFwiLFxuICAgICAgICAgIG9wdHNcbiAgICAgICAgKS50aGVuKCh2YWx1ZV8pID0+IGRlc3RyKHZhbHVlXykpO1xuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZS5hdGltZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdmFsdWUuYXRpbWUgPSBuZXcgRGF0ZSh2YWx1ZS5hdGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUubXRpbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhbHVlLm10aW1lID0gbmV3IERhdGUodmFsdWUubXRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBPYmplY3QuYXNzaWduKG1ldGEsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1ldGE7XG4gICAgfSxcbiAgICBzZXRNZXRhKGtleSwgdmFsdWUsIG9wdHMgPSB7fSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0SXRlbShrZXkgKyBcIiRcIiwgdmFsdWUsIG9wdHMpO1xuICAgIH0sXG4gICAgcmVtb3ZlTWV0YShrZXksIG9wdHMgPSB7fSkge1xuICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlSXRlbShrZXkgKyBcIiRcIiwgb3B0cyk7XG4gICAgfSxcbiAgICAvLyBLZXlzXG4gICAgYXN5bmMgZ2V0S2V5cyhiYXNlLCBvcHRzID0ge30pIHtcbiAgICAgIGJhc2UgPSBub3JtYWxpemVCYXNlS2V5KGJhc2UpO1xuICAgICAgY29uc3QgbW91bnRzID0gZ2V0TW91bnRzKGJhc2UsIHRydWUpO1xuICAgICAgbGV0IG1hc2tlZE1vdW50cyA9IFtdO1xuICAgICAgY29uc3QgYWxsS2V5cyA9IFtdO1xuICAgICAgbGV0IGFsbE1vdW50c1N1cHBvcnRNYXhEZXB0aCA9IHRydWU7XG4gICAgICBmb3IgKGNvbnN0IG1vdW50IG9mIG1vdW50cykge1xuICAgICAgICBpZiAoIW1vdW50LmRyaXZlci5mbGFncz8ubWF4RGVwdGgpIHtcbiAgICAgICAgICBhbGxNb3VudHNTdXBwb3J0TWF4RGVwdGggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXdLZXlzID0gYXdhaXQgYXN5bmNDYWxsKFxuICAgICAgICAgIG1vdW50LmRyaXZlci5nZXRLZXlzLFxuICAgICAgICAgIG1vdW50LnJlbGF0aXZlQmFzZSxcbiAgICAgICAgICBvcHRzXG4gICAgICAgICk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHJhd0tleXMpIHtcbiAgICAgICAgICBjb25zdCBmdWxsS2V5ID0gbW91bnQubW91bnRwb2ludCArIG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgICAgIGlmICghbWFza2VkTW91bnRzLnNvbWUoKHApID0+IGZ1bGxLZXkuc3RhcnRzV2l0aChwKSkpIHtcbiAgICAgICAgICAgIGFsbEtleXMucHVzaChmdWxsS2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWFza2VkTW91bnRzID0gW1xuICAgICAgICAgIG1vdW50Lm1vdW50cG9pbnQsXG4gICAgICAgICAgLi4ubWFza2VkTW91bnRzLmZpbHRlcigocCkgPT4gIXAuc3RhcnRzV2l0aChtb3VudC5tb3VudHBvaW50KSlcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNob3VsZEZpbHRlckJ5RGVwdGggPSBvcHRzLm1heERlcHRoICE9PSB2b2lkIDAgJiYgIWFsbE1vdW50c1N1cHBvcnRNYXhEZXB0aDtcbiAgICAgIHJldHVybiBhbGxLZXlzLmZpbHRlcihcbiAgICAgICAgKGtleSkgPT4gKCFzaG91bGRGaWx0ZXJCeURlcHRoIHx8IGZpbHRlcktleUJ5RGVwdGgoa2V5LCBvcHRzLm1heERlcHRoKSkgJiYgZmlsdGVyS2V5QnlCYXNlKGtleSwgYmFzZSlcbiAgICAgICk7XG4gICAgfSxcbiAgICAvLyBVdGlsc1xuICAgIGFzeW5jIGNsZWFyKGJhc2UsIG9wdHMgPSB7fSkge1xuICAgICAgYmFzZSA9IG5vcm1hbGl6ZUJhc2VLZXkoYmFzZSk7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgZ2V0TW91bnRzKGJhc2UsIGZhbHNlKS5tYXAoYXN5bmMgKG0pID0+IHtcbiAgICAgICAgICBpZiAobS5kcml2ZXIuY2xlYXIpIHtcbiAgICAgICAgICAgIHJldHVybiBhc3luY0NhbGwobS5kcml2ZXIuY2xlYXIsIG0ucmVsYXRpdmVCYXNlLCBvcHRzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG0uZHJpdmVyLnJlbW92ZUl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBhd2FpdCBtLmRyaXZlci5nZXRLZXlzKG0ucmVsYXRpdmVCYXNlIHx8IFwiXCIsIG9wdHMpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICBrZXlzLm1hcCgoa2V5KSA9PiBtLmRyaXZlci5yZW1vdmVJdGVtKGtleSwgb3B0cykpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBhc3luYyBkaXNwb3NlKCkge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29udGV4dC5tb3VudHMpLm1hcCgoZHJpdmVyKSA9PiBkaXNwb3NlKGRyaXZlcikpXG4gICAgICApO1xuICAgIH0sXG4gICAgYXN5bmMgd2F0Y2goY2FsbGJhY2spIHtcbiAgICAgIGF3YWl0IHN0YXJ0V2F0Y2goKTtcbiAgICAgIGNvbnRleHQud2F0Y2hMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb250ZXh0LndhdGNoTGlzdGVuZXJzID0gY29udGV4dC53YXRjaExpc3RlbmVycy5maWx0ZXIoXG4gICAgICAgICAgKGxpc3RlbmVyKSA9PiBsaXN0ZW5lciAhPT0gY2FsbGJhY2tcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNvbnRleHQud2F0Y2hMaXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYXdhaXQgc3RvcFdhdGNoKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcbiAgICBhc3luYyB1bndhdGNoKCkge1xuICAgICAgY29udGV4dC53YXRjaExpc3RlbmVycyA9IFtdO1xuICAgICAgYXdhaXQgc3RvcFdhdGNoKCk7XG4gICAgfSxcbiAgICAvLyBNb3VudFxuICAgIG1vdW50KGJhc2UsIGRyaXZlcikge1xuICAgICAgYmFzZSA9IG5vcm1hbGl6ZUJhc2VLZXkoYmFzZSk7XG4gICAgICBpZiAoYmFzZSAmJiBjb250ZXh0Lm1vdW50c1tiYXNlXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGFscmVhZHkgbW91bnRlZCBhdCAke2Jhc2V9YCk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZSkge1xuICAgICAgICBjb250ZXh0Lm1vdW50cG9pbnRzLnB1c2goYmFzZSk7XG4gICAgICAgIGNvbnRleHQubW91bnRwb2ludHMuc29ydCgoYSwgYikgPT4gYi5sZW5ndGggLSBhLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBjb250ZXh0Lm1vdW50c1tiYXNlXSA9IGRyaXZlcjtcbiAgICAgIGlmIChjb250ZXh0LndhdGNoaW5nKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh3YXRjaChkcml2ZXIsIG9uQ2hhbmdlLCBiYXNlKSkudGhlbigodW53YXRjaGVyKSA9PiB7XG4gICAgICAgICAgY29udGV4dC51bndhdGNoW2Jhc2VdID0gdW53YXRjaGVyO1xuICAgICAgICB9KS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdG9yYWdlO1xuICAgIH0sXG4gICAgYXN5bmMgdW5tb3VudChiYXNlLCBfZGlzcG9zZSA9IHRydWUpIHtcbiAgICAgIGJhc2UgPSBub3JtYWxpemVCYXNlS2V5KGJhc2UpO1xuICAgICAgaWYgKCFiYXNlIHx8ICFjb250ZXh0Lm1vdW50c1tiYXNlXSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dC53YXRjaGluZyAmJiBiYXNlIGluIGNvbnRleHQudW53YXRjaCkge1xuICAgICAgICBjb250ZXh0LnVud2F0Y2hbYmFzZV0/LigpO1xuICAgICAgICBkZWxldGUgY29udGV4dC51bndhdGNoW2Jhc2VdO1xuICAgICAgfVxuICAgICAgaWYgKF9kaXNwb3NlKSB7XG4gICAgICAgIGF3YWl0IGRpc3Bvc2UoY29udGV4dC5tb3VudHNbYmFzZV0pO1xuICAgICAgfVxuICAgICAgY29udGV4dC5tb3VudHBvaW50cyA9IGNvbnRleHQubW91bnRwb2ludHMuZmlsdGVyKChrZXkpID0+IGtleSAhPT0gYmFzZSk7XG4gICAgICBkZWxldGUgY29udGV4dC5tb3VudHNbYmFzZV07XG4gICAgfSxcbiAgICBnZXRNb3VudChrZXkgPSBcIlwiKSB7XG4gICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KSArIFwiOlwiO1xuICAgICAgY29uc3QgbSA9IGdldE1vdW50KGtleSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkcml2ZXI6IG0uZHJpdmVyLFxuICAgICAgICBiYXNlOiBtLmJhc2VcbiAgICAgIH07XG4gICAgfSxcbiAgICBnZXRNb3VudHMoYmFzZSA9IFwiXCIsIG9wdHMgPSB7fSkge1xuICAgICAgYmFzZSA9IG5vcm1hbGl6ZUtleShiYXNlKTtcbiAgICAgIGNvbnN0IG1vdW50cyA9IGdldE1vdW50cyhiYXNlLCBvcHRzLnBhcmVudHMpO1xuICAgICAgcmV0dXJuIG1vdW50cy5tYXAoKG0pID0+ICh7XG4gICAgICAgIGRyaXZlcjogbS5kcml2ZXIsXG4gICAgICAgIGJhc2U6IG0ubW91bnRwb2ludFxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgLy8gQWxpYXNlc1xuICAgIGtleXM6IChiYXNlLCBvcHRzID0ge30pID0+IHN0b3JhZ2UuZ2V0S2V5cyhiYXNlLCBvcHRzKSxcbiAgICBnZXQ6IChrZXksIG9wdHMgPSB7fSkgPT4gc3RvcmFnZS5nZXRJdGVtKGtleSwgb3B0cyksXG4gICAgc2V0OiAoa2V5LCB2YWx1ZSwgb3B0cyA9IHt9KSA9PiBzdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSwgb3B0cyksXG4gICAgaGFzOiAoa2V5LCBvcHRzID0ge30pID0+IHN0b3JhZ2UuaGFzSXRlbShrZXksIG9wdHMpLFxuICAgIGRlbDogKGtleSwgb3B0cyA9IHt9KSA9PiBzdG9yYWdlLnJlbW92ZUl0ZW0oa2V5LCBvcHRzKSxcbiAgICByZW1vdmU6IChrZXksIG9wdHMgPSB7fSkgPT4gc3RvcmFnZS5yZW1vdmVJdGVtKGtleSwgb3B0cylcbiAgfTtcbiAgcmV0dXJuIHN0b3JhZ2U7XG59XG5hc3luYyBmdW5jdGlvbiBzbmFwc2hvdChzdG9yYWdlLCBiYXNlKSB7XG4gIGJhc2UgPSBub3JtYWxpemVCYXNlS2V5KGJhc2UpO1xuICBjb25zdCBrZXlzID0gYXdhaXQgc3RvcmFnZS5nZXRLZXlzKGJhc2UpO1xuICBjb25zdCBzbmFwc2hvdDIgPSB7fTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAga2V5cy5tYXAoYXN5bmMgKGtleSkgPT4ge1xuICAgICAgc25hcHNob3QyW2tleS5zbGljZShiYXNlLmxlbmd0aCldID0gYXdhaXQgc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgfSlcbiAgKTtcbiAgcmV0dXJuIHNuYXBzaG90Mjtcbn1cbmFzeW5jIGZ1bmN0aW9uIHJlc3RvcmVTbmFwc2hvdChkcml2ZXIsIHNuYXBzaG90MiwgYmFzZSA9IFwiXCIpIHtcbiAgYmFzZSA9IG5vcm1hbGl6ZUJhc2VLZXkoYmFzZSk7XG4gIGF3YWl0IFByb21pc2UuYWxsKFxuICAgIE9iamVjdC5lbnRyaWVzKHNuYXBzaG90MikubWFwKChlKSA9PiBkcml2ZXIuc2V0SXRlbShiYXNlICsgZVswXSwgZVsxXSkpXG4gICk7XG59XG5mdW5jdGlvbiB3YXRjaChkcml2ZXIsIG9uQ2hhbmdlLCBiYXNlKSB7XG4gIHJldHVybiBkcml2ZXIud2F0Y2ggPyBkcml2ZXIud2F0Y2goKGV2ZW50LCBrZXkpID0+IG9uQ2hhbmdlKGV2ZW50LCBiYXNlICsga2V5KSkgOiAoKSA9PiB7XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBkaXNwb3NlKGRyaXZlcikge1xuICBpZiAodHlwZW9mIGRyaXZlci5kaXNwb3NlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBhd2FpdCBhc3luY0NhbGwoZHJpdmVyLmRpc3Bvc2UpO1xuICB9XG59XG5cbmNvbnN0IGJ1aWx0aW5Ecml2ZXJzID0ge1xuICBcImF6dXJlLWFwcC1jb25maWd1cmF0aW9uXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvYXp1cmUtYXBwLWNvbmZpZ3VyYXRpb25cIixcbiAgXCJhenVyZUFwcENvbmZpZ3VyYXRpb25cIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9henVyZS1hcHAtY29uZmlndXJhdGlvblwiLFxuICBcImF6dXJlLWNvc21vc1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2F6dXJlLWNvc21vc1wiLFxuICBcImF6dXJlQ29zbW9zXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvYXp1cmUtY29zbW9zXCIsXG4gIFwiYXp1cmUta2V5LXZhdWx0XCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvYXp1cmUta2V5LXZhdWx0XCIsXG4gIFwiYXp1cmVLZXlWYXVsdFwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2F6dXJlLWtleS12YXVsdFwiLFxuICBcImF6dXJlLXN0b3JhZ2UtYmxvYlwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2F6dXJlLXN0b3JhZ2UtYmxvYlwiLFxuICBcImF6dXJlU3RvcmFnZUJsb2JcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9henVyZS1zdG9yYWdlLWJsb2JcIixcbiAgXCJhenVyZS1zdG9yYWdlLXRhYmxlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvYXp1cmUtc3RvcmFnZS10YWJsZVwiLFxuICBcImF6dXJlU3RvcmFnZVRhYmxlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvYXp1cmUtc3RvcmFnZS10YWJsZVwiLFxuICBcImNhcGFjaXRvci1wcmVmZXJlbmNlc1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2NhcGFjaXRvci1wcmVmZXJlbmNlc1wiLFxuICBcImNhcGFjaXRvclByZWZlcmVuY2VzXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvY2FwYWNpdG9yLXByZWZlcmVuY2VzXCIsXG4gIFwiY2xvdWRmbGFyZS1rdi1iaW5kaW5nXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvY2xvdWRmbGFyZS1rdi1iaW5kaW5nXCIsXG4gIFwiY2xvdWRmbGFyZUtWQmluZGluZ1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2Nsb3VkZmxhcmUta3YtYmluZGluZ1wiLFxuICBcImNsb3VkZmxhcmUta3YtaHR0cFwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2Nsb3VkZmxhcmUta3YtaHR0cFwiLFxuICBcImNsb3VkZmxhcmVLVkh0dHBcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9jbG91ZGZsYXJlLWt2LWh0dHBcIixcbiAgXCJjbG91ZGZsYXJlLXIyLWJpbmRpbmdcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9jbG91ZGZsYXJlLXIyLWJpbmRpbmdcIixcbiAgXCJjbG91ZGZsYXJlUjJCaW5kaW5nXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvY2xvdWRmbGFyZS1yMi1iaW5kaW5nXCIsXG4gIFwiZGIwXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvZGIwXCIsXG4gIFwiZGVuby1rdi1ub2RlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvZGVuby1rdi1ub2RlXCIsXG4gIFwiZGVub0tWTm9kZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2Rlbm8ta3Ytbm9kZVwiLFxuICBcImRlbm8ta3ZcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9kZW5vLWt2XCIsXG4gIFwiZGVub0tWXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvZGVuby1rdlwiLFxuICBcImZzLWxpdGVcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9mcy1saXRlXCIsXG4gIFwiZnNMaXRlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvZnMtbGl0ZVwiLFxuICBcImZzXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvZnNcIixcbiAgXCJnaXRodWJcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9naXRodWJcIixcbiAgXCJodHRwXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvaHR0cFwiLFxuICBcImluZGV4ZWRiXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvaW5kZXhlZGJcIixcbiAgXCJsb2NhbHN0b3JhZ2VcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9sb2NhbHN0b3JhZ2VcIixcbiAgXCJscnUtY2FjaGVcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9scnUtY2FjaGVcIixcbiAgXCJscnVDYWNoZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2xydS1jYWNoZVwiLFxuICBcIm1lbW9yeVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL21lbW9yeVwiLFxuICBcIm1vbmdvZGJcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9tb25nb2RiXCIsXG4gIFwibmV0bGlmeS1ibG9ic1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL25ldGxpZnktYmxvYnNcIixcbiAgXCJuZXRsaWZ5QmxvYnNcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9uZXRsaWZ5LWJsb2JzXCIsXG4gIFwibnVsbFwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL251bGxcIixcbiAgXCJvdmVybGF5XCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvb3ZlcmxheVwiLFxuICBcInBsYW5ldHNjYWxlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvcGxhbmV0c2NhbGVcIixcbiAgXCJyZWRpc1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL3JlZGlzXCIsXG4gIFwiczNcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9zM1wiLFxuICBcInNlc3Npb24tc3RvcmFnZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL3Nlc3Npb24tc3RvcmFnZVwiLFxuICBcInNlc3Npb25TdG9yYWdlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvc2Vzc2lvbi1zdG9yYWdlXCIsXG4gIFwidXBsb2FkdGhpbmdcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy91cGxvYWR0aGluZ1wiLFxuICBcInVwc3Rhc2hcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy91cHN0YXNoXCIsXG4gIFwidmVyY2VsLWJsb2JcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy92ZXJjZWwtYmxvYlwiLFxuICBcInZlcmNlbEJsb2JcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy92ZXJjZWwtYmxvYlwiLFxuICBcInZlcmNlbC1rdlwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL3ZlcmNlbC1rdlwiLFxuICBcInZlcmNlbEtWXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvdmVyY2VsLWt2XCJcbn07XG5cbmV4cG9ydCB7IGJ1aWx0aW5Ecml2ZXJzLCBjcmVhdGVTdG9yYWdlLCBkZWZpbmVEcml2ZXIsIGZpbHRlcktleUJ5QmFzZSwgZmlsdGVyS2V5QnlEZXB0aCwgam9pbktleXMsIG5vcm1hbGl6ZUJhc2VLZXksIG5vcm1hbGl6ZUtleSwgcmVzdG9yZVNuYXBzaG90LCBzbmFwc2hvdCB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/unstorage/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/unstorage/dist/shared/unstorage.mNKHTF5Y.mjs":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/unstorage/dist/shared/unstorage.mNKHTF5Y.mjs ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ normalizeKey),\n/* harmony export */   b: () => (/* binding */ asyncCall),\n/* harmony export */   c: () => (/* binding */ filterKeyByBase),\n/* harmony export */   d: () => (/* binding */ stringify),\n/* harmony export */   e: () => (/* binding */ deserializeRaw),\n/* harmony export */   f: () => (/* binding */ filterKeyByDepth),\n/* harmony export */   j: () => (/* binding */ joinKeys),\n/* harmony export */   n: () => (/* binding */ normalizeBaseKey),\n/* harmony export */   p: () => (/* binding */ prefixStorage),\n/* harmony export */   s: () => (/* binding */ serializeRaw)\n/* harmony export */ });\nfunction wrapToPromise(value) {\n  if (!value || typeof value.then !== \"function\") {\n    return Promise.resolve(value);\n  }\n  return value;\n}\nfunction asyncCall(function_, ...arguments_) {\n  try {\n    return wrapToPromise(function_(...arguments_));\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\nfunction isPrimitive(value) {\n  const type = typeof value;\n  return value === null || type !== \"object\" && type !== \"function\";\n}\nfunction isPureObject(value) {\n  const proto = Object.getPrototypeOf(value);\n  return !proto || proto.isPrototypeOf(Object);\n}\nfunction stringify(value) {\n  if (isPrimitive(value)) {\n    return String(value);\n  }\n  if (isPureObject(value) || Array.isArray(value)) {\n    return JSON.stringify(value);\n  }\n  if (typeof value.toJSON === \"function\") {\n    return stringify(value.toJSON());\n  }\n  throw new Error(\"[unstorage] Cannot stringify value!\");\n}\nconst BASE64_PREFIX = \"base64:\";\nfunction serializeRaw(value) {\n  if (typeof value === \"string\") {\n    return value;\n  }\n  return BASE64_PREFIX + base64Encode(value);\n}\nfunction deserializeRaw(value) {\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  if (!value.startsWith(BASE64_PREFIX)) {\n    return value;\n  }\n  return base64Decode(value.slice(BASE64_PREFIX.length));\n}\nfunction base64Decode(input) {\n  if (globalThis.Buffer) {\n    return Buffer.from(input, \"base64\");\n  }\n  return Uint8Array.from(\n    globalThis.atob(input),\n    (c) => c.codePointAt(0)\n  );\n}\nfunction base64Encode(input) {\n  if (globalThis.Buffer) {\n    return Buffer.from(input).toString(\"base64\");\n  }\n  return globalThis.btoa(String.fromCodePoint(...input));\n}\n\nconst storageKeyProperties = [\n  \"has\",\n  \"hasItem\",\n  \"get\",\n  \"getItem\",\n  \"getItemRaw\",\n  \"set\",\n  \"setItem\",\n  \"setItemRaw\",\n  \"del\",\n  \"remove\",\n  \"removeItem\",\n  \"getMeta\",\n  \"setMeta\",\n  \"removeMeta\",\n  \"getKeys\",\n  \"clear\",\n  \"mount\",\n  \"unmount\"\n];\nfunction prefixStorage(storage, base) {\n  base = normalizeBaseKey(base);\n  if (!base) {\n    return storage;\n  }\n  const nsStorage = { ...storage };\n  for (const property of storageKeyProperties) {\n    nsStorage[property] = (key = \"\", ...args) => (\n      // @ts-ignore\n      storage[property](base + key, ...args)\n    );\n  }\n  nsStorage.getKeys = (key = \"\", ...arguments_) => storage.getKeys(base + key, ...arguments_).then((keys) => keys.map((key2) => key2.slice(base.length)));\n  return nsStorage;\n}\nfunction normalizeKey(key) {\n  if (!key) {\n    return \"\";\n  }\n  return key.split(\"?\")[0]?.replace(/[/\\\\]/g, \":\").replace(/:+/g, \":\").replace(/^:|:$/g, \"\") || \"\";\n}\nfunction joinKeys(...keys) {\n  return normalizeKey(keys.join(\":\"));\n}\nfunction normalizeBaseKey(base) {\n  base = normalizeKey(base);\n  return base ? base + \":\" : \"\";\n}\nfunction filterKeyByDepth(key, depth) {\n  if (depth === void 0) {\n    return true;\n  }\n  let substrCount = 0;\n  let index = key.indexOf(\":\");\n  while (index > -1) {\n    substrCount++;\n    index = key.indexOf(\":\", index + 1);\n  }\n  return substrCount <= depth;\n}\nfunction filterKeyByBase(key, base) {\n  if (base) {\n    return key.startsWith(base) && key[key.length - 1] !== \"$\";\n  }\n  return key[key.length - 1] !== \"$\";\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91bnN0b3JhZ2UvZGlzdC9zaGFyZWQvdW5zdG9yYWdlLm1OS0hURjVZLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNE0iLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91bnN0b3JhZ2UvZGlzdC9zaGFyZWQvdW5zdG9yYWdlLm1OS0hURjVZLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB3cmFwVG9Qcm9taXNlKHZhbHVlKSB7XG4gIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlLnRoZW4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGFzeW5jQ2FsbChmdW5jdGlvbl8sIC4uLmFyZ3VtZW50c18pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd3JhcFRvUHJvbWlzZShmdW5jdGlvbl8oLi4uYXJndW1lbnRzXykpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XG4gIGNvbnN0IHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlICE9PSBcIm9iamVjdFwiICYmIHR5cGUgIT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGlzUHVyZU9iamVjdCh2YWx1ZSkge1xuICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gIHJldHVybiAhcHJvdG8gfHwgcHJvdG8uaXNQcm90b3R5cGVPZihPYmplY3QpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5KHZhbHVlKSB7XG4gIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfVxuICBpZiAoaXNQdXJlT2JqZWN0KHZhbHVlKSB8fCBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZS50b0pTT04gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBzdHJpbmdpZnkodmFsdWUudG9KU09OKCkpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIlt1bnN0b3JhZ2VdIENhbm5vdCBzdHJpbmdpZnkgdmFsdWUhXCIpO1xufVxuY29uc3QgQkFTRTY0X1BSRUZJWCA9IFwiYmFzZTY0OlwiO1xuZnVuY3Rpb24gc2VyaWFsaXplUmF3KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIEJBU0U2NF9QUkVGSVggKyBiYXNlNjRFbmNvZGUodmFsdWUpO1xufVxuZnVuY3Rpb24gZGVzZXJpYWxpemVSYXcodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoIXZhbHVlLnN0YXJ0c1dpdGgoQkFTRTY0X1BSRUZJWCkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIGJhc2U2NERlY29kZSh2YWx1ZS5zbGljZShCQVNFNjRfUFJFRklYLmxlbmd0aCkpO1xufVxuZnVuY3Rpb24gYmFzZTY0RGVjb2RlKGlucHV0KSB7XG4gIGlmIChnbG9iYWxUaGlzLkJ1ZmZlcikge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShpbnB1dCwgXCJiYXNlNjRcIik7XG4gIH1cbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShcbiAgICBnbG9iYWxUaGlzLmF0b2IoaW5wdXQpLFxuICAgIChjKSA9PiBjLmNvZGVQb2ludEF0KDApXG4gICk7XG59XG5mdW5jdGlvbiBiYXNlNjRFbmNvZGUoaW5wdXQpIHtcbiAgaWYgKGdsb2JhbFRoaXMuQnVmZmVyKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGlucHV0KS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgfVxuICByZXR1cm4gZ2xvYmFsVGhpcy5idG9hKFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmlucHV0KSk7XG59XG5cbmNvbnN0IHN0b3JhZ2VLZXlQcm9wZXJ0aWVzID0gW1xuICBcImhhc1wiLFxuICBcImhhc0l0ZW1cIixcbiAgXCJnZXRcIixcbiAgXCJnZXRJdGVtXCIsXG4gIFwiZ2V0SXRlbVJhd1wiLFxuICBcInNldFwiLFxuICBcInNldEl0ZW1cIixcbiAgXCJzZXRJdGVtUmF3XCIsXG4gIFwiZGVsXCIsXG4gIFwicmVtb3ZlXCIsXG4gIFwicmVtb3ZlSXRlbVwiLFxuICBcImdldE1ldGFcIixcbiAgXCJzZXRNZXRhXCIsXG4gIFwicmVtb3ZlTWV0YVwiLFxuICBcImdldEtleXNcIixcbiAgXCJjbGVhclwiLFxuICBcIm1vdW50XCIsXG4gIFwidW5tb3VudFwiXG5dO1xuZnVuY3Rpb24gcHJlZml4U3RvcmFnZShzdG9yYWdlLCBiYXNlKSB7XG4gIGJhc2UgPSBub3JtYWxpemVCYXNlS2V5KGJhc2UpO1xuICBpZiAoIWJhc2UpIHtcbiAgICByZXR1cm4gc3RvcmFnZTtcbiAgfVxuICBjb25zdCBuc1N0b3JhZ2UgPSB7IC4uLnN0b3JhZ2UgfTtcbiAgZm9yIChjb25zdCBwcm9wZXJ0eSBvZiBzdG9yYWdlS2V5UHJvcGVydGllcykge1xuICAgIG5zU3RvcmFnZVtwcm9wZXJ0eV0gPSAoa2V5ID0gXCJcIiwgLi4uYXJncykgPT4gKFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgc3RvcmFnZVtwcm9wZXJ0eV0oYmFzZSArIGtleSwgLi4uYXJncylcbiAgICApO1xuICB9XG4gIG5zU3RvcmFnZS5nZXRLZXlzID0gKGtleSA9IFwiXCIsIC4uLmFyZ3VtZW50c18pID0+IHN0b3JhZ2UuZ2V0S2V5cyhiYXNlICsga2V5LCAuLi5hcmd1bWVudHNfKS50aGVuKChrZXlzKSA9PiBrZXlzLm1hcCgoa2V5MikgPT4ga2V5Mi5zbGljZShiYXNlLmxlbmd0aCkpKTtcbiAgcmV0dXJuIG5zU3RvcmFnZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleShrZXkpIHtcbiAgaWYgKCFrZXkpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICByZXR1cm4ga2V5LnNwbGl0KFwiP1wiKVswXT8ucmVwbGFjZSgvWy9cXFxcXS9nLCBcIjpcIikucmVwbGFjZSgvOisvZywgXCI6XCIpLnJlcGxhY2UoL146fDokL2csIFwiXCIpIHx8IFwiXCI7XG59XG5mdW5jdGlvbiBqb2luS2V5cyguLi5rZXlzKSB7XG4gIHJldHVybiBub3JtYWxpemVLZXkoa2V5cy5qb2luKFwiOlwiKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVCYXNlS2V5KGJhc2UpIHtcbiAgYmFzZSA9IG5vcm1hbGl6ZUtleShiYXNlKTtcbiAgcmV0dXJuIGJhc2UgPyBiYXNlICsgXCI6XCIgOiBcIlwiO1xufVxuZnVuY3Rpb24gZmlsdGVyS2V5QnlEZXB0aChrZXksIGRlcHRoKSB7XG4gIGlmIChkZXB0aCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgbGV0IHN1YnN0ckNvdW50ID0gMDtcbiAgbGV0IGluZGV4ID0ga2V5LmluZGV4T2YoXCI6XCIpO1xuICB3aGlsZSAoaW5kZXggPiAtMSkge1xuICAgIHN1YnN0ckNvdW50Kys7XG4gICAgaW5kZXggPSBrZXkuaW5kZXhPZihcIjpcIiwgaW5kZXggKyAxKTtcbiAgfVxuICByZXR1cm4gc3Vic3RyQ291bnQgPD0gZGVwdGg7XG59XG5mdW5jdGlvbiBmaWx0ZXJLZXlCeUJhc2Uoa2V5LCBiYXNlKSB7XG4gIGlmIChiYXNlKSB7XG4gICAgcmV0dXJuIGtleS5zdGFydHNXaXRoKGJhc2UpICYmIGtleVtrZXkubGVuZ3RoIC0gMV0gIT09IFwiJFwiO1xuICB9XG4gIHJldHVybiBrZXlba2V5Lmxlbmd0aCAtIDFdICE9PSBcIiRcIjtcbn1cblxuZXhwb3J0IHsgbm9ybWFsaXplS2V5IGFzIGEsIGFzeW5jQ2FsbCBhcyBiLCBmaWx0ZXJLZXlCeUJhc2UgYXMgYywgc3RyaW5naWZ5IGFzIGQsIGRlc2VyaWFsaXplUmF3IGFzIGUsIGZpbHRlcktleUJ5RGVwdGggYXMgZiwgam9pbktleXMgYXMgaiwgbm9ybWFsaXplQmFzZUtleSBhcyBuLCBwcmVmaXhTdG9yYWdlIGFzIHAsIHNlcmlhbGl6ZVJhdyBhcyBzIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/unstorage/dist/shared/unstorage.mNKHTF5Y.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   publicKeyToAddress: () => (/* binding */ publicKeyToAddress)\n/* harmony export */ });\n/* harmony import */ var _utils_address_getAddress_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/address/getAddress.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/getAddress.js\");\n/* harmony import */ var _utils_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/hash/keccak256.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/hash/keccak256.js\");\n\n\n/**\n * @description Converts an ECDSA public key to an address.\n *\n * @param publicKey The public key to convert.\n *\n * @returns The address.\n */\nfunction publicKeyToAddress(publicKey) {\n    const address = (0,_utils_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_0__.keccak256)(`0x${publicKey.substring(4)}`).substring(26);\n    return (0,_utils_address_getAddress_js__WEBPACK_IMPORTED_MODULE_1__.checksumAddress)(`0x${address}`);\n}\n//# sourceMappingURL=publicKeyToAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vYWNjb3VudHMvdXRpbHMvcHVibGljS2V5VG9BZGRyZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRTtBQUNWO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxvQkFBb0IsbUVBQVMsTUFBTSx1QkFBdUI7QUFDMUQsV0FBVyw2RUFBZSxNQUFNLFFBQVE7QUFDeEM7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9hY2NvdW50cy91dGlscy9wdWJsaWNLZXlUb0FkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2hlY2tzdW1BZGRyZXNzLCB9IGZyb20gJy4uLy4uL3V0aWxzL2FkZHJlc3MvZ2V0QWRkcmVzcy5qcyc7XG5pbXBvcnQgeyBrZWNjYWsyNTYsIH0gZnJvbSAnLi4vLi4vdXRpbHMvaGFzaC9rZWNjYWsyNTYuanMnO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gQ29udmVydHMgYW4gRUNEU0EgcHVibGljIGtleSB0byBhbiBhZGRyZXNzLlxuICpcbiAqIEBwYXJhbSBwdWJsaWNLZXkgVGhlIHB1YmxpYyBrZXkgdG8gY29udmVydC5cbiAqXG4gKiBAcmV0dXJucyBUaGUgYWRkcmVzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1YmxpY0tleVRvQWRkcmVzcyhwdWJsaWNLZXkpIHtcbiAgICBjb25zdCBhZGRyZXNzID0ga2VjY2FrMjU2KGAweCR7cHVibGljS2V5LnN1YnN0cmluZyg0KX1gKS5zdWJzdHJpbmcoMjYpO1xuICAgIHJldHVybiBjaGVja3N1bUFkZHJlc3MoYDB4JHthZGRyZXNzfWApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVibGljS2V5VG9BZGRyZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/address.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/address.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidAddressError: () => (/* binding */ InvalidAddressError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js\");\n\nclass InvalidAddressError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ address }) {\n        super(`Address \"${address}\" is invalid.`, {\n            metaMessages: [\n                '- Address must be a hex value of 20 bytes (40 hex characters).',\n                '- Address must match its checksum counterpart.',\n            ],\n            name: 'InvalidAddressError',\n        });\n    }\n}\n//# sourceMappingURL=address.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2FkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0M7QUFDL0Isa0NBQWtDLCtDQUFTO0FBQ2xELGtCQUFrQixTQUFTO0FBQzNCLDBCQUEwQixRQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL2Vycm9ycy9hZGRyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VFcnJvciB9IGZyb20gJy4vYmFzZS5qcyc7XG5leHBvcnQgY2xhc3MgSW52YWxpZEFkZHJlc3NFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBhZGRyZXNzIH0pIHtcbiAgICAgICAgc3VwZXIoYEFkZHJlc3MgXCIke2FkZHJlc3N9XCIgaXMgaW52YWxpZC5gLCB7XG4gICAgICAgICAgICBtZXRhTWVzc2FnZXM6IFtcbiAgICAgICAgICAgICAgICAnLSBBZGRyZXNzIG11c3QgYmUgYSBoZXggdmFsdWUgb2YgMjAgYnl0ZXMgKDQwIGhleCBjaGFyYWN0ZXJzKS4nLFxuICAgICAgICAgICAgICAgICctIEFkZHJlc3MgbXVzdCBtYXRjaCBpdHMgY2hlY2tzdW0gY291bnRlcnBhcnQuJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBuYW1lOiAnSW52YWxpZEFkZHJlc3NFcnJvcicsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZHJlc3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/address.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseError: () => (/* binding */ BaseError),\n/* harmony export */   setErrorConfig: () => (/* binding */ setErrorConfig)\n/* harmony export */ });\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./version.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/version.js\");\n\nlet errorConfig = {\n    getDocsUrl: ({ docsBaseUrl, docsPath = '', docsSlug, }) => docsPath\n        ? `${docsBaseUrl ?? 'https://viem.sh'}${docsPath}${docsSlug ? `#${docsSlug}` : ''}`\n        : undefined,\n    version: `viem@${_version_js__WEBPACK_IMPORTED_MODULE_0__.version}`,\n};\nfunction setErrorConfig(config) {\n    errorConfig = config;\n}\nclass BaseError extends Error {\n    constructor(shortMessage, args = {}) {\n        const details = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.details;\n            if (args.cause?.message)\n                return args.cause.message;\n            return args.details;\n        })();\n        const docsPath = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.docsPath || args.docsPath;\n            return args.docsPath;\n        })();\n        const docsUrl = errorConfig.getDocsUrl?.({ ...args, docsPath });\n        const message = [\n            shortMessage || 'An error occurred.',\n            '',\n            ...(args.metaMessages ? [...args.metaMessages, ''] : []),\n            ...(docsUrl ? [`Docs: ${docsUrl}`] : []),\n            ...(details ? [`Details: ${details}`] : []),\n            ...(errorConfig.version ? [`Version: ${errorConfig.version}`] : []),\n        ].join('\\n');\n        super(message, args.cause ? { cause: args.cause } : undefined);\n        Object.defineProperty(this, \"details\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"docsPath\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"metaMessages\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"shortMessage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"version\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'BaseError'\n        });\n        this.details = details;\n        this.docsPath = docsPath;\n        this.metaMessages = args.metaMessages;\n        this.name = args.name ?? this.name;\n        this.shortMessage = shortMessage;\n        this.version = _version_js__WEBPACK_IMPORTED_MODULE_0__.version;\n    }\n    walk(fn) {\n        return walk(this, fn);\n    }\n}\nfunction walk(err, fn) {\n    if (fn?.(err))\n        return err;\n    if (err &&\n        typeof err === 'object' &&\n        'cause' in err &&\n        err.cause !== undefined)\n        return walk(err.cause, fn);\n    return fn ? null : err;\n}\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVDO0FBQ3ZDO0FBQ0EsbUJBQW1CLHVDQUF1QztBQUMxRCxhQUFhLGlDQUFpQyxFQUFFLFNBQVMsRUFBRSxlQUFlLFNBQVMsT0FBTztBQUMxRjtBQUNBLHFCQUFxQixnREFBTyxDQUFDO0FBQzdCO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULG1EQUFtRCxtQkFBbUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsUUFBUTtBQUM1Qyx1Q0FBdUMsUUFBUTtBQUMvQyxtREFBbUQsb0JBQW9CO0FBQ3ZFO0FBQ0Esc0NBQXNDLG9CQUFvQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdEQUFPO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL2Vycm9ycy9iYXNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuL3ZlcnNpb24uanMnO1xubGV0IGVycm9yQ29uZmlnID0ge1xuICAgIGdldERvY3NVcmw6ICh7IGRvY3NCYXNlVXJsLCBkb2NzUGF0aCA9ICcnLCBkb2NzU2x1ZywgfSkgPT4gZG9jc1BhdGhcbiAgICAgICAgPyBgJHtkb2NzQmFzZVVybCA/PyAnaHR0cHM6Ly92aWVtLnNoJ30ke2RvY3NQYXRofSR7ZG9jc1NsdWcgPyBgIyR7ZG9jc1NsdWd9YCA6ICcnfWBcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgdmVyc2lvbjogYHZpZW1AJHt2ZXJzaW9ufWAsXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHNldEVycm9yQ29uZmlnKGNvbmZpZykge1xuICAgIGVycm9yQ29uZmlnID0gY29uZmlnO1xufVxuZXhwb3J0IGNsYXNzIEJhc2VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihzaG9ydE1lc3NhZ2UsIGFyZ3MgPSB7fSkge1xuICAgICAgICBjb25zdCBkZXRhaWxzID0gKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChhcmdzLmNhdXNlIGluc3RhbmNlb2YgQmFzZUVycm9yKVxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdzLmNhdXNlLmRldGFpbHM7XG4gICAgICAgICAgICBpZiAoYXJncy5jYXVzZT8ubWVzc2FnZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJncy5jYXVzZS5tZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3MuZGV0YWlscztcbiAgICAgICAgfSkoKTtcbiAgICAgICAgY29uc3QgZG9jc1BhdGggPSAoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFyZ3MuY2F1c2UgaW5zdGFuY2VvZiBCYXNlRXJyb3IpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3MuY2F1c2UuZG9jc1BhdGggfHwgYXJncy5kb2NzUGF0aDtcbiAgICAgICAgICAgIHJldHVybiBhcmdzLmRvY3NQYXRoO1xuICAgICAgICB9KSgpO1xuICAgICAgICBjb25zdCBkb2NzVXJsID0gZXJyb3JDb25maWcuZ2V0RG9jc1VybD8uKHsgLi4uYXJncywgZG9jc1BhdGggfSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBbXG4gICAgICAgICAgICBzaG9ydE1lc3NhZ2UgfHwgJ0FuIGVycm9yIG9jY3VycmVkLicsXG4gICAgICAgICAgICAnJyxcbiAgICAgICAgICAgIC4uLihhcmdzLm1ldGFNZXNzYWdlcyA/IFsuLi5hcmdzLm1ldGFNZXNzYWdlcywgJyddIDogW10pLFxuICAgICAgICAgICAgLi4uKGRvY3NVcmwgPyBbYERvY3M6ICR7ZG9jc1VybH1gXSA6IFtdKSxcbiAgICAgICAgICAgIC4uLihkZXRhaWxzID8gW2BEZXRhaWxzOiAke2RldGFpbHN9YF0gOiBbXSksXG4gICAgICAgICAgICAuLi4oZXJyb3JDb25maWcudmVyc2lvbiA/IFtgVmVyc2lvbjogJHtlcnJvckNvbmZpZy52ZXJzaW9ufWBdIDogW10pLFxuICAgICAgICBdLmpvaW4oJ1xcbicpO1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBhcmdzLmNhdXNlID8geyBjYXVzZTogYXJncy5jYXVzZSB9IDogdW5kZWZpbmVkKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZGV0YWlsc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkb2NzUGF0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXRhTWVzc2FnZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hvcnRNZXNzYWdlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZlcnNpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogJ0Jhc2VFcnJvcidcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgICAgIHRoaXMuZG9jc1BhdGggPSBkb2NzUGF0aDtcbiAgICAgICAgdGhpcy5tZXRhTWVzc2FnZXMgPSBhcmdzLm1ldGFNZXNzYWdlcztcbiAgICAgICAgdGhpcy5uYW1lID0gYXJncy5uYW1lID8/IHRoaXMubmFtZTtcbiAgICAgICAgdGhpcy5zaG9ydE1lc3NhZ2UgPSBzaG9ydE1lc3NhZ2U7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgfVxuICAgIHdhbGsoZm4pIHtcbiAgICAgICAgcmV0dXJuIHdhbGsodGhpcywgZm4pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdhbGsoZXJyLCBmbikge1xuICAgIGlmIChmbj8uKGVycikpXG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgaWYgKGVyciAmJlxuICAgICAgICB0eXBlb2YgZXJyID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAnY2F1c2UnIGluIGVyciAmJlxuICAgICAgICBlcnIuY2F1c2UgIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHdhbGsoZXJyLmNhdXNlLCBmbik7XG4gICAgcmV0dXJuIGZuID8gbnVsbCA6IGVycjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/data.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/data.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidBytesLengthError: () => (/* binding */ InvalidBytesLengthError),\n/* harmony export */   SizeExceedsPaddingSizeError: () => (/* binding */ SizeExceedsPaddingSizeError),\n/* harmony export */   SliceOffsetOutOfBoundsError: () => (/* binding */ SliceOffsetOutOfBoundsError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js\");\n\nclass SliceOffsetOutOfBoundsError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ offset, position, size, }) {\n        super(`Slice ${position === 'start' ? 'starting' : 'ending'} at offset \"${offset}\" is out-of-bounds (size: ${size}).`, { name: 'SliceOffsetOutOfBoundsError' });\n    }\n}\nclass SizeExceedsPaddingSizeError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} size (${size}) exceeds padding size (${targetSize}).`, { name: 'SizeExceedsPaddingSizeError' });\n    }\n}\nclass InvalidBytesLengthError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} is expected to be ${targetSize} ${type} long, but is ${size} ${type} long.`, { name: 'InvalidBytesLengthError' });\n    }\n}\n//# sourceMappingURL=data.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2RhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzQztBQUMvQiwwQ0FBMEMsK0NBQVM7QUFDMUQsa0JBQWtCLHlCQUF5QjtBQUMzQyx1QkFBdUIsOENBQThDLGFBQWEsT0FBTyw0QkFBNEIsS0FBSyxPQUFPLHFDQUFxQztBQUN0SztBQUNBO0FBQ08sMENBQTBDLCtDQUFTO0FBQzFELGtCQUFrQix5QkFBeUI7QUFDM0MsaUJBQWlCLDZCQUE2QixFQUFFO0FBQ2hEO0FBQ0EsNEJBQTRCLFFBQVEsS0FBSywwQkFBMEIsV0FBVyxPQUFPLHFDQUFxQztBQUMxSDtBQUNBO0FBQ08sc0NBQXNDLCtDQUFTO0FBQ3RELGtCQUFrQix5QkFBeUI7QUFDM0MsaUJBQWlCLDZCQUE2QixFQUFFO0FBQ2hEO0FBQ0EsNEJBQTRCLG9CQUFvQixZQUFZLEVBQUUsTUFBTSxlQUFlLE1BQU0sRUFBRSxNQUFNLFVBQVUsaUNBQWlDO0FBQzVJO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvZGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlRXJyb3IgfSBmcm9tICcuL2Jhc2UuanMnO1xuZXhwb3J0IGNsYXNzIFNsaWNlT2Zmc2V0T3V0T2ZCb3VuZHNFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBvZmZzZXQsIHBvc2l0aW9uLCBzaXplLCB9KSB7XG4gICAgICAgIHN1cGVyKGBTbGljZSAke3Bvc2l0aW9uID09PSAnc3RhcnQnID8gJ3N0YXJ0aW5nJyA6ICdlbmRpbmcnfSBhdCBvZmZzZXQgXCIke29mZnNldH1cIiBpcyBvdXQtb2YtYm91bmRzIChzaXplOiAke3NpemV9KS5gLCB7IG5hbWU6ICdTbGljZU9mZnNldE91dE9mQm91bmRzRXJyb3InIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTaXplRXhjZWVkc1BhZGRpbmdTaXplRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgc2l6ZSwgdGFyZ2V0U2l6ZSwgdHlwZSwgfSkge1xuICAgICAgICBzdXBlcihgJHt0eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfSR7dHlwZVxuICAgICAgICAgICAgLnNsaWNlKDEpXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKX0gc2l6ZSAoJHtzaXplfSkgZXhjZWVkcyBwYWRkaW5nIHNpemUgKCR7dGFyZ2V0U2l6ZX0pLmAsIHsgbmFtZTogJ1NpemVFeGNlZWRzUGFkZGluZ1NpemVFcnJvcicgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRCeXRlc0xlbmd0aEVycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHNpemUsIHRhcmdldFNpemUsIHR5cGUsIH0pIHtcbiAgICAgICAgc3VwZXIoYCR7dHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0ke3R5cGVcbiAgICAgICAgICAgIC5zbGljZSgxKVxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCl9IGlzIGV4cGVjdGVkIHRvIGJlICR7dGFyZ2V0U2l6ZX0gJHt0eXBlfSBsb25nLCBidXQgaXMgJHtzaXplfSAke3R5cGV9IGxvbmcuYCwgeyBuYW1lOiAnSW52YWxpZEJ5dGVzTGVuZ3RoRXJyb3InIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGEuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/encoding.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/encoding.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IntegerOutOfRangeError: () => (/* binding */ IntegerOutOfRangeError),\n/* harmony export */   InvalidBytesBooleanError: () => (/* binding */ InvalidBytesBooleanError),\n/* harmony export */   InvalidHexBooleanError: () => (/* binding */ InvalidHexBooleanError),\n/* harmony export */   InvalidHexValueError: () => (/* binding */ InvalidHexValueError),\n/* harmony export */   SizeOverflowError: () => (/* binding */ SizeOverflowError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js\");\n\nclass IntegerOutOfRangeError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ max, min, signed, size, value, }) {\n        super(`Number \"${value}\" is not in safe ${size ? `${size * 8}-bit ${signed ? 'signed' : 'unsigned'} ` : ''}integer range ${max ? `(${min} to ${max})` : `(above ${min})`}`, { name: 'IntegerOutOfRangeError' });\n    }\n}\nclass InvalidBytesBooleanError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(bytes) {\n        super(`Bytes value \"${bytes}\" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`, {\n            name: 'InvalidBytesBooleanError',\n        });\n    }\n}\nclass InvalidHexBooleanError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(hex) {\n        super(`Hex value \"${hex}\" is not a valid boolean. The hex value must be \"0x0\" (false) or \"0x1\" (true).`, { name: 'InvalidHexBooleanError' });\n    }\n}\nclass InvalidHexValueError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(value) {\n        super(`Hex value \"${value}\" is an odd length (${value.length}). It must be an even length.`, { name: 'InvalidHexValueError' });\n    }\n}\nclass SizeOverflowError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ givenSize, maxSize }) {\n        super(`Size cannot exceed ${maxSize} bytes. Given size: ${givenSize} bytes.`, { name: 'SizeOverflowError' });\n    }\n}\n//# sourceMappingURL=encoding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2VuY29kaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzQztBQUMvQixxQ0FBcUMsK0NBQVM7QUFDckQsa0JBQWtCLGdDQUFnQztBQUNsRCx5QkFBeUIsTUFBTSxtQkFBbUIsVUFBVSxTQUFTLE9BQU8sZ0NBQWdDLE9BQU8sZ0JBQWdCLFVBQVUsS0FBSyxLQUFLLElBQUksZUFBZSxJQUFJLEdBQUcsS0FBSyxnQ0FBZ0M7QUFDdE47QUFDQTtBQUNPLHVDQUF1QywrQ0FBUztBQUN2RDtBQUNBLDhCQUE4QixNQUFNO0FBQ3BDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTyxxQ0FBcUMsK0NBQVM7QUFDckQ7QUFDQSw0QkFBNEIsSUFBSSxtRkFBbUYsZ0NBQWdDO0FBQ25KO0FBQ0E7QUFDTyxtQ0FBbUMsK0NBQVM7QUFDbkQ7QUFDQSw0QkFBNEIsTUFBTSxzQkFBc0IsYUFBYSxrQ0FBa0MsOEJBQThCO0FBQ3JJO0FBQ0E7QUFDTyxnQ0FBZ0MsK0NBQVM7QUFDaEQsa0JBQWtCLG9CQUFvQjtBQUN0QyxvQ0FBb0MsU0FBUyxxQkFBcUIsV0FBVyxXQUFXLDJCQUEyQjtBQUNuSDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2VuY29kaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VFcnJvciB9IGZyb20gJy4vYmFzZS5qcyc7XG5leHBvcnQgY2xhc3MgSW50ZWdlck91dE9mUmFuZ2VFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBtYXgsIG1pbiwgc2lnbmVkLCBzaXplLCB2YWx1ZSwgfSkge1xuICAgICAgICBzdXBlcihgTnVtYmVyIFwiJHt2YWx1ZX1cIiBpcyBub3QgaW4gc2FmZSAke3NpemUgPyBgJHtzaXplICogOH0tYml0ICR7c2lnbmVkID8gJ3NpZ25lZCcgOiAndW5zaWduZWQnfSBgIDogJyd9aW50ZWdlciByYW5nZSAke21heCA/IGAoJHttaW59IHRvICR7bWF4fSlgIDogYChhYm92ZSAke21pbn0pYH1gLCB7IG5hbWU6ICdJbnRlZ2VyT3V0T2ZSYW5nZUVycm9yJyB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEJ5dGVzQm9vbGVhbkVycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihieXRlcykge1xuICAgICAgICBzdXBlcihgQnl0ZXMgdmFsdWUgXCIke2J5dGVzfVwiIGlzIG5vdCBhIHZhbGlkIGJvb2xlYW4uIFRoZSBieXRlcyBhcnJheSBtdXN0IGNvbnRhaW4gYSBzaW5nbGUgYnl0ZSBvZiBlaXRoZXIgYSAwIG9yIDEgdmFsdWUuYCwge1xuICAgICAgICAgICAgbmFtZTogJ0ludmFsaWRCeXRlc0Jvb2xlYW5FcnJvcicsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkSGV4Qm9vbGVhbkVycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihoZXgpIHtcbiAgICAgICAgc3VwZXIoYEhleCB2YWx1ZSBcIiR7aGV4fVwiIGlzIG5vdCBhIHZhbGlkIGJvb2xlYW4uIFRoZSBoZXggdmFsdWUgbXVzdCBiZSBcIjB4MFwiIChmYWxzZSkgb3IgXCIweDFcIiAodHJ1ZSkuYCwgeyBuYW1lOiAnSW52YWxpZEhleEJvb2xlYW5FcnJvcicgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRIZXhWYWx1ZUVycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcihgSGV4IHZhbHVlIFwiJHt2YWx1ZX1cIiBpcyBhbiBvZGQgbGVuZ3RoICgke3ZhbHVlLmxlbmd0aH0pLiBJdCBtdXN0IGJlIGFuIGV2ZW4gbGVuZ3RoLmAsIHsgbmFtZTogJ0ludmFsaWRIZXhWYWx1ZUVycm9yJyB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2l6ZU92ZXJmbG93RXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgZ2l2ZW5TaXplLCBtYXhTaXplIH0pIHtcbiAgICAgICAgc3VwZXIoYFNpemUgY2Fubm90IGV4Y2VlZCAke21heFNpemV9IGJ5dGVzLiBHaXZlbiBzaXplOiAke2dpdmVuU2l6ZX0gYnl0ZXMuYCwgeyBuYW1lOiAnU2l6ZU92ZXJmbG93RXJyb3InIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuY29kaW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/encoding.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/version.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/version.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\nconst version = '2.23.2';\n//# sourceMappingURL=version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL3ZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1AiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL3ZlcnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHZlcnNpb24gPSAnMi4yMy4yJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/version.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/getAddress.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/getAddress.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checksumAddress: () => (/* binding */ checksumAddress),\n/* harmony export */   getAddress: () => (/* binding */ getAddress)\n/* harmony export */ });\n/* harmony import */ var _errors_address_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../errors/address.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/address.js\");\n/* harmony import */ var _encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/toBytes.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n/* harmony import */ var _hash_keccak256_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hash/keccak256.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/hash/keccak256.js\");\n/* harmony import */ var _lru_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lru.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/lru.js\");\n/* harmony import */ var _isAddress_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isAddress.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/isAddress.js\");\n\n\n\n\n\nconst checksumAddressCache = /*#__PURE__*/ new _lru_js__WEBPACK_IMPORTED_MODULE_0__.LruMap(8192);\nfunction checksumAddress(address_, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (checksumAddressCache.has(`${address_}.${chainId}`))\n        return checksumAddressCache.get(`${address_}.${chainId}`);\n    const hexAddress = chainId\n        ? `${chainId}${address_.toLowerCase()}`\n        : address_.substring(2).toLowerCase();\n    const hash = (0,_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_1__.keccak256)((0,_encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.stringToBytes)(hexAddress), 'bytes');\n    const address = (chainId ? hexAddress.substring(`${chainId}0x`.length) : hexAddress).split('');\n    for (let i = 0; i < 40; i += 2) {\n        if (hash[i >> 1] >> 4 >= 8 && address[i]) {\n            address[i] = address[i].toUpperCase();\n        }\n        if ((hash[i >> 1] & 0x0f) >= 8 && address[i + 1]) {\n            address[i + 1] = address[i + 1].toUpperCase();\n        }\n    }\n    const result = `0x${address.join('')}`;\n    checksumAddressCache.set(`${address_}.${chainId}`, result);\n    return result;\n}\nfunction getAddress(address, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (!(0,_isAddress_js__WEBPACK_IMPORTED_MODULE_3__.isAddress)(address, { strict: false }))\n        throw new _errors_address_js__WEBPACK_IMPORTED_MODULE_4__.InvalidAddressError({ address });\n    return checksumAddress(address, chainId);\n}\n//# sourceMappingURL=getAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvYWRkcmVzcy9nZXRBZGRyZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEQ7QUFDTjtBQUNQO0FBQ2Q7QUFDUTtBQUMzQywrQ0FBK0MsMkNBQU07QUFDOUM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFNBQVMsR0FBRyxRQUFRO0FBQ3hELDJDQUEyQyxTQUFTLEdBQUcsUUFBUTtBQUMvRDtBQUNBLGFBQWEsUUFBUSxFQUFFLHVCQUF1QjtBQUM5QztBQUNBLGlCQUFpQiw2REFBUyxDQUFDLG1FQUFhO0FBQ3hDLHVEQUF1RCxRQUFRO0FBQy9ELG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QyxnQ0FBZ0MsU0FBUyxHQUFHLFFBQVE7QUFDcEQ7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsd0RBQVMsWUFBWSxlQUFlO0FBQzdDLGtCQUFrQixtRUFBbUIsR0FBRyxTQUFTO0FBQ2pEO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9hZGRyZXNzL2dldEFkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW52YWxpZEFkZHJlc3NFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9ycy9hZGRyZXNzLmpzJztcbmltcG9ydCB7IHN0cmluZ1RvQnl0ZXMsIH0gZnJvbSAnLi4vZW5jb2RpbmcvdG9CeXRlcy5qcyc7XG5pbXBvcnQgeyBrZWNjYWsyNTYgfSBmcm9tICcuLi9oYXNoL2tlY2NhazI1Ni5qcyc7XG5pbXBvcnQgeyBMcnVNYXAgfSBmcm9tICcuLi9scnUuanMnO1xuaW1wb3J0IHsgaXNBZGRyZXNzIH0gZnJvbSAnLi9pc0FkZHJlc3MuanMnO1xuY29uc3QgY2hlY2tzdW1BZGRyZXNzQ2FjaGUgPSAvKiNfX1BVUkVfXyovIG5ldyBMcnVNYXAoODE5Mik7XG5leHBvcnQgZnVuY3Rpb24gY2hlY2tzdW1BZGRyZXNzKGFkZHJlc3NfLCBcbi8qKlxuICogV2FybmluZzogRUlQLTExOTEgY2hlY2tzdW0gYWRkcmVzc2VzIGFyZSBnZW5lcmFsbHkgbm90IGJhY2t3YXJkcyBjb21wYXRpYmxlIHdpdGggdGhlXG4gKiB3aWRlciBFdGhlcmV1bSBlY29zeXN0ZW0sIG1lYW5pbmcgaXQgd2lsbCBicmVhayB3aGVuIHZhbGlkYXRlZCBhZ2FpbnN0IGFuIGFwcGxpY2F0aW9uL3Rvb2xcbiAqIHRoYXQgcmVsaWVzIG9uIEVJUC01NSBjaGVja3N1bSBlbmNvZGluZyAoY2hlY2tzdW0gd2l0aG91dCBjaGFpbklkKS5cbiAqXG4gKiBJdCBpcyBoaWdobHkgcmVjb21tZW5kZWQgdG8gbm90IHVzZSB0aGlzIGZlYXR1cmUgdW5sZXNzIHlvdVxuICoga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gKlxuICogU2VlIG1vcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xMTIxXG4gKi9cbmNoYWluSWQpIHtcbiAgICBpZiAoY2hlY2tzdW1BZGRyZXNzQ2FjaGUuaGFzKGAke2FkZHJlc3NffS4ke2NoYWluSWR9YCkpXG4gICAgICAgIHJldHVybiBjaGVja3N1bUFkZHJlc3NDYWNoZS5nZXQoYCR7YWRkcmVzc199LiR7Y2hhaW5JZH1gKTtcbiAgICBjb25zdCBoZXhBZGRyZXNzID0gY2hhaW5JZFxuICAgICAgICA/IGAke2NoYWluSWR9JHthZGRyZXNzXy50b0xvd2VyQ2FzZSgpfWBcbiAgICAgICAgOiBhZGRyZXNzXy5zdWJzdHJpbmcoMikudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBoYXNoID0ga2VjY2FrMjU2KHN0cmluZ1RvQnl0ZXMoaGV4QWRkcmVzcyksICdieXRlcycpO1xuICAgIGNvbnN0IGFkZHJlc3MgPSAoY2hhaW5JZCA/IGhleEFkZHJlc3Muc3Vic3RyaW5nKGAke2NoYWluSWR9MHhgLmxlbmd0aCkgOiBoZXhBZGRyZXNzKS5zcGxpdCgnJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0MDsgaSArPSAyKSB7XG4gICAgICAgIGlmIChoYXNoW2kgPj4gMV0gPj4gNCA+PSA4ICYmIGFkZHJlc3NbaV0pIHtcbiAgICAgICAgICAgIGFkZHJlc3NbaV0gPSBhZGRyZXNzW2ldLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChoYXNoW2kgPj4gMV0gJiAweDBmKSA+PSA4ICYmIGFkZHJlc3NbaSArIDFdKSB7XG4gICAgICAgICAgICBhZGRyZXNzW2kgKyAxXSA9IGFkZHJlc3NbaSArIDFdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gYDB4JHthZGRyZXNzLmpvaW4oJycpfWA7XG4gICAgY2hlY2tzdW1BZGRyZXNzQ2FjaGUuc2V0KGAke2FkZHJlc3NffS4ke2NoYWluSWR9YCwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFkZHJlc3MoYWRkcmVzcywgXG4vKipcbiAqIFdhcm5pbmc6IEVJUC0xMTkxIGNoZWNrc3VtIGFkZHJlc3NlcyBhcmUgZ2VuZXJhbGx5IG5vdCBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoIHRoZVxuICogd2lkZXIgRXRoZXJldW0gZWNvc3lzdGVtLCBtZWFuaW5nIGl0IHdpbGwgYnJlYWsgd2hlbiB2YWxpZGF0ZWQgYWdhaW5zdCBhbiBhcHBsaWNhdGlvbi90b29sXG4gKiB0aGF0IHJlbGllcyBvbiBFSVAtNTUgY2hlY2tzdW0gZW5jb2RpbmcgKGNoZWNrc3VtIHdpdGhvdXQgY2hhaW5JZCkuXG4gKlxuICogSXQgaXMgaGlnaGx5IHJlY29tbWVuZGVkIHRvIG5vdCB1c2UgdGhpcyBmZWF0dXJlIHVubGVzcyB5b3VcbiAqIGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICpcbiAqIFNlZSBtb3JlOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTEyMVxuICovXG5jaGFpbklkKSB7XG4gICAgaWYgKCFpc0FkZHJlc3MoYWRkcmVzcywgeyBzdHJpY3Q6IGZhbHNlIH0pKVxuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFkZHJlc3NFcnJvcih7IGFkZHJlc3MgfSk7XG4gICAgcmV0dXJuIGNoZWNrc3VtQWRkcmVzcyhhZGRyZXNzLCBjaGFpbklkKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEFkZHJlc3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/getAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/isAddress.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/isAddress.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAddress: () => (/* binding */ isAddress),\n/* harmony export */   isAddressCache: () => (/* binding */ isAddressCache)\n/* harmony export */ });\n/* harmony import */ var _lru_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lru.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/lru.js\");\n/* harmony import */ var _getAddress_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getAddress.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/getAddress.js\");\n\n\nconst addressRegex = /^0x[a-fA-F0-9]{40}$/;\n/** @internal */\nconst isAddressCache = /*#__PURE__*/ new _lru_js__WEBPACK_IMPORTED_MODULE_0__.LruMap(8192);\nfunction isAddress(address, options) {\n    const { strict = true } = options ?? {};\n    const cacheKey = `${address}.${strict}`;\n    if (isAddressCache.has(cacheKey))\n        return isAddressCache.get(cacheKey);\n    const result = (() => {\n        if (!addressRegex.test(address))\n            return false;\n        if (address.toLowerCase() === address)\n            return true;\n        if (strict)\n            return (0,_getAddress_js__WEBPACK_IMPORTED_MODULE_1__.checksumAddress)(address) === address;\n        return true;\n    })();\n    isAddressCache.set(cacheKey, result);\n    return result;\n}\n//# sourceMappingURL=isAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvYWRkcmVzcy9pc0FkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtQztBQUNlO0FBQ2xELHFDQUFxQyxHQUFHO0FBQ3hDO0FBQ08seUNBQXlDLDJDQUFNO0FBQy9DO0FBQ1AsWUFBWSxnQkFBZ0I7QUFDNUIsd0JBQXdCLFFBQVEsR0FBRyxPQUFPO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0RBQWU7QUFDbEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvYWRkcmVzcy9pc0FkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTHJ1TWFwIH0gZnJvbSAnLi4vbHJ1LmpzJztcbmltcG9ydCB7IGNoZWNrc3VtQWRkcmVzcyB9IGZyb20gJy4vZ2V0QWRkcmVzcy5qcyc7XG5jb25zdCBhZGRyZXNzUmVnZXggPSAvXjB4W2EtZkEtRjAtOV17NDB9JC87XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaXNBZGRyZXNzQ2FjaGUgPSAvKiNfX1BVUkVfXyovIG5ldyBMcnVNYXAoODE5Mik7XG5leHBvcnQgZnVuY3Rpb24gaXNBZGRyZXNzKGFkZHJlc3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHN0cmljdCA9IHRydWUgfSA9IG9wdGlvbnMgPz8ge307XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgJHthZGRyZXNzfS4ke3N0cmljdH1gO1xuICAgIGlmIChpc0FkZHJlc3NDYWNoZS5oYXMoY2FjaGVLZXkpKVxuICAgICAgICByZXR1cm4gaXNBZGRyZXNzQ2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICBjb25zdCByZXN1bHQgPSAoKCkgPT4ge1xuICAgICAgICBpZiAoIWFkZHJlc3NSZWdleC50ZXN0KGFkZHJlc3MpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoYWRkcmVzcy50b0xvd2VyQ2FzZSgpID09PSBhZGRyZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChzdHJpY3QpXG4gICAgICAgICAgICByZXR1cm4gY2hlY2tzdW1BZGRyZXNzKGFkZHJlc3MpID09PSBhZGRyZXNzO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KSgpO1xuICAgIGlzQWRkcmVzc0NhY2hlLnNldChjYWNoZUtleSwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBZGRyZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/isAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isHex: () => (/* binding */ isHex)\n/* harmony export */ });\nfunction isHex(value, { strict = true } = {}) {\n    if (!value)\n        return false;\n    if (typeof value !== 'string')\n        return false;\n    return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith('0x');\n}\n//# sourceMappingURL=isHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS9pc0hleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sd0JBQXdCLGdCQUFnQixJQUFJO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2RhdGEvaXNIZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzSGV4KHZhbHVlLCB7IHN0cmljdCA9IHRydWUgfSA9IHt9KSB7XG4gICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHN0cmljdCA/IC9eMHhbMC05YS1mQS1GXSokLy50ZXN0KHZhbHVlKSA6IHZhbHVlLnN0YXJ0c1dpdGgoJzB4Jyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0hleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/pad.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/pad.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pad: () => (/* binding */ pad),\n/* harmony export */   padBytes: () => (/* binding */ padBytes),\n/* harmony export */   padHex: () => (/* binding */ padHex)\n/* harmony export */ });\n/* harmony import */ var _errors_data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors/data.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/data.js\");\n\nfunction pad(hexOrBytes, { dir, size = 32 } = {}) {\n    if (typeof hexOrBytes === 'string')\n        return padHex(hexOrBytes, { dir, size });\n    return padBytes(hexOrBytes, { dir, size });\n}\nfunction padHex(hex_, { dir, size = 32 } = {}) {\n    if (size === null)\n        return hex_;\n    const hex = hex_.replace('0x', '');\n    if (hex.length > size * 2)\n        throw new _errors_data_js__WEBPACK_IMPORTED_MODULE_0__.SizeExceedsPaddingSizeError({\n            size: Math.ceil(hex.length / 2),\n            targetSize: size,\n            type: 'hex',\n        });\n    return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;\n}\nfunction padBytes(bytes, { dir, size = 32 } = {}) {\n    if (size === null)\n        return bytes;\n    if (bytes.length > size)\n        throw new _errors_data_js__WEBPACK_IMPORTED_MODULE_0__.SizeExceedsPaddingSizeError({\n            size: bytes.length,\n            targetSize: size,\n            type: 'bytes',\n        });\n    const paddedBytes = new Uint8Array(size);\n    for (let i = 0; i < size; i++) {\n        const padEnd = dir === 'right';\n        paddedBytes[padEnd ? i : size - i - 1] =\n            bytes[padEnd ? i : bytes.length - i - 1];\n    }\n    return paddedBytes;\n}\n//# sourceMappingURL=pad.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS9wYWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRTtBQUM3RCwyQkFBMkIsaUJBQWlCLElBQUk7QUFDdkQ7QUFDQSxvQ0FBb0MsV0FBVztBQUMvQyxrQ0FBa0MsV0FBVztBQUM3QztBQUNPLHdCQUF3QixpQkFBaUIsSUFBSTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3RUFBMkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGdCQUFnQiw0REFBNEQ7QUFDNUU7QUFDTywyQkFBMkIsaUJBQWlCLElBQUk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdFQUEyQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3BhZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTaXplRXhjZWVkc1BhZGRpbmdTaXplRXJyb3IsIH0gZnJvbSAnLi4vLi4vZXJyb3JzL2RhdGEuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIHBhZChoZXhPckJ5dGVzLCB7IGRpciwgc2l6ZSA9IDMyIH0gPSB7fSkge1xuICAgIGlmICh0eXBlb2YgaGV4T3JCeXRlcyA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBwYWRIZXgoaGV4T3JCeXRlcywgeyBkaXIsIHNpemUgfSk7XG4gICAgcmV0dXJuIHBhZEJ5dGVzKGhleE9yQnl0ZXMsIHsgZGlyLCBzaXplIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhZEhleChoZXhfLCB7IGRpciwgc2l6ZSA9IDMyIH0gPSB7fSkge1xuICAgIGlmIChzaXplID09PSBudWxsKVxuICAgICAgICByZXR1cm4gaGV4XztcbiAgICBjb25zdCBoZXggPSBoZXhfLnJlcGxhY2UoJzB4JywgJycpO1xuICAgIGlmIChoZXgubGVuZ3RoID4gc2l6ZSAqIDIpXG4gICAgICAgIHRocm93IG5ldyBTaXplRXhjZWVkc1BhZGRpbmdTaXplRXJyb3Ioe1xuICAgICAgICAgICAgc2l6ZTogTWF0aC5jZWlsKGhleC5sZW5ndGggLyAyKSxcbiAgICAgICAgICAgIHRhcmdldFNpemU6IHNpemUsXG4gICAgICAgICAgICB0eXBlOiAnaGV4JyxcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIGAweCR7aGV4W2RpciA9PT0gJ3JpZ2h0JyA/ICdwYWRFbmQnIDogJ3BhZFN0YXJ0J10oc2l6ZSAqIDIsICcwJyl9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYWRCeXRlcyhieXRlcywgeyBkaXIsIHNpemUgPSAzMiB9ID0ge30pIHtcbiAgICBpZiAoc2l6ZSA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIGlmIChieXRlcy5sZW5ndGggPiBzaXplKVxuICAgICAgICB0aHJvdyBuZXcgU2l6ZUV4Y2VlZHNQYWRkaW5nU2l6ZUVycm9yKHtcbiAgICAgICAgICAgIHNpemU6IGJ5dGVzLmxlbmd0aCxcbiAgICAgICAgICAgIHRhcmdldFNpemU6IHNpemUsXG4gICAgICAgICAgICB0eXBlOiAnYnl0ZXMnLFxuICAgICAgICB9KTtcbiAgICBjb25zdCBwYWRkZWRCeXRlcyA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhZEVuZCA9IGRpciA9PT0gJ3JpZ2h0JztcbiAgICAgICAgcGFkZGVkQnl0ZXNbcGFkRW5kID8gaSA6IHNpemUgLSBpIC0gMV0gPVxuICAgICAgICAgICAgYnl0ZXNbcGFkRW5kID8gaSA6IGJ5dGVzLmxlbmd0aCAtIGkgLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhZGRlZEJ5dGVzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFkLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/pad.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/size.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/size.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   size: () => (/* binding */ size)\n/* harmony export */ });\n/* harmony import */ var _isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js\");\n\n/**\n * @description Retrieves the size of the value (in bytes).\n *\n * @param value The value (hex or byte array) to retrieve the size of.\n * @returns The size of the value (in bytes).\n */\nfunction size(value) {\n    if ((0,_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(value, { strict: false }))\n        return Math.ceil((value.length - 2) / 2);\n    return value.length;\n}\n//# sourceMappingURL=size.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS9zaXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsUUFBUSxnREFBSyxVQUFVLGVBQWU7QUFDdEM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS9zaXplLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzSGV4IH0gZnJvbSAnLi9pc0hleC5qcyc7XG4vKipcbiAqIEBkZXNjcmlwdGlvbiBSZXRyaWV2ZXMgdGhlIHNpemUgb2YgdGhlIHZhbHVlIChpbiBieXRlcykuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSAoaGV4IG9yIGJ5dGUgYXJyYXkpIHRvIHJldHJpZXZlIHRoZSBzaXplIG9mLlxuICogQHJldHVybnMgVGhlIHNpemUgb2YgdGhlIHZhbHVlIChpbiBieXRlcykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaXplKHZhbHVlKSB7XG4gICAgaWYgKGlzSGV4KHZhbHVlLCB7IHN0cmljdDogZmFsc2UgfSkpXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwoKHZhbHVlLmxlbmd0aCAtIDIpIC8gMik7XG4gICAgcmV0dXJuIHZhbHVlLmxlbmd0aDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpemUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/size.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/trim.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/trim.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trim: () => (/* binding */ trim)\n/* harmony export */ });\nfunction trim(hexOrBytes, { dir = 'left' } = {}) {\n    let data = typeof hexOrBytes === 'string' ? hexOrBytes.replace('0x', '') : hexOrBytes;\n    let sliceLength = 0;\n    for (let i = 0; i < data.length - 1; i++) {\n        if (data[dir === 'left' ? i : data.length - i - 1].toString() === '0')\n            sliceLength++;\n        else\n            break;\n    }\n    data =\n        dir === 'left'\n            ? data.slice(sliceLength)\n            : data.slice(0, data.length - sliceLength);\n    if (typeof hexOrBytes === 'string') {\n        if (data.length === 1 && dir === 'right')\n            data = `${data}0`;\n        return `0x${data.length % 2 === 1 ? `0${data}` : data}`;\n    }\n    return data;\n}\n//# sourceMappingURL=trim.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS90cmltLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyw0QkFBNEIsZUFBZSxJQUFJO0FBQ3REO0FBQ0E7QUFDQSxvQkFBb0IscUJBQXFCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsS0FBSztBQUMzQixvQkFBb0IsNEJBQTRCLEtBQUssU0FBUztBQUM5RDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3RyaW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHRyaW0oaGV4T3JCeXRlcywgeyBkaXIgPSAnbGVmdCcgfSA9IHt9KSB7XG4gICAgbGV0IGRhdGEgPSB0eXBlb2YgaGV4T3JCeXRlcyA9PT0gJ3N0cmluZycgPyBoZXhPckJ5dGVzLnJlcGxhY2UoJzB4JywgJycpIDogaGV4T3JCeXRlcztcbiAgICBsZXQgc2xpY2VMZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKGRhdGFbZGlyID09PSAnbGVmdCcgPyBpIDogZGF0YS5sZW5ndGggLSBpIC0gMV0udG9TdHJpbmcoKSA9PT0gJzAnKVxuICAgICAgICAgICAgc2xpY2VMZW5ndGgrKztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRhdGEgPVxuICAgICAgICBkaXIgPT09ICdsZWZ0J1xuICAgICAgICAgICAgPyBkYXRhLnNsaWNlKHNsaWNlTGVuZ3RoKVxuICAgICAgICAgICAgOiBkYXRhLnNsaWNlKDAsIGRhdGEubGVuZ3RoIC0gc2xpY2VMZW5ndGgpO1xuICAgIGlmICh0eXBlb2YgaGV4T3JCeXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAxICYmIGRpciA9PT0gJ3JpZ2h0JylcbiAgICAgICAgICAgIGRhdGEgPSBgJHtkYXRhfTBgO1xuICAgICAgICByZXR1cm4gYDB4JHtkYXRhLmxlbmd0aCAlIDIgPT09IDEgPyBgMCR7ZGF0YX1gIDogZGF0YX1gO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyaW0uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/trim.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertSize: () => (/* binding */ assertSize),\n/* harmony export */   fromHex: () => (/* binding */ fromHex),\n/* harmony export */   hexToBigInt: () => (/* binding */ hexToBigInt),\n/* harmony export */   hexToBool: () => (/* binding */ hexToBool),\n/* harmony export */   hexToNumber: () => (/* binding */ hexToNumber),\n/* harmony export */   hexToString: () => (/* binding */ hexToString)\n/* harmony export */ });\n/* harmony import */ var _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../errors/encoding.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/encoding.js\");\n/* harmony import */ var _data_size_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/size.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/size.js\");\n/* harmony import */ var _data_trim_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/trim.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/trim.js\");\n/* harmony import */ var _toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toBytes.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n\n\n\n\nfunction assertSize(hexOrBytes, { size }) {\n    if ((0,_data_size_js__WEBPACK_IMPORTED_MODULE_0__.size)(hexOrBytes) > size)\n        throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__.SizeOverflowError({\n            givenSize: (0,_data_size_js__WEBPACK_IMPORTED_MODULE_0__.size)(hexOrBytes),\n            maxSize: size,\n        });\n}\n/**\n * Decodes a hex string into a string, number, bigint, boolean, or byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex\n * - Example: https://viem.sh/docs/utilities/fromHex#usage\n *\n * @param hex Hex string to decode.\n * @param toOrOpts Type to convert to or options.\n * @returns Decoded value.\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x1a4', 'number')\n * // 420\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c6421', 'string')\n * // 'Hello world'\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *   size: 32,\n *   to: 'string'\n * })\n * // 'Hello world'\n */\nfunction fromHex(hex, toOrOpts) {\n    const opts = typeof toOrOpts === 'string' ? { to: toOrOpts } : toOrOpts;\n    const to = opts.to;\n    if (to === 'number')\n        return hexToNumber(hex, opts);\n    if (to === 'bigint')\n        return hexToBigInt(hex, opts);\n    if (to === 'string')\n        return hexToString(hex, opts);\n    if (to === 'boolean')\n        return hexToBool(hex, opts);\n    return (0,_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(hex, opts);\n}\n/**\n * Decodes a hex value into a bigint.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobigint\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns BigInt value.\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x1a4', { signed: true })\n * // 420n\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420n\n */\nfunction hexToBigInt(hex, opts = {}) {\n    const { signed } = opts;\n    if (opts.size)\n        assertSize(hex, { size: opts.size });\n    const value = BigInt(hex);\n    if (!signed)\n        return value;\n    const size = (hex.length - 2) / 2;\n    const max = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n    if (value <= max)\n        return value;\n    return value - BigInt(`0x${'f'.padStart(size * 2, 'f')}`) - 1n;\n}\n/**\n * Decodes a hex value into a boolean.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobool\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Boolean value.\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x01')\n * // true\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x0000000000000000000000000000000000000000000000000000000000000001', { size: 32 })\n * // true\n */\nfunction hexToBool(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        assertSize(hex, { size: opts.size });\n        hex = (0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex);\n    }\n    if ((0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex) === '0x00')\n        return false;\n    if ((0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex) === '0x01')\n        return true;\n    throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__.InvalidHexBooleanError(hex);\n}\n/**\n * Decodes a hex string into a number.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextonumber\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Number value.\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToNumber('0x1a4')\n * // 420\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420\n */\nfunction hexToNumber(hex, opts = {}) {\n    return Number(hexToBigInt(hex, opts));\n}\n/**\n * Decodes a hex value into a UTF-8 string.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextostring\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns String value.\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c6421')\n * // 'Hello world!'\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *  size: 32,\n * })\n * // 'Hello world'\n */\nfunction hexToString(hex, opts = {}) {\n    let bytes = (0,_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(hex);\n    if (opts.size) {\n        assertSize(bytes, { size: opts.size });\n        bytes = (0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(bytes, { dir: 'right' });\n    }\n    return new TextDecoder().decode(bytes);\n}\n//# sourceMappingURL=fromHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZW5jb2RpbmcvZnJvbUhleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXNGO0FBQ3RDO0FBQ1Q7QUFDRztBQUNuQyxrQ0FBa0MsTUFBTTtBQUMvQyxRQUFRLG1EQUFLO0FBQ2Isa0JBQWtCLGtFQUFpQjtBQUNuQyx1QkFBdUIsbURBQUs7QUFDNUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ087QUFDUCxrREFBa0QsZUFBZTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVEQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsdUNBQXVDLGNBQWM7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLG9HQUFvRyxVQUFVO0FBQzlHO0FBQ0E7QUFDTyxtQ0FBbUM7QUFDMUMsWUFBWSxTQUFTO0FBQ3JCO0FBQ0EsMEJBQTBCLGlCQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw0QkFBNEI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QixrR0FBa0csVUFBVTtBQUM1RztBQUNBO0FBQ08sa0NBQWtDO0FBQ3pDO0FBQ0E7QUFDQSwwQkFBMEIsaUJBQWlCO0FBQzNDLGNBQWMsbURBQUk7QUFDbEI7QUFDQSxRQUFRLG1EQUFJO0FBQ1o7QUFDQSxRQUFRLG1EQUFJO0FBQ1o7QUFDQSxjQUFjLHVFQUFzQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLG9HQUFvRyxVQUFVO0FBQzlHO0FBQ0E7QUFDTyxtQ0FBbUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNPLG1DQUFtQztBQUMxQyxnQkFBZ0IsdURBQVU7QUFDMUI7QUFDQSw0QkFBNEIsaUJBQWlCO0FBQzdDLGdCQUFnQixtREFBSSxVQUFVLGNBQWM7QUFDNUM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZW5jb2RpbmcvZnJvbUhleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnZhbGlkSGV4Qm9vbGVhbkVycm9yLCBTaXplT3ZlcmZsb3dFcnJvciwgfSBmcm9tICcuLi8uLi9lcnJvcnMvZW5jb2RpbmcuanMnO1xuaW1wb3J0IHsgc2l6ZSBhcyBzaXplXyB9IGZyb20gJy4uL2RhdGEvc2l6ZS5qcyc7XG5pbXBvcnQgeyB0cmltIH0gZnJvbSAnLi4vZGF0YS90cmltLmpzJztcbmltcG9ydCB7IGhleFRvQnl0ZXMgfSBmcm9tICcuL3RvQnl0ZXMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFNpemUoaGV4T3JCeXRlcywgeyBzaXplIH0pIHtcbiAgICBpZiAoc2l6ZV8oaGV4T3JCeXRlcykgPiBzaXplKVxuICAgICAgICB0aHJvdyBuZXcgU2l6ZU92ZXJmbG93RXJyb3Ioe1xuICAgICAgICAgICAgZ2l2ZW5TaXplOiBzaXplXyhoZXhPckJ5dGVzKSxcbiAgICAgICAgICAgIG1heFNpemU6IHNpemUsXG4gICAgICAgIH0pO1xufVxuLyoqXG4gKiBEZWNvZGVzIGEgaGV4IHN0cmluZyBpbnRvIGEgc3RyaW5nLCBudW1iZXIsIGJpZ2ludCwgYm9vbGVhbiwgb3IgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy9mcm9tSGV4XG4gKiAtIEV4YW1wbGU6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy9mcm9tSGV4I3VzYWdlXG4gKlxuICogQHBhcmFtIGhleCBIZXggc3RyaW5nIHRvIGRlY29kZS5cbiAqIEBwYXJhbSB0b09yT3B0cyBUeXBlIHRvIGNvbnZlcnQgdG8gb3Igb3B0aW9ucy5cbiAqIEByZXR1cm5zIERlY29kZWQgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGZyb21IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGZyb21IZXgoJzB4MWE0JywgJ251bWJlcicpXG4gKiAvLyA0MjBcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgZnJvbUhleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gZnJvbUhleCgnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEnLCAnc3RyaW5nJylcbiAqIC8vICdIZWxsbyB3b3JsZCdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgZnJvbUhleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gZnJvbUhleCgnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJywge1xuICogICBzaXplOiAzMixcbiAqICAgdG86ICdzdHJpbmcnXG4gKiB9KVxuICogLy8gJ0hlbGxvIHdvcmxkJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUhleChoZXgsIHRvT3JPcHRzKSB7XG4gICAgY29uc3Qgb3B0cyA9IHR5cGVvZiB0b09yT3B0cyA9PT0gJ3N0cmluZycgPyB7IHRvOiB0b09yT3B0cyB9IDogdG9Pck9wdHM7XG4gICAgY29uc3QgdG8gPSBvcHRzLnRvO1xuICAgIGlmICh0byA9PT0gJ251bWJlcicpXG4gICAgICAgIHJldHVybiBoZXhUb051bWJlcihoZXgsIG9wdHMpO1xuICAgIGlmICh0byA9PT0gJ2JpZ2ludCcpXG4gICAgICAgIHJldHVybiBoZXhUb0JpZ0ludChoZXgsIG9wdHMpO1xuICAgIGlmICh0byA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBoZXhUb1N0cmluZyhoZXgsIG9wdHMpO1xuICAgIGlmICh0byA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICByZXR1cm4gaGV4VG9Cb29sKGhleCwgb3B0cyk7XG4gICAgcmV0dXJuIGhleFRvQnl0ZXMoaGV4LCBvcHRzKTtcbn1cbi8qKlxuICogRGVjb2RlcyBhIGhleCB2YWx1ZSBpbnRvIGEgYmlnaW50LlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL2Zyb21IZXgjaGV4dG9iaWdpbnRcbiAqXG4gKiBAcGFyYW0gaGV4IEhleCB2YWx1ZSB0byBkZWNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgQmlnSW50IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb0JpZ0ludCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9CaWdJbnQoJzB4MWE0JywgeyBzaWduZWQ6IHRydWUgfSlcbiAqIC8vIDQyMG5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9CaWdJbnQgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQmlnSW50KCcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxYTQnLCB7IHNpemU6IDMyIH0pXG4gKiAvLyA0MjBuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb0JpZ0ludChoZXgsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgc2lnbmVkIH0gPSBvcHRzO1xuICAgIGlmIChvcHRzLnNpemUpXG4gICAgICAgIGFzc2VydFNpemUoaGV4LCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICBjb25zdCB2YWx1ZSA9IEJpZ0ludChoZXgpO1xuICAgIGlmICghc2lnbmVkKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3Qgc2l6ZSA9IChoZXgubGVuZ3RoIC0gMikgLyAyO1xuICAgIGNvbnN0IG1heCA9ICgxbiA8PCAoQmlnSW50KHNpemUpICogOG4gLSAxbikpIC0gMW47XG4gICAgaWYgKHZhbHVlIDw9IG1heClcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZSAtIEJpZ0ludChgMHgkeydmJy5wYWRTdGFydChzaXplICogMiwgJ2YnKX1gKSAtIDFuO1xufVxuLyoqXG4gKiBEZWNvZGVzIGEgaGV4IHZhbHVlIGludG8gYSBib29sZWFuLlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL2Zyb21IZXgjaGV4dG9ib29sXG4gKlxuICogQHBhcmFtIGhleCBIZXggdmFsdWUgdG8gZGVjb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJvb2xlYW4gdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvQm9vbCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9Cb29sKCcweDAxJylcbiAqIC8vIHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9Cb29sIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0Jvb2woJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMScsIHsgc2l6ZTogMzIgfSlcbiAqIC8vIHRydWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleFRvQm9vbChoZXhfLCBvcHRzID0ge30pIHtcbiAgICBsZXQgaGV4ID0gaGV4XztcbiAgICBpZiAob3B0cy5zaXplKSB7XG4gICAgICAgIGFzc2VydFNpemUoaGV4LCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgaGV4ID0gdHJpbShoZXgpO1xuICAgIH1cbiAgICBpZiAodHJpbShoZXgpID09PSAnMHgwMCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHJpbShoZXgpID09PSAnMHgwMScpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHRocm93IG5ldyBJbnZhbGlkSGV4Qm9vbGVhbkVycm9yKGhleCk7XG59XG4vKipcbiAqIERlY29kZXMgYSBoZXggc3RyaW5nIGludG8gYSBudW1iZXIuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvZnJvbUhleCNoZXh0b251bWJlclxuICpcbiAqIEBwYXJhbSBoZXggSGV4IHZhbHVlIHRvIGRlY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBOdW1iZXIgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvTnVtYmVyIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb051bWJlcignMHgxYTQnKVxuICogLy8gNDIwXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvTnVtYmVyIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0JpZ0ludCgnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMWE0JywgeyBzaXplOiAzMiB9KVxuICogLy8gNDIwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb051bWJlcihoZXgsIG9wdHMgPSB7fSkge1xuICAgIHJldHVybiBOdW1iZXIoaGV4VG9CaWdJbnQoaGV4LCBvcHRzKSk7XG59XG4vKipcbiAqIERlY29kZXMgYSBoZXggdmFsdWUgaW50byBhIFVURi04IHN0cmluZy5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy9mcm9tSGV4I2hleHRvc3RyaW5nXG4gKlxuICogQHBhcmFtIGhleCBIZXggdmFsdWUgdG8gZGVjb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIFN0cmluZyB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9TdHJpbmcgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvU3RyaW5nKCcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMScpXG4gKiAvLyAnSGVsbG8gd29ybGQhJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb1N0cmluZyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9TdHJpbmcoJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsIHtcbiAqICBzaXplOiAzMixcbiAqIH0pXG4gKiAvLyAnSGVsbG8gd29ybGQnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1N0cmluZyhoZXgsIG9wdHMgPSB7fSkge1xuICAgIGxldCBieXRlcyA9IGhleFRvQnl0ZXMoaGV4KTtcbiAgICBpZiAob3B0cy5zaXplKSB7XG4gICAgICAgIGFzc2VydFNpemUoYnl0ZXMsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICBieXRlcyA9IHRyaW0oYnl0ZXMsIHsgZGlyOiAncmlnaHQnIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGJ5dGVzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21IZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boolToBytes: () => (/* binding */ boolToBytes),\n/* harmony export */   hexToBytes: () => (/* binding */ hexToBytes),\n/* harmony export */   numberToBytes: () => (/* binding */ numberToBytes),\n/* harmony export */   stringToBytes: () => (/* binding */ stringToBytes),\n/* harmony export */   toBytes: () => (/* binding */ toBytes)\n/* harmony export */ });\n/* harmony import */ var _errors_base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../errors/base.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js\");\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _data_pad_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/pad.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/pad.js\");\n/* harmony import */ var _fromHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fromHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n/* harmony import */ var _toHex_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./toHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\n\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string, hex value, bigint, number or boolean to a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes\n * - Example: https://viem.sh/docs/utilities/toBytes#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes('Hello world')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nfunction toBytes(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToBytes(value, opts);\n    if (typeof value === 'boolean')\n        return boolToBytes(value, opts);\n    if ((0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(value))\n        return hexToBytes(value, opts);\n    return stringToBytes(value, opts);\n}\n/**\n * Encodes a boolean into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#booltobytes\n *\n * @param value Boolean value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true)\n * // Uint8Array([1])\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true, { size: 32 })\n * // Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])\n */\nfunction boolToBytes(value, opts = {}) {\n    const bytes = new Uint8Array(1);\n    bytes[0] = Number(value);\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(bytes, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(bytes, { size: opts.size });\n    }\n    return bytes;\n}\n// We use very optimized technique to convert hex string to byte array\nconst charCodeMap = {\n    zero: 48,\n    nine: 57,\n    A: 65,\n    F: 70,\n    a: 97,\n    f: 102,\n};\nfunction charCodeToBase16(char) {\n    if (char >= charCodeMap.zero && char <= charCodeMap.nine)\n        return char - charCodeMap.zero;\n    if (char >= charCodeMap.A && char <= charCodeMap.F)\n        return char - (charCodeMap.A - 10);\n    if (char >= charCodeMap.a && char <= charCodeMap.f)\n        return char - (charCodeMap.a - 10);\n    return undefined;\n}\n/**\n * Encodes a hex string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#hextobytes\n *\n * @param hex Hex string to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nfunction hexToBytes(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(hex, { size: opts.size });\n        hex = (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(hex, { dir: 'right', size: opts.size });\n    }\n    let hexString = hex.slice(2);\n    if (hexString.length % 2)\n        hexString = `0${hexString}`;\n    const length = hexString.length / 2;\n    const bytes = new Uint8Array(length);\n    for (let index = 0, j = 0; index < length; index++) {\n        const nibbleLeft = charCodeToBase16(hexString.charCodeAt(j++));\n        const nibbleRight = charCodeToBase16(hexString.charCodeAt(j++));\n        if (nibbleLeft === undefined || nibbleRight === undefined) {\n            throw new _errors_base_js__WEBPACK_IMPORTED_MODULE_3__.BaseError(`Invalid byte sequence (\"${hexString[j - 2]}${hexString[j - 1]}\" in \"${hexString}\").`);\n        }\n        bytes[index] = nibbleLeft * 16 + nibbleRight;\n    }\n    return bytes;\n}\n/**\n * Encodes a number into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#numbertobytes\n *\n * @param value Number to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nfunction numberToBytes(value, opts) {\n    const hex = (0,_toHex_js__WEBPACK_IMPORTED_MODULE_4__.numberToHex)(value, opts);\n    return hexToBytes(hex);\n}\n/**\n * Encodes a UTF-8 string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#stringtobytes\n *\n * @param value String to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nfunction stringToBytes(value, opts = {}) {\n    const bytes = encoder.encode(value);\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(bytes, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(bytes, { dir: 'right', size: opts.size });\n    }\n    return bytes;\n}\n//# sourceMappingURL=toBytes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZW5jb2RpbmcvdG9CeXRlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWlEO0FBQ1I7QUFDSjtBQUNLO0FBQ0E7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLCtCQUErQixTQUFTO0FBQ3hDO0FBQ0E7QUFDTyxpQ0FBaUM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFLO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsb0NBQW9DLFVBQVU7QUFDOUM7QUFDQTtBQUNPLHFDQUFxQztBQUM1QztBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFVLFVBQVUsaUJBQWlCO0FBQzdDLGVBQWUsaURBQUcsVUFBVSxpQkFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekIsMkRBQTJELFVBQVU7QUFDckU7QUFDQTtBQUNPLG1DQUFtQztBQUMxQztBQUNBO0FBQ0EsUUFBUSx1REFBVSxRQUFRLGlCQUFpQjtBQUMzQyxjQUFjLGlEQUFHLFFBQVEsK0JBQStCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVO0FBQ2xDO0FBQ0E7QUFDQSwrQkFBK0IsZ0JBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzREFBUyw0QkFBNEIsaUJBQWlCLEVBQUUsaUJBQWlCLFFBQVEsVUFBVTtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCLHFDQUFxQyxTQUFTO0FBQzlDO0FBQ0E7QUFDTztBQUNQLGdCQUFnQixzREFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCLGdEQUFnRCxVQUFVO0FBQzFEO0FBQ0E7QUFDTyx1Q0FBdUM7QUFDOUM7QUFDQTtBQUNBLFFBQVEsdURBQVUsVUFBVSxpQkFBaUI7QUFDN0MsZUFBZSxpREFBRyxVQUFVLCtCQUErQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy90b0J5dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9ycy9iYXNlLmpzJztcbmltcG9ydCB7IGlzSGV4IH0gZnJvbSAnLi4vZGF0YS9pc0hleC5qcyc7XG5pbXBvcnQgeyBwYWQgfSBmcm9tICcuLi9kYXRhL3BhZC5qcyc7XG5pbXBvcnQgeyBhc3NlcnRTaXplIH0gZnJvbSAnLi9mcm9tSGV4LmpzJztcbmltcG9ydCB7IG51bWJlclRvSGV4LCB9IGZyb20gJy4vdG9IZXguanMnO1xuY29uc3QgZW5jb2RlciA9IC8qI19fUFVSRV9fKi8gbmV3IFRleHRFbmNvZGVyKCk7XG4vKipcbiAqIEVuY29kZXMgYSBVVEYtOCBzdHJpbmcsIGhleCB2YWx1ZSwgYmlnaW50LCBudW1iZXIgb3IgYm9vbGVhbiB0byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlc1xuICogLSBFeGFtcGxlOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlcyN1c2FnZVxuICpcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgQnl0ZSBhcnJheSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgdG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9CeXRlcygnSGVsbG8gd29ybGQnKVxuICogLy8gVWludDhBcnJheShbNzIsIDEwMSwgMTA4LCAxMDgsIDExMSwgMzIsIDg3LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzXSlcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgdG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9CeXRlcyg0MjApXG4gKiAvLyBVaW50OEFycmF5KFsxLCAxNjRdKVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyB0b0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSB0b0J5dGVzKDQyMCwgeyBzaXplOiA0IH0pXG4gKiAvLyBVaW50OEFycmF5KFswLCAwLCAxLCAxNjRdKVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9CeXRlcyh2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYmlnaW50JylcbiAgICAgICAgcmV0dXJuIG51bWJlclRvQnl0ZXModmFsdWUsIG9wdHMpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJylcbiAgICAgICAgcmV0dXJuIGJvb2xUb0J5dGVzKHZhbHVlLCBvcHRzKTtcbiAgICBpZiAoaXNIZXgodmFsdWUpKVxuICAgICAgICByZXR1cm4gaGV4VG9CeXRlcyh2YWx1ZSwgb3B0cyk7XG4gICAgcmV0dXJuIHN0cmluZ1RvQnl0ZXModmFsdWUsIG9wdHMpO1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgYm9vbGVhbiBpbnRvIGEgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0J5dGVzI2Jvb2x0b2J5dGVzXG4gKlxuICogQHBhcmFtIHZhbHVlIEJvb2xlYW4gdmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJ5dGUgYXJyYXkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJvb2xUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBib29sVG9CeXRlcyh0cnVlKVxuICogLy8gVWludDhBcnJheShbMV0pXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJvb2xUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBib29sVG9CeXRlcyh0cnVlLCB7IHNpemU6IDMyIH0pXG4gKiAvLyBVaW50OEFycmF5KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxXSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvb2xUb0J5dGVzKHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KDEpO1xuICAgIGJ5dGVzWzBdID0gTnVtYmVyKHZhbHVlKTtcbiAgICBpZiAodHlwZW9mIG9wdHMuc2l6ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgYXNzZXJ0U2l6ZShieXRlcywgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgICAgIHJldHVybiBwYWQoYnl0ZXMsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG4vLyBXZSB1c2UgdmVyeSBvcHRpbWl6ZWQgdGVjaG5pcXVlIHRvIGNvbnZlcnQgaGV4IHN0cmluZyB0byBieXRlIGFycmF5XG5jb25zdCBjaGFyQ29kZU1hcCA9IHtcbiAgICB6ZXJvOiA0OCxcbiAgICBuaW5lOiA1NyxcbiAgICBBOiA2NSxcbiAgICBGOiA3MCxcbiAgICBhOiA5NyxcbiAgICBmOiAxMDIsXG59O1xuZnVuY3Rpb24gY2hhckNvZGVUb0Jhc2UxNihjaGFyKSB7XG4gICAgaWYgKGNoYXIgPj0gY2hhckNvZGVNYXAuemVybyAmJiBjaGFyIDw9IGNoYXJDb2RlTWFwLm5pbmUpXG4gICAgICAgIHJldHVybiBjaGFyIC0gY2hhckNvZGVNYXAuemVybztcbiAgICBpZiAoY2hhciA+PSBjaGFyQ29kZU1hcC5BICYmIGNoYXIgPD0gY2hhckNvZGVNYXAuRilcbiAgICAgICAgcmV0dXJuIGNoYXIgLSAoY2hhckNvZGVNYXAuQSAtIDEwKTtcbiAgICBpZiAoY2hhciA+PSBjaGFyQ29kZU1hcC5hICYmIGNoYXIgPD0gY2hhckNvZGVNYXAuZilcbiAgICAgICAgcmV0dXJuIGNoYXIgLSAoY2hhckNvZGVNYXAuYSAtIDEwKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgaGV4IHN0cmluZyBpbnRvIGEgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0J5dGVzI2hleHRvYnl0ZXNcbiAqXG4gKiBAcGFyYW0gaGV4IEhleCBzdHJpbmcgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJ5dGUgYXJyYXkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQnl0ZXMoJzB4NDg2NTZjNmM2ZjIwNzc2ZjcyNmM2NDIxJylcbiAqIC8vIFVpbnQ4QXJyYXkoWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCA4NywgMTExLCAxMTQsIDEwOCwgMTAwLCAzM10pXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQnl0ZXMoJzB4NDg2NTZjNmM2ZjIwNzc2ZjcyNmM2NDIxJywgeyBzaXplOiAzMiB9KVxuICogLy8gVWludDhBcnJheShbNzIsIDEwMSwgMTA4LCAxMDgsIDExMSwgMzIsIDg3LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleFRvQnl0ZXMoaGV4Xywgb3B0cyA9IHt9KSB7XG4gICAgbGV0IGhleCA9IGhleF87XG4gICAgaWYgKG9wdHMuc2l6ZSkge1xuICAgICAgICBhc3NlcnRTaXplKGhleCwgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgICAgIGhleCA9IHBhZChoZXgsIHsgZGlyOiAncmlnaHQnLCBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgfVxuICAgIGxldCBoZXhTdHJpbmcgPSBoZXguc2xpY2UoMik7XG4gICAgaWYgKGhleFN0cmluZy5sZW5ndGggJSAyKVxuICAgICAgICBoZXhTdHJpbmcgPSBgMCR7aGV4U3RyaW5nfWA7XG4gICAgY29uc3QgbGVuZ3RoID0gaGV4U3RyaW5nLmxlbmd0aCAvIDI7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgIGZvciAobGV0IGluZGV4ID0gMCwgaiA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IG5pYmJsZUxlZnQgPSBjaGFyQ29kZVRvQmFzZTE2KGhleFN0cmluZy5jaGFyQ29kZUF0KGorKykpO1xuICAgICAgICBjb25zdCBuaWJibGVSaWdodCA9IGNoYXJDb2RlVG9CYXNlMTYoaGV4U3RyaW5nLmNoYXJDb2RlQXQoaisrKSk7XG4gICAgICAgIGlmIChuaWJibGVMZWZ0ID09PSB1bmRlZmluZWQgfHwgbmliYmxlUmlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFcnJvcihgSW52YWxpZCBieXRlIHNlcXVlbmNlIChcIiR7aGV4U3RyaW5nW2ogLSAyXX0ke2hleFN0cmluZ1tqIC0gMV19XCIgaW4gXCIke2hleFN0cmluZ31cIikuYCk7XG4gICAgICAgIH1cbiAgICAgICAgYnl0ZXNbaW5kZXhdID0gbmliYmxlTGVmdCAqIDE2ICsgbmliYmxlUmlnaHQ7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn1cbi8qKlxuICogRW5jb2RlcyBhIG51bWJlciBpbnRvIGEgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0J5dGVzI251bWJlcnRvYnl0ZXNcbiAqXG4gKiBAcGFyYW0gdmFsdWUgTnVtYmVyIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBCeXRlIGFycmF5IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBudW1iZXJUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBudW1iZXJUb0J5dGVzKDQyMClcbiAqIC8vIFVpbnQ4QXJyYXkoWzEsIDE2NF0pXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IG51bWJlclRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IG51bWJlclRvQnl0ZXMoNDIwLCB7IHNpemU6IDQgfSlcbiAqIC8vIFVpbnQ4QXJyYXkoWzAsIDAsIDEsIDE2NF0pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJUb0J5dGVzKHZhbHVlLCBvcHRzKSB7XG4gICAgY29uc3QgaGV4ID0gbnVtYmVyVG9IZXgodmFsdWUsIG9wdHMpO1xuICAgIHJldHVybiBoZXhUb0J5dGVzKGhleCk7XG59XG4vKipcbiAqIEVuY29kZXMgYSBVVEYtOCBzdHJpbmcgaW50byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlcyNzdHJpbmd0b2J5dGVzXG4gKlxuICogQHBhcmFtIHZhbHVlIFN0cmluZyB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgQnl0ZSBhcnJheSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgc3RyaW5nVG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gc3RyaW5nVG9CeXRlcygnSGVsbG8gd29ybGQhJylcbiAqIC8vIFVpbnQ4QXJyYXkoWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCAxMTksIDExMSwgMTE0LCAxMDgsIDEwMCwgMzNdKVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBzdHJpbmdUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBzdHJpbmdUb0J5dGVzKCdIZWxsbyB3b3JsZCEnLCB7IHNpemU6IDMyIH0pXG4gKiAvLyBVaW50OEFycmF5KFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgODcsIDExMSwgMTE0LCAxMDgsIDEwMCwgMzMsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdKVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyh2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgYnl0ZXMgPSBlbmNvZGVyLmVuY29kZSh2YWx1ZSk7XG4gICAgaWYgKHR5cGVvZiBvcHRzLnNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGFzc2VydFNpemUoYnl0ZXMsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICByZXR1cm4gcGFkKGJ5dGVzLCB7IGRpcjogJ3JpZ2h0Jywgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b0J5dGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boolToHex: () => (/* binding */ boolToHex),\n/* harmony export */   bytesToHex: () => (/* binding */ bytesToHex),\n/* harmony export */   numberToHex: () => (/* binding */ numberToHex),\n/* harmony export */   stringToHex: () => (/* binding */ stringToHex),\n/* harmony export */   toHex: () => (/* binding */ toHex)\n/* harmony export */ });\n/* harmony import */ var _errors_encoding_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors/encoding.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/encoding.js\");\n/* harmony import */ var _data_pad_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/pad.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/pad.js\");\n/* harmony import */ var _fromHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fromHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n\n\n\nconst hexes = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));\n/**\n * Encodes a string, number, bigint, or ByteArray into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex\n * - Example: https://viem.sh/docs/utilities/toHex#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world')\n * // '0x48656c6c6f20776f726c6421'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex(420)\n * // '0x1a4'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world', { size: 32 })\n * // '0x48656c6c6f20776f726c64210000000000000000000000000000000000000000'\n */\nfunction toHex(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToHex(value, opts);\n    if (typeof value === 'string') {\n        return stringToHex(value, opts);\n    }\n    if (typeof value === 'boolean')\n        return boolToHex(value, opts);\n    return bytesToHex(value, opts);\n}\n/**\n * Encodes a boolean into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#booltohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true)\n * // '0x1'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(false)\n * // '0x0'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true, { size: 32 })\n * // '0x0000000000000000000000000000000000000000000000000000000000000001'\n */\nfunction boolToHex(value, opts = {}) {\n    const hex = `0x${Number(value)}`;\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_0__.assertSize)(hex, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a bytes array into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#bytestohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]), { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nfunction bytesToHex(value, opts = {}) {\n    let string = '';\n    for (let i = 0; i < value.length; i++) {\n        string += hexes[value[i]];\n    }\n    const hex = `0x${string}`;\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_0__.assertSize)(hex, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { dir: 'right', size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a number or bigint into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#numbertohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420)\n * // '0x1a4'\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420, { size: 32 })\n * // '0x00000000000000000000000000000000000000000000000000000000000001a4'\n */\nfunction numberToHex(value_, opts = {}) {\n    const { signed, size } = opts;\n    const value = BigInt(value_);\n    let maxValue;\n    if (size) {\n        if (signed)\n            maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n        else\n            maxValue = 2n ** (BigInt(size) * 8n) - 1n;\n    }\n    else if (typeof value_ === 'number') {\n        maxValue = BigInt(Number.MAX_SAFE_INTEGER);\n    }\n    const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;\n    if ((maxValue && value > maxValue) || value < minValue) {\n        const suffix = typeof value_ === 'bigint' ? 'n' : '';\n        throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_2__.IntegerOutOfRangeError({\n            max: maxValue ? `${maxValue}${suffix}` : undefined,\n            min: `${minValue}${suffix}`,\n            signed,\n            size,\n            value: `${value_}${suffix}`,\n        });\n    }\n    const hex = `0x${(signed && value < 0 ? (1n << BigInt(size * 8)) + BigInt(value) : value).toString(16)}`;\n    if (size)\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { size });\n    return hex;\n}\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#stringtohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!')\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!', { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nfunction stringToHex(value_, opts = {}) {\n    const value = encoder.encode(value_);\n    return bytesToHex(value, opts);\n}\n//# sourceMappingURL=toHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZW5jb2RpbmcvdG9IZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBbUU7QUFDOUI7QUFDSztBQUMxQyx5Q0FBeUMsYUFBYTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLHVDQUF1QyxVQUFVO0FBQ2pEO0FBQ0E7QUFDTywrQkFBK0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEIsa0NBQWtDLFVBQVU7QUFDNUM7QUFDQTtBQUNPLG1DQUFtQztBQUMxQyxxQkFBcUIsY0FBYztBQUNuQztBQUNBLFFBQVEsdURBQVUsUUFBUSxpQkFBaUI7QUFDM0MsZUFBZSxpREFBRyxRQUFRLGlCQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6Qix3R0FBd0csVUFBVTtBQUNsSDtBQUNBO0FBQ08sb0NBQW9DO0FBQzNDO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0EscUJBQXFCLE9BQU87QUFDNUI7QUFDQSxRQUFRLHVEQUFVLFFBQVEsaUJBQWlCO0FBQzNDLGVBQWUsaURBQUcsUUFBUSwrQkFBK0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsbUNBQW1DLFVBQVU7QUFDN0M7QUFDQTtBQUNPLHNDQUFzQztBQUM3QyxZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1RUFBc0I7QUFDeEMsK0JBQStCLFNBQVMsRUFBRSxPQUFPO0FBQ2pELG9CQUFvQixTQUFTLEVBQUUsT0FBTztBQUN0QztBQUNBO0FBQ0Esc0JBQXNCLE9BQU8sRUFBRSxPQUFPO0FBQ3RDLFNBQVM7QUFDVDtBQUNBLHFCQUFxQixzRkFBc0Y7QUFDM0c7QUFDQSxlQUFlLGlEQUFHLFFBQVEsTUFBTTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQiw4Q0FBOEMsVUFBVTtBQUN4RDtBQUNBO0FBQ08sc0NBQXNDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2VuY29kaW5nL3RvSGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludGVnZXJPdXRPZlJhbmdlRXJyb3IsIH0gZnJvbSAnLi4vLi4vZXJyb3JzL2VuY29kaW5nLmpzJztcbmltcG9ydCB7IHBhZCB9IGZyb20gJy4uL2RhdGEvcGFkLmpzJztcbmltcG9ydCB7IGFzc2VydFNpemUgfSBmcm9tICcuL2Zyb21IZXguanMnO1xuY29uc3QgaGV4ZXMgPSAvKiNfX1BVUkVfXyovIEFycmF5LmZyb20oeyBsZW5ndGg6IDI1NiB9LCAoX3YsIGkpID0+IGkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpO1xuLyoqXG4gKiBFbmNvZGVzIGEgc3RyaW5nLCBudW1iZXIsIGJpZ2ludCwgb3IgQnl0ZUFycmF5IGludG8gYSBoZXggc3RyaW5nXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9IZXhcbiAqIC0gRXhhbXBsZTogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4I3VzYWdlXG4gKlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBIZXggdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSB0b0hleCgnSGVsbG8gd29ybGQnKVxuICogLy8gJzB4NDg2NTZjNmM2ZjIwNzc2ZjcyNmM2NDIxJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyB0b0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9IZXgoNDIwKVxuICogLy8gJzB4MWE0J1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyB0b0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9IZXgoJ0hlbGxvIHdvcmxkJywgeyBzaXplOiAzMiB9KVxuICogLy8gJzB4NDg2NTZjNmM2ZjIwNzc2ZjcyNmM2NDIxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvSGV4KHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdiaWdpbnQnKVxuICAgICAgICByZXR1cm4gbnVtYmVyVG9IZXgodmFsdWUsIG9wdHMpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdUb0hleCh2YWx1ZSwgb3B0cyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJylcbiAgICAgICAgcmV0dXJuIGJvb2xUb0hleCh2YWx1ZSwgb3B0cyk7XG4gICAgcmV0dXJuIGJ5dGVzVG9IZXgodmFsdWUsIG9wdHMpO1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgYm9vbGVhbiBpbnRvIGEgaGV4IHN0cmluZ1xuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4I2Jvb2x0b2hleFxuICpcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgSGV4IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBib29sVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGJvb2xUb0hleCh0cnVlKVxuICogLy8gJzB4MSdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgYm9vbFRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBib29sVG9IZXgoZmFsc2UpXG4gKiAvLyAnMHgwJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBib29sVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGJvb2xUb0hleCh0cnVlLCB7IHNpemU6IDMyIH0pXG4gKiAvLyAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYm9vbFRvSGV4KHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICBjb25zdCBoZXggPSBgMHgke051bWJlcih2YWx1ZSl9YDtcbiAgICBpZiAodHlwZW9mIG9wdHMuc2l6ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgYXNzZXJ0U2l6ZShoZXgsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICByZXR1cm4gcGFkKGhleCwgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG4vKipcbiAqIEVuY29kZXMgYSBieXRlcyBhcnJheSBpbnRvIGEgaGV4IHN0cmluZ1xuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4I2J5dGVzdG9oZXhcbiAqXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEhleCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgYnl0ZXNUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gYnl0ZXNUb0hleChVaW50OEFycmF5LmZyb20oWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCA4NywgMTExLCAxMTQsIDEwOCwgMTAwLCAzM10pXG4gKiAvLyAnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJ5dGVzVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGJ5dGVzVG9IZXgoVWludDhBcnJheS5mcm9tKFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgODcsIDExMSwgMTE0LCAxMDgsIDEwMCwgMzNdKSwgeyBzaXplOiAzMiB9KVxuICogLy8gJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9IZXgodmFsdWUsIG9wdHMgPSB7fSkge1xuICAgIGxldCBzdHJpbmcgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN0cmluZyArPSBoZXhlc1t2YWx1ZVtpXV07XG4gICAgfVxuICAgIGNvbnN0IGhleCA9IGAweCR7c3RyaW5nfWA7XG4gICAgaWYgKHR5cGVvZiBvcHRzLnNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGFzc2VydFNpemUoaGV4LCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgcmV0dXJuIHBhZChoZXgsIHsgZGlyOiAncmlnaHQnLCBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG4vKipcbiAqIEVuY29kZXMgYSBudW1iZXIgb3IgYmlnaW50IGludG8gYSBoZXggc3RyaW5nXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9IZXgjbnVtYmVydG9oZXhcbiAqXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEhleCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgbnVtYmVyVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IG51bWJlclRvSGV4KDQyMClcbiAqIC8vICcweDFhNCdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgbnVtYmVyVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IG51bWJlclRvSGV4KDQyMCwgeyBzaXplOiAzMiB9KVxuICogLy8gJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDFhNCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvSGV4KHZhbHVlXywgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgeyBzaWduZWQsIHNpemUgfSA9IG9wdHM7XG4gICAgY29uc3QgdmFsdWUgPSBCaWdJbnQodmFsdWVfKTtcbiAgICBsZXQgbWF4VmFsdWU7XG4gICAgaWYgKHNpemUpIHtcbiAgICAgICAgaWYgKHNpZ25lZClcbiAgICAgICAgICAgIG1heFZhbHVlID0gKDFuIDw8IChCaWdJbnQoc2l6ZSkgKiA4biAtIDFuKSkgLSAxbjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbWF4VmFsdWUgPSAybiAqKiAoQmlnSW50KHNpemUpICogOG4pIC0gMW47XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZV8gPT09ICdudW1iZXInKSB7XG4gICAgICAgIG1heFZhbHVlID0gQmlnSW50KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcbiAgICB9XG4gICAgY29uc3QgbWluVmFsdWUgPSB0eXBlb2YgbWF4VmFsdWUgPT09ICdiaWdpbnQnICYmIHNpZ25lZCA/IC1tYXhWYWx1ZSAtIDFuIDogMDtcbiAgICBpZiAoKG1heFZhbHVlICYmIHZhbHVlID4gbWF4VmFsdWUpIHx8IHZhbHVlIDwgbWluVmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc3VmZml4ID0gdHlwZW9mIHZhbHVlXyA9PT0gJ2JpZ2ludCcgPyAnbicgOiAnJztcbiAgICAgICAgdGhyb3cgbmV3IEludGVnZXJPdXRPZlJhbmdlRXJyb3Ioe1xuICAgICAgICAgICAgbWF4OiBtYXhWYWx1ZSA/IGAke21heFZhbHVlfSR7c3VmZml4fWAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtaW46IGAke21pblZhbHVlfSR7c3VmZml4fWAsXG4gICAgICAgICAgICBzaWduZWQsXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgdmFsdWU6IGAke3ZhbHVlX30ke3N1ZmZpeH1gLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgaGV4ID0gYDB4JHsoc2lnbmVkICYmIHZhbHVlIDwgMCA/ICgxbiA8PCBCaWdJbnQoc2l6ZSAqIDgpKSArIEJpZ0ludCh2YWx1ZSkgOiB2YWx1ZSkudG9TdHJpbmcoMTYpfWA7XG4gICAgaWYgKHNpemUpXG4gICAgICAgIHJldHVybiBwYWQoaGV4LCB7IHNpemUgfSk7XG4gICAgcmV0dXJuIGhleDtcbn1cbmNvbnN0IGVuY29kZXIgPSAvKiNfX1BVUkVfXyovIG5ldyBUZXh0RW5jb2RlcigpO1xuLyoqXG4gKiBFbmNvZGVzIGEgVVRGLTggc3RyaW5nIGludG8gYSBoZXggc3RyaW5nXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9IZXgjc3RyaW5ndG9oZXhcbiAqXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEhleCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgc3RyaW5nVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHN0cmluZ1RvSGV4KCdIZWxsbyBXb3JsZCEnKVxuICogLy8gJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBzdHJpbmdUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gc3RyaW5nVG9IZXgoJ0hlbGxvIFdvcmxkIScsIHsgc2l6ZTogMzIgfSlcbiAqIC8vICcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdUb0hleCh2YWx1ZV8sIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHZhbHVlID0gZW5jb2Rlci5lbmNvZGUodmFsdWVfKTtcbiAgICByZXR1cm4gYnl0ZXNUb0hleCh2YWx1ZSwgb3B0cyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b0hleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/hash/keccak256.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/hash/keccak256.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keccak256: () => (/* binding */ keccak256)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/hashes/sha3 */ \"(ssr)/./node_modules/@noble/hashes/esm/sha3.js\");\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/toBytes.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n/* harmony import */ var _encoding_toHex_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../encoding/toHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\nfunction keccak256(value, to_) {\n    const to = to_ || 'hex';\n    const bytes = (0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_0__.keccak_256)((0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_1__.isHex)(value, { strict: false }) ? (0,_encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.toBytes)(value) : value);\n    if (to === 'bytes')\n        return bytes;\n    return (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_3__.toHex)(bytes);\n}\n//# sourceMappingURL=keccak256.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvaGFzaC9rZWNjYWsyNTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0Q7QUFDUDtBQUNRO0FBQ0o7QUFDdEM7QUFDUDtBQUNBLGtCQUFrQiw4REFBVSxDQUFDLHFEQUFLLFVBQVUsZUFBZSxJQUFJLDZEQUFPO0FBQ3RFO0FBQ0E7QUFDQSxXQUFXLHlEQUFLO0FBQ2hCO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvaGFzaC9rZWNjYWsyNTYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsga2VjY2FrXzI1NiB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvc2hhMyc7XG5pbXBvcnQgeyBpc0hleCB9IGZyb20gJy4uL2RhdGEvaXNIZXguanMnO1xuaW1wb3J0IHsgdG9CeXRlcyB9IGZyb20gJy4uL2VuY29kaW5nL3RvQnl0ZXMuanMnO1xuaW1wb3J0IHsgdG9IZXggfSBmcm9tICcuLi9lbmNvZGluZy90b0hleC5qcyc7XG5leHBvcnQgZnVuY3Rpb24ga2VjY2FrMjU2KHZhbHVlLCB0b18pIHtcbiAgICBjb25zdCB0byA9IHRvXyB8fCAnaGV4JztcbiAgICBjb25zdCBieXRlcyA9IGtlY2Nha18yNTYoaXNIZXgodmFsdWUsIHsgc3RyaWN0OiBmYWxzZSB9KSA/IHRvQnl0ZXModmFsdWUpIDogdmFsdWUpO1xuICAgIGlmICh0byA9PT0gJ2J5dGVzJylcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIHJldHVybiB0b0hleChieXRlcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZWNjYWsyNTYuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/hash/keccak256.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/lru.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/lru.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LruMap: () => (/* binding */ LruMap)\n/* harmony export */ });\n/**\n * Map with a LRU (Least recently used) policy.\n *\n * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU\n */\nclass LruMap extends Map {\n    constructor(size) {\n        super();\n        Object.defineProperty(this, \"maxSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.maxSize = size;\n    }\n    get(key) {\n        const value = super.get(key);\n        if (super.has(key) && value !== undefined) {\n            this.delete(key);\n            super.set(key, value);\n        }\n        return value;\n    }\n    set(key, value) {\n        super.set(key, value);\n        if (this.maxSize && this.size > this.maxSize) {\n            const firstKey = this.keys().next().value;\n            if (firstKey)\n                this.delete(firstKey);\n        }\n        return this;\n    }\n}\n//# sourceMappingURL=lru.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvbHJ1LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvbHJ1LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTWFwIHdpdGggYSBMUlUgKExlYXN0IHJlY2VudGx5IHVzZWQpIHBvbGljeS5cbiAqXG4gKiBAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYWNoZV9yZXBsYWNlbWVudF9wb2xpY2llcyNMUlVcbiAqL1xuZXhwb3J0IGNsYXNzIExydU1hcCBleHRlbmRzIE1hcCB7XG4gICAgY29uc3RydWN0b3Ioc2l6ZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhTaXplXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWF4U2l6ZSA9IHNpemU7XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdXBlci5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHN1cGVyLmhhcyhrZXkpICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICBzdXBlci5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBzdXBlci5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLm1heFNpemUgJiYgdGhpcy5zaXplID4gdGhpcy5tYXhTaXplKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEtleSA9IHRoaXMua2V5cygpLm5leHQoKS52YWx1ZTtcbiAgICAgICAgICAgIGlmIChmaXJzdEtleSlcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZShmaXJzdEtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bHJ1LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/lru.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverAddress.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverAddress.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recoverAddress: () => (/* binding */ recoverAddress)\n/* harmony export */ });\n/* harmony import */ var _accounts_utils_publicKeyToAddress_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../accounts/utils/publicKeyToAddress.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js\");\n/* harmony import */ var _recoverPublicKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./recoverPublicKey.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverPublicKey.js\");\n\n\nasync function recoverAddress({ hash, signature, }) {\n    return (0,_accounts_utils_publicKeyToAddress_js__WEBPACK_IMPORTED_MODULE_0__.publicKeyToAddress)(await (0,_recoverPublicKey_js__WEBPACK_IMPORTED_MODULE_1__.recoverPublicKey)({ hash: hash, signature }));\n}\n//# sourceMappingURL=recoverAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvc2lnbmF0dXJlL3JlY292ZXJBZGRyZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRjtBQUN2QjtBQUNsRCxnQ0FBZ0Msa0JBQWtCO0FBQ3pELFdBQVcseUZBQWtCLE9BQU8sc0VBQWdCLEdBQUcsdUJBQXVCO0FBQzlFO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvc2lnbmF0dXJlL3JlY292ZXJBZGRyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHB1YmxpY0tleVRvQWRkcmVzcyB9IGZyb20gJy4uLy4uL2FjY291bnRzL3V0aWxzL3B1YmxpY0tleVRvQWRkcmVzcy5qcyc7XG5pbXBvcnQgeyByZWNvdmVyUHVibGljS2V5IH0gZnJvbSAnLi9yZWNvdmVyUHVibGljS2V5LmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWNvdmVyQWRkcmVzcyh7IGhhc2gsIHNpZ25hdHVyZSwgfSkge1xuICAgIHJldHVybiBwdWJsaWNLZXlUb0FkZHJlc3MoYXdhaXQgcmVjb3ZlclB1YmxpY0tleSh7IGhhc2g6IGhhc2gsIHNpZ25hdHVyZSB9KSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvdmVyQWRkcmVzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverPublicKey.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverPublicKey.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recoverPublicKey: () => (/* binding */ recoverPublicKey)\n/* harmony export */ });\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/fromHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n/* harmony import */ var _encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../encoding/toHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\nasync function recoverPublicKey({ hash, signature, }) {\n    const hashHex = (0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(hash) ? hash : (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__.toHex)(hash);\n    const { secp256k1 } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@walletconnect\"), __webpack_require__.e(\"vendor-chunks/@noble\")]).then(__webpack_require__.bind(__webpack_require__, /*! @noble/curves/secp256k1 */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/curves/esm/secp256k1.js\"));\n    const signature_ = (() => {\n        // typeof signature: `Signature`\n        if (typeof signature === 'object' && 'r' in signature && 's' in signature) {\n            const { r, s, v, yParity } = signature;\n            const yParityOrV = Number(yParity ?? v);\n            const recoveryBit = toRecoveryBit(yParityOrV);\n            return new secp256k1.Signature((0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToBigInt)(r), (0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToBigInt)(s)).addRecoveryBit(recoveryBit);\n        }\n        // typeof signature: `Hex | ByteArray`\n        const signatureHex = (0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(signature) ? signature : (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__.toHex)(signature);\n        const yParityOrV = (0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToNumber)(`0x${signatureHex.slice(130)}`);\n        const recoveryBit = toRecoveryBit(yParityOrV);\n        return secp256k1.Signature.fromCompact(signatureHex.substring(2, 130)).addRecoveryBit(recoveryBit);\n    })();\n    const publicKey = signature_\n        .recoverPublicKey(hashHex.substring(2))\n        .toHex(false);\n    return `0x${publicKey}`;\n}\nfunction toRecoveryBit(yParityOrV) {\n    if (yParityOrV === 0 || yParityOrV === 1)\n        return yParityOrV;\n    if (yParityOrV === 27)\n        return 0;\n    if (yParityOrV === 28)\n        return 1;\n    throw new Error('Invalid yParityOrV value');\n}\n//# sourceMappingURL=recoverPublicKey.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvc2lnbmF0dXJlL3JlY292ZXJQdWJsaWNLZXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5QztBQUMwQjtBQUN0QjtBQUN0QyxrQ0FBa0Msa0JBQWtCO0FBQzNELG9CQUFvQixxREFBSyxnQkFBZ0IseURBQUs7QUFDOUMsWUFBWSxZQUFZLFFBQVEsMlRBQWlDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBLDJDQUEyQyxpRUFBVyxLQUFLLGlFQUFXO0FBQ3RFO0FBQ0E7QUFDQSw2QkFBNkIscURBQUssMEJBQTBCLHlEQUFLO0FBQ2pFLDJCQUEyQixpRUFBVyxNQUFNLHdCQUF3QjtBQUNwRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvc2lnbmF0dXJlL3JlY292ZXJQdWJsaWNLZXkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNIZXggfSBmcm9tICcuLi9kYXRhL2lzSGV4LmpzJztcbmltcG9ydCB7IGhleFRvQmlnSW50LCBoZXhUb051bWJlciwgfSBmcm9tICcuLi9lbmNvZGluZy9mcm9tSGV4LmpzJztcbmltcG9ydCB7IHRvSGV4IH0gZnJvbSAnLi4vZW5jb2RpbmcvdG9IZXguanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY292ZXJQdWJsaWNLZXkoeyBoYXNoLCBzaWduYXR1cmUsIH0pIHtcbiAgICBjb25zdCBoYXNoSGV4ID0gaXNIZXgoaGFzaCkgPyBoYXNoIDogdG9IZXgoaGFzaCk7XG4gICAgY29uc3QgeyBzZWNwMjU2azEgfSA9IGF3YWl0IGltcG9ydCgnQG5vYmxlL2N1cnZlcy9zZWNwMjU2azEnKTtcbiAgICBjb25zdCBzaWduYXR1cmVfID0gKCgpID0+IHtcbiAgICAgICAgLy8gdHlwZW9mIHNpZ25hdHVyZTogYFNpZ25hdHVyZWBcbiAgICAgICAgaWYgKHR5cGVvZiBzaWduYXR1cmUgPT09ICdvYmplY3QnICYmICdyJyBpbiBzaWduYXR1cmUgJiYgJ3MnIGluIHNpZ25hdHVyZSkge1xuICAgICAgICAgICAgY29uc3QgeyByLCBzLCB2LCB5UGFyaXR5IH0gPSBzaWduYXR1cmU7XG4gICAgICAgICAgICBjb25zdCB5UGFyaXR5T3JWID0gTnVtYmVyKHlQYXJpdHkgPz8gdik7XG4gICAgICAgICAgICBjb25zdCByZWNvdmVyeUJpdCA9IHRvUmVjb3ZlcnlCaXQoeVBhcml0eU9yVik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHNlY3AyNTZrMS5TaWduYXR1cmUoaGV4VG9CaWdJbnQociksIGhleFRvQmlnSW50KHMpKS5hZGRSZWNvdmVyeUJpdChyZWNvdmVyeUJpdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHlwZW9mIHNpZ25hdHVyZTogYEhleCB8IEJ5dGVBcnJheWBcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlSGV4ID0gaXNIZXgoc2lnbmF0dXJlKSA/IHNpZ25hdHVyZSA6IHRvSGV4KHNpZ25hdHVyZSk7XG4gICAgICAgIGNvbnN0IHlQYXJpdHlPclYgPSBoZXhUb051bWJlcihgMHgke3NpZ25hdHVyZUhleC5zbGljZSgxMzApfWApO1xuICAgICAgICBjb25zdCByZWNvdmVyeUJpdCA9IHRvUmVjb3ZlcnlCaXQoeVBhcml0eU9yVik7XG4gICAgICAgIHJldHVybiBzZWNwMjU2azEuU2lnbmF0dXJlLmZyb21Db21wYWN0KHNpZ25hdHVyZUhleC5zdWJzdHJpbmcoMiwgMTMwKSkuYWRkUmVjb3ZlcnlCaXQocmVjb3ZlcnlCaXQpO1xuICAgIH0pKCk7XG4gICAgY29uc3QgcHVibGljS2V5ID0gc2lnbmF0dXJlX1xuICAgICAgICAucmVjb3ZlclB1YmxpY0tleShoYXNoSGV4LnN1YnN0cmluZygyKSlcbiAgICAgICAgLnRvSGV4KGZhbHNlKTtcbiAgICByZXR1cm4gYDB4JHtwdWJsaWNLZXl9YDtcbn1cbmZ1bmN0aW9uIHRvUmVjb3ZlcnlCaXQoeVBhcml0eU9yVikge1xuICAgIGlmICh5UGFyaXR5T3JWID09PSAwIHx8IHlQYXJpdHlPclYgPT09IDEpXG4gICAgICAgIHJldHVybiB5UGFyaXR5T3JWO1xuICAgIGlmICh5UGFyaXR5T3JWID09PSAyNylcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgaWYgKHlQYXJpdHlPclYgPT09IDI4KVxuICAgICAgICByZXR1cm4gMTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgeVBhcml0eU9yViB2YWx1ZScpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjb3ZlclB1YmxpY0tleS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverPublicKey.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/dist/index.es.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BASE10: () => (/* binding */ fn),\n/* harmony export */   BASE16: () => (/* binding */ G),\n/* harmony export */   BASE64: () => (/* binding */ Ht),\n/* harmony export */   BASE64URL: () => (/* binding */ Ee),\n/* harmony export */   COLON: () => (/* binding */ Qo),\n/* harmony export */   DEFAULT_DEPTH: () => (/* binding */ Te),\n/* harmony export */   EMPTY_SPACE: () => (/* binding */ ae),\n/* harmony export */   ENV_MAP: () => (/* binding */ Y),\n/* harmony export */   INTERNAL_ERRORS: () => (/* binding */ bo),\n/* harmony export */   MemoryStore: () => (/* binding */ Ua),\n/* harmony export */   ONE_THOUSAND: () => (/* binding */ ti),\n/* harmony export */   REACT_NATIVE_PRODUCT: () => (/* binding */ $n),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ so),\n/* harmony export */   SDK_ERRORS: () => (/* binding */ wo),\n/* harmony export */   SDK_TYPE: () => (/* binding */ jn),\n/* harmony export */   SLASH: () => (/* binding */ Ln),\n/* harmony export */   TYPE_0: () => (/* binding */ ln),\n/* harmony export */   TYPE_1: () => (/* binding */ Kt),\n/* harmony export */   TYPE_2: () => (/* binding */ ne),\n/* harmony export */   UTF8: () => (/* binding */ qt),\n/* harmony export */   addResourceToRecap: () => (/* binding */ Er),\n/* harmony export */   appendToQueryString: () => (/* binding */ Cn),\n/* harmony export */   assertType: () => (/* binding */ ai),\n/* harmony export */   assignAbilityToActions: () => (/* binding */ De),\n/* harmony export */   base64Decode: () => (/* binding */ wr),\n/* harmony export */   base64Encode: () => (/* binding */ mr),\n/* harmony export */   buildApprovedNamespaces: () => (/* binding */ sa),\n/* harmony export */   buildAuthObject: () => (/* binding */ ss),\n/* harmony export */   buildNamespacesFromAuth: () => (/* binding */ ca),\n/* harmony export */   buildRecapStatement: () => (/* binding */ xr),\n/* harmony export */   calcExpiry: () => (/* binding */ Ei),\n/* harmony export */   capitalize: () => (/* binding */ pi),\n/* harmony export */   capitalizeWord: () => (/* binding */ qn),\n/* harmony export */   createDelayedPromise: () => (/* binding */ gi),\n/* harmony export */   createEncodedRecap: () => (/* binding */ fs),\n/* harmony export */   createExpiringPromise: () => (/* binding */ yi),\n/* harmony export */   createRecap: () => (/* binding */ br),\n/* harmony export */   decodeRecap: () => (/* binding */ yt),\n/* harmony export */   decodeTypeByte: () => (/* binding */ Bt),\n/* harmony export */   decodeTypeTwoEnvelope: () => (/* binding */ Hc),\n/* harmony export */   decrypt: () => (/* binding */ Mc),\n/* harmony export */   deriveSymKey: () => (/* binding */ Cc),\n/* harmony export */   deserialize: () => (/* binding */ ve),\n/* harmony export */   encodeRecap: () => (/* binding */ le),\n/* harmony export */   encodeTypeByte: () => (/* binding */ hn),\n/* harmony export */   encodeTypeTwoEnvelope: () => (/* binding */ Dc),\n/* harmony export */   encrypt: () => (/* binding */ Vc),\n/* harmony export */   engineEvent: () => (/* binding */ xi),\n/* harmony export */   enumify: () => (/* binding */ hi),\n/* harmony export */   extractSolanaTransactionId: () => (/* binding */ Ji),\n/* harmony export */   formatAccountId: () => (/* binding */ Bn),\n/* harmony export */   formatAccountWithChain: () => (/* binding */ Ho),\n/* harmony export */   formatChainId: () => (/* binding */ An),\n/* harmony export */   formatDeeplinkUrl: () => (/* binding */ Kn),\n/* harmony export */   formatExpirerTarget: () => (/* binding */ _e),\n/* harmony export */   formatIdTarget: () => (/* binding */ wi),\n/* harmony export */   formatMessage: () => (/* binding */ hr),\n/* harmony export */   formatMessageContext: () => (/* binding */ ui),\n/* harmony export */   formatRelayParams: () => (/* binding */ uo),\n/* harmony export */   formatRelayRpcUrl: () => (/* binding */ si),\n/* harmony export */   formatStatementFromRecap: () => (/* binding */ qe),\n/* harmony export */   formatTopicTarget: () => (/* binding */ mi),\n/* harmony export */   formatUA: () => (/* binding */ Mn),\n/* harmony export */   formatUri: () => (/* binding */ Wc),\n/* harmony export */   fromBase64: () => (/* binding */ Le),\n/* harmony export */   generateKeyPair: () => (/* binding */ Lc),\n/* harmony export */   generateRandomBytes32: () => (/* binding */ jc),\n/* harmony export */   getAccountsChains: () => (/* binding */ It),\n/* harmony export */   getAccountsFromNamespaces: () => (/* binding */ Ko),\n/* harmony export */   getAddressFromAccount: () => (/* binding */ In),\n/* harmony export */   getAddressesFromAccounts: () => (/* binding */ qo),\n/* harmony export */   getAppId: () => (/* binding */ ri),\n/* harmony export */   getAppMetadata: () => (/* binding */ Pn),\n/* harmony export */   getBrowserOnlineStatus: () => (/* binding */ To),\n/* harmony export */   getChainFromAccount: () => (/* binding */ Nn),\n/* harmony export */   getChainsFromAccounts: () => (/* binding */ Un),\n/* harmony export */   getChainsFromNamespace: () => (/* binding */ ce),\n/* harmony export */   getChainsFromNamespaces: () => (/* binding */ Fo),\n/* harmony export */   getChainsFromRecap: () => (/* binding */ hs),\n/* harmony export */   getChainsFromRequiredNamespaces: () => (/* binding */ zo),\n/* harmony export */   getCommonValuesInArrays: () => (/* binding */ $e),\n/* harmony export */   getCryptoKeyFromKeyData: () => (/* binding */ io),\n/* harmony export */   getDecodedRecapFromResources: () => (/* binding */ pr),\n/* harmony export */   getDeepLink: () => (/* binding */ Oi),\n/* harmony export */   getDidAddress: () => (/* binding */ Me),\n/* harmony export */   getDidAddressSegments: () => (/* binding */ fe),\n/* harmony export */   getDidChainId: () => (/* binding */ lr),\n/* harmony export */   getEnvironment: () => (/* binding */ xt),\n/* harmony export */   getHttpUrl: () => (/* binding */ ci),\n/* harmony export */   getInternalError: () => (/* binding */ ht),\n/* harmony export */   getJavascriptID: () => (/* binding */ Vn),\n/* harmony export */   getJavascriptOS: () => (/* binding */ kn),\n/* harmony export */   getLastItems: () => (/* binding */ Hn),\n/* harmony export */   getLinkModeURL: () => (/* binding */ Xc),\n/* harmony export */   getMethodsFromRecap: () => (/* binding */ ds),\n/* harmony export */   getNamespacedDidChainId: () => (/* binding */ dr),\n/* harmony export */   getNamespacesChains: () => (/* binding */ ho),\n/* harmony export */   getNamespacesEventsForChainId: () => (/* binding */ go),\n/* harmony export */   getNamespacesFromAccounts: () => (/* binding */ mo),\n/* harmony export */   getNamespacesMethodsForChainId: () => (/* binding */ po),\n/* harmony export */   getNodeOnlineStatus: () => (/* binding */ _o),\n/* harmony export */   getReCapActions: () => (/* binding */ yr),\n/* harmony export */   getReactNativeOnlineStatus: () => (/* binding */ Ro),\n/* harmony export */   getRecapAbilitiesFromResource: () => (/* binding */ us),\n/* harmony export */   getRecapFromResources: () => (/* binding */ de),\n/* harmony export */   getRecapResource: () => (/* binding */ gr),\n/* harmony export */   getRelayClientMetadata: () => (/* binding */ ii),\n/* harmony export */   getRelayProtocolApi: () => (/* binding */ Yc),\n/* harmony export */   getRelayProtocolName: () => (/* binding */ Zc),\n/* harmony export */   getRequiredNamespacesFromNamespaces: () => (/* binding */ ia),\n/* harmony export */   getSdkError: () => (/* binding */ Nt),\n/* harmony export */   getSearchParamFromURL: () => (/* binding */ Ai),\n/* harmony export */   getUniqueValues: () => (/* binding */ Ue),\n/* harmony export */   handleDeeplinkRedirect: () => (/* binding */ Si),\n/* harmony export */   hasOverlap: () => (/* binding */ gt),\n/* harmony export */   hashEthereumMessage: () => (/* binding */ ke),\n/* harmony export */   hashKey: () => (/* binding */ Pc),\n/* harmony export */   hashMessage: () => (/* binding */ kc),\n/* harmony export */   isAndroid: () => (/* binding */ ei),\n/* harmony export */   isBrowser: () => (/* binding */ Yt),\n/* harmony export */   isCaipNamespace: () => (/* binding */ gn),\n/* harmony export */   isConformingNamespaces: () => (/* binding */ No),\n/* harmony export */   isExpired: () => (/* binding */ vi),\n/* harmony export */   isIframe: () => (/* binding */ Zn),\n/* harmony export */   isIos: () => (/* binding */ ni),\n/* harmony export */   isNode: () => (/* binding */ Re),\n/* harmony export */   isOnline: () => (/* binding */ Ia),\n/* harmony export */   isProposalStruct: () => (/* binding */ fa),\n/* harmony export */   isReactNative: () => (/* binding */ pt),\n/* harmony export */   isRecap: () => (/* binding */ He),\n/* harmony export */   isSessionCompatible: () => (/* binding */ aa),\n/* harmony export */   isSessionStruct: () => (/* binding */ la),\n/* harmony export */   isTelegram: () => (/* binding */ zn),\n/* harmony export */   isTestRun: () => (/* binding */ Ii),\n/* harmony export */   isTypeOneEnvelope: () => (/* binding */ Kc),\n/* harmony export */   isTypeTwoEnvelope: () => (/* binding */ Fc),\n/* harmony export */   isUndefined: () => (/* binding */ Et),\n/* harmony export */   isValidAccountId: () => (/* binding */ Eo),\n/* harmony export */   isValidAccounts: () => (/* binding */ So),\n/* harmony export */   isValidActions: () => (/* binding */ Ao),\n/* harmony export */   isValidArray: () => (/* binding */ oe),\n/* harmony export */   isValidChainId: () => (/* binding */ ie),\n/* harmony export */   isValidChains: () => (/* binding */ vo),\n/* harmony export */   isValidController: () => (/* binding */ da),\n/* harmony export */   isValidEip1271Signature: () => (/* binding */ cr),\n/* harmony export */   isValidEip191Signature: () => (/* binding */ sr),\n/* harmony export */   isValidErrorReason: () => (/* binding */ ma),\n/* harmony export */   isValidEvent: () => (/* binding */ Ea),\n/* harmony export */   isValidId: () => (/* binding */ ga),\n/* harmony export */   isValidNamespaceAccounts: () => (/* binding */ Oo),\n/* harmony export */   isValidNamespaceActions: () => (/* binding */ wn),\n/* harmony export */   isValidNamespaceChains: () => (/* binding */ xo),\n/* harmony export */   isValidNamespaceMethodsOrEvents: () => (/* binding */ mn),\n/* harmony export */   isValidNamespaces: () => (/* binding */ Bo),\n/* harmony export */   isValidNamespacesChainId: () => (/* binding */ va),\n/* harmony export */   isValidNamespacesEvent: () => (/* binding */ Sa),\n/* harmony export */   isValidNamespacesRequest: () => (/* binding */ xa),\n/* harmony export */   isValidNumber: () => (/* binding */ Se),\n/* harmony export */   isValidObject: () => (/* binding */ xe),\n/* harmony export */   isValidParams: () => (/* binding */ ya),\n/* harmony export */   isValidRecap: () => (/* binding */ ct),\n/* harmony export */   isValidRelay: () => (/* binding */ Io),\n/* harmony export */   isValidRelays: () => (/* binding */ pa),\n/* harmony export */   isValidRequest: () => (/* binding */ wa),\n/* harmony export */   isValidRequestExpiry: () => (/* binding */ Ba),\n/* harmony export */   isValidRequiredNamespaces: () => (/* binding */ ha),\n/* harmony export */   isValidResponse: () => (/* binding */ ba),\n/* harmony export */   isValidString: () => (/* binding */ nt),\n/* harmony export */   isValidUrl: () => (/* binding */ ua),\n/* harmony export */   mapEntries: () => (/* binding */ di),\n/* harmony export */   mapToObj: () => (/* binding */ fi),\n/* harmony export */   mergeArrays: () => (/* binding */ at),\n/* harmony export */   mergeEncodedRecaps: () => (/* binding */ ls),\n/* harmony export */   mergeRecaps: () => (/* binding */ vr),\n/* harmony export */   normalizeNamespaces: () => (/* binding */ yn),\n/* harmony export */   objToMap: () => (/* binding */ li),\n/* harmony export */   openDeeplink: () => (/* binding */ Fn),\n/* harmony export */   parseAccountId: () => (/* binding */ Ne),\n/* harmony export */   parseChainId: () => (/* binding */ Ie),\n/* harmony export */   parseContextNames: () => (/* binding */ Dn),\n/* harmony export */   parseExpirerTarget: () => (/* binding */ bi),\n/* harmony export */   parseNamespaceKey: () => (/* binding */ yo),\n/* harmony export */   parseRelayParams: () => (/* binding */ co),\n/* harmony export */   parseTopic: () => (/* binding */ ao),\n/* harmony export */   parseUri: () => (/* binding */ Gc),\n/* harmony export */   populateAppMetadata: () => (/* binding */ oi),\n/* harmony export */   populateAuthPayload: () => (/* binding */ cs),\n/* harmony export */   recapHasResource: () => (/* binding */ as),\n/* harmony export */   serialize: () => (/* binding */ pn),\n/* harmony export */   sleep: () => (/* binding */ Ni),\n/* harmony export */   subscribeToBrowserNetworkChange: () => (/* binding */ $o),\n/* harmony export */   subscribeToNetworkChange: () => (/* binding */ Na),\n/* harmony export */   subscribeToReactNativeNetworkChange: () => (/* binding */ Lo),\n/* harmony export */   toBase64: () => (/* binding */ Yn),\n/* harmony export */   uuidv4: () => (/* binding */ Bi),\n/* harmony export */   validateDecoding: () => (/* binding */ qc),\n/* harmony export */   validateEncoding: () => (/* binding */ oo),\n/* harmony export */   validateSignedCacao: () => (/* binding */ is),\n/* harmony export */   verifyP256Jwt: () => (/* binding */ zc),\n/* harmony export */   verifySignature: () => (/* binding */ ir)\n/* harmony export */ });\n/* harmony import */ var detect_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! detect-browser */ \"(ssr)/./node_modules/detect-browser/es/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/window-metadata */ \"(ssr)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bs58 */ \"(ssr)/./node_modules/bs58/src/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uint8arrays */ \"(ssr)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-api */ \"(ssr)/./node_modules/@walletconnect/relay-api/dist/index.es.js\");\nconst se=\":\";function Ie(t){const[e,n]=t.split(se);return{namespace:e,reference:n}}function An(t){const{namespace:e,reference:n}=t;return[e,n].join(se)}function Ne(t){const[e,n,r]=t.split(se);return{namespace:e,reference:n,address:r}}function Bn(t){const{namespace:e,reference:n,address:r}=t;return[e,n,r].join(se)}function Ue(t,e){const n=[];return t.forEach(r=>{const o=e(r);n.includes(o)||n.push(o)}),n}function In(t){const{address:e}=Ne(t);return e}function Nn(t){const{namespace:e,reference:n}=Ne(t);return An({namespace:e,reference:n})}function Ho(t,e){const{namespace:n,reference:r}=Ie(e);return Bn({namespace:n,reference:r,address:t})}function qo(t){return Ue(t,In)}function Un(t){return Ue(t,Nn)}function Ko(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...o.accounts)}),n}function Fo(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...Un(o.accounts))}),n}function zo(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...ce(r,o))}),n}function ce(t,e){return t.includes(\":\")?[t]:e.chains||[]}var Zo=Object.defineProperty,Yo=Object.defineProperties,Go=Object.getOwnPropertyDescriptors,Tn=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,Rn=(t,e,n)=>e in t?Zo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_n=(t,e)=>{for(var n in e||(e={}))Wo.call(e,n)&&Rn(t,n,e[n]);if(Tn)for(var n of Tn(e))Xo.call(e,n)&&Rn(t,n,e[n]);return t},Jo=(t,e)=>Yo(t,Go(e));const $n=\"ReactNative\",Y={reactNative:\"react-native\",node:\"node\",browser:\"browser\",unknown:\"unknown\"},ae=\" \",Qo=\":\",Ln=\"/\",Te=2,ti=1e3,jn=\"js\";function Re(){return typeof process<\"u\"&&typeof process.versions<\"u\"&&typeof process.versions.node<\"u\"}function pt(){return!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&navigator.product===$n}function ei(){return pt()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"android\"}function ni(){return pt()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"ios\"}function Yt(){return!Re()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()}function xt(){return pt()?Y.reactNative:Re()?Y.node:Yt()?Y.browser:Y.unknown}function ri(){var t;try{return pt()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Application)<\"u\"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Cn(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const o=e[r];o!==void 0&&n.set(r,o)}return n.toString()}function oi(t){var e,n;const r=Pn();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(o=>o!==\"\")),Jo(_n(_n({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(o){return console.warn(\"Error populating app metadata\",o),t||r}}function Pn(){return (0,_walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__.getWindowMetadata)()||{name:\"\",description:\"\",url:\"\",icons:[\"\"]}}function ii(t,e){var n;const r=xt(),o={protocol:t,version:e,env:r};return r===\"browser\"&&(o.host=((n=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:n.host)||\"unknown\"),o}function kn(){if(xt()===Y.reactNative&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"){const{OS:n,Version:r}=global.Platform;return[n,r].join(\"-\")}const t=(0,detect_browser__WEBPACK_IMPORTED_MODULE_7__.detect)();if(t===null)return\"unknown\";const e=t.os?t.os.replace(\" \",\"\").toLowerCase():\"unknown\";return t.type===\"browser\"?[e,t.name,t.version].join(\"-\"):[e,t.version].join(\"-\")}function Vn(){var t;const e=xt();return e===Y.browser?[e,((t=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:t.host)||\"unknown\"].join(\":\"):e}function Mn(t,e,n){const r=kn(),o=Vn();return[[t,e].join(\"-\"),[jn,n].join(\"-\"),r,o].join(\"/\")}function si({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:o,projectId:i,useOnCloseEvent:s,bundleId:c,packageName:a}){const u=n.split(\"?\"),l=Mn(t,e,r),f={auth:o,ua:l,projectId:i,useOnCloseEvent:s||void 0,packageName:a||void 0,bundleId:c||void 0},h=Cn(u[1]||\"\",f);return u[0]+\"?\"+h}function ci(t){let e=(t.match(/^[^:]+(?=:\\/\\/)/gi)||[])[0];const n=typeof e<\"u\"?t.split(\"://\")[1]:t;return e=e===\"wss\"?\"https\":\"http\",[e,n].join(\"://\")}function ai(t,e,n){if(!t[e]||typeof t[e]!==n)throw new Error(`Missing or invalid \"${e}\" param`)}function Dn(t,e=Te){return Hn(t.split(Ln),e)}function ui(t){return Dn(t).join(ae)}function gt(t,e){return t.filter(n=>e.includes(n)).length===t.length}function Hn(t,e=Te){return t.slice(Math.max(t.length-e,0))}function fi(t){return Object.fromEntries(t.entries())}function li(t){return new Map(Object.entries(t))}function di(t,e){const n={};return Object.keys(t).forEach(r=>{n[r]=e(t[r])}),n}const hi=t=>t;function qn(t){return t.trim().replace(/^\\w/,e=>e.toUpperCase())}function pi(t){return t.split(ae).map(e=>qn(e)).join(ae)}function gi(t=_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES,e){const n=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t||_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES);let r,o,i,s;return{resolve:c=>{i&&r&&(clearTimeout(i),r(c),s=Promise.resolve(c))},reject:c=>{i&&o&&(clearTimeout(i),o(c))},done:()=>new Promise((c,a)=>{if(s)return c(s);i=setTimeout(()=>{const u=new Error(e);s=Promise.reject(u),a(u)},n),r=c,o=a})}}function yi(t,e,n){return new Promise(async(r,o)=>{const i=setTimeout(()=>o(new Error(n)),e);try{const s=await t;r(s)}catch(s){o(s)}clearTimeout(i)})}function _e(t,e){if(typeof e==\"string\"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()===\"topic\"){if(typeof e!=\"string\")throw new Error('Value must be \"string\" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()===\"id\"){if(typeof e!=\"number\")throw new Error('Value must be \"number\" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function mi(t){return _e(\"topic\",t)}function wi(t){return _e(\"id\",t)}function bi(t){const[e,n]=t.split(\":\"),r={id:void 0,topic:void 0};if(e===\"topic\"&&typeof n==\"string\")r.topic=n;else if(e===\"id\"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ei(t,e){return (0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.fromMiliseconds)((e||Date.now())+(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t))}function vi(t){return Date.now()>=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t)}function xi(t,e){return`${t}${e?`:${e}`:\"\"}`}function at(t=[],e=[]){return[...new Set([...t,...e])]}async function Si({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const o=typeof n==\"string\"?JSON.parse(n):n,i=o?.href;if(typeof i!=\"string\")return;const s=Kn(i,t,e),c=xt();if(c===Y.browser){if(!((r=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)())!=null&&r.hasFocus())){console.warn(\"Document does not have focus, skipping deeplink.\");return}Fn(s)}else c===Y.reactNative&&typeof(global==null?void 0:global.Linking)<\"u\"&&await global.Linking.openURL(s)}catch(o){console.error(o)}}function Kn(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith(\"/\")&&(t=t.slice(0,-1));let o=`${t}`;if(t.startsWith(\"https://t.me\")){const i=t.includes(\"?\")?\"&startapp=\":\"?startapp=\";o=`${o}${i}${Yn(r,!0)}`}else o=`${o}/wc?${r}`;return o}function Fn(t){let e=\"_self\";Zn()?e=\"_top\":(zn()||t.startsWith(\"https://\")||t.startsWith(\"http://\"))&&(e=\"_blank\"),window.open(t,e,\"noreferrer noopener\")}async function Oi(t,e){let n=\"\";try{if(Yt()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function $e(t,e){return t.filter(n=>e.includes(n))}function Ai(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Bi(){return typeof crypto<\"u\"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t===\"x\"?e:e&3|8).toString(16)})}function Ii(){return typeof process<\"u\"&&process.env.IS_VITEST===\"true\"}function zn(){return typeof window<\"u\"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Zn(){try{return window.self!==window.top}catch{return!1}}function Yn(t,e=!1){const n=Buffer.from(t).toString(\"base64\");return e?n.replace(/[=]/g,\"\"):n}function Le(t){return Buffer.from(t,\"base64\").toString(\"utf-8\")}function Ni(t){return new Promise(e=>setTimeout(e,t))}function Gt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function Ui(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function Wt(t,...e){if(!Ui(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function je(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");Gt(t.outputLen),Gt(t.blockLen)}function Tt(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function Gn(t,e){Wt(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}const ue=BigInt(2**32-1),Wn=BigInt(32);function Ti(t,e=!1){return e?{h:Number(t&ue),l:Number(t>>Wn&ue)}:{h:Number(t>>Wn&ue)|0,l:Number(t&ue)|0}}function Ri(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:i,l:s}=Ti(t[o],e);[n[o],r[o]]=[i,s]}return[n,r]}const _i=(t,e,n)=>t<<n|e>>>32-n,$i=(t,e,n)=>e<<n|t>>>32-n,Li=(t,e,n)=>e<<n-32|t>>>64-n,ji=(t,e,n)=>t<<n-32|e>>>64-n,Rt=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;function Ci(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ce(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function st(t,e){return t<<32-e|t>>>e}const Xn=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Pi(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Jn(t){for(let e=0;e<t.length;e++)t[e]=Pi(t[e])}function ki(t){if(typeof t!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function _t(t){return typeof t==\"string\"&&(t=ki(t)),Wt(t),t}function Vi(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Wt(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}class Pe{clone(){return this._cloneInto()}}function Qn(t){const e=r=>t().update(_t(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $t(t=32){if(Rt&&typeof Rt.getRandomValues==\"function\")return Rt.getRandomValues(new Uint8Array(t));if(Rt&&typeof Rt.randomBytes==\"function\")return Rt.randomBytes(t);throw new Error(\"crypto.getRandomValues must be defined\")}const tr=[],er=[],nr=[],Mi=BigInt(0),Xt=BigInt(1),Di=BigInt(2),Hi=BigInt(7),qi=BigInt(256),Ki=BigInt(113);for(let t=0,e=Xt,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],tr.push(2*(5*r+n)),er.push((t+1)*(t+2)/2%64);let o=Mi;for(let i=0;i<7;i++)e=(e<<Xt^(e>>Hi)*Ki)%qi,e&Di&&(o^=Xt<<(Xt<<BigInt(i))-Xt);nr.push(o)}const[Fi,zi]=Ri(nr,!0),rr=(t,e,n)=>n>32?Li(t,e,n):_i(t,e,n),or=(t,e,n)=>n>32?ji(t,e,n):$i(t,e,n);function Zi(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const c=(s+8)%10,a=(s+2)%10,u=n[a],l=n[a+1],f=rr(u,l,1)^n[c],h=or(u,l,1)^n[c+1];for(let y=0;y<50;y+=10)t[s+y]^=f,t[s+y+1]^=h}let o=t[2],i=t[3];for(let s=0;s<24;s++){const c=er[s],a=rr(o,i,c),u=or(o,i,c),l=tr[s];o=t[l],i=t[l+1],t[l]=a,t[l+1]=u}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)n[c]=t[s+c];for(let c=0;c<10;c++)t[s+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=Fi[r],t[1]^=zi[r]}n.fill(0)}class En extends Pe{constructor(e,n,r,o=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Gt(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=Ci(this.state)}keccak(){Xn||Jn(this.state32),Zi(this.state32,this.rounds),Xn||Jn(this.state32),this.posOut=0,this.pos=0}update(e){Tt(this);const{blockLen:n,state:r}=this;e=_t(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);for(let c=0;c<s;c++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){Tt(this,!1),Wt(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-o);e.set(n.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(e)}xof(e){return Gt(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Gn(e,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new En(n,r,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Yi=(t,e,n)=>Qn(()=>new En(e,t,n)),Gi=Yi(1,136,256/8),Wi=\"https://rpc.walletconnect.org/v1\";function ke(t){const e=`\u0019Ethereum Signed Message:\n${t.length}`,n=new TextEncoder().encode(e+t);return\"0x\"+Buffer.from(Gi(n)).toString(\"hex\")}async function ir(t,e,n,r,o,i){switch(n.t){case\"eip191\":return await sr(t,e,n.s);case\"eip1271\":return await cr(t,e,n.s,r,o,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function sr(t,e,n){return(await (0,viem__WEBPACK_IMPORTED_MODULE_8__.recoverAddress)({hash:ke(e),signature:n})).toLowerCase()===t.toLowerCase()}async function cr(t,e,n,r,o,i){const s=Ie(r);if(!s.namespace||!s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c=\"0x1626ba7e\",a=\"0000000000000000000000000000000000000000000000000000000000000040\",u=\"0000000000000000000000000000000000000000000000000000000000000041\",l=n.substring(2),f=ke(e).substring(2),h=c+f+a+u+l,y=await fetch(`${i||Wi}/?chainId=${r}&projectId=${o}`,{method:\"POST\",body:JSON.stringify({id:Xi(),jsonrpc:\"2.0\",method:\"eth_call\",params:[{to:t,data:h},\"latest\"]})}),{result:E}=await y.json();return E?E.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error(\"isValidEip1271Signature: \",c),!1}}function Xi(){return Date.now()+Math.floor(Math.random()*1e3)}function Ji(t){const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);const r=n[0];if(r===0)throw new Error(\"No signatures found\");const o=1+r*64;if(n.length<o)throw new Error(\"Transaction data too short for claimed signature count\");if(n.length<100)throw new Error(\"Transaction too short\");const i=Buffer.from(t,\"base64\").slice(1,65);return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(i)}var Qi=Object.defineProperty,ts=Object.defineProperties,es=Object.getOwnPropertyDescriptors,ar=Object.getOwnPropertySymbols,ns=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,ur=(t,e,n)=>e in t?Qi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ve=(t,e)=>{for(var n in e||(e={}))ns.call(e,n)&&ur(t,n,e[n]);if(ar)for(var n of ar(e))rs.call(e,n)&&ur(t,n,e[n]);return t},fr=(t,e)=>ts(t,es(e));const os=\"did:pkh:\",fe=t=>t?.split(\":\"),lr=t=>{const e=t&&fe(t);if(e)return t.includes(os)?e[3]:e[1]},dr=t=>{const e=t&&fe(t);if(e)return e[2]+\":\"+e[3]},Me=t=>{const e=t&&fe(t);if(e)return e.pop()};async function is(t){const{cacao:e,projectId:n}=t,{s:r,p:o}=e,i=hr(o,o.iss),s=Me(o.iss);return await ir(s,i,r,dr(o.iss),n)}const hr=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Me(e);if(!t.aud&&!t.uri)throw new Error(\"Either `aud` or `uri` is required to construct the message\");let o=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,s=`Version: ${t.version}`,c=`Chain ID: ${lr(e)}`,a=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,l=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,y=t.resources?`Resources:${t.resources.map(p=>`\n- ${p}`).join(\"\")}`:void 0,E=de(t.resources);if(E){const p=yt(E);o=qe(o,p)}return[n,r,\"\",o,\"\",i,s,c,a,u,l,f,h,y].filter(p=>p!=null).join(`\n`)};function ss(t,e,n){return n.includes(\"did:pkh:\")||(n=`did:pkh:${n}`),{h:{t:\"caip122\"},p:{iss:n,domain:t.domain,aud:t.aud,version:t.version,nonce:t.nonce,iat:t.iat,statement:t.statement,requestId:t.requestId,resources:t.resources,nbf:t.nbf,exp:t.exp},s:e}}function cs(t){var e;const{authPayload:n,chains:r,methods:o}=t,i=n.statement||\"\";if(!(r!=null&&r.length))return n;const s=n.chains,c=$e(s,r);if(!(c!=null&&c.length))throw new Error(\"No supported chains\");const a=pr(n.resources);if(!a)return n;ct(a);const u=gr(a,\"eip155\");let l=n?.resources||[];if(u!=null&&u.length){const f=yr(u),h=$e(f,o);if(!(h!=null&&h.length))throw new Error(`Supported methods don't satisfy the requested: ${JSON.stringify(f)}, supported: ${JSON.stringify(o)}`);const y=De(\"request\",h,{chains:c}),E=Er(a,\"eip155\",y);l=((e=n?.resources)==null?void 0:e.slice(0,-1))||[],l.push(le(E))}return fr(Ve({},n),{statement:xr(i,de(l)),chains:c,resources:n!=null&&n.resources||l.length>0?l:void 0})}function pr(t){const e=de(t);if(e&&He(e))return yt(e)}function as(t,e){var n;return(n=t?.att)==null?void 0:n.hasOwnProperty(e)}function gr(t,e){var n,r;return(n=t?.att)!=null&&n[e]?Object.keys((r=t?.att)==null?void 0:r[e]):[]}function us(t){return t?.map(e=>Object.keys(e))||[]}function yr(t){return t?.map(e=>{var n;return(n=e.split(\"/\"))==null?void 0:n[1]})||[]}function mr(t){return Buffer.from(JSON.stringify(t)).toString(\"base64\")}function wr(t){return JSON.parse(Buffer.from(t,\"base64\").toString(\"utf-8\"))}function ct(t){if(!t)throw new Error(\"No recap provided, value is undefined\");if(!t.att)throw new Error(\"No `att` property found\");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error(\"No resources found in `att` property\");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!=\"object\")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(o=>{const i=r[o];if(!Array.isArray(i))throw new Error(`Ability limits ${o} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${o} is empty array, must be an array with objects`);i.forEach(s=>{if(typeof s!=\"object\")throw new Error(`Ability limits (${o}) must be an array of objects, found: ${s}`)})})})}function br(t,e,n,r={}){return n?.sort((o,i)=>o.localeCompare(i)),{att:{[t]:De(e,n,r)}}}function Er(t,e,n){var r;t.att[e]=Ve({},n);const o=(r=Object.keys(t.att))==null?void 0:r.sort((s,c)=>s.localeCompare(c)),i={att:{}};return o.reduce((s,c)=>(s.att[c]=t.att[c],s),i)}function De(t,e,n={}){e=e?.sort((o,i)=>o.localeCompare(i));const r=e.map(o=>({[`${t}/${o}`]:[n]}));return Object.assign({},...r)}function le(t){return ct(t),`urn:recap:${mr(t).replace(/=/g,\"\")}`}function yt(t){const e=wr(t.replace(\"urn:recap:\",\"\"));return ct(e),e}function fs(t,e,n){const r=br(t,e,n);return le(r)}function He(t){return t&&t.includes(\"urn:recap:\")}function ls(t,e){const n=yt(t),r=yt(e),o=vr(n,r);return le(o)}function vr(t,e){ct(t),ct(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((o,i)=>o.localeCompare(i)),r={att:{}};return n.forEach(o=>{var i,s;Object.keys(((i=t.att)==null?void 0:i[o])||{}).concat(Object.keys(((s=e.att)==null?void 0:s[o])||{})).sort((c,a)=>c.localeCompare(a)).forEach(c=>{var a,u;r.att[o]=fr(Ve({},r.att[o]),{[c]:((a=t.att[o])==null?void 0:a[c])||((u=e.att[o])==null?void 0:u[c])})})}),r}function qe(t=\"\",e){ct(e);const n=\"I further authorize the stated URI to perform the following actions on my behalf: \";if(t.includes(n))return t;const r=[];let o=0;Object.keys(e.att).forEach(c=>{const a=Object.keys(e.att[c]).map(f=>({ability:f.split(\"/\")[0],action:f.split(\"/\")[1]}));a.sort((f,h)=>f.action.localeCompare(h.action));const u={};a.forEach(f=>{u[f.ability]||(u[f.ability]=[]),u[f.ability].push(f.action)});const l=Object.keys(u).map(f=>(o++,`(${o}) '${f}': '${u[f].join(\"', '\")}' for '${c}'.`));r.push(l.join(\", \").replace(\".,\",\".\"))});const i=r.join(\" \"),s=`${n}${i}`;return`${t?t+\" \":\"\"}${s}`}function ds(t){var e;const n=yt(t);ct(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(o=>o.split(\"/\")[1]):[]}function hs(t){const e=yt(t);ct(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(o=>{var i;(i=o?.[0])!=null&&i.chains&&n.push(o[0].chains)})}),[...new Set(n.flat())]}function xr(t,e){if(!e)return t;const n=yt(e);return ct(n),qe(t,n)}function de(t){if(!t)return;const e=t?.[t.length-1];return He(e)?e:void 0}function Ke(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function Sr(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function tt(t,...e){if(!Sr(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function Or(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function ps(t,e){tt(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function Ar(t){if(typeof t!=\"boolean\")throw new Error(`boolean expected, not ${t}`)}const mt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),gs=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ys=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ys)throw new Error(\"Non little-endian hardware is not supported\");function ms(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function Fe(t){if(typeof t==\"string\")t=ms(t);else if(Sr(t))t=ze(t);else throw new Error(\"Uint8Array expected, got \"+typeof t);return t}function ws(t,e){if(e==null||typeof e!=\"object\")throw new Error(\"options must be defined\");return Object.assign(t,e)}function bs(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Es=(t,e)=>{function n(r,...o){if(tt(r),t.nonceLength!==void 0){const l=o[0];if(!l)throw new Error(\"nonce / iv required\");t.varSizeNonce?tt(l):tt(l,t.nonceLength)}const i=t.tagLength;i&&o[1]!==void 0&&tt(o[1]);const s=e(r,...o),c=(l,f)=>{if(f!==void 0){if(l!==2)throw new Error(\"cipher output not supported\");tt(f)}};let a=!1;return{encrypt(l,f){if(a)throw new Error(\"cannot encrypt() twice with same key + nonce\");return a=!0,tt(l),c(s.encrypt.length,f),s.encrypt(l,f)},decrypt(l,f){if(tt(l),i&&l.length<i)throw new Error(\"invalid ciphertext length: smaller than tagLength=\"+i);return c(s.decrypt.length,f),s.decrypt(l,f)}}}return Object.assign(n,t),n};function Br(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error(\"invalid output length, expected \"+t+\", got: \"+e.length);if(n&&!vs(e))throw new Error(\"invalid output, must be aligned\");return e}function Ir(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),c=Number(n&i),a=r?4:0,u=r?0:4;t.setUint32(e+a,s,r),t.setUint32(e+u,c,r)}function vs(t){return t.byteOffset%4===0}function ze(t){return Uint8Array.from(t)}function Lt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const Nr=t=>Uint8Array.from(t.split(\"\").map(e=>e.charCodeAt(0))),xs=Nr(\"expand 16-byte k\"),Ss=Nr(\"expand 32-byte k\"),Os=mt(xs),As=mt(Ss);function V(t,e){return t<<e|t>>>32-e}function Ze(t){return t.byteOffset%4===0}const he=64,Bs=16,Ur=2**32-1,Tr=new Uint32Array;function Is(t,e,n,r,o,i,s,c){const a=o.length,u=new Uint8Array(he),l=mt(u),f=Ze(o)&&Ze(i),h=f?mt(o):Tr,y=f?mt(i):Tr;for(let E=0;E<a;s++){if(t(e,n,r,l,s,c),s>=Ur)throw new Error(\"arx: counter overflow\");const p=Math.min(he,a-E);if(f&&p===he){const d=E/4;if(E%4!==0)throw new Error(\"arx: invalid block position\");for(let v=0,m;v<Bs;v++)m=d+v,y[m]=h[m]^l[v];E+=he;continue}for(let d=0,v;d<p;d++)v=E+d,i[v]=o[v]^u[d];E+=p}}function Ns(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:s}=ws({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!=\"function\")throw new Error(\"core must be a function\");return Ke(o),Ke(s),Ar(i),Ar(n),(c,a,u,l,f=0)=>{tt(c),tt(a),tt(u);const h=u.length;if(l===void 0&&(l=new Uint8Array(h)),tt(l),Ke(f),f<0||f>=Ur)throw new Error(\"arx: counter overflow\");if(l.length<h)throw new Error(`arx: output (${l.length}) is shorter than data (${h})`);const y=[];let E=c.length,p,d;if(E===32)y.push(p=ze(c)),d=As;else if(E===16&&n)p=new Uint8Array(32),p.set(c),p.set(c,16),d=Os,y.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${E}`);Ze(a)||y.push(a=ze(a));const v=mt(p);if(r){if(a.length!==24)throw new Error(\"arx: extended nonce must be 24 bytes\");r(d,v,mt(a.subarray(0,16)),v),a=a.subarray(16)}const m=16-o;if(m!==a.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(m!==12){const N=new Uint8Array(12);N.set(a,i?0:12-a.length),a=N,y.push(a)}const O=mt(a);return Is(t,d,v,O,u,l,f,s),Lt(...y),l}}const F=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Us{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Fe(e),tt(e,32);const n=F(e,0),r=F(e,2),o=F(e,4),i=F(e,6),s=F(e,8),c=F(e,10),a=F(e,12),u=F(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|c<<2)&8191,this.r[7]=(c>>>11|a<<5)&8065,this.r[8]=(a>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=F(e,16+2*l)}process(e,n,r=!1){const o=r?0:2048,{h:i,r:s}=this,c=s[0],a=s[1],u=s[2],l=s[3],f=s[4],h=s[5],y=s[6],E=s[7],p=s[8],d=s[9],v=F(e,n+0),m=F(e,n+2),O=F(e,n+4),N=F(e,n+6),$=F(e,n+8),B=F(e,n+10),A=F(e,n+12),T=F(e,n+14);let S=i[0]+(v&8191),L=i[1]+((v>>>13|m<<3)&8191),U=i[2]+((m>>>10|O<<6)&8191),_=i[3]+((O>>>7|N<<9)&8191),j=i[4]+((N>>>4|$<<12)&8191),g=i[5]+($>>>1&8191),w=i[6]+(($>>>14|B<<2)&8191),b=i[7]+((B>>>11|A<<5)&8191),I=i[8]+((A>>>8|T<<8)&8191),R=i[9]+(T>>>5|o),x=0,C=x+S*c+L*(5*d)+U*(5*p)+_*(5*E)+j*(5*y);x=C>>>13,C&=8191,C+=g*(5*h)+w*(5*f)+b*(5*l)+I*(5*u)+R*(5*a),x+=C>>>13,C&=8191;let P=x+S*a+L*c+U*(5*d)+_*(5*p)+j*(5*E);x=P>>>13,P&=8191,P+=g*(5*y)+w*(5*h)+b*(5*f)+I*(5*l)+R*(5*u),x+=P>>>13,P&=8191;let k=x+S*u+L*a+U*c+_*(5*d)+j*(5*p);x=k>>>13,k&=8191,k+=g*(5*E)+w*(5*y)+b*(5*h)+I*(5*f)+R*(5*l),x+=k>>>13,k&=8191;let M=x+S*l+L*u+U*a+_*c+j*(5*d);x=M>>>13,M&=8191,M+=g*(5*p)+w*(5*E)+b*(5*y)+I*(5*h)+R*(5*f),x+=M>>>13,M&=8191;let D=x+S*f+L*l+U*u+_*a+j*c;x=D>>>13,D&=8191,D+=g*(5*d)+w*(5*p)+b*(5*E)+I*(5*y)+R*(5*h),x+=D>>>13,D&=8191;let z=x+S*h+L*f+U*l+_*u+j*a;x=z>>>13,z&=8191,z+=g*c+w*(5*d)+b*(5*p)+I*(5*E)+R*(5*y),x+=z>>>13,z&=8191;let Z=x+S*y+L*h+U*f+_*l+j*u;x=Z>>>13,Z&=8191,Z+=g*a+w*c+b*(5*d)+I*(5*p)+R*(5*E),x+=Z>>>13,Z&=8191;let it=x+S*E+L*y+U*h+_*f+j*l;x=it>>>13,it&=8191,it+=g*u+w*a+b*c+I*(5*d)+R*(5*p),x+=it>>>13,it&=8191;let W=x+S*p+L*E+U*y+_*h+j*f;x=W>>>13,W&=8191,W+=g*l+w*u+b*a+I*c+R*(5*d),x+=W>>>13,W&=8191;let J=x+S*d+L*p+U*E+_*y+j*h;x=J>>>13,J&=8191,J+=g*f+w*l+b*u+I*a+R*c,x+=J>>>13,J&=8191,x=(x<<2)+x|0,x=x+C|0,C=x&8191,x=x>>>13,P+=x,i[0]=C,i[1]=P,i[2]=k,i[3]=M,i[4]=D,i[5]=z,i[6]=Z,i[7]=it,i[8]=W,i[9]=J}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=o,o=e[c]>>>13,e[c]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,r[0]=e[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let i=(o^1)-1;for(let c=0;c<10;c++)r[c]&=i;i=~i;for(let c=0;c<10;c++)e[c]=e[c]&i|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+n[0];e[0]=s&65535;for(let c=1;c<8;c++)s=(e[c]+n[c]|0)+(s>>>16)|0,e[c]=s&65535;Lt(r)}update(e){Or(this);const{buffer:n,blockLen:r}=this;e=Fe(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s===r){for(;r<=o-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Lt(this.h,this.r,this.buffer,this.pad)}digestInto(e){Or(this),ps(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=r[s]>>>0,e[i++]=r[s]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Ts(t){const e=(r,o)=>t(o).update(Fe(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Rs=Ts(t=>new Us(t));function _s(t,e,n,r,o,i=20){let s=t[0],c=t[1],a=t[2],u=t[3],l=e[0],f=e[1],h=e[2],y=e[3],E=e[4],p=e[5],d=e[6],v=e[7],m=o,O=n[0],N=n[1],$=n[2],B=s,A=c,T=a,S=u,L=l,U=f,_=h,j=y,g=E,w=p,b=d,I=v,R=m,x=O,C=N,P=$;for(let M=0;M<i;M+=2)B=B+L|0,R=V(R^B,16),g=g+R|0,L=V(L^g,12),B=B+L|0,R=V(R^B,8),g=g+R|0,L=V(L^g,7),A=A+U|0,x=V(x^A,16),w=w+x|0,U=V(U^w,12),A=A+U|0,x=V(x^A,8),w=w+x|0,U=V(U^w,7),T=T+_|0,C=V(C^T,16),b=b+C|0,_=V(_^b,12),T=T+_|0,C=V(C^T,8),b=b+C|0,_=V(_^b,7),S=S+j|0,P=V(P^S,16),I=I+P|0,j=V(j^I,12),S=S+j|0,P=V(P^S,8),I=I+P|0,j=V(j^I,7),B=B+U|0,P=V(P^B,16),b=b+P|0,U=V(U^b,12),B=B+U|0,P=V(P^B,8),b=b+P|0,U=V(U^b,7),A=A+_|0,R=V(R^A,16),I=I+R|0,_=V(_^I,12),A=A+_|0,R=V(R^A,8),I=I+R|0,_=V(_^I,7),T=T+j|0,x=V(x^T,16),g=g+x|0,j=V(j^g,12),T=T+j|0,x=V(x^T,8),g=g+x|0,j=V(j^g,7),S=S+L|0,C=V(C^S,16),w=w+C|0,L=V(L^w,12),S=S+L|0,C=V(C^S,8),w=w+C|0,L=V(L^w,7);let k=0;r[k++]=s+B|0,r[k++]=c+A|0,r[k++]=a+T|0,r[k++]=u+S|0,r[k++]=l+L|0,r[k++]=f+U|0,r[k++]=h+_|0,r[k++]=y+j|0,r[k++]=E+g|0,r[k++]=p+w|0,r[k++]=d+b|0,r[k++]=v+I|0,r[k++]=m+R|0,r[k++]=O+x|0,r[k++]=N+C|0,r[k++]=$+P|0}const $s=Ns(_s,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Ls=new Uint8Array(16),Rr=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Ls.subarray(n))},js=new Uint8Array(32);function _r(t,e,n,r,o){const i=t(e,n,js),s=Rs.create(i);o&&Rr(s,o),Rr(s,r);const c=new Uint8Array(16),a=gs(c);Ir(a,0,BigInt(o?o.length:0),!0),Ir(a,8,BigInt(r.length),!0),s.update(c);const u=s.digest();return Lt(i,c),u}const Cs=t=>(e,n,r)=>({encrypt(i,s){const c=i.length;s=Br(c+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const u=_r(t,e,n,a,r);return s.set(u,c),Lt(u),s},decrypt(i,s){s=Br(i.length-16,s,!1);const c=i.subarray(0,-16),a=i.subarray(-16),u=_r(t,e,n,c,r);if(!bs(a,u))throw new Error(\"invalid tag\");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Lt(u),s}}),$r=Es({blockSize:64,nonceLength:12,tagLength:16},Cs($s));class Lr extends Pe{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,je(e);const r=_t(n);if(this.iHash=e.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Tt(this),this.iHash.update(e),this}digestInto(e){Tt(this),Wt(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const pe=(t,e,n)=>new Lr(t,e).update(n).digest();pe.create=(t,e)=>new Lr(t,e);function Ps(t,e,n){return je(t),n===void 0&&(n=new Uint8Array(t.outputLen)),pe(t,_t(n),_t(e))}const Ye=new Uint8Array([0]),jr=new Uint8Array;function ks(t,e,n,r=32){if(je(t),Gt(r),r>255*t.outputLen)throw new Error(\"Length should be <= 255*HashLen\");const o=Math.ceil(r/t.outputLen);n===void 0&&(n=jr);const i=new Uint8Array(o*t.outputLen),s=pe.create(t,e),c=s._cloneInto(),a=new Uint8Array(s.outputLen);for(let u=0;u<o;u++)Ye[0]=u+1,c.update(u===0?jr:a).update(n).update(Ye).digestInto(a),i.set(a,t.outputLen*u),s._cloneInto(c);return s.destroy(),c.destroy(),a.fill(0),Ye.fill(0),i.slice(0,r)}const Vs=(t,e,n,r,o)=>ks(t,Ps(t,e,n),r,o);function Ms(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),c=Number(n&i),a=r?4:0,u=r?0:4;t.setUint32(e+a,s,r),t.setUint32(e+u,c,r)}function Ds(t,e,n){return t&e^~t&n}function Hs(t,e,n){return t&e^t&n^e&n}class qs extends Pe{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ce(this.buffer)}update(e){Tt(this);const{view:n,buffer:r,blockLen:o}=this;e=_t(e);const i=e.length;for(let s=0;s<i;){const c=Math.min(o-this.pos,i-s);if(c===o){const a=Ce(e);for(;o<=i-s;s+=o)this.process(a,s);continue}r.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tt(this),Gn(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let f=s;f<o;f++)n[f]=0;Ms(r,o-8,BigInt(this.length*8),i),this.process(r,0);const c=Ce(e),a=this.outputLen;if(a%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const u=a/4,l=this.get();if(u>l.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let f=0;f<u;f++)c.setUint32(4*f,l[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:c}=this;return e.length=o,e.pos=c,e.finished=i,e.destroyed=s,o%n&&e.buffer.set(r),e}}const Ks=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bt=new Uint32Array(64);class Fs extends qs{constructor(){super(64,32,8,!1),this.A=wt[0]|0,this.B=wt[1]|0,this.C=wt[2]|0,this.D=wt[3]|0,this.E=wt[4]|0,this.F=wt[5]|0,this.G=wt[6]|0,this.H=wt[7]|0}get(){const{A:e,B:n,C:r,D:o,E:i,F:s,G:c,H:a}=this;return[e,n,r,o,i,s,c,a]}set(e,n,r,o,i,s,c,a){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=a|0}process(e,n){for(let f=0;f<16;f++,n+=4)bt[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=bt[f-15],y=bt[f-2],E=st(h,7)^st(h,18)^h>>>3,p=st(y,17)^st(y,19)^y>>>10;bt[f]=p+bt[f-7]+E+bt[f-16]|0}let{A:r,B:o,C:i,D:s,E:c,F:a,G:u,H:l}=this;for(let f=0;f<64;f++){const h=st(c,6)^st(c,11)^st(c,25),y=l+h+Ds(c,a,u)+Ks[f]+bt[f]|0,p=(st(r,2)^st(r,13)^st(r,22))+Hs(r,o,i)|0;l=u,u=a,a=c,c=s+y|0,s=i,i=o,o=r,r=y+p|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,a=a+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,o,i,s,c,a,u,l)}roundClean(){bt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Jt=Qn(()=>new Fs);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ge=BigInt(0),ye=BigInt(1),zs=BigInt(2);function St(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function Qt(t){if(!St(t))throw new Error(\"Uint8Array expected\")}function jt(t,e){if(typeof e!=\"boolean\")throw new Error(t+\" boolean expected, got \"+e)}const Zs=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function Ct(t){Qt(t);let e=\"\";for(let n=0;n<t.length;n++)e+=Zs[t[n]];return e}function Pt(t){const e=t.toString(16);return e.length&1?\"0\"+e:e}function Ge(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?ge:BigInt(\"0x\"+t)}const ut={_0:48,_9:57,A:65,F:70,a:97,f:102};function Cr(t){if(t>=ut._0&&t<=ut._9)return t-ut._0;if(t>=ut.A&&t<=ut.F)return t-(ut.A-10);if(t>=ut.a&&t<=ut.f)return t-(ut.a-10)}function kt(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const s=Cr(t.charCodeAt(i)),c=Cr(t.charCodeAt(i+1));if(s===void 0||c===void 0){const a=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character \"'+a+'\" at index '+i)}r[o]=s*16+c}return r}function Ot(t){return Ge(Ct(t))}function te(t){return Qt(t),Ge(Ct(Uint8Array.from(t).reverse()))}function Vt(t,e){return kt(t.toString(16).padStart(e*2,\"0\"))}function me(t,e){return Vt(t,e).reverse()}function Ys(t){return kt(Pt(t))}function et(t,e,n){let r;if(typeof e==\"string\")try{r=kt(e)}catch(i){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+i)}else if(St(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const o=r.length;if(typeof n==\"number\"&&o!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+o);return r}function ee(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Qt(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}function Gs(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Ws(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}const We=t=>typeof t==\"bigint\"&&ge<=t;function we(t,e,n){return We(t)&&We(e)&&We(n)&&e<=t&&t<n}function ft(t,e,n,r){if(!we(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function Pr(t){let e;for(e=0;t>ge;t>>=ye,e+=1);return e}function Xs(t,e){return t>>BigInt(e)&ye}function Js(t,e,n){return t|(n?ye:ge)<<BigInt(e)}const Xe=t=>(zs<<BigInt(t-1))-ye,Je=t=>new Uint8Array(t),kr=t=>Uint8Array.from(t);function Vr(t,e,n){if(typeof t!=\"number\"||t<2)throw new Error(\"hashLen must be a number\");if(typeof e!=\"number\"||e<2)throw new Error(\"qByteLen must be a number\");if(typeof n!=\"function\")throw new Error(\"hmacFn must be a function\");let r=Je(t),o=Je(t),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},c=(...f)=>n(o,r,...f),a=(f=Je())=>{o=c(kr([0]),f),r=c(),f.length!==0&&(o=c(kr([1]),f),r=c())},u=()=>{if(i++>=1e3)throw new Error(\"drbg: tried 1000 values\");let f=0;const h=[];for(;f<e;){r=c();const y=r.slice();h.push(y),f+=r.length}return ee(...h)};return(f,h)=>{s(),a(f);let y;for(;!(y=h(u()));)a();return s(),y}}const Qs={bigint:t=>typeof t==\"bigint\",function:t=>typeof t==\"function\",boolean:t=>typeof t==\"boolean\",string:t=>typeof t==\"string\",stringOrUint8Array:t=>typeof t==\"string\"||St(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t==\"function\"&&Number.isSafeInteger(t.outputLen)};function Mt(t,e,n={}){const r=(o,i,s)=>{const c=Qs[i];if(typeof c!=\"function\")throw new Error(\"invalid validator function\");const a=t[o];if(!(s&&a===void 0)&&!c(a,t))throw new Error(\"param \"+String(o)+\" is invalid. Expected \"+i+\", got \"+a)};for(const[o,i]of Object.entries(e))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return t}const tc=()=>{throw new Error(\"not implemented\")};function Qe(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t(n,...r);return e.set(n,i),i}}var ec=Object.freeze({__proto__:null,isBytes:St,abytes:Qt,abool:jt,bytesToHex:Ct,numberToHexUnpadded:Pt,hexToNumber:Ge,hexToBytes:kt,bytesToNumberBE:Ot,bytesToNumberLE:te,numberToBytesBE:Vt,numberToBytesLE:me,numberToVarBytesBE:Ys,ensureBytes:et,concatBytes:ee,equalBytes:Gs,utf8ToBytes:Ws,inRange:we,aInRange:ft,bitLen:Pr,bitGet:Xs,bitSet:Js,bitMask:Xe,createHmacDrbg:Vr,validateObject:Mt,notImplemented:tc,memoized:Qe});const q=BigInt(0),H=BigInt(1),At=BigInt(2),nc=BigInt(3),tn=BigInt(4),Mr=BigInt(5),Dr=BigInt(8);function X(t,e){const n=t%e;return n>=q?n:e+n}function Hr(t,e,n){if(e<q)throw new Error(\"invalid exponent, negatives unsupported\");if(n<=q)throw new Error(\"invalid modulus\");if(n===H)return q;let r=H;for(;e>q;)e&H&&(r=r*t%n),t=t*t%n,e>>=H;return r}function ot(t,e,n){let r=t;for(;e-- >q;)r*=r,r%=n;return r}function en(t,e){if(t===q)throw new Error(\"invert: expected non-zero number\");if(e<=q)throw new Error(\"invert: expected positive modulus, got \"+e);let n=X(t,e),r=e,o=q,i=H;for(;n!==q;){const c=r/n,a=r%n,u=o-i*c;r=n,n=a,o=i,i=u}if(r!==H)throw new Error(\"invert: does not exist\");return X(o,e)}function rc(t){const e=(t-H)/At;let n,r,o;for(n=t-H,r=0;n%At===q;n/=At,r++);for(o=At;o<t&&Hr(o,e,t)!==t-H;o++)if(o>1e3)throw new Error(\"Cannot find square root: likely non-prime P\");if(r===1){const s=(t+H)/tn;return function(a,u){const l=a.pow(u,s);if(!a.eql(a.sqr(l),u))throw new Error(\"Cannot find square root\");return l}}const i=(n+H)/At;return function(c,a){if(c.pow(a,e)===c.neg(c.ONE))throw new Error(\"Cannot find square root\");let u=r,l=c.pow(c.mul(c.ONE,o),n),f=c.pow(a,i),h=c.pow(a,n);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let y=1;for(let p=c.sqr(h);y<u&&!c.eql(p,c.ONE);y++)p=c.sqr(p);const E=c.pow(l,H<<BigInt(u-y-1));l=c.sqr(E),f=c.mul(f,E),h=c.mul(h,l),u=y}return f}}function oc(t){if(t%tn===nc){const e=(t+H)/tn;return function(r,o){const i=r.pow(o,e);if(!r.eql(r.sqr(i),o))throw new Error(\"Cannot find square root\");return i}}if(t%Dr===Mr){const e=(t-Mr)/Dr;return function(r,o){const i=r.mul(o,At),s=r.pow(i,e),c=r.mul(o,s),a=r.mul(r.mul(c,At),s),u=r.mul(c,r.sub(a,r.ONE));if(!r.eql(r.sqr(u),o))throw new Error(\"Cannot find square root\");return u}}return rc(t)}const ic=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function sc(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},n=ic.reduce((r,o)=>(r[o]=\"function\",r),e);return Mt(t,n)}function cc(t,e,n){if(n<q)throw new Error(\"invalid exponent, negatives unsupported\");if(n===q)return t.ONE;if(n===H)return e;let r=t.ONE,o=e;for(;n>q;)n&H&&(r=t.mul(r,o)),o=t.sqr(o),n>>=H;return r}function ac(t,e){const n=new Array(e.length),r=e.reduce((i,s,c)=>t.is0(s)?i:(n[c]=i,t.mul(i,s)),t.ONE),o=t.inv(r);return e.reduceRight((i,s,c)=>t.is0(s)?i:(n[c]=t.mul(i,n[c]),t.mul(i,s)),o),n}function qr(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Kr(t,e,n=!1,r={}){if(t<=q)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);const{nBitLength:o,nByteLength:i}=qr(t,e);if(i>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let s;const c=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:i,MASK:Xe(o),ZERO:q,ONE:H,create:a=>X(a,t),isValid:a=>{if(typeof a!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof a);return q<=a&&a<t},is0:a=>a===q,isOdd:a=>(a&H)===H,neg:a=>X(-a,t),eql:(a,u)=>a===u,sqr:a=>X(a*a,t),add:(a,u)=>X(a+u,t),sub:(a,u)=>X(a-u,t),mul:(a,u)=>X(a*u,t),pow:(a,u)=>cc(c,a,u),div:(a,u)=>X(a*en(u,t),t),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>en(a,t),sqrt:r.sqrt||(a=>(s||(s=oc(t)),s(c,a))),invertBatch:a=>ac(c,a),cmov:(a,u,l)=>l?u:a,toBytes:a=>n?me(a,i):Vt(a,i),fromBytes:a=>{if(a.length!==i)throw new Error(\"Field.fromBytes: expected \"+i+\" bytes, got \"+a.length);return n?te(a):Ot(a)}});return Object.freeze(c)}function Fr(t){if(typeof t!=\"bigint\")throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function zr(t){const e=Fr(t);return e+Math.ceil(e/2)}function uc(t,e,n=!1){const r=t.length,o=Fr(e),i=zr(e);if(r<16||r<i||r>1024)throw new Error(\"expected \"+i+\"-1024 bytes of input, got \"+r);const s=n?te(t):Ot(t),c=X(s,e-H)+H;return n?me(c,o):Vt(c,o)}const Zr=BigInt(0),be=BigInt(1);function nn(t,e){const n=e.negate();return t?n:e}function Yr(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function rn(t,e){Yr(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function fc(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function lc(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const on=new WeakMap,Gr=new WeakMap;function sn(t){return Gr.get(t)||1}function dc(t,e){return{constTimeNegate:nn,hasPrecomputes(n){return sn(n)!==1},unsafeLadder(n,r,o=t.ZERO){let i=n;for(;r>Zr;)r&be&&(o=o.add(i)),i=i.double(),r>>=be;return o},precomputeWindow(n,r){const{windows:o,windowSize:i}=rn(r,e),s=[];let c=n,a=c;for(let u=0;u<o;u++){a=c,s.push(a);for(let l=1;l<i;l++)a=a.add(c),s.push(a);c=a.double()}return s},wNAF(n,r,o){const{windows:i,windowSize:s}=rn(n,e);let c=t.ZERO,a=t.BASE;const u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let h=0;h<i;h++){const y=h*s;let E=Number(o&u);o>>=f,E>s&&(E-=l,o+=be);const p=y,d=y+Math.abs(E)-1,v=h%2!==0,m=E<0;E===0?a=a.add(nn(v,r[p])):c=c.add(nn(m,r[d]))}return{p:c,f:a}},wNAFUnsafe(n,r,o,i=t.ZERO){const{windows:s,windowSize:c}=rn(n,e),a=BigInt(2**n-1),u=2**n,l=BigInt(n);for(let f=0;f<s;f++){const h=f*c;if(o===Zr)break;let y=Number(o&a);if(o>>=l,y>c&&(y-=u,o+=be),y===0)continue;let E=r[h+Math.abs(y)-1];y<0&&(E=E.negate()),i=i.add(E)}return i},getPrecomputes(n,r,o){let i=on.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&on.set(r,o(i))),i},wNAFCached(n,r,o){const i=sn(n);return this.wNAF(i,this.getPrecomputes(i,n,o),r)},wNAFCachedUnsafe(n,r,o,i){const s=sn(n);return s===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,n,o),r,i)},setWindowSize(n,r){Yr(r,e),Gr.set(n,r),on.delete(n)}}}function hc(t,e,n,r){if(fc(n,t),lc(r,e),n.length!==r.length)throw new Error(\"arrays of points and scalars must have equal length\");const o=t.ZERO,i=Pr(BigInt(n.length)),s=i>12?i-3:i>4?i-2:i?2:1,c=(1<<s)-1,a=new Array(c+1).fill(o),u=Math.floor((e.BITS-1)/s)*s;let l=o;for(let f=u;f>=0;f-=s){a.fill(o);for(let y=0;y<r.length;y++){const E=r[y],p=Number(E>>BigInt(f)&BigInt(c));a[p]=a[p].add(n[y])}let h=o;for(let y=a.length-1,E=o;y>0;y--)E=E.add(a[y]),h=h.add(E);if(l=l.add(h),f!==0)for(let y=0;y<s;y++)l=l.double()}return l}function Wr(t){return sc(t.Fp),Mt(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...qr(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Dt=BigInt(0),cn=BigInt(1);function pc(t){return Mt(t,{a:\"bigint\"},{montgomeryBits:\"isSafeInteger\",nByteLength:\"isSafeInteger\",adjustScalarBytes:\"function\",domain:\"function\",powPminus2:\"function\",Gu:\"bigint\"}),Object.freeze({...t})}function gc(t){const e=pc(t),{P:n}=e,r=m=>X(m,n),o=e.montgomeryBits,i=Math.ceil(o/8),s=e.nByteLength,c=e.adjustScalarBytes||(m=>m),a=e.powPminus2||(m=>Hr(m,n-BigInt(2),n));function u(m,O,N){const $=r(m*(O-N));return O=r(O-$),N=r(N+$),[O,N]}const l=(e.a-BigInt(2))/BigInt(4);function f(m,O){ft(\"u\",m,Dt,n),ft(\"scalar\",O,Dt,n);const N=O,$=m;let B=cn,A=Dt,T=m,S=cn,L=Dt,U;for(let j=BigInt(o-1);j>=Dt;j--){const g=N>>j&cn;L^=g,U=u(L,B,T),B=U[0],T=U[1],U=u(L,A,S),A=U[0],S=U[1],L=g;const w=B+A,b=r(w*w),I=B-A,R=r(I*I),x=b-R,C=T+S,P=T-S,k=r(P*w),M=r(C*I),D=k+M,z=k-M;T=r(D*D),S=r($*r(z*z)),B=r(b*R),A=r(x*(b+r(l*x)))}U=u(L,B,T),B=U[0],T=U[1],U=u(L,A,S),A=U[0],S=U[1];const _=a(A);return r(B*_)}function h(m){return me(r(m),i)}function y(m){const O=et(\"u coordinate\",m,i);return s===32&&(O[31]&=127),te(O)}function E(m){const O=et(\"scalar\",m),N=O.length;if(N!==i&&N!==s){let $=\"\"+i+\" or \"+s;throw new Error(\"invalid scalar, expected \"+$+\" bytes, got \"+N)}return te(c(O))}function p(m,O){const N=y(O),$=E(m),B=f(N,$);if(B===Dt)throw new Error(\"invalid private or public key received\");return h(B)}const d=h(e.Gu);function v(m){return p(m,d)}return{scalarMult:p,scalarMultBase:v,getSharedSecret:(m,O)=>p(m,O),getPublicKey:m=>v(m),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:d}}const an=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\");BigInt(0);const yc=BigInt(1),Xr=BigInt(2),mc=BigInt(3),wc=BigInt(5);BigInt(8);function bc(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),i=an,c=t*t%i*t%i,a=ot(c,Xr,i)*c%i,u=ot(a,yc,i)*t%i,l=ot(u,wc,i)*u%i,f=ot(l,e,i)*l%i,h=ot(f,n,i)*f%i,y=ot(h,r,i)*h%i,E=ot(y,o,i)*y%i,p=ot(E,o,i)*y%i,d=ot(p,e,i)*l%i;return{pow_p_5_8:ot(d,Xr,i)*t%i,b2:c}}function Ec(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const un=gc({P:an,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=an,{pow_p_5_8:n,b2:r}=bc(t);return X(ot(n,mc,e)*r,e)},adjustScalarBytes:Ec,randomBytes:$t});function Jr(t){t.lowS!==void 0&&jt(\"lowS\",t.lowS),t.prehash!==void 0&&jt(\"prehash\",t.prehash)}function vc(t){const e=Wr(t);Mt(e,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});const{endo:n,Fp:r,a:o}=e;if(n){if(!r.eql(o,r.ZERO))throw new Error(\"invalid endomorphism, can only be defined for Koblitz curves that have a=0\");if(typeof n!=\"object\"||typeof n.beta!=\"bigint\"||typeof n.splitScalar!=\"function\")throw new Error(\"invalid endomorphism, expected beta: bigint and splitScalar: function\")}return Object.freeze({...e})}const{bytesToNumberBE:xc,hexToBytes:Sc}=ec;class Oc extends Error{constructor(e=\"\"){super(e)}}const lt={Err:Oc,_tlv:{encode:(t,e)=>{const{Err:n}=lt;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length&1)throw new n(\"tlv.encode: unpadded data\");const r=e.length/2,o=Pt(r);if(o.length/2&128)throw new n(\"tlv.encode: long form length too big\");const i=r>127?Pt(o.length/2|128):\"\";return Pt(t)+i+o+e},decode(t,e){const{Err:n}=lt;let r=0;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length<2||e[r++]!==t)throw new n(\"tlv.decode: wrong tlv\");const o=e[r++],i=!!(o&128);let s=0;if(!i)s=o;else{const a=o&127;if(!a)throw new n(\"tlv.decode(long): indefinite length not supported\");if(a>4)throw new n(\"tlv.decode(long): byte length is too big\");const u=e.subarray(r,r+a);if(u.length!==a)throw new n(\"tlv.decode: length bytes not complete\");if(u[0]===0)throw new n(\"tlv.decode(long): zero leftmost byte\");for(const l of u)s=s<<8|l;if(r+=a,s<128)throw new n(\"tlv.decode(long): not minimal encoding\")}const c=e.subarray(r,r+s);if(c.length!==s)throw new n(\"tlv.decode: wrong value length\");return{v:c,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=lt;if(t<dt)throw new e(\"integer: negative integers are not allowed\");let n=Pt(t);if(Number.parseInt(n[0],16)&8&&(n=\"00\"+n),n.length&1)throw new e(\"unexpected DER parsing assertion: unpadded hex\");return n},decode(t){const{Err:e}=lt;if(t[0]&128)throw new e(\"invalid signature integer: negative\");if(t[0]===0&&!(t[1]&128))throw new e(\"invalid signature integer: unnecessary leading zero\");return xc(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=lt,o=typeof t==\"string\"?Sc(t):t;Qt(o);const{v:i,l:s}=r.decode(48,o);if(s.length)throw new e(\"invalid signature: left bytes after parsing\");const{v:c,l:a}=r.decode(2,i),{v:u,l}=r.decode(2,a);if(l.length)throw new e(\"invalid signature: left bytes after parsing\");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=lt,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),i=r+o;return e.encode(48,i)}},dt=BigInt(0),K=BigInt(1);BigInt(2);const Qr=BigInt(3);BigInt(4);function Ac(t){const e=vc(t),{Fp:n}=e,r=Kr(e.n,e.nBitLength),o=e.toBytes||((p,d,v)=>{const m=d.toAffine();return ee(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),i=e.fromBytes||(p=>{const d=p.subarray(1),v=n.fromBytes(d.subarray(0,n.BYTES)),m=n.fromBytes(d.subarray(n.BYTES,2*n.BYTES));return{x:v,y:m}});function s(p){const{a:d,b:v}=e,m=n.sqr(p),O=n.mul(m,p);return n.add(n.add(O,n.mul(p,d)),v)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error(\"bad generator point: equation left != right\");function c(p){return we(p,K,e.n)}function a(p){const{allowedPrivateKeyLengths:d,nByteLength:v,wrapPrivateKey:m,n:O}=e;if(d&&typeof p!=\"bigint\"){if(St(p)&&(p=Ct(p)),typeof p!=\"string\"||!d.includes(p.length))throw new Error(\"invalid private key\");p=p.padStart(v*2,\"0\")}let N;try{N=typeof p==\"bigint\"?p:Ot(et(\"private key\",p,v))}catch{throw new Error(\"invalid private key, expected hex or \"+v+\" bytes, got \"+typeof p)}return m&&(N=X(N,O)),ft(\"private key\",N,K,O),N}function u(p){if(!(p instanceof h))throw new Error(\"ProjectivePoint expected\")}const l=Qe((p,d)=>{const{px:v,py:m,pz:O}=p;if(n.eql(O,n.ONE))return{x:v,y:m};const N=p.is0();d==null&&(d=N?n.ONE:n.inv(O));const $=n.mul(v,d),B=n.mul(m,d),A=n.mul(O,d);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error(\"invZ was invalid\");return{x:$,y:B}}),f=Qe(p=>{if(p.is0()){if(e.allowInfinityPoint&&!n.is0(p.py))return;throw new Error(\"bad point: ZERO\")}const{x:d,y:v}=p.toAffine();if(!n.isValid(d)||!n.isValid(v))throw new Error(\"bad point: x or y not FE\");const m=n.sqr(v),O=s(d);if(!n.eql(m,O))throw new Error(\"bad point: equation left != right\");if(!p.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0});class h{constructor(d,v,m){if(this.px=d,this.py=v,this.pz=m,d==null||!n.isValid(d))throw new Error(\"x required\");if(v==null||!n.isValid(v))throw new Error(\"y required\");if(m==null||!n.isValid(m))throw new Error(\"z required\");Object.freeze(this)}static fromAffine(d){const{x:v,y:m}=d||{};if(!d||!n.isValid(v)||!n.isValid(m))throw new Error(\"invalid affine point\");if(d instanceof h)throw new Error(\"projective point not allowed\");const O=N=>n.eql(N,n.ZERO);return O(v)&&O(m)?h.ZERO:new h(v,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(d){const v=n.invertBatch(d.map(m=>m.pz));return d.map((m,O)=>m.toAffine(v[O])).map(h.fromAffine)}static fromHex(d){const v=h.fromAffine(i(et(\"pointHex\",d)));return v.assertValidity(),v}static fromPrivateKey(d){return h.BASE.multiply(a(d))}static msm(d,v){return hc(h,r,d,v)}_setWindowSize(d){E.setWindowSize(this,d)}assertValidity(){f(this)}hasEvenY(){const{y:d}=this.toAffine();if(n.isOdd)return!n.isOdd(d);throw new Error(\"Field doesn't support isOdd\")}equals(d){u(d);const{px:v,py:m,pz:O}=this,{px:N,py:$,pz:B}=d,A=n.eql(n.mul(v,B),n.mul(N,O)),T=n.eql(n.mul(m,B),n.mul($,O));return A&&T}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:d,b:v}=e,m=n.mul(v,Qr),{px:O,py:N,pz:$}=this;let B=n.ZERO,A=n.ZERO,T=n.ZERO,S=n.mul(O,O),L=n.mul(N,N),U=n.mul($,$),_=n.mul(O,N);return _=n.add(_,_),T=n.mul(O,$),T=n.add(T,T),B=n.mul(d,T),A=n.mul(m,U),A=n.add(B,A),B=n.sub(L,A),A=n.add(L,A),A=n.mul(B,A),B=n.mul(_,B),T=n.mul(m,T),U=n.mul(d,U),_=n.sub(S,U),_=n.mul(d,_),_=n.add(_,T),T=n.add(S,S),S=n.add(T,S),S=n.add(S,U),S=n.mul(S,_),A=n.add(A,S),U=n.mul(N,$),U=n.add(U,U),S=n.mul(U,_),B=n.sub(B,S),T=n.mul(U,L),T=n.add(T,T),T=n.add(T,T),new h(B,A,T)}add(d){u(d);const{px:v,py:m,pz:O}=this,{px:N,py:$,pz:B}=d;let A=n.ZERO,T=n.ZERO,S=n.ZERO;const L=e.a,U=n.mul(e.b,Qr);let _=n.mul(v,N),j=n.mul(m,$),g=n.mul(O,B),w=n.add(v,m),b=n.add(N,$);w=n.mul(w,b),b=n.add(_,j),w=n.sub(w,b),b=n.add(v,O);let I=n.add(N,B);return b=n.mul(b,I),I=n.add(_,g),b=n.sub(b,I),I=n.add(m,O),A=n.add($,B),I=n.mul(I,A),A=n.add(j,g),I=n.sub(I,A),S=n.mul(L,b),A=n.mul(U,g),S=n.add(A,S),A=n.sub(j,S),S=n.add(j,S),T=n.mul(A,S),j=n.add(_,_),j=n.add(j,_),g=n.mul(L,g),b=n.mul(U,b),j=n.add(j,g),g=n.sub(_,g),g=n.mul(L,g),b=n.add(b,g),_=n.mul(j,b),T=n.add(T,_),_=n.mul(I,b),A=n.mul(w,A),A=n.sub(A,_),_=n.mul(w,j),S=n.mul(I,S),S=n.add(S,_),new h(A,T,S)}subtract(d){return this.add(d.negate())}is0(){return this.equals(h.ZERO)}wNAF(d){return E.wNAFCached(this,d,h.normalizeZ)}multiplyUnsafe(d){const{endo:v,n:m}=e;ft(\"scalar\",d,dt,m);const O=h.ZERO;if(d===dt)return O;if(this.is0()||d===K)return this;if(!v||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,d,h.normalizeZ);let{k1neg:N,k1:$,k2neg:B,k2:A}=v.splitScalar(d),T=O,S=O,L=this;for(;$>dt||A>dt;)$&K&&(T=T.add(L)),A&K&&(S=S.add(L)),L=L.double(),$>>=K,A>>=K;return N&&(T=T.negate()),B&&(S=S.negate()),S=new h(n.mul(S.px,v.beta),S.py,S.pz),T.add(S)}multiply(d){const{endo:v,n:m}=e;ft(\"scalar\",d,K,m);let O,N;if(v){const{k1neg:$,k1:B,k2neg:A,k2:T}=v.splitScalar(d);let{p:S,f:L}=this.wNAF(B),{p:U,f:_}=this.wNAF(T);S=E.constTimeNegate($,S),U=E.constTimeNegate(A,U),U=new h(n.mul(U.px,v.beta),U.py,U.pz),O=S.add(U),N=L.add(_)}else{const{p:$,f:B}=this.wNAF(d);O=$,N=B}return h.normalizeZ([O,N])[0]}multiplyAndAddUnsafe(d,v,m){const O=h.BASE,N=(B,A)=>A===dt||A===K||!B.equals(O)?B.multiplyUnsafe(A):B.multiply(A),$=N(this,v).add(N(d,m));return $.is0()?void 0:$}toAffine(d){return l(this,d)}isTorsionFree(){const{h:d,isTorsionFree:v}=e;if(d===K)return!0;if(v)return v(h,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){const{h:d,clearCofactor:v}=e;return d===K?this:v?v(h,this):this.multiplyUnsafe(e.h)}toRawBytes(d=!0){return jt(\"isCompressed\",d),this.assertValidity(),o(h,this,d)}toHex(d=!0){return jt(\"isCompressed\",d),Ct(this.toRawBytes(d))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const y=e.nBitLength,E=dc(h,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:c}}function Bc(t){const e=Wr(t);return Mt(e,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...e})}function Ic(t){const e=Bc(t),{Fp:n,n:r}=e,o=n.BYTES+1,i=2*n.BYTES+1;function s(g){return X(g,r)}function c(g){return en(g,r)}const{ProjectivePoint:a,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=Ac({...e,toBytes(g,w,b){const I=w.toAffine(),R=n.toBytes(I.x),x=ee;return jt(\"isCompressed\",b),b?x(Uint8Array.from([w.hasEvenY()?2:3]),R):x(Uint8Array.from([4]),R,n.toBytes(I.y))},fromBytes(g){const w=g.length,b=g[0],I=g.subarray(1);if(w===o&&(b===2||b===3)){const R=Ot(I);if(!we(R,K,n.ORDER))throw new Error(\"Point is not on curve\");const x=l(R);let C;try{C=n.sqrt(x)}catch(M){const D=M instanceof Error?\": \"+M.message:\"\";throw new Error(\"Point is not on curve\"+D)}const P=(C&K)===K;return(b&1)===1!==P&&(C=n.neg(C)),{x:R,y:C}}else if(w===i&&b===4){const R=n.fromBytes(I.subarray(0,n.BYTES)),x=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:R,y:x}}else{const R=o,x=i;throw new Error(\"invalid Point, expected length of \"+R+\", or uncompressed \"+x+\", got \"+w)}}}),h=g=>Ct(Vt(g,e.nByteLength));function y(g){const w=r>>K;return g>w}function E(g){return y(g)?s(-g):g}const p=(g,w,b)=>Ot(g.slice(w,b));class d{constructor(w,b,I){this.r=w,this.s=b,this.recovery=I,this.assertValidity()}static fromCompact(w){const b=e.nByteLength;return w=et(\"compactSignature\",w,b*2),new d(p(w,0,b),p(w,b,2*b))}static fromDER(w){const{r:b,s:I}=lt.toSig(et(\"DER\",w));return new d(b,I)}assertValidity(){ft(\"r\",this.r,K,r),ft(\"s\",this.s,K,r)}addRecoveryBit(w){return new d(this.r,this.s,w)}recoverPublicKey(w){const{r:b,s:I,recovery:R}=this,x=B(et(\"msgHash\",w));if(R==null||![0,1,2,3].includes(R))throw new Error(\"recovery id invalid\");const C=R===2||R===3?b+e.n:b;if(C>=n.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");const P=(R&1)===0?\"02\":\"03\",k=a.fromHex(P+h(C)),M=c(C),D=s(-x*M),z=s(I*M),Z=a.BASE.multiplyAndAddUnsafe(k,D,z);if(!Z)throw new Error(\"point at infinify\");return Z.assertValidity(),Z}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return kt(this.toDERHex())}toDERHex(){return lt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kt(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(g){try{return u(g),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const g=zr(e.n);return uc(e.randomBytes(g),e.n)},precompute(g=8,w=a.BASE){return w._setWindowSize(g),w.multiply(BigInt(3)),w}};function m(g,w=!0){return a.fromPrivateKey(g).toRawBytes(w)}function O(g){const w=St(g),b=typeof g==\"string\",I=(w||b)&&g.length;return w?I===o||I===i:b?I===2*o||I===2*i:g instanceof a}function N(g,w,b=!0){if(O(g))throw new Error(\"first arg must be private key\");if(!O(w))throw new Error(\"second arg must be public key\");return a.fromHex(w).multiply(u(g)).toRawBytes(b)}const $=e.bits2int||function(g){if(g.length>8192)throw new Error(\"input is too large\");const w=Ot(g),b=g.length*8-e.nBitLength;return b>0?w>>BigInt(b):w},B=e.bits2int_modN||function(g){return s($(g))},A=Xe(e.nBitLength);function T(g){return ft(\"num < 2^\"+e.nBitLength,g,dt,A),Vt(g,e.nByteLength)}function S(g,w,b=L){if([\"recovered\",\"canonical\"].some(W=>W in b))throw new Error(\"sign() legacy options not supported\");const{hash:I,randomBytes:R}=e;let{lowS:x,prehash:C,extraEntropy:P}=b;x==null&&(x=!0),g=et(\"msgHash\",g),Jr(b),C&&(g=et(\"prehashed msgHash\",I(g)));const k=B(g),M=u(w),D=[T(M),T(k)];if(P!=null&&P!==!1){const W=P===!0?R(n.BYTES):P;D.push(et(\"extraEntropy\",W))}const z=ee(...D),Z=k;function it(W){const J=$(W);if(!f(J))return;const Oe=c(J),Ft=a.BASE.multiply(J).toAffine(),vt=s(Ft.x);if(vt===dt)return;const zt=s(Oe*s(Z+vt*M));if(zt===dt)return;let Ut=(Ft.x===vt?0:2)|Number(Ft.y&K),vn=zt;return x&&y(zt)&&(vn=E(zt),Ut^=1),new d(vt,vn,Ut)}return{seed:z,k2sig:it}}const L={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function _(g,w,b=L){const{seed:I,k2sig:R}=S(g,w,b),x=e;return Vr(x.hash.outputLen,x.nByteLength,x.hmac)(I,R)}a.BASE._setWindowSize(8);function j(g,w,b,I=U){const R=g;w=et(\"msgHash\",w),b=et(\"publicKey\",b);const{lowS:x,prehash:C,format:P}=I;if(Jr(I),\"strict\"in I)throw new Error(\"options.strict was renamed to lowS\");if(P!==void 0&&P!==\"compact\"&&P!==\"der\")throw new Error(\"format must be compact or der\");const k=typeof R==\"string\"||St(R),M=!k&&!P&&typeof R==\"object\"&&R!==null&&typeof R.r==\"bigint\"&&typeof R.s==\"bigint\";if(!k&&!M)throw new Error(\"invalid signature, expected Uint8Array, hex string or Signature instance\");let D,z;try{if(M&&(D=new d(R.r,R.s)),k){try{P!==\"compact\"&&(D=d.fromDER(R))}catch(Ut){if(!(Ut instanceof lt.Err))throw Ut}!D&&P!==\"der\"&&(D=d.fromCompact(R))}z=a.fromHex(b)}catch{return!1}if(!D||x&&D.hasHighS())return!1;C&&(w=e.hash(w));const{r:Z,s:it}=D,W=B(w),J=c(it),Oe=s(W*J),Ft=s(Z*J),vt=a.BASE.multiplyAndAddUnsafe(z,Oe,Ft)?.toAffine();return vt?s(vt.x)===Z:!1}return{CURVE:e,getPublicKey:m,getSharedSecret:N,sign:_,verify:j,ProjectivePoint:a,Signature:d,utils:v}}function Nc(t){return{hash:t,hmac:(e,...n)=>pe(t,e,Vi(...n)),randomBytes:$t}}function Uc(t,e){const n=r=>Ic({...t,...Nc(r)});return{...n(e),create:n}}const to=Kr(BigInt(\"0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff\")),Tc=to.create(BigInt(\"-3\")),Rc=BigInt(\"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b\"),_c=Uc({a:Tc,b:Rc,Fp:to,n:BigInt(\"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\"),Gx:BigInt(\"0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296\"),Gy:BigInt(\"0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5\"),h:BigInt(1),lowS:!1},Jt),fn=\"base10\",G=\"base16\",Ht=\"base64pad\",Ee=\"base64url\",qt=\"utf8\",ln=0,Kt=1,ne=2,$c=0,eo=1,re=12,dn=32;function Lc(){const t=un.utils.randomPrivateKey(),e=un.getPublicKey(t);return{privateKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,G),publicKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,G)}}function jc(){const t=$t(dn);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,G)}function Cc(t,e){const n=un.getSharedSecret((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,G),(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,G)),r=Vs(Jt,n,void 0,void 0,dn);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(r,G)}function Pc(t){const e=Jt((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,G));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,G)}function kc(t){const e=Jt((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,qt));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,G)}function hn(t){return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(`${t}`,fn)}function Bt(t){return Number((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,fn))}function no(t){return t.replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\")}function ro(t){const e=t.replace(/-/g,\"+\").replace(/_/g,\"/\"),n=(4-e.length%4)%4;return e+\"=\".repeat(n)}function Vc(t){const e=hn(typeof t.type<\"u\"?t.type:ln);if(Bt(e)===Kt&&typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");const n=typeof t.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.senderPublicKey,G):void 0,r=typeof t.iv<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.iv,G):$t(re),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,G),i=$r(o,r).encrypt((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.message,qt)),s=pn({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===Ee?no(s):s}function Mc(t){const e=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,G),{sealed:n,iv:r}=ve({encoded:t.encoded,encoding:t.encoding}),o=$r(e,r).decrypt(n);if(o===null)throw new Error(\"Failed to decrypt\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(o,qt)}function Dc(t,e){const n=hn(ne),r=$t(re),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,qt),i=pn({type:n,sealed:o,iv:r});return e===Ee?no(i):i}function Hc(t,e){const{sealed:n}=ve({encoded:t,encoding:e});return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n,qt)}function pn(t){if(Bt(t.type)===ne)return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.sealed]),Ht);if(Bt(t.type)===Kt){if(typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.senderPublicKey,t.iv,t.sealed]),Ht)}return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.iv,t.sealed]),Ht)}function ve(t){const e=(t.encoding||Ht)===Ee?ro(t.encoded):t.encoded,n=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,Ht),r=n.slice($c,eo),o=eo;if(Bt(r)===Kt){const a=o+dn,u=a+re,l=n.slice(o,a),f=n.slice(a,u),h=n.slice(u);return{type:r,sealed:h,iv:f,senderPublicKey:l}}if(Bt(r)===ne){const a=n.slice(o),u=$t(re);return{type:r,sealed:a,iv:u}}const i=o+re,s=n.slice(o,i),c=n.slice(i);return{type:r,sealed:c,iv:s}}function qc(t,e){const n=ve({encoded:t,encoding:e?.encoding});return oo({type:Bt(n.type),senderPublicKey:typeof n.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n.senderPublicKey,G):void 0,receiverPublicKey:e?.receiverPublicKey})}function oo(t){const e=t?.type||ln;if(e===Kt){if(typeof t?.senderPublicKey>\"u\")throw new Error(\"missing sender public key\");if(typeof t?.receiverPublicKey>\"u\")throw new Error(\"missing receiver public key\")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Kc(t){return t.type===Kt&&typeof t.senderPublicKey==\"string\"&&typeof t.receiverPublicKey==\"string\"}function Fc(t){return t.type===ne}function io(t){const e=Buffer.from(t.x,\"base64\"),n=Buffer.from(t.y,\"base64\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([new Uint8Array([4]),e,n])}function zc(t,e){const[n,r,o]=t.split(\".\"),i=Buffer.from(ro(o),\"base64\");if(i.length!==64)throw new Error(\"Invalid signature length\");const s=i.slice(0,32),c=i.slice(32,64),a=`${n}.${r}`,u=Jt(a),l=io(e);if(!_c.verify((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([s,c]),u,l))throw new Error(\"Invalid signature\");return (0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__.decodeJWT)(t).payload}const so=\"irn\";function Zc(t){return t?.relay||{protocol:so}}function Yc(t){const e=_walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__.RELAY_JSONRPC[t];if(typeof e>\"u\")throw new Error(`Relay Protocol not supported: ${t}`);return e}function co(t,e=\"-\"){const n={},r=\"relay\"+e;return Object.keys(t).forEach(o=>{if(o.startsWith(r)){const i=o.replace(r,\"\"),s=t[o];n[i]=s}}),n}function Gc(t){if(!t.includes(\"wc:\")){const u=Le(t);u!=null&&u.includes(\"wc:\")&&(t=u)}t=t.includes(\"wc://\")?t.replace(\"wc://\",\"\"):t,t=t.includes(\"wc:\")?t.replace(\"wc:\",\"\"):t;const e=t.indexOf(\":\"),n=t.indexOf(\"?\")!==-1?t.indexOf(\"?\"):void 0,r=t.substring(0,e),o=t.substring(e+1,n).split(\"@\"),i=typeof n<\"u\"?t.substring(n):\"\",s=new URLSearchParams(i),c={};s.forEach((u,l)=>{c[l]=u});const a=typeof c.methods==\"string\"?c.methods.split(\",\"):void 0;return{protocol:r,topic:ao(o[0]),version:parseInt(o[1],10),symKey:c.symKey,relay:co(c),methods:a,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function ao(t){return t.startsWith(\"//\")?t.substring(2):t}function uo(t,e=\"-\"){const n=\"relay\",r={};return Object.keys(t).forEach(o=>{const i=o,s=n+e+i;t[i]&&(r[s]=t[i])}),r}function Wc(t){const e=new URLSearchParams,n=uo(t.relay);Object.keys(n).sort().forEach(o=>{e.set(o,n[o])}),e.set(\"symKey\",t.symKey),t.expiryTimestamp&&e.set(\"expiryTimestamp\",t.expiryTimestamp.toString()),t.methods&&e.set(\"methods\",t.methods.join(\",\"));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Xc(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Jc=Object.defineProperty,Qc=Object.defineProperties,ta=Object.getOwnPropertyDescriptors,fo=Object.getOwnPropertySymbols,ea=Object.prototype.hasOwnProperty,na=Object.prototype.propertyIsEnumerable,lo=(t,e,n)=>e in t?Jc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ra=(t,e)=>{for(var n in e||(e={}))ea.call(e,n)&&lo(t,n,e[n]);if(fo)for(var n of fo(e))na.call(e,n)&&lo(t,n,e[n]);return t},oa=(t,e)=>Qc(t,ta(e));function It(t){const e=[];return t.forEach(n=>{const[r,o]=n.split(\":\");e.push(`${r}:${o}`)}),e}function ho(t){const e=[];return Object.values(t).forEach(n=>{e.push(...It(n.accounts))}),e}function po(t,e){const n=[];return Object.values(t).forEach(r=>{It(r.accounts).includes(e)&&n.push(...r.methods)}),n}function go(t,e){const n=[];return Object.values(t).forEach(r=>{It(r.accounts).includes(e)&&n.push(...r.events)}),n}function ia(t,e){const n=Bo(t,e);if(n)throw new Error(n.message);const r={};for(const[o,i]of Object.entries(t))r[o]={methods:i.methods,events:i.events,chains:i.accounts.map(s=>`${s.split(\":\")[0]}:${s.split(\":\")[1]}`)};return r}function sa(t){const{proposal:{requiredNamespaces:e,optionalNamespaces:n={}},supportedNamespaces:r}=t,o=yn(e),i=yn(n),s={};Object.keys(r).forEach(u=>{const l=r[u].chains,f=r[u].methods,h=r[u].events,y=r[u].accounts;l.forEach(E=>{if(!y.some(p=>p.includes(E)))throw new Error(`No accounts provided for chain ${E} in namespace ${u}`)}),s[u]={chains:l,methods:f,events:h,accounts:y}});const c=No(e,s,\"approve()\");if(c)throw new Error(c.message);const a={};return!Object.keys(e).length&&!Object.keys(n).length?s:(Object.keys(o).forEach(u=>{const l=r[u].chains.filter(E=>{var p,d;return(d=(p=o[u])==null?void 0:p.chains)==null?void 0:d.includes(E)}),f=r[u].methods.filter(E=>{var p,d;return(d=(p=o[u])==null?void 0:p.methods)==null?void 0:d.includes(E)}),h=r[u].events.filter(E=>{var p,d;return(d=(p=o[u])==null?void 0:p.events)==null?void 0:d.includes(E)}),y=l.map(E=>r[u].accounts.filter(p=>p.includes(`${E}:`))).flat();a[u]={chains:l,methods:f,events:h,accounts:y}}),Object.keys(i).forEach(u=>{var l,f,h,y,E,p;if(!r[u])return;const d=(f=(l=i[u])==null?void 0:l.chains)==null?void 0:f.filter(N=>r[u].chains.includes(N)),v=r[u].methods.filter(N=>{var $,B;return(B=($=i[u])==null?void 0:$.methods)==null?void 0:B.includes(N)}),m=r[u].events.filter(N=>{var $,B;return(B=($=i[u])==null?void 0:$.events)==null?void 0:B.includes(N)}),O=d?.map(N=>r[u].accounts.filter($=>$.includes(`${N}:`))).flat();a[u]={chains:at((h=a[u])==null?void 0:h.chains,d),methods:at((y=a[u])==null?void 0:y.methods,v),events:at((E=a[u])==null?void 0:E.events,m),accounts:at((p=a[u])==null?void 0:p.accounts,O)}}),a)}function gn(t){return t.includes(\":\")}function yo(t){return gn(t)?t.split(\":\")[0]:t}function yn(t){var e,n,r;const o={};if(!xe(t))return o;for(const[i,s]of Object.entries(t)){const c=gn(i)?[i]:s.chains,a=s.methods||[],u=s.events||[],l=yo(i);o[l]=oa(ra({},o[l]),{chains:at(c,(e=o[l])==null?void 0:e.chains),methods:at(a,(n=o[l])==null?void 0:n.methods),events:at(u,(r=o[l])==null?void 0:r.events)})}return o}function mo(t){const e={};return t?.forEach(n=>{var r;const[o,i]=n.split(\":\");e[o]||(e[o]={accounts:[],chains:[],events:[],methods:[]}),e[o].accounts.push(n),(r=e[o].chains)==null||r.push(`${o}:${i}`)}),e}function ca(t,e){e=e.map(r=>r.replace(\"did:pkh:\",\"\"));const n=mo(e);for(const[r,o]of Object.entries(n))o.methods?o.methods=at(o.methods,t):o.methods=t,o.events=[\"chainChanged\",\"accountsChanged\"];return n}const wo={INVALID_METHOD:{message:\"Invalid method.\",code:1001},INVALID_EVENT:{message:\"Invalid event.\",code:1002},INVALID_UPDATE_REQUEST:{message:\"Invalid update request.\",code:1003},INVALID_EXTEND_REQUEST:{message:\"Invalid extend request.\",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:\"Invalid session settle request.\",code:1005},UNAUTHORIZED_METHOD:{message:\"Unauthorized method.\",code:3001},UNAUTHORIZED_EVENT:{message:\"Unauthorized event.\",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:\"Unauthorized update request.\",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:\"Unauthorized extend request.\",code:3004},USER_REJECTED:{message:\"User rejected.\",code:5e3},USER_REJECTED_CHAINS:{message:\"User rejected chains.\",code:5001},USER_REJECTED_METHODS:{message:\"User rejected methods.\",code:5002},USER_REJECTED_EVENTS:{message:\"User rejected events.\",code:5003},UNSUPPORTED_CHAINS:{message:\"Unsupported chains.\",code:5100},UNSUPPORTED_METHODS:{message:\"Unsupported methods.\",code:5101},UNSUPPORTED_EVENTS:{message:\"Unsupported events.\",code:5102},UNSUPPORTED_ACCOUNTS:{message:\"Unsupported accounts.\",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:\"Unsupported namespace key.\",code:5104},USER_DISCONNECTED:{message:\"User disconnected.\",code:6e3},SESSION_SETTLEMENT_FAILED:{message:\"Session settlement failed.\",code:7e3},WC_METHOD_UNSUPPORTED:{message:\"Unsupported wc_ method.\",code:10001}},bo={NOT_INITIALIZED:{message:\"Not initialized.\",code:1},NO_MATCHING_KEY:{message:\"No matching key.\",code:2},RESTORE_WILL_OVERRIDE:{message:\"Restore will override.\",code:3},RESUBSCRIBED:{message:\"Resubscribed.\",code:4},MISSING_OR_INVALID:{message:\"Missing or invalid.\",code:5},EXPIRED:{message:\"Expired.\",code:6},UNKNOWN_TYPE:{message:\"Unknown type.\",code:7},MISMATCHED_TOPIC:{message:\"Mismatched topic.\",code:8},NON_CONFORMING_NAMESPACES:{message:\"Non conforming namespaces.\",code:9}};function ht(t,e){const{message:n,code:r}=bo[t];return{message:e?`${n} ${e}`:n,code:r}}function Nt(t,e){const{message:n,code:r}=wo[t];return{message:e?`${n} ${e}`:n,code:r}}function oe(t,e){return Array.isArray(t)?typeof e<\"u\"&&t.length?t.every(e):!0:!1}function xe(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Et(t){return typeof t>\"u\"}function nt(t,e){return e&&Et(t)?!0:typeof t==\"string\"&&!!t.trim().length}function Se(t,e){return e&&Et(t)?!0:typeof t==\"number\"&&!isNaN(t)}function aa(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),o=Object.keys(n);let i=!0;return gt(o,r)?(r.forEach(s=>{const{accounts:c,methods:a,events:u}=t.namespaces[s],l=It(c),f=n[s];(!gt(ce(s,f),l)||!gt(f.methods,a)||!gt(f.events,u))&&(i=!1)}),i):!1}function ie(t){return nt(t,!1)&&t.includes(\":\")?t.split(\":\").length===2:!1}function Eo(t){if(nt(t,!1)&&t.includes(\":\")){const e=t.split(\":\");if(e.length===3){const n=e[0]+\":\"+e[1];return!!e[2]&&ie(n)}}return!1}function ua(t){function e(n){try{return typeof new URL(n)<\"u\"}catch{return!1}}try{if(nt(t,!1)){if(e(t))return!0;const n=Le(t);return e(n)}}catch{}return!1}function fa(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function la(t){return t?.topic}function da(t,e){let n=null;return nt(t?.publicKey,!1)||(n=ht(\"MISSING_OR_INVALID\",`${e} controller public key should be a string`)),n}function mn(t){let e=!0;return oe(t)?t.length&&(e=t.every(n=>nt(n,!1))):e=!1,e}function vo(t,e,n){let r=null;return oe(e)&&e.length?e.forEach(o=>{r||ie(o)||(r=Nt(\"UNSUPPORTED_CHAINS\",`${n}, chain ${o} should be a string and conform to \"namespace:chainId\" format`))}):ie(t)||(r=Nt(\"UNSUPPORTED_CHAINS\",`${n}, chains must be defined as \"namespace:chainId\" e.g. \"eip155:1\": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: [\"eip155:1\", \"eip155:5\"] }`)),r}function xo(t,e,n){let r=null;return Object.entries(t).forEach(([o,i])=>{if(r)return;const s=vo(o,ce(o,i),`${e} ${n}`);s&&(r=s)}),r}function So(t,e){let n=null;return oe(t)?t.forEach(r=>{n||Eo(r)||(n=Nt(\"UNSUPPORTED_ACCOUNTS\",`${e}, account ${r} should be a string and conform to \"namespace:chainId:address\" format`))}):n=Nt(\"UNSUPPORTED_ACCOUNTS\",`${e}, accounts should be an array of strings conforming to \"namespace:chainId:address\" format`),n}function Oo(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=So(r?.accounts,`${e} namespace`);o&&(n=o)}),n}function Ao(t,e){let n=null;return mn(t?.methods)?mn(t?.events)||(n=Nt(\"UNSUPPORTED_EVENTS\",`${e}, events should be an array of strings or empty array for no events`)):n=Nt(\"UNSUPPORTED_METHODS\",`${e}, methods should be an array of strings or empty array for no methods`),n}function wn(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=Ao(r,`${e}, namespace`);o&&(n=o)}),n}function ha(t,e,n){let r=null;if(t&&xe(t)){const o=wn(t,e);o&&(r=o);const i=xo(t,e,n);i&&(r=i)}else r=ht(\"MISSING_OR_INVALID\",`${e}, ${n} should be an object with data`);return r}function Bo(t,e){let n=null;if(t&&xe(t)){const r=wn(t,e);r&&(n=r);const o=Oo(t,e);o&&(n=o)}else n=ht(\"MISSING_OR_INVALID\",`${e}, namespaces should be an object with data`);return n}function Io(t){return nt(t.protocol,!0)}function pa(t,e){let n=!1;return e&&!t?n=!0:t&&oe(t)&&t.length&&t.forEach(r=>{n=Io(r)}),n}function ga(t){return typeof t==\"number\"}function ya(t){return typeof t<\"u\"&&typeof t!==null}function ma(t){return!(!t||typeof t!=\"object\"||!t.code||!Se(t.code,!1)||!t.message||!nt(t.message,!1))}function wa(t){return!(Et(t)||!nt(t.method,!1))}function ba(t){return!(Et(t)||Et(t.result)&&Et(t.error)||!Se(t.id,!1)||!nt(t.jsonrpc,!1))}function Ea(t){return!(Et(t)||!nt(t.name,!1))}function va(t,e){return!(!ie(e)||!ho(t).includes(e))}function xa(t,e,n){return nt(n,!1)?po(t,e).includes(n):!1}function Sa(t,e,n){return nt(n,!1)?go(t,e).includes(n):!1}function No(t,e,n){let r=null;const o=Oa(t),i=Aa(e),s=Object.keys(o),c=Object.keys(i),a=Uo(Object.keys(t)),u=Uo(Object.keys(e)),l=a.filter(f=>!u.includes(f));return l.length&&(r=ht(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${l.toString()}\n      Received: ${Object.keys(e).toString()}`)),gt(s,c)||(r=ht(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${s.toString()}\n      Approved: ${c.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(\":\")||r)return;const h=It(e[f].accounts);h.includes(f)||(r=ht(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces accounts don't satisfy namespace accounts for ${f}\n        Required: ${f}\n        Approved: ${h.toString()}`))}),s.forEach(f=>{r||(gt(o[f].methods,i[f].methods)?gt(o[f].events,i[f].events)||(r=ht(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=ht(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function Oa(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(\":\")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(o=>{e[o]={methods:t[n].methods,events:t[n].events}})}),e}function Uo(t){return[...new Set(t.map(e=>e.includes(\":\")?e.split(\":\")[0]:e))]}function Aa(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(\":\"))e[n]=t[n];else{const r=It(t[n].accounts);r?.forEach(o=>{e[o]={accounts:t[n].accounts.filter(i=>i.includes(`${o}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Ba(t,e){return Se(t,!1)&&t<=e.max&&t>=e.min}function Ia(){const t=xt();return new Promise(e=>{switch(t){case Y.browser:e(To());break;case Y.reactNative:e(Ro());break;case Y.node:e(_o());break;default:e(!0)}})}function To(){return Yt()&&navigator?.onLine}async function Ro(){if(pt()&&typeof global<\"u\"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t?.isConnected}return!0}function _o(){return!0}function Na(t){switch(xt()){case Y.browser:$o(t);break;case Y.reactNative:Lo(t);break;case Y.node:break}}function $o(t){!pt()&&Yt()&&(window.addEventListener(\"online\",()=>t(!0)),window.addEventListener(\"offline\",()=>t(!1)))}function Lo(t){pt()&&typeof global<\"u\"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}const bn={};class Ua{static get(e){return bn[e]}static set(e,n){bn[e]=n}static delete(e){delete bn[e]}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK2hCLGFBQWEsZUFBZSx1QkFBdUIsT0FBTyx5QkFBeUIsZUFBZSxNQUFNLHdCQUF3QixHQUFHLHFCQUFxQixlQUFlLHlCQUF5QixPQUFPLG1DQUFtQyxlQUFlLE1BQU0sa0NBQWtDLEdBQUcsdUJBQXVCLGlCQUFpQixXQUFXLHFCQUFxQixhQUFhLHlCQUF5QixJQUFJLGVBQWUsTUFBTSxVQUFVLE9BQU8sU0FBUyxlQUFlLE1BQU0sd0JBQXdCLE9BQU8sV0FBVyx3QkFBd0IsRUFBRSxpQkFBaUIsTUFBTSx3QkFBd0IsT0FBTyxXQUFXLGtDQUFrQyxFQUFFLGVBQWUsZ0JBQWdCLGVBQWUsZ0JBQWdCLG9CQUFvQixXQUFXLGtDQUFrQyxtQ0FBbUMsYUFBYSxzQkFBc0IsSUFBSSxvQkFBb0IsV0FBVyxrQ0FBa0MsbUNBQW1DLGFBQWEsMEJBQTBCLElBQUksb0JBQW9CLFdBQVcsa0NBQWtDLG1DQUFtQyxhQUFhLG1CQUFtQixJQUFJLGlCQUFpQix3Q0FBd0MsbU9BQW1PLGtEQUFrRCxvQkFBb0IscUJBQXFCLDZCQUE2QixvREFBb0QsU0FBUyx1QkFBdUIsMEJBQTBCLDJFQUEyRSwwQ0FBMEMsY0FBYyx5RkFBeUYsY0FBYyxPQUFPLDBFQUFFLE1BQU0sMkVBQUUsMkJBQTJCLGNBQWMsc0lBQXNJLGNBQWMsa0lBQWtJLGNBQWMsZUFBZSwyRUFBRSxNQUFNLDBF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TSwrQ0FBK0MsRUFBRSw4Q0FBOEMsR0FBRyxJQUFJLGlCQUFpQixvQ0FBb0MsY0FBYyxhQUFhLHVCQUF1QixVQUFVLHVCQUF1QixNQUFNLDJCQUEyQixNQUFNLG9CQUFvQixNQUFNLGVBQWUsRUFBRSxjQUFjLCtCQUErQixvQkFBb0IsMERBQTBELDBEQUEwRCxzQkFBc0IsU0FBUyxjQUFjLFNBQVMsZUFBZSxhQUFhLHFCQUFxQixNQUFNLHlCQUF5QixNQUFNLG1CQUFtQixlQUFlLHdHQUF3RyxlQUFlLDhHQUE4RyxZQUFZLFNBQVMsY0FBYyxhQUFhLGdCQUFnQixRQUFRLGlCQUFpQixjQUF5N0k7QUFDL21NIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e2RldGVjdCBhcyBqb31mcm9tXCJkZXRlY3QtYnJvd3NlclwiO2ltcG9ydHt0b01pbGlzZWNvbmRzIGFzIEFlLEZJVkVfTUlOVVRFUyBhcyB4bixmcm9tTWlsaXNlY29uZHMgYXMgQ299ZnJvbVwiQHdhbGxldGNvbm5lY3QvdGltZVwiO2ltcG9ydHtnZXREb2N1bWVudCBhcyBCZSxnZXROYXZpZ2F0b3IgYXMgU24sZ2V0TG9jYXRpb24gYXMgT259ZnJvbVwiQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnNcIjtpbXBvcnR7Z2V0V2luZG93TWV0YWRhdGEgYXMgUG99ZnJvbVwiQHdhbGxldGNvbm5lY3Qvd2luZG93LW1ldGFkYXRhXCI7aW1wb3J0e3JlY292ZXJBZGRyZXNzIGFzIGtvfWZyb21cInZpZW1cIjtpbXBvcnQgVm8gZnJvbVwiYnM1OFwiO2ltcG9ydHtkZWNvZGVKV1QgYXMgTW99ZnJvbVwiQHdhbGxldGNvbm5lY3QvcmVsYXktYXV0aFwiO2ltcG9ydHt0b1N0cmluZyBhcyBRLGZyb21TdHJpbmcgYXMgcnQsY29uY2F0IGFzIFp0fWZyb21cInVpbnQ4YXJyYXlzXCI7aW1wb3J0e1JFTEFZX0pTT05SUEMgYXMgRG99ZnJvbVwiQHdhbGxldGNvbm5lY3QvcmVsYXktYXBpXCI7Y29uc3Qgc2U9XCI6XCI7ZnVuY3Rpb24gSWUodCl7Y29uc3RbZSxuXT10LnNwbGl0KHNlKTtyZXR1cm57bmFtZXNwYWNlOmUscmVmZXJlbmNlOm59fWZ1bmN0aW9uIEFuKHQpe2NvbnN0e25hbWVzcGFjZTplLHJlZmVyZW5jZTpufT10O3JldHVybltlLG5dLmpvaW4oc2UpfWZ1bmN0aW9uIE5lKHQpe2NvbnN0W2UsbixyXT10LnNwbGl0KHNlKTtyZXR1cm57bmFtZXNwYWNlOmUscmVmZXJlbmNlOm4sYWRkcmVzczpyfX1mdW5jdGlvbiBCbih0KXtjb25zdHtuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bixhZGRyZXNzOnJ9PXQ7cmV0dXJuW2UsbixyXS5qb2luKHNlKX1mdW5jdGlvbiBVZSh0LGUpe2NvbnN0IG49W107cmV0dXJuIHQuZm9yRWFjaChyPT57Y29uc3Qgbz1lKHIpO24uaW5jbHVkZXMobyl8fG4ucHVzaChvKX0pLG59ZnVuY3Rpb24gSW4odCl7Y29uc3R7YWRkcmVzczplfT1OZSh0KTtyZXR1cm4gZX1mdW5jdGlvbiBObih0KXtjb25zdHtuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bn09TmUodCk7cmV0dXJuIEFuKHtuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bn0pfWZ1bmN0aW9uIEhvKHQsZSl7Y29uc3R7bmFtZXNwYWNlOm4scmVmZXJlbmNlOnJ9PUllKGUpO3JldHVybiBCbih7bmFtZXNwYWNlOm4scmVmZXJlbmNlOnIsYWRkcmVzczp0fSl9ZnVuY3Rpb24gcW8odCl7cmV0dXJuIFVlKHQsSW4pfWZ1bmN0aW9uIFVuKHQpe3JldHVybiBVZSh0LE5uKX1mdW5jdGlvbiBLbyh0LGU9W10pe2NvbnN0IG49W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gocj0+e2lmKGUubGVuZ3RoJiYhZS5pbmNsdWRlcyhyKSlyZXR1cm47Y29uc3Qgbz10W3JdO24ucHVzaCguLi5vLmFjY291bnRzKX0pLG59ZnVuY3Rpb24gRm8odCxlPVtdKXtjb25zdCBuPVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKHI9PntpZihlLmxlbmd0aCYmIWUuaW5jbHVkZXMocikpcmV0dXJuO2NvbnN0IG89dFtyXTtuLnB1c2goLi4uVW4oby5hY2NvdW50cykpfSksbn1mdW5jdGlvbiB6byh0LGU9W10pe2NvbnN0IG49W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gocj0+e2lmKGUubGVuZ3RoJiYhZS5pbmNsdWRlcyhyKSlyZXR1cm47Y29uc3Qgbz10W3JdO24ucHVzaCguLi5jZShyLG8pKX0pLG59ZnVuY3Rpb24gY2UodCxlKXtyZXR1cm4gdC5pbmNsdWRlcyhcIjpcIik/W3RdOmUuY2hhaW5zfHxbXX12YXIgWm89T2JqZWN0LmRlZmluZVByb3BlcnR5LFlvPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLEdvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLFRuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsV289T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxYbz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFJuPSh0LGUsbik9PmUgaW4gdD9abyh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm59KTp0W2VdPW4sX249KHQsZSk9Pntmb3IodmFyIG4gaW4gZXx8KGU9e30pKVdvLmNhbGwoZSxuKSYmUm4odCxuLGVbbl0pO2lmKFRuKWZvcih2YXIgbiBvZiBUbihlKSlYby5jYWxsKGUsbikmJlJuKHQsbixlW25dKTtyZXR1cm4gdH0sSm89KHQsZSk9PllvKHQsR28oZSkpO2NvbnN0ICRuPVwiUmVhY3ROYXRpdmVcIixZPXtyZWFjdE5hdGl2ZTpcInJlYWN0LW5hdGl2ZVwiLG5vZGU6XCJub2RlXCIsYnJvd3NlcjpcImJyb3dzZXJcIix1bmtub3duOlwidW5rbm93blwifSxhZT1cIiBcIixRbz1cIjpcIixMbj1cIi9cIixUZT0yLHRpPTFlMyxqbj1cImpzXCI7ZnVuY3Rpb24gUmUoKXtyZXR1cm4gdHlwZW9mIHByb2Nlc3M8XCJ1XCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zPFwidVwiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlPFwidVwifWZ1bmN0aW9uIHB0KCl7cmV0dXJuIUJlKCkmJiEhU24oKSYmbmF2aWdhdG9yLnByb2R1Y3Q9PT0kbn1mdW5jdGlvbiBlaSgpe3JldHVybiBwdCgpJiZ0eXBlb2YgZ2xvYmFsPFwidVwiJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuUGxhdGZvcm0pPFwidVwiJiYoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuUGxhdGZvcm0uT1MpPT09XCJhbmRyb2lkXCJ9ZnVuY3Rpb24gbmkoKXtyZXR1cm4gcHQoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLlBsYXRmb3JtKTxcInVcIiYmKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLlBsYXRmb3JtLk9TKT09PVwiaW9zXCJ9ZnVuY3Rpb24gWXQoKXtyZXR1cm4hUmUoKSYmISFTbigpJiYhIUJlKCl9ZnVuY3Rpb24geHQoKXtyZXR1cm4gcHQoKT9ZLnJlYWN0TmF0aXZlOlJlKCk/WS5ub2RlOll0KCk/WS5icm93c2VyOlkudW5rbm93bn1mdW5jdGlvbiByaSgpe3ZhciB0O3RyeXtyZXR1cm4gcHQoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkFwcGxpY2F0aW9uKTxcInVcIj8odD1nbG9iYWwuQXBwbGljYXRpb24pPT1udWxsP3ZvaWQgMDp0LmFwcGxpY2F0aW9uSWQ6dm9pZCAwfWNhdGNoe3JldHVybn19ZnVuY3Rpb24gQ24odCxlKXtjb25zdCBuPW5ldyBVUkxTZWFyY2hQYXJhbXModCk7Zm9yKGNvbnN0IHIgb2YgT2JqZWN0LmtleXMoZSkuc29ydCgpKWlmKGUuaGFzT3duUHJvcGVydHkocikpe2NvbnN0IG89ZVtyXTtvIT09dm9pZCAwJiZuLnNldChyLG8pfXJldHVybiBuLnRvU3RyaW5nKCl9ZnVuY3Rpb24gb2kodCl7dmFyIGUsbjtjb25zdCByPVBuKCk7dHJ5e3JldHVybiB0IT1udWxsJiZ0LnVybCYmci51cmwmJnQudXJsIT09ci51cmwmJihjb25zb2xlLndhcm4oYFRoZSBjb25maWd1cmVkIFdhbGxldENvbm5lY3QgJ21ldGFkYXRhLnVybCc6JHt0LnVybH0gZGlmZmVycyBmcm9tIHRoZSBhY3R1YWwgcGFnZSB1cmw6JHtyLnVybH0uIFRoaXMgaXMgcHJvYmFibHkgdW5pbnRlbmRlZCBhbmQgY2FuIGxlYWQgdG8gaXNzdWVzLmApLHQudXJsPXIudXJsKSwoZT10Py5pY29ucykhPW51bGwmJmUubGVuZ3RoJiZ0Lmljb25zLmxlbmd0aD4wJiYodC5pY29ucz10Lmljb25zLmZpbHRlcihvPT5vIT09XCJcIikpLEpvKF9uKF9uKHt9LHIpLHQpLHt1cmw6dD8udXJsfHxyLnVybCxuYW1lOnQ/Lm5hbWV8fHIubmFtZSxkZXNjcmlwdGlvbjp0Py5kZXNjcmlwdGlvbnx8ci5kZXNjcmlwdGlvbixpY29uczoobj10Py5pY29ucykhPW51bGwmJm4ubGVuZ3RoJiZ0Lmljb25zLmxlbmd0aD4wP3QuaWNvbnM6ci5pY29uc30pfWNhdGNoKG8pe3JldHVybiBjb25zb2xlLndhcm4oXCJFcnJvciBwb3B1bGF0aW5nIGFwcCBtZXRhZGF0YVwiLG8pLHR8fHJ9fWZ1bmN0aW9uIFBuKCl7cmV0dXJuIFBvKCl8fHtuYW1lOlwiXCIsZGVzY3JpcHRpb246XCJcIix1cmw6XCJcIixpY29uczpbXCJcIl19fWZ1bmN0aW9uIGlpKHQsZSl7dmFyIG47Y29uc3Qgcj14dCgpLG89e3Byb3RvY29sOnQsdmVyc2lvbjplLGVudjpyfTtyZXR1cm4gcj09PVwiYnJvd3NlclwiJiYoby5ob3N0PSgobj1PbigpKT09bnVsbD92b2lkIDA6bi5ob3N0KXx8XCJ1bmtub3duXCIpLG99ZnVuY3Rpb24ga24oKXtpZih4dCgpPT09WS5yZWFjdE5hdGl2ZSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLlBsYXRmb3JtKTxcInVcIil7Y29uc3R7T1M6bixWZXJzaW9uOnJ9PWdsb2JhbC5QbGF0Zm9ybTtyZXR1cm5bbixyXS5qb2luKFwiLVwiKX1jb25zdCB0PWpvKCk7aWYodD09PW51bGwpcmV0dXJuXCJ1bmtub3duXCI7Y29uc3QgZT10Lm9zP3Qub3MucmVwbGFjZShcIiBcIixcIlwiKS50b0xvd2VyQ2FzZSgpOlwidW5rbm93blwiO3JldHVybiB0LnR5cGU9PT1cImJyb3dzZXJcIj9bZSx0Lm5hbWUsdC52ZXJzaW9uXS5qb2luKFwiLVwiKTpbZSx0LnZlcnNpb25dLmpvaW4oXCItXCIpfWZ1bmN0aW9uIFZuKCl7dmFyIHQ7Y29uc3QgZT14dCgpO3JldHVybiBlPT09WS5icm93c2VyP1tlLCgodD1PbigpKT09bnVsbD92b2lkIDA6dC5ob3N0KXx8XCJ1bmtub3duXCJdLmpvaW4oXCI6XCIpOmV9ZnVuY3Rpb24gTW4odCxlLG4pe2NvbnN0IHI9a24oKSxvPVZuKCk7cmV0dXJuW1t0LGVdLmpvaW4oXCItXCIpLFtqbixuXS5qb2luKFwiLVwiKSxyLG9dLmpvaW4oXCIvXCIpfWZ1bmN0aW9uIHNpKHtwcm90b2NvbDp0LHZlcnNpb246ZSxyZWxheVVybDpuLHNka1ZlcnNpb246cixhdXRoOm8scHJvamVjdElkOmksdXNlT25DbG9zZUV2ZW50OnMsYnVuZGxlSWQ6YyxwYWNrYWdlTmFtZTphfSl7Y29uc3QgdT1uLnNwbGl0KFwiP1wiKSxsPU1uKHQsZSxyKSxmPXthdXRoOm8sdWE6bCxwcm9qZWN0SWQ6aSx1c2VPbkNsb3NlRXZlbnQ6c3x8dm9pZCAwLHBhY2thZ2VOYW1lOmF8fHZvaWQgMCxidW5kbGVJZDpjfHx2b2lkIDB9LGg9Q24odVsxXXx8XCJcIixmKTtyZXR1cm4gdVswXStcIj9cIitofWZ1bmN0aW9uIGNpKHQpe2xldCBlPSh0Lm1hdGNoKC9eW146XSsoPz06XFwvXFwvKS9naSl8fFtdKVswXTtjb25zdCBuPXR5cGVvZiBlPFwidVwiP3Quc3BsaXQoXCI6Ly9cIilbMV06dDtyZXR1cm4gZT1lPT09XCJ3c3NcIj9cImh0dHBzXCI6XCJodHRwXCIsW2Usbl0uam9pbihcIjovL1wiKX1mdW5jdGlvbiBhaSh0LGUsbil7aWYoIXRbZV18fHR5cGVvZiB0W2VdIT09bil0aHJvdyBuZXcgRXJyb3IoYE1pc3Npbmcgb3IgaW52YWxpZCBcIiR7ZX1cIiBwYXJhbWApfWZ1bmN0aW9uIERuKHQsZT1UZSl7cmV0dXJuIEhuKHQuc3BsaXQoTG4pLGUpfWZ1bmN0aW9uIHVpKHQpe3JldHVybiBEbih0KS5qb2luKGFlKX1mdW5jdGlvbiBndCh0LGUpe3JldHVybiB0LmZpbHRlcihuPT5lLmluY2x1ZGVzKG4pKS5sZW5ndGg9PT10Lmxlbmd0aH1mdW5jdGlvbiBIbih0LGU9VGUpe3JldHVybiB0LnNsaWNlKE1hdGgubWF4KHQubGVuZ3RoLWUsMCkpfWZ1bmN0aW9uIGZpKHQpe3JldHVybiBPYmplY3QuZnJvbUVudHJpZXModC5lbnRyaWVzKCkpfWZ1bmN0aW9uIGxpKHQpe3JldHVybiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHQpKX1mdW5jdGlvbiBkaSh0LGUpe2NvbnN0IG49e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gocj0+e25bcl09ZSh0W3JdKX0pLG59Y29uc3QgaGk9dD0+dDtmdW5jdGlvbiBxbih0KXtyZXR1cm4gdC50cmltKCkucmVwbGFjZSgvXlxcdy8sZT0+ZS50b1VwcGVyQ2FzZSgpKX1mdW5jdGlvbiBwaSh0KXtyZXR1cm4gdC5zcGxpdChhZSkubWFwKGU9PnFuKGUpKS5qb2luKGFlKX1mdW5jdGlvbiBnaSh0PXhuLGUpe2NvbnN0IG49QWUodHx8eG4pO2xldCByLG8saSxzO3JldHVybntyZXNvbHZlOmM9PntpJiZyJiYoY2xlYXJUaW1lb3V0KGkpLHIoYykscz1Qcm9taXNlLnJlc29sdmUoYykpfSxyZWplY3Q6Yz0+e2kmJm8mJihjbGVhclRpbWVvdXQoaSksbyhjKSl9LGRvbmU6KCk9Pm5ldyBQcm9taXNlKChjLGEpPT57aWYocylyZXR1cm4gYyhzKTtpPXNldFRpbWVvdXQoKCk9Pntjb25zdCB1PW5ldyBFcnJvcihlKTtzPVByb21pc2UucmVqZWN0KHUpLGEodSl9LG4pLHI9YyxvPWF9KX19ZnVuY3Rpb24geWkodCxlLG4pe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhyLG8pPT57Y29uc3QgaT1zZXRUaW1lb3V0KCgpPT5vKG5ldyBFcnJvcihuKSksZSk7dHJ5e2NvbnN0IHM9YXdhaXQgdDtyKHMpfWNhdGNoKHMpe28ocyl9Y2xlYXJUaW1lb3V0KGkpfSl9ZnVuY3Rpb24gX2UodCxlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIiYmZS5zdGFydHNXaXRoKGAke3R9OmApKXJldHVybiBlO2lmKHQudG9Mb3dlckNhc2UoKT09PVwidG9waWNcIil7aWYodHlwZW9mIGUhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSBtdXN0IGJlIFwic3RyaW5nXCIgZm9yIGV4cGlyZXIgdGFyZ2V0IHR5cGU6IHRvcGljJyk7cmV0dXJuYHRvcGljOiR7ZX1gfWVsc2UgaWYodC50b0xvd2VyQ2FzZSgpPT09XCJpZFwiKXtpZih0eXBlb2YgZSE9XCJudW1iZXJcIil0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIG11c3QgYmUgXCJudW1iZXJcIiBmb3IgZXhwaXJlciB0YXJnZXQgdHlwZTogaWQnKTtyZXR1cm5gaWQ6JHtlfWB9dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGV4cGlyZXIgdGFyZ2V0IHR5cGU6ICR7dH1gKX1mdW5jdGlvbiBtaSh0KXtyZXR1cm4gX2UoXCJ0b3BpY1wiLHQpfWZ1bmN0aW9uIHdpKHQpe3JldHVybiBfZShcImlkXCIsdCl9ZnVuY3Rpb24gYmkodCl7Y29uc3RbZSxuXT10LnNwbGl0KFwiOlwiKSxyPXtpZDp2b2lkIDAsdG9waWM6dm9pZCAwfTtpZihlPT09XCJ0b3BpY1wiJiZ0eXBlb2Ygbj09XCJzdHJpbmdcIilyLnRvcGljPW47ZWxzZSBpZihlPT09XCJpZFwiJiZOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcihuKSkpci5pZD1OdW1iZXIobik7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGFyZ2V0LCBleHBlY3RlZCBpZDpudW1iZXIgb3IgdG9waWM6c3RyaW5nLCBnb3QgJHtlfToke259YCk7cmV0dXJuIHJ9ZnVuY3Rpb24gRWkodCxlKXtyZXR1cm4gQ28oKGV8fERhdGUubm93KCkpK0FlKHQpKX1mdW5jdGlvbiB2aSh0KXtyZXR1cm4gRGF0ZS5ub3coKT49QWUodCl9ZnVuY3Rpb24geGkodCxlKXtyZXR1cm5gJHt0fSR7ZT9gOiR7ZX1gOlwiXCJ9YH1mdW5jdGlvbiBhdCh0PVtdLGU9W10pe3JldHVyblsuLi5uZXcgU2V0KFsuLi50LC4uLmVdKV19YXN5bmMgZnVuY3Rpb24gU2koe2lkOnQsdG9waWM6ZSx3Y0RlZXBMaW5rOm59KXt2YXIgcjt0cnl7aWYoIW4pcmV0dXJuO2NvbnN0IG89dHlwZW9mIG49PVwic3RyaW5nXCI/SlNPTi5wYXJzZShuKTpuLGk9bz8uaHJlZjtpZih0eXBlb2YgaSE9XCJzdHJpbmdcIilyZXR1cm47Y29uc3Qgcz1LbihpLHQsZSksYz14dCgpO2lmKGM9PT1ZLmJyb3dzZXIpe2lmKCEoKHI9QmUoKSkhPW51bGwmJnIuaGFzRm9jdXMoKSkpe2NvbnNvbGUud2FybihcIkRvY3VtZW50IGRvZXMgbm90IGhhdmUgZm9jdXMsIHNraXBwaW5nIGRlZXBsaW5rLlwiKTtyZXR1cm59Rm4ocyl9ZWxzZSBjPT09WS5yZWFjdE5hdGl2ZSYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkxpbmtpbmcpPFwidVwiJiZhd2FpdCBnbG9iYWwuTGlua2luZy5vcGVuVVJMKHMpfWNhdGNoKG8pe2NvbnNvbGUuZXJyb3Iobyl9fWZ1bmN0aW9uIEtuKHQsZSxuKXtjb25zdCByPWByZXF1ZXN0SWQ9JHtlfSZzZXNzaW9uVG9waWM9JHtufWA7dC5lbmRzV2l0aChcIi9cIikmJih0PXQuc2xpY2UoMCwtMSkpO2xldCBvPWAke3R9YDtpZih0LnN0YXJ0c1dpdGgoXCJodHRwczovL3QubWVcIikpe2NvbnN0IGk9dC5pbmNsdWRlcyhcIj9cIik/XCImc3RhcnRhcHA9XCI6XCI/c3RhcnRhcHA9XCI7bz1gJHtvfSR7aX0ke1luKHIsITApfWB9ZWxzZSBvPWAke299L3djPyR7cn1gO3JldHVybiBvfWZ1bmN0aW9uIEZuKHQpe2xldCBlPVwiX3NlbGZcIjtabigpP2U9XCJfdG9wXCI6KHpuKCl8fHQuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpfHx0LnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpKSYmKGU9XCJfYmxhbmtcIiksd2luZG93Lm9wZW4odCxlLFwibm9yZWZlcnJlciBub29wZW5lclwiKX1hc3luYyBmdW5jdGlvbiBPaSh0LGUpe2xldCBuPVwiXCI7dHJ5e2lmKFl0KCkmJihuPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpLG4pKXJldHVybiBuO249YXdhaXQgdC5nZXRJdGVtKGUpfWNhdGNoKHIpe2NvbnNvbGUuZXJyb3Iocil9cmV0dXJuIG59ZnVuY3Rpb24gJGUodCxlKXtyZXR1cm4gdC5maWx0ZXIobj0+ZS5pbmNsdWRlcyhuKSl9ZnVuY3Rpb24gQWkodCxlKXtpZighdC5pbmNsdWRlcyhlKSlyZXR1cm4gbnVsbDtjb25zdCBuPXQuc3BsaXQoLyhbJiw/LD1dKS8pLHI9bi5pbmRleE9mKGUpO3JldHVybiBuW3IrMl19ZnVuY3Rpb24gQmkoKXtyZXR1cm4gdHlwZW9mIGNyeXB0bzxcInVcIiYmY3J5cHRvIT1udWxsJiZjcnlwdG8ucmFuZG9tVVVJRD9jcnlwdG8ucmFuZG9tVVVJRCgpOlwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9ndSx0PT57Y29uc3QgZT1NYXRoLnJhbmRvbSgpKjE2fDA7cmV0dXJuKHQ9PT1cInhcIj9lOmUmM3w4KS50b1N0cmluZygxNil9KX1mdW5jdGlvbiBJaSgpe3JldHVybiB0eXBlb2YgcHJvY2VzczxcInVcIiYmcHJvY2Vzcy5lbnYuSVNfVklURVNUPT09XCJ0cnVlXCJ9ZnVuY3Rpb24gem4oKXtyZXR1cm4gdHlwZW9mIHdpbmRvdzxcInVcIiYmKCEhd2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5fHwhIXdpbmRvdy5UZWxlZ3JhbXx8ISF3aW5kb3cuVGVsZWdyYW1XZWJ2aWV3UHJveHlQcm90byl9ZnVuY3Rpb24gWm4oKXt0cnl7cmV0dXJuIHdpbmRvdy5zZWxmIT09d2luZG93LnRvcH1jYXRjaHtyZXR1cm4hMX19ZnVuY3Rpb24gWW4odCxlPSExKXtjb25zdCBuPUJ1ZmZlci5mcm9tKHQpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO3JldHVybiBlP24ucmVwbGFjZSgvWz1dL2csXCJcIik6bn1mdW5jdGlvbiBMZSh0KXtyZXR1cm4gQnVmZmVyLmZyb20odCxcImJhc2U2NFwiKS50b1N0cmluZyhcInV0Zi04XCIpfWZ1bmN0aW9uIE5pKHQpe3JldHVybiBuZXcgUHJvbWlzZShlPT5zZXRUaW1lb3V0KGUsdCkpfWZ1bmN0aW9uIEd0KHQpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcih0KXx8dDwwKXRocm93IG5ldyBFcnJvcihcInBvc2l0aXZlIGludGVnZXIgZXhwZWN0ZWQsIGdvdCBcIit0KX1mdW5jdGlvbiBVaSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fEFycmF5QnVmZmVyLmlzVmlldyh0KSYmdC5jb25zdHJ1Y3Rvci5uYW1lPT09XCJVaW50OEFycmF5XCJ9ZnVuY3Rpb24gV3QodCwuLi5lKXtpZighVWkodCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZFwiKTtpZihlLmxlbmd0aD4wJiYhZS5pbmNsdWRlcyh0Lmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCBvZiBsZW5ndGggXCIrZStcIiwgZ290IGxlbmd0aD1cIit0Lmxlbmd0aCl9ZnVuY3Rpb24gamUodCl7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cInx8dHlwZW9mIHQuY3JlYXRlIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBzaG91bGQgYmUgd3JhcHBlZCBieSB1dGlscy53cmFwQ29uc3RydWN0b3JcIik7R3QodC5vdXRwdXRMZW4pLEd0KHQuYmxvY2tMZW4pfWZ1bmN0aW9uIFR0KHQsZT0hMCl7aWYodC5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWRcIik7aWYoZSYmdC5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXCIpfWZ1bmN0aW9uIEduKHQsZSl7V3QodCk7Y29uc3Qgbj1lLm91dHB1dExlbjtpZih0Lmxlbmd0aDxuKXRocm93IG5ldyBFcnJvcihcImRpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0IFwiK24pfWNvbnN0IHVlPUJpZ0ludCgyKiozMi0xKSxXbj1CaWdJbnQoMzIpO2Z1bmN0aW9uIFRpKHQsZT0hMSl7cmV0dXJuIGU/e2g6TnVtYmVyKHQmdWUpLGw6TnVtYmVyKHQ+PlduJnVlKX06e2g6TnVtYmVyKHQ+PlduJnVlKXwwLGw6TnVtYmVyKHQmdWUpfDB9fWZ1bmN0aW9uIFJpKHQsZT0hMSl7bGV0IG49bmV3IFVpbnQzMkFycmF5KHQubGVuZ3RoKSxyPW5ldyBVaW50MzJBcnJheSh0Lmxlbmd0aCk7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDtvKyspe2NvbnN0e2g6aSxsOnN9PVRpKHRbb10sZSk7W25bb10scltvXV09W2ksc119cmV0dXJuW24scl19Y29uc3QgX2k9KHQsZSxuKT0+dDw8bnxlPj4+MzItbiwkaT0odCxlLG4pPT5lPDxufHQ+Pj4zMi1uLExpPSh0LGUsbik9PmU8PG4tMzJ8dD4+PjY0LW4samk9KHQsZSxuKT0+dDw8bi0zMnxlPj4+NjQtbixSdD10eXBlb2YgZ2xvYmFsVGhpcz09XCJvYmplY3RcIiYmXCJjcnlwdG9cImluIGdsb2JhbFRoaXM/Z2xvYmFsVGhpcy5jcnlwdG86dm9pZCAwO2Z1bmN0aW9uIENpKHQpe3JldHVybiBuZXcgVWludDMyQXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LE1hdGguZmxvb3IodC5ieXRlTGVuZ3RoLzQpKX1mdW5jdGlvbiBDZSh0KXtyZXR1cm4gbmV3IERhdGFWaWV3KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpfWZ1bmN0aW9uIHN0KHQsZSl7cmV0dXJuIHQ8PDMyLWV8dD4+PmV9Y29uc3QgWG49bmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQzMkFycmF5KFsyODc0NTQwMjBdKS5idWZmZXIpWzBdPT09Njg7ZnVuY3Rpb24gUGkodCl7cmV0dXJuIHQ8PDI0JjQyNzgxOTAwODB8dDw8OCYxNjcxMTY4MHx0Pj4+OCY2NTI4MHx0Pj4+MjQmMjU1fWZ1bmN0aW9uIEpuKHQpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09UGkodFtlXSl9ZnVuY3Rpb24ga2kodCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwidXRmOFRvQnl0ZXMgZXhwZWN0ZWQgc3RyaW5nLCBnb3QgXCIrdHlwZW9mIHQpO3JldHVybiBuZXcgVWludDhBcnJheShuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCkpfWZ1bmN0aW9uIF90KHQpe3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcIiYmKHQ9a2kodCkpLFd0KHQpLHR9ZnVuY3Rpb24gVmkoLi4udCl7bGV0IGU9MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbz10W3JdO1d0KG8pLGUrPW8ubGVuZ3RofWNvbnN0IG49bmV3IFVpbnQ4QXJyYXkoZSk7Zm9yKGxldCByPTAsbz0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBpPXRbcl07bi5zZXQoaSxvKSxvKz1pLmxlbmd0aH1yZXR1cm4gbn1jbGFzcyBQZXtjbG9uZSgpe3JldHVybiB0aGlzLl9jbG9uZUludG8oKX19ZnVuY3Rpb24gUW4odCl7Y29uc3QgZT1yPT50KCkudXBkYXRlKF90KHIpKS5kaWdlc3QoKSxuPXQoKTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPSgpPT50KCksZX1mdW5jdGlvbiAkdCh0PTMyKXtpZihSdCYmdHlwZW9mIFJ0LmdldFJhbmRvbVZhbHVlcz09XCJmdW5jdGlvblwiKXJldHVybiBSdC5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkodCkpO2lmKFJ0JiZ0eXBlb2YgUnQucmFuZG9tQnl0ZXM9PVwiZnVuY3Rpb25cIilyZXR1cm4gUnQucmFuZG9tQnl0ZXModCk7dGhyb3cgbmV3IEVycm9yKFwiY3J5cHRvLmdldFJhbmRvbVZhbHVlcyBtdXN0IGJlIGRlZmluZWRcIil9Y29uc3QgdHI9W10sZXI9W10sbnI9W10sTWk9QmlnSW50KDApLFh0PUJpZ0ludCgxKSxEaT1CaWdJbnQoMiksSGk9QmlnSW50KDcpLHFpPUJpZ0ludCgyNTYpLEtpPUJpZ0ludCgxMTMpO2ZvcihsZXQgdD0wLGU9WHQsbj0xLHI9MDt0PDI0O3QrKyl7W24scl09W3IsKDIqbiszKnIpJTVdLHRyLnB1c2goMiooNSpyK24pKSxlci5wdXNoKCh0KzEpKih0KzIpLzIlNjQpO2xldCBvPU1pO2ZvcihsZXQgaT0wO2k8NztpKyspZT0oZTw8WHReKGU+PkhpKSpLaSklcWksZSZEaSYmKG9ePVh0PDwoWHQ8PEJpZ0ludChpKSktWHQpO25yLnB1c2gobyl9Y29uc3RbRmksemldPVJpKG5yLCEwKSxycj0odCxlLG4pPT5uPjMyP0xpKHQsZSxuKTpfaSh0LGUsbiksb3I9KHQsZSxuKT0+bj4zMj9qaSh0LGUsbik6JGkodCxlLG4pO2Z1bmN0aW9uIFppKHQsZT0yNCl7Y29uc3Qgbj1uZXcgVWludDMyQXJyYXkoMTApO2ZvcihsZXQgcj0yNC1lO3I8MjQ7cisrKXtmb3IobGV0IHM9MDtzPDEwO3MrKyluW3NdPXRbc11edFtzKzEwXV50W3MrMjBdXnRbcyszMF1edFtzKzQwXTtmb3IobGV0IHM9MDtzPDEwO3MrPTIpe2NvbnN0IGM9KHMrOCklMTAsYT0ocysyKSUxMCx1PW5bYV0sbD1uW2ErMV0sZj1ycih1LGwsMSlebltjXSxoPW9yKHUsbCwxKV5uW2MrMV07Zm9yKGxldCB5PTA7eTw1MDt5Kz0xMCl0W3MreV1ePWYsdFtzK3krMV1ePWh9bGV0IG89dFsyXSxpPXRbM107Zm9yKGxldCBzPTA7czwyNDtzKyspe2NvbnN0IGM9ZXJbc10sYT1ycihvLGksYyksdT1vcihvLGksYyksbD10cltzXTtvPXRbbF0saT10W2wrMV0sdFtsXT1hLHRbbCsxXT11fWZvcihsZXQgcz0wO3M8NTA7cys9MTApe2ZvcihsZXQgYz0wO2M8MTA7YysrKW5bY109dFtzK2NdO2ZvcihsZXQgYz0wO2M8MTA7YysrKXRbcytjXV49fm5bKGMrMiklMTBdJm5bKGMrNCklMTBdfXRbMF1ePUZpW3JdLHRbMV1ePXppW3JdfW4uZmlsbCgwKX1jbGFzcyBFbiBleHRlbmRzIFBle2NvbnN0cnVjdG9yKGUsbixyLG89ITEsaT0yNCl7aWYoc3VwZXIoKSx0aGlzLmJsb2NrTGVuPWUsdGhpcy5zdWZmaXg9bix0aGlzLm91dHB1dExlbj1yLHRoaXMuZW5hYmxlWE9GPW8sdGhpcy5yb3VuZHM9aSx0aGlzLnBvcz0wLHRoaXMucG9zT3V0PTAsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMSxHdChyKSwwPj10aGlzLmJsb2NrTGVufHx0aGlzLmJsb2NrTGVuPj0yMDApdGhyb3cgbmV3IEVycm9yKFwiU2hhMyBzdXBwb3J0cyBvbmx5IGtlY2Nhay1mMTYwMCBmdW5jdGlvblwiKTt0aGlzLnN0YXRlPW5ldyBVaW50OEFycmF5KDIwMCksdGhpcy5zdGF0ZTMyPUNpKHRoaXMuc3RhdGUpfWtlY2Nhaygpe1hufHxKbih0aGlzLnN0YXRlMzIpLFppKHRoaXMuc3RhdGUzMix0aGlzLnJvdW5kcyksWG58fEpuKHRoaXMuc3RhdGUzMiksdGhpcy5wb3NPdXQ9MCx0aGlzLnBvcz0wfXVwZGF0ZShlKXtUdCh0aGlzKTtjb25zdHtibG9ja0xlbjpuLHN0YXRlOnJ9PXRoaXM7ZT1fdChlKTtjb25zdCBvPWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8bzspe2NvbnN0IHM9TWF0aC5taW4obi10aGlzLnBvcyxvLWkpO2ZvcihsZXQgYz0wO2M8cztjKyspclt0aGlzLnBvcysrXV49ZVtpKytdO3RoaXMucG9zPT09biYmdGhpcy5rZWNjYWsoKX1yZXR1cm4gdGhpc31maW5pc2goKXtpZih0aGlzLmZpbmlzaGVkKXJldHVybjt0aGlzLmZpbmlzaGVkPSEwO2NvbnN0e3N0YXRlOmUsc3VmZml4Om4scG9zOnIsYmxvY2tMZW46b309dGhpcztlW3JdXj1uLChuJjEyOCkhPT0wJiZyPT09by0xJiZ0aGlzLmtlY2NhaygpLGVbby0xXV49MTI4LHRoaXMua2VjY2FrKCl9d3JpdGVJbnRvKGUpe1R0KHRoaXMsITEpLFd0KGUpLHRoaXMuZmluaXNoKCk7Y29uc3Qgbj10aGlzLnN0YXRlLHtibG9ja0xlbjpyfT10aGlzO2ZvcihsZXQgbz0wLGk9ZS5sZW5ndGg7bzxpOyl7dGhpcy5wb3NPdXQ+PXImJnRoaXMua2VjY2FrKCk7Y29uc3Qgcz1NYXRoLm1pbihyLXRoaXMucG9zT3V0LGktbyk7ZS5zZXQobi5zdWJhcnJheSh0aGlzLnBvc091dCx0aGlzLnBvc091dCtzKSxvKSx0aGlzLnBvc091dCs9cyxvKz1zfXJldHVybiBlfXhvZkludG8oZSl7aWYoIXRoaXMuZW5hYmxlWE9GKXRocm93IG5ldyBFcnJvcihcIlhPRiBpcyBub3QgcG9zc2libGUgZm9yIHRoaXMgaW5zdGFuY2VcIik7cmV0dXJuIHRoaXMud3JpdGVJbnRvKGUpfXhvZihlKXtyZXR1cm4gR3QoZSksdGhpcy54b2ZJbnRvKG5ldyBVaW50OEFycmF5KGUpKX1kaWdlc3RJbnRvKGUpe2lmKEduKGUsdGhpcyksdGhpcy5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJkaWdlc3QoKSB3YXMgYWxyZWFkeSBjYWxsZWRcIik7cmV0dXJuIHRoaXMud3JpdGVJbnRvKGUpLHRoaXMuZGVzdHJveSgpLGV9ZGlnZXN0KCl7cmV0dXJuIHRoaXMuZGlnZXN0SW50byhuZXcgVWludDhBcnJheSh0aGlzLm91dHB1dExlbikpfWRlc3Ryb3koKXt0aGlzLmRlc3Ryb3llZD0hMCx0aGlzLnN0YXRlLmZpbGwoMCl9X2Nsb25lSW50byhlKXtjb25zdHtibG9ja0xlbjpuLHN1ZmZpeDpyLG91dHB1dExlbjpvLHJvdW5kczppLGVuYWJsZVhPRjpzfT10aGlzO3JldHVybiBlfHwoZT1uZXcgRW4obixyLG8scyxpKSksZS5zdGF0ZTMyLnNldCh0aGlzLnN0YXRlMzIpLGUucG9zPXRoaXMucG9zLGUucG9zT3V0PXRoaXMucG9zT3V0LGUuZmluaXNoZWQ9dGhpcy5maW5pc2hlZCxlLnJvdW5kcz1pLGUuc3VmZml4PXIsZS5vdXRwdXRMZW49byxlLmVuYWJsZVhPRj1zLGUuZGVzdHJveWVkPXRoaXMuZGVzdHJveWVkLGV9fWNvbnN0IFlpPSh0LGUsbik9PlFuKCgpPT5uZXcgRW4oZSx0LG4pKSxHaT1ZaSgxLDEzNiwyNTYvOCksV2k9XCJodHRwczovL3JwYy53YWxsZXRjb25uZWN0Lm9yZy92MVwiO2Z1bmN0aW9uIGtlKHQpe2NvbnN0IGU9YFx1MDAxOUV0aGVyZXVtIFNpZ25lZCBNZXNzYWdlOlxuJHt0Lmxlbmd0aH1gLG49bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGUrdCk7cmV0dXJuXCIweFwiK0J1ZmZlci5mcm9tKEdpKG4pKS50b1N0cmluZyhcImhleFwiKX1hc3luYyBmdW5jdGlvbiBpcih0LGUsbixyLG8saSl7c3dpdGNoKG4udCl7Y2FzZVwiZWlwMTkxXCI6cmV0dXJuIGF3YWl0IHNyKHQsZSxuLnMpO2Nhc2VcImVpcDEyNzFcIjpyZXR1cm4gYXdhaXQgY3IodCxlLG4ucyxyLG8saSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHZlcmlmeVNpZ25hdHVyZSBmYWlsZWQ6IEF0dGVtcHRlZCB0byB2ZXJpZnkgQ2FjYW9TaWduYXR1cmUgd2l0aCB1bmtub3duIHR5cGU6ICR7bi50fWApfX1hc3luYyBmdW5jdGlvbiBzcih0LGUsbil7cmV0dXJuKGF3YWl0IGtvKHtoYXNoOmtlKGUpLHNpZ25hdHVyZTpufSkpLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9YXN5bmMgZnVuY3Rpb24gY3IodCxlLG4scixvLGkpe2NvbnN0IHM9SWUocik7aWYoIXMubmFtZXNwYWNlfHwhcy5yZWZlcmVuY2UpdGhyb3cgbmV3IEVycm9yKGBpc1ZhbGlkRWlwMTI3MVNpZ25hdHVyZSBmYWlsZWQ6IGNoYWluSWQgbXVzdCBiZSBpbiBDQUlQLTIgZm9ybWF0LCByZWNlaXZlZDogJHtyfWApO3RyeXtjb25zdCBjPVwiMHgxNjI2YmE3ZVwiLGE9XCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQwXCIsdT1cIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDFcIixsPW4uc3Vic3RyaW5nKDIpLGY9a2UoZSkuc3Vic3RyaW5nKDIpLGg9YytmK2ErdStsLHk9YXdhaXQgZmV0Y2goYCR7aXx8V2l9Lz9jaGFpbklkPSR7cn0mcHJvamVjdElkPSR7b31gLHttZXRob2Q6XCJQT1NUXCIsYm9keTpKU09OLnN0cmluZ2lmeSh7aWQ6WGkoKSxqc29ucnBjOlwiMi4wXCIsbWV0aG9kOlwiZXRoX2NhbGxcIixwYXJhbXM6W3t0bzp0LGRhdGE6aH0sXCJsYXRlc3RcIl19KX0pLHtyZXN1bHQ6RX09YXdhaXQgeS5qc29uKCk7cmV0dXJuIEU/RS5zbGljZSgwLGMubGVuZ3RoKS50b0xvd2VyQ2FzZSgpPT09Yy50b0xvd2VyQ2FzZSgpOiExfWNhdGNoKGMpe3JldHVybiBjb25zb2xlLmVycm9yKFwiaXNWYWxpZEVpcDEyNzFTaWduYXR1cmU6IFwiLGMpLCExfX1mdW5jdGlvbiBYaSgpe3JldHVybiBEYXRlLm5vdygpK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxZTMpfWZ1bmN0aW9uIEppKHQpe2NvbnN0IGU9YXRvYih0KSxuPW5ldyBVaW50OEFycmF5KGUubGVuZ3RoKTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyluW3NdPWUuY2hhckNvZGVBdChzKTtjb25zdCByPW5bMF07aWYocj09PTApdGhyb3cgbmV3IEVycm9yKFwiTm8gc2lnbmF0dXJlcyBmb3VuZFwiKTtjb25zdCBvPTErcio2NDtpZihuLmxlbmd0aDxvKXRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIGRhdGEgdG9vIHNob3J0IGZvciBjbGFpbWVkIHNpZ25hdHVyZSBjb3VudFwiKTtpZihuLmxlbmd0aDwxMDApdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gdG9vIHNob3J0XCIpO2NvbnN0IGk9QnVmZmVyLmZyb20odCxcImJhc2U2NFwiKS5zbGljZSgxLDY1KTtyZXR1cm4gVm8uZW5jb2RlKGkpfXZhciBRaT1PYmplY3QuZGVmaW5lUHJvcGVydHksdHM9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsZXM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsYXI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxucz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHJzPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsdXI9KHQsZSxuKT0+ZSBpbiB0P1FpKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbZV09bixWZT0odCxlKT0+e2Zvcih2YXIgbiBpbiBlfHwoZT17fSkpbnMuY2FsbChlLG4pJiZ1cih0LG4sZVtuXSk7aWYoYXIpZm9yKHZhciBuIG9mIGFyKGUpKXJzLmNhbGwoZSxuKSYmdXIodCxuLGVbbl0pO3JldHVybiB0fSxmcj0odCxlKT0+dHModCxlcyhlKSk7Y29uc3Qgb3M9XCJkaWQ6cGtoOlwiLGZlPXQ9PnQ/LnNwbGl0KFwiOlwiKSxscj10PT57Y29uc3QgZT10JiZmZSh0KTtpZihlKXJldHVybiB0LmluY2x1ZGVzKG9zKT9lWzNdOmVbMV19LGRyPXQ9Pntjb25zdCBlPXQmJmZlKHQpO2lmKGUpcmV0dXJuIGVbMl0rXCI6XCIrZVszXX0sTWU9dD0+e2NvbnN0IGU9dCYmZmUodCk7aWYoZSlyZXR1cm4gZS5wb3AoKX07YXN5bmMgZnVuY3Rpb24gaXModCl7Y29uc3R7Y2FjYW86ZSxwcm9qZWN0SWQ6bn09dCx7czpyLHA6b309ZSxpPWhyKG8sby5pc3MpLHM9TWUoby5pc3MpO3JldHVybiBhd2FpdCBpcihzLGkscixkcihvLmlzcyksbil9Y29uc3QgaHI9KHQsZSk9Pntjb25zdCBuPWAke3QuZG9tYWlufSB3YW50cyB5b3UgdG8gc2lnbiBpbiB3aXRoIHlvdXIgRXRoZXJldW0gYWNjb3VudDpgLHI9TWUoZSk7aWYoIXQuYXVkJiYhdC51cmkpdGhyb3cgbmV3IEVycm9yKFwiRWl0aGVyIGBhdWRgIG9yIGB1cmlgIGlzIHJlcXVpcmVkIHRvIGNvbnN0cnVjdCB0aGUgbWVzc2FnZVwiKTtsZXQgbz10LnN0YXRlbWVudHx8dm9pZCAwO2NvbnN0IGk9YFVSSTogJHt0LmF1ZHx8dC51cml9YCxzPWBWZXJzaW9uOiAke3QudmVyc2lvbn1gLGM9YENoYWluIElEOiAke2xyKGUpfWAsYT1gTm9uY2U6ICR7dC5ub25jZX1gLHU9YElzc3VlZCBBdDogJHt0LmlhdH1gLGw9dC5leHA/YEV4cGlyYXRpb24gVGltZTogJHt0LmV4cH1gOnZvaWQgMCxmPXQubmJmP2BOb3QgQmVmb3JlOiAke3QubmJmfWA6dm9pZCAwLGg9dC5yZXF1ZXN0SWQ/YFJlcXVlc3QgSUQ6ICR7dC5yZXF1ZXN0SWR9YDp2b2lkIDAseT10LnJlc291cmNlcz9gUmVzb3VyY2VzOiR7dC5yZXNvdXJjZXMubWFwKHA9PmBcbi0gJHtwfWApLmpvaW4oXCJcIil9YDp2b2lkIDAsRT1kZSh0LnJlc291cmNlcyk7aWYoRSl7Y29uc3QgcD15dChFKTtvPXFlKG8scCl9cmV0dXJuW24scixcIlwiLG8sXCJcIixpLHMsYyxhLHUsbCxmLGgseV0uZmlsdGVyKHA9PnAhPW51bGwpLmpvaW4oYFxuYCl9O2Z1bmN0aW9uIHNzKHQsZSxuKXtyZXR1cm4gbi5pbmNsdWRlcyhcImRpZDpwa2g6XCIpfHwobj1gZGlkOnBraDoke259YCkse2g6e3Q6XCJjYWlwMTIyXCJ9LHA6e2lzczpuLGRvbWFpbjp0LmRvbWFpbixhdWQ6dC5hdWQsdmVyc2lvbjp0LnZlcnNpb24sbm9uY2U6dC5ub25jZSxpYXQ6dC5pYXQsc3RhdGVtZW50OnQuc3RhdGVtZW50LHJlcXVlc3RJZDp0LnJlcXVlc3RJZCxyZXNvdXJjZXM6dC5yZXNvdXJjZXMsbmJmOnQubmJmLGV4cDp0LmV4cH0sczplfX1mdW5jdGlvbiBjcyh0KXt2YXIgZTtjb25zdHthdXRoUGF5bG9hZDpuLGNoYWluczpyLG1ldGhvZHM6b309dCxpPW4uc3RhdGVtZW50fHxcIlwiO2lmKCEociE9bnVsbCYmci5sZW5ndGgpKXJldHVybiBuO2NvbnN0IHM9bi5jaGFpbnMsYz0kZShzLHIpO2lmKCEoYyE9bnVsbCYmYy5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihcIk5vIHN1cHBvcnRlZCBjaGFpbnNcIik7Y29uc3QgYT1wcihuLnJlc291cmNlcyk7aWYoIWEpcmV0dXJuIG47Y3QoYSk7Y29uc3QgdT1ncihhLFwiZWlwMTU1XCIpO2xldCBsPW4/LnJlc291cmNlc3x8W107aWYodSE9bnVsbCYmdS5sZW5ndGgpe2NvbnN0IGY9eXIodSksaD0kZShmLG8pO2lmKCEoaCE9bnVsbCYmaC5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihgU3VwcG9ydGVkIG1ldGhvZHMgZG9uJ3Qgc2F0aXNmeSB0aGUgcmVxdWVzdGVkOiAke0pTT04uc3RyaW5naWZ5KGYpfSwgc3VwcG9ydGVkOiAke0pTT04uc3RyaW5naWZ5KG8pfWApO2NvbnN0IHk9RGUoXCJyZXF1ZXN0XCIsaCx7Y2hhaW5zOmN9KSxFPUVyKGEsXCJlaXAxNTVcIix5KTtsPSgoZT1uPy5yZXNvdXJjZXMpPT1udWxsP3ZvaWQgMDplLnNsaWNlKDAsLTEpKXx8W10sbC5wdXNoKGxlKEUpKX1yZXR1cm4gZnIoVmUoe30sbikse3N0YXRlbWVudDp4cihpLGRlKGwpKSxjaGFpbnM6YyxyZXNvdXJjZXM6biE9bnVsbCYmbi5yZXNvdXJjZXN8fGwubGVuZ3RoPjA/bDp2b2lkIDB9KX1mdW5jdGlvbiBwcih0KXtjb25zdCBlPWRlKHQpO2lmKGUmJkhlKGUpKXJldHVybiB5dChlKX1mdW5jdGlvbiBhcyh0LGUpe3ZhciBuO3JldHVybihuPXQ/LmF0dCk9PW51bGw/dm9pZCAwOm4uaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24gZ3IodCxlKXt2YXIgbixyO3JldHVybihuPXQ/LmF0dCkhPW51bGwmJm5bZV0/T2JqZWN0LmtleXMoKHI9dD8uYXR0KT09bnVsbD92b2lkIDA6cltlXSk6W119ZnVuY3Rpb24gdXModCl7cmV0dXJuIHQ/Lm1hcChlPT5PYmplY3Qua2V5cyhlKSl8fFtdfWZ1bmN0aW9uIHlyKHQpe3JldHVybiB0Py5tYXAoZT0+e3ZhciBuO3JldHVybihuPWUuc3BsaXQoXCIvXCIpKT09bnVsbD92b2lkIDA6blsxXX0pfHxbXX1mdW5jdGlvbiBtcih0KXtyZXR1cm4gQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkodCkpLnRvU3RyaW5nKFwiYmFzZTY0XCIpfWZ1bmN0aW9uIHdyKHQpe3JldHVybiBKU09OLnBhcnNlKEJ1ZmZlci5mcm9tKHQsXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGYtOFwiKSl9ZnVuY3Rpb24gY3QodCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVjYXAgcHJvdmlkZWQsIHZhbHVlIGlzIHVuZGVmaW5lZFwiKTtpZighdC5hdHQpdGhyb3cgbmV3IEVycm9yKFwiTm8gYGF0dGAgcHJvcGVydHkgZm91bmRcIik7Y29uc3QgZT1PYmplY3Qua2V5cyh0LmF0dCk7aWYoIShlIT1udWxsJiZlLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVzb3VyY2VzIGZvdW5kIGluIGBhdHRgIHByb3BlcnR5XCIpO2UuZm9yRWFjaChuPT57Y29uc3Qgcj10LmF0dFtuXTtpZihBcnJheS5pc0FycmF5KHIpKXRocm93IG5ldyBFcnJvcihgUmVzb3VyY2UgbXVzdCBiZSBhbiBvYmplY3Q6ICR7bn1gKTtpZih0eXBlb2YgciE9XCJvYmplY3RcIil0aHJvdyBuZXcgRXJyb3IoYFJlc291cmNlIG11c3QgYmUgYW4gb2JqZWN0OiAke259YCk7aWYoIU9iamVjdC5rZXlzKHIpLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYFJlc291cmNlIG9iamVjdCBpcyBlbXB0eTogJHtufWApO09iamVjdC5rZXlzKHIpLmZvckVhY2gobz0+e2NvbnN0IGk9cltvXTtpZighQXJyYXkuaXNBcnJheShpKSl0aHJvdyBuZXcgRXJyb3IoYEFiaWxpdHkgbGltaXRzICR7b30gbXVzdCBiZSBhbiBhcnJheSBvZiBvYmplY3RzLCBmb3VuZDogJHtpfWApO2lmKCFpLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYFZhbHVlIG9mICR7b30gaXMgZW1wdHkgYXJyYXksIG11c3QgYmUgYW4gYXJyYXkgd2l0aCBvYmplY3RzYCk7aS5mb3JFYWNoKHM9PntpZih0eXBlb2YgcyE9XCJvYmplY3RcIil0aHJvdyBuZXcgRXJyb3IoYEFiaWxpdHkgbGltaXRzICgke299KSBtdXN0IGJlIGFuIGFycmF5IG9mIG9iamVjdHMsIGZvdW5kOiAke3N9YCl9KX0pfSl9ZnVuY3Rpb24gYnIodCxlLG4scj17fSl7cmV0dXJuIG4/LnNvcnQoKG8saSk9Pm8ubG9jYWxlQ29tcGFyZShpKSkse2F0dDp7W3RdOkRlKGUsbixyKX19fWZ1bmN0aW9uIEVyKHQsZSxuKXt2YXIgcjt0LmF0dFtlXT1WZSh7fSxuKTtjb25zdCBvPShyPU9iamVjdC5rZXlzKHQuYXR0KSk9PW51bGw/dm9pZCAwOnIuc29ydCgocyxjKT0+cy5sb2NhbGVDb21wYXJlKGMpKSxpPXthdHQ6e319O3JldHVybiBvLnJlZHVjZSgocyxjKT0+KHMuYXR0W2NdPXQuYXR0W2NdLHMpLGkpfWZ1bmN0aW9uIERlKHQsZSxuPXt9KXtlPWU/LnNvcnQoKG8saSk9Pm8ubG9jYWxlQ29tcGFyZShpKSk7Y29uc3Qgcj1lLm1hcChvPT4oe1tgJHt0fS8ke299YF06W25dfSkpO3JldHVybiBPYmplY3QuYXNzaWduKHt9LC4uLnIpfWZ1bmN0aW9uIGxlKHQpe3JldHVybiBjdCh0KSxgdXJuOnJlY2FwOiR7bXIodCkucmVwbGFjZSgvPS9nLFwiXCIpfWB9ZnVuY3Rpb24geXQodCl7Y29uc3QgZT13cih0LnJlcGxhY2UoXCJ1cm46cmVjYXA6XCIsXCJcIikpO3JldHVybiBjdChlKSxlfWZ1bmN0aW9uIGZzKHQsZSxuKXtjb25zdCByPWJyKHQsZSxuKTtyZXR1cm4gbGUocil9ZnVuY3Rpb24gSGUodCl7cmV0dXJuIHQmJnQuaW5jbHVkZXMoXCJ1cm46cmVjYXA6XCIpfWZ1bmN0aW9uIGxzKHQsZSl7Y29uc3Qgbj15dCh0KSxyPXl0KGUpLG89dnIobixyKTtyZXR1cm4gbGUobyl9ZnVuY3Rpb24gdnIodCxlKXtjdCh0KSxjdChlKTtjb25zdCBuPU9iamVjdC5rZXlzKHQuYXR0KS5jb25jYXQoT2JqZWN0LmtleXMoZS5hdHQpKS5zb3J0KChvLGkpPT5vLmxvY2FsZUNvbXBhcmUoaSkpLHI9e2F0dDp7fX07cmV0dXJuIG4uZm9yRWFjaChvPT57dmFyIGkscztPYmplY3Qua2V5cygoKGk9dC5hdHQpPT1udWxsP3ZvaWQgMDppW29dKXx8e30pLmNvbmNhdChPYmplY3Qua2V5cygoKHM9ZS5hdHQpPT1udWxsP3ZvaWQgMDpzW29dKXx8e30pKS5zb3J0KChjLGEpPT5jLmxvY2FsZUNvbXBhcmUoYSkpLmZvckVhY2goYz0+e3ZhciBhLHU7ci5hdHRbb109ZnIoVmUoe30sci5hdHRbb10pLHtbY106KChhPXQuYXR0W29dKT09bnVsbD92b2lkIDA6YVtjXSl8fCgodT1lLmF0dFtvXSk9PW51bGw/dm9pZCAwOnVbY10pfSl9KX0pLHJ9ZnVuY3Rpb24gcWUodD1cIlwiLGUpe2N0KGUpO2NvbnN0IG49XCJJIGZ1cnRoZXIgYXV0aG9yaXplIHRoZSBzdGF0ZWQgVVJJIHRvIHBlcmZvcm0gdGhlIGZvbGxvd2luZyBhY3Rpb25zIG9uIG15IGJlaGFsZjogXCI7aWYodC5pbmNsdWRlcyhuKSlyZXR1cm4gdDtjb25zdCByPVtdO2xldCBvPTA7T2JqZWN0LmtleXMoZS5hdHQpLmZvckVhY2goYz0+e2NvbnN0IGE9T2JqZWN0LmtleXMoZS5hdHRbY10pLm1hcChmPT4oe2FiaWxpdHk6Zi5zcGxpdChcIi9cIilbMF0sYWN0aW9uOmYuc3BsaXQoXCIvXCIpWzFdfSkpO2Euc29ydCgoZixoKT0+Zi5hY3Rpb24ubG9jYWxlQ29tcGFyZShoLmFjdGlvbikpO2NvbnN0IHU9e307YS5mb3JFYWNoKGY9Pnt1W2YuYWJpbGl0eV18fCh1W2YuYWJpbGl0eV09W10pLHVbZi5hYmlsaXR5XS5wdXNoKGYuYWN0aW9uKX0pO2NvbnN0IGw9T2JqZWN0LmtleXModSkubWFwKGY9PihvKyssYCgke299KSAnJHtmfSc6ICcke3VbZl0uam9pbihcIicsICdcIil9JyBmb3IgJyR7Y30nLmApKTtyLnB1c2gobC5qb2luKFwiLCBcIikucmVwbGFjZShcIi4sXCIsXCIuXCIpKX0pO2NvbnN0IGk9ci5qb2luKFwiIFwiKSxzPWAke259JHtpfWA7cmV0dXJuYCR7dD90K1wiIFwiOlwiXCJ9JHtzfWB9ZnVuY3Rpb24gZHModCl7dmFyIGU7Y29uc3Qgbj15dCh0KTtjdChuKTtjb25zdCByPShlPW4uYXR0KT09bnVsbD92b2lkIDA6ZS5laXAxNTU7cmV0dXJuIHI/T2JqZWN0LmtleXMocikubWFwKG89Pm8uc3BsaXQoXCIvXCIpWzFdKTpbXX1mdW5jdGlvbiBocyh0KXtjb25zdCBlPXl0KHQpO2N0KGUpO2NvbnN0IG49W107cmV0dXJuIE9iamVjdC52YWx1ZXMoZS5hdHQpLmZvckVhY2gocj0+e09iamVjdC52YWx1ZXMocikuZm9yRWFjaChvPT57dmFyIGk7KGk9bz8uWzBdKSE9bnVsbCYmaS5jaGFpbnMmJm4ucHVzaChvWzBdLmNoYWlucyl9KX0pLFsuLi5uZXcgU2V0KG4uZmxhdCgpKV19ZnVuY3Rpb24geHIodCxlKXtpZighZSlyZXR1cm4gdDtjb25zdCBuPXl0KGUpO3JldHVybiBjdChuKSxxZSh0LG4pfWZ1bmN0aW9uIGRlKHQpe2lmKCF0KXJldHVybjtjb25zdCBlPXQ/Llt0Lmxlbmd0aC0xXTtyZXR1cm4gSGUoZSk/ZTp2b2lkIDB9ZnVuY3Rpb24gS2UodCl7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKHQpfHx0PDApdGhyb3cgbmV3IEVycm9yKFwicG9zaXRpdmUgaW50ZWdlciBleHBlY3RlZCwgZ290IFwiK3QpfWZ1bmN0aW9uIFNyKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIn1mdW5jdGlvbiB0dCh0LC4uLmUpe2lmKCFTcih0KSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkXCIpO2lmKGUubGVuZ3RoPjAmJiFlLmluY2x1ZGVzKHQubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkIG9mIGxlbmd0aCBcIitlK1wiLCBnb3QgbGVuZ3RoPVwiK3QubGVuZ3RoKX1mdW5jdGlvbiBPcih0LGU9ITApe2lmKHQuZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcIkhhc2ggaW5zdGFuY2UgaGFzIGJlZW4gZGVzdHJveWVkXCIpO2lmKGUmJnQuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCNkaWdlc3QoKSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFwiKX1mdW5jdGlvbiBwcyh0LGUpe3R0KHQpO2NvbnN0IG49ZS5vdXRwdXRMZW47aWYodC5sZW5ndGg8bil0aHJvdyBuZXcgRXJyb3IoXCJkaWdlc3RJbnRvKCkgZXhwZWN0cyBvdXRwdXQgYnVmZmVyIG9mIGxlbmd0aCBhdCBsZWFzdCBcIituKX1mdW5jdGlvbiBBcih0KXtpZih0eXBlb2YgdCE9XCJib29sZWFuXCIpdGhyb3cgbmV3IEVycm9yKGBib29sZWFuIGV4cGVjdGVkLCBub3QgJHt0fWApfWNvbnN0IG10PXQ9Pm5ldyBVaW50MzJBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsTWF0aC5mbG9vcih0LmJ5dGVMZW5ndGgvNCkpLGdzPXQ9Pm5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKSx5cz1uZXcgVWludDhBcnJheShuZXcgVWludDMyQXJyYXkoWzI4NzQ1NDAyMF0pLmJ1ZmZlcilbMF09PT02ODtpZigheXMpdGhyb3cgbmV3IEVycm9yKFwiTm9uIGxpdHRsZS1lbmRpYW4gaGFyZHdhcmUgaXMgbm90IHN1cHBvcnRlZFwiKTtmdW5jdGlvbiBtcyh0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoXCJzdHJpbmcgZXhwZWN0ZWRcIik7cmV0dXJuIG5ldyBVaW50OEFycmF5KG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KSl9ZnVuY3Rpb24gRmUodCl7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpdD1tcyh0KTtlbHNlIGlmKFNyKHQpKXQ9emUodCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkLCBnb3QgXCIrdHlwZW9mIHQpO3JldHVybiB0fWZ1bmN0aW9uIHdzKHQsZSl7aWYoZT09bnVsbHx8dHlwZW9mIGUhPVwib2JqZWN0XCIpdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucyBtdXN0IGJlIGRlZmluZWRcIik7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxlKX1mdW5jdGlvbiBicyh0LGUpe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7bGV0IG49MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylufD10W3JdXmVbcl07cmV0dXJuIG49PT0wfWNvbnN0IEVzPSh0LGUpPT57ZnVuY3Rpb24gbihyLC4uLm8pe2lmKHR0KHIpLHQubm9uY2VMZW5ndGghPT12b2lkIDApe2NvbnN0IGw9b1swXTtpZighbCl0aHJvdyBuZXcgRXJyb3IoXCJub25jZSAvIGl2IHJlcXVpcmVkXCIpO3QudmFyU2l6ZU5vbmNlP3R0KGwpOnR0KGwsdC5ub25jZUxlbmd0aCl9Y29uc3QgaT10LnRhZ0xlbmd0aDtpJiZvWzFdIT09dm9pZCAwJiZ0dChvWzFdKTtjb25zdCBzPWUociwuLi5vKSxjPShsLGYpPT57aWYoZiE9PXZvaWQgMCl7aWYobCE9PTIpdGhyb3cgbmV3IEVycm9yKFwiY2lwaGVyIG91dHB1dCBub3Qgc3VwcG9ydGVkXCIpO3R0KGYpfX07bGV0IGE9ITE7cmV0dXJue2VuY3J5cHQobCxmKXtpZihhKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmNyeXB0KCkgdHdpY2Ugd2l0aCBzYW1lIGtleSArIG5vbmNlXCIpO3JldHVybiBhPSEwLHR0KGwpLGMocy5lbmNyeXB0Lmxlbmd0aCxmKSxzLmVuY3J5cHQobCxmKX0sZGVjcnlwdChsLGYpe2lmKHR0KGwpLGkmJmwubGVuZ3RoPGkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBjaXBoZXJ0ZXh0IGxlbmd0aDogc21hbGxlciB0aGFuIHRhZ0xlbmd0aD1cIitpKTtyZXR1cm4gYyhzLmRlY3J5cHQubGVuZ3RoLGYpLHMuZGVjcnlwdChsLGYpfX19cmV0dXJuIE9iamVjdC5hc3NpZ24obix0KSxufTtmdW5jdGlvbiBCcih0LGUsbj0hMCl7aWYoZT09PXZvaWQgMClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodCk7aWYoZS5sZW5ndGghPT10KXRocm93IG5ldyBFcnJvcihcImludmFsaWQgb3V0cHV0IGxlbmd0aCwgZXhwZWN0ZWQgXCIrdCtcIiwgZ290OiBcIitlLmxlbmd0aCk7aWYobiYmIXZzKGUpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgb3V0cHV0LCBtdXN0IGJlIGFsaWduZWRcIik7cmV0dXJuIGV9ZnVuY3Rpb24gSXIodCxlLG4scil7aWYodHlwZW9mIHQuc2V0QmlnVWludDY0PT1cImZ1bmN0aW9uXCIpcmV0dXJuIHQuc2V0QmlnVWludDY0KGUsbixyKTtjb25zdCBvPUJpZ0ludCgzMiksaT1CaWdJbnQoNDI5NDk2NzI5NSkscz1OdW1iZXIobj4+byZpKSxjPU51bWJlcihuJmkpLGE9cj80OjAsdT1yPzA6NDt0LnNldFVpbnQzMihlK2EscyxyKSx0LnNldFVpbnQzMihlK3UsYyxyKX1mdW5jdGlvbiB2cyh0KXtyZXR1cm4gdC5ieXRlT2Zmc2V0JTQ9PT0wfWZ1bmN0aW9uIHplKHQpe3JldHVybiBVaW50OEFycmF5LmZyb20odCl9ZnVuY3Rpb24gTHQoLi4udCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXS5maWxsKDApfWNvbnN0IE5yPXQ9PlVpbnQ4QXJyYXkuZnJvbSh0LnNwbGl0KFwiXCIpLm1hcChlPT5lLmNoYXJDb2RlQXQoMCkpKSx4cz1OcihcImV4cGFuZCAxNi1ieXRlIGtcIiksU3M9TnIoXCJleHBhbmQgMzItYnl0ZSBrXCIpLE9zPW10KHhzKSxBcz1tdChTcyk7ZnVuY3Rpb24gVih0LGUpe3JldHVybiB0PDxlfHQ+Pj4zMi1lfWZ1bmN0aW9uIFplKHQpe3JldHVybiB0LmJ5dGVPZmZzZXQlND09PTB9Y29uc3QgaGU9NjQsQnM9MTYsVXI9MioqMzItMSxUcj1uZXcgVWludDMyQXJyYXk7ZnVuY3Rpb24gSXModCxlLG4scixvLGkscyxjKXtjb25zdCBhPW8ubGVuZ3RoLHU9bmV3IFVpbnQ4QXJyYXkoaGUpLGw9bXQodSksZj1aZShvKSYmWmUoaSksaD1mP210KG8pOlRyLHk9Zj9tdChpKTpUcjtmb3IobGV0IEU9MDtFPGE7cysrKXtpZih0KGUsbixyLGwscyxjKSxzPj1Vcil0aHJvdyBuZXcgRXJyb3IoXCJhcng6IGNvdW50ZXIgb3ZlcmZsb3dcIik7Y29uc3QgcD1NYXRoLm1pbihoZSxhLUUpO2lmKGYmJnA9PT1oZSl7Y29uc3QgZD1FLzQ7aWYoRSU0IT09MCl0aHJvdyBuZXcgRXJyb3IoXCJhcng6IGludmFsaWQgYmxvY2sgcG9zaXRpb25cIik7Zm9yKGxldCB2PTAsbTt2PEJzO3YrKyltPWQrdix5W21dPWhbbV1ebFt2XTtFKz1oZTtjb250aW51ZX1mb3IobGV0IGQ9MCx2O2Q8cDtkKyspdj1FK2QsaVt2XT1vW3ZdXnVbZF07RSs9cH19ZnVuY3Rpb24gTnModCxlKXtjb25zdHthbGxvd1Nob3J0S2V5czpuLGV4dGVuZE5vbmNlRm46cixjb3VudGVyTGVuZ3RoOm8sY291bnRlclJpZ2h0Omkscm91bmRzOnN9PXdzKHthbGxvd1Nob3J0S2V5czohMSxjb3VudGVyTGVuZ3RoOjgsY291bnRlclJpZ2h0OiExLHJvdW5kczoyMH0sZSk7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJjb3JlIG11c3QgYmUgYSBmdW5jdGlvblwiKTtyZXR1cm4gS2UobyksS2UocyksQXIoaSksQXIobiksKGMsYSx1LGwsZj0wKT0+e3R0KGMpLHR0KGEpLHR0KHUpO2NvbnN0IGg9dS5sZW5ndGg7aWYobD09PXZvaWQgMCYmKGw9bmV3IFVpbnQ4QXJyYXkoaCkpLHR0KGwpLEtlKGYpLGY8MHx8Zj49VXIpdGhyb3cgbmV3IEVycm9yKFwiYXJ4OiBjb3VudGVyIG92ZXJmbG93XCIpO2lmKGwubGVuZ3RoPGgpdGhyb3cgbmV3IEVycm9yKGBhcng6IG91dHB1dCAoJHtsLmxlbmd0aH0pIGlzIHNob3J0ZXIgdGhhbiBkYXRhICgke2h9KWApO2NvbnN0IHk9W107bGV0IEU9Yy5sZW5ndGgscCxkO2lmKEU9PT0zMil5LnB1c2gocD16ZShjKSksZD1BcztlbHNlIGlmKEU9PT0xNiYmbilwPW5ldyBVaW50OEFycmF5KDMyKSxwLnNldChjKSxwLnNldChjLDE2KSxkPU9zLHkucHVzaChwKTtlbHNlIHRocm93IG5ldyBFcnJvcihgYXJ4OiBpbnZhbGlkIDMyLWJ5dGUga2V5LCBnb3QgbGVuZ3RoPSR7RX1gKTtaZShhKXx8eS5wdXNoKGE9emUoYSkpO2NvbnN0IHY9bXQocCk7aWYocil7aWYoYS5sZW5ndGghPT0yNCl0aHJvdyBuZXcgRXJyb3IoXCJhcng6IGV4dGVuZGVkIG5vbmNlIG11c3QgYmUgMjQgYnl0ZXNcIik7cihkLHYsbXQoYS5zdWJhcnJheSgwLDE2KSksdiksYT1hLnN1YmFycmF5KDE2KX1jb25zdCBtPTE2LW87aWYobSE9PWEubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgYXJ4OiBub25jZSBtdXN0IGJlICR7bX0gb3IgMTYgYnl0ZXNgKTtpZihtIT09MTIpe2NvbnN0IE49bmV3IFVpbnQ4QXJyYXkoMTIpO04uc2V0KGEsaT8wOjEyLWEubGVuZ3RoKSxhPU4seS5wdXNoKGEpfWNvbnN0IE89bXQoYSk7cmV0dXJuIElzKHQsZCx2LE8sdSxsLGYscyksTHQoLi4ueSksbH19Y29uc3QgRj0odCxlKT0+dFtlKytdJjI1NXwodFtlKytdJjI1NSk8PDg7Y2xhc3MgVXN7Y29uc3RydWN0b3IoZSl7dGhpcy5ibG9ja0xlbj0xNix0aGlzLm91dHB1dExlbj0xNix0aGlzLmJ1ZmZlcj1uZXcgVWludDhBcnJheSgxNiksdGhpcy5yPW5ldyBVaW50MTZBcnJheSgxMCksdGhpcy5oPW5ldyBVaW50MTZBcnJheSgxMCksdGhpcy5wYWQ9bmV3IFVpbnQxNkFycmF5KDgpLHRoaXMucG9zPTAsdGhpcy5maW5pc2hlZD0hMSxlPUZlKGUpLHR0KGUsMzIpO2NvbnN0IG49RihlLDApLHI9RihlLDIpLG89RihlLDQpLGk9RihlLDYpLHM9RihlLDgpLGM9RihlLDEwKSxhPUYoZSwxMiksdT1GKGUsMTQpO3RoaXMuclswXT1uJjgxOTEsdGhpcy5yWzFdPShuPj4+MTN8cjw8MykmODE5MSx0aGlzLnJbMl09KHI+Pj4xMHxvPDw2KSY3OTM5LHRoaXMuclszXT0obz4+Pjd8aTw8OSkmODE5MSx0aGlzLnJbNF09KGk+Pj40fHM8PDEyKSYyNTUsdGhpcy5yWzVdPXM+Pj4xJjgxOTAsdGhpcy5yWzZdPShzPj4+MTR8Yzw8MikmODE5MSx0aGlzLnJbN109KGM+Pj4xMXxhPDw1KSY4MDY1LHRoaXMucls4XT0oYT4+Pjh8dTw8OCkmODE5MSx0aGlzLnJbOV09dT4+PjUmMTI3O2ZvcihsZXQgbD0wO2w8ODtsKyspdGhpcy5wYWRbbF09RihlLDE2KzIqbCl9cHJvY2VzcyhlLG4scj0hMSl7Y29uc3Qgbz1yPzA6MjA0OCx7aDppLHI6c309dGhpcyxjPXNbMF0sYT1zWzFdLHU9c1syXSxsPXNbM10sZj1zWzRdLGg9c1s1XSx5PXNbNl0sRT1zWzddLHA9c1s4XSxkPXNbOV0sdj1GKGUsbiswKSxtPUYoZSxuKzIpLE89RihlLG4rNCksTj1GKGUsbis2KSwkPUYoZSxuKzgpLEI9RihlLG4rMTApLEE9RihlLG4rMTIpLFQ9RihlLG4rMTQpO2xldCBTPWlbMF0rKHYmODE5MSksTD1pWzFdKygodj4+PjEzfG08PDMpJjgxOTEpLFU9aVsyXSsoKG0+Pj4xMHxPPDw2KSY4MTkxKSxfPWlbM10rKChPPj4+N3xOPDw5KSY4MTkxKSxqPWlbNF0rKChOPj4+NHwkPDwxMikmODE5MSksZz1pWzVdKygkPj4+MSY4MTkxKSx3PWlbNl0rKCgkPj4+MTR8Qjw8MikmODE5MSksYj1pWzddKygoQj4+PjExfEE8PDUpJjgxOTEpLEk9aVs4XSsoKEE+Pj44fFQ8PDgpJjgxOTEpLFI9aVs5XSsoVD4+PjV8bykseD0wLEM9eCtTKmMrTCooNSpkKStVKig1KnApK18qKDUqRSkraiooNSp5KTt4PUM+Pj4xMyxDJj04MTkxLEMrPWcqKDUqaCkrdyooNSpmKStiKig1KmwpK0kqKDUqdSkrUiooNSphKSx4Kz1DPj4+MTMsQyY9ODE5MTtsZXQgUD14K1MqYStMKmMrVSooNSpkKStfKig1KnApK2oqKDUqRSk7eD1QPj4+MTMsUCY9ODE5MSxQKz1nKig1KnkpK3cqKDUqaCkrYiooNSpmKStJKig1KmwpK1IqKDUqdSkseCs9UD4+PjEzLFAmPTgxOTE7bGV0IGs9eCtTKnUrTCphK1UqYytfKig1KmQpK2oqKDUqcCk7eD1rPj4+MTMsayY9ODE5MSxrKz1nKig1KkUpK3cqKDUqeSkrYiooNSpoKStJKig1KmYpK1IqKDUqbCkseCs9az4+PjEzLGsmPTgxOTE7bGV0IE09eCtTKmwrTCp1K1UqYStfKmMraiooNSpkKTt4PU0+Pj4xMyxNJj04MTkxLE0rPWcqKDUqcCkrdyooNSpFKStiKig1KnkpK0kqKDUqaCkrUiooNSpmKSx4Kz1NPj4+MTMsTSY9ODE5MTtsZXQgRD14K1MqZitMKmwrVSp1K18qYStqKmM7eD1EPj4+MTMsRCY9ODE5MSxEKz1nKig1KmQpK3cqKDUqcCkrYiooNSpFKStJKig1KnkpK1IqKDUqaCkseCs9RD4+PjEzLEQmPTgxOTE7bGV0IHo9eCtTKmgrTCpmK1UqbCtfKnUraiphO3g9ej4+PjEzLHomPTgxOTEseis9ZypjK3cqKDUqZCkrYiooNSpwKStJKig1KkUpK1IqKDUqeSkseCs9ej4+PjEzLHomPTgxOTE7bGV0IFo9eCtTKnkrTCpoK1UqZitfKmwraip1O3g9Wj4+PjEzLFomPTgxOTEsWis9ZyphK3cqYytiKig1KmQpK0kqKDUqcCkrUiooNSpFKSx4Kz1aPj4+MTMsWiY9ODE5MTtsZXQgaXQ9eCtTKkUrTCp5K1UqaCtfKmYraipsO3g9aXQ+Pj4xMyxpdCY9ODE5MSxpdCs9Zyp1K3cqYStiKmMrSSooNSpkKStSKig1KnApLHgrPWl0Pj4+MTMsaXQmPTgxOTE7bGV0IFc9eCtTKnArTCpFK1UqeStfKmgraipmO3g9Vz4+PjEzLFcmPTgxOTEsVys9ZypsK3cqdStiKmErSSpjK1IqKDUqZCkseCs9Vz4+PjEzLFcmPTgxOTE7bGV0IEo9eCtTKmQrTCpwK1UqRStfKnkraipoO3g9Sj4+PjEzLEomPTgxOTEsSis9ZypmK3cqbCtiKnUrSSphK1IqYyx4Kz1KPj4+MTMsSiY9ODE5MSx4PSh4PDwyKSt4fDAseD14K0N8MCxDPXgmODE5MSx4PXg+Pj4xMyxQKz14LGlbMF09QyxpWzFdPVAsaVsyXT1rLGlbM109TSxpWzRdPUQsaVs1XT16LGlbNl09WixpWzddPWl0LGlbOF09VyxpWzldPUp9ZmluYWxpemUoKXtjb25zdHtoOmUscGFkOm59PXRoaXMscj1uZXcgVWludDE2QXJyYXkoMTApO2xldCBvPWVbMV0+Pj4xMztlWzFdJj04MTkxO2ZvcihsZXQgYz0yO2M8MTA7YysrKWVbY10rPW8sbz1lW2NdPj4+MTMsZVtjXSY9ODE5MTtlWzBdKz1vKjUsbz1lWzBdPj4+MTMsZVswXSY9ODE5MSxlWzFdKz1vLG89ZVsxXT4+PjEzLGVbMV0mPTgxOTEsZVsyXSs9byxyWzBdPWVbMF0rNSxvPXJbMF0+Pj4xMyxyWzBdJj04MTkxO2ZvcihsZXQgYz0xO2M8MTA7YysrKXJbY109ZVtjXStvLG89cltjXT4+PjEzLHJbY10mPTgxOTE7cls5XS09ODE5MjtsZXQgaT0ob14xKS0xO2ZvcihsZXQgYz0wO2M8MTA7YysrKXJbY10mPWk7aT1+aTtmb3IobGV0IGM9MDtjPDEwO2MrKyllW2NdPWVbY10maXxyW2NdO2VbMF09KGVbMF18ZVsxXTw8MTMpJjY1NTM1LGVbMV09KGVbMV0+Pj4zfGVbMl08PDEwKSY2NTUzNSxlWzJdPShlWzJdPj4+NnxlWzNdPDw3KSY2NTUzNSxlWzNdPShlWzNdPj4+OXxlWzRdPDw0KSY2NTUzNSxlWzRdPShlWzRdPj4+MTJ8ZVs1XTw8MXxlWzZdPDwxNCkmNjU1MzUsZVs1XT0oZVs2XT4+PjJ8ZVs3XTw8MTEpJjY1NTM1LGVbNl09KGVbN10+Pj41fGVbOF08PDgpJjY1NTM1LGVbN109KGVbOF0+Pj44fGVbOV08PDUpJjY1NTM1O2xldCBzPWVbMF0rblswXTtlWzBdPXMmNjU1MzU7Zm9yKGxldCBjPTE7Yzw4O2MrKylzPShlW2NdK25bY118MCkrKHM+Pj4xNil8MCxlW2NdPXMmNjU1MzU7THQocil9dXBkYXRlKGUpe09yKHRoaXMpO2NvbnN0e2J1ZmZlcjpuLGJsb2NrTGVuOnJ9PXRoaXM7ZT1GZShlKTtjb25zdCBvPWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8bzspe2NvbnN0IHM9TWF0aC5taW4oci10aGlzLnBvcyxvLWkpO2lmKHM9PT1yKXtmb3IoO3I8PW8taTtpKz1yKXRoaXMucHJvY2VzcyhlLGkpO2NvbnRpbnVlfW4uc2V0KGUuc3ViYXJyYXkoaSxpK3MpLHRoaXMucG9zKSx0aGlzLnBvcys9cyxpKz1zLHRoaXMucG9zPT09ciYmKHRoaXMucHJvY2VzcyhuLDAsITEpLHRoaXMucG9zPTApfXJldHVybiB0aGlzfWRlc3Ryb3koKXtMdCh0aGlzLmgsdGhpcy5yLHRoaXMuYnVmZmVyLHRoaXMucGFkKX1kaWdlc3RJbnRvKGUpe09yKHRoaXMpLHBzKGUsdGhpcyksdGhpcy5maW5pc2hlZD0hMDtjb25zdHtidWZmZXI6bixoOnJ9PXRoaXM7bGV0e3BvczpvfT10aGlzO2lmKG8pe2ZvcihuW28rK109MTtvPDE2O28rKyluW29dPTA7dGhpcy5wcm9jZXNzKG4sMCwhMCl9dGhpcy5maW5hbGl6ZSgpO2xldCBpPTA7Zm9yKGxldCBzPTA7czw4O3MrKyllW2krK109cltzXT4+PjAsZVtpKytdPXJbc10+Pj44O3JldHVybiBlfWRpZ2VzdCgpe2NvbnN0e2J1ZmZlcjplLG91dHB1dExlbjpufT10aGlzO3RoaXMuZGlnZXN0SW50byhlKTtjb25zdCByPWUuc2xpY2UoMCxuKTtyZXR1cm4gdGhpcy5kZXN0cm95KCkscn19ZnVuY3Rpb24gVHModCl7Y29uc3QgZT0ocixvKT0+dChvKS51cGRhdGUoRmUocikpLmRpZ2VzdCgpLG49dChuZXcgVWludDhBcnJheSgzMikpO3JldHVybiBlLm91dHB1dExlbj1uLm91dHB1dExlbixlLmJsb2NrTGVuPW4uYmxvY2tMZW4sZS5jcmVhdGU9cj0+dChyKSxlfWNvbnN0IFJzPVRzKHQ9Pm5ldyBVcyh0KSk7ZnVuY3Rpb24gX3ModCxlLG4scixvLGk9MjApe2xldCBzPXRbMF0sYz10WzFdLGE9dFsyXSx1PXRbM10sbD1lWzBdLGY9ZVsxXSxoPWVbMl0seT1lWzNdLEU9ZVs0XSxwPWVbNV0sZD1lWzZdLHY9ZVs3XSxtPW8sTz1uWzBdLE49blsxXSwkPW5bMl0sQj1zLEE9YyxUPWEsUz11LEw9bCxVPWYsXz1oLGo9eSxnPUUsdz1wLGI9ZCxJPXYsUj1tLHg9TyxDPU4sUD0kO2ZvcihsZXQgTT0wO008aTtNKz0yKUI9QitMfDAsUj1WKFJeQiwxNiksZz1nK1J8MCxMPVYoTF5nLDEyKSxCPUIrTHwwLFI9VihSXkIsOCksZz1nK1J8MCxMPVYoTF5nLDcpLEE9QStVfDAseD1WKHheQSwxNiksdz13K3h8MCxVPVYoVV53LDEyKSxBPUErVXwwLHg9Vih4XkEsOCksdz13K3h8MCxVPVYoVV53LDcpLFQ9VCtffDAsQz1WKENeVCwxNiksYj1iK0N8MCxfPVYoX15iLDEyKSxUPVQrX3wwLEM9VihDXlQsOCksYj1iK0N8MCxfPVYoX15iLDcpLFM9UytqfDAsUD1WKFBeUywxNiksST1JK1B8MCxqPVYoal5JLDEyKSxTPVMranwwLFA9VihQXlMsOCksST1JK1B8MCxqPVYoal5JLDcpLEI9QitVfDAsUD1WKFBeQiwxNiksYj1iK1B8MCxVPVYoVV5iLDEyKSxCPUIrVXwwLFA9VihQXkIsOCksYj1iK1B8MCxVPVYoVV5iLDcpLEE9QStffDAsUj1WKFJeQSwxNiksST1JK1J8MCxfPVYoX15JLDEyKSxBPUErX3wwLFI9VihSXkEsOCksST1JK1J8MCxfPVYoX15JLDcpLFQ9VCtqfDAseD1WKHheVCwxNiksZz1nK3h8MCxqPVYoal5nLDEyKSxUPVQranwwLHg9Vih4XlQsOCksZz1nK3h8MCxqPVYoal5nLDcpLFM9UytMfDAsQz1WKENeUywxNiksdz13K0N8MCxMPVYoTF53LDEyKSxTPVMrTHwwLEM9VihDXlMsOCksdz13K0N8MCxMPVYoTF53LDcpO2xldCBrPTA7cltrKytdPXMrQnwwLHJbaysrXT1jK0F8MCxyW2srK109YStUfDAscltrKytdPXUrU3wwLHJbaysrXT1sK0x8MCxyW2srK109ZitVfDAscltrKytdPWgrX3wwLHJbaysrXT15K2p8MCxyW2srK109RStnfDAscltrKytdPXArd3wwLHJbaysrXT1kK2J8MCxyW2srK109ditJfDAscltrKytdPW0rUnwwLHJbaysrXT1PK3h8MCxyW2srK109TitDfDAscltrKytdPSQrUHwwfWNvbnN0ICRzPU5zKF9zLHtjb3VudGVyUmlnaHQ6ITEsY291bnRlckxlbmd0aDo0LGFsbG93U2hvcnRLZXlzOiExfSksTHM9bmV3IFVpbnQ4QXJyYXkoMTYpLFJyPSh0LGUpPT57dC51cGRhdGUoZSk7Y29uc3Qgbj1lLmxlbmd0aCUxNjtuJiZ0LnVwZGF0ZShMcy5zdWJhcnJheShuKSl9LGpzPW5ldyBVaW50OEFycmF5KDMyKTtmdW5jdGlvbiBfcih0LGUsbixyLG8pe2NvbnN0IGk9dChlLG4sanMpLHM9UnMuY3JlYXRlKGkpO28mJlJyKHMsbyksUnIocyxyKTtjb25zdCBjPW5ldyBVaW50OEFycmF5KDE2KSxhPWdzKGMpO0lyKGEsMCxCaWdJbnQobz9vLmxlbmd0aDowKSwhMCksSXIoYSw4LEJpZ0ludChyLmxlbmd0aCksITApLHMudXBkYXRlKGMpO2NvbnN0IHU9cy5kaWdlc3QoKTtyZXR1cm4gTHQoaSxjKSx1fWNvbnN0IENzPXQ9PihlLG4scik9Pih7ZW5jcnlwdChpLHMpe2NvbnN0IGM9aS5sZW5ndGg7cz1CcihjKzE2LHMsITEpLHMuc2V0KGkpO2NvbnN0IGE9cy5zdWJhcnJheSgwLC0xNik7dChlLG4sYSxhLDEpO2NvbnN0IHU9X3IodCxlLG4sYSxyKTtyZXR1cm4gcy5zZXQodSxjKSxMdCh1KSxzfSxkZWNyeXB0KGkscyl7cz1CcihpLmxlbmd0aC0xNixzLCExKTtjb25zdCBjPWkuc3ViYXJyYXkoMCwtMTYpLGE9aS5zdWJhcnJheSgtMTYpLHU9X3IodCxlLG4sYyxyKTtpZighYnMoYSx1KSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHRhZ1wiKTtyZXR1cm4gcy5zZXQoaS5zdWJhcnJheSgwLC0xNikpLHQoZSxuLHMscywxKSxMdCh1KSxzfX0pLCRyPUVzKHtibG9ja1NpemU6NjQsbm9uY2VMZW5ndGg6MTIsdGFnTGVuZ3RoOjE2fSxDcygkcykpO2NsYXNzIExyIGV4dGVuZHMgUGV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsamUoZSk7Y29uc3Qgcj1fdChuKTtpZih0aGlzLmlIYXNoPWUuY3JlYXRlKCksdHlwZW9mIHRoaXMuaUhhc2gudXBkYXRlIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgaW5zdGFuY2Ugb2YgY2xhc3Mgd2hpY2ggZXh0ZW5kcyB1dGlscy5IYXNoXCIpO3RoaXMuYmxvY2tMZW49dGhpcy5pSGFzaC5ibG9ja0xlbix0aGlzLm91dHB1dExlbj10aGlzLmlIYXNoLm91dHB1dExlbjtjb25zdCBvPXRoaXMuYmxvY2tMZW4saT1uZXcgVWludDhBcnJheShvKTtpLnNldChyLmxlbmd0aD5vP2UuY3JlYXRlKCkudXBkYXRlKHIpLmRpZ2VzdCgpOnIpO2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cysrKWlbc11ePTU0O3RoaXMuaUhhc2gudXBkYXRlKGkpLHRoaXMub0hhc2g9ZS5jcmVhdGUoKTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrKylpW3NdXj0xMDY7dGhpcy5vSGFzaC51cGRhdGUoaSksaS5maWxsKDApfXVwZGF0ZShlKXtyZXR1cm4gVHQodGhpcyksdGhpcy5pSGFzaC51cGRhdGUoZSksdGhpc31kaWdlc3RJbnRvKGUpe1R0KHRoaXMpLFd0KGUsdGhpcy5vdXRwdXRMZW4pLHRoaXMuZmluaXNoZWQ9ITAsdGhpcy5pSGFzaC5kaWdlc3RJbnRvKGUpLHRoaXMub0hhc2gudXBkYXRlKGUpLHRoaXMub0hhc2guZGlnZXN0SW50byhlKSx0aGlzLmRlc3Ryb3koKX1kaWdlc3QoKXtjb25zdCBlPW5ldyBVaW50OEFycmF5KHRoaXMub0hhc2gub3V0cHV0TGVuKTtyZXR1cm4gdGhpcy5kaWdlc3RJbnRvKGUpLGV9X2Nsb25lSW50byhlKXtlfHwoZT1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSx7fSkpO2NvbnN0e29IYXNoOm4saUhhc2g6cixmaW5pc2hlZDpvLGRlc3Ryb3llZDppLGJsb2NrTGVuOnMsb3V0cHV0TGVuOmN9PXRoaXM7cmV0dXJuIGU9ZSxlLmZpbmlzaGVkPW8sZS5kZXN0cm95ZWQ9aSxlLmJsb2NrTGVuPXMsZS5vdXRwdXRMZW49YyxlLm9IYXNoPW4uX2Nsb25lSW50byhlLm9IYXNoKSxlLmlIYXNoPXIuX2Nsb25lSW50byhlLmlIYXNoKSxlfWRlc3Ryb3koKXt0aGlzLmRlc3Ryb3llZD0hMCx0aGlzLm9IYXNoLmRlc3Ryb3koKSx0aGlzLmlIYXNoLmRlc3Ryb3koKX19Y29uc3QgcGU9KHQsZSxuKT0+bmV3IExyKHQsZSkudXBkYXRlKG4pLmRpZ2VzdCgpO3BlLmNyZWF0ZT0odCxlKT0+bmV3IExyKHQsZSk7ZnVuY3Rpb24gUHModCxlLG4pe3JldHVybiBqZSh0KSxuPT09dm9pZCAwJiYobj1uZXcgVWludDhBcnJheSh0Lm91dHB1dExlbikpLHBlKHQsX3QobiksX3QoZSkpfWNvbnN0IFllPW5ldyBVaW50OEFycmF5KFswXSksanI9bmV3IFVpbnQ4QXJyYXk7ZnVuY3Rpb24ga3ModCxlLG4scj0zMil7aWYoamUodCksR3Qocikscj4yNTUqdC5vdXRwdXRMZW4pdGhyb3cgbmV3IEVycm9yKFwiTGVuZ3RoIHNob3VsZCBiZSA8PSAyNTUqSGFzaExlblwiKTtjb25zdCBvPU1hdGguY2VpbChyL3Qub3V0cHV0TGVuKTtuPT09dm9pZCAwJiYobj1qcik7Y29uc3QgaT1uZXcgVWludDhBcnJheShvKnQub3V0cHV0TGVuKSxzPXBlLmNyZWF0ZSh0LGUpLGM9cy5fY2xvbmVJbnRvKCksYT1uZXcgVWludDhBcnJheShzLm91dHB1dExlbik7Zm9yKGxldCB1PTA7dTxvO3UrKylZZVswXT11KzEsYy51cGRhdGUodT09PTA/anI6YSkudXBkYXRlKG4pLnVwZGF0ZShZZSkuZGlnZXN0SW50byhhKSxpLnNldChhLHQub3V0cHV0TGVuKnUpLHMuX2Nsb25lSW50byhjKTtyZXR1cm4gcy5kZXN0cm95KCksYy5kZXN0cm95KCksYS5maWxsKDApLFllLmZpbGwoMCksaS5zbGljZSgwLHIpfWNvbnN0IFZzPSh0LGUsbixyLG8pPT5rcyh0LFBzKHQsZSxuKSxyLG8pO2Z1bmN0aW9uIE1zKHQsZSxuLHIpe2lmKHR5cGVvZiB0LnNldEJpZ1VpbnQ2ND09XCJmdW5jdGlvblwiKXJldHVybiB0LnNldEJpZ1VpbnQ2NChlLG4scik7Y29uc3Qgbz1CaWdJbnQoMzIpLGk9QmlnSW50KDQyOTQ5NjcyOTUpLHM9TnVtYmVyKG4+Pm8maSksYz1OdW1iZXIobiZpKSxhPXI/NDowLHU9cj8wOjQ7dC5zZXRVaW50MzIoZSthLHMsciksdC5zZXRVaW50MzIoZSt1LGMscil9ZnVuY3Rpb24gRHModCxlLG4pe3JldHVybiB0JmVefnQmbn1mdW5jdGlvbiBIcyh0LGUsbil7cmV0dXJuIHQmZV50Jm5eZSZufWNsYXNzIHFzIGV4dGVuZHMgUGV7Y29uc3RydWN0b3IoZSxuLHIsbyl7c3VwZXIoKSx0aGlzLmJsb2NrTGVuPWUsdGhpcy5vdXRwdXRMZW49bix0aGlzLnBhZE9mZnNldD1yLHRoaXMuaXNMRT1vLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5sZW5ndGg9MCx0aGlzLnBvcz0wLHRoaXMuZGVzdHJveWVkPSExLHRoaXMuYnVmZmVyPW5ldyBVaW50OEFycmF5KGUpLHRoaXMudmlldz1DZSh0aGlzLmJ1ZmZlcil9dXBkYXRlKGUpe1R0KHRoaXMpO2NvbnN0e3ZpZXc6bixidWZmZXI6cixibG9ja0xlbjpvfT10aGlzO2U9X3QoZSk7Y29uc3QgaT1lLmxlbmd0aDtmb3IobGV0IHM9MDtzPGk7KXtjb25zdCBjPU1hdGgubWluKG8tdGhpcy5wb3MsaS1zKTtpZihjPT09byl7Y29uc3QgYT1DZShlKTtmb3IoO288PWktcztzKz1vKXRoaXMucHJvY2VzcyhhLHMpO2NvbnRpbnVlfXIuc2V0KGUuc3ViYXJyYXkocyxzK2MpLHRoaXMucG9zKSx0aGlzLnBvcys9YyxzKz1jLHRoaXMucG9zPT09byYmKHRoaXMucHJvY2VzcyhuLDApLHRoaXMucG9zPTApfXJldHVybiB0aGlzLmxlbmd0aCs9ZS5sZW5ndGgsdGhpcy5yb3VuZENsZWFuKCksdGhpc31kaWdlc3RJbnRvKGUpe1R0KHRoaXMpLEduKGUsdGhpcyksdGhpcy5maW5pc2hlZD0hMDtjb25zdHtidWZmZXI6bix2aWV3OnIsYmxvY2tMZW46byxpc0xFOml9PXRoaXM7bGV0e3BvczpzfT10aGlzO25bcysrXT0xMjgsdGhpcy5idWZmZXIuc3ViYXJyYXkocykuZmlsbCgwKSx0aGlzLnBhZE9mZnNldD5vLXMmJih0aGlzLnByb2Nlc3MociwwKSxzPTApO2ZvcihsZXQgZj1zO2Y8bztmKyspbltmXT0wO01zKHIsby04LEJpZ0ludCh0aGlzLmxlbmd0aCo4KSxpKSx0aGlzLnByb2Nlc3MociwwKTtjb25zdCBjPUNlKGUpLGE9dGhpcy5vdXRwdXRMZW47aWYoYSU0KXRocm93IG5ldyBFcnJvcihcIl9zaGEyOiBvdXRwdXRMZW4gc2hvdWxkIGJlIGFsaWduZWQgdG8gMzJiaXRcIik7Y29uc3QgdT1hLzQsbD10aGlzLmdldCgpO2lmKHU+bC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiX3NoYTI6IG91dHB1dExlbiBiaWdnZXIgdGhhbiBzdGF0ZVwiKTtmb3IobGV0IGY9MDtmPHU7ZisrKWMuc2V0VWludDMyKDQqZixsW2ZdLGkpfWRpZ2VzdCgpe2NvbnN0e2J1ZmZlcjplLG91dHB1dExlbjpufT10aGlzO3RoaXMuZGlnZXN0SW50byhlKTtjb25zdCByPWUuc2xpY2UoMCxuKTtyZXR1cm4gdGhpcy5kZXN0cm95KCkscn1fY2xvbmVJbnRvKGUpe2V8fChlPW5ldyB0aGlzLmNvbnN0cnVjdG9yKSxlLnNldCguLi50aGlzLmdldCgpKTtjb25zdHtibG9ja0xlbjpuLGJ1ZmZlcjpyLGxlbmd0aDpvLGZpbmlzaGVkOmksZGVzdHJveWVkOnMscG9zOmN9PXRoaXM7cmV0dXJuIGUubGVuZ3RoPW8sZS5wb3M9YyxlLmZpbmlzaGVkPWksZS5kZXN0cm95ZWQ9cyxvJW4mJmUuYnVmZmVyLnNldChyKSxlfX1jb25zdCBLcz1uZXcgVWludDMyQXJyYXkoWzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0pLHd0PW5ldyBVaW50MzJBcnJheShbMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdKSxidD1uZXcgVWludDMyQXJyYXkoNjQpO2NsYXNzIEZzIGV4dGVuZHMgcXN7Y29uc3RydWN0b3IoKXtzdXBlcig2NCwzMiw4LCExKSx0aGlzLkE9d3RbMF18MCx0aGlzLkI9d3RbMV18MCx0aGlzLkM9d3RbMl18MCx0aGlzLkQ9d3RbM118MCx0aGlzLkU9d3RbNF18MCx0aGlzLkY9d3RbNV18MCx0aGlzLkc9d3RbNl18MCx0aGlzLkg9d3RbN118MH1nZXQoKXtjb25zdHtBOmUsQjpuLEM6cixEOm8sRTppLEY6cyxHOmMsSDphfT10aGlzO3JldHVybltlLG4scixvLGkscyxjLGFdfXNldChlLG4scixvLGkscyxjLGEpe3RoaXMuQT1lfDAsdGhpcy5CPW58MCx0aGlzLkM9cnwwLHRoaXMuRD1vfDAsdGhpcy5FPWl8MCx0aGlzLkY9c3wwLHRoaXMuRz1jfDAsdGhpcy5IPWF8MH1wcm9jZXNzKGUsbil7Zm9yKGxldCBmPTA7ZjwxNjtmKyssbis9NClidFtmXT1lLmdldFVpbnQzMihuLCExKTtmb3IobGV0IGY9MTY7Zjw2NDtmKyspe2NvbnN0IGg9YnRbZi0xNV0seT1idFtmLTJdLEU9c3QoaCw3KV5zdChoLDE4KV5oPj4+MyxwPXN0KHksMTcpXnN0KHksMTkpXnk+Pj4xMDtidFtmXT1wK2J0W2YtN10rRStidFtmLTE2XXwwfWxldHtBOnIsQjpvLEM6aSxEOnMsRTpjLEY6YSxHOnUsSDpsfT10aGlzO2ZvcihsZXQgZj0wO2Y8NjQ7ZisrKXtjb25zdCBoPXN0KGMsNilec3QoYywxMSlec3QoYywyNSkseT1sK2grRHMoYyxhLHUpK0tzW2ZdK2J0W2ZdfDAscD0oc3QociwyKV5zdChyLDEzKV5zdChyLDIyKSkrSHMocixvLGkpfDA7bD11LHU9YSxhPWMsYz1zK3l8MCxzPWksaT1vLG89cixyPXkrcHwwfXI9cit0aGlzLkF8MCxvPW8rdGhpcy5CfDAsaT1pK3RoaXMuQ3wwLHM9cyt0aGlzLkR8MCxjPWMrdGhpcy5FfDAsYT1hK3RoaXMuRnwwLHU9dSt0aGlzLkd8MCxsPWwrdGhpcy5IfDAsdGhpcy5zZXQocixvLGkscyxjLGEsdSxsKX1yb3VuZENsZWFuKCl7YnQuZmlsbCgwKX1kZXN0cm95KCl7dGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwKSx0aGlzLmJ1ZmZlci5maWxsKDApfX1jb25zdCBKdD1RbigoKT0+bmV3IEZzKTsvKiEgbm9ibGUtY3VydmVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovY29uc3QgZ2U9QmlnSW50KDApLHllPUJpZ0ludCgxKSx6cz1CaWdJbnQoMik7ZnVuY3Rpb24gU3QodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJnQuY29uc3RydWN0b3IubmFtZT09PVwiVWludDhBcnJheVwifWZ1bmN0aW9uIFF0KHQpe2lmKCFTdCh0KSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkXCIpfWZ1bmN0aW9uIGp0KHQsZSl7aWYodHlwZW9mIGUhPVwiYm9vbGVhblwiKXRocm93IG5ldyBFcnJvcih0K1wiIGJvb2xlYW4gZXhwZWN0ZWQsIGdvdCBcIitlKX1jb25zdCBacz1BcnJheS5mcm9tKHtsZW5ndGg6MjU2fSwodCxlKT0+ZS50b1N0cmluZygxNikucGFkU3RhcnQoMixcIjBcIikpO2Z1bmN0aW9uIEN0KHQpe1F0KHQpO2xldCBlPVwiXCI7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZSs9WnNbdFtuXV07cmV0dXJuIGV9ZnVuY3Rpb24gUHQodCl7Y29uc3QgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gZS5sZW5ndGgmMT9cIjBcIitlOmV9ZnVuY3Rpb24gR2UodCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gdD09PVwiXCI/Z2U6QmlnSW50KFwiMHhcIit0KX1jb25zdCB1dD17XzA6NDgsXzk6NTcsQTo2NSxGOjcwLGE6OTcsZjoxMDJ9O2Z1bmN0aW9uIENyKHQpe2lmKHQ+PXV0Ll8wJiZ0PD11dC5fOSlyZXR1cm4gdC11dC5fMDtpZih0Pj11dC5BJiZ0PD11dC5GKXJldHVybiB0LSh1dC5BLTEwKTtpZih0Pj11dC5hJiZ0PD11dC5mKXJldHVybiB0LSh1dC5hLTEwKX1mdW5jdGlvbiBrdCh0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoXCJoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgXCIrdHlwZW9mIHQpO2NvbnN0IGU9dC5sZW5ndGgsbj1lLzI7aWYoZSUyKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCB1bnBhZGRlZCBoZXggb2YgbGVuZ3RoIFwiK2UpO2NvbnN0IHI9bmV3IFVpbnQ4QXJyYXkobik7Zm9yKGxldCBvPTAsaT0wO288bjtvKyssaSs9Mil7Y29uc3Qgcz1Dcih0LmNoYXJDb2RlQXQoaSkpLGM9Q3IodC5jaGFyQ29kZUF0KGkrMSkpO2lmKHM9PT12b2lkIDB8fGM9PT12b2lkIDApe2NvbnN0IGE9dFtpXSt0W2krMV07dGhyb3cgbmV3IEVycm9yKCdoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3Qgbm9uLWhleCBjaGFyYWN0ZXIgXCInK2ErJ1wiIGF0IGluZGV4ICcraSl9cltvXT1zKjE2K2N9cmV0dXJuIHJ9ZnVuY3Rpb24gT3QodCl7cmV0dXJuIEdlKEN0KHQpKX1mdW5jdGlvbiB0ZSh0KXtyZXR1cm4gUXQodCksR2UoQ3QoVWludDhBcnJheS5mcm9tKHQpLnJldmVyc2UoKSkpfWZ1bmN0aW9uIFZ0KHQsZSl7cmV0dXJuIGt0KHQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KGUqMixcIjBcIikpfWZ1bmN0aW9uIG1lKHQsZSl7cmV0dXJuIFZ0KHQsZSkucmV2ZXJzZSgpfWZ1bmN0aW9uIFlzKHQpe3JldHVybiBrdChQdCh0KSl9ZnVuY3Rpb24gZXQodCxlLG4pe2xldCByO2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXRyeXtyPWt0KGUpfWNhdGNoKGkpe3Rocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5LCBjYXVzZTogXCIraSl9ZWxzZSBpZihTdChlKSlyPVVpbnQ4QXJyYXkuZnJvbShlKTtlbHNlIHRocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5XCIpO2NvbnN0IG89ci5sZW5ndGg7aWYodHlwZW9mIG49PVwibnVtYmVyXCImJm8hPT1uKXRocm93IG5ldyBFcnJvcih0K1wiIG9mIGxlbmd0aCBcIituK1wiIGV4cGVjdGVkLCBnb3QgXCIrbyk7cmV0dXJuIHJ9ZnVuY3Rpb24gZWUoLi4udCl7bGV0IGU9MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbz10W3JdO1F0KG8pLGUrPW8ubGVuZ3RofWNvbnN0IG49bmV3IFVpbnQ4QXJyYXkoZSk7Zm9yKGxldCByPTAsbz0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBpPXRbcl07bi5zZXQoaSxvKSxvKz1pLmxlbmd0aH1yZXR1cm4gbn1mdW5jdGlvbiBHcyh0LGUpe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7bGV0IG49MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylufD10W3JdXmVbcl07cmV0dXJuIG49PT0wfWZ1bmN0aW9uIFdzKHQpe2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcInN0cmluZyBleHBlY3RlZFwiKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHQpKX1jb25zdCBXZT10PT50eXBlb2YgdD09XCJiaWdpbnRcIiYmZ2U8PXQ7ZnVuY3Rpb24gd2UodCxlLG4pe3JldHVybiBXZSh0KSYmV2UoZSkmJldlKG4pJiZlPD10JiZ0PG59ZnVuY3Rpb24gZnQodCxlLG4scil7aWYoIXdlKGUsbixyKSl0aHJvdyBuZXcgRXJyb3IoXCJleHBlY3RlZCB2YWxpZCBcIit0K1wiOiBcIituK1wiIDw9IG4gPCBcIityK1wiLCBnb3QgXCIrZSl9ZnVuY3Rpb24gUHIodCl7bGV0IGU7Zm9yKGU9MDt0PmdlO3Q+Pj15ZSxlKz0xKTtyZXR1cm4gZX1mdW5jdGlvbiBYcyh0LGUpe3JldHVybiB0Pj5CaWdJbnQoZSkmeWV9ZnVuY3Rpb24gSnModCxlLG4pe3JldHVybiB0fChuP3llOmdlKTw8QmlnSW50KGUpfWNvbnN0IFhlPXQ9Pih6czw8QmlnSW50KHQtMSkpLXllLEplPXQ9Pm5ldyBVaW50OEFycmF5KHQpLGtyPXQ9PlVpbnQ4QXJyYXkuZnJvbSh0KTtmdW5jdGlvbiBWcih0LGUsbil7aWYodHlwZW9mIHQhPVwibnVtYmVyXCJ8fHQ8Mil0aHJvdyBuZXcgRXJyb3IoXCJoYXNoTGVuIG11c3QgYmUgYSBudW1iZXJcIik7aWYodHlwZW9mIGUhPVwibnVtYmVyXCJ8fGU8Mil0aHJvdyBuZXcgRXJyb3IoXCJxQnl0ZUxlbiBtdXN0IGJlIGEgbnVtYmVyXCIpO2lmKHR5cGVvZiBuIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiaG1hY0ZuIG11c3QgYmUgYSBmdW5jdGlvblwiKTtsZXQgcj1KZSh0KSxvPUplKHQpLGk9MDtjb25zdCBzPSgpPT57ci5maWxsKDEpLG8uZmlsbCgwKSxpPTB9LGM9KC4uLmYpPT5uKG8sciwuLi5mKSxhPShmPUplKCkpPT57bz1jKGtyKFswXSksZikscj1jKCksZi5sZW5ndGghPT0wJiYobz1jKGtyKFsxXSksZikscj1jKCkpfSx1PSgpPT57aWYoaSsrPj0xZTMpdGhyb3cgbmV3IEVycm9yKFwiZHJiZzogdHJpZWQgMTAwMCB2YWx1ZXNcIik7bGV0IGY9MDtjb25zdCBoPVtdO2Zvcig7ZjxlOyl7cj1jKCk7Y29uc3QgeT1yLnNsaWNlKCk7aC5wdXNoKHkpLGYrPXIubGVuZ3RofXJldHVybiBlZSguLi5oKX07cmV0dXJuKGYsaCk9PntzKCksYShmKTtsZXQgeTtmb3IoOyEoeT1oKHUoKSkpOylhKCk7cmV0dXJuIHMoKSx5fX1jb25zdCBRcz17YmlnaW50OnQ9PnR5cGVvZiB0PT1cImJpZ2ludFwiLGZ1bmN0aW9uOnQ9PnR5cGVvZiB0PT1cImZ1bmN0aW9uXCIsYm9vbGVhbjp0PT50eXBlb2YgdD09XCJib29sZWFuXCIsc3RyaW5nOnQ9PnR5cGVvZiB0PT1cInN0cmluZ1wiLHN0cmluZ09yVWludDhBcnJheTp0PT50eXBlb2YgdD09XCJzdHJpbmdcInx8U3QodCksaXNTYWZlSW50ZWdlcjp0PT5OdW1iZXIuaXNTYWZlSW50ZWdlcih0KSxhcnJheTp0PT5BcnJheS5pc0FycmF5KHQpLGZpZWxkOih0LGUpPT5lLkZwLmlzVmFsaWQodCksaGFzaDp0PT50eXBlb2YgdD09XCJmdW5jdGlvblwiJiZOdW1iZXIuaXNTYWZlSW50ZWdlcih0Lm91dHB1dExlbil9O2Z1bmN0aW9uIE10KHQsZSxuPXt9KXtjb25zdCByPShvLGkscyk9Pntjb25zdCBjPVFzW2ldO2lmKHR5cGVvZiBjIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB2YWxpZGF0b3IgZnVuY3Rpb25cIik7Y29uc3QgYT10W29dO2lmKCEocyYmYT09PXZvaWQgMCkmJiFjKGEsdCkpdGhyb3cgbmV3IEVycm9yKFwicGFyYW0gXCIrU3RyaW5nKG8pK1wiIGlzIGludmFsaWQuIEV4cGVjdGVkIFwiK2krXCIsIGdvdCBcIithKX07Zm9yKGNvbnN0W28saV1vZiBPYmplY3QuZW50cmllcyhlKSlyKG8saSwhMSk7Zm9yKGNvbnN0W28saV1vZiBPYmplY3QuZW50cmllcyhuKSlyKG8saSwhMCk7cmV0dXJuIHR9Y29uc3QgdGM9KCk9Pnt0aHJvdyBuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIil9O2Z1bmN0aW9uIFFlKHQpe2NvbnN0IGU9bmV3IFdlYWtNYXA7cmV0dXJuKG4sLi4ucik9Pntjb25zdCBvPWUuZ2V0KG4pO2lmKG8hPT12b2lkIDApcmV0dXJuIG87Y29uc3QgaT10KG4sLi4ucik7cmV0dXJuIGUuc2V0KG4saSksaX19dmFyIGVjPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGlzQnl0ZXM6U3QsYWJ5dGVzOlF0LGFib29sOmp0LGJ5dGVzVG9IZXg6Q3QsbnVtYmVyVG9IZXhVbnBhZGRlZDpQdCxoZXhUb051bWJlcjpHZSxoZXhUb0J5dGVzOmt0LGJ5dGVzVG9OdW1iZXJCRTpPdCxieXRlc1RvTnVtYmVyTEU6dGUsbnVtYmVyVG9CeXRlc0JFOlZ0LG51bWJlclRvQnl0ZXNMRTptZSxudW1iZXJUb1ZhckJ5dGVzQkU6WXMsZW5zdXJlQnl0ZXM6ZXQsY29uY2F0Qnl0ZXM6ZWUsZXF1YWxCeXRlczpHcyx1dGY4VG9CeXRlczpXcyxpblJhbmdlOndlLGFJblJhbmdlOmZ0LGJpdExlbjpQcixiaXRHZXQ6WHMsYml0U2V0OkpzLGJpdE1hc2s6WGUsY3JlYXRlSG1hY0RyYmc6VnIsdmFsaWRhdGVPYmplY3Q6TXQsbm90SW1wbGVtZW50ZWQ6dGMsbWVtb2l6ZWQ6UWV9KTtjb25zdCBxPUJpZ0ludCgwKSxIPUJpZ0ludCgxKSxBdD1CaWdJbnQoMiksbmM9QmlnSW50KDMpLHRuPUJpZ0ludCg0KSxNcj1CaWdJbnQoNSksRHI9QmlnSW50KDgpO2Z1bmN0aW9uIFgodCxlKXtjb25zdCBuPXQlZTtyZXR1cm4gbj49cT9uOmUrbn1mdW5jdGlvbiBIcih0LGUsbil7aWYoZTxxKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZXhwb25lbnQsIG5lZ2F0aXZlcyB1bnN1cHBvcnRlZFwiKTtpZihuPD1xKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgbW9kdWx1c1wiKTtpZihuPT09SClyZXR1cm4gcTtsZXQgcj1IO2Zvcig7ZT5xOyllJkgmJihyPXIqdCVuKSx0PXQqdCVuLGU+Pj1IO3JldHVybiByfWZ1bmN0aW9uIG90KHQsZSxuKXtsZXQgcj10O2Zvcig7ZS0tID5xOylyKj1yLHIlPW47cmV0dXJuIHJ9ZnVuY3Rpb24gZW4odCxlKXtpZih0PT09cSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZlcnQ6IGV4cGVjdGVkIG5vbi16ZXJvIG51bWJlclwiKTtpZihlPD1xKXRocm93IG5ldyBFcnJvcihcImludmVydDogZXhwZWN0ZWQgcG9zaXRpdmUgbW9kdWx1cywgZ290IFwiK2UpO2xldCBuPVgodCxlKSxyPWUsbz1xLGk9SDtmb3IoO24hPT1xOyl7Y29uc3QgYz1yL24sYT1yJW4sdT1vLWkqYztyPW4sbj1hLG89aSxpPXV9aWYociE9PUgpdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBkb2VzIG5vdCBleGlzdFwiKTtyZXR1cm4gWChvLGUpfWZ1bmN0aW9uIHJjKHQpe2NvbnN0IGU9KHQtSCkvQXQ7bGV0IG4scixvO2ZvcihuPXQtSCxyPTA7biVBdD09PXE7bi89QXQscisrKTtmb3Iobz1BdDtvPHQmJkhyKG8sZSx0KSE9PXQtSDtvKyspaWYobz4xZTMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3Q6IGxpa2VseSBub24tcHJpbWUgUFwiKTtpZihyPT09MSl7Y29uc3Qgcz0odCtIKS90bjtyZXR1cm4gZnVuY3Rpb24oYSx1KXtjb25zdCBsPWEucG93KHUscyk7aWYoIWEuZXFsKGEuc3FyKGwpLHUpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290XCIpO3JldHVybiBsfX1jb25zdCBpPShuK0gpL0F0O3JldHVybiBmdW5jdGlvbihjLGEpe2lmKGMucG93KGEsZSk9PT1jLm5lZyhjLk9ORSkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7bGV0IHU9cixsPWMucG93KGMubXVsKGMuT05FLG8pLG4pLGY9Yy5wb3coYSxpKSxoPWMucG93KGEsbik7Zm9yKDshYy5lcWwoaCxjLk9ORSk7KXtpZihjLmVxbChoLGMuWkVSTykpcmV0dXJuIGMuWkVSTztsZXQgeT0xO2ZvcihsZXQgcD1jLnNxcihoKTt5PHUmJiFjLmVxbChwLGMuT05FKTt5KyspcD1jLnNxcihwKTtjb25zdCBFPWMucG93KGwsSDw8QmlnSW50KHUteS0xKSk7bD1jLnNxcihFKSxmPWMubXVsKGYsRSksaD1jLm11bChoLGwpLHU9eX1yZXR1cm4gZn19ZnVuY3Rpb24gb2ModCl7aWYodCV0bj09PW5jKXtjb25zdCBlPSh0K0gpL3RuO3JldHVybiBmdW5jdGlvbihyLG8pe2NvbnN0IGk9ci5wb3cobyxlKTtpZighci5lcWwoci5zcXIoaSksbykpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7cmV0dXJuIGl9fWlmKHQlRHI9PT1Ncil7Y29uc3QgZT0odC1NcikvRHI7cmV0dXJuIGZ1bmN0aW9uKHIsbyl7Y29uc3QgaT1yLm11bChvLEF0KSxzPXIucG93KGksZSksYz1yLm11bChvLHMpLGE9ci5tdWwoci5tdWwoYyxBdCkscyksdT1yLm11bChjLHIuc3ViKGEsci5PTkUpKTtpZighci5lcWwoci5zcXIodSksbykpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7cmV0dXJuIHV9fXJldHVybiByYyh0KX1jb25zdCBpYz1bXCJjcmVhdGVcIixcImlzVmFsaWRcIixcImlzMFwiLFwibmVnXCIsXCJpbnZcIixcInNxcnRcIixcInNxclwiLFwiZXFsXCIsXCJhZGRcIixcInN1YlwiLFwibXVsXCIsXCJwb3dcIixcImRpdlwiLFwiYWRkTlwiLFwic3ViTlwiLFwibXVsTlwiLFwic3FyTlwiXTtmdW5jdGlvbiBzYyh0KXtjb25zdCBlPXtPUkRFUjpcImJpZ2ludFwiLE1BU0s6XCJiaWdpbnRcIixCWVRFUzpcImlzU2FmZUludGVnZXJcIixCSVRTOlwiaXNTYWZlSW50ZWdlclwifSxuPWljLnJlZHVjZSgocixvKT0+KHJbb109XCJmdW5jdGlvblwiLHIpLGUpO3JldHVybiBNdCh0LG4pfWZ1bmN0aW9uIGNjKHQsZSxuKXtpZihuPHEpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBleHBvbmVudCwgbmVnYXRpdmVzIHVuc3VwcG9ydGVkXCIpO2lmKG49PT1xKXJldHVybiB0Lk9ORTtpZihuPT09SClyZXR1cm4gZTtsZXQgcj10Lk9ORSxvPWU7Zm9yKDtuPnE7KW4mSCYmKHI9dC5tdWwocixvKSksbz10LnNxcihvKSxuPj49SDtyZXR1cm4gcn1mdW5jdGlvbiBhYyh0LGUpe2NvbnN0IG49bmV3IEFycmF5KGUubGVuZ3RoKSxyPWUucmVkdWNlKChpLHMsYyk9PnQuaXMwKHMpP2k6KG5bY109aSx0Lm11bChpLHMpKSx0Lk9ORSksbz10LmludihyKTtyZXR1cm4gZS5yZWR1Y2VSaWdodCgoaSxzLGMpPT50LmlzMChzKT9pOihuW2NdPXQubXVsKGksbltjXSksdC5tdWwoaSxzKSksbyksbn1mdW5jdGlvbiBxcih0LGUpe2NvbnN0IG49ZSE9PXZvaWQgMD9lOnQudG9TdHJpbmcoMikubGVuZ3RoLHI9TWF0aC5jZWlsKG4vOCk7cmV0dXJue25CaXRMZW5ndGg6bixuQnl0ZUxlbmd0aDpyfX1mdW5jdGlvbiBLcih0LGUsbj0hMSxyPXt9KXtpZih0PD1xKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmllbGQ6IGV4cGVjdGVkIE9SREVSID4gMCwgZ290IFwiK3QpO2NvbnN0e25CaXRMZW5ndGg6byxuQnl0ZUxlbmd0aDppfT1xcih0LGUpO2lmKGk+MjA0OCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZpZWxkOiBleHBlY3RlZCBPUkRFUiBvZiA8PSAyMDQ4IGJ5dGVzXCIpO2xldCBzO2NvbnN0IGM9T2JqZWN0LmZyZWV6ZSh7T1JERVI6dCxpc0xFOm4sQklUUzpvLEJZVEVTOmksTUFTSzpYZShvKSxaRVJPOnEsT05FOkgsY3JlYXRlOmE9PlgoYSx0KSxpc1ZhbGlkOmE9PntpZih0eXBlb2YgYSE9XCJiaWdpbnRcIil0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZpZWxkIGVsZW1lbnQ6IGV4cGVjdGVkIGJpZ2ludCwgZ290IFwiK3R5cGVvZiBhKTtyZXR1cm4gcTw9YSYmYTx0fSxpczA6YT0+YT09PXEsaXNPZGQ6YT0+KGEmSCk9PT1ILG5lZzphPT5YKC1hLHQpLGVxbDooYSx1KT0+YT09PXUsc3FyOmE9PlgoYSphLHQpLGFkZDooYSx1KT0+WChhK3UsdCksc3ViOihhLHUpPT5YKGEtdSx0KSxtdWw6KGEsdSk9PlgoYSp1LHQpLHBvdzooYSx1KT0+Y2MoYyxhLHUpLGRpdjooYSx1KT0+WChhKmVuKHUsdCksdCksc3FyTjphPT5hKmEsYWRkTjooYSx1KT0+YSt1LHN1Yk46KGEsdSk9PmEtdSxtdWxOOihhLHUpPT5hKnUsaW52OmE9PmVuKGEsdCksc3FydDpyLnNxcnR8fChhPT4oc3x8KHM9b2ModCkpLHMoYyxhKSkpLGludmVydEJhdGNoOmE9PmFjKGMsYSksY21vdjooYSx1LGwpPT5sP3U6YSx0b0J5dGVzOmE9Pm4/bWUoYSxpKTpWdChhLGkpLGZyb21CeXRlczphPT57aWYoYS5sZW5ndGghPT1pKXRocm93IG5ldyBFcnJvcihcIkZpZWxkLmZyb21CeXRlczogZXhwZWN0ZWQgXCIraStcIiBieXRlcywgZ290IFwiK2EubGVuZ3RoKTtyZXR1cm4gbj90ZShhKTpPdChhKX19KTtyZXR1cm4gT2JqZWN0LmZyZWV6ZShjKX1mdW5jdGlvbiBGcih0KXtpZih0eXBlb2YgdCE9XCJiaWdpbnRcIil0aHJvdyBuZXcgRXJyb3IoXCJmaWVsZCBvcmRlciBtdXN0IGJlIGJpZ2ludFwiKTtjb25zdCBlPXQudG9TdHJpbmcoMikubGVuZ3RoO3JldHVybiBNYXRoLmNlaWwoZS84KX1mdW5jdGlvbiB6cih0KXtjb25zdCBlPUZyKHQpO3JldHVybiBlK01hdGguY2VpbChlLzIpfWZ1bmN0aW9uIHVjKHQsZSxuPSExKXtjb25zdCByPXQubGVuZ3RoLG89RnIoZSksaT16cihlKTtpZihyPDE2fHxyPGl8fHI+MTAyNCl0aHJvdyBuZXcgRXJyb3IoXCJleHBlY3RlZCBcIitpK1wiLTEwMjQgYnl0ZXMgb2YgaW5wdXQsIGdvdCBcIityKTtjb25zdCBzPW4/dGUodCk6T3QodCksYz1YKHMsZS1IKStIO3JldHVybiBuP21lKGMsbyk6VnQoYyxvKX1jb25zdCBacj1CaWdJbnQoMCksYmU9QmlnSW50KDEpO2Z1bmN0aW9uIG5uKHQsZSl7Y29uc3Qgbj1lLm5lZ2F0ZSgpO3JldHVybiB0P246ZX1mdW5jdGlvbiBZcih0LGUpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcih0KXx8dDw9MHx8dD5lKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgd2luZG93IHNpemUsIGV4cGVjdGVkIFsxLi5cIitlK1wiXSwgZ290IFc9XCIrdCl9ZnVuY3Rpb24gcm4odCxlKXtZcih0LGUpO2NvbnN0IG49TWF0aC5jZWlsKGUvdCkrMSxyPTIqKih0LTEpO3JldHVybnt3aW5kb3dzOm4sd2luZG93U2l6ZTpyfX1mdW5jdGlvbiBmYyh0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcihcImFycmF5IGV4cGVjdGVkXCIpO3QuZm9yRWFjaCgobixyKT0+e2lmKCEobiBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgcG9pbnQgYXQgaW5kZXggXCIrcil9KX1mdW5jdGlvbiBsYyh0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcihcImFycmF5IG9mIHNjYWxhcnMgZXhwZWN0ZWRcIik7dC5mb3JFYWNoKChuLHIpPT57aWYoIWUuaXNWYWxpZChuKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNjYWxhciBhdCBpbmRleCBcIityKX0pfWNvbnN0IG9uPW5ldyBXZWFrTWFwLEdyPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIHNuKHQpe3JldHVybiBHci5nZXQodCl8fDF9ZnVuY3Rpb24gZGModCxlKXtyZXR1cm57Y29uc3RUaW1lTmVnYXRlOm5uLGhhc1ByZWNvbXB1dGVzKG4pe3JldHVybiBzbihuKSE9PTF9LHVuc2FmZUxhZGRlcihuLHIsbz10LlpFUk8pe2xldCBpPW47Zm9yKDtyPlpyOylyJmJlJiYobz1vLmFkZChpKSksaT1pLmRvdWJsZSgpLHI+Pj1iZTtyZXR1cm4gb30scHJlY29tcHV0ZVdpbmRvdyhuLHIpe2NvbnN0e3dpbmRvd3M6byx3aW5kb3dTaXplOml9PXJuKHIsZSkscz1bXTtsZXQgYz1uLGE9Yztmb3IobGV0IHU9MDt1PG87dSsrKXthPWMscy5wdXNoKGEpO2ZvcihsZXQgbD0xO2w8aTtsKyspYT1hLmFkZChjKSxzLnB1c2goYSk7Yz1hLmRvdWJsZSgpfXJldHVybiBzfSx3TkFGKG4scixvKXtjb25zdHt3aW5kb3dzOmksd2luZG93U2l6ZTpzfT1ybihuLGUpO2xldCBjPXQuWkVSTyxhPXQuQkFTRTtjb25zdCB1PUJpZ0ludCgyKipuLTEpLGw9MioqbixmPUJpZ0ludChuKTtmb3IobGV0IGg9MDtoPGk7aCsrKXtjb25zdCB5PWgqcztsZXQgRT1OdW1iZXIobyZ1KTtvPj49ZixFPnMmJihFLT1sLG8rPWJlKTtjb25zdCBwPXksZD15K01hdGguYWJzKEUpLTEsdj1oJTIhPT0wLG09RTwwO0U9PT0wP2E9YS5hZGQobm4odixyW3BdKSk6Yz1jLmFkZChubihtLHJbZF0pKX1yZXR1cm57cDpjLGY6YX19LHdOQUZVbnNhZmUobixyLG8saT10LlpFUk8pe2NvbnN0e3dpbmRvd3M6cyx3aW5kb3dTaXplOmN9PXJuKG4sZSksYT1CaWdJbnQoMioqbi0xKSx1PTIqKm4sbD1CaWdJbnQobik7Zm9yKGxldCBmPTA7ZjxzO2YrKyl7Y29uc3QgaD1mKmM7aWYobz09PVpyKWJyZWFrO2xldCB5PU51bWJlcihvJmEpO2lmKG8+Pj1sLHk+YyYmKHktPXUsbys9YmUpLHk9PT0wKWNvbnRpbnVlO2xldCBFPXJbaCtNYXRoLmFicyh5KS0xXTt5PDAmJihFPUUubmVnYXRlKCkpLGk9aS5hZGQoRSl9cmV0dXJuIGl9LGdldFByZWNvbXB1dGVzKG4scixvKXtsZXQgaT1vbi5nZXQocik7cmV0dXJuIGl8fChpPXRoaXMucHJlY29tcHV0ZVdpbmRvdyhyLG4pLG4hPT0xJiZvbi5zZXQocixvKGkpKSksaX0sd05BRkNhY2hlZChuLHIsbyl7Y29uc3QgaT1zbihuKTtyZXR1cm4gdGhpcy53TkFGKGksdGhpcy5nZXRQcmVjb21wdXRlcyhpLG4sbykscil9LHdOQUZDYWNoZWRVbnNhZmUobixyLG8saSl7Y29uc3Qgcz1zbihuKTtyZXR1cm4gcz09PTE/dGhpcy51bnNhZmVMYWRkZXIobixyLGkpOnRoaXMud05BRlVuc2FmZShzLHRoaXMuZ2V0UHJlY29tcHV0ZXMocyxuLG8pLHIsaSl9LHNldFdpbmRvd1NpemUobixyKXtZcihyLGUpLEdyLnNldChuLHIpLG9uLmRlbGV0ZShuKX19fWZ1bmN0aW9uIGhjKHQsZSxuLHIpe2lmKGZjKG4sdCksbGMocixlKSxuLmxlbmd0aCE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImFycmF5cyBvZiBwb2ludHMgYW5kIHNjYWxhcnMgbXVzdCBoYXZlIGVxdWFsIGxlbmd0aFwiKTtjb25zdCBvPXQuWkVSTyxpPVByKEJpZ0ludChuLmxlbmd0aCkpLHM9aT4xMj9pLTM6aT40P2ktMjppPzI6MSxjPSgxPDxzKS0xLGE9bmV3IEFycmF5KGMrMSkuZmlsbChvKSx1PU1hdGguZmxvb3IoKGUuQklUUy0xKS9zKSpzO2xldCBsPW87Zm9yKGxldCBmPXU7Zj49MDtmLT1zKXthLmZpbGwobyk7Zm9yKGxldCB5PTA7eTxyLmxlbmd0aDt5Kyspe2NvbnN0IEU9clt5XSxwPU51bWJlcihFPj5CaWdJbnQoZikmQmlnSW50KGMpKTthW3BdPWFbcF0uYWRkKG5beV0pfWxldCBoPW87Zm9yKGxldCB5PWEubGVuZ3RoLTEsRT1vO3k+MDt5LS0pRT1FLmFkZChhW3ldKSxoPWguYWRkKEUpO2lmKGw9bC5hZGQoaCksZiE9PTApZm9yKGxldCB5PTA7eTxzO3krKylsPWwuZG91YmxlKCl9cmV0dXJuIGx9ZnVuY3Rpb24gV3IodCl7cmV0dXJuIHNjKHQuRnApLE10KHQse246XCJiaWdpbnRcIixoOlwiYmlnaW50XCIsR3g6XCJmaWVsZFwiLEd5OlwiZmllbGRcIn0se25CaXRMZW5ndGg6XCJpc1NhZmVJbnRlZ2VyXCIsbkJ5dGVMZW5ndGg6XCJpc1NhZmVJbnRlZ2VyXCJ9KSxPYmplY3QuZnJlZXplKHsuLi5xcih0Lm4sdC5uQml0TGVuZ3RoKSwuLi50LHA6dC5GcC5PUkRFUn0pfUJpZ0ludCgwKSxCaWdJbnQoMSksQmlnSW50KDIpLEJpZ0ludCg4KTtjb25zdCBEdD1CaWdJbnQoMCksY249QmlnSW50KDEpO2Z1bmN0aW9uIHBjKHQpe3JldHVybiBNdCh0LHthOlwiYmlnaW50XCJ9LHttb250Z29tZXJ5Qml0czpcImlzU2FmZUludGVnZXJcIixuQnl0ZUxlbmd0aDpcImlzU2FmZUludGVnZXJcIixhZGp1c3RTY2FsYXJCeXRlczpcImZ1bmN0aW9uXCIsZG9tYWluOlwiZnVuY3Rpb25cIixwb3dQbWludXMyOlwiZnVuY3Rpb25cIixHdTpcImJpZ2ludFwifSksT2JqZWN0LmZyZWV6ZSh7Li4udH0pfWZ1bmN0aW9uIGdjKHQpe2NvbnN0IGU9cGModCkse1A6bn09ZSxyPW09PlgobSxuKSxvPWUubW9udGdvbWVyeUJpdHMsaT1NYXRoLmNlaWwoby84KSxzPWUubkJ5dGVMZW5ndGgsYz1lLmFkanVzdFNjYWxhckJ5dGVzfHwobT0+bSksYT1lLnBvd1BtaW51czJ8fChtPT5IcihtLG4tQmlnSW50KDIpLG4pKTtmdW5jdGlvbiB1KG0sTyxOKXtjb25zdCAkPXIobSooTy1OKSk7cmV0dXJuIE89cihPLSQpLE49cihOKyQpLFtPLE5dfWNvbnN0IGw9KGUuYS1CaWdJbnQoMikpL0JpZ0ludCg0KTtmdW5jdGlvbiBmKG0sTyl7ZnQoXCJ1XCIsbSxEdCxuKSxmdChcInNjYWxhclwiLE8sRHQsbik7Y29uc3QgTj1PLCQ9bTtsZXQgQj1jbixBPUR0LFQ9bSxTPWNuLEw9RHQsVTtmb3IobGV0IGo9QmlnSW50KG8tMSk7aj49RHQ7ai0tKXtjb25zdCBnPU4+PmomY247TF49ZyxVPXUoTCxCLFQpLEI9VVswXSxUPVVbMV0sVT11KEwsQSxTKSxBPVVbMF0sUz1VWzFdLEw9Zztjb25zdCB3PUIrQSxiPXIodyp3KSxJPUItQSxSPXIoSSpJKSx4PWItUixDPVQrUyxQPVQtUyxrPXIoUCp3KSxNPXIoQypJKSxEPWsrTSx6PWstTTtUPXIoRCpEKSxTPXIoJCpyKHoqeikpLEI9cihiKlIpLEE9cih4KihiK3IobCp4KSkpfVU9dShMLEIsVCksQj1VWzBdLFQ9VVsxXSxVPXUoTCxBLFMpLEE9VVswXSxTPVVbMV07Y29uc3QgXz1hKEEpO3JldHVybiByKEIqXyl9ZnVuY3Rpb24gaChtKXtyZXR1cm4gbWUocihtKSxpKX1mdW5jdGlvbiB5KG0pe2NvbnN0IE89ZXQoXCJ1IGNvb3JkaW5hdGVcIixtLGkpO3JldHVybiBzPT09MzImJihPWzMxXSY9MTI3KSx0ZShPKX1mdW5jdGlvbiBFKG0pe2NvbnN0IE89ZXQoXCJzY2FsYXJcIixtKSxOPU8ubGVuZ3RoO2lmKE4hPT1pJiZOIT09cyl7bGV0ICQ9XCJcIitpK1wiIG9yIFwiK3M7dGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzY2FsYXIsIGV4cGVjdGVkIFwiKyQrXCIgYnl0ZXMsIGdvdCBcIitOKX1yZXR1cm4gdGUoYyhPKSl9ZnVuY3Rpb24gcChtLE8pe2NvbnN0IE49eShPKSwkPUUobSksQj1mKE4sJCk7aWYoQj09PUR0KXRocm93IG5ldyBFcnJvcihcImludmFsaWQgcHJpdmF0ZSBvciBwdWJsaWMga2V5IHJlY2VpdmVkXCIpO3JldHVybiBoKEIpfWNvbnN0IGQ9aChlLkd1KTtmdW5jdGlvbiB2KG0pe3JldHVybiBwKG0sZCl9cmV0dXJue3NjYWxhck11bHQ6cCxzY2FsYXJNdWx0QmFzZTp2LGdldFNoYXJlZFNlY3JldDoobSxPKT0+cChtLE8pLGdldFB1YmxpY0tleTptPT52KG0pLHV0aWxzOntyYW5kb21Qcml2YXRlS2V5OigpPT5lLnJhbmRvbUJ5dGVzKGUubkJ5dGVMZW5ndGgpfSxHdUJ5dGVzOmR9fWNvbnN0IGFuPUJpZ0ludChcIjU3ODk2MDQ0NjE4NjU4MDk3NzExNzg1NDkyNTA0MzQzOTUzOTI2NjM0OTkyMzMyODIwMjgyMDE5NzI4NzkyMDAzOTU2NTY0ODE5OTQ5XCIpO0JpZ0ludCgwKTtjb25zdCB5Yz1CaWdJbnQoMSksWHI9QmlnSW50KDIpLG1jPUJpZ0ludCgzKSx3Yz1CaWdJbnQoNSk7QmlnSW50KDgpO2Z1bmN0aW9uIGJjKHQpe2NvbnN0IGU9QmlnSW50KDEwKSxuPUJpZ0ludCgyMCkscj1CaWdJbnQoNDApLG89QmlnSW50KDgwKSxpPWFuLGM9dCp0JWkqdCVpLGE9b3QoYyxYcixpKSpjJWksdT1vdChhLHljLGkpKnQlaSxsPW90KHUsd2MsaSkqdSVpLGY9b3QobCxlLGkpKmwlaSxoPW90KGYsbixpKSpmJWkseT1vdChoLHIsaSkqaCVpLEU9b3QoeSxvLGkpKnklaSxwPW90KEUsbyxpKSp5JWksZD1vdChwLGUsaSkqbCVpO3JldHVybntwb3dfcF81Xzg6b3QoZCxYcixpKSp0JWksYjI6Y319ZnVuY3Rpb24gRWModCl7cmV0dXJuIHRbMF0mPTI0OCx0WzMxXSY9MTI3LHRbMzFdfD02NCx0fWNvbnN0IHVuPWdjKHtQOmFuLGE6QmlnSW50KDQ4NjY2MiksbW9udGdvbWVyeUJpdHM6MjU1LG5CeXRlTGVuZ3RoOjMyLEd1OkJpZ0ludCg5KSxwb3dQbWludXMyOnQ9Pntjb25zdCBlPWFuLHtwb3dfcF81Xzg6bixiMjpyfT1iYyh0KTtyZXR1cm4gWChvdChuLG1jLGUpKnIsZSl9LGFkanVzdFNjYWxhckJ5dGVzOkVjLHJhbmRvbUJ5dGVzOiR0fSk7ZnVuY3Rpb24gSnIodCl7dC5sb3dTIT09dm9pZCAwJiZqdChcImxvd1NcIix0Lmxvd1MpLHQucHJlaGFzaCE9PXZvaWQgMCYmanQoXCJwcmVoYXNoXCIsdC5wcmVoYXNoKX1mdW5jdGlvbiB2Yyh0KXtjb25zdCBlPVdyKHQpO010KGUse2E6XCJmaWVsZFwiLGI6XCJmaWVsZFwifSx7YWxsb3dlZFByaXZhdGVLZXlMZW5ndGhzOlwiYXJyYXlcIix3cmFwUHJpdmF0ZUtleTpcImJvb2xlYW5cIixpc1RvcnNpb25GcmVlOlwiZnVuY3Rpb25cIixjbGVhckNvZmFjdG9yOlwiZnVuY3Rpb25cIixhbGxvd0luZmluaXR5UG9pbnQ6XCJib29sZWFuXCIsZnJvbUJ5dGVzOlwiZnVuY3Rpb25cIix0b0J5dGVzOlwiZnVuY3Rpb25cIn0pO2NvbnN0e2VuZG86bixGcDpyLGE6b309ZTtpZihuKXtpZighci5lcWwobyxyLlpFUk8pKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZW5kb21vcnBoaXNtLCBjYW4gb25seSBiZSBkZWZpbmVkIGZvciBLb2JsaXR6IGN1cnZlcyB0aGF0IGhhdmUgYT0wXCIpO2lmKHR5cGVvZiBuIT1cIm9iamVjdFwifHx0eXBlb2Ygbi5iZXRhIT1cImJpZ2ludFwifHx0eXBlb2Ygbi5zcGxpdFNjYWxhciE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZW5kb21vcnBoaXNtLCBleHBlY3RlZCBiZXRhOiBiaWdpbnQgYW5kIHNwbGl0U2NhbGFyOiBmdW5jdGlvblwiKX1yZXR1cm4gT2JqZWN0LmZyZWV6ZSh7Li4uZX0pfWNvbnN0e2J5dGVzVG9OdW1iZXJCRTp4YyxoZXhUb0J5dGVzOlNjfT1lYztjbGFzcyBPYyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGU9XCJcIil7c3VwZXIoZSl9fWNvbnN0IGx0PXtFcnI6T2MsX3Rsdjp7ZW5jb2RlOih0LGUpPT57Y29uc3R7RXJyOm59PWx0O2lmKHQ8MHx8dD4yNTYpdGhyb3cgbmV3IG4oXCJ0bHYuZW5jb2RlOiB3cm9uZyB0YWdcIik7aWYoZS5sZW5ndGgmMSl0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IHVucGFkZGVkIGRhdGFcIik7Y29uc3Qgcj1lLmxlbmd0aC8yLG89UHQocik7aWYoby5sZW5ndGgvMiYxMjgpdGhyb3cgbmV3IG4oXCJ0bHYuZW5jb2RlOiBsb25nIGZvcm0gbGVuZ3RoIHRvbyBiaWdcIik7Y29uc3QgaT1yPjEyNz9QdChvLmxlbmd0aC8yfDEyOCk6XCJcIjtyZXR1cm4gUHQodCkraStvK2V9LGRlY29kZSh0LGUpe2NvbnN0e0VycjpufT1sdDtsZXQgcj0wO2lmKHQ8MHx8dD4yNTYpdGhyb3cgbmV3IG4oXCJ0bHYuZW5jb2RlOiB3cm9uZyB0YWdcIik7aWYoZS5sZW5ndGg8Mnx8ZVtyKytdIT09dCl0aHJvdyBuZXcgbihcInRsdi5kZWNvZGU6IHdyb25nIHRsdlwiKTtjb25zdCBvPWVbcisrXSxpPSEhKG8mMTI4KTtsZXQgcz0wO2lmKCFpKXM9bztlbHNle2NvbnN0IGE9byYxMjc7aWYoIWEpdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlKGxvbmcpOiBpbmRlZmluaXRlIGxlbmd0aCBub3Qgc3VwcG9ydGVkXCIpO2lmKGE+NCl0aHJvdyBuZXcgbihcInRsdi5kZWNvZGUobG9uZyk6IGJ5dGUgbGVuZ3RoIGlzIHRvbyBiaWdcIik7Y29uc3QgdT1lLnN1YmFycmF5KHIscithKTtpZih1Lmxlbmd0aCE9PWEpdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlOiBsZW5ndGggYnl0ZXMgbm90IGNvbXBsZXRlXCIpO2lmKHVbMF09PT0wKXRocm93IG5ldyBuKFwidGx2LmRlY29kZShsb25nKTogemVybyBsZWZ0bW9zdCBieXRlXCIpO2Zvcihjb25zdCBsIG9mIHUpcz1zPDw4fGw7aWYocis9YSxzPDEyOCl0aHJvdyBuZXcgbihcInRsdi5kZWNvZGUobG9uZyk6IG5vdCBtaW5pbWFsIGVuY29kaW5nXCIpfWNvbnN0IGM9ZS5zdWJhcnJheShyLHIrcyk7aWYoYy5sZW5ndGghPT1zKXRocm93IG5ldyBuKFwidGx2LmRlY29kZTogd3JvbmcgdmFsdWUgbGVuZ3RoXCIpO3JldHVybnt2OmMsbDplLnN1YmFycmF5KHIrcyl9fX0sX2ludDp7ZW5jb2RlKHQpe2NvbnN0e0VycjplfT1sdDtpZih0PGR0KXRocm93IG5ldyBlKFwiaW50ZWdlcjogbmVnYXRpdmUgaW50ZWdlcnMgYXJlIG5vdCBhbGxvd2VkXCIpO2xldCBuPVB0KHQpO2lmKE51bWJlci5wYXJzZUludChuWzBdLDE2KSY4JiYobj1cIjAwXCIrbiksbi5sZW5ndGgmMSl0aHJvdyBuZXcgZShcInVuZXhwZWN0ZWQgREVSIHBhcnNpbmcgYXNzZXJ0aW9uOiB1bnBhZGRlZCBoZXhcIik7cmV0dXJuIG59LGRlY29kZSh0KXtjb25zdHtFcnI6ZX09bHQ7aWYodFswXSYxMjgpdGhyb3cgbmV3IGUoXCJpbnZhbGlkIHNpZ25hdHVyZSBpbnRlZ2VyOiBuZWdhdGl2ZVwiKTtpZih0WzBdPT09MCYmISh0WzFdJjEyOCkpdGhyb3cgbmV3IGUoXCJpbnZhbGlkIHNpZ25hdHVyZSBpbnRlZ2VyOiB1bm5lY2Vzc2FyeSBsZWFkaW5nIHplcm9cIik7cmV0dXJuIHhjKHQpfX0sdG9TaWcodCl7Y29uc3R7RXJyOmUsX2ludDpuLF90bHY6cn09bHQsbz10eXBlb2YgdD09XCJzdHJpbmdcIj9TYyh0KTp0O1F0KG8pO2NvbnN0e3Y6aSxsOnN9PXIuZGVjb2RlKDQ4LG8pO2lmKHMubGVuZ3RoKXRocm93IG5ldyBlKFwiaW52YWxpZCBzaWduYXR1cmU6IGxlZnQgYnl0ZXMgYWZ0ZXIgcGFyc2luZ1wiKTtjb25zdHt2OmMsbDphfT1yLmRlY29kZSgyLGkpLHt2OnUsbH09ci5kZWNvZGUoMixhKTtpZihsLmxlbmd0aCl0aHJvdyBuZXcgZShcImludmFsaWQgc2lnbmF0dXJlOiBsZWZ0IGJ5dGVzIGFmdGVyIHBhcnNpbmdcIik7cmV0dXJue3I6bi5kZWNvZGUoYyksczpuLmRlY29kZSh1KX19LGhleEZyb21TaWcodCl7Y29uc3R7X3RsdjplLF9pbnQ6bn09bHQscj1lLmVuY29kZSgyLG4uZW5jb2RlKHQucikpLG89ZS5lbmNvZGUoMixuLmVuY29kZSh0LnMpKSxpPXIrbztyZXR1cm4gZS5lbmNvZGUoNDgsaSl9fSxkdD1CaWdJbnQoMCksSz1CaWdJbnQoMSk7QmlnSW50KDIpO2NvbnN0IFFyPUJpZ0ludCgzKTtCaWdJbnQoNCk7ZnVuY3Rpb24gQWModCl7Y29uc3QgZT12Yyh0KSx7RnA6bn09ZSxyPUtyKGUubixlLm5CaXRMZW5ndGgpLG89ZS50b0J5dGVzfHwoKHAsZCx2KT0+e2NvbnN0IG09ZC50b0FmZmluZSgpO3JldHVybiBlZShVaW50OEFycmF5LmZyb20oWzRdKSxuLnRvQnl0ZXMobS54KSxuLnRvQnl0ZXMobS55KSl9KSxpPWUuZnJvbUJ5dGVzfHwocD0+e2NvbnN0IGQ9cC5zdWJhcnJheSgxKSx2PW4uZnJvbUJ5dGVzKGQuc3ViYXJyYXkoMCxuLkJZVEVTKSksbT1uLmZyb21CeXRlcyhkLnN1YmFycmF5KG4uQllURVMsMipuLkJZVEVTKSk7cmV0dXJue3g6dix5Om19fSk7ZnVuY3Rpb24gcyhwKXtjb25zdHthOmQsYjp2fT1lLG09bi5zcXIocCksTz1uLm11bChtLHApO3JldHVybiBuLmFkZChuLmFkZChPLG4ubXVsKHAsZCkpLHYpfWlmKCFuLmVxbChuLnNxcihlLkd5KSxzKGUuR3gpKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgZ2VuZXJhdG9yIHBvaW50OiBlcXVhdGlvbiBsZWZ0ICE9IHJpZ2h0XCIpO2Z1bmN0aW9uIGMocCl7cmV0dXJuIHdlKHAsSyxlLm4pfWZ1bmN0aW9uIGEocCl7Y29uc3R7YWxsb3dlZFByaXZhdGVLZXlMZW5ndGhzOmQsbkJ5dGVMZW5ndGg6dix3cmFwUHJpdmF0ZUtleTptLG46T309ZTtpZihkJiZ0eXBlb2YgcCE9XCJiaWdpbnRcIil7aWYoU3QocCkmJihwPUN0KHApKSx0eXBlb2YgcCE9XCJzdHJpbmdcInx8IWQuaW5jbHVkZXMocC5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgcHJpdmF0ZSBrZXlcIik7cD1wLnBhZFN0YXJ0KHYqMixcIjBcIil9bGV0IE47dHJ5e049dHlwZW9mIHA9PVwiYmlnaW50XCI/cDpPdChldChcInByaXZhdGUga2V5XCIscCx2KSl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwcml2YXRlIGtleSwgZXhwZWN0ZWQgaGV4IG9yIFwiK3YrXCIgYnl0ZXMsIGdvdCBcIit0eXBlb2YgcCl9cmV0dXJuIG0mJihOPVgoTixPKSksZnQoXCJwcml2YXRlIGtleVwiLE4sSyxPKSxOfWZ1bmN0aW9uIHUocCl7aWYoIShwIGluc3RhbmNlb2YgaCkpdGhyb3cgbmV3IEVycm9yKFwiUHJvamVjdGl2ZVBvaW50IGV4cGVjdGVkXCIpfWNvbnN0IGw9UWUoKHAsZCk9Pntjb25zdHtweDp2LHB5Om0scHo6T309cDtpZihuLmVxbChPLG4uT05FKSlyZXR1cm57eDp2LHk6bX07Y29uc3QgTj1wLmlzMCgpO2Q9PW51bGwmJihkPU4/bi5PTkU6bi5pbnYoTykpO2NvbnN0ICQ9bi5tdWwodixkKSxCPW4ubXVsKG0sZCksQT1uLm11bChPLGQpO2lmKE4pcmV0dXJue3g6bi5aRVJPLHk6bi5aRVJPfTtpZighbi5lcWwoQSxuLk9ORSkpdGhyb3cgbmV3IEVycm9yKFwiaW52WiB3YXMgaW52YWxpZFwiKTtyZXR1cm57eDokLHk6Qn19KSxmPVFlKHA9PntpZihwLmlzMCgpKXtpZihlLmFsbG93SW5maW5pdHlQb2ludCYmIW4uaXMwKHAucHkpKXJldHVybjt0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IFpFUk9cIil9Y29uc3R7eDpkLHk6dn09cC50b0FmZmluZSgpO2lmKCFuLmlzVmFsaWQoZCl8fCFuLmlzVmFsaWQodikpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiB4IG9yIHkgbm90IEZFXCIpO2NvbnN0IG09bi5zcXIodiksTz1zKGQpO2lmKCFuLmVxbChtLE8pKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogZXF1YXRpb24gbGVmdCAhPSByaWdodFwiKTtpZighcC5pc1RvcnNpb25GcmVlKCkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBub3QgaW4gcHJpbWUtb3JkZXIgc3ViZ3JvdXBcIik7cmV0dXJuITB9KTtjbGFzcyBoe2NvbnN0cnVjdG9yKGQsdixtKXtpZih0aGlzLnB4PWQsdGhpcy5weT12LHRoaXMucHo9bSxkPT1udWxsfHwhbi5pc1ZhbGlkKGQpKXRocm93IG5ldyBFcnJvcihcInggcmVxdWlyZWRcIik7aWYodj09bnVsbHx8IW4uaXNWYWxpZCh2KSl0aHJvdyBuZXcgRXJyb3IoXCJ5IHJlcXVpcmVkXCIpO2lmKG09PW51bGx8fCFuLmlzVmFsaWQobSkpdGhyb3cgbmV3IEVycm9yKFwieiByZXF1aXJlZFwiKTtPYmplY3QuZnJlZXplKHRoaXMpfXN0YXRpYyBmcm9tQWZmaW5lKGQpe2NvbnN0e3g6dix5Om19PWR8fHt9O2lmKCFkfHwhbi5pc1ZhbGlkKHYpfHwhbi5pc1ZhbGlkKG0pKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgYWZmaW5lIHBvaW50XCIpO2lmKGQgaW5zdGFuY2VvZiBoKXRocm93IG5ldyBFcnJvcihcInByb2plY3RpdmUgcG9pbnQgbm90IGFsbG93ZWRcIik7Y29uc3QgTz1OPT5uLmVxbChOLG4uWkVSTyk7cmV0dXJuIE8odikmJk8obSk/aC5aRVJPOm5ldyBoKHYsbSxuLk9ORSl9Z2V0IHgoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnh9Z2V0IHkoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnl9c3RhdGljIG5vcm1hbGl6ZVooZCl7Y29uc3Qgdj1uLmludmVydEJhdGNoKGQubWFwKG09Pm0ucHopKTtyZXR1cm4gZC5tYXAoKG0sTyk9Pm0udG9BZmZpbmUodltPXSkpLm1hcChoLmZyb21BZmZpbmUpfXN0YXRpYyBmcm9tSGV4KGQpe2NvbnN0IHY9aC5mcm9tQWZmaW5lKGkoZXQoXCJwb2ludEhleFwiLGQpKSk7cmV0dXJuIHYuYXNzZXJ0VmFsaWRpdHkoKSx2fXN0YXRpYyBmcm9tUHJpdmF0ZUtleShkKXtyZXR1cm4gaC5CQVNFLm11bHRpcGx5KGEoZCkpfXN0YXRpYyBtc20oZCx2KXtyZXR1cm4gaGMoaCxyLGQsdil9X3NldFdpbmRvd1NpemUoZCl7RS5zZXRXaW5kb3dTaXplKHRoaXMsZCl9YXNzZXJ0VmFsaWRpdHkoKXtmKHRoaXMpfWhhc0V2ZW5ZKCl7Y29uc3R7eTpkfT10aGlzLnRvQWZmaW5lKCk7aWYobi5pc09kZClyZXR1cm4hbi5pc09kZChkKTt0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZCBkb2Vzbid0IHN1cHBvcnQgaXNPZGRcIil9ZXF1YWxzKGQpe3UoZCk7Y29uc3R7cHg6dixweTptLHB6Ok99PXRoaXMse3B4Ok4scHk6JCxwejpCfT1kLEE9bi5lcWwobi5tdWwodixCKSxuLm11bChOLE8pKSxUPW4uZXFsKG4ubXVsKG0sQiksbi5tdWwoJCxPKSk7cmV0dXJuIEEmJlR9bmVnYXRlKCl7cmV0dXJuIG5ldyBoKHRoaXMucHgsbi5uZWcodGhpcy5weSksdGhpcy5weil9ZG91YmxlKCl7Y29uc3R7YTpkLGI6dn09ZSxtPW4ubXVsKHYsUXIpLHtweDpPLHB5Ok4scHo6JH09dGhpcztsZXQgQj1uLlpFUk8sQT1uLlpFUk8sVD1uLlpFUk8sUz1uLm11bChPLE8pLEw9bi5tdWwoTixOKSxVPW4ubXVsKCQsJCksXz1uLm11bChPLE4pO3JldHVybiBfPW4uYWRkKF8sXyksVD1uLm11bChPLCQpLFQ9bi5hZGQoVCxUKSxCPW4ubXVsKGQsVCksQT1uLm11bChtLFUpLEE9bi5hZGQoQixBKSxCPW4uc3ViKEwsQSksQT1uLmFkZChMLEEpLEE9bi5tdWwoQixBKSxCPW4ubXVsKF8sQiksVD1uLm11bChtLFQpLFU9bi5tdWwoZCxVKSxfPW4uc3ViKFMsVSksXz1uLm11bChkLF8pLF89bi5hZGQoXyxUKSxUPW4uYWRkKFMsUyksUz1uLmFkZChULFMpLFM9bi5hZGQoUyxVKSxTPW4ubXVsKFMsXyksQT1uLmFkZChBLFMpLFU9bi5tdWwoTiwkKSxVPW4uYWRkKFUsVSksUz1uLm11bChVLF8pLEI9bi5zdWIoQixTKSxUPW4ubXVsKFUsTCksVD1uLmFkZChULFQpLFQ9bi5hZGQoVCxUKSxuZXcgaChCLEEsVCl9YWRkKGQpe3UoZCk7Y29uc3R7cHg6dixweTptLHB6Ok99PXRoaXMse3B4Ok4scHk6JCxwejpCfT1kO2xldCBBPW4uWkVSTyxUPW4uWkVSTyxTPW4uWkVSTztjb25zdCBMPWUuYSxVPW4ubXVsKGUuYixRcik7bGV0IF89bi5tdWwodixOKSxqPW4ubXVsKG0sJCksZz1uLm11bChPLEIpLHc9bi5hZGQodixtKSxiPW4uYWRkKE4sJCk7dz1uLm11bCh3LGIpLGI9bi5hZGQoXyxqKSx3PW4uc3ViKHcsYiksYj1uLmFkZCh2LE8pO2xldCBJPW4uYWRkKE4sQik7cmV0dXJuIGI9bi5tdWwoYixJKSxJPW4uYWRkKF8sZyksYj1uLnN1YihiLEkpLEk9bi5hZGQobSxPKSxBPW4uYWRkKCQsQiksST1uLm11bChJLEEpLEE9bi5hZGQoaixnKSxJPW4uc3ViKEksQSksUz1uLm11bChMLGIpLEE9bi5tdWwoVSxnKSxTPW4uYWRkKEEsUyksQT1uLnN1YihqLFMpLFM9bi5hZGQoaixTKSxUPW4ubXVsKEEsUyksaj1uLmFkZChfLF8pLGo9bi5hZGQoaixfKSxnPW4ubXVsKEwsZyksYj1uLm11bChVLGIpLGo9bi5hZGQoaixnKSxnPW4uc3ViKF8sZyksZz1uLm11bChMLGcpLGI9bi5hZGQoYixnKSxfPW4ubXVsKGosYiksVD1uLmFkZChULF8pLF89bi5tdWwoSSxiKSxBPW4ubXVsKHcsQSksQT1uLnN1YihBLF8pLF89bi5tdWwodyxqKSxTPW4ubXVsKEksUyksUz1uLmFkZChTLF8pLG5ldyBoKEEsVCxTKX1zdWJ0cmFjdChkKXtyZXR1cm4gdGhpcy5hZGQoZC5uZWdhdGUoKSl9aXMwKCl7cmV0dXJuIHRoaXMuZXF1YWxzKGguWkVSTyl9d05BRihkKXtyZXR1cm4gRS53TkFGQ2FjaGVkKHRoaXMsZCxoLm5vcm1hbGl6ZVopfW11bHRpcGx5VW5zYWZlKGQpe2NvbnN0e2VuZG86dixuOm19PWU7ZnQoXCJzY2FsYXJcIixkLGR0LG0pO2NvbnN0IE89aC5aRVJPO2lmKGQ9PT1kdClyZXR1cm4gTztpZih0aGlzLmlzMCgpfHxkPT09SylyZXR1cm4gdGhpcztpZighdnx8RS5oYXNQcmVjb21wdXRlcyh0aGlzKSlyZXR1cm4gRS53TkFGQ2FjaGVkVW5zYWZlKHRoaXMsZCxoLm5vcm1hbGl6ZVopO2xldHtrMW5lZzpOLGsxOiQsazJuZWc6QixrMjpBfT12LnNwbGl0U2NhbGFyKGQpLFQ9TyxTPU8sTD10aGlzO2Zvcig7JD5kdHx8QT5kdDspJCZLJiYoVD1ULmFkZChMKSksQSZLJiYoUz1TLmFkZChMKSksTD1MLmRvdWJsZSgpLCQ+Pj1LLEE+Pj1LO3JldHVybiBOJiYoVD1ULm5lZ2F0ZSgpKSxCJiYoUz1TLm5lZ2F0ZSgpKSxTPW5ldyBoKG4ubXVsKFMucHgsdi5iZXRhKSxTLnB5LFMucHopLFQuYWRkKFMpfW11bHRpcGx5KGQpe2NvbnN0e2VuZG86dixuOm19PWU7ZnQoXCJzY2FsYXJcIixkLEssbSk7bGV0IE8sTjtpZih2KXtjb25zdHtrMW5lZzokLGsxOkIsazJuZWc6QSxrMjpUfT12LnNwbGl0U2NhbGFyKGQpO2xldHtwOlMsZjpMfT10aGlzLndOQUYoQikse3A6VSxmOl99PXRoaXMud05BRihUKTtTPUUuY29uc3RUaW1lTmVnYXRlKCQsUyksVT1FLmNvbnN0VGltZU5lZ2F0ZShBLFUpLFU9bmV3IGgobi5tdWwoVS5weCx2LmJldGEpLFUucHksVS5weiksTz1TLmFkZChVKSxOPUwuYWRkKF8pfWVsc2V7Y29uc3R7cDokLGY6Qn09dGhpcy53TkFGKGQpO089JCxOPUJ9cmV0dXJuIGgubm9ybWFsaXplWihbTyxOXSlbMF19bXVsdGlwbHlBbmRBZGRVbnNhZmUoZCx2LG0pe2NvbnN0IE89aC5CQVNFLE49KEIsQSk9PkE9PT1kdHx8QT09PUt8fCFCLmVxdWFscyhPKT9CLm11bHRpcGx5VW5zYWZlKEEpOkIubXVsdGlwbHkoQSksJD1OKHRoaXMsdikuYWRkKE4oZCxtKSk7cmV0dXJuICQuaXMwKCk/dm9pZCAwOiR9dG9BZmZpbmUoZCl7cmV0dXJuIGwodGhpcyxkKX1pc1RvcnNpb25GcmVlKCl7Y29uc3R7aDpkLGlzVG9yc2lvbkZyZWU6dn09ZTtpZihkPT09SylyZXR1cm4hMDtpZih2KXJldHVybiB2KGgsdGhpcyk7dGhyb3cgbmV3IEVycm9yKFwiaXNUb3JzaW9uRnJlZSgpIGhhcyBub3QgYmVlbiBkZWNsYXJlZCBmb3IgdGhlIGVsbGlwdGljIGN1cnZlXCIpfWNsZWFyQ29mYWN0b3IoKXtjb25zdHtoOmQsY2xlYXJDb2ZhY3Rvcjp2fT1lO3JldHVybiBkPT09Sz90aGlzOnY/dihoLHRoaXMpOnRoaXMubXVsdGlwbHlVbnNhZmUoZS5oKX10b1Jhd0J5dGVzKGQ9ITApe3JldHVybiBqdChcImlzQ29tcHJlc3NlZFwiLGQpLHRoaXMuYXNzZXJ0VmFsaWRpdHkoKSxvKGgsdGhpcyxkKX10b0hleChkPSEwKXtyZXR1cm4ganQoXCJpc0NvbXByZXNzZWRcIixkKSxDdCh0aGlzLnRvUmF3Qnl0ZXMoZCkpfX1oLkJBU0U9bmV3IGgoZS5HeCxlLkd5LG4uT05FKSxoLlpFUk89bmV3IGgobi5aRVJPLG4uT05FLG4uWkVSTyk7Y29uc3QgeT1lLm5CaXRMZW5ndGgsRT1kYyhoLGUuZW5kbz9NYXRoLmNlaWwoeS8yKTp5KTtyZXR1cm57Q1VSVkU6ZSxQcm9qZWN0aXZlUG9pbnQ6aCxub3JtUHJpdmF0ZUtleVRvU2NhbGFyOmEsd2VpZXJzdHJhc3NFcXVhdGlvbjpzLGlzV2l0aGluQ3VydmVPcmRlcjpjfX1mdW5jdGlvbiBCYyh0KXtjb25zdCBlPVdyKHQpO3JldHVybiBNdChlLHtoYXNoOlwiaGFzaFwiLGhtYWM6XCJmdW5jdGlvblwiLHJhbmRvbUJ5dGVzOlwiZnVuY3Rpb25cIn0se2JpdHMyaW50OlwiZnVuY3Rpb25cIixiaXRzMmludF9tb2ROOlwiZnVuY3Rpb25cIixsb3dTOlwiYm9vbGVhblwifSksT2JqZWN0LmZyZWV6ZSh7bG93UzohMCwuLi5lfSl9ZnVuY3Rpb24gSWModCl7Y29uc3QgZT1CYyh0KSx7RnA6bixuOnJ9PWUsbz1uLkJZVEVTKzEsaT0yKm4uQllURVMrMTtmdW5jdGlvbiBzKGcpe3JldHVybiBYKGcscil9ZnVuY3Rpb24gYyhnKXtyZXR1cm4gZW4oZyxyKX1jb25zdHtQcm9qZWN0aXZlUG9pbnQ6YSxub3JtUHJpdmF0ZUtleVRvU2NhbGFyOnUsd2VpZXJzdHJhc3NFcXVhdGlvbjpsLGlzV2l0aGluQ3VydmVPcmRlcjpmfT1BYyh7Li4uZSx0b0J5dGVzKGcsdyxiKXtjb25zdCBJPXcudG9BZmZpbmUoKSxSPW4udG9CeXRlcyhJLngpLHg9ZWU7cmV0dXJuIGp0KFwiaXNDb21wcmVzc2VkXCIsYiksYj94KFVpbnQ4QXJyYXkuZnJvbShbdy5oYXNFdmVuWSgpPzI6M10pLFIpOngoVWludDhBcnJheS5mcm9tKFs0XSksUixuLnRvQnl0ZXMoSS55KSl9LGZyb21CeXRlcyhnKXtjb25zdCB3PWcubGVuZ3RoLGI9Z1swXSxJPWcuc3ViYXJyYXkoMSk7aWYodz09PW8mJihiPT09Mnx8Yj09PTMpKXtjb25zdCBSPU90KEkpO2lmKCF3ZShSLEssbi5PUkRFUikpdGhyb3cgbmV3IEVycm9yKFwiUG9pbnQgaXMgbm90IG9uIGN1cnZlXCIpO2NvbnN0IHg9bChSKTtsZXQgQzt0cnl7Qz1uLnNxcnQoeCl9Y2F0Y2goTSl7Y29uc3QgRD1NIGluc3RhbmNlb2YgRXJyb3I/XCI6IFwiK00ubWVzc2FnZTpcIlwiO3Rocm93IG5ldyBFcnJvcihcIlBvaW50IGlzIG5vdCBvbiBjdXJ2ZVwiK0QpfWNvbnN0IFA9KEMmSyk9PT1LO3JldHVybihiJjEpPT09MSE9PVAmJihDPW4ubmVnKEMpKSx7eDpSLHk6Q319ZWxzZSBpZih3PT09aSYmYj09PTQpe2NvbnN0IFI9bi5mcm9tQnl0ZXMoSS5zdWJhcnJheSgwLG4uQllURVMpKSx4PW4uZnJvbUJ5dGVzKEkuc3ViYXJyYXkobi5CWVRFUywyKm4uQllURVMpKTtyZXR1cm57eDpSLHk6eH19ZWxzZXtjb25zdCBSPW8seD1pO3Rocm93IG5ldyBFcnJvcihcImludmFsaWQgUG9pbnQsIGV4cGVjdGVkIGxlbmd0aCBvZiBcIitSK1wiLCBvciB1bmNvbXByZXNzZWQgXCIreCtcIiwgZ290IFwiK3cpfX19KSxoPWc9PkN0KFZ0KGcsZS5uQnl0ZUxlbmd0aCkpO2Z1bmN0aW9uIHkoZyl7Y29uc3Qgdz1yPj5LO3JldHVybiBnPnd9ZnVuY3Rpb24gRShnKXtyZXR1cm4geShnKT9zKC1nKTpnfWNvbnN0IHA9KGcsdyxiKT0+T3QoZy5zbGljZSh3LGIpKTtjbGFzcyBke2NvbnN0cnVjdG9yKHcsYixJKXt0aGlzLnI9dyx0aGlzLnM9Yix0aGlzLnJlY292ZXJ5PUksdGhpcy5hc3NlcnRWYWxpZGl0eSgpfXN0YXRpYyBmcm9tQ29tcGFjdCh3KXtjb25zdCBiPWUubkJ5dGVMZW5ndGg7cmV0dXJuIHc9ZXQoXCJjb21wYWN0U2lnbmF0dXJlXCIsdyxiKjIpLG5ldyBkKHAodywwLGIpLHAodyxiLDIqYikpfXN0YXRpYyBmcm9tREVSKHcpe2NvbnN0e3I6YixzOkl9PWx0LnRvU2lnKGV0KFwiREVSXCIsdykpO3JldHVybiBuZXcgZChiLEkpfWFzc2VydFZhbGlkaXR5KCl7ZnQoXCJyXCIsdGhpcy5yLEssciksZnQoXCJzXCIsdGhpcy5zLEsscil9YWRkUmVjb3ZlcnlCaXQodyl7cmV0dXJuIG5ldyBkKHRoaXMucix0aGlzLnMsdyl9cmVjb3ZlclB1YmxpY0tleSh3KXtjb25zdHtyOmIsczpJLHJlY292ZXJ5OlJ9PXRoaXMseD1CKGV0KFwibXNnSGFzaFwiLHcpKTtpZihSPT1udWxsfHwhWzAsMSwyLDNdLmluY2x1ZGVzKFIpKXRocm93IG5ldyBFcnJvcihcInJlY292ZXJ5IGlkIGludmFsaWRcIik7Y29uc3QgQz1SPT09Mnx8Uj09PTM/YitlLm46YjtpZihDPj1uLk9SREVSKXRocm93IG5ldyBFcnJvcihcInJlY292ZXJ5IGlkIDIgb3IgMyBpbnZhbGlkXCIpO2NvbnN0IFA9KFImMSk9PT0wP1wiMDJcIjpcIjAzXCIsaz1hLmZyb21IZXgoUCtoKEMpKSxNPWMoQyksRD1zKC14Kk0pLHo9cyhJKk0pLFo9YS5CQVNFLm11bHRpcGx5QW5kQWRkVW5zYWZlKGssRCx6KTtpZighWil0aHJvdyBuZXcgRXJyb3IoXCJwb2ludCBhdCBpbmZpbmlmeVwiKTtyZXR1cm4gWi5hc3NlcnRWYWxpZGl0eSgpLFp9aGFzSGlnaFMoKXtyZXR1cm4geSh0aGlzLnMpfW5vcm1hbGl6ZVMoKXtyZXR1cm4gdGhpcy5oYXNIaWdoUygpP25ldyBkKHRoaXMucixzKC10aGlzLnMpLHRoaXMucmVjb3ZlcnkpOnRoaXN9dG9ERVJSYXdCeXRlcygpe3JldHVybiBrdCh0aGlzLnRvREVSSGV4KCkpfXRvREVSSGV4KCl7cmV0dXJuIGx0LmhleEZyb21TaWcoe3I6dGhpcy5yLHM6dGhpcy5zfSl9dG9Db21wYWN0UmF3Qnl0ZXMoKXtyZXR1cm4ga3QodGhpcy50b0NvbXBhY3RIZXgoKSl9dG9Db21wYWN0SGV4KCl7cmV0dXJuIGgodGhpcy5yKStoKHRoaXMucyl9fWNvbnN0IHY9e2lzVmFsaWRQcml2YXRlS2V5KGcpe3RyeXtyZXR1cm4gdShnKSwhMH1jYXRjaHtyZXR1cm4hMX19LG5vcm1Qcml2YXRlS2V5VG9TY2FsYXI6dSxyYW5kb21Qcml2YXRlS2V5OigpPT57Y29uc3QgZz16cihlLm4pO3JldHVybiB1YyhlLnJhbmRvbUJ5dGVzKGcpLGUubil9LHByZWNvbXB1dGUoZz04LHc9YS5CQVNFKXtyZXR1cm4gdy5fc2V0V2luZG93U2l6ZShnKSx3Lm11bHRpcGx5KEJpZ0ludCgzKSksd319O2Z1bmN0aW9uIG0oZyx3PSEwKXtyZXR1cm4gYS5mcm9tUHJpdmF0ZUtleShnKS50b1Jhd0J5dGVzKHcpfWZ1bmN0aW9uIE8oZyl7Y29uc3Qgdz1TdChnKSxiPXR5cGVvZiBnPT1cInN0cmluZ1wiLEk9KHd8fGIpJiZnLmxlbmd0aDtyZXR1cm4gdz9JPT09b3x8ST09PWk6Yj9JPT09MipvfHxJPT09MippOmcgaW5zdGFuY2VvZiBhfWZ1bmN0aW9uIE4oZyx3LGI9ITApe2lmKE8oZykpdGhyb3cgbmV3IEVycm9yKFwiZmlyc3QgYXJnIG11c3QgYmUgcHJpdmF0ZSBrZXlcIik7aWYoIU8odykpdGhyb3cgbmV3IEVycm9yKFwic2Vjb25kIGFyZyBtdXN0IGJlIHB1YmxpYyBrZXlcIik7cmV0dXJuIGEuZnJvbUhleCh3KS5tdWx0aXBseSh1KGcpKS50b1Jhd0J5dGVzKGIpfWNvbnN0ICQ9ZS5iaXRzMmludHx8ZnVuY3Rpb24oZyl7aWYoZy5sZW5ndGg+ODE5Mil0aHJvdyBuZXcgRXJyb3IoXCJpbnB1dCBpcyB0b28gbGFyZ2VcIik7Y29uc3Qgdz1PdChnKSxiPWcubGVuZ3RoKjgtZS5uQml0TGVuZ3RoO3JldHVybiBiPjA/dz4+QmlnSW50KGIpOnd9LEI9ZS5iaXRzMmludF9tb2ROfHxmdW5jdGlvbihnKXtyZXR1cm4gcygkKGcpKX0sQT1YZShlLm5CaXRMZW5ndGgpO2Z1bmN0aW9uIFQoZyl7cmV0dXJuIGZ0KFwibnVtIDwgMl5cIitlLm5CaXRMZW5ndGgsZyxkdCxBKSxWdChnLGUubkJ5dGVMZW5ndGgpfWZ1bmN0aW9uIFMoZyx3LGI9TCl7aWYoW1wicmVjb3ZlcmVkXCIsXCJjYW5vbmljYWxcIl0uc29tZShXPT5XIGluIGIpKXRocm93IG5ldyBFcnJvcihcInNpZ24oKSBsZWdhY3kgb3B0aW9ucyBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0e2hhc2g6SSxyYW5kb21CeXRlczpSfT1lO2xldHtsb3dTOngscHJlaGFzaDpDLGV4dHJhRW50cm9weTpQfT1iO3g9PW51bGwmJih4PSEwKSxnPWV0KFwibXNnSGFzaFwiLGcpLEpyKGIpLEMmJihnPWV0KFwicHJlaGFzaGVkIG1zZ0hhc2hcIixJKGcpKSk7Y29uc3Qgaz1CKGcpLE09dSh3KSxEPVtUKE0pLFQoayldO2lmKFAhPW51bGwmJlAhPT0hMSl7Y29uc3QgVz1QPT09ITA/UihuLkJZVEVTKTpQO0QucHVzaChldChcImV4dHJhRW50cm9weVwiLFcpKX1jb25zdCB6PWVlKC4uLkQpLFo9aztmdW5jdGlvbiBpdChXKXtjb25zdCBKPSQoVyk7aWYoIWYoSikpcmV0dXJuO2NvbnN0IE9lPWMoSiksRnQ9YS5CQVNFLm11bHRpcGx5KEopLnRvQWZmaW5lKCksdnQ9cyhGdC54KTtpZih2dD09PWR0KXJldHVybjtjb25zdCB6dD1zKE9lKnMoWit2dCpNKSk7aWYoenQ9PT1kdClyZXR1cm47bGV0IFV0PShGdC54PT09dnQ/MDoyKXxOdW1iZXIoRnQueSZLKSx2bj16dDtyZXR1cm4geCYmeSh6dCkmJih2bj1FKHp0KSxVdF49MSksbmV3IGQodnQsdm4sVXQpfXJldHVybntzZWVkOnosazJzaWc6aXR9fWNvbnN0IEw9e2xvd1M6ZS5sb3dTLHByZWhhc2g6ITF9LFU9e2xvd1M6ZS5sb3dTLHByZWhhc2g6ITF9O2Z1bmN0aW9uIF8oZyx3LGI9TCl7Y29uc3R7c2VlZDpJLGsyc2lnOlJ9PVMoZyx3LGIpLHg9ZTtyZXR1cm4gVnIoeC5oYXNoLm91dHB1dExlbix4Lm5CeXRlTGVuZ3RoLHguaG1hYykoSSxSKX1hLkJBU0UuX3NldFdpbmRvd1NpemUoOCk7ZnVuY3Rpb24gaihnLHcsYixJPVUpe2NvbnN0IFI9Zzt3PWV0KFwibXNnSGFzaFwiLHcpLGI9ZXQoXCJwdWJsaWNLZXlcIixiKTtjb25zdHtsb3dTOngscHJlaGFzaDpDLGZvcm1hdDpQfT1JO2lmKEpyKEkpLFwic3RyaWN0XCJpbiBJKXRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuc3RyaWN0IHdhcyByZW5hbWVkIHRvIGxvd1NcIik7aWYoUCE9PXZvaWQgMCYmUCE9PVwiY29tcGFjdFwiJiZQIT09XCJkZXJcIil0aHJvdyBuZXcgRXJyb3IoXCJmb3JtYXQgbXVzdCBiZSBjb21wYWN0IG9yIGRlclwiKTtjb25zdCBrPXR5cGVvZiBSPT1cInN0cmluZ1wifHxTdChSKSxNPSFrJiYhUCYmdHlwZW9mIFI9PVwib2JqZWN0XCImJlIhPT1udWxsJiZ0eXBlb2YgUi5yPT1cImJpZ2ludFwiJiZ0eXBlb2YgUi5zPT1cImJpZ2ludFwiO2lmKCFrJiYhTSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNpZ25hdHVyZSwgZXhwZWN0ZWQgVWludDhBcnJheSwgaGV4IHN0cmluZyBvciBTaWduYXR1cmUgaW5zdGFuY2VcIik7bGV0IEQsejt0cnl7aWYoTSYmKEQ9bmV3IGQoUi5yLFIucykpLGspe3RyeXtQIT09XCJjb21wYWN0XCImJihEPWQuZnJvbURFUihSKSl9Y2F0Y2goVXQpe2lmKCEoVXQgaW5zdGFuY2VvZiBsdC5FcnIpKXRocm93IFV0fSFEJiZQIT09XCJkZXJcIiYmKEQ9ZC5mcm9tQ29tcGFjdChSKSl9ej1hLmZyb21IZXgoYil9Y2F0Y2h7cmV0dXJuITF9aWYoIUR8fHgmJkQuaGFzSGlnaFMoKSlyZXR1cm4hMTtDJiYodz1lLmhhc2godykpO2NvbnN0e3I6WixzOml0fT1ELFc9Qih3KSxKPWMoaXQpLE9lPXMoVypKKSxGdD1zKFoqSiksdnQ9YS5CQVNFLm11bHRpcGx5QW5kQWRkVW5zYWZlKHosT2UsRnQpPy50b0FmZmluZSgpO3JldHVybiB2dD9zKHZ0LngpPT09WjohMX1yZXR1cm57Q1VSVkU6ZSxnZXRQdWJsaWNLZXk6bSxnZXRTaGFyZWRTZWNyZXQ6TixzaWduOl8sdmVyaWZ5OmosUHJvamVjdGl2ZVBvaW50OmEsU2lnbmF0dXJlOmQsdXRpbHM6dn19ZnVuY3Rpb24gTmModCl7cmV0dXJue2hhc2g6dCxobWFjOihlLC4uLm4pPT5wZSh0LGUsVmkoLi4ubikpLHJhbmRvbUJ5dGVzOiR0fX1mdW5jdGlvbiBVYyh0LGUpe2NvbnN0IG49cj0+SWMoey4uLnQsLi4uTmMocil9KTtyZXR1cm57Li4ubihlKSxjcmVhdGU6bn19Y29uc3QgdG89S3IoQmlnSW50KFwiMHhmZmZmZmZmZjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmXCIpKSxUYz10by5jcmVhdGUoQmlnSW50KFwiLTNcIikpLFJjPUJpZ0ludChcIjB4NWFjNjM1ZDhhYTNhOTNlN2IzZWJiZDU1NzY5ODg2YmM2NTFkMDZiMGNjNTNiMGY2M2JjZTNjM2UyN2QyNjA0YlwiKSxfYz1VYyh7YTpUYyxiOlJjLEZwOnRvLG46QmlnSW50KFwiMHhmZmZmZmZmZjAwMDAwMDAwZmZmZmZmZmZmZmZmZmZmZmJjZTZmYWFkYTcxNzllODRmM2I5Y2FjMmZjNjMyNTUxXCIpLEd4OkJpZ0ludChcIjB4NmIxN2QxZjJlMTJjNDI0N2Y4YmNlNmU1NjNhNDQwZjI3NzAzN2Q4MTJkZWIzM2EwZjRhMTM5NDVkODk4YzI5NlwiKSxHeTpCaWdJbnQoXCIweDRmZTM0MmUyZmUxYTdmOWI4ZWU3ZWI0YTdjMGY5ZTE2MmJjZTMzNTc2YjMxNWVjZWNiYjY0MDY4MzdiZjUxZjVcIiksaDpCaWdJbnQoMSksbG93UzohMX0sSnQpLGZuPVwiYmFzZTEwXCIsRz1cImJhc2UxNlwiLEh0PVwiYmFzZTY0cGFkXCIsRWU9XCJiYXNlNjR1cmxcIixxdD1cInV0ZjhcIixsbj0wLEt0PTEsbmU9MiwkYz0wLGVvPTEscmU9MTIsZG49MzI7ZnVuY3Rpb24gTGMoKXtjb25zdCB0PXVuLnV0aWxzLnJhbmRvbVByaXZhdGVLZXkoKSxlPXVuLmdldFB1YmxpY0tleSh0KTtyZXR1cm57cHJpdmF0ZUtleTpRKHQsRykscHVibGljS2V5OlEoZSxHKX19ZnVuY3Rpb24gamMoKXtjb25zdCB0PSR0KGRuKTtyZXR1cm4gUSh0LEcpfWZ1bmN0aW9uIENjKHQsZSl7Y29uc3Qgbj11bi5nZXRTaGFyZWRTZWNyZXQocnQodCxHKSxydChlLEcpKSxyPVZzKEp0LG4sdm9pZCAwLHZvaWQgMCxkbik7cmV0dXJuIFEocixHKX1mdW5jdGlvbiBQYyh0KXtjb25zdCBlPUp0KHJ0KHQsRykpO3JldHVybiBRKGUsRyl9ZnVuY3Rpb24ga2ModCl7Y29uc3QgZT1KdChydCh0LHF0KSk7cmV0dXJuIFEoZSxHKX1mdW5jdGlvbiBobih0KXtyZXR1cm4gcnQoYCR7dH1gLGZuKX1mdW5jdGlvbiBCdCh0KXtyZXR1cm4gTnVtYmVyKFEodCxmbikpfWZ1bmN0aW9uIG5vKHQpe3JldHVybiB0LnJlcGxhY2UoL1xcKy9nLFwiLVwiKS5yZXBsYWNlKC9cXC8vZyxcIl9cIikucmVwbGFjZSgvPS9nLFwiXCIpfWZ1bmN0aW9uIHJvKHQpe2NvbnN0IGU9dC5yZXBsYWNlKC8tL2csXCIrXCIpLnJlcGxhY2UoL18vZyxcIi9cIiksbj0oNC1lLmxlbmd0aCU0KSU0O3JldHVybiBlK1wiPVwiLnJlcGVhdChuKX1mdW5jdGlvbiBWYyh0KXtjb25zdCBlPWhuKHR5cGVvZiB0LnR5cGU8XCJ1XCI/dC50eXBlOmxuKTtpZihCdChlKT09PUt0JiZ0eXBlb2YgdC5zZW5kZXJQdWJsaWNLZXk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBzZW5kZXIgcHVibGljIGtleSBmb3IgdHlwZSAxIGVudmVsb3BlXCIpO2NvbnN0IG49dHlwZW9mIHQuc2VuZGVyUHVibGljS2V5PFwidVwiP3J0KHQuc2VuZGVyUHVibGljS2V5LEcpOnZvaWQgMCxyPXR5cGVvZiB0Lml2PFwidVwiP3J0KHQuaXYsRyk6JHQocmUpLG89cnQodC5zeW1LZXksRyksaT0kcihvLHIpLmVuY3J5cHQocnQodC5tZXNzYWdlLHF0KSkscz1wbih7dHlwZTplLHNlYWxlZDppLGl2OnIsc2VuZGVyUHVibGljS2V5Om59KTtyZXR1cm4gdC5lbmNvZGluZz09PUVlP25vKHMpOnN9ZnVuY3Rpb24gTWModCl7Y29uc3QgZT1ydCh0LnN5bUtleSxHKSx7c2VhbGVkOm4saXY6cn09dmUoe2VuY29kZWQ6dC5lbmNvZGVkLGVuY29kaW5nOnQuZW5jb2Rpbmd9KSxvPSRyKGUscikuZGVjcnlwdChuKTtpZihvPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVjcnlwdFwiKTtyZXR1cm4gUShvLHF0KX1mdW5jdGlvbiBEYyh0LGUpe2NvbnN0IG49aG4obmUpLHI9JHQocmUpLG89cnQodCxxdCksaT1wbih7dHlwZTpuLHNlYWxlZDpvLGl2OnJ9KTtyZXR1cm4gZT09PUVlP25vKGkpOml9ZnVuY3Rpb24gSGModCxlKXtjb25zdHtzZWFsZWQ6bn09dmUoe2VuY29kZWQ6dCxlbmNvZGluZzplfSk7cmV0dXJuIFEobixxdCl9ZnVuY3Rpb24gcG4odCl7aWYoQnQodC50eXBlKT09PW5lKXJldHVybiBRKFp0KFt0LnR5cGUsdC5zZWFsZWRdKSxIdCk7aWYoQnQodC50eXBlKT09PUt0KXtpZih0eXBlb2YgdC5zZW5kZXJQdWJsaWNLZXk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBzZW5kZXIgcHVibGljIGtleSBmb3IgdHlwZSAxIGVudmVsb3BlXCIpO3JldHVybiBRKFp0KFt0LnR5cGUsdC5zZW5kZXJQdWJsaWNLZXksdC5pdix0LnNlYWxlZF0pLEh0KX1yZXR1cm4gUShadChbdC50eXBlLHQuaXYsdC5zZWFsZWRdKSxIdCl9ZnVuY3Rpb24gdmUodCl7Y29uc3QgZT0odC5lbmNvZGluZ3x8SHQpPT09RWU/cm8odC5lbmNvZGVkKTp0LmVuY29kZWQsbj1ydChlLEh0KSxyPW4uc2xpY2UoJGMsZW8pLG89ZW87aWYoQnQocik9PT1LdCl7Y29uc3QgYT1vK2RuLHU9YStyZSxsPW4uc2xpY2UobyxhKSxmPW4uc2xpY2UoYSx1KSxoPW4uc2xpY2UodSk7cmV0dXJue3R5cGU6cixzZWFsZWQ6aCxpdjpmLHNlbmRlclB1YmxpY0tleTpsfX1pZihCdChyKT09PW5lKXtjb25zdCBhPW4uc2xpY2UobyksdT0kdChyZSk7cmV0dXJue3R5cGU6cixzZWFsZWQ6YSxpdjp1fX1jb25zdCBpPW8rcmUscz1uLnNsaWNlKG8saSksYz1uLnNsaWNlKGkpO3JldHVybnt0eXBlOnIsc2VhbGVkOmMsaXY6c319ZnVuY3Rpb24gcWModCxlKXtjb25zdCBuPXZlKHtlbmNvZGVkOnQsZW5jb2Rpbmc6ZT8uZW5jb2Rpbmd9KTtyZXR1cm4gb28oe3R5cGU6QnQobi50eXBlKSxzZW5kZXJQdWJsaWNLZXk6dHlwZW9mIG4uc2VuZGVyUHVibGljS2V5PFwidVwiP1Eobi5zZW5kZXJQdWJsaWNLZXksRyk6dm9pZCAwLHJlY2VpdmVyUHVibGljS2V5OmU/LnJlY2VpdmVyUHVibGljS2V5fSl9ZnVuY3Rpb24gb28odCl7Y29uc3QgZT10Py50eXBlfHxsbjtpZihlPT09S3Qpe2lmKHR5cGVvZiB0Py5zZW5kZXJQdWJsaWNLZXk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBzZW5kZXIgcHVibGljIGtleVwiKTtpZih0eXBlb2YgdD8ucmVjZWl2ZXJQdWJsaWNLZXk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyByZWNlaXZlciBwdWJsaWMga2V5XCIpfXJldHVybnt0eXBlOmUsc2VuZGVyUHVibGljS2V5OnQ/LnNlbmRlclB1YmxpY0tleSxyZWNlaXZlclB1YmxpY0tleTp0Py5yZWNlaXZlclB1YmxpY0tleX19ZnVuY3Rpb24gS2ModCl7cmV0dXJuIHQudHlwZT09PUt0JiZ0eXBlb2YgdC5zZW5kZXJQdWJsaWNLZXk9PVwic3RyaW5nXCImJnR5cGVvZiB0LnJlY2VpdmVyUHVibGljS2V5PT1cInN0cmluZ1wifWZ1bmN0aW9uIEZjKHQpe3JldHVybiB0LnR5cGU9PT1uZX1mdW5jdGlvbiBpbyh0KXtjb25zdCBlPUJ1ZmZlci5mcm9tKHQueCxcImJhc2U2NFwiKSxuPUJ1ZmZlci5mcm9tKHQueSxcImJhc2U2NFwiKTtyZXR1cm4gWnQoW25ldyBVaW50OEFycmF5KFs0XSksZSxuXSl9ZnVuY3Rpb24gemModCxlKXtjb25zdFtuLHIsb109dC5zcGxpdChcIi5cIiksaT1CdWZmZXIuZnJvbShybyhvKSxcImJhc2U2NFwiKTtpZihpLmxlbmd0aCE9PTY0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmF0dXJlIGxlbmd0aFwiKTtjb25zdCBzPWkuc2xpY2UoMCwzMiksYz1pLnNsaWNlKDMyLDY0KSxhPWAke259LiR7cn1gLHU9SnQoYSksbD1pbyhlKTtpZighX2MudmVyaWZ5KFp0KFtzLGNdKSx1LGwpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmF0dXJlXCIpO3JldHVybiBNbyh0KS5wYXlsb2FkfWNvbnN0IHNvPVwiaXJuXCI7ZnVuY3Rpb24gWmModCl7cmV0dXJuIHQ/LnJlbGF5fHx7cHJvdG9jb2w6c299fWZ1bmN0aW9uIFljKHQpe2NvbnN0IGU9RG9bdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBSZWxheSBQcm90b2NvbCBub3Qgc3VwcG9ydGVkOiAke3R9YCk7cmV0dXJuIGV9ZnVuY3Rpb24gY28odCxlPVwiLVwiKXtjb25zdCBuPXt9LHI9XCJyZWxheVwiK2U7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gobz0+e2lmKG8uc3RhcnRzV2l0aChyKSl7Y29uc3QgaT1vLnJlcGxhY2UocixcIlwiKSxzPXRbb107bltpXT1zfX0pLG59ZnVuY3Rpb24gR2ModCl7aWYoIXQuaW5jbHVkZXMoXCJ3YzpcIikpe2NvbnN0IHU9TGUodCk7dSE9bnVsbCYmdS5pbmNsdWRlcyhcIndjOlwiKSYmKHQ9dSl9dD10LmluY2x1ZGVzKFwid2M6Ly9cIik/dC5yZXBsYWNlKFwid2M6Ly9cIixcIlwiKTp0LHQ9dC5pbmNsdWRlcyhcIndjOlwiKT90LnJlcGxhY2UoXCJ3YzpcIixcIlwiKTp0O2NvbnN0IGU9dC5pbmRleE9mKFwiOlwiKSxuPXQuaW5kZXhPZihcIj9cIikhPT0tMT90LmluZGV4T2YoXCI/XCIpOnZvaWQgMCxyPXQuc3Vic3RyaW5nKDAsZSksbz10LnN1YnN0cmluZyhlKzEsbikuc3BsaXQoXCJAXCIpLGk9dHlwZW9mIG48XCJ1XCI/dC5zdWJzdHJpbmcobik6XCJcIixzPW5ldyBVUkxTZWFyY2hQYXJhbXMoaSksYz17fTtzLmZvckVhY2goKHUsbCk9PntjW2xdPXV9KTtjb25zdCBhPXR5cGVvZiBjLm1ldGhvZHM9PVwic3RyaW5nXCI/Yy5tZXRob2RzLnNwbGl0KFwiLFwiKTp2b2lkIDA7cmV0dXJue3Byb3RvY29sOnIsdG9waWM6YW8ob1swXSksdmVyc2lvbjpwYXJzZUludChvWzFdLDEwKSxzeW1LZXk6Yy5zeW1LZXkscmVsYXk6Y28oYyksbWV0aG9kczphLGV4cGlyeVRpbWVzdGFtcDpjLmV4cGlyeVRpbWVzdGFtcD9wYXJzZUludChjLmV4cGlyeVRpbWVzdGFtcCwxMCk6dm9pZCAwfX1mdW5jdGlvbiBhbyh0KXtyZXR1cm4gdC5zdGFydHNXaXRoKFwiLy9cIik/dC5zdWJzdHJpbmcoMik6dH1mdW5jdGlvbiB1byh0LGU9XCItXCIpe2NvbnN0IG49XCJyZWxheVwiLHI9e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gobz0+e2NvbnN0IGk9byxzPW4rZStpO3RbaV0mJihyW3NdPXRbaV0pfSkscn1mdW5jdGlvbiBXYyh0KXtjb25zdCBlPW5ldyBVUkxTZWFyY2hQYXJhbXMsbj11byh0LnJlbGF5KTtPYmplY3Qua2V5cyhuKS5zb3J0KCkuZm9yRWFjaChvPT57ZS5zZXQobyxuW29dKX0pLGUuc2V0KFwic3ltS2V5XCIsdC5zeW1LZXkpLHQuZXhwaXJ5VGltZXN0YW1wJiZlLnNldChcImV4cGlyeVRpbWVzdGFtcFwiLHQuZXhwaXJ5VGltZXN0YW1wLnRvU3RyaW5nKCkpLHQubWV0aG9kcyYmZS5zZXQoXCJtZXRob2RzXCIsdC5tZXRob2RzLmpvaW4oXCIsXCIpKTtjb25zdCByPWUudG9TdHJpbmcoKTtyZXR1cm5gJHt0LnByb3RvY29sfToke3QudG9waWN9QCR7dC52ZXJzaW9ufT8ke3J9YH1mdW5jdGlvbiBYYyh0LGUsbil7cmV0dXJuYCR7dH0/d2NfZXY9JHtufSZ0b3BpYz0ke2V9YH12YXIgSmM9T2JqZWN0LmRlZmluZVByb3BlcnR5LFFjPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLHRhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLGZvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxuYT1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLGxvPSh0LGUsbik9PmUgaW4gdD9KYyh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm59KTp0W2VdPW4scmE9KHQsZSk9Pntmb3IodmFyIG4gaW4gZXx8KGU9e30pKWVhLmNhbGwoZSxuKSYmbG8odCxuLGVbbl0pO2lmKGZvKWZvcih2YXIgbiBvZiBmbyhlKSluYS5jYWxsKGUsbikmJmxvKHQsbixlW25dKTtyZXR1cm4gdH0sb2E9KHQsZSk9PlFjKHQsdGEoZSkpO2Z1bmN0aW9uIEl0KHQpe2NvbnN0IGU9W107cmV0dXJuIHQuZm9yRWFjaChuPT57Y29uc3RbcixvXT1uLnNwbGl0KFwiOlwiKTtlLnB1c2goYCR7cn06JHtvfWApfSksZX1mdW5jdGlvbiBobyh0KXtjb25zdCBlPVtdO3JldHVybiBPYmplY3QudmFsdWVzKHQpLmZvckVhY2gobj0+e2UucHVzaCguLi5JdChuLmFjY291bnRzKSl9KSxlfWZ1bmN0aW9uIHBvKHQsZSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntJdChyLmFjY291bnRzKS5pbmNsdWRlcyhlKSYmbi5wdXNoKC4uLnIubWV0aG9kcyl9KSxufWZ1bmN0aW9uIGdvKHQsZSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntJdChyLmFjY291bnRzKS5pbmNsdWRlcyhlKSYmbi5wdXNoKC4uLnIuZXZlbnRzKX0pLG59ZnVuY3Rpb24gaWEodCxlKXtjb25zdCBuPUJvKHQsZSk7aWYobil0aHJvdyBuZXcgRXJyb3Iobi5tZXNzYWdlKTtjb25zdCByPXt9O2Zvcihjb25zdFtvLGldb2YgT2JqZWN0LmVudHJpZXModCkpcltvXT17bWV0aG9kczppLm1ldGhvZHMsZXZlbnRzOmkuZXZlbnRzLGNoYWluczppLmFjY291bnRzLm1hcChzPT5gJHtzLnNwbGl0KFwiOlwiKVswXX06JHtzLnNwbGl0KFwiOlwiKVsxXX1gKX07cmV0dXJuIHJ9ZnVuY3Rpb24gc2EodCl7Y29uc3R7cHJvcG9zYWw6e3JlcXVpcmVkTmFtZXNwYWNlczplLG9wdGlvbmFsTmFtZXNwYWNlczpuPXt9fSxzdXBwb3J0ZWROYW1lc3BhY2VzOnJ9PXQsbz15bihlKSxpPXluKG4pLHM9e307T2JqZWN0LmtleXMocikuZm9yRWFjaCh1PT57Y29uc3QgbD1yW3VdLmNoYWlucyxmPXJbdV0ubWV0aG9kcyxoPXJbdV0uZXZlbnRzLHk9clt1XS5hY2NvdW50cztsLmZvckVhY2goRT0+e2lmKCF5LnNvbWUocD0+cC5pbmNsdWRlcyhFKSkpdGhyb3cgbmV3IEVycm9yKGBObyBhY2NvdW50cyBwcm92aWRlZCBmb3IgY2hhaW4gJHtFfSBpbiBuYW1lc3BhY2UgJHt1fWApfSksc1t1XT17Y2hhaW5zOmwsbWV0aG9kczpmLGV2ZW50czpoLGFjY291bnRzOnl9fSk7Y29uc3QgYz1ObyhlLHMsXCJhcHByb3ZlKClcIik7aWYoYyl0aHJvdyBuZXcgRXJyb3IoYy5tZXNzYWdlKTtjb25zdCBhPXt9O3JldHVybiFPYmplY3Qua2V5cyhlKS5sZW5ndGgmJiFPYmplY3Qua2V5cyhuKS5sZW5ndGg/czooT2JqZWN0LmtleXMobykuZm9yRWFjaCh1PT57Y29uc3QgbD1yW3VdLmNoYWlucy5maWx0ZXIoRT0+e3ZhciBwLGQ7cmV0dXJuKGQ9KHA9b1t1XSk9PW51bGw/dm9pZCAwOnAuY2hhaW5zKT09bnVsbD92b2lkIDA6ZC5pbmNsdWRlcyhFKX0pLGY9clt1XS5tZXRob2RzLmZpbHRlcihFPT57dmFyIHAsZDtyZXR1cm4oZD0ocD1vW3VdKT09bnVsbD92b2lkIDA6cC5tZXRob2RzKT09bnVsbD92b2lkIDA6ZC5pbmNsdWRlcyhFKX0pLGg9clt1XS5ldmVudHMuZmlsdGVyKEU9Pnt2YXIgcCxkO3JldHVybihkPShwPW9bdV0pPT1udWxsP3ZvaWQgMDpwLmV2ZW50cyk9PW51bGw/dm9pZCAwOmQuaW5jbHVkZXMoRSl9KSx5PWwubWFwKEU9PnJbdV0uYWNjb3VudHMuZmlsdGVyKHA9PnAuaW5jbHVkZXMoYCR7RX06YCkpKS5mbGF0KCk7YVt1XT17Y2hhaW5zOmwsbWV0aG9kczpmLGV2ZW50czpoLGFjY291bnRzOnl9fSksT2JqZWN0LmtleXMoaSkuZm9yRWFjaCh1PT57dmFyIGwsZixoLHksRSxwO2lmKCFyW3VdKXJldHVybjtjb25zdCBkPShmPShsPWlbdV0pPT1udWxsP3ZvaWQgMDpsLmNoYWlucyk9PW51bGw/dm9pZCAwOmYuZmlsdGVyKE49PnJbdV0uY2hhaW5zLmluY2x1ZGVzKE4pKSx2PXJbdV0ubWV0aG9kcy5maWx0ZXIoTj0+e3ZhciAkLEI7cmV0dXJuKEI9KCQ9aVt1XSk9PW51bGw/dm9pZCAwOiQubWV0aG9kcyk9PW51bGw/dm9pZCAwOkIuaW5jbHVkZXMoTil9KSxtPXJbdV0uZXZlbnRzLmZpbHRlcihOPT57dmFyICQsQjtyZXR1cm4oQj0oJD1pW3VdKT09bnVsbD92b2lkIDA6JC5ldmVudHMpPT1udWxsP3ZvaWQgMDpCLmluY2x1ZGVzKE4pfSksTz1kPy5tYXAoTj0+clt1XS5hY2NvdW50cy5maWx0ZXIoJD0+JC5pbmNsdWRlcyhgJHtOfTpgKSkpLmZsYXQoKTthW3VdPXtjaGFpbnM6YXQoKGg9YVt1XSk9PW51bGw/dm9pZCAwOmguY2hhaW5zLGQpLG1ldGhvZHM6YXQoKHk9YVt1XSk9PW51bGw/dm9pZCAwOnkubWV0aG9kcyx2KSxldmVudHM6YXQoKEU9YVt1XSk9PW51bGw/dm9pZCAwOkUuZXZlbnRzLG0pLGFjY291bnRzOmF0KChwPWFbdV0pPT1udWxsP3ZvaWQgMDpwLmFjY291bnRzLE8pfX0pLGEpfWZ1bmN0aW9uIGduKHQpe3JldHVybiB0LmluY2x1ZGVzKFwiOlwiKX1mdW5jdGlvbiB5byh0KXtyZXR1cm4gZ24odCk/dC5zcGxpdChcIjpcIilbMF06dH1mdW5jdGlvbiB5bih0KXt2YXIgZSxuLHI7Y29uc3Qgbz17fTtpZigheGUodCkpcmV0dXJuIG87Zm9yKGNvbnN0W2ksc11vZiBPYmplY3QuZW50cmllcyh0KSl7Y29uc3QgYz1nbihpKT9baV06cy5jaGFpbnMsYT1zLm1ldGhvZHN8fFtdLHU9cy5ldmVudHN8fFtdLGw9eW8oaSk7b1tsXT1vYShyYSh7fSxvW2xdKSx7Y2hhaW5zOmF0KGMsKGU9b1tsXSk9PW51bGw/dm9pZCAwOmUuY2hhaW5zKSxtZXRob2RzOmF0KGEsKG49b1tsXSk9PW51bGw/dm9pZCAwOm4ubWV0aG9kcyksZXZlbnRzOmF0KHUsKHI9b1tsXSk9PW51bGw/dm9pZCAwOnIuZXZlbnRzKX0pfXJldHVybiBvfWZ1bmN0aW9uIG1vKHQpe2NvbnN0IGU9e307cmV0dXJuIHQ/LmZvckVhY2gobj0+e3ZhciByO2NvbnN0W28saV09bi5zcGxpdChcIjpcIik7ZVtvXXx8KGVbb109e2FjY291bnRzOltdLGNoYWluczpbXSxldmVudHM6W10sbWV0aG9kczpbXX0pLGVbb10uYWNjb3VudHMucHVzaChuKSwocj1lW29dLmNoYWlucyk9PW51bGx8fHIucHVzaChgJHtvfToke2l9YCl9KSxlfWZ1bmN0aW9uIGNhKHQsZSl7ZT1lLm1hcChyPT5yLnJlcGxhY2UoXCJkaWQ6cGtoOlwiLFwiXCIpKTtjb25zdCBuPW1vKGUpO2Zvcihjb25zdFtyLG9db2YgT2JqZWN0LmVudHJpZXMobikpby5tZXRob2RzP28ubWV0aG9kcz1hdChvLm1ldGhvZHMsdCk6by5tZXRob2RzPXQsby5ldmVudHM9W1wiY2hhaW5DaGFuZ2VkXCIsXCJhY2NvdW50c0NoYW5nZWRcIl07cmV0dXJuIG59Y29uc3Qgd289e0lOVkFMSURfTUVUSE9EOnttZXNzYWdlOlwiSW52YWxpZCBtZXRob2QuXCIsY29kZToxMDAxfSxJTlZBTElEX0VWRU5UOnttZXNzYWdlOlwiSW52YWxpZCBldmVudC5cIixjb2RlOjEwMDJ9LElOVkFMSURfVVBEQVRFX1JFUVVFU1Q6e21lc3NhZ2U6XCJJbnZhbGlkIHVwZGF0ZSByZXF1ZXN0LlwiLGNvZGU6MTAwM30sSU5WQUxJRF9FWFRFTkRfUkVRVUVTVDp7bWVzc2FnZTpcIkludmFsaWQgZXh0ZW5kIHJlcXVlc3QuXCIsY29kZToxMDA0fSxJTlZBTElEX1NFU1NJT05fU0VUVExFX1JFUVVFU1Q6e21lc3NhZ2U6XCJJbnZhbGlkIHNlc3Npb24gc2V0dGxlIHJlcXVlc3QuXCIsY29kZToxMDA1fSxVTkFVVEhPUklaRURfTUVUSE9EOnttZXNzYWdlOlwiVW5hdXRob3JpemVkIG1ldGhvZC5cIixjb2RlOjMwMDF9LFVOQVVUSE9SSVpFRF9FVkVOVDp7bWVzc2FnZTpcIlVuYXV0aG9yaXplZCBldmVudC5cIixjb2RlOjMwMDJ9LFVOQVVUSE9SSVpFRF9VUERBVEVfUkVRVUVTVDp7bWVzc2FnZTpcIlVuYXV0aG9yaXplZCB1cGRhdGUgcmVxdWVzdC5cIixjb2RlOjMwMDN9LFVOQVVUSE9SSVpFRF9FWFRFTkRfUkVRVUVTVDp7bWVzc2FnZTpcIlVuYXV0aG9yaXplZCBleHRlbmQgcmVxdWVzdC5cIixjb2RlOjMwMDR9LFVTRVJfUkVKRUNURUQ6e21lc3NhZ2U6XCJVc2VyIHJlamVjdGVkLlwiLGNvZGU6NWUzfSxVU0VSX1JFSkVDVEVEX0NIQUlOUzp7bWVzc2FnZTpcIlVzZXIgcmVqZWN0ZWQgY2hhaW5zLlwiLGNvZGU6NTAwMX0sVVNFUl9SRUpFQ1RFRF9NRVRIT0RTOnttZXNzYWdlOlwiVXNlciByZWplY3RlZCBtZXRob2RzLlwiLGNvZGU6NTAwMn0sVVNFUl9SRUpFQ1RFRF9FVkVOVFM6e21lc3NhZ2U6XCJVc2VyIHJlamVjdGVkIGV2ZW50cy5cIixjb2RlOjUwMDN9LFVOU1VQUE9SVEVEX0NIQUlOUzp7bWVzc2FnZTpcIlVuc3VwcG9ydGVkIGNoYWlucy5cIixjb2RlOjUxMDB9LFVOU1VQUE9SVEVEX01FVEhPRFM6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBtZXRob2RzLlwiLGNvZGU6NTEwMX0sVU5TVVBQT1JURURfRVZFTlRTOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgZXZlbnRzLlwiLGNvZGU6NTEwMn0sVU5TVVBQT1JURURfQUNDT1VOVFM6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBhY2NvdW50cy5cIixjb2RlOjUxMDN9LFVOU1VQUE9SVEVEX05BTUVTUEFDRV9LRVk6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBuYW1lc3BhY2Uga2V5LlwiLGNvZGU6NTEwNH0sVVNFUl9ESVNDT05ORUNURUQ6e21lc3NhZ2U6XCJVc2VyIGRpc2Nvbm5lY3RlZC5cIixjb2RlOjZlM30sU0VTU0lPTl9TRVRUTEVNRU5UX0ZBSUxFRDp7bWVzc2FnZTpcIlNlc3Npb24gc2V0dGxlbWVudCBmYWlsZWQuXCIsY29kZTo3ZTN9LFdDX01FVEhPRF9VTlNVUFBPUlRFRDp7bWVzc2FnZTpcIlVuc3VwcG9ydGVkIHdjXyBtZXRob2QuXCIsY29kZToxMDAwMX19LGJvPXtOT1RfSU5JVElBTElaRUQ6e21lc3NhZ2U6XCJOb3QgaW5pdGlhbGl6ZWQuXCIsY29kZToxfSxOT19NQVRDSElOR19LRVk6e21lc3NhZ2U6XCJObyBtYXRjaGluZyBrZXkuXCIsY29kZToyfSxSRVNUT1JFX1dJTExfT1ZFUlJJREU6e21lc3NhZ2U6XCJSZXN0b3JlIHdpbGwgb3ZlcnJpZGUuXCIsY29kZTozfSxSRVNVQlNDUklCRUQ6e21lc3NhZ2U6XCJSZXN1YnNjcmliZWQuXCIsY29kZTo0fSxNSVNTSU5HX09SX0lOVkFMSUQ6e21lc3NhZ2U6XCJNaXNzaW5nIG9yIGludmFsaWQuXCIsY29kZTo1fSxFWFBJUkVEOnttZXNzYWdlOlwiRXhwaXJlZC5cIixjb2RlOjZ9LFVOS05PV05fVFlQRTp7bWVzc2FnZTpcIlVua25vd24gdHlwZS5cIixjb2RlOjd9LE1JU01BVENIRURfVE9QSUM6e21lc3NhZ2U6XCJNaXNtYXRjaGVkIHRvcGljLlwiLGNvZGU6OH0sTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFUzp7bWVzc2FnZTpcIk5vbiBjb25mb3JtaW5nIG5hbWVzcGFjZXMuXCIsY29kZTo5fX07ZnVuY3Rpb24gaHQodCxlKXtjb25zdHttZXNzYWdlOm4sY29kZTpyfT1ib1t0XTtyZXR1cm57bWVzc2FnZTplP2Ake259ICR7ZX1gOm4sY29kZTpyfX1mdW5jdGlvbiBOdCh0LGUpe2NvbnN0e21lc3NhZ2U6bixjb2RlOnJ9PXdvW3RdO3JldHVybnttZXNzYWdlOmU/YCR7bn0gJHtlfWA6bixjb2RlOnJ9fWZ1bmN0aW9uIG9lKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dHlwZW9mIGU8XCJ1XCImJnQubGVuZ3RoP3QuZXZlcnkoZSk6ITA6ITF9ZnVuY3Rpb24geGUodCl7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09PU9iamVjdC5wcm90b3R5cGUmJk9iamVjdC5rZXlzKHQpLmxlbmd0aH1mdW5jdGlvbiBFdCh0KXtyZXR1cm4gdHlwZW9mIHQ+XCJ1XCJ9ZnVuY3Rpb24gbnQodCxlKXtyZXR1cm4gZSYmRXQodCk/ITA6dHlwZW9mIHQ9PVwic3RyaW5nXCImJiEhdC50cmltKCkubGVuZ3RofWZ1bmN0aW9uIFNlKHQsZSl7cmV0dXJuIGUmJkV0KHQpPyEwOnR5cGVvZiB0PT1cIm51bWJlclwiJiYhaXNOYU4odCl9ZnVuY3Rpb24gYWEodCxlKXtjb25zdHtyZXF1aXJlZE5hbWVzcGFjZXM6bn09ZSxyPU9iamVjdC5rZXlzKHQubmFtZXNwYWNlcyksbz1PYmplY3Qua2V5cyhuKTtsZXQgaT0hMDtyZXR1cm4gZ3QobyxyKT8oci5mb3JFYWNoKHM9Pntjb25zdHthY2NvdW50czpjLG1ldGhvZHM6YSxldmVudHM6dX09dC5uYW1lc3BhY2VzW3NdLGw9SXQoYyksZj1uW3NdOyghZ3QoY2UocyxmKSxsKXx8IWd0KGYubWV0aG9kcyxhKXx8IWd0KGYuZXZlbnRzLHUpKSYmKGk9ITEpfSksaSk6ITF9ZnVuY3Rpb24gaWUodCl7cmV0dXJuIG50KHQsITEpJiZ0LmluY2x1ZGVzKFwiOlwiKT90LnNwbGl0KFwiOlwiKS5sZW5ndGg9PT0yOiExfWZ1bmN0aW9uIEVvKHQpe2lmKG50KHQsITEpJiZ0LmluY2x1ZGVzKFwiOlwiKSl7Y29uc3QgZT10LnNwbGl0KFwiOlwiKTtpZihlLmxlbmd0aD09PTMpe2NvbnN0IG49ZVswXStcIjpcIitlWzFdO3JldHVybiEhZVsyXSYmaWUobil9fXJldHVybiExfWZ1bmN0aW9uIHVhKHQpe2Z1bmN0aW9uIGUobil7dHJ5e3JldHVybiB0eXBlb2YgbmV3IFVSTChuKTxcInVcIn1jYXRjaHtyZXR1cm4hMX19dHJ5e2lmKG50KHQsITEpKXtpZihlKHQpKXJldHVybiEwO2NvbnN0IG49TGUodCk7cmV0dXJuIGUobil9fWNhdGNoe31yZXR1cm4hMX1mdW5jdGlvbiBmYSh0KXt2YXIgZTtyZXR1cm4oZT10Py5wcm9wb3Nlcik9PW51bGw/dm9pZCAwOmUucHVibGljS2V5fWZ1bmN0aW9uIGxhKHQpe3JldHVybiB0Py50b3BpY31mdW5jdGlvbiBkYSh0LGUpe2xldCBuPW51bGw7cmV0dXJuIG50KHQ/LnB1YmxpY0tleSwhMSl8fChuPWh0KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYCR7ZX0gY29udHJvbGxlciBwdWJsaWMga2V5IHNob3VsZCBiZSBhIHN0cmluZ2ApKSxufWZ1bmN0aW9uIG1uKHQpe2xldCBlPSEwO3JldHVybiBvZSh0KT90Lmxlbmd0aCYmKGU9dC5ldmVyeShuPT5udChuLCExKSkpOmU9ITEsZX1mdW5jdGlvbiB2byh0LGUsbil7bGV0IHI9bnVsbDtyZXR1cm4gb2UoZSkmJmUubGVuZ3RoP2UuZm9yRWFjaChvPT57cnx8aWUobyl8fChyPU50KFwiVU5TVVBQT1JURURfQ0hBSU5TXCIsYCR7bn0sIGNoYWluICR7b30gc2hvdWxkIGJlIGEgc3RyaW5nIGFuZCBjb25mb3JtIHRvIFwibmFtZXNwYWNlOmNoYWluSWRcIiBmb3JtYXRgKSl9KTppZSh0KXx8KHI9TnQoXCJVTlNVUFBPUlRFRF9DSEFJTlNcIixgJHtufSwgY2hhaW5zIG11c3QgYmUgZGVmaW5lZCBhcyBcIm5hbWVzcGFjZTpjaGFpbklkXCIgZS5nLiBcImVpcDE1NToxXCI6IHsuLi59IGluIHRoZSBuYW1lc3BhY2Uga2V5IE9SIGFzIGFuIGFycmF5IG9mIENBSVAtMiBjaGFpbklkcyBlLmcuIGVpcDE1NTogeyBjaGFpbnM6IFtcImVpcDE1NToxXCIsIFwiZWlwMTU1OjVcIl0gfWApKSxyfWZ1bmN0aW9uIHhvKHQsZSxuKXtsZXQgcj1udWxsO3JldHVybiBPYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKChbbyxpXSk9PntpZihyKXJldHVybjtjb25zdCBzPXZvKG8sY2UobyxpKSxgJHtlfSAke259YCk7cyYmKHI9cyl9KSxyfWZ1bmN0aW9uIFNvKHQsZSl7bGV0IG49bnVsbDtyZXR1cm4gb2UodCk/dC5mb3JFYWNoKHI9PntufHxFbyhyKXx8KG49TnQoXCJVTlNVUFBPUlRFRF9BQ0NPVU5UU1wiLGAke2V9LCBhY2NvdW50ICR7cn0gc2hvdWxkIGJlIGEgc3RyaW5nIGFuZCBjb25mb3JtIHRvIFwibmFtZXNwYWNlOmNoYWluSWQ6YWRkcmVzc1wiIGZvcm1hdGApKX0pOm49TnQoXCJVTlNVUFBPUlRFRF9BQ0NPVU5UU1wiLGAke2V9LCBhY2NvdW50cyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyBjb25mb3JtaW5nIHRvIFwibmFtZXNwYWNlOmNoYWluSWQ6YWRkcmVzc1wiIGZvcm1hdGApLG59ZnVuY3Rpb24gT28odCxlKXtsZXQgbj1udWxsO3JldHVybiBPYmplY3QudmFsdWVzKHQpLmZvckVhY2gocj0+e2lmKG4pcmV0dXJuO2NvbnN0IG89U28ocj8uYWNjb3VudHMsYCR7ZX0gbmFtZXNwYWNlYCk7byYmKG49byl9KSxufWZ1bmN0aW9uIEFvKHQsZSl7bGV0IG49bnVsbDtyZXR1cm4gbW4odD8ubWV0aG9kcyk/bW4odD8uZXZlbnRzKXx8KG49TnQoXCJVTlNVUFBPUlRFRF9FVkVOVFNcIixgJHtlfSwgZXZlbnRzIHNob3VsZCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIG9yIGVtcHR5IGFycmF5IGZvciBubyBldmVudHNgKSk6bj1OdChcIlVOU1VQUE9SVEVEX01FVEhPRFNcIixgJHtlfSwgbWV0aG9kcyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyBvciBlbXB0eSBhcnJheSBmb3Igbm8gbWV0aG9kc2ApLG59ZnVuY3Rpb24gd24odCxlKXtsZXQgbj1udWxsO3JldHVybiBPYmplY3QudmFsdWVzKHQpLmZvckVhY2gocj0+e2lmKG4pcmV0dXJuO2NvbnN0IG89QW8ocixgJHtlfSwgbmFtZXNwYWNlYCk7byYmKG49byl9KSxufWZ1bmN0aW9uIGhhKHQsZSxuKXtsZXQgcj1udWxsO2lmKHQmJnhlKHQpKXtjb25zdCBvPXduKHQsZSk7byYmKHI9byk7Y29uc3QgaT14byh0LGUsbik7aSYmKHI9aSl9ZWxzZSByPWh0KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYCR7ZX0sICR7bn0gc2hvdWxkIGJlIGFuIG9iamVjdCB3aXRoIGRhdGFgKTtyZXR1cm4gcn1mdW5jdGlvbiBCbyh0LGUpe2xldCBuPW51bGw7aWYodCYmeGUodCkpe2NvbnN0IHI9d24odCxlKTtyJiYobj1yKTtjb25zdCBvPU9vKHQsZSk7byYmKG49byl9ZWxzZSBuPWh0KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYCR7ZX0sIG5hbWVzcGFjZXMgc2hvdWxkIGJlIGFuIG9iamVjdCB3aXRoIGRhdGFgKTtyZXR1cm4gbn1mdW5jdGlvbiBJbyh0KXtyZXR1cm4gbnQodC5wcm90b2NvbCwhMCl9ZnVuY3Rpb24gcGEodCxlKXtsZXQgbj0hMTtyZXR1cm4gZSYmIXQ/bj0hMDp0JiZvZSh0KSYmdC5sZW5ndGgmJnQuZm9yRWFjaChyPT57bj1JbyhyKX0pLG59ZnVuY3Rpb24gZ2EodCl7cmV0dXJuIHR5cGVvZiB0PT1cIm51bWJlclwifWZ1bmN0aW9uIHlhKHQpe3JldHVybiB0eXBlb2YgdDxcInVcIiYmdHlwZW9mIHQhPT1udWxsfWZ1bmN0aW9uIG1hKHQpe3JldHVybiEoIXR8fHR5cGVvZiB0IT1cIm9iamVjdFwifHwhdC5jb2RlfHwhU2UodC5jb2RlLCExKXx8IXQubWVzc2FnZXx8IW50KHQubWVzc2FnZSwhMSkpfWZ1bmN0aW9uIHdhKHQpe3JldHVybiEoRXQodCl8fCFudCh0Lm1ldGhvZCwhMSkpfWZ1bmN0aW9uIGJhKHQpe3JldHVybiEoRXQodCl8fEV0KHQucmVzdWx0KSYmRXQodC5lcnJvcil8fCFTZSh0LmlkLCExKXx8IW50KHQuanNvbnJwYywhMSkpfWZ1bmN0aW9uIEVhKHQpe3JldHVybiEoRXQodCl8fCFudCh0Lm5hbWUsITEpKX1mdW5jdGlvbiB2YSh0LGUpe3JldHVybiEoIWllKGUpfHwhaG8odCkuaW5jbHVkZXMoZSkpfWZ1bmN0aW9uIHhhKHQsZSxuKXtyZXR1cm4gbnQobiwhMSk/cG8odCxlKS5pbmNsdWRlcyhuKTohMX1mdW5jdGlvbiBTYSh0LGUsbil7cmV0dXJuIG50KG4sITEpP2dvKHQsZSkuaW5jbHVkZXMobik6ITF9ZnVuY3Rpb24gTm8odCxlLG4pe2xldCByPW51bGw7Y29uc3Qgbz1PYSh0KSxpPUFhKGUpLHM9T2JqZWN0LmtleXMobyksYz1PYmplY3Qua2V5cyhpKSxhPVVvKE9iamVjdC5rZXlzKHQpKSx1PVVvKE9iamVjdC5rZXlzKGUpKSxsPWEuZmlsdGVyKGY9PiF1LmluY2x1ZGVzKGYpKTtyZXR1cm4gbC5sZW5ndGgmJihyPWh0KFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLGAke259IG5hbWVzcGFjZXMga2V5cyBkb24ndCBzYXRpc2Z5IHJlcXVpcmVkTmFtZXNwYWNlcy5cbiAgICAgIFJlcXVpcmVkOiAke2wudG9TdHJpbmcoKX1cbiAgICAgIFJlY2VpdmVkOiAke09iamVjdC5rZXlzKGUpLnRvU3RyaW5nKCl9YCkpLGd0KHMsYyl8fChyPWh0KFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLGAke259IG5hbWVzcGFjZXMgY2hhaW5zIGRvbid0IHNhdGlzZnkgcmVxdWlyZWQgbmFtZXNwYWNlcy5cbiAgICAgIFJlcXVpcmVkOiAke3MudG9TdHJpbmcoKX1cbiAgICAgIEFwcHJvdmVkOiAke2MudG9TdHJpbmcoKX1gKSksT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmPT57aWYoIWYuaW5jbHVkZXMoXCI6XCIpfHxyKXJldHVybjtjb25zdCBoPUl0KGVbZl0uYWNjb3VudHMpO2guaW5jbHVkZXMoZil8fChyPWh0KFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLGAke259IG5hbWVzcGFjZXMgYWNjb3VudHMgZG9uJ3Qgc2F0aXNmeSBuYW1lc3BhY2UgYWNjb3VudHMgZm9yICR7Zn1cbiAgICAgICAgUmVxdWlyZWQ6ICR7Zn1cbiAgICAgICAgQXBwcm92ZWQ6ICR7aC50b1N0cmluZygpfWApKX0pLHMuZm9yRWFjaChmPT57cnx8KGd0KG9bZl0ubWV0aG9kcyxpW2ZdLm1ldGhvZHMpP2d0KG9bZl0uZXZlbnRzLGlbZl0uZXZlbnRzKXx8KHI9aHQoXCJOT05fQ09ORk9STUlOR19OQU1FU1BBQ0VTXCIsYCR7bn0gbmFtZXNwYWNlcyBldmVudHMgZG9uJ3Qgc2F0aXNmeSBuYW1lc3BhY2UgZXZlbnRzIGZvciAke2Z9YCkpOnI9aHQoXCJOT05fQ09ORk9STUlOR19OQU1FU1BBQ0VTXCIsYCR7bn0gbmFtZXNwYWNlcyBtZXRob2RzIGRvbid0IHNhdGlzZnkgbmFtZXNwYWNlIG1ldGhvZHMgZm9yICR7Zn1gKSl9KSxyfWZ1bmN0aW9uIE9hKHQpe2NvbnN0IGU9e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gobj0+e3ZhciByO24uaW5jbHVkZXMoXCI6XCIpP2Vbbl09dFtuXToocj10W25dLmNoYWlucyk9PW51bGx8fHIuZm9yRWFjaChvPT57ZVtvXT17bWV0aG9kczp0W25dLm1ldGhvZHMsZXZlbnRzOnRbbl0uZXZlbnRzfX0pfSksZX1mdW5jdGlvbiBVbyh0KXtyZXR1cm5bLi4ubmV3IFNldCh0Lm1hcChlPT5lLmluY2x1ZGVzKFwiOlwiKT9lLnNwbGl0KFwiOlwiKVswXTplKSldfWZ1bmN0aW9uIEFhKHQpe2NvbnN0IGU9e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gobj0+e2lmKG4uaW5jbHVkZXMoXCI6XCIpKWVbbl09dFtuXTtlbHNle2NvbnN0IHI9SXQodFtuXS5hY2NvdW50cyk7cj8uZm9yRWFjaChvPT57ZVtvXT17YWNjb3VudHM6dFtuXS5hY2NvdW50cy5maWx0ZXIoaT0+aS5pbmNsdWRlcyhgJHtvfTpgKSksbWV0aG9kczp0W25dLm1ldGhvZHMsZXZlbnRzOnRbbl0uZXZlbnRzfX0pfX0pLGV9ZnVuY3Rpb24gQmEodCxlKXtyZXR1cm4gU2UodCwhMSkmJnQ8PWUubWF4JiZ0Pj1lLm1pbn1mdW5jdGlvbiBJYSgpe2NvbnN0IHQ9eHQoKTtyZXR1cm4gbmV3IFByb21pc2UoZT0+e3N3aXRjaCh0KXtjYXNlIFkuYnJvd3NlcjplKFRvKCkpO2JyZWFrO2Nhc2UgWS5yZWFjdE5hdGl2ZTplKFJvKCkpO2JyZWFrO2Nhc2UgWS5ub2RlOmUoX28oKSk7YnJlYWs7ZGVmYXVsdDplKCEwKX19KX1mdW5jdGlvbiBUbygpe3JldHVybiBZdCgpJiZuYXZpZ2F0b3I/Lm9uTGluZX1hc3luYyBmdW5jdGlvbiBSbygpe2lmKHB0KCkmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJmdsb2JhbCE9bnVsbCYmZ2xvYmFsLk5ldEluZm8pe2NvbnN0IHQ9YXdhaXQoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuTmV0SW5mby5mZXRjaCgpKTtyZXR1cm4gdD8uaXNDb25uZWN0ZWR9cmV0dXJuITB9ZnVuY3Rpb24gX28oKXtyZXR1cm4hMH1mdW5jdGlvbiBOYSh0KXtzd2l0Y2goeHQoKSl7Y2FzZSBZLmJyb3dzZXI6JG8odCk7YnJlYWs7Y2FzZSBZLnJlYWN0TmF0aXZlOkxvKHQpO2JyZWFrO2Nhc2UgWS5ub2RlOmJyZWFrfX1mdW5jdGlvbiAkbyh0KXshcHQoKSYmWXQoKSYmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsKCk9PnQoITApKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwoKT0+dCghMSkpKX1mdW5jdGlvbiBMbyh0KXtwdCgpJiZ0eXBlb2YgZ2xvYmFsPFwidVwiJiZnbG9iYWwhPW51bGwmJmdsb2JhbC5OZXRJbmZvJiZnbG9iYWw/Lk5ldEluZm8uYWRkRXZlbnRMaXN0ZW5lcihlPT50KGU/LmlzQ29ubmVjdGVkKSl9Y29uc3QgYm49e307Y2xhc3MgVWF7c3RhdGljIGdldChlKXtyZXR1cm4gYm5bZV19c3RhdGljIHNldChlLG4pe2JuW2VdPW59c3RhdGljIGRlbGV0ZShlKXtkZWxldGUgYm5bZV19fWV4cG9ydHtmbiBhcyBCQVNFMTAsRyBhcyBCQVNFMTYsSHQgYXMgQkFTRTY0LEVlIGFzIEJBU0U2NFVSTCxRbyBhcyBDT0xPTixUZSBhcyBERUZBVUxUX0RFUFRILGFlIGFzIEVNUFRZX1NQQUNFLFkgYXMgRU5WX01BUCxibyBhcyBJTlRFUk5BTF9FUlJPUlMsVWEgYXMgTWVtb3J5U3RvcmUsdGkgYXMgT05FX1RIT1VTQU5ELCRuIGFzIFJFQUNUX05BVElWRV9QUk9EVUNULHNvIGFzIFJFTEFZRVJfREVGQVVMVF9QUk9UT0NPTCx3byBhcyBTREtfRVJST1JTLGpuIGFzIFNES19UWVBFLExuIGFzIFNMQVNILGxuIGFzIFRZUEVfMCxLdCBhcyBUWVBFXzEsbmUgYXMgVFlQRV8yLHF0IGFzIFVURjgsRXIgYXMgYWRkUmVzb3VyY2VUb1JlY2FwLENuIGFzIGFwcGVuZFRvUXVlcnlTdHJpbmcsYWkgYXMgYXNzZXJ0VHlwZSxEZSBhcyBhc3NpZ25BYmlsaXR5VG9BY3Rpb25zLHdyIGFzIGJhc2U2NERlY29kZSxtciBhcyBiYXNlNjRFbmNvZGUsc2EgYXMgYnVpbGRBcHByb3ZlZE5hbWVzcGFjZXMsc3MgYXMgYnVpbGRBdXRoT2JqZWN0LGNhIGFzIGJ1aWxkTmFtZXNwYWNlc0Zyb21BdXRoLHhyIGFzIGJ1aWxkUmVjYXBTdGF0ZW1lbnQsRWkgYXMgY2FsY0V4cGlyeSxwaSBhcyBjYXBpdGFsaXplLHFuIGFzIGNhcGl0YWxpemVXb3JkLGdpIGFzIGNyZWF0ZURlbGF5ZWRQcm9taXNlLGZzIGFzIGNyZWF0ZUVuY29kZWRSZWNhcCx5aSBhcyBjcmVhdGVFeHBpcmluZ1Byb21pc2UsYnIgYXMgY3JlYXRlUmVjYXAseXQgYXMgZGVjb2RlUmVjYXAsQnQgYXMgZGVjb2RlVHlwZUJ5dGUsSGMgYXMgZGVjb2RlVHlwZVR3b0VudmVsb3BlLE1jIGFzIGRlY3J5cHQsQ2MgYXMgZGVyaXZlU3ltS2V5LHZlIGFzIGRlc2VyaWFsaXplLGxlIGFzIGVuY29kZVJlY2FwLGhuIGFzIGVuY29kZVR5cGVCeXRlLERjIGFzIGVuY29kZVR5cGVUd29FbnZlbG9wZSxWYyBhcyBlbmNyeXB0LHhpIGFzIGVuZ2luZUV2ZW50LGhpIGFzIGVudW1pZnksSmkgYXMgZXh0cmFjdFNvbGFuYVRyYW5zYWN0aW9uSWQsQm4gYXMgZm9ybWF0QWNjb3VudElkLEhvIGFzIGZvcm1hdEFjY291bnRXaXRoQ2hhaW4sQW4gYXMgZm9ybWF0Q2hhaW5JZCxLbiBhcyBmb3JtYXREZWVwbGlua1VybCxfZSBhcyBmb3JtYXRFeHBpcmVyVGFyZ2V0LHdpIGFzIGZvcm1hdElkVGFyZ2V0LGhyIGFzIGZvcm1hdE1lc3NhZ2UsdWkgYXMgZm9ybWF0TWVzc2FnZUNvbnRleHQsdW8gYXMgZm9ybWF0UmVsYXlQYXJhbXMsc2kgYXMgZm9ybWF0UmVsYXlScGNVcmwscWUgYXMgZm9ybWF0U3RhdGVtZW50RnJvbVJlY2FwLG1pIGFzIGZvcm1hdFRvcGljVGFyZ2V0LE1uIGFzIGZvcm1hdFVBLFdjIGFzIGZvcm1hdFVyaSxMZSBhcyBmcm9tQmFzZTY0LExjIGFzIGdlbmVyYXRlS2V5UGFpcixqYyBhcyBnZW5lcmF0ZVJhbmRvbUJ5dGVzMzIsSXQgYXMgZ2V0QWNjb3VudHNDaGFpbnMsS28gYXMgZ2V0QWNjb3VudHNGcm9tTmFtZXNwYWNlcyxJbiBhcyBnZXRBZGRyZXNzRnJvbUFjY291bnQscW8gYXMgZ2V0QWRkcmVzc2VzRnJvbUFjY291bnRzLHJpIGFzIGdldEFwcElkLFBuIGFzIGdldEFwcE1ldGFkYXRhLFRvIGFzIGdldEJyb3dzZXJPbmxpbmVTdGF0dXMsTm4gYXMgZ2V0Q2hhaW5Gcm9tQWNjb3VudCxVbiBhcyBnZXRDaGFpbnNGcm9tQWNjb3VudHMsY2UgYXMgZ2V0Q2hhaW5zRnJvbU5hbWVzcGFjZSxGbyBhcyBnZXRDaGFpbnNGcm9tTmFtZXNwYWNlcyxocyBhcyBnZXRDaGFpbnNGcm9tUmVjYXAsem8gYXMgZ2V0Q2hhaW5zRnJvbVJlcXVpcmVkTmFtZXNwYWNlcywkZSBhcyBnZXRDb21tb25WYWx1ZXNJbkFycmF5cyxpbyBhcyBnZXRDcnlwdG9LZXlGcm9tS2V5RGF0YSxwciBhcyBnZXREZWNvZGVkUmVjYXBGcm9tUmVzb3VyY2VzLE9pIGFzIGdldERlZXBMaW5rLE1lIGFzIGdldERpZEFkZHJlc3MsZmUgYXMgZ2V0RGlkQWRkcmVzc1NlZ21lbnRzLGxyIGFzIGdldERpZENoYWluSWQseHQgYXMgZ2V0RW52aXJvbm1lbnQsY2kgYXMgZ2V0SHR0cFVybCxodCBhcyBnZXRJbnRlcm5hbEVycm9yLFZuIGFzIGdldEphdmFzY3JpcHRJRCxrbiBhcyBnZXRKYXZhc2NyaXB0T1MsSG4gYXMgZ2V0TGFzdEl0ZW1zLFhjIGFzIGdldExpbmtNb2RlVVJMLGRzIGFzIGdldE1ldGhvZHNGcm9tUmVjYXAsZHIgYXMgZ2V0TmFtZXNwYWNlZERpZENoYWluSWQsaG8gYXMgZ2V0TmFtZXNwYWNlc0NoYWlucyxnbyBhcyBnZXROYW1lc3BhY2VzRXZlbnRzRm9yQ2hhaW5JZCxtbyBhcyBnZXROYW1lc3BhY2VzRnJvbUFjY291bnRzLHBvIGFzIGdldE5hbWVzcGFjZXNNZXRob2RzRm9yQ2hhaW5JZCxfbyBhcyBnZXROb2RlT25saW5lU3RhdHVzLHlyIGFzIGdldFJlQ2FwQWN0aW9ucyxSbyBhcyBnZXRSZWFjdE5hdGl2ZU9ubGluZVN0YXR1cyx1cyBhcyBnZXRSZWNhcEFiaWxpdGllc0Zyb21SZXNvdXJjZSxkZSBhcyBnZXRSZWNhcEZyb21SZXNvdXJjZXMsZ3IgYXMgZ2V0UmVjYXBSZXNvdXJjZSxpaSBhcyBnZXRSZWxheUNsaWVudE1ldGFkYXRhLFljIGFzIGdldFJlbGF5UHJvdG9jb2xBcGksWmMgYXMgZ2V0UmVsYXlQcm90b2NvbE5hbWUsaWEgYXMgZ2V0UmVxdWlyZWROYW1lc3BhY2VzRnJvbU5hbWVzcGFjZXMsTnQgYXMgZ2V0U2RrRXJyb3IsQWkgYXMgZ2V0U2VhcmNoUGFyYW1Gcm9tVVJMLFVlIGFzIGdldFVuaXF1ZVZhbHVlcyxTaSBhcyBoYW5kbGVEZWVwbGlua1JlZGlyZWN0LGd0IGFzIGhhc092ZXJsYXAsa2UgYXMgaGFzaEV0aGVyZXVtTWVzc2FnZSxQYyBhcyBoYXNoS2V5LGtjIGFzIGhhc2hNZXNzYWdlLGVpIGFzIGlzQW5kcm9pZCxZdCBhcyBpc0Jyb3dzZXIsZ24gYXMgaXNDYWlwTmFtZXNwYWNlLE5vIGFzIGlzQ29uZm9ybWluZ05hbWVzcGFjZXMsdmkgYXMgaXNFeHBpcmVkLFpuIGFzIGlzSWZyYW1lLG5pIGFzIGlzSW9zLFJlIGFzIGlzTm9kZSxJYSBhcyBpc09ubGluZSxmYSBhcyBpc1Byb3Bvc2FsU3RydWN0LHB0IGFzIGlzUmVhY3ROYXRpdmUsSGUgYXMgaXNSZWNhcCxhYSBhcyBpc1Nlc3Npb25Db21wYXRpYmxlLGxhIGFzIGlzU2Vzc2lvblN0cnVjdCx6biBhcyBpc1RlbGVncmFtLElpIGFzIGlzVGVzdFJ1bixLYyBhcyBpc1R5cGVPbmVFbnZlbG9wZSxGYyBhcyBpc1R5cGVUd29FbnZlbG9wZSxFdCBhcyBpc1VuZGVmaW5lZCxFbyBhcyBpc1ZhbGlkQWNjb3VudElkLFNvIGFzIGlzVmFsaWRBY2NvdW50cyxBbyBhcyBpc1ZhbGlkQWN0aW9ucyxvZSBhcyBpc1ZhbGlkQXJyYXksaWUgYXMgaXNWYWxpZENoYWluSWQsdm8gYXMgaXNWYWxpZENoYWlucyxkYSBhcyBpc1ZhbGlkQ29udHJvbGxlcixjciBhcyBpc1ZhbGlkRWlwMTI3MVNpZ25hdHVyZSxzciBhcyBpc1ZhbGlkRWlwMTkxU2lnbmF0dXJlLG1hIGFzIGlzVmFsaWRFcnJvclJlYXNvbixFYSBhcyBpc1ZhbGlkRXZlbnQsZ2EgYXMgaXNWYWxpZElkLE9vIGFzIGlzVmFsaWROYW1lc3BhY2VBY2NvdW50cyx3biBhcyBpc1ZhbGlkTmFtZXNwYWNlQWN0aW9ucyx4byBhcyBpc1ZhbGlkTmFtZXNwYWNlQ2hhaW5zLG1uIGFzIGlzVmFsaWROYW1lc3BhY2VNZXRob2RzT3JFdmVudHMsQm8gYXMgaXNWYWxpZE5hbWVzcGFjZXMsdmEgYXMgaXNWYWxpZE5hbWVzcGFjZXNDaGFpbklkLFNhIGFzIGlzVmFsaWROYW1lc3BhY2VzRXZlbnQseGEgYXMgaXNWYWxpZE5hbWVzcGFjZXNSZXF1ZXN0LFNlIGFzIGlzVmFsaWROdW1iZXIseGUgYXMgaXNWYWxpZE9iamVjdCx5YSBhcyBpc1ZhbGlkUGFyYW1zLGN0IGFzIGlzVmFsaWRSZWNhcCxJbyBhcyBpc1ZhbGlkUmVsYXkscGEgYXMgaXNWYWxpZFJlbGF5cyx3YSBhcyBpc1ZhbGlkUmVxdWVzdCxCYSBhcyBpc1ZhbGlkUmVxdWVzdEV4cGlyeSxoYSBhcyBpc1ZhbGlkUmVxdWlyZWROYW1lc3BhY2VzLGJhIGFzIGlzVmFsaWRSZXNwb25zZSxudCBhcyBpc1ZhbGlkU3RyaW5nLHVhIGFzIGlzVmFsaWRVcmwsZGkgYXMgbWFwRW50cmllcyxmaSBhcyBtYXBUb09iaixhdCBhcyBtZXJnZUFycmF5cyxscyBhcyBtZXJnZUVuY29kZWRSZWNhcHMsdnIgYXMgbWVyZ2VSZWNhcHMseW4gYXMgbm9ybWFsaXplTmFtZXNwYWNlcyxsaSBhcyBvYmpUb01hcCxGbiBhcyBvcGVuRGVlcGxpbmssTmUgYXMgcGFyc2VBY2NvdW50SWQsSWUgYXMgcGFyc2VDaGFpbklkLERuIGFzIHBhcnNlQ29udGV4dE5hbWVzLGJpIGFzIHBhcnNlRXhwaXJlclRhcmdldCx5byBhcyBwYXJzZU5hbWVzcGFjZUtleSxjbyBhcyBwYXJzZVJlbGF5UGFyYW1zLGFvIGFzIHBhcnNlVG9waWMsR2MgYXMgcGFyc2VVcmksb2kgYXMgcG9wdWxhdGVBcHBNZXRhZGF0YSxjcyBhcyBwb3B1bGF0ZUF1dGhQYXlsb2FkLGFzIGFzIHJlY2FwSGFzUmVzb3VyY2UscG4gYXMgc2VyaWFsaXplLE5pIGFzIHNsZWVwLCRvIGFzIHN1YnNjcmliZVRvQnJvd3Nlck5ldHdvcmtDaGFuZ2UsTmEgYXMgc3Vic2NyaWJlVG9OZXR3b3JrQ2hhbmdlLExvIGFzIHN1YnNjcmliZVRvUmVhY3ROYXRpdmVOZXR3b3JrQ2hhbmdlLFluIGFzIHRvQmFzZTY0LEJpIGFzIHV1aWR2NCxxYyBhcyB2YWxpZGF0ZURlY29kaW5nLG9vIGFzIHZhbGlkYXRlRW5jb2RpbmcsaXMgYXMgdmFsaWRhdGVTaWduZWRDYWNhbyx6YyBhcyB2ZXJpZnlQMjU2Snd0LGlyIGFzIHZlcmlmeVNpZ25hdHVyZX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/_shortw_utils.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/_shortw_utils.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCurve: () => (/* binding */ createCurve),\n/* harmony export */   getHash: () => (/* binding */ getHash)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_hmac__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/hashes/hmac */ \"(ssr)/./node_modules/@noble/hashes/esm/hmac.js\");\n/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @noble/hashes/utils */ \"(ssr)/./node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./abstract/weierstrass.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/weierstrass.js\");\n/**\n * Utilities for short weierstrass curves, combined with noble-hashes.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\n\n/** connects noble-curves to noble-hashes */\nfunction getHash(hash) {\n    return {\n        hash,\n        hmac: (key, ...msgs) => (0,_noble_hashes_hmac__WEBPACK_IMPORTED_MODULE_0__.hmac)(hash, key, (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.concatBytes)(...msgs)),\n        randomBytes: _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.randomBytes,\n    };\n}\nfunction createCurve(curveDef, defHash) {\n    const create = (hash) => (0,_abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_2__.weierstrass)({ ...curveDef, ...getHash(hash) });\n    return { ...create(defHash), create };\n}\n//# sourceMappingURL=_shortw_utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL19zaG9ydHdfdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzBDO0FBQ3FCO0FBQ1A7QUFDeEQ7QUFDTztBQUNQO0FBQ0E7QUFDQSxnQ0FBZ0Msd0RBQUksWUFBWSxnRUFBVztBQUMzRCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNPO0FBQ1AsNkJBQTZCLHFFQUFXLEdBQUcsK0JBQStCO0FBQzFFLGFBQWE7QUFDYjtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9fc2hvcnR3X3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXRpbGl0aWVzIGZvciBzaG9ydCB3ZWllcnN0cmFzcyBjdXJ2ZXMsIGNvbWJpbmVkIHdpdGggbm9ibGUtaGFzaGVzLlxuICogQG1vZHVsZVxuICovXG4vKiEgbm9ibGUtY3VydmVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovXG5pbXBvcnQgeyBobWFjIH0gZnJvbSAnQG5vYmxlL2hhc2hlcy9obWFjJztcbmltcG9ydCB7IGNvbmNhdEJ5dGVzLCByYW5kb21CeXRlcyB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvdXRpbHMnO1xuaW1wb3J0IHsgd2VpZXJzdHJhc3MgfSBmcm9tICcuL2Fic3RyYWN0L3dlaWVyc3RyYXNzLmpzJztcbi8qKiBjb25uZWN0cyBub2JsZS1jdXJ2ZXMgdG8gbm9ibGUtaGFzaGVzICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGFzaChoYXNoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzaCxcbiAgICAgICAgaG1hYzogKGtleSwgLi4ubXNncykgPT4gaG1hYyhoYXNoLCBrZXksIGNvbmNhdEJ5dGVzKC4uLm1zZ3MpKSxcbiAgICAgICAgcmFuZG9tQnl0ZXMsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDdXJ2ZShjdXJ2ZURlZiwgZGVmSGFzaCkge1xuICAgIGNvbnN0IGNyZWF0ZSA9IChoYXNoKSA9PiB3ZWllcnN0cmFzcyh7IC4uLmN1cnZlRGVmLCAuLi5nZXRIYXNoKGhhc2gpIH0pO1xuICAgIHJldHVybiB7IC4uLmNyZWF0ZShkZWZIYXNoKSwgY3JlYXRlIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1fc2hvcnR3X3V0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/_shortw_utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/curve.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/curve.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pippenger: () => (/* binding */ pippenger),\n/* harmony export */   precomputeMSMUnsafe: () => (/* binding */ precomputeMSMUnsafe),\n/* harmony export */   validateBasic: () => (/* binding */ validateBasic),\n/* harmony export */   wNAF: () => (/* binding */ wNAF)\n/* harmony export */ });\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/utils.js\");\n/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nfunction constTimeNegate(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\nfunction validateW(W, bits) {\n    if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n        throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\nfunction calcWOpts(W, bits) {\n    validateW(W, bits);\n    const windows = Math.ceil(bits / W) + 1; // +1, because\n    const windowSize = 2 ** (W - 1); // -1 because we skip zero\n    return { windows, windowSize };\n}\nfunction validateMSMPoints(points, c) {\n    if (!Array.isArray(points))\n        throw new Error('array expected');\n    points.forEach((p, i) => {\n        if (!(p instanceof c))\n            throw new Error('invalid point at index ' + i);\n    });\n}\nfunction validateMSMScalars(scalars, field) {\n    if (!Array.isArray(scalars))\n        throw new Error('array of scalars expected');\n    scalars.forEach((s, i) => {\n        if (!field.isValid(s))\n            throw new Error('invalid scalar at index ' + i);\n    });\n}\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes\nconst pointPrecomputes = new WeakMap();\nconst pointWindowSizes = new WeakMap(); // This allows use make points immutable (nothing changes inside)\nfunction getW(P) {\n    return pointWindowSizes.get(P) || 1;\n}\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / 𝑊) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nfunction wNAF(c, bits) {\n    return {\n        constTimeNegate,\n        hasPrecomputes(elm) {\n            return getW(elm) !== 1;\n        },\n        // non-const time multiplication ladder\n        unsafeLadder(elm, n, p = c.ZERO) {\n            let d = elm;\n            while (n > _0n) {\n                if (n & _1n)\n                    p = p.add(d);\n                d = d.double();\n                n >>= _1n;\n            }\n            return p;\n        },\n        /**\n         * Creates a wNAF precomputation window. Used for caching.\n         * Default window size is set by `utils.precompute()` and is equal to 8.\n         * Number of precomputed points depends on the curve size:\n         * 2^(𝑊−1) * (Math.ceil(𝑛 / 𝑊) + 1), where:\n         * - 𝑊 is the window size\n         * - 𝑛 is the bitlength of the curve order.\n         * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n         * @param elm Point instance\n         * @param W window size\n         * @returns precomputed point tables flattened to a single array\n         */\n        precomputeWindow(elm, W) {\n            const { windows, windowSize } = calcWOpts(W, bits);\n            const points = [];\n            let p = elm;\n            let base = p;\n            for (let window = 0; window < windows; window++) {\n                base = p;\n                points.push(base);\n                // =1, because we skip zero\n                for (let i = 1; i < windowSize; i++) {\n                    base = base.add(p);\n                    points.push(base);\n                }\n                p = base.double();\n            }\n            return points;\n        },\n        /**\n         * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n         * @param W window size\n         * @param precomputes precomputed tables\n         * @param n scalar (we don't check here, but should be less than curve order)\n         * @returns real and fake (for const-time) points\n         */\n        wNAF(W, precomputes, n) {\n            // TODO: maybe check that scalar is less than group order? wNAF behavious is undefined otherwise\n            // But need to carefully remove other checks before wNAF. ORDER == bits here\n            const { windows, windowSize } = calcWOpts(W, bits);\n            let p = c.ZERO;\n            let f = c.BASE;\n            const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n            const maxNumber = 2 ** W;\n            const shiftBy = BigInt(W);\n            for (let window = 0; window < windows; window++) {\n                const offset = window * windowSize;\n                // Extract W bits.\n                let wbits = Number(n & mask);\n                // Shift number by W bits.\n                n >>= shiftBy;\n                // If the bits are bigger than max size, we'll split those.\n                // +224 => 256 - 32\n                if (wbits > windowSize) {\n                    wbits -= maxNumber;\n                    n += _1n;\n                }\n                // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n                // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n                // there is negate now: it is possible that negated element from low value\n                // would be the same as high element, which will create carry into next window.\n                // It's not obvious how this can fail, but still worth investigating later.\n                // Check if we're onto Zero point.\n                // Add random point inside current window to f.\n                const offset1 = offset;\n                const offset2 = offset + Math.abs(wbits) - 1; // -1 because we skip zero\n                const cond1 = window % 2 !== 0;\n                const cond2 = wbits < 0;\n                if (wbits === 0) {\n                    // The most important part for const-time getPublicKey\n                    f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n                }\n                else {\n                    p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n                }\n            }\n            // JIT-compiler should not eliminate f here, since it will later be used in normalizeZ()\n            // Even if the variable is still unused, there are some checks which will\n            // throw an exception, so compiler needs to prove they won't happen, which is hard.\n            // At this point there is a way to F be infinity-point even if p is not,\n            // which makes it less const-time: around 1 bigint multiply.\n            return { p, f };\n        },\n        /**\n         * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n         * @param W window size\n         * @param precomputes precomputed tables\n         * @param n scalar (we don't check here, but should be less than curve order)\n         * @param acc accumulator point to add result of multiplication\n         * @returns point\n         */\n        wNAFUnsafe(W, precomputes, n, acc = c.ZERO) {\n            const { windows, windowSize } = calcWOpts(W, bits);\n            const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n            const maxNumber = 2 ** W;\n            const shiftBy = BigInt(W);\n            for (let window = 0; window < windows; window++) {\n                const offset = window * windowSize;\n                if (n === _0n)\n                    break; // No need to go over empty scalar\n                // Extract W bits.\n                let wbits = Number(n & mask);\n                // Shift number by W bits.\n                n >>= shiftBy;\n                // If the bits are bigger than max size, we'll split those.\n                // +224 => 256 - 32\n                if (wbits > windowSize) {\n                    wbits -= maxNumber;\n                    n += _1n;\n                }\n                if (wbits === 0)\n                    continue;\n                let curr = precomputes[offset + Math.abs(wbits) - 1]; // -1 because we skip zero\n                if (wbits < 0)\n                    curr = curr.negate();\n                // NOTE: by re-using acc, we can save a lot of additions in case of MSM\n                acc = acc.add(curr);\n            }\n            return acc;\n        },\n        getPrecomputes(W, P, transform) {\n            // Calculate precomputes on a first run, reuse them after\n            let comp = pointPrecomputes.get(P);\n            if (!comp) {\n                comp = this.precomputeWindow(P, W);\n                if (W !== 1)\n                    pointPrecomputes.set(P, transform(comp));\n            }\n            return comp;\n        },\n        wNAFCached(P, n, transform) {\n            const W = getW(P);\n            return this.wNAF(W, this.getPrecomputes(W, P, transform), n);\n        },\n        wNAFCachedUnsafe(P, n, transform, prev) {\n            const W = getW(P);\n            if (W === 1)\n                return this.unsafeLadder(P, n, prev); // For W=1 ladder is ~x2 faster\n            return this.wNAFUnsafe(W, this.getPrecomputes(W, P, transform), n, prev);\n        },\n        // We calculate precomputes for elliptic curve point multiplication\n        // using windowed method. This specifies window size and\n        // stores precomputed values. Usually only base point would be precomputed.\n        setWindowSize(P, W) {\n            validateW(W, bits);\n            pointWindowSizes.set(P, W);\n            pointPrecomputes.delete(P);\n        },\n    };\n}\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster with precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka private keys / bigints)\n */\nfunction pippenger(c, fieldN, points, scalars) {\n    // If we split scalars by some window (let's say 8 bits), every chunk will only\n    // take 256 buckets even if there are 4096 scalars, also re-uses double.\n    // TODO:\n    // - https://eprint.iacr.org/2024/750.pdf\n    // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n    // 0 is accepted in scalars\n    validateMSMPoints(points, c);\n    validateMSMScalars(scalars, fieldN);\n    if (points.length !== scalars.length)\n        throw new Error('arrays of points and scalars must have equal length');\n    const zero = c.ZERO;\n    const wbits = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitLen)(BigInt(points.length));\n    const windowSize = wbits > 12 ? wbits - 3 : wbits > 4 ? wbits - 2 : wbits ? 2 : 1; // in bits\n    const MASK = (1 << windowSize) - 1;\n    const buckets = new Array(MASK + 1).fill(zero); // +1 for zero array\n    const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n    let sum = zero;\n    for (let i = lastBits; i >= 0; i -= windowSize) {\n        buckets.fill(zero);\n        for (let j = 0; j < scalars.length; j++) {\n            const scalar = scalars[j];\n            const wbits = Number((scalar >> BigInt(i)) & BigInt(MASK));\n            buckets[wbits] = buckets[wbits].add(points[j]);\n        }\n        let resI = zero; // not using this will do small speed-up, but will lose ct\n        // Skip first bucket, because it is zero\n        for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n            sumI = sumI.add(buckets[j]);\n            resI = resI.add(sumI);\n        }\n        sum = sum.add(resI);\n        if (i !== 0)\n            for (let j = 0; j < windowSize; j++)\n                sum = sum.double();\n    }\n    return sum;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nfunction precomputeMSMUnsafe(c, fieldN, points, windowSize) {\n    /**\n     * Performance Analysis of Window-based Precomputation\n     *\n     * Base Case (256-bit scalar, 8-bit window):\n     * - Standard precomputation requires:\n     *   - 31 additions per scalar × 256 scalars = 7,936 ops\n     *   - Plus 255 summary additions = 8,191 total ops\n     *   Note: Summary additions can be optimized via accumulator\n     *\n     * Chunked Precomputation Analysis:\n     * - Using 32 chunks requires:\n     *   - 255 additions per chunk\n     *   - 256 doublings\n     *   - Total: (255 × 32) + 256 = 8,416 ops\n     *\n     * Memory Usage Comparison:\n     * Window Size | Standard Points | Chunked Points\n     * ------------|-----------------|---------------\n     *     4-bit   |     520         |      15\n     *     8-bit   |    4,224        |     255\n     *    10-bit   |   13,824        |   1,023\n     *    16-bit   |  557,056        |  65,535\n     *\n     * Key Advantages:\n     * 1. Enables larger window sizes due to reduced memory overhead\n     * 2. More efficient for smaller scalar counts:\n     *    - 16 chunks: (16 × 255) + 256 = 4,336 ops\n     *    - ~2x faster than standard 8,191 ops\n     *\n     * Limitations:\n     * - Not suitable for plain precomputes (requires 256 constant doublings)\n     * - Performance degrades with larger scalar counts:\n     *   - Optimal for ~256 scalars\n     *   - Less efficient for 4096+ scalars (Pippenger preferred)\n     */\n    validateW(windowSize, fieldN.BITS);\n    validateMSMPoints(points, c);\n    const zero = c.ZERO;\n    const tableSize = 2 ** windowSize - 1; // table size (without zero)\n    const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n    const MASK = BigInt((1 << windowSize) - 1);\n    const tables = points.map((p) => {\n        const res = [];\n        for (let i = 0, acc = p; i < tableSize; i++) {\n            res.push(acc);\n            acc = acc.add(p);\n        }\n        return res;\n    });\n    return (scalars) => {\n        validateMSMScalars(scalars, fieldN);\n        if (scalars.length > points.length)\n            throw new Error('array of scalars must be smaller than array of points');\n        let res = zero;\n        for (let i = 0; i < chunks; i++) {\n            // No need to double if accumulator is still zero.\n            if (res !== zero)\n                for (let j = 0; j < windowSize; j++)\n                    res = res.double();\n            const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n            for (let j = 0; j < scalars.length; j++) {\n                const n = scalars[j];\n                const curr = Number((n >> shiftBy) & MASK);\n                if (!curr)\n                    continue; // skip zero scalars chunks\n                res = res.add(tables[j][curr - 1]);\n            }\n        }\n        return res;\n    };\n}\nfunction validateBasic(curve) {\n    (0,_modular_js__WEBPACK_IMPORTED_MODULE_1__.validateField)(curve.Fp);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject)(curve, {\n        n: 'bigint',\n        h: 'bigint',\n        Gx: 'field',\n        Gy: 'field',\n    }, {\n        nBitLength: 'isSafeInteger',\n        nByteLength: 'isSafeInteger',\n    });\n    // Set defaults\n    return Object.freeze({\n        ...(0,_modular_js__WEBPACK_IMPORTED_MODULE_1__.nLength)(curve.n, curve.nBitLength),\n        ...curve,\n        ...{ p: curve.Fp.ORDER },\n    });\n}\n//# sourceMappingURL=curve.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L2N1cnZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNzRDtBQUNGO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QyxxQ0FBcUM7QUFDckMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsa0JBQWtCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnQkFBZ0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQSxpQ0FBaUMsa0JBQWtCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQyw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBLGlDQUFpQyxrQkFBa0I7QUFDbkQ7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpREFBTTtBQUN4Qix1RkFBdUY7QUFDdkY7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBLDJCQUEyQixRQUFRO0FBQ25DO0FBQ0Esd0JBQXdCLG9CQUFvQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHNEQUFzRCxPQUFPO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0JBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0Msd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0EsZ0NBQWdDLGdCQUFnQjtBQUNoRDtBQUNBO0FBQ0EsNEJBQTRCLG9CQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxJQUFJLDBEQUFhO0FBQ2pCLElBQUkseURBQWM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsV0FBVyxvREFBTztBQUNsQjtBQUNBLGFBQWEsbUJBQW1CO0FBQ2hDLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC9jdXJ2ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1ldGhvZHMgZm9yIGVsbGlwdGljIGN1cnZlIG11bHRpcGxpY2F0aW9uIGJ5IHNjYWxhcnMuXG4gKiBDb250YWlucyB3TkFGLCBwaXBwZW5nZXJcbiAqIEBtb2R1bGVcbiAqL1xuLyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL1xuaW1wb3J0IHsgbkxlbmd0aCwgdmFsaWRhdGVGaWVsZCB9IGZyb20gJy4vbW9kdWxhci5qcyc7XG5pbXBvcnQgeyBiaXRMZW4sIHZhbGlkYXRlT2JqZWN0IH0gZnJvbSAnLi91dGlscy5qcyc7XG5jb25zdCBfMG4gPSBCaWdJbnQoMCk7XG5jb25zdCBfMW4gPSBCaWdJbnQoMSk7XG5mdW5jdGlvbiBjb25zdFRpbWVOZWdhdGUoY29uZGl0aW9uLCBpdGVtKSB7XG4gICAgY29uc3QgbmVnID0gaXRlbS5uZWdhdGUoKTtcbiAgICByZXR1cm4gY29uZGl0aW9uID8gbmVnIDogaXRlbTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlVyhXLCBiaXRzKSB7XG4gICAgaWYgKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihXKSB8fCBXIDw9IDAgfHwgVyA+IGJpdHMpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB3aW5kb3cgc2l6ZSwgZXhwZWN0ZWQgWzEuLicgKyBiaXRzICsgJ10sIGdvdCBXPScgKyBXKTtcbn1cbmZ1bmN0aW9uIGNhbGNXT3B0cyhXLCBiaXRzKSB7XG4gICAgdmFsaWRhdGVXKFcsIGJpdHMpO1xuICAgIGNvbnN0IHdpbmRvd3MgPSBNYXRoLmNlaWwoYml0cyAvIFcpICsgMTsgLy8gKzEsIGJlY2F1c2VcbiAgICBjb25zdCB3aW5kb3dTaXplID0gMiAqKiAoVyAtIDEpOyAvLyAtMSBiZWNhdXNlIHdlIHNraXAgemVyb1xuICAgIHJldHVybiB7IHdpbmRvd3MsIHdpbmRvd1NpemUgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTVNNUG9pbnRzKHBvaW50cywgYykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwb2ludHMpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FycmF5IGV4cGVjdGVkJyk7XG4gICAgcG9pbnRzLmZvckVhY2goKHAsIGkpID0+IHtcbiAgICAgICAgaWYgKCEocCBpbnN0YW5jZW9mIGMpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHBvaW50IGF0IGluZGV4ICcgKyBpKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTVNNU2NhbGFycyhzY2FsYXJzLCBmaWVsZCkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShzY2FsYXJzKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhcnJheSBvZiBzY2FsYXJzIGV4cGVjdGVkJyk7XG4gICAgc2NhbGFycy5mb3JFYWNoKChzLCBpKSA9PiB7XG4gICAgICAgIGlmICghZmllbGQuaXNWYWxpZChzKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzY2FsYXIgYXQgaW5kZXggJyArIGkpO1xuICAgIH0pO1xufVxuLy8gU2luY2UgcG9pbnRzIGluIGRpZmZlcmVudCBncm91cHMgY2Fubm90IGJlIGVxdWFsIChkaWZmZXJlbnQgb2JqZWN0IGNvbnN0cnVjdG9yKSxcbi8vIHdlIGNhbiBoYXZlIHNpbmdsZSBwbGFjZSB0byBzdG9yZSBwcmVjb21wdXRlc1xuY29uc3QgcG9pbnRQcmVjb21wdXRlcyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBwb2ludFdpbmRvd1NpemVzID0gbmV3IFdlYWtNYXAoKTsgLy8gVGhpcyBhbGxvd3MgdXNlIG1ha2UgcG9pbnRzIGltbXV0YWJsZSAobm90aGluZyBjaGFuZ2VzIGluc2lkZSlcbmZ1bmN0aW9uIGdldFcoUCkge1xuICAgIHJldHVybiBwb2ludFdpbmRvd1NpemVzLmdldChQKSB8fCAxO1xufVxuLyoqXG4gKiBFbGxpcHRpYyBjdXJ2ZSBtdWx0aXBsaWNhdGlvbiBvZiBQb2ludCBieSBzY2FsYXIuIEZyYWdpbGUuXG4gKiBTY2FsYXJzIHNob3VsZCBhbHdheXMgYmUgbGVzcyB0aGFuIGN1cnZlIG9yZGVyOiB0aGlzIHNob3VsZCBiZSBjaGVja2VkIGluc2lkZSBvZiBhIGN1cnZlIGl0c2VsZi5cbiAqIENyZWF0ZXMgcHJlY29tcHV0YXRpb24gdGFibGVzIGZvciBmYXN0IG11bHRpcGxpY2F0aW9uOlxuICogLSBwcml2YXRlIHNjYWxhciBpcyBzcGxpdCBieSBmaXhlZCBzaXplIHdpbmRvd3Mgb2YgVyBiaXRzXG4gKiAtIGV2ZXJ5IHdpbmRvdyBwb2ludCBpcyBjb2xsZWN0ZWQgZnJvbSB3aW5kb3cncyB0YWJsZSAmIGFkZGVkIHRvIGFjY3VtdWxhdG9yXG4gKiAtIHNpbmNlIHdpbmRvd3MgYXJlIGRpZmZlcmVudCwgc2FtZSBwb2ludCBpbnNpZGUgdGFibGVzIHdvbid0IGJlIGFjY2Vzc2VkIG1vcmUgdGhhbiBvbmNlIHBlciBjYWxjXG4gKiAtIGVhY2ggbXVsdGlwbGljYXRpb24gaXMgJ01hdGguY2VpbChDVVJWRV9PUkRFUiAvIPCdkYopICsgMScgcG9pbnQgYWRkaXRpb25zIChmaXhlZCBmb3IgYW55IHNjYWxhcilcbiAqIC0gKzEgd2luZG93IGlzIG5lY2Nlc3NhcnkgZm9yIHdOQUZcbiAqIC0gd05BRiByZWR1Y2VzIHRhYmxlIHNpemU6IDJ4IGxlc3MgbWVtb3J5ICsgMnggZmFzdGVyIGdlbmVyYXRpb24sIGJ1dCAxMCUgc2xvd2VyIG11bHRpcGxpY2F0aW9uXG4gKlxuICogQHRvZG8gUmVzZWFyY2ggcmV0dXJuaW5nIDJkIEpTIGFycmF5IG9mIHdpbmRvd3MsIGluc3RlYWQgb2YgYSBzaW5nbGUgd2luZG93LlxuICogVGhpcyB3b3VsZCBhbGxvdyB3aW5kb3dzIHRvIGJlIGluIGRpZmZlcmVudCBtZW1vcnkgbG9jYXRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3TkFGKGMsIGJpdHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25zdFRpbWVOZWdhdGUsXG4gICAgICAgIGhhc1ByZWNvbXB1dGVzKGVsbSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFcoZWxtKSAhPT0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gbm9uLWNvbnN0IHRpbWUgbXVsdGlwbGljYXRpb24gbGFkZGVyXG4gICAgICAgIHVuc2FmZUxhZGRlcihlbG0sIG4sIHAgPSBjLlpFUk8pIHtcbiAgICAgICAgICAgIGxldCBkID0gZWxtO1xuICAgICAgICAgICAgd2hpbGUgKG4gPiBfMG4pIHtcbiAgICAgICAgICAgICAgICBpZiAobiAmIF8xbilcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAuYWRkKGQpO1xuICAgICAgICAgICAgICAgIGQgPSBkLmRvdWJsZSgpO1xuICAgICAgICAgICAgICAgIG4gPj49IF8xbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhIHdOQUYgcHJlY29tcHV0YXRpb24gd2luZG93LiBVc2VkIGZvciBjYWNoaW5nLlxuICAgICAgICAgKiBEZWZhdWx0IHdpbmRvdyBzaXplIGlzIHNldCBieSBgdXRpbHMucHJlY29tcHV0ZSgpYCBhbmQgaXMgZXF1YWwgdG8gOC5cbiAgICAgICAgICogTnVtYmVyIG9mIHByZWNvbXB1dGVkIHBvaW50cyBkZXBlbmRzIG9uIHRoZSBjdXJ2ZSBzaXplOlxuICAgICAgICAgKiAyXijwnZGK4oiSMSkgKiAoTWF0aC5jZWlsKPCdkZsgLyDwnZGKKSArIDEpLCB3aGVyZTpcbiAgICAgICAgICogLSDwnZGKIGlzIHRoZSB3aW5kb3cgc2l6ZVxuICAgICAgICAgKiAtIPCdkZsgaXMgdGhlIGJpdGxlbmd0aCBvZiB0aGUgY3VydmUgb3JkZXIuXG4gICAgICAgICAqIEZvciBhIDI1Ni1iaXQgY3VydmUgYW5kIHdpbmRvdyBzaXplIDgsIHRoZSBudW1iZXIgb2YgcHJlY29tcHV0ZWQgcG9pbnRzIGlzIDEyOCAqIDMzID0gNDIyNC5cbiAgICAgICAgICogQHBhcmFtIGVsbSBQb2ludCBpbnN0YW5jZVxuICAgICAgICAgKiBAcGFyYW0gVyB3aW5kb3cgc2l6ZVxuICAgICAgICAgKiBAcmV0dXJucyBwcmVjb21wdXRlZCBwb2ludCB0YWJsZXMgZmxhdHRlbmVkIHRvIGEgc2luZ2xlIGFycmF5XG4gICAgICAgICAqL1xuICAgICAgICBwcmVjb21wdXRlV2luZG93KGVsbSwgVykge1xuICAgICAgICAgICAgY29uc3QgeyB3aW5kb3dzLCB3aW5kb3dTaXplIH0gPSBjYWxjV09wdHMoVywgYml0cyk7XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcbiAgICAgICAgICAgIGxldCBwID0gZWxtO1xuICAgICAgICAgICAgbGV0IGJhc2UgPSBwO1xuICAgICAgICAgICAgZm9yIChsZXQgd2luZG93ID0gMDsgd2luZG93IDwgd2luZG93czsgd2luZG93KyspIHtcbiAgICAgICAgICAgICAgICBiYXNlID0gcDtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChiYXNlKTtcbiAgICAgICAgICAgICAgICAvLyA9MSwgYmVjYXVzZSB3ZSBza2lwIHplcm9cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHdpbmRvd1NpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBiYXNlID0gYmFzZS5hZGQocCk7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGJhc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwID0gYmFzZS5kb3VibGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBsZW1lbnRzIGVjIG11bHRpcGxpY2F0aW9uIHVzaW5nIHByZWNvbXB1dGVkIHRhYmxlcyBhbmQgdy1hcnkgbm9uLWFkamFjZW50IGZvcm0uXG4gICAgICAgICAqIEBwYXJhbSBXIHdpbmRvdyBzaXplXG4gICAgICAgICAqIEBwYXJhbSBwcmVjb21wdXRlcyBwcmVjb21wdXRlZCB0YWJsZXNcbiAgICAgICAgICogQHBhcmFtIG4gc2NhbGFyICh3ZSBkb24ndCBjaGVjayBoZXJlLCBidXQgc2hvdWxkIGJlIGxlc3MgdGhhbiBjdXJ2ZSBvcmRlcilcbiAgICAgICAgICogQHJldHVybnMgcmVhbCBhbmQgZmFrZSAoZm9yIGNvbnN0LXRpbWUpIHBvaW50c1xuICAgICAgICAgKi9cbiAgICAgICAgd05BRihXLCBwcmVjb21wdXRlcywgbikge1xuICAgICAgICAgICAgLy8gVE9ETzogbWF5YmUgY2hlY2sgdGhhdCBzY2FsYXIgaXMgbGVzcyB0aGFuIGdyb3VwIG9yZGVyPyB3TkFGIGJlaGF2aW91cyBpcyB1bmRlZmluZWQgb3RoZXJ3aXNlXG4gICAgICAgICAgICAvLyBCdXQgbmVlZCB0byBjYXJlZnVsbHkgcmVtb3ZlIG90aGVyIGNoZWNrcyBiZWZvcmUgd05BRi4gT1JERVIgPT0gYml0cyBoZXJlXG4gICAgICAgICAgICBjb25zdCB7IHdpbmRvd3MsIHdpbmRvd1NpemUgfSA9IGNhbGNXT3B0cyhXLCBiaXRzKTtcbiAgICAgICAgICAgIGxldCBwID0gYy5aRVJPO1xuICAgICAgICAgICAgbGV0IGYgPSBjLkJBU0U7XG4gICAgICAgICAgICBjb25zdCBtYXNrID0gQmlnSW50KDIgKiogVyAtIDEpOyAvLyBDcmVhdGUgbWFzayB3aXRoIFcgb25lczogMGIxMTExIGZvciBXPTQgZXRjLlxuICAgICAgICAgICAgY29uc3QgbWF4TnVtYmVyID0gMiAqKiBXO1xuICAgICAgICAgICAgY29uc3Qgc2hpZnRCeSA9IEJpZ0ludChXKTtcbiAgICAgICAgICAgIGZvciAobGV0IHdpbmRvdyA9IDA7IHdpbmRvdyA8IHdpbmRvd3M7IHdpbmRvdysrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gd2luZG93ICogd2luZG93U2l6ZTtcbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IFcgYml0cy5cbiAgICAgICAgICAgICAgICBsZXQgd2JpdHMgPSBOdW1iZXIobiAmIG1hc2spO1xuICAgICAgICAgICAgICAgIC8vIFNoaWZ0IG51bWJlciBieSBXIGJpdHMuXG4gICAgICAgICAgICAgICAgbiA+Pj0gc2hpZnRCeTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYml0cyBhcmUgYmlnZ2VyIHRoYW4gbWF4IHNpemUsIHdlJ2xsIHNwbGl0IHRob3NlLlxuICAgICAgICAgICAgICAgIC8vICsyMjQgPT4gMjU2IC0gMzJcbiAgICAgICAgICAgICAgICBpZiAod2JpdHMgPiB3aW5kb3dTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHdiaXRzIC09IG1heE51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgbiArPSBfMW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoaXMgY29kZSB3YXMgZmlyc3Qgd3JpdHRlbiB3aXRoIGFzc3VtcHRpb24gdGhhdCAnZicgYW5kICdwJyB3aWxsIG5ldmVyIGJlIGluZmluaXR5IHBvaW50OlxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIGVhY2ggYWRkaXRpb24gaXMgbXVsdGlwbGllZCBieSAyICoqIFcsIGl0IGNhbm5vdCBjYW5jZWwgZWFjaCBvdGhlci4gSG93ZXZlcixcbiAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBuZWdhdGUgbm93OiBpdCBpcyBwb3NzaWJsZSB0aGF0IG5lZ2F0ZWQgZWxlbWVudCBmcm9tIGxvdyB2YWx1ZVxuICAgICAgICAgICAgICAgIC8vIHdvdWxkIGJlIHRoZSBzYW1lIGFzIGhpZ2ggZWxlbWVudCwgd2hpY2ggd2lsbCBjcmVhdGUgY2FycnkgaW50byBuZXh0IHdpbmRvdy5cbiAgICAgICAgICAgICAgICAvLyBJdCdzIG5vdCBvYnZpb3VzIGhvdyB0aGlzIGNhbiBmYWlsLCBidXQgc3RpbGwgd29ydGggaW52ZXN0aWdhdGluZyBsYXRlci5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBvbnRvIFplcm8gcG9pbnQuXG4gICAgICAgICAgICAgICAgLy8gQWRkIHJhbmRvbSBwb2ludCBpbnNpZGUgY3VycmVudCB3aW5kb3cgdG8gZi5cbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQxID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldDIgPSBvZmZzZXQgKyBNYXRoLmFicyh3Yml0cykgLSAxOyAvLyAtMSBiZWNhdXNlIHdlIHNraXAgemVyb1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmQxID0gd2luZG93ICUgMiAhPT0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kMiA9IHdiaXRzIDwgMDtcbiAgICAgICAgICAgICAgICBpZiAod2JpdHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG1vc3QgaW1wb3J0YW50IHBhcnQgZm9yIGNvbnN0LXRpbWUgZ2V0UHVibGljS2V5XG4gICAgICAgICAgICAgICAgICAgIGYgPSBmLmFkZChjb25zdFRpbWVOZWdhdGUoY29uZDEsIHByZWNvbXB1dGVzW29mZnNldDFdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwID0gcC5hZGQoY29uc3RUaW1lTmVnYXRlKGNvbmQyLCBwcmVjb21wdXRlc1tvZmZzZXQyXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEpJVC1jb21waWxlciBzaG91bGQgbm90IGVsaW1pbmF0ZSBmIGhlcmUsIHNpbmNlIGl0IHdpbGwgbGF0ZXIgYmUgdXNlZCBpbiBub3JtYWxpemVaKClcbiAgICAgICAgICAgIC8vIEV2ZW4gaWYgdGhlIHZhcmlhYmxlIGlzIHN0aWxsIHVudXNlZCwgdGhlcmUgYXJlIHNvbWUgY2hlY2tzIHdoaWNoIHdpbGxcbiAgICAgICAgICAgIC8vIHRocm93IGFuIGV4Y2VwdGlvbiwgc28gY29tcGlsZXIgbmVlZHMgdG8gcHJvdmUgdGhleSB3b24ndCBoYXBwZW4sIHdoaWNoIGlzIGhhcmQuXG4gICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZXJlIGlzIGEgd2F5IHRvIEYgYmUgaW5maW5pdHktcG9pbnQgZXZlbiBpZiBwIGlzIG5vdCxcbiAgICAgICAgICAgIC8vIHdoaWNoIG1ha2VzIGl0IGxlc3MgY29uc3QtdGltZTogYXJvdW5kIDEgYmlnaW50IG11bHRpcGx5LlxuICAgICAgICAgICAgcmV0dXJuIHsgcCwgZiB9O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wbGVtZW50cyBlYyB1bnNhZmUgKG5vbiBjb25zdC10aW1lKSBtdWx0aXBsaWNhdGlvbiB1c2luZyBwcmVjb21wdXRlZCB0YWJsZXMgYW5kIHctYXJ5IG5vbi1hZGphY2VudCBmb3JtLlxuICAgICAgICAgKiBAcGFyYW0gVyB3aW5kb3cgc2l6ZVxuICAgICAgICAgKiBAcGFyYW0gcHJlY29tcHV0ZXMgcHJlY29tcHV0ZWQgdGFibGVzXG4gICAgICAgICAqIEBwYXJhbSBuIHNjYWxhciAod2UgZG9uJ3QgY2hlY2sgaGVyZSwgYnV0IHNob3VsZCBiZSBsZXNzIHRoYW4gY3VydmUgb3JkZXIpXG4gICAgICAgICAqIEBwYXJhbSBhY2MgYWNjdW11bGF0b3IgcG9pbnQgdG8gYWRkIHJlc3VsdCBvZiBtdWx0aXBsaWNhdGlvblxuICAgICAgICAgKiBAcmV0dXJucyBwb2ludFxuICAgICAgICAgKi9cbiAgICAgICAgd05BRlVuc2FmZShXLCBwcmVjb21wdXRlcywgbiwgYWNjID0gYy5aRVJPKSB7XG4gICAgICAgICAgICBjb25zdCB7IHdpbmRvd3MsIHdpbmRvd1NpemUgfSA9IGNhbGNXT3B0cyhXLCBiaXRzKTtcbiAgICAgICAgICAgIGNvbnN0IG1hc2sgPSBCaWdJbnQoMiAqKiBXIC0gMSk7IC8vIENyZWF0ZSBtYXNrIHdpdGggVyBvbmVzOiAwYjExMTEgZm9yIFc9NCBldGMuXG4gICAgICAgICAgICBjb25zdCBtYXhOdW1iZXIgPSAyICoqIFc7XG4gICAgICAgICAgICBjb25zdCBzaGlmdEJ5ID0gQmlnSW50KFcpO1xuICAgICAgICAgICAgZm9yIChsZXQgd2luZG93ID0gMDsgd2luZG93IDwgd2luZG93czsgd2luZG93KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB3aW5kb3cgKiB3aW5kb3dTaXplO1xuICAgICAgICAgICAgICAgIGlmIChuID09PSBfMG4pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBObyBuZWVkIHRvIGdvIG92ZXIgZW1wdHkgc2NhbGFyXG4gICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBXIGJpdHMuXG4gICAgICAgICAgICAgICAgbGV0IHdiaXRzID0gTnVtYmVyKG4gJiBtYXNrKTtcbiAgICAgICAgICAgICAgICAvLyBTaGlmdCBudW1iZXIgYnkgVyBiaXRzLlxuICAgICAgICAgICAgICAgIG4gPj49IHNoaWZ0Qnk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGJpdHMgYXJlIGJpZ2dlciB0aGFuIG1heCBzaXplLCB3ZSdsbCBzcGxpdCB0aG9zZS5cbiAgICAgICAgICAgICAgICAvLyArMjI0ID0+IDI1NiAtIDMyXG4gICAgICAgICAgICAgICAgaWYgKHdiaXRzID4gd2luZG93U2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB3Yml0cyAtPSBtYXhOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIG4gKz0gXzFuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAod2JpdHMgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGxldCBjdXJyID0gcHJlY29tcHV0ZXNbb2Zmc2V0ICsgTWF0aC5hYnMod2JpdHMpIC0gMV07IC8vIC0xIGJlY2F1c2Ugd2Ugc2tpcCB6ZXJvXG4gICAgICAgICAgICAgICAgaWYgKHdiaXRzIDwgMClcbiAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnIubmVnYXRlKCk7XG4gICAgICAgICAgICAgICAgLy8gTk9URTogYnkgcmUtdXNpbmcgYWNjLCB3ZSBjYW4gc2F2ZSBhIGxvdCBvZiBhZGRpdGlvbnMgaW4gY2FzZSBvZiBNU01cbiAgICAgICAgICAgICAgICBhY2MgPSBhY2MuYWRkKGN1cnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UHJlY29tcHV0ZXMoVywgUCwgdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgcHJlY29tcHV0ZXMgb24gYSBmaXJzdCBydW4sIHJldXNlIHRoZW0gYWZ0ZXJcbiAgICAgICAgICAgIGxldCBjb21wID0gcG9pbnRQcmVjb21wdXRlcy5nZXQoUCk7XG4gICAgICAgICAgICBpZiAoIWNvbXApIHtcbiAgICAgICAgICAgICAgICBjb21wID0gdGhpcy5wcmVjb21wdXRlV2luZG93KFAsIFcpO1xuICAgICAgICAgICAgICAgIGlmIChXICE9PSAxKVxuICAgICAgICAgICAgICAgICAgICBwb2ludFByZWNvbXB1dGVzLnNldChQLCB0cmFuc2Zvcm0oY29tcCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbXA7XG4gICAgICAgIH0sXG4gICAgICAgIHdOQUZDYWNoZWQoUCwgbiwgdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBjb25zdCBXID0gZ2V0VyhQKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndOQUYoVywgdGhpcy5nZXRQcmVjb21wdXRlcyhXLCBQLCB0cmFuc2Zvcm0pLCBuKTtcbiAgICAgICAgfSxcbiAgICAgICAgd05BRkNhY2hlZFVuc2FmZShQLCBuLCB0cmFuc2Zvcm0sIHByZXYpIHtcbiAgICAgICAgICAgIGNvbnN0IFcgPSBnZXRXKFApO1xuICAgICAgICAgICAgaWYgKFcgPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5zYWZlTGFkZGVyKFAsIG4sIHByZXYpOyAvLyBGb3IgVz0xIGxhZGRlciBpcyB+eDIgZmFzdGVyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy53TkFGVW5zYWZlKFcsIHRoaXMuZ2V0UHJlY29tcHV0ZXMoVywgUCwgdHJhbnNmb3JtKSwgbiwgcHJldik7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIFdlIGNhbGN1bGF0ZSBwcmVjb21wdXRlcyBmb3IgZWxsaXB0aWMgY3VydmUgcG9pbnQgbXVsdGlwbGljYXRpb25cbiAgICAgICAgLy8gdXNpbmcgd2luZG93ZWQgbWV0aG9kLiBUaGlzIHNwZWNpZmllcyB3aW5kb3cgc2l6ZSBhbmRcbiAgICAgICAgLy8gc3RvcmVzIHByZWNvbXB1dGVkIHZhbHVlcy4gVXN1YWxseSBvbmx5IGJhc2UgcG9pbnQgd291bGQgYmUgcHJlY29tcHV0ZWQuXG4gICAgICAgIHNldFdpbmRvd1NpemUoUCwgVykge1xuICAgICAgICAgICAgdmFsaWRhdGVXKFcsIGJpdHMpO1xuICAgICAgICAgICAgcG9pbnRXaW5kb3dTaXplcy5zZXQoUCwgVyk7XG4gICAgICAgICAgICBwb2ludFByZWNvbXB1dGVzLmRlbGV0ZShQKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBQaXBwZW5nZXIgYWxnb3JpdGhtIGZvciBtdWx0aS1zY2FsYXIgbXVsdGlwbGljYXRpb24gKE1TTSwgUGEgKyBRYiArIFJjICsgLi4uKS5cbiAqIDMweCBmYXN0ZXIgdnMgbmFpdmUgYWRkaXRpb24gb24gTD00MDk2LCAxMHggZmFzdGVyIHdpdGggcHJlY29tcHV0ZXMuXG4gKiBGb3IgTj0yNTRiaXQsIEw9MSwgaXQgZG9lczogMTAyNCBBREQgKyAyNTQgREJMLiBGb3IgTD01OiAxNTM2IEFERCArIDI1NCBEQkwuXG4gKiBBbGdvcml0aG1pY2FsbHkgY29uc3RhbnQtdGltZSAoZm9yIHNhbWUgTCksIGV2ZW4gd2hlbiAxIHBvaW50ICsgc2NhbGFyLCBvciB3aGVuIHNjYWxhciA9IDAuXG4gKiBAcGFyYW0gYyBDdXJ2ZSBQb2ludCBjb25zdHJ1Y3RvclxuICogQHBhcmFtIGZpZWxkTiBmaWVsZCBvdmVyIENVUlZFLk4gLSBpbXBvcnRhbnQgdGhhdCBpdCdzIG5vdCBvdmVyIENVUlZFLlBcbiAqIEBwYXJhbSBwb2ludHMgYXJyYXkgb2YgTCBjdXJ2ZSBwb2ludHNcbiAqIEBwYXJhbSBzY2FsYXJzIGFycmF5IG9mIEwgc2NhbGFycyAoYWthIHByaXZhdGUga2V5cyAvIGJpZ2ludHMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwaXBwZW5nZXIoYywgZmllbGROLCBwb2ludHMsIHNjYWxhcnMpIHtcbiAgICAvLyBJZiB3ZSBzcGxpdCBzY2FsYXJzIGJ5IHNvbWUgd2luZG93IChsZXQncyBzYXkgOCBiaXRzKSwgZXZlcnkgY2h1bmsgd2lsbCBvbmx5XG4gICAgLy8gdGFrZSAyNTYgYnVja2V0cyBldmVuIGlmIHRoZXJlIGFyZSA0MDk2IHNjYWxhcnMsIGFsc28gcmUtdXNlcyBkb3VibGUuXG4gICAgLy8gVE9ETzpcbiAgICAvLyAtIGh0dHBzOi8vZXByaW50LmlhY3Iub3JnLzIwMjQvNzUwLnBkZlxuICAgIC8vIC0gaHR0cHM6Ly90Y2hlcy5pYWNyLm9yZy9pbmRleC5waHAvVENIRVMvYXJ0aWNsZS92aWV3LzEwMjg3XG4gICAgLy8gMCBpcyBhY2NlcHRlZCBpbiBzY2FsYXJzXG4gICAgdmFsaWRhdGVNU01Qb2ludHMocG9pbnRzLCBjKTtcbiAgICB2YWxpZGF0ZU1TTVNjYWxhcnMoc2NhbGFycywgZmllbGROKTtcbiAgICBpZiAocG9pbnRzLmxlbmd0aCAhPT0gc2NhbGFycy5sZW5ndGgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYXJyYXlzIG9mIHBvaW50cyBhbmQgc2NhbGFycyBtdXN0IGhhdmUgZXF1YWwgbGVuZ3RoJyk7XG4gICAgY29uc3QgemVybyA9IGMuWkVSTztcbiAgICBjb25zdCB3Yml0cyA9IGJpdExlbihCaWdJbnQocG9pbnRzLmxlbmd0aCkpO1xuICAgIGNvbnN0IHdpbmRvd1NpemUgPSB3Yml0cyA+IDEyID8gd2JpdHMgLSAzIDogd2JpdHMgPiA0ID8gd2JpdHMgLSAyIDogd2JpdHMgPyAyIDogMTsgLy8gaW4gYml0c1xuICAgIGNvbnN0IE1BU0sgPSAoMSA8PCB3aW5kb3dTaXplKSAtIDE7XG4gICAgY29uc3QgYnVja2V0cyA9IG5ldyBBcnJheShNQVNLICsgMSkuZmlsbCh6ZXJvKTsgLy8gKzEgZm9yIHplcm8gYXJyYXlcbiAgICBjb25zdCBsYXN0Qml0cyA9IE1hdGguZmxvb3IoKGZpZWxkTi5CSVRTIC0gMSkgLyB3aW5kb3dTaXplKSAqIHdpbmRvd1NpemU7XG4gICAgbGV0IHN1bSA9IHplcm87XG4gICAgZm9yIChsZXQgaSA9IGxhc3RCaXRzOyBpID49IDA7IGkgLT0gd2luZG93U2l6ZSkge1xuICAgICAgICBidWNrZXRzLmZpbGwoemVybyk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2NhbGFycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGFyID0gc2NhbGFyc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IHdiaXRzID0gTnVtYmVyKChzY2FsYXIgPj4gQmlnSW50KGkpKSAmIEJpZ0ludChNQVNLKSk7XG4gICAgICAgICAgICBidWNrZXRzW3diaXRzXSA9IGJ1Y2tldHNbd2JpdHNdLmFkZChwb2ludHNbal0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXNJID0gemVybzsgLy8gbm90IHVzaW5nIHRoaXMgd2lsbCBkbyBzbWFsbCBzcGVlZC11cCwgYnV0IHdpbGwgbG9zZSBjdFxuICAgICAgICAvLyBTa2lwIGZpcnN0IGJ1Y2tldCwgYmVjYXVzZSBpdCBpcyB6ZXJvXG4gICAgICAgIGZvciAobGV0IGogPSBidWNrZXRzLmxlbmd0aCAtIDEsIHN1bUkgPSB6ZXJvOyBqID4gMDsgai0tKSB7XG4gICAgICAgICAgICBzdW1JID0gc3VtSS5hZGQoYnVja2V0c1tqXSk7XG4gICAgICAgICAgICByZXNJID0gcmVzSS5hZGQoc3VtSSk7XG4gICAgICAgIH1cbiAgICAgICAgc3VtID0gc3VtLmFkZChyZXNJKTtcbiAgICAgICAgaWYgKGkgIT09IDApXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHdpbmRvd1NpemU7IGorKylcbiAgICAgICAgICAgICAgICBzdW0gPSBzdW0uZG91YmxlKCk7XG4gICAgfVxuICAgIHJldHVybiBzdW07XG59XG4vKipcbiAqIFByZWNvbXB1dGVkIG11bHRpLXNjYWxhciBtdWx0aXBsaWNhdGlvbiAoTVNNLCBQYSArIFFiICsgUmMgKyAuLi4pLlxuICogQHBhcmFtIGMgQ3VydmUgUG9pbnQgY29uc3RydWN0b3JcbiAqIEBwYXJhbSBmaWVsZE4gZmllbGQgb3ZlciBDVVJWRS5OIC0gaW1wb3J0YW50IHRoYXQgaXQncyBub3Qgb3ZlciBDVVJWRS5QXG4gKiBAcGFyYW0gcG9pbnRzIGFycmF5IG9mIEwgY3VydmUgcG9pbnRzXG4gKiBAcmV0dXJucyBmdW5jdGlvbiB3aGljaCBtdWx0aXBsaWVzIHBvaW50cyB3aXRoIHNjYWFyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlY29tcHV0ZU1TTVVuc2FmZShjLCBmaWVsZE4sIHBvaW50cywgd2luZG93U2l6ZSkge1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm1hbmNlIEFuYWx5c2lzIG9mIFdpbmRvdy1iYXNlZCBQcmVjb21wdXRhdGlvblxuICAgICAqXG4gICAgICogQmFzZSBDYXNlICgyNTYtYml0IHNjYWxhciwgOC1iaXQgd2luZG93KTpcbiAgICAgKiAtIFN0YW5kYXJkIHByZWNvbXB1dGF0aW9uIHJlcXVpcmVzOlxuICAgICAqICAgLSAzMSBhZGRpdGlvbnMgcGVyIHNjYWxhciDDlyAyNTYgc2NhbGFycyA9IDcsOTM2IG9wc1xuICAgICAqICAgLSBQbHVzIDI1NSBzdW1tYXJ5IGFkZGl0aW9ucyA9IDgsMTkxIHRvdGFsIG9wc1xuICAgICAqICAgTm90ZTogU3VtbWFyeSBhZGRpdGlvbnMgY2FuIGJlIG9wdGltaXplZCB2aWEgYWNjdW11bGF0b3JcbiAgICAgKlxuICAgICAqIENodW5rZWQgUHJlY29tcHV0YXRpb24gQW5hbHlzaXM6XG4gICAgICogLSBVc2luZyAzMiBjaHVua3MgcmVxdWlyZXM6XG4gICAgICogICAtIDI1NSBhZGRpdGlvbnMgcGVyIGNodW5rXG4gICAgICogICAtIDI1NiBkb3VibGluZ3NcbiAgICAgKiAgIC0gVG90YWw6ICgyNTUgw5cgMzIpICsgMjU2ID0gOCw0MTYgb3BzXG4gICAgICpcbiAgICAgKiBNZW1vcnkgVXNhZ2UgQ29tcGFyaXNvbjpcbiAgICAgKiBXaW5kb3cgU2l6ZSB8IFN0YW5kYXJkIFBvaW50cyB8IENodW5rZWQgUG9pbnRzXG4gICAgICogLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLVxuICAgICAqICAgICA0LWJpdCAgIHwgICAgIDUyMCAgICAgICAgIHwgICAgICAxNVxuICAgICAqICAgICA4LWJpdCAgIHwgICAgNCwyMjQgICAgICAgIHwgICAgIDI1NVxuICAgICAqICAgIDEwLWJpdCAgIHwgICAxMyw4MjQgICAgICAgIHwgICAxLDAyM1xuICAgICAqICAgIDE2LWJpdCAgIHwgIDU1NywwNTYgICAgICAgIHwgIDY1LDUzNVxuICAgICAqXG4gICAgICogS2V5IEFkdmFudGFnZXM6XG4gICAgICogMS4gRW5hYmxlcyBsYXJnZXIgd2luZG93IHNpemVzIGR1ZSB0byByZWR1Y2VkIG1lbW9yeSBvdmVyaGVhZFxuICAgICAqIDIuIE1vcmUgZWZmaWNpZW50IGZvciBzbWFsbGVyIHNjYWxhciBjb3VudHM6XG4gICAgICogICAgLSAxNiBjaHVua3M6ICgxNiDDlyAyNTUpICsgMjU2ID0gNCwzMzYgb3BzXG4gICAgICogICAgLSB+MnggZmFzdGVyIHRoYW4gc3RhbmRhcmQgOCwxOTEgb3BzXG4gICAgICpcbiAgICAgKiBMaW1pdGF0aW9uczpcbiAgICAgKiAtIE5vdCBzdWl0YWJsZSBmb3IgcGxhaW4gcHJlY29tcHV0ZXMgKHJlcXVpcmVzIDI1NiBjb25zdGFudCBkb3VibGluZ3MpXG4gICAgICogLSBQZXJmb3JtYW5jZSBkZWdyYWRlcyB3aXRoIGxhcmdlciBzY2FsYXIgY291bnRzOlxuICAgICAqICAgLSBPcHRpbWFsIGZvciB+MjU2IHNjYWxhcnNcbiAgICAgKiAgIC0gTGVzcyBlZmZpY2llbnQgZm9yIDQwOTYrIHNjYWxhcnMgKFBpcHBlbmdlciBwcmVmZXJyZWQpXG4gICAgICovXG4gICAgdmFsaWRhdGVXKHdpbmRvd1NpemUsIGZpZWxkTi5CSVRTKTtcbiAgICB2YWxpZGF0ZU1TTVBvaW50cyhwb2ludHMsIGMpO1xuICAgIGNvbnN0IHplcm8gPSBjLlpFUk87XG4gICAgY29uc3QgdGFibGVTaXplID0gMiAqKiB3aW5kb3dTaXplIC0gMTsgLy8gdGFibGUgc2l6ZSAod2l0aG91dCB6ZXJvKVxuICAgIGNvbnN0IGNodW5rcyA9IE1hdGguY2VpbChmaWVsZE4uQklUUyAvIHdpbmRvd1NpemUpOyAvLyBjaHVua3Mgb2YgaXRlbVxuICAgIGNvbnN0IE1BU0sgPSBCaWdJbnQoKDEgPDwgd2luZG93U2l6ZSkgLSAxKTtcbiAgICBjb25zdCB0YWJsZXMgPSBwb2ludHMubWFwKChwKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgYWNjID0gcDsgaSA8IHRhYmxlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICByZXMucHVzaChhY2MpO1xuICAgICAgICAgICAgYWNjID0gYWNjLmFkZChwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICAgIHJldHVybiAoc2NhbGFycykgPT4ge1xuICAgICAgICB2YWxpZGF0ZU1TTVNjYWxhcnMoc2NhbGFycywgZmllbGROKTtcbiAgICAgICAgaWYgKHNjYWxhcnMubGVuZ3RoID4gcG9pbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXJyYXkgb2Ygc2NhbGFycyBtdXN0IGJlIHNtYWxsZXIgdGhhbiBhcnJheSBvZiBwb2ludHMnKTtcbiAgICAgICAgbGV0IHJlcyA9IHplcm87XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2h1bmtzOyBpKyspIHtcbiAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gZG91YmxlIGlmIGFjY3VtdWxhdG9yIGlzIHN0aWxsIHplcm8uXG4gICAgICAgICAgICBpZiAocmVzICE9PSB6ZXJvKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2luZG93U2l6ZTsgaisrKVxuICAgICAgICAgICAgICAgICAgICByZXMgPSByZXMuZG91YmxlKCk7XG4gICAgICAgICAgICBjb25zdCBzaGlmdEJ5ID0gQmlnSW50KGNodW5rcyAqIHdpbmRvd1NpemUgLSAoaSArIDEpICogd2luZG93U2l6ZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNjYWxhcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gc2NhbGFyc1tqXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyID0gTnVtYmVyKChuID4+IHNoaWZ0QnkpICYgTUFTSyk7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCB6ZXJvIHNjYWxhcnMgY2h1bmtzXG4gICAgICAgICAgICAgICAgcmVzID0gcmVzLmFkZCh0YWJsZXNbal1bY3VyciAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVCYXNpYyhjdXJ2ZSkge1xuICAgIHZhbGlkYXRlRmllbGQoY3VydmUuRnApO1xuICAgIHZhbGlkYXRlT2JqZWN0KGN1cnZlLCB7XG4gICAgICAgIG46ICdiaWdpbnQnLFxuICAgICAgICBoOiAnYmlnaW50JyxcbiAgICAgICAgR3g6ICdmaWVsZCcsXG4gICAgICAgIEd5OiAnZmllbGQnLFxuICAgIH0sIHtcbiAgICAgICAgbkJpdExlbmd0aDogJ2lzU2FmZUludGVnZXInLFxuICAgICAgICBuQnl0ZUxlbmd0aDogJ2lzU2FmZUludGVnZXInLFxuICAgIH0pO1xuICAgIC8vIFNldCBkZWZhdWx0c1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgLi4ubkxlbmd0aChjdXJ2ZS5uLCBjdXJ2ZS5uQml0TGVuZ3RoKSxcbiAgICAgICAgLi4uY3VydmUsXG4gICAgICAgIC4uLnsgcDogY3VydmUuRnAuT1JERVIgfSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWN1cnZlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/curve.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/hash-to-curve.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/hash-to-curve.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHasher: () => (/* binding */ createHasher),\n/* harmony export */   expand_message_xmd: () => (/* binding */ expand_message_xmd),\n/* harmony export */   expand_message_xof: () => (/* binding */ expand_message_xof),\n/* harmony export */   hash_to_field: () => (/* binding */ hash_to_field),\n/* harmony export */   isogenyMap: () => (/* binding */ isogenyMap)\n/* harmony export */ });\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/utils.js\");\n\n\n// Octet Stream to Integer. \"spec\" implementation of os2ip is 2.5x slower vs bytesToNumberBE.\nconst os2ip = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE;\n// Integer to Octet Stream (numberToBytesBE)\nfunction i2osp(value, length) {\n    anum(value);\n    anum(length);\n    if (value < 0 || value >= 1 << (8 * length))\n        throw new Error('invalid I2OSP input: ' + value);\n    const res = Array.from({ length }).fill(0);\n    for (let i = length - 1; i >= 0; i--) {\n        res[i] = value & 0xff;\n        value >>>= 8;\n    }\n    return new Uint8Array(res);\n}\nfunction strxor(a, b) {\n    const arr = new Uint8Array(a.length);\n    for (let i = 0; i < a.length; i++) {\n        arr[i] = a[i] ^ b[i];\n    }\n    return arr;\n}\nfunction anum(item) {\n    if (!Number.isSafeInteger(item))\n        throw new Error('number expected');\n}\n/**\n * Produces a uniformly random byte string using a cryptographic hash function H that outputs b bits.\n * [RFC 9380 5.3.1](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.1).\n */\nfunction expand_message_xmd(msg, DST, lenInBytes, H) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(msg);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(DST);\n    anum(lenInBytes);\n    // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n    if (DST.length > 255)\n        DST = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)('H2C-OVERSIZE-DST-'), DST));\n    const { outputLen: b_in_bytes, blockLen: r_in_bytes } = H;\n    const ell = Math.ceil(lenInBytes / b_in_bytes);\n    if (lenInBytes > 65535 || ell > 255)\n        throw new Error('expand_message_xmd: invalid lenInBytes');\n    const DST_prime = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(DST, i2osp(DST.length, 1));\n    const Z_pad = i2osp(0, r_in_bytes);\n    const l_i_b_str = i2osp(lenInBytes, 2); // len_in_bytes_str\n    const b = new Array(ell);\n    const b_0 = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(Z_pad, msg, l_i_b_str, i2osp(0, 1), DST_prime));\n    b[0] = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(b_0, i2osp(1, 1), DST_prime));\n    for (let i = 1; i <= ell; i++) {\n        const args = [strxor(b_0, b[i - 1]), i2osp(i + 1, 1), DST_prime];\n        b[i] = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(...args));\n    }\n    const pseudo_random_bytes = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(...b);\n    return pseudo_random_bytes.slice(0, lenInBytes);\n}\n/**\n * Produces a uniformly random byte string using an extendable-output function (XOF) H.\n * 1. The collision resistance of H MUST be at least k bits.\n * 2. H MUST be an XOF that has been proved indifferentiable from\n *    a random oracle under a reasonable cryptographic assumption.\n * [RFC 9380 5.3.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.2).\n */\nfunction expand_message_xof(msg, DST, lenInBytes, k, H) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(msg);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(DST);\n    anum(lenInBytes);\n    // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n    // DST = H('H2C-OVERSIZE-DST-' || a_very_long_DST, Math.ceil((lenInBytes * k) / 8));\n    if (DST.length > 255) {\n        const dkLen = Math.ceil((2 * k) / 8);\n        DST = H.create({ dkLen }).update((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)('H2C-OVERSIZE-DST-')).update(DST).digest();\n    }\n    if (lenInBytes > 65535 || DST.length > 255)\n        throw new Error('expand_message_xof: invalid lenInBytes');\n    return (H.create({ dkLen: lenInBytes })\n        .update(msg)\n        .update(i2osp(lenInBytes, 2))\n        // 2. DST_prime = DST || I2OSP(len(DST), 1)\n        .update(DST)\n        .update(i2osp(DST.length, 1))\n        .digest());\n}\n/**\n * Hashes arbitrary-length byte strings to a list of one or more elements of a finite field F.\n * [RFC 9380 5.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.2).\n * @param msg a byte string containing the message to hash\n * @param count the number of elements of F to output\n * @param options `{DST: string, p: bigint, m: number, k: number, expand: 'xmd' | 'xof', hash: H}`, see above\n * @returns [u_0, ..., u_(count - 1)], a list of field elements.\n */\nfunction hash_to_field(msg, count, options) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject)(options, {\n        DST: 'stringOrUint8Array',\n        p: 'bigint',\n        m: 'isSafeInteger',\n        k: 'isSafeInteger',\n        hash: 'hash',\n    });\n    const { p, k, m, hash, expand, DST: _DST } = options;\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(msg);\n    anum(count);\n    const DST = typeof _DST === 'string' ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(_DST) : _DST;\n    const log2p = p.toString(2).length;\n    const L = Math.ceil((log2p + k) / 8); // section 5.1 of ietf draft link above\n    const len_in_bytes = count * m * L;\n    let prb; // pseudo_random_bytes\n    if (expand === 'xmd') {\n        prb = expand_message_xmd(msg, DST, len_in_bytes, hash);\n    }\n    else if (expand === 'xof') {\n        prb = expand_message_xof(msg, DST, len_in_bytes, k, hash);\n    }\n    else if (expand === '_internal_pass') {\n        // for internal tests only\n        prb = msg;\n    }\n    else {\n        throw new Error('expand must be \"xmd\" or \"xof\"');\n    }\n    const u = new Array(count);\n    for (let i = 0; i < count; i++) {\n        const e = new Array(m);\n        for (let j = 0; j < m; j++) {\n            const elm_offset = L * (j + i * m);\n            const tv = prb.subarray(elm_offset, elm_offset + L);\n            e[j] = (0,_modular_js__WEBPACK_IMPORTED_MODULE_1__.mod)(os2ip(tv), p);\n        }\n        u[i] = e;\n    }\n    return u;\n}\nfunction isogenyMap(field, map) {\n    // Make same order as in spec\n    const COEFF = map.map((i) => Array.from(i).reverse());\n    return (x, y) => {\n        const [xNum, xDen, yNum, yDen] = COEFF.map((val) => val.reduce((acc, i) => field.add(field.mul(acc, x), i)));\n        x = field.div(xNum, xDen); // xNum / xDen\n        y = field.mul(y, field.div(yNum, yDen)); // y * (yNum / yDev)\n        return { x: x, y: y };\n    };\n}\n/** Creates hash-to-curve methods from EC Point and mapToCurve function. */\nfunction createHasher(Point, mapToCurve, def) {\n    if (typeof mapToCurve !== 'function')\n        throw new Error('mapToCurve() must be defined');\n    return {\n        // Encodes byte string to elliptic curve.\n        // hash_to_curve from https://www.rfc-editor.org/rfc/rfc9380#section-3\n        hashToCurve(msg, options) {\n            const u = hash_to_field(msg, 2, { ...def, DST: def.DST, ...options });\n            const u0 = Point.fromAffine(mapToCurve(u[0]));\n            const u1 = Point.fromAffine(mapToCurve(u[1]));\n            const P = u0.add(u1).clearCofactor();\n            P.assertValidity();\n            return P;\n        },\n        // Encodes byte string to elliptic curve.\n        // encode_to_curve from https://www.rfc-editor.org/rfc/rfc9380#section-3\n        encodeToCurve(msg, options) {\n            const u = hash_to_field(msg, 1, { ...def, DST: def.encodeDST, ...options });\n            const P = Point.fromAffine(mapToCurve(u[0])).clearCofactor();\n            P.assertValidity();\n            return P;\n        },\n        // Same as encodeToCurve, but without hash\n        mapToCurve(scalars) {\n            if (!Array.isArray(scalars))\n                throw new Error('mapToCurve: expected array of bigints');\n            for (const i of scalars)\n                if (typeof i !== 'bigint')\n                    throw new Error('mapToCurve: expected array of bigints');\n            const P = Point.fromAffine(mapToCurve(scalars)).clearCofactor();\n            P.assertValidity();\n            return P;\n        },\n    };\n}\n//# sourceMappingURL=hash-to-curve.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L2hhc2gtdG8tY3VydmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFtQztBQUM0RDtBQUMvRjtBQUNBLGNBQWMsc0RBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFFBQVE7QUFDckMsNkJBQTZCLFFBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLElBQUksaURBQU07QUFDVixJQUFJLGlEQUFNO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHNEQUFXLENBQUMsc0RBQVc7QUFDdkMsWUFBWSw4Q0FBOEM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFXO0FBQ2pDO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0Esa0JBQWtCLHNEQUFXO0FBQzdCLGFBQWEsc0RBQVc7QUFDeEIsb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxpQkFBaUIsc0RBQVc7QUFDNUI7QUFDQSxnQ0FBZ0Msc0RBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxJQUFJLGlEQUFNO0FBQ1YsSUFBSSxpREFBTTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsT0FBTyxTQUFTLHNEQUFXO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtQkFBbUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZFQUE2RTtBQUNqRztBQUNBO0FBQ087QUFDUCxJQUFJLHlEQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxtQ0FBbUM7QUFDL0MsSUFBSSxpREFBTTtBQUNWO0FBQ0EsMkNBQTJDLHNEQUFXO0FBQ3REO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsV0FBVztBQUMvQjtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsaURBQWlEO0FBQ2pELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxrQ0FBa0M7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsd0NBQXdDO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L2hhc2gtdG8tY3VydmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbW9kIH0gZnJvbSAnLi9tb2R1bGFyLmpzJztcbmltcG9ydCB7IGFieXRlcywgYnl0ZXNUb051bWJlckJFLCBjb25jYXRCeXRlcywgdXRmOFRvQnl0ZXMsIHZhbGlkYXRlT2JqZWN0IH0gZnJvbSAnLi91dGlscy5qcyc7XG4vLyBPY3RldCBTdHJlYW0gdG8gSW50ZWdlci4gXCJzcGVjXCIgaW1wbGVtZW50YXRpb24gb2Ygb3MyaXAgaXMgMi41eCBzbG93ZXIgdnMgYnl0ZXNUb051bWJlckJFLlxuY29uc3Qgb3MyaXAgPSBieXRlc1RvTnVtYmVyQkU7XG4vLyBJbnRlZ2VyIHRvIE9jdGV0IFN0cmVhbSAobnVtYmVyVG9CeXRlc0JFKVxuZnVuY3Rpb24gaTJvc3AodmFsdWUsIGxlbmd0aCkge1xuICAgIGFudW0odmFsdWUpO1xuICAgIGFudW0obGVuZ3RoKTtcbiAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDEgPDwgKDggKiBsZW5ndGgpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgSTJPU1AgaW5wdXQ6ICcgKyB2YWx1ZSk7XG4gICAgY29uc3QgcmVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aCB9KS5maWxsKDApO1xuICAgIGZvciAobGV0IGkgPSBsZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICByZXNbaV0gPSB2YWx1ZSAmIDB4ZmY7XG4gICAgICAgIHZhbHVlID4+Pj0gODtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHJlcyk7XG59XG5mdW5jdGlvbiBzdHJ4b3IoYSwgYikge1xuICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KGEubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyW2ldID0gYVtpXSBeIGJbaV07XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59XG5mdW5jdGlvbiBhbnVtKGl0ZW0pIHtcbiAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGl0ZW0pKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ251bWJlciBleHBlY3RlZCcpO1xufVxuLyoqXG4gKiBQcm9kdWNlcyBhIHVuaWZvcm1seSByYW5kb20gYnl0ZSBzdHJpbmcgdXNpbmcgYSBjcnlwdG9ncmFwaGljIGhhc2ggZnVuY3Rpb24gSCB0aGF0IG91dHB1dHMgYiBiaXRzLlxuICogW1JGQyA5MzgwIDUuMy4xXShodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTUuMy4xKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZF9tZXNzYWdlX3htZChtc2csIERTVCwgbGVuSW5CeXRlcywgSCkge1xuICAgIGFieXRlcyhtc2cpO1xuICAgIGFieXRlcyhEU1QpO1xuICAgIGFudW0obGVuSW5CeXRlcyk7XG4gICAgLy8gaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzkzODAjc2VjdGlvbi01LjMuM1xuICAgIGlmIChEU1QubGVuZ3RoID4gMjU1KVxuICAgICAgICBEU1QgPSBIKGNvbmNhdEJ5dGVzKHV0ZjhUb0J5dGVzKCdIMkMtT1ZFUlNJWkUtRFNULScpLCBEU1QpKTtcbiAgICBjb25zdCB7IG91dHB1dExlbjogYl9pbl9ieXRlcywgYmxvY2tMZW46IHJfaW5fYnl0ZXMgfSA9IEg7XG4gICAgY29uc3QgZWxsID0gTWF0aC5jZWlsKGxlbkluQnl0ZXMgLyBiX2luX2J5dGVzKTtcbiAgICBpZiAobGVuSW5CeXRlcyA+IDY1NTM1IHx8IGVsbCA+IDI1NSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBhbmRfbWVzc2FnZV94bWQ6IGludmFsaWQgbGVuSW5CeXRlcycpO1xuICAgIGNvbnN0IERTVF9wcmltZSA9IGNvbmNhdEJ5dGVzKERTVCwgaTJvc3AoRFNULmxlbmd0aCwgMSkpO1xuICAgIGNvbnN0IFpfcGFkID0gaTJvc3AoMCwgcl9pbl9ieXRlcyk7XG4gICAgY29uc3QgbF9pX2Jfc3RyID0gaTJvc3AobGVuSW5CeXRlcywgMik7IC8vIGxlbl9pbl9ieXRlc19zdHJcbiAgICBjb25zdCBiID0gbmV3IEFycmF5KGVsbCk7XG4gICAgY29uc3QgYl8wID0gSChjb25jYXRCeXRlcyhaX3BhZCwgbXNnLCBsX2lfYl9zdHIsIGkyb3NwKDAsIDEpLCBEU1RfcHJpbWUpKTtcbiAgICBiWzBdID0gSChjb25jYXRCeXRlcyhiXzAsIGkyb3NwKDEsIDEpLCBEU1RfcHJpbWUpKTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBlbGw7IGkrKykge1xuICAgICAgICBjb25zdCBhcmdzID0gW3N0cnhvcihiXzAsIGJbaSAtIDFdKSwgaTJvc3AoaSArIDEsIDEpLCBEU1RfcHJpbWVdO1xuICAgICAgICBiW2ldID0gSChjb25jYXRCeXRlcyguLi5hcmdzKSk7XG4gICAgfVxuICAgIGNvbnN0IHBzZXVkb19yYW5kb21fYnl0ZXMgPSBjb25jYXRCeXRlcyguLi5iKTtcbiAgICByZXR1cm4gcHNldWRvX3JhbmRvbV9ieXRlcy5zbGljZSgwLCBsZW5JbkJ5dGVzKTtcbn1cbi8qKlxuICogUHJvZHVjZXMgYSB1bmlmb3JtbHkgcmFuZG9tIGJ5dGUgc3RyaW5nIHVzaW5nIGFuIGV4dGVuZGFibGUtb3V0cHV0IGZ1bmN0aW9uIChYT0YpIEguXG4gKiAxLiBUaGUgY29sbGlzaW9uIHJlc2lzdGFuY2Ugb2YgSCBNVVNUIGJlIGF0IGxlYXN0IGsgYml0cy5cbiAqIDIuIEggTVVTVCBiZSBhbiBYT0YgdGhhdCBoYXMgYmVlbiBwcm92ZWQgaW5kaWZmZXJlbnRpYWJsZSBmcm9tXG4gKiAgICBhIHJhbmRvbSBvcmFjbGUgdW5kZXIgYSByZWFzb25hYmxlIGNyeXB0b2dyYXBoaWMgYXNzdW1wdGlvbi5cbiAqIFtSRkMgOTM4MCA1LjMuMl0oaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzkzODAjc2VjdGlvbi01LjMuMikuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRfbWVzc2FnZV94b2YobXNnLCBEU1QsIGxlbkluQnl0ZXMsIGssIEgpIHtcbiAgICBhYnl0ZXMobXNnKTtcbiAgICBhYnl0ZXMoRFNUKTtcbiAgICBhbnVtKGxlbkluQnl0ZXMpO1xuICAgIC8vIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tNS4zLjNcbiAgICAvLyBEU1QgPSBIKCdIMkMtT1ZFUlNJWkUtRFNULScgfHwgYV92ZXJ5X2xvbmdfRFNULCBNYXRoLmNlaWwoKGxlbkluQnl0ZXMgKiBrKSAvIDgpKTtcbiAgICBpZiAoRFNULmxlbmd0aCA+IDI1NSkge1xuICAgICAgICBjb25zdCBka0xlbiA9IE1hdGguY2VpbCgoMiAqIGspIC8gOCk7XG4gICAgICAgIERTVCA9IEguY3JlYXRlKHsgZGtMZW4gfSkudXBkYXRlKHV0ZjhUb0J5dGVzKCdIMkMtT1ZFUlNJWkUtRFNULScpKS51cGRhdGUoRFNUKS5kaWdlc3QoKTtcbiAgICB9XG4gICAgaWYgKGxlbkluQnl0ZXMgPiA2NTUzNSB8fCBEU1QubGVuZ3RoID4gMjU1KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGFuZF9tZXNzYWdlX3hvZjogaW52YWxpZCBsZW5JbkJ5dGVzJyk7XG4gICAgcmV0dXJuIChILmNyZWF0ZSh7IGRrTGVuOiBsZW5JbkJ5dGVzIH0pXG4gICAgICAgIC51cGRhdGUobXNnKVxuICAgICAgICAudXBkYXRlKGkyb3NwKGxlbkluQnl0ZXMsIDIpKVxuICAgICAgICAvLyAyLiBEU1RfcHJpbWUgPSBEU1QgfHwgSTJPU1AobGVuKERTVCksIDEpXG4gICAgICAgIC51cGRhdGUoRFNUKVxuICAgICAgICAudXBkYXRlKGkyb3NwKERTVC5sZW5ndGgsIDEpKVxuICAgICAgICAuZGlnZXN0KCkpO1xufVxuLyoqXG4gKiBIYXNoZXMgYXJiaXRyYXJ5LWxlbmd0aCBieXRlIHN0cmluZ3MgdG8gYSBsaXN0IG9mIG9uZSBvciBtb3JlIGVsZW1lbnRzIG9mIGEgZmluaXRlIGZpZWxkIEYuXG4gKiBbUkZDIDkzODAgNS4yXShodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTUuMikuXG4gKiBAcGFyYW0gbXNnIGEgYnl0ZSBzdHJpbmcgY29udGFpbmluZyB0aGUgbWVzc2FnZSB0byBoYXNoXG4gKiBAcGFyYW0gY291bnQgdGhlIG51bWJlciBvZiBlbGVtZW50cyBvZiBGIHRvIG91dHB1dFxuICogQHBhcmFtIG9wdGlvbnMgYHtEU1Q6IHN0cmluZywgcDogYmlnaW50LCBtOiBudW1iZXIsIGs6IG51bWJlciwgZXhwYW5kOiAneG1kJyB8ICd4b2YnLCBoYXNoOiBIfWAsIHNlZSBhYm92ZVxuICogQHJldHVybnMgW3VfMCwgLi4uLCB1Xyhjb3VudCAtIDEpXSwgYSBsaXN0IG9mIGZpZWxkIGVsZW1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaF90b19maWVsZChtc2csIGNvdW50LCBvcHRpb25zKSB7XG4gICAgdmFsaWRhdGVPYmplY3Qob3B0aW9ucywge1xuICAgICAgICBEU1Q6ICdzdHJpbmdPclVpbnQ4QXJyYXknLFxuICAgICAgICBwOiAnYmlnaW50JyxcbiAgICAgICAgbTogJ2lzU2FmZUludGVnZXInLFxuICAgICAgICBrOiAnaXNTYWZlSW50ZWdlcicsXG4gICAgICAgIGhhc2g6ICdoYXNoJyxcbiAgICB9KTtcbiAgICBjb25zdCB7IHAsIGssIG0sIGhhc2gsIGV4cGFuZCwgRFNUOiBfRFNUIH0gPSBvcHRpb25zO1xuICAgIGFieXRlcyhtc2cpO1xuICAgIGFudW0oY291bnQpO1xuICAgIGNvbnN0IERTVCA9IHR5cGVvZiBfRFNUID09PSAnc3RyaW5nJyA/IHV0ZjhUb0J5dGVzKF9EU1QpIDogX0RTVDtcbiAgICBjb25zdCBsb2cycCA9IHAudG9TdHJpbmcoMikubGVuZ3RoO1xuICAgIGNvbnN0IEwgPSBNYXRoLmNlaWwoKGxvZzJwICsgaykgLyA4KTsgLy8gc2VjdGlvbiA1LjEgb2YgaWV0ZiBkcmFmdCBsaW5rIGFib3ZlXG4gICAgY29uc3QgbGVuX2luX2J5dGVzID0gY291bnQgKiBtICogTDtcbiAgICBsZXQgcHJiOyAvLyBwc2V1ZG9fcmFuZG9tX2J5dGVzXG4gICAgaWYgKGV4cGFuZCA9PT0gJ3htZCcpIHtcbiAgICAgICAgcHJiID0gZXhwYW5kX21lc3NhZ2VfeG1kKG1zZywgRFNULCBsZW5faW5fYnl0ZXMsIGhhc2gpO1xuICAgIH1cbiAgICBlbHNlIGlmIChleHBhbmQgPT09ICd4b2YnKSB7XG4gICAgICAgIHByYiA9IGV4cGFuZF9tZXNzYWdlX3hvZihtc2csIERTVCwgbGVuX2luX2J5dGVzLCBrLCBoYXNoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXhwYW5kID09PSAnX2ludGVybmFsX3Bhc3MnKSB7XG4gICAgICAgIC8vIGZvciBpbnRlcm5hbCB0ZXN0cyBvbmx5XG4gICAgICAgIHByYiA9IG1zZztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwYW5kIG11c3QgYmUgXCJ4bWRcIiBvciBcInhvZlwiJyk7XG4gICAgfVxuICAgIGNvbnN0IHUgPSBuZXcgQXJyYXkoY291bnQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICBjb25zdCBlID0gbmV3IEFycmF5KG0pO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG07IGorKykge1xuICAgICAgICAgICAgY29uc3QgZWxtX29mZnNldCA9IEwgKiAoaiArIGkgKiBtKTtcbiAgICAgICAgICAgIGNvbnN0IHR2ID0gcHJiLnN1YmFycmF5KGVsbV9vZmZzZXQsIGVsbV9vZmZzZXQgKyBMKTtcbiAgICAgICAgICAgIGVbal0gPSBtb2Qob3MyaXAodHYpLCBwKTtcbiAgICAgICAgfVxuICAgICAgICB1W2ldID0gZTtcbiAgICB9XG4gICAgcmV0dXJuIHU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNvZ2VueU1hcChmaWVsZCwgbWFwKSB7XG4gICAgLy8gTWFrZSBzYW1lIG9yZGVyIGFzIGluIHNwZWNcbiAgICBjb25zdCBDT0VGRiA9IG1hcC5tYXAoKGkpID0+IEFycmF5LmZyb20oaSkucmV2ZXJzZSgpKTtcbiAgICByZXR1cm4gKHgsIHkpID0+IHtcbiAgICAgICAgY29uc3QgW3hOdW0sIHhEZW4sIHlOdW0sIHlEZW5dID0gQ09FRkYubWFwKCh2YWwpID0+IHZhbC5yZWR1Y2UoKGFjYywgaSkgPT4gZmllbGQuYWRkKGZpZWxkLm11bChhY2MsIHgpLCBpKSkpO1xuICAgICAgICB4ID0gZmllbGQuZGl2KHhOdW0sIHhEZW4pOyAvLyB4TnVtIC8geERlblxuICAgICAgICB5ID0gZmllbGQubXVsKHksIGZpZWxkLmRpdih5TnVtLCB5RGVuKSk7IC8vIHkgKiAoeU51bSAvIHlEZXYpXG4gICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbiAgICB9O1xufVxuLyoqIENyZWF0ZXMgaGFzaC10by1jdXJ2ZSBtZXRob2RzIGZyb20gRUMgUG9pbnQgYW5kIG1hcFRvQ3VydmUgZnVuY3Rpb24uICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFzaGVyKFBvaW50LCBtYXBUb0N1cnZlLCBkZWYpIHtcbiAgICBpZiAodHlwZW9mIG1hcFRvQ3VydmUgIT09ICdmdW5jdGlvbicpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbWFwVG9DdXJ2ZSgpIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIEVuY29kZXMgYnl0ZSBzdHJpbmcgdG8gZWxsaXB0aWMgY3VydmUuXG4gICAgICAgIC8vIGhhc2hfdG9fY3VydmUgZnJvbSBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTNcbiAgICAgICAgaGFzaFRvQ3VydmUobXNnLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB1ID0gaGFzaF90b19maWVsZChtc2csIDIsIHsgLi4uZGVmLCBEU1Q6IGRlZi5EU1QsIC4uLm9wdGlvbnMgfSk7XG4gICAgICAgICAgICBjb25zdCB1MCA9IFBvaW50LmZyb21BZmZpbmUobWFwVG9DdXJ2ZSh1WzBdKSk7XG4gICAgICAgICAgICBjb25zdCB1MSA9IFBvaW50LmZyb21BZmZpbmUobWFwVG9DdXJ2ZSh1WzFdKSk7XG4gICAgICAgICAgICBjb25zdCBQID0gdTAuYWRkKHUxKS5jbGVhckNvZmFjdG9yKCk7XG4gICAgICAgICAgICBQLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgICAgICAgICByZXR1cm4gUDtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gRW5jb2RlcyBieXRlIHN0cmluZyB0byBlbGxpcHRpYyBjdXJ2ZS5cbiAgICAgICAgLy8gZW5jb2RlX3RvX2N1cnZlIGZyb20gaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzkzODAjc2VjdGlvbi0zXG4gICAgICAgIGVuY29kZVRvQ3VydmUobXNnLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB1ID0gaGFzaF90b19maWVsZChtc2csIDEsIHsgLi4uZGVmLCBEU1Q6IGRlZi5lbmNvZGVEU1QsIC4uLm9wdGlvbnMgfSk7XG4gICAgICAgICAgICBjb25zdCBQID0gUG9pbnQuZnJvbUFmZmluZShtYXBUb0N1cnZlKHVbMF0pKS5jbGVhckNvZmFjdG9yKCk7XG4gICAgICAgICAgICBQLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgICAgICAgICByZXR1cm4gUDtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gU2FtZSBhcyBlbmNvZGVUb0N1cnZlLCBidXQgd2l0aG91dCBoYXNoXG4gICAgICAgIG1hcFRvQ3VydmUoc2NhbGFycykge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHNjYWxhcnMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWFwVG9DdXJ2ZTogZXhwZWN0ZWQgYXJyYXkgb2YgYmlnaW50cycpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIHNjYWxhcnMpXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpICE9PSAnYmlnaW50JylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXBUb0N1cnZlOiBleHBlY3RlZCBhcnJheSBvZiBiaWdpbnRzJyk7XG4gICAgICAgICAgICBjb25zdCBQID0gUG9pbnQuZnJvbUFmZmluZShtYXBUb0N1cnZlKHNjYWxhcnMpKS5jbGVhckNvZmFjdG9yKCk7XG4gICAgICAgICAgICBQLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgICAgICAgICByZXR1cm4gUDtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFzaC10by1jdXJ2ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/hash-to-curve.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/modular.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/modular.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   FpDiv: () => (/* binding */ FpDiv),\n/* harmony export */   FpInvertBatch: () => (/* binding */ FpInvertBatch),\n/* harmony export */   FpIsSquare: () => (/* binding */ FpIsSquare),\n/* harmony export */   FpLegendre: () => (/* binding */ FpLegendre),\n/* harmony export */   FpPow: () => (/* binding */ FpPow),\n/* harmony export */   FpSqrt: () => (/* binding */ FpSqrt),\n/* harmony export */   FpSqrtEven: () => (/* binding */ FpSqrtEven),\n/* harmony export */   FpSqrtOdd: () => (/* binding */ FpSqrtOdd),\n/* harmony export */   getFieldBytesLength: () => (/* binding */ getFieldBytesLength),\n/* harmony export */   getMinHashLength: () => (/* binding */ getMinHashLength),\n/* harmony export */   hashToPrivateScalar: () => (/* binding */ hashToPrivateScalar),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   isNegativeLE: () => (/* binding */ isNegativeLE),\n/* harmony export */   mapHashToField: () => (/* binding */ mapHashToField),\n/* harmony export */   mod: () => (/* binding */ mod),\n/* harmony export */   nLength: () => (/* binding */ nLength),\n/* harmony export */   pow: () => (/* binding */ pow),\n/* harmony export */   pow2: () => (/* binding */ pow2),\n/* harmony export */   tonelliShanks: () => (/* binding */ tonelliShanks),\n/* harmony export */   validateField: () => (/* binding */ validateField)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/utils.js\");\n/**\n * Utils for modular division and finite fields.\n * A finite field over 11 is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = /* @__PURE__ */ BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5), _8n = /* @__PURE__ */ BigInt(8);\n// prettier-ignore\nconst _9n = /* @__PURE__ */ BigInt(9), _16n = /* @__PURE__ */ BigInt(16);\n// Calculates a modulo b\nfunction mod(a, b) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @todo use field version && remove\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nfunction pow(num, power, modulo) {\n    if (power < _0n)\n        throw new Error('invalid exponent, negatives unsupported');\n    if (modulo <= _0n)\n        throw new Error('invalid modulus');\n    if (modulo === _1n)\n        return _0n;\n    let res = _1n;\n    while (power > _0n) {\n        if (power & _1n)\n            res = (res * num) % modulo;\n        num = (num * num) % modulo;\n        power >>= _1n;\n    }\n    return res;\n}\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nfunction pow2(x, power, modulo) {\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= modulo;\n    }\n    return res;\n}\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nfunction invert(number, modulo) {\n    if (number === _0n)\n        throw new Error('invert: expected non-zero number');\n    if (modulo <= _0n)\n        throw new Error('invert: expected positive modulus, got ' + modulo);\n    // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n    let a = mod(number, modulo);\n    let b = modulo;\n    // prettier-ignore\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        // JIT applies optimization if those two lines follow each other\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        // prettier-ignore\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * Will start an infinite loop if field order P is not prime.\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nfunction tonelliShanks(P) {\n    // Legendre constant: used to calculate Legendre symbol (a | p),\n    // which denotes the value of a^((p-1)/2) (mod p).\n    // (a | p) ≡ 1    if a is a square (mod p)\n    // (a | p) ≡ -1   if a is not a square (mod p)\n    // (a | p) ≡ 0    if a ≡ 0 (mod p)\n    const legendreC = (P - _1n) / _2n;\n    let Q, S, Z;\n    // Step 1: By factoring out powers of 2 from p - 1,\n    // find q and s such that p - 1 = q*(2^s) with q odd\n    for (Q = P - _1n, S = 0; Q % _2n === _0n; Q /= _2n, S++)\n        ;\n    // Step 2: Select a non-square z such that (z | p) ≡ -1 and set c ≡ zq\n    for (Z = _2n; Z < P && pow(Z, legendreC, P) !== P - _1n; Z++) {\n        // Crash instead of infinity loop, we cannot reasonable count until P.\n        if (Z > 1000)\n            throw new Error('Cannot find square root: likely non-prime P');\n    }\n    // Fast-path\n    if (S === 1) {\n        const p1div4 = (P + _1n) / _4n;\n        return function tonelliFast(Fp, n) {\n            const root = Fp.pow(n, p1div4);\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // Slow-path\n    const Q1div2 = (Q + _1n) / _2n;\n    return function tonelliSlow(Fp, n) {\n        // Step 0: Check that n is indeed a square: (n | p) should not be ≡ -1\n        if (Fp.pow(n, legendreC) === Fp.neg(Fp.ONE))\n            throw new Error('Cannot find square root');\n        let r = S;\n        // TODO: will fail at Fp2/etc\n        let g = Fp.pow(Fp.mul(Fp.ONE, Z), Q); // will update both x and b\n        let x = Fp.pow(n, Q1div2); // first guess at the square root\n        let b = Fp.pow(n, Q); // first guess at the fudge factor\n        while (!Fp.eql(b, Fp.ONE)) {\n            if (Fp.eql(b, Fp.ZERO))\n                return Fp.ZERO; // https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm (4. If t = 0, return r = 0)\n            // Find m such b^(2^m)==1\n            let m = 1;\n            for (let t2 = Fp.sqr(b); m < r; m++) {\n                if (Fp.eql(t2, Fp.ONE))\n                    break;\n                t2 = Fp.sqr(t2); // t2 *= t2\n            }\n            // NOTE: r-m-1 can be bigger than 32, need to convert to bigint before shift, otherwise there will be overflow\n            const ge = Fp.pow(g, _1n << BigInt(r - m - 1)); // ge = 2^(r-m-1)\n            g = Fp.sqr(ge); // g = ge * ge\n            x = Fp.mul(x, ge); // x *= ge\n            b = Fp.mul(b, g); // b *= g\n            r = m;\n        }\n        return x;\n    };\n}\n/**\n * Square root for a finite field. It will try to check if optimizations are applicable and fall back to 4:\n *\n * 1. P ≡ 3 (mod 4)\n * 2. P ≡ 5 (mod 8)\n * 3. P ≡ 9 (mod 16)\n * 4. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nfunction FpSqrt(P) {\n    // P ≡ 3 (mod 4)\n    // √n = n^((P+1)/4)\n    if (P % _4n === _3n) {\n        // Not all roots possible!\n        // const ORDER =\n        //   0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn;\n        // const NUM = 72057594037927816n;\n        const p1div4 = (P + _1n) / _4n;\n        return function sqrt3mod4(Fp, n) {\n            const root = Fp.pow(n, p1div4);\n            // Throw if root**2 != n\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // Atkin algorithm for q ≡ 5 (mod 8), https://eprint.iacr.org/2012/685.pdf (page 10)\n    if (P % _8n === _5n) {\n        const c1 = (P - _5n) / _8n;\n        return function sqrt5mod8(Fp, n) {\n            const n2 = Fp.mul(n, _2n);\n            const v = Fp.pow(n2, c1);\n            const nv = Fp.mul(n, v);\n            const i = Fp.mul(Fp.mul(nv, _2n), v);\n            const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // P ≡ 9 (mod 16)\n    if (P % _16n === _9n) {\n        // NOTE: tonelli is too slow for bls-Fp2 calculations even on start\n        // Means we cannot use sqrt for constants at all!\n        //\n        // const c1 = Fp.sqrt(Fp.negate(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n        // const c2 = Fp.sqrt(c1);                //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n        // const c3 = Fp.sqrt(Fp.negate(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n        // const c4 = (P + _7n) / _16n;           //  4. c4 = (q + 7) / 16        # Integer arithmetic\n        // sqrt = (x) => {\n        //   let tv1 = Fp.pow(x, c4);             //  1. tv1 = x^c4\n        //   let tv2 = Fp.mul(c1, tv1);           //  2. tv2 = c1 * tv1\n        //   const tv3 = Fp.mul(c2, tv1);         //  3. tv3 = c2 * tv1\n        //   let tv4 = Fp.mul(c3, tv1);           //  4. tv4 = c3 * tv1\n        //   const e1 = Fp.equals(Fp.square(tv2), x); //  5.  e1 = (tv2^2) == x\n        //   const e2 = Fp.equals(Fp.square(tv3), x); //  6.  e2 = (tv3^2) == x\n        //   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n        //   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n        //   const e3 = Fp.equals(Fp.square(tv2), x); //  9.  e3 = (tv2^2) == x\n        //   return Fp.cmov(tv1, tv2, e3); //  10.  z = CMOV(tv1, tv2, e3)  # Select the sqrt from tv1 and tv2\n        // }\n    }\n    // Other cases: Tonelli-Shanks algorithm\n    return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nconst isNegativeLE = (num, modulo) => (mod(num, modulo) & _1n) === _1n;\n// prettier-ignore\nconst FIELD_FIELDS = [\n    'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n    'eql', 'add', 'sub', 'mul', 'pow', 'div',\n    'addN', 'subN', 'mulN', 'sqrN'\n];\nfunction validateField(field) {\n    const initial = {\n        ORDER: 'bigint',\n        MASK: 'bigint',\n        BYTES: 'isSafeInteger',\n        BITS: 'isSafeInteger',\n    };\n    const opts = FIELD_FIELDS.reduce((map, val) => {\n        map[val] = 'function';\n        return map;\n    }, initial);\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject)(field, opts);\n}\n// Generic field functions\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nfunction FpPow(f, num, power) {\n    // Should have same speed as pow for bigints\n    // TODO: benchmark!\n    if (power < _0n)\n        throw new Error('invalid exponent, negatives unsupported');\n    if (power === _0n)\n        return f.ONE;\n    if (power === _1n)\n        return num;\n    let p = f.ONE;\n    let d = num;\n    while (power > _0n) {\n        if (power & _1n)\n            p = f.mul(p, d);\n        d = f.sqr(d);\n        power >>= _1n;\n    }\n    return p;\n}\n/**\n * Efficiently invert an array of Field elements.\n * `inv(0)` will return `undefined` here: make sure to throw an error.\n */\nfunction FpInvertBatch(f, nums) {\n    const tmp = new Array(nums.length);\n    // Walk from first to last, multiply them by each other MOD p\n    const lastMultiplied = nums.reduce((acc, num, i) => {\n        if (f.is0(num))\n            return acc;\n        tmp[i] = acc;\n        return f.mul(acc, num);\n    }, f.ONE);\n    // Invert last element\n    const inverted = f.inv(lastMultiplied);\n    // Walk from last to first, multiply them by inverted each other MOD p\n    nums.reduceRight((acc, num, i) => {\n        if (f.is0(num))\n            return acc;\n        tmp[i] = f.mul(acc, tmp[i]);\n        return f.mul(acc, num);\n    }, inverted);\n    return tmp;\n}\nfunction FpDiv(f, lhs, rhs) {\n    return f.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, f.ORDER) : f.inv(rhs));\n}\n/**\n * Legendre symbol.\n * * (a | p) ≡ 1    if a is a square (mod p), quadratic residue\n * * (a | p) ≡ -1   if a is not a square (mod p), quadratic non residue\n * * (a | p) ≡ 0    if a ≡ 0 (mod p)\n */\nfunction FpLegendre(order) {\n    const legendreConst = (order - _1n) / _2n; // Integer arithmetic\n    return (f, x) => f.pow(x, legendreConst);\n}\n// This function returns True whenever the value x is a square in the field F.\nfunction FpIsSquare(f) {\n    const legendre = FpLegendre(f.ORDER);\n    return (x) => {\n        const p = legendre(f, x);\n        return f.eql(p, f.ZERO) || f.eql(p, f.ONE);\n    };\n}\n// CURVE.n lengths\nfunction nLength(n, nBitLength) {\n    // Bit size, byte size of CURVE.n\n    const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n    const nByteLength = Math.ceil(_nBitLength / 8);\n    return { nBitLength: _nBitLength, nByteLength };\n}\n/**\n * Initializes a finite field over prime.\n * Major performance optimizations:\n * * a) denormalized operations like mulN instead of mul\n * * b) same object shape: never add or remove keys\n * * c) Object.freeze\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n * @param ORDER prime positive bigint\n * @param bitLen how many bits the field consumes\n * @param isLE (def: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nfunction Field(ORDER, bitLen, isLE = false, redef = {}) {\n    if (ORDER <= _0n)\n        throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n    const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, bitLen);\n    if (BYTES > 2048)\n        throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n    let sqrtP; // cached sqrtP\n    const f = Object.freeze({\n        ORDER,\n        isLE,\n        BITS,\n        BYTES,\n        MASK: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask)(BITS),\n        ZERO: _0n,\n        ONE: _1n,\n        create: (num) => mod(num, ORDER),\n        isValid: (num) => {\n            if (typeof num !== 'bigint')\n                throw new Error('invalid field element: expected bigint, got ' + typeof num);\n            return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n        },\n        is0: (num) => num === _0n,\n        isOdd: (num) => (num & _1n) === _1n,\n        neg: (num) => mod(-num, ORDER),\n        eql: (lhs, rhs) => lhs === rhs,\n        sqr: (num) => mod(num * num, ORDER),\n        add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n        sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n        mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n        pow: (num, power) => FpPow(f, num, power),\n        div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n        // Same as above, but doesn't normalize\n        sqrN: (num) => num * num,\n        addN: (lhs, rhs) => lhs + rhs,\n        subN: (lhs, rhs) => lhs - rhs,\n        mulN: (lhs, rhs) => lhs * rhs,\n        inv: (num) => invert(num, ORDER),\n        sqrt: redef.sqrt ||\n            ((n) => {\n                if (!sqrtP)\n                    sqrtP = FpSqrt(ORDER);\n                return sqrtP(f, n);\n            }),\n        invertBatch: (lst) => FpInvertBatch(f, lst),\n        // TODO: do we really need constant cmov?\n        // We don't have const-time bigints anyway, so probably will be not very useful\n        cmov: (a, b, c) => (c ? b : a),\n        toBytes: (num) => (isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesLE)(num, BYTES) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE)(num, BYTES)),\n        fromBytes: (bytes) => {\n            if (bytes.length !== BYTES)\n                throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n            return isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(bytes) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(bytes);\n        },\n    });\n    return Object.freeze(f);\n}\nfunction FpSqrtOdd(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nfunction FpSqrtEven(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use `mapKeyToField` instead\n */\nfunction hashToPrivateScalar(hash, groupOrder, isLE = false) {\n    hash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('privateHash', hash);\n    const hashLen = hash.length;\n    const minLen = nLength(groupOrder).nByteLength + 8;\n    if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n        throw new Error('hashToPrivateScalar: expected ' + minLen + '-1024 bytes of input, got ' + hashLen);\n    const num = isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(hash) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(hash);\n    return mod(num, groupOrder - _1n) + _1n;\n}\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nfunction getFieldBytesLength(fieldOrder) {\n    if (typeof fieldOrder !== 'bigint')\n        throw new Error('field order must be bigint');\n    const bitLength = fieldOrder.toString(2).length;\n    return Math.ceil(bitLength / 8);\n}\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nfunction getMinHashLength(fieldOrder) {\n    const length = getFieldBytesLength(fieldOrder);\n    return length + Math.ceil(length / 2);\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nfunction mapHashToField(key, fieldOrder, isLE = false) {\n    const len = key.length;\n    const fieldLen = getFieldBytesLength(fieldOrder);\n    const minLen = getMinHashLength(fieldOrder);\n    // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n    if (len < 16 || len < minLen || len > 1024)\n        throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n    const num = isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(key) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(key);\n    // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n    const reduced = mod(num, fieldOrder - _1n) + _1n;\n    return isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesLE)(reduced, fieldLen) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE)(reduced, fieldLen);\n}\n//# sourceMappingURL=modular.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L21vZHVsYXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3VJO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixpQkFBaUI7QUFDOUM7QUFDQTtBQUNBLGtCQUFrQiwyQ0FBMkM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUMsbUNBQW1DO0FBQ25DLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQSxxQ0FBcUMsT0FBTztBQUM1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QTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwREFBZSxRQUFRLDBEQUFlO0FBQzdEO0FBQ0E7QUFDQSxrQkFBa0IsMERBQWUsc0JBQXNCLDBEQUFlO0FBQ3RFO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L21vZHVsYXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVdGlscyBmb3IgbW9kdWxhciBkaXZpc2lvbiBhbmQgZmluaXRlIGZpZWxkcy5cbiAqIEEgZmluaXRlIGZpZWxkIG92ZXIgMTEgaXMgaW50ZWdlciBudW1iZXIgb3BlcmF0aW9ucyBgbW9kIDExYC5cbiAqIFRoZXJlIGlzIG5vIGRpdmlzaW9uOiBpdCBpcyByZXBsYWNlZCBieSBtb2R1bGFyIG11bHRpcGxpY2F0aXZlIGludmVyc2UuXG4gKiBAbW9kdWxlXG4gKi9cbi8qISBub2JsZS1jdXJ2ZXMgLSBNSVQgTGljZW5zZSAoYykgMjAyMiBQYXVsIE1pbGxlciAocGF1bG1pbGxyLmNvbSkgKi9cbmltcG9ydCB7IGJpdE1hc2ssIGJ5dGVzVG9OdW1iZXJCRSwgYnl0ZXNUb051bWJlckxFLCBlbnN1cmVCeXRlcywgbnVtYmVyVG9CeXRlc0JFLCBudW1iZXJUb0J5dGVzTEUsIHZhbGlkYXRlT2JqZWN0LCB9IGZyb20gJy4vdXRpbHMuanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBfMG4gPSBCaWdJbnQoMCksIF8xbiA9IEJpZ0ludCgxKSwgXzJuID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCgyKSwgXzNuID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCgzKTtcbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgXzRuID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCg0KSwgXzVuID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCg1KSwgXzhuID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCg4KTtcbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgXzluID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCg5KSwgXzE2biA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoMTYpO1xuLy8gQ2FsY3VsYXRlcyBhIG1vZHVsbyBiXG5leHBvcnQgZnVuY3Rpb24gbW9kKGEsIGIpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhICUgYjtcbiAgICByZXR1cm4gcmVzdWx0ID49IF8wbiA/IHJlc3VsdCA6IGIgKyByZXN1bHQ7XG59XG4vKipcbiAqIEVmZmljaWVudGx5IHJhaXNlIG51bSB0byBwb3dlciBhbmQgZG8gbW9kdWxhciBkaXZpc2lvbi5cbiAqIFVuc2FmZSBpbiBzb21lIGNvbnRleHRzOiB1c2VzIGxhZGRlciwgc28gY2FuIGV4cG9zZSBiaWdpbnQgYml0cy5cbiAqIEB0b2RvIHVzZSBmaWVsZCB2ZXJzaW9uICYmIHJlbW92ZVxuICogQGV4YW1wbGVcbiAqIHBvdygybiwgNm4sIDExbikgLy8gNjRuICUgMTFuID09IDluXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb3cobnVtLCBwb3dlciwgbW9kdWxvKSB7XG4gICAgaWYgKHBvd2VyIDwgXzBuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZXhwb25lbnQsIG5lZ2F0aXZlcyB1bnN1cHBvcnRlZCcpO1xuICAgIGlmIChtb2R1bG8gPD0gXzBuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgbW9kdWx1cycpO1xuICAgIGlmIChtb2R1bG8gPT09IF8xbilcbiAgICAgICAgcmV0dXJuIF8wbjtcbiAgICBsZXQgcmVzID0gXzFuO1xuICAgIHdoaWxlIChwb3dlciA+IF8wbikge1xuICAgICAgICBpZiAocG93ZXIgJiBfMW4pXG4gICAgICAgICAgICByZXMgPSAocmVzICogbnVtKSAlIG1vZHVsbztcbiAgICAgICAgbnVtID0gKG51bSAqIG51bSkgJSBtb2R1bG87XG4gICAgICAgIHBvd2VyID4+PSBfMW47XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vKiogRG9lcyBgeF4oMl5wb3dlcilgIG1vZCBwLiBgcG93MigzMCwgNClgID09IGAzMF4oMl40KWAgKi9cbmV4cG9ydCBmdW5jdGlvbiBwb3cyKHgsIHBvd2VyLCBtb2R1bG8pIHtcbiAgICBsZXQgcmVzID0geDtcbiAgICB3aGlsZSAocG93ZXItLSA+IF8wbikge1xuICAgICAgICByZXMgKj0gcmVzO1xuICAgICAgICByZXMgJT0gbW9kdWxvO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLyoqXG4gKiBJbnZlcnNlcyBudW1iZXIgb3ZlciBtb2R1bG8uXG4gKiBJbXBsZW1lbnRlZCB1c2luZyBbRXVjbGlkZWFuIEdDRF0oaHR0cHM6Ly9icmlsbGlhbnQub3JnL3dpa2kvZXh0ZW5kZWQtZXVjbGlkZWFuLWFsZ29yaXRobS8pLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG51bWJlciwgbW9kdWxvKSB7XG4gICAgaWYgKG51bWJlciA9PT0gXzBuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmVydDogZXhwZWN0ZWQgbm9uLXplcm8gbnVtYmVyJyk7XG4gICAgaWYgKG1vZHVsbyA8PSBfMG4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52ZXJ0OiBleHBlY3RlZCBwb3NpdGl2ZSBtb2R1bHVzLCBnb3QgJyArIG1vZHVsbyk7XG4gICAgLy8gRmVybWF0J3MgbGl0dGxlIHRoZW9yZW0gXCJDVC1saWtlXCIgdmVyc2lvbiBpbnYobikgPSBuXihtLTIpIG1vZCBtIGlzIDMweCBzbG93ZXIuXG4gICAgbGV0IGEgPSBtb2QobnVtYmVyLCBtb2R1bG8pO1xuICAgIGxldCBiID0gbW9kdWxvO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGxldCB4ID0gXzBuLCB5ID0gXzFuLCB1ID0gXzFuLCB2ID0gXzBuO1xuICAgIHdoaWxlIChhICE9PSBfMG4pIHtcbiAgICAgICAgLy8gSklUIGFwcGxpZXMgb3B0aW1pemF0aW9uIGlmIHRob3NlIHR3byBsaW5lcyBmb2xsb3cgZWFjaCBvdGhlclxuICAgICAgICBjb25zdCBxID0gYiAvIGE7XG4gICAgICAgIGNvbnN0IHIgPSBiICUgYTtcbiAgICAgICAgY29uc3QgbSA9IHggLSB1ICogcTtcbiAgICAgICAgY29uc3QgbiA9IHkgLSB2ICogcTtcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgIGIgPSBhLCBhID0gciwgeCA9IHUsIHkgPSB2LCB1ID0gbSwgdiA9IG47XG4gICAgfVxuICAgIGNvbnN0IGdjZCA9IGI7XG4gICAgaWYgKGdjZCAhPT0gXzFuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmVydDogZG9lcyBub3QgZXhpc3QnKTtcbiAgICByZXR1cm4gbW9kKHgsIG1vZHVsbyk7XG59XG4vKipcbiAqIFRvbmVsbGktU2hhbmtzIHNxdWFyZSByb290IHNlYXJjaCBhbGdvcml0aG0uXG4gKiAxLiBodHRwczovL2VwcmludC5pYWNyLm9yZy8yMDEyLzY4NS5wZGYgKHBhZ2UgMTIpXG4gKiAyLiBTcXVhcmUgUm9vdHMgZnJvbSAxOyAyNCwgNTEsIDEwIHRvIERhbiBTaGFua3NcbiAqIFdpbGwgc3RhcnQgYW4gaW5maW5pdGUgbG9vcCBpZiBmaWVsZCBvcmRlciBQIGlzIG5vdCBwcmltZS5cbiAqIEBwYXJhbSBQIGZpZWxkIG9yZGVyXG4gKiBAcmV0dXJucyBmdW5jdGlvbiB0aGF0IHRha2VzIGZpZWxkIEZwIChjcmVhdGVkIGZyb20gUCkgYW5kIG51bWJlciBuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b25lbGxpU2hhbmtzKFApIHtcbiAgICAvLyBMZWdlbmRyZSBjb25zdGFudDogdXNlZCB0byBjYWxjdWxhdGUgTGVnZW5kcmUgc3ltYm9sIChhIHwgcCksXG4gICAgLy8gd2hpY2ggZGVub3RlcyB0aGUgdmFsdWUgb2YgYV4oKHAtMSkvMikgKG1vZCBwKS5cbiAgICAvLyAoYSB8IHApIOKJoSAxICAgIGlmIGEgaXMgYSBzcXVhcmUgKG1vZCBwKVxuICAgIC8vIChhIHwgcCkg4omhIC0xICAgaWYgYSBpcyBub3QgYSBzcXVhcmUgKG1vZCBwKVxuICAgIC8vIChhIHwgcCkg4omhIDAgICAgaWYgYSDiiaEgMCAobW9kIHApXG4gICAgY29uc3QgbGVnZW5kcmVDID0gKFAgLSBfMW4pIC8gXzJuO1xuICAgIGxldCBRLCBTLCBaO1xuICAgIC8vIFN0ZXAgMTogQnkgZmFjdG9yaW5nIG91dCBwb3dlcnMgb2YgMiBmcm9tIHAgLSAxLFxuICAgIC8vIGZpbmQgcSBhbmQgcyBzdWNoIHRoYXQgcCAtIDEgPSBxKigyXnMpIHdpdGggcSBvZGRcbiAgICBmb3IgKFEgPSBQIC0gXzFuLCBTID0gMDsgUSAlIF8ybiA9PT0gXzBuOyBRIC89IF8ybiwgUysrKVxuICAgICAgICA7XG4gICAgLy8gU3RlcCAyOiBTZWxlY3QgYSBub24tc3F1YXJlIHogc3VjaCB0aGF0ICh6IHwgcCkg4omhIC0xIGFuZCBzZXQgYyDiiaEgenFcbiAgICBmb3IgKFogPSBfMm47IFogPCBQICYmIHBvdyhaLCBsZWdlbmRyZUMsIFApICE9PSBQIC0gXzFuOyBaKyspIHtcbiAgICAgICAgLy8gQ3Jhc2ggaW5zdGVhZCBvZiBpbmZpbml0eSBsb29wLCB3ZSBjYW5ub3QgcmVhc29uYWJsZSBjb3VudCB1bnRpbCBQLlxuICAgICAgICBpZiAoWiA+IDEwMDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHNxdWFyZSByb290OiBsaWtlbHkgbm9uLXByaW1lIFAnKTtcbiAgICB9XG4gICAgLy8gRmFzdC1wYXRoXG4gICAgaWYgKFMgPT09IDEpIHtcbiAgICAgICAgY29uc3QgcDFkaXY0ID0gKFAgKyBfMW4pIC8gXzRuO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gdG9uZWxsaUZhc3QoRnAsIG4pIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBGcC5wb3cobiwgcDFkaXY0KTtcbiAgICAgICAgICAgIGlmICghRnAuZXFsKEZwLnNxcihyb290KSwgbikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBzcXVhcmUgcm9vdCcpO1xuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFNsb3ctcGF0aFxuICAgIGNvbnN0IFExZGl2MiA9IChRICsgXzFuKSAvIF8ybjtcbiAgICByZXR1cm4gZnVuY3Rpb24gdG9uZWxsaVNsb3coRnAsIG4pIHtcbiAgICAgICAgLy8gU3RlcCAwOiBDaGVjayB0aGF0IG4gaXMgaW5kZWVkIGEgc3F1YXJlOiAobiB8IHApIHNob3VsZCBub3QgYmUg4omhIC0xXG4gICAgICAgIGlmIChGcC5wb3cobiwgbGVnZW5kcmVDKSA9PT0gRnAubmVnKEZwLk9ORSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHNxdWFyZSByb290Jyk7XG4gICAgICAgIGxldCByID0gUztcbiAgICAgICAgLy8gVE9ETzogd2lsbCBmYWlsIGF0IEZwMi9ldGNcbiAgICAgICAgbGV0IGcgPSBGcC5wb3coRnAubXVsKEZwLk9ORSwgWiksIFEpOyAvLyB3aWxsIHVwZGF0ZSBib3RoIHggYW5kIGJcbiAgICAgICAgbGV0IHggPSBGcC5wb3cobiwgUTFkaXYyKTsgLy8gZmlyc3QgZ3Vlc3MgYXQgdGhlIHNxdWFyZSByb290XG4gICAgICAgIGxldCBiID0gRnAucG93KG4sIFEpOyAvLyBmaXJzdCBndWVzcyBhdCB0aGUgZnVkZ2UgZmFjdG9yXG4gICAgICAgIHdoaWxlICghRnAuZXFsKGIsIEZwLk9ORSkpIHtcbiAgICAgICAgICAgIGlmIChGcC5lcWwoYiwgRnAuWkVSTykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIEZwLlpFUk87IC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1RvbmVsbGklRTIlODAlOTNTaGFua3NfYWxnb3JpdGhtICg0LiBJZiB0ID0gMCwgcmV0dXJuIHIgPSAwKVxuICAgICAgICAgICAgLy8gRmluZCBtIHN1Y2ggYl4oMl5tKT09MVxuICAgICAgICAgICAgbGV0IG0gPSAxO1xuICAgICAgICAgICAgZm9yIChsZXQgdDIgPSBGcC5zcXIoYik7IG0gPCByOyBtKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoRnAuZXFsKHQyLCBGcC5PTkUpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB0MiA9IEZwLnNxcih0Mik7IC8vIHQyICo9IHQyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOT1RFOiByLW0tMSBjYW4gYmUgYmlnZ2VyIHRoYW4gMzIsIG5lZWQgdG8gY29udmVydCB0byBiaWdpbnQgYmVmb3JlIHNoaWZ0LCBvdGhlcndpc2UgdGhlcmUgd2lsbCBiZSBvdmVyZmxvd1xuICAgICAgICAgICAgY29uc3QgZ2UgPSBGcC5wb3coZywgXzFuIDw8IEJpZ0ludChyIC0gbSAtIDEpKTsgLy8gZ2UgPSAyXihyLW0tMSlcbiAgICAgICAgICAgIGcgPSBGcC5zcXIoZ2UpOyAvLyBnID0gZ2UgKiBnZVxuICAgICAgICAgICAgeCA9IEZwLm11bCh4LCBnZSk7IC8vIHggKj0gZ2VcbiAgICAgICAgICAgIGIgPSBGcC5tdWwoYiwgZyk7IC8vIGIgKj0gZ1xuICAgICAgICAgICAgciA9IG07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfTtcbn1cbi8qKlxuICogU3F1YXJlIHJvb3QgZm9yIGEgZmluaXRlIGZpZWxkLiBJdCB3aWxsIHRyeSB0byBjaGVjayBpZiBvcHRpbWl6YXRpb25zIGFyZSBhcHBsaWNhYmxlIGFuZCBmYWxsIGJhY2sgdG8gNDpcbiAqXG4gKiAxLiBQIOKJoSAzIChtb2QgNClcbiAqIDIuIFAg4omhIDUgKG1vZCA4KVxuICogMy4gUCDiiaEgOSAobW9kIDE2KVxuICogNC4gVG9uZWxsaS1TaGFua3MgYWxnb3JpdGhtXG4gKlxuICogRGlmZmVyZW50IGFsZ29yaXRobXMgY2FuIGdpdmUgZGlmZmVyZW50IHJvb3RzLCBpdCBpcyB1cCB0byB1c2VyIHRvIGRlY2lkZSB3aGljaCBvbmUgdGhleSB3YW50LlxuICogRm9yIGV4YW1wbGUgdGhlcmUgaXMgRnBTcXJ0T2RkL0ZwU3FydEV2ZW4gdG8gY2hvaWNlIHJvb3QgYmFzZWQgb24gb2RkbmVzcyAodXNlZCBmb3IgaGFzaC10by1jdXJ2ZSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGcFNxcnQoUCkge1xuICAgIC8vIFAg4omhIDMgKG1vZCA0KVxuICAgIC8vIOKImm4gPSBuXigoUCsxKS80KVxuICAgIGlmIChQICUgXzRuID09PSBfM24pIHtcbiAgICAgICAgLy8gTm90IGFsbCByb290cyBwb3NzaWJsZSFcbiAgICAgICAgLy8gY29uc3QgT1JERVIgPVxuICAgICAgICAvLyAgIDB4MWEwMTExZWEzOTdmZTY5YTRiMWJhN2I2NDM0YmFjZDc2NDc3NGI4NGYzODUxMmJmNjczMGQyYTBmNmIwZjYyNDFlYWJmZmZlYjE1M2ZmZmZiOWZlZmZmZmZmZmZhYWFibjtcbiAgICAgICAgLy8gY29uc3QgTlVNID0gNzIwNTc1OTQwMzc5Mjc4MTZuO1xuICAgICAgICBjb25zdCBwMWRpdjQgPSAoUCArIF8xbikgLyBfNG47XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBzcXJ0M21vZDQoRnAsIG4pIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBGcC5wb3cobiwgcDFkaXY0KTtcbiAgICAgICAgICAgIC8vIFRocm93IGlmIHJvb3QqKjIgIT0gblxuICAgICAgICAgICAgaWYgKCFGcC5lcWwoRnAuc3FyKHJvb3QpLCBuKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHNxdWFyZSByb290Jyk7XG4gICAgICAgICAgICByZXR1cm4gcm9vdDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gQXRraW4gYWxnb3JpdGhtIGZvciBxIOKJoSA1IChtb2QgOCksIGh0dHBzOi8vZXByaW50LmlhY3Iub3JnLzIwMTIvNjg1LnBkZiAocGFnZSAxMClcbiAgICBpZiAoUCAlIF84biA9PT0gXzVuKSB7XG4gICAgICAgIGNvbnN0IGMxID0gKFAgLSBfNW4pIC8gXzhuO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gc3FydDVtb2Q4KEZwLCBuKSB7XG4gICAgICAgICAgICBjb25zdCBuMiA9IEZwLm11bChuLCBfMm4pO1xuICAgICAgICAgICAgY29uc3QgdiA9IEZwLnBvdyhuMiwgYzEpO1xuICAgICAgICAgICAgY29uc3QgbnYgPSBGcC5tdWwobiwgdik7XG4gICAgICAgICAgICBjb25zdCBpID0gRnAubXVsKEZwLm11bChudiwgXzJuKSwgdik7XG4gICAgICAgICAgICBjb25zdCByb290ID0gRnAubXVsKG52LCBGcC5zdWIoaSwgRnAuT05FKSk7XG4gICAgICAgICAgICBpZiAoIUZwLmVxbChGcC5zcXIocm9vdCksIG4pKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3QnKTtcbiAgICAgICAgICAgIHJldHVybiByb290O1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBQIOKJoSA5IChtb2QgMTYpXG4gICAgaWYgKFAgJSBfMTZuID09PSBfOW4pIHtcbiAgICAgICAgLy8gTk9URTogdG9uZWxsaSBpcyB0b28gc2xvdyBmb3IgYmxzLUZwMiBjYWxjdWxhdGlvbnMgZXZlbiBvbiBzdGFydFxuICAgICAgICAvLyBNZWFucyB3ZSBjYW5ub3QgdXNlIHNxcnQgZm9yIGNvbnN0YW50cyBhdCBhbGwhXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGNvbnN0IGMxID0gRnAuc3FydChGcC5uZWdhdGUoRnAuT05FKSk7IC8vICAxLiBjMSA9IHNxcnQoLTEpIGluIEYsIGkuZS4sIChjMV4yKSA9PSAtMSBpbiBGXG4gICAgICAgIC8vIGNvbnN0IGMyID0gRnAuc3FydChjMSk7ICAgICAgICAgICAgICAgIC8vICAyLiBjMiA9IHNxcnQoYzEpIGluIEYsIGkuZS4sIChjMl4yKSA9PSBjMSBpbiBGXG4gICAgICAgIC8vIGNvbnN0IGMzID0gRnAuc3FydChGcC5uZWdhdGUoYzEpKTsgICAgIC8vICAzLiBjMyA9IHNxcnQoLWMxKSBpbiBGLCBpLmUuLCAoYzNeMikgPT0gLWMxIGluIEZcbiAgICAgICAgLy8gY29uc3QgYzQgPSAoUCArIF83bikgLyBfMTZuOyAgICAgICAgICAgLy8gIDQuIGM0ID0gKHEgKyA3KSAvIDE2ICAgICAgICAjIEludGVnZXIgYXJpdGhtZXRpY1xuICAgICAgICAvLyBzcXJ0ID0gKHgpID0+IHtcbiAgICAgICAgLy8gICBsZXQgdHYxID0gRnAucG93KHgsIGM0KTsgICAgICAgICAgICAgLy8gIDEuIHR2MSA9IHheYzRcbiAgICAgICAgLy8gICBsZXQgdHYyID0gRnAubXVsKGMxLCB0djEpOyAgICAgICAgICAgLy8gIDIuIHR2MiA9IGMxICogdHYxXG4gICAgICAgIC8vICAgY29uc3QgdHYzID0gRnAubXVsKGMyLCB0djEpOyAgICAgICAgIC8vICAzLiB0djMgPSBjMiAqIHR2MVxuICAgICAgICAvLyAgIGxldCB0djQgPSBGcC5tdWwoYzMsIHR2MSk7ICAgICAgICAgICAvLyAgNC4gdHY0ID0gYzMgKiB0djFcbiAgICAgICAgLy8gICBjb25zdCBlMSA9IEZwLmVxdWFscyhGcC5zcXVhcmUodHYyKSwgeCk7IC8vICA1LiAgZTEgPSAodHYyXjIpID09IHhcbiAgICAgICAgLy8gICBjb25zdCBlMiA9IEZwLmVxdWFscyhGcC5zcXVhcmUodHYzKSwgeCk7IC8vICA2LiAgZTIgPSAodHYzXjIpID09IHhcbiAgICAgICAgLy8gICB0djEgPSBGcC5jbW92KHR2MSwgdHYyLCBlMSk7IC8vICA3LiB0djEgPSBDTU9WKHR2MSwgdHYyLCBlMSkgICMgU2VsZWN0IHR2MiBpZiAodHYyXjIpID09IHhcbiAgICAgICAgLy8gICB0djIgPSBGcC5jbW92KHR2NCwgdHYzLCBlMik7IC8vICA4LiB0djIgPSBDTU9WKHR2NCwgdHYzLCBlMikgICMgU2VsZWN0IHR2MyBpZiAodHYzXjIpID09IHhcbiAgICAgICAgLy8gICBjb25zdCBlMyA9IEZwLmVxdWFscyhGcC5zcXVhcmUodHYyKSwgeCk7IC8vICA5LiAgZTMgPSAodHYyXjIpID09IHhcbiAgICAgICAgLy8gICByZXR1cm4gRnAuY21vdih0djEsIHR2MiwgZTMpOyAvLyAgMTAuICB6ID0gQ01PVih0djEsIHR2MiwgZTMpICAjIFNlbGVjdCB0aGUgc3FydCBmcm9tIHR2MSBhbmQgdHYyXG4gICAgICAgIC8vIH1cbiAgICB9XG4gICAgLy8gT3RoZXIgY2FzZXM6IFRvbmVsbGktU2hhbmtzIGFsZ29yaXRobVxuICAgIHJldHVybiB0b25lbGxpU2hhbmtzKFApO1xufVxuLy8gTGl0dGxlLWVuZGlhbiBjaGVjayBmb3IgZmlyc3QgTEUgYml0IChsYXN0IEJFIGJpdCk7XG5leHBvcnQgY29uc3QgaXNOZWdhdGl2ZUxFID0gKG51bSwgbW9kdWxvKSA9PiAobW9kKG51bSwgbW9kdWxvKSAmIF8xbikgPT09IF8xbjtcbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgRklFTERfRklFTERTID0gW1xuICAgICdjcmVhdGUnLCAnaXNWYWxpZCcsICdpczAnLCAnbmVnJywgJ2ludicsICdzcXJ0JywgJ3NxcicsXG4gICAgJ2VxbCcsICdhZGQnLCAnc3ViJywgJ211bCcsICdwb3cnLCAnZGl2JyxcbiAgICAnYWRkTicsICdzdWJOJywgJ211bE4nLCAnc3FyTidcbl07XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVGaWVsZChmaWVsZCkge1xuICAgIGNvbnN0IGluaXRpYWwgPSB7XG4gICAgICAgIE9SREVSOiAnYmlnaW50JyxcbiAgICAgICAgTUFTSzogJ2JpZ2ludCcsXG4gICAgICAgIEJZVEVTOiAnaXNTYWZlSW50ZWdlcicsXG4gICAgICAgIEJJVFM6ICdpc1NhZmVJbnRlZ2VyJyxcbiAgICB9O1xuICAgIGNvbnN0IG9wdHMgPSBGSUVMRF9GSUVMRFMucmVkdWNlKChtYXAsIHZhbCkgPT4ge1xuICAgICAgICBtYXBbdmFsXSA9ICdmdW5jdGlvbic7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfSwgaW5pdGlhbCk7XG4gICAgcmV0dXJuIHZhbGlkYXRlT2JqZWN0KGZpZWxkLCBvcHRzKTtcbn1cbi8vIEdlbmVyaWMgZmllbGQgZnVuY3Rpb25zXG4vKipcbiAqIFNhbWUgYXMgYHBvd2AgYnV0IGZvciBGcDogbm9uLWNvbnN0YW50LXRpbWUuXG4gKiBVbnNhZmUgaW4gc29tZSBjb250ZXh0czogdXNlcyBsYWRkZXIsIHNvIGNhbiBleHBvc2UgYmlnaW50IGJpdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGcFBvdyhmLCBudW0sIHBvd2VyKSB7XG4gICAgLy8gU2hvdWxkIGhhdmUgc2FtZSBzcGVlZCBhcyBwb3cgZm9yIGJpZ2ludHNcbiAgICAvLyBUT0RPOiBiZW5jaG1hcmshXG4gICAgaWYgKHBvd2VyIDwgXzBuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZXhwb25lbnQsIG5lZ2F0aXZlcyB1bnN1cHBvcnRlZCcpO1xuICAgIGlmIChwb3dlciA9PT0gXzBuKVxuICAgICAgICByZXR1cm4gZi5PTkU7XG4gICAgaWYgKHBvd2VyID09PSBfMW4pXG4gICAgICAgIHJldHVybiBudW07XG4gICAgbGV0IHAgPSBmLk9ORTtcbiAgICBsZXQgZCA9IG51bTtcbiAgICB3aGlsZSAocG93ZXIgPiBfMG4pIHtcbiAgICAgICAgaWYgKHBvd2VyICYgXzFuKVxuICAgICAgICAgICAgcCA9IGYubXVsKHAsIGQpO1xuICAgICAgICBkID0gZi5zcXIoZCk7XG4gICAgICAgIHBvd2VyID4+PSBfMW47XG4gICAgfVxuICAgIHJldHVybiBwO1xufVxuLyoqXG4gKiBFZmZpY2llbnRseSBpbnZlcnQgYW4gYXJyYXkgb2YgRmllbGQgZWxlbWVudHMuXG4gKiBgaW52KDApYCB3aWxsIHJldHVybiBgdW5kZWZpbmVkYCBoZXJlOiBtYWtlIHN1cmUgdG8gdGhyb3cgYW4gZXJyb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGcEludmVydEJhdGNoKGYsIG51bXMpIHtcbiAgICBjb25zdCB0bXAgPSBuZXcgQXJyYXkobnVtcy5sZW5ndGgpO1xuICAgIC8vIFdhbGsgZnJvbSBmaXJzdCB0byBsYXN0LCBtdWx0aXBseSB0aGVtIGJ5IGVhY2ggb3RoZXIgTU9EIHBcbiAgICBjb25zdCBsYXN0TXVsdGlwbGllZCA9IG51bXMucmVkdWNlKChhY2MsIG51bSwgaSkgPT4ge1xuICAgICAgICBpZiAoZi5pczAobnVtKSlcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIHRtcFtpXSA9IGFjYztcbiAgICAgICAgcmV0dXJuIGYubXVsKGFjYywgbnVtKTtcbiAgICB9LCBmLk9ORSk7XG4gICAgLy8gSW52ZXJ0IGxhc3QgZWxlbWVudFxuICAgIGNvbnN0IGludmVydGVkID0gZi5pbnYobGFzdE11bHRpcGxpZWQpO1xuICAgIC8vIFdhbGsgZnJvbSBsYXN0IHRvIGZpcnN0LCBtdWx0aXBseSB0aGVtIGJ5IGludmVydGVkIGVhY2ggb3RoZXIgTU9EIHBcbiAgICBudW1zLnJlZHVjZVJpZ2h0KChhY2MsIG51bSwgaSkgPT4ge1xuICAgICAgICBpZiAoZi5pczAobnVtKSlcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIHRtcFtpXSA9IGYubXVsKGFjYywgdG1wW2ldKTtcbiAgICAgICAgcmV0dXJuIGYubXVsKGFjYywgbnVtKTtcbiAgICB9LCBpbnZlcnRlZCk7XG4gICAgcmV0dXJuIHRtcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBGcERpdihmLCBsaHMsIHJocykge1xuICAgIHJldHVybiBmLm11bChsaHMsIHR5cGVvZiByaHMgPT09ICdiaWdpbnQnID8gaW52ZXJ0KHJocywgZi5PUkRFUikgOiBmLmludihyaHMpKTtcbn1cbi8qKlxuICogTGVnZW5kcmUgc3ltYm9sLlxuICogKiAoYSB8IHApIOKJoSAxICAgIGlmIGEgaXMgYSBzcXVhcmUgKG1vZCBwKSwgcXVhZHJhdGljIHJlc2lkdWVcbiAqICogKGEgfCBwKSDiiaEgLTEgICBpZiBhIGlzIG5vdCBhIHNxdWFyZSAobW9kIHApLCBxdWFkcmF0aWMgbm9uIHJlc2lkdWVcbiAqICogKGEgfCBwKSDiiaEgMCAgICBpZiBhIOKJoSAwIChtb2QgcClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZwTGVnZW5kcmUob3JkZXIpIHtcbiAgICBjb25zdCBsZWdlbmRyZUNvbnN0ID0gKG9yZGVyIC0gXzFuKSAvIF8ybjsgLy8gSW50ZWdlciBhcml0aG1ldGljXG4gICAgcmV0dXJuIChmLCB4KSA9PiBmLnBvdyh4LCBsZWdlbmRyZUNvbnN0KTtcbn1cbi8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBUcnVlIHdoZW5ldmVyIHRoZSB2YWx1ZSB4IGlzIGEgc3F1YXJlIGluIHRoZSBmaWVsZCBGLlxuZXhwb3J0IGZ1bmN0aW9uIEZwSXNTcXVhcmUoZikge1xuICAgIGNvbnN0IGxlZ2VuZHJlID0gRnBMZWdlbmRyZShmLk9SREVSKTtcbiAgICByZXR1cm4gKHgpID0+IHtcbiAgICAgICAgY29uc3QgcCA9IGxlZ2VuZHJlKGYsIHgpO1xuICAgICAgICByZXR1cm4gZi5lcWwocCwgZi5aRVJPKSB8fCBmLmVxbChwLCBmLk9ORSk7XG4gICAgfTtcbn1cbi8vIENVUlZFLm4gbGVuZ3Roc1xuZXhwb3J0IGZ1bmN0aW9uIG5MZW5ndGgobiwgbkJpdExlbmd0aCkge1xuICAgIC8vIEJpdCBzaXplLCBieXRlIHNpemUgb2YgQ1VSVkUublxuICAgIGNvbnN0IF9uQml0TGVuZ3RoID0gbkJpdExlbmd0aCAhPT0gdW5kZWZpbmVkID8gbkJpdExlbmd0aCA6IG4udG9TdHJpbmcoMikubGVuZ3RoO1xuICAgIGNvbnN0IG5CeXRlTGVuZ3RoID0gTWF0aC5jZWlsKF9uQml0TGVuZ3RoIC8gOCk7XG4gICAgcmV0dXJuIHsgbkJpdExlbmd0aDogX25CaXRMZW5ndGgsIG5CeXRlTGVuZ3RoIH07XG59XG4vKipcbiAqIEluaXRpYWxpemVzIGEgZmluaXRlIGZpZWxkIG92ZXIgcHJpbWUuXG4gKiBNYWpvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25zOlxuICogKiBhKSBkZW5vcm1hbGl6ZWQgb3BlcmF0aW9ucyBsaWtlIG11bE4gaW5zdGVhZCBvZiBtdWxcbiAqICogYikgc2FtZSBvYmplY3Qgc2hhcGU6IG5ldmVyIGFkZCBvciByZW1vdmUga2V5c1xuICogKiBjKSBPYmplY3QuZnJlZXplXG4gKiBGcmFnaWxlOiBhbHdheXMgcnVuIGEgYmVuY2htYXJrIG9uIGEgY2hhbmdlLlxuICogU2VjdXJpdHkgbm90ZTogb3BlcmF0aW9ucyBkb24ndCBjaGVjayAnaXNWYWxpZCcgZm9yIGFsbCBlbGVtZW50cyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyxcbiAqIGl0IGlzIGNhbGxlciByZXNwb25zaWJpbGl0eSB0byBjaGVjayB0aGlzLlxuICogVGhpcyBpcyBsb3ctbGV2ZWwgY29kZSwgcGxlYXNlIG1ha2Ugc3VyZSB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZy5cbiAqIEBwYXJhbSBPUkRFUiBwcmltZSBwb3NpdGl2ZSBiaWdpbnRcbiAqIEBwYXJhbSBiaXRMZW4gaG93IG1hbnkgYml0cyB0aGUgZmllbGQgY29uc3VtZXNcbiAqIEBwYXJhbSBpc0xFIChkZWY6IGZhbHNlKSBpZiBlbmNvZGluZyAvIGRlY29kaW5nIHNob3VsZCBiZSBpbiBsaXR0bGUtZW5kaWFuXG4gKiBAcGFyYW0gcmVkZWYgb3B0aW9uYWwgZmFzdGVyIHJlZGVmaW5pdGlvbnMgb2Ygc3FydCBhbmQgb3RoZXIgbWV0aG9kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gRmllbGQoT1JERVIsIGJpdExlbiwgaXNMRSA9IGZhbHNlLCByZWRlZiA9IHt9KSB7XG4gICAgaWYgKE9SREVSIDw9IF8wbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZpZWxkOiBleHBlY3RlZCBPUkRFUiA+IDAsIGdvdCAnICsgT1JERVIpO1xuICAgIGNvbnN0IHsgbkJpdExlbmd0aDogQklUUywgbkJ5dGVMZW5ndGg6IEJZVEVTIH0gPSBuTGVuZ3RoKE9SREVSLCBiaXRMZW4pO1xuICAgIGlmIChCWVRFUyA+IDIwNDgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmaWVsZDogZXhwZWN0ZWQgT1JERVIgb2YgPD0gMjA0OCBieXRlcycpO1xuICAgIGxldCBzcXJ0UDsgLy8gY2FjaGVkIHNxcnRQXG4gICAgY29uc3QgZiA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICBPUkRFUixcbiAgICAgICAgaXNMRSxcbiAgICAgICAgQklUUyxcbiAgICAgICAgQllURVMsXG4gICAgICAgIE1BU0s6IGJpdE1hc2soQklUUyksXG4gICAgICAgIFpFUk86IF8wbixcbiAgICAgICAgT05FOiBfMW4sXG4gICAgICAgIGNyZWF0ZTogKG51bSkgPT4gbW9kKG51bSwgT1JERVIpLFxuICAgICAgICBpc1ZhbGlkOiAobnVtKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG51bSAhPT0gJ2JpZ2ludCcpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZpZWxkIGVsZW1lbnQ6IGV4cGVjdGVkIGJpZ2ludCwgZ290ICcgKyB0eXBlb2YgbnVtKTtcbiAgICAgICAgICAgIHJldHVybiBfMG4gPD0gbnVtICYmIG51bSA8IE9SREVSOyAvLyAwIGlzIHZhbGlkIGVsZW1lbnQsIGJ1dCBpdCdzIG5vdCBpbnZlcnRpYmxlXG4gICAgICAgIH0sXG4gICAgICAgIGlzMDogKG51bSkgPT4gbnVtID09PSBfMG4sXG4gICAgICAgIGlzT2RkOiAobnVtKSA9PiAobnVtICYgXzFuKSA9PT0gXzFuLFxuICAgICAgICBuZWc6IChudW0pID0+IG1vZCgtbnVtLCBPUkRFUiksXG4gICAgICAgIGVxbDogKGxocywgcmhzKSA9PiBsaHMgPT09IHJocyxcbiAgICAgICAgc3FyOiAobnVtKSA9PiBtb2QobnVtICogbnVtLCBPUkRFUiksXG4gICAgICAgIGFkZDogKGxocywgcmhzKSA9PiBtb2QobGhzICsgcmhzLCBPUkRFUiksXG4gICAgICAgIHN1YjogKGxocywgcmhzKSA9PiBtb2QobGhzIC0gcmhzLCBPUkRFUiksXG4gICAgICAgIG11bDogKGxocywgcmhzKSA9PiBtb2QobGhzICogcmhzLCBPUkRFUiksXG4gICAgICAgIHBvdzogKG51bSwgcG93ZXIpID0+IEZwUG93KGYsIG51bSwgcG93ZXIpLFxuICAgICAgICBkaXY6IChsaHMsIHJocykgPT4gbW9kKGxocyAqIGludmVydChyaHMsIE9SREVSKSwgT1JERVIpLFxuICAgICAgICAvLyBTYW1lIGFzIGFib3ZlLCBidXQgZG9lc24ndCBub3JtYWxpemVcbiAgICAgICAgc3FyTjogKG51bSkgPT4gbnVtICogbnVtLFxuICAgICAgICBhZGROOiAobGhzLCByaHMpID0+IGxocyArIHJocyxcbiAgICAgICAgc3ViTjogKGxocywgcmhzKSA9PiBsaHMgLSByaHMsXG4gICAgICAgIG11bE46IChsaHMsIHJocykgPT4gbGhzICogcmhzLFxuICAgICAgICBpbnY6IChudW0pID0+IGludmVydChudW0sIE9SREVSKSxcbiAgICAgICAgc3FydDogcmVkZWYuc3FydCB8fFxuICAgICAgICAgICAgKChuKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFzcXJ0UClcbiAgICAgICAgICAgICAgICAgICAgc3FydFAgPSBGcFNxcnQoT1JERVIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzcXJ0UChmLCBuKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBpbnZlcnRCYXRjaDogKGxzdCkgPT4gRnBJbnZlcnRCYXRjaChmLCBsc3QpLFxuICAgICAgICAvLyBUT0RPOiBkbyB3ZSByZWFsbHkgbmVlZCBjb25zdGFudCBjbW92P1xuICAgICAgICAvLyBXZSBkb24ndCBoYXZlIGNvbnN0LXRpbWUgYmlnaW50cyBhbnl3YXksIHNvIHByb2JhYmx5IHdpbGwgYmUgbm90IHZlcnkgdXNlZnVsXG4gICAgICAgIGNtb3Y6IChhLCBiLCBjKSA9PiAoYyA/IGIgOiBhKSxcbiAgICAgICAgdG9CeXRlczogKG51bSkgPT4gKGlzTEUgPyBudW1iZXJUb0J5dGVzTEUobnVtLCBCWVRFUykgOiBudW1iZXJUb0J5dGVzQkUobnVtLCBCWVRFUykpLFxuICAgICAgICBmcm9tQnl0ZXM6IChieXRlcykgPT4ge1xuICAgICAgICAgICAgaWYgKGJ5dGVzLmxlbmd0aCAhPT0gQllURVMpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaWVsZC5mcm9tQnl0ZXM6IGV4cGVjdGVkICcgKyBCWVRFUyArICcgYnl0ZXMsIGdvdCAnICsgYnl0ZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiBpc0xFID8gYnl0ZXNUb051bWJlckxFKGJ5dGVzKSA6IGJ5dGVzVG9OdW1iZXJCRShieXRlcyk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoZik7XG59XG5leHBvcnQgZnVuY3Rpb24gRnBTcXJ0T2RkKEZwLCBlbG0pIHtcbiAgICBpZiAoIUZwLmlzT2RkKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZCBkb2Vzbid0IGhhdmUgaXNPZGRcIik7XG4gICAgY29uc3Qgcm9vdCA9IEZwLnNxcnQoZWxtKTtcbiAgICByZXR1cm4gRnAuaXNPZGQocm9vdCkgPyByb290IDogRnAubmVnKHJvb3QpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIEZwU3FydEV2ZW4oRnAsIGVsbSkge1xuICAgIGlmICghRnAuaXNPZGQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpZWxkIGRvZXNuJ3QgaGF2ZSBpc09kZFwiKTtcbiAgICBjb25zdCByb290ID0gRnAuc3FydChlbG0pO1xuICAgIHJldHVybiBGcC5pc09kZChyb290KSA/IEZwLm5lZyhyb290KSA6IHJvb3Q7XG59XG4vKipcbiAqIFwiQ29uc3RhbnQtdGltZVwiIHByaXZhdGUga2V5IGdlbmVyYXRpb24gdXRpbGl0eS5cbiAqIFNhbWUgYXMgbWFwS2V5VG9GaWVsZCwgYnV0IGFjY2VwdHMgbGVzcyBieXRlcyAoNDAgaW5zdGVhZCBvZiA0OCBmb3IgMzItYnl0ZSBmaWVsZCkuXG4gKiBXaGljaCBtYWtlcyBpdCBzbGlnaHRseSBtb3JlIGJpYXNlZCwgbGVzcyBzZWN1cmUuXG4gKiBAZGVwcmVjYXRlZCB1c2UgYG1hcEtleVRvRmllbGRgIGluc3RlYWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc2hUb1ByaXZhdGVTY2FsYXIoaGFzaCwgZ3JvdXBPcmRlciwgaXNMRSA9IGZhbHNlKSB7XG4gICAgaGFzaCA9IGVuc3VyZUJ5dGVzKCdwcml2YXRlSGFzaCcsIGhhc2gpO1xuICAgIGNvbnN0IGhhc2hMZW4gPSBoYXNoLmxlbmd0aDtcbiAgICBjb25zdCBtaW5MZW4gPSBuTGVuZ3RoKGdyb3VwT3JkZXIpLm5CeXRlTGVuZ3RoICsgODtcbiAgICBpZiAobWluTGVuIDwgMjQgfHwgaGFzaExlbiA8IG1pbkxlbiB8fCBoYXNoTGVuID4gMTAyNClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoYXNoVG9Qcml2YXRlU2NhbGFyOiBleHBlY3RlZCAnICsgbWluTGVuICsgJy0xMDI0IGJ5dGVzIG9mIGlucHV0LCBnb3QgJyArIGhhc2hMZW4pO1xuICAgIGNvbnN0IG51bSA9IGlzTEUgPyBieXRlc1RvTnVtYmVyTEUoaGFzaCkgOiBieXRlc1RvTnVtYmVyQkUoaGFzaCk7XG4gICAgcmV0dXJuIG1vZChudW0sIGdyb3VwT3JkZXIgLSBfMW4pICsgXzFuO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRvdGFsIG51bWJlciBvZiBieXRlcyBjb25zdW1lZCBieSB0aGUgZmllbGQgZWxlbWVudC5cbiAqIEZvciBleGFtcGxlLCAzMiBieXRlcyBmb3IgdXN1YWwgMjU2LWJpdCB3ZWllcnN0cmFzcyBjdXJ2ZS5cbiAqIEBwYXJhbSBmaWVsZE9yZGVyIG51bWJlciBvZiBmaWVsZCBlbGVtZW50cywgdXN1YWxseSBDVVJWRS5uXG4gKiBAcmV0dXJucyBieXRlIGxlbmd0aCBvZiBmaWVsZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmllbGRCeXRlc0xlbmd0aChmaWVsZE9yZGVyKSB7XG4gICAgaWYgKHR5cGVvZiBmaWVsZE9yZGVyICE9PSAnYmlnaW50JylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdmaWVsZCBvcmRlciBtdXN0IGJlIGJpZ2ludCcpO1xuICAgIGNvbnN0IGJpdExlbmd0aCA9IGZpZWxkT3JkZXIudG9TdHJpbmcoMikubGVuZ3RoO1xuICAgIHJldHVybiBNYXRoLmNlaWwoYml0TGVuZ3RoIC8gOCk7XG59XG4vKipcbiAqIFJldHVybnMgbWluaW1hbCBhbW91bnQgb2YgYnl0ZXMgdGhhdCBjYW4gYmUgc2FmZWx5IHJlZHVjZWRcbiAqIGJ5IGZpZWxkIG9yZGVyLlxuICogU2hvdWxkIGJlIDJeLTEyOCBmb3IgMTI4LWJpdCBjdXJ2ZSBzdWNoIGFzIFAyNTYuXG4gKiBAcGFyYW0gZmllbGRPcmRlciBudW1iZXIgb2YgZmllbGQgZWxlbWVudHMsIHVzdWFsbHkgQ1VSVkUublxuICogQHJldHVybnMgYnl0ZSBsZW5ndGggb2YgdGFyZ2V0IGhhc2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1pbkhhc2hMZW5ndGgoZmllbGRPcmRlcikge1xuICAgIGNvbnN0IGxlbmd0aCA9IGdldEZpZWxkQnl0ZXNMZW5ndGgoZmllbGRPcmRlcik7XG4gICAgcmV0dXJuIGxlbmd0aCArIE1hdGguY2VpbChsZW5ndGggLyAyKTtcbn1cbi8qKlxuICogXCJDb25zdGFudC10aW1lXCIgcHJpdmF0ZSBrZXkgZ2VuZXJhdGlvbiB1dGlsaXR5LlxuICogQ2FuIHRha2UgKG4gKyBuLzIpIG9yIG1vcmUgYnl0ZXMgb2YgdW5pZm9ybSBpbnB1dCBlLmcuIGZyb20gQ1NQUk5HIG9yIEtERlxuICogYW5kIGNvbnZlcnQgdGhlbSBpbnRvIHByaXZhdGUgc2NhbGFyLCB3aXRoIHRoZSBtb2R1bG8gYmlhcyBiZWluZyBuZWdsaWdpYmxlLlxuICogTmVlZHMgYXQgbGVhc3QgNDggYnl0ZXMgb2YgaW5wdXQgZm9yIDMyLWJ5dGUgcHJpdmF0ZSBrZXkuXG4gKiBodHRwczovL3Jlc2VhcmNoLmt1ZGVsc2tpc2VjdXJpdHkuY29tLzIwMjAvMDcvMjgvdGhlLWRlZmluaXRpdmUtZ3VpZGUtdG8tbW9kdWxvLWJpYXMtYW5kLWhvdy10by1hdm9pZC1pdC9cbiAqIEZJUFMgMTg2LTUsIEEuMiBodHRwczovL2NzcmMubmlzdC5nb3YvcHVibGljYXRpb25zL2RldGFpbC9maXBzLzE4Ni81L2ZpbmFsXG4gKiBSRkMgOTM4MCwgaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzkzODAjc2VjdGlvbi01XG4gKiBAcGFyYW0gaGFzaCBoYXNoIG91dHB1dCBmcm9tIFNIQTMgb3IgYSBzaW1pbGFyIGZ1bmN0aW9uXG4gKiBAcGFyYW0gZ3JvdXBPcmRlciBzaXplIG9mIHN1Ymdyb3VwIC0gKGUuZy4gc2VjcDI1NmsxLkNVUlZFLm4pXG4gKiBAcGFyYW0gaXNMRSBpbnRlcnByZXQgaGFzaCBieXRlcyBhcyBMRSBudW1cbiAqIEByZXR1cm5zIHZhbGlkIHByaXZhdGUgc2NhbGFyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBIYXNoVG9GaWVsZChrZXksIGZpZWxkT3JkZXIsIGlzTEUgPSBmYWxzZSkge1xuICAgIGNvbnN0IGxlbiA9IGtleS5sZW5ndGg7XG4gICAgY29uc3QgZmllbGRMZW4gPSBnZXRGaWVsZEJ5dGVzTGVuZ3RoKGZpZWxkT3JkZXIpO1xuICAgIGNvbnN0IG1pbkxlbiA9IGdldE1pbkhhc2hMZW5ndGgoZmllbGRPcmRlcik7XG4gICAgLy8gTm8gc21hbGwgbnVtYmVyczogbmVlZCB0byB1bmRlcnN0YW5kIGJpYXMgc3RvcnkuIE5vIGh1Z2UgbnVtYmVyczogZWFzaWVyIHRvIGRldGVjdCBKUyB0aW1pbmdzLlxuICAgIGlmIChsZW4gPCAxNiB8fCBsZW4gPCBtaW5MZW4gfHwgbGVuID4gMTAyNClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCAnICsgbWluTGVuICsgJy0xMDI0IGJ5dGVzIG9mIGlucHV0LCBnb3QgJyArIGxlbik7XG4gICAgY29uc3QgbnVtID0gaXNMRSA/IGJ5dGVzVG9OdW1iZXJMRShrZXkpIDogYnl0ZXNUb051bWJlckJFKGtleSk7XG4gICAgLy8gYG1vZCh4LCAxMSlgIGNhbiBzb21ldGltZXMgcHJvZHVjZSAwLiBgbW9kKHgsIDEwKSArIDFgIGlzIHRoZSBzYW1lLCBidXQgbm8gMFxuICAgIGNvbnN0IHJlZHVjZWQgPSBtb2QobnVtLCBmaWVsZE9yZGVyIC0gXzFuKSArIF8xbjtcbiAgICByZXR1cm4gaXNMRSA/IG51bWJlclRvQnl0ZXNMRShyZWR1Y2VkLCBmaWVsZExlbikgOiBudW1iZXJUb0J5dGVzQkUocmVkdWNlZCwgZmllbGRMZW4pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kdWxhci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/modular.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/utils.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/utils.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   aInRange: () => (/* binding */ aInRange),\n/* harmony export */   abool: () => (/* binding */ abool),\n/* harmony export */   abytes: () => (/* binding */ abytes),\n/* harmony export */   bitGet: () => (/* binding */ bitGet),\n/* harmony export */   bitLen: () => (/* binding */ bitLen),\n/* harmony export */   bitMask: () => (/* binding */ bitMask),\n/* harmony export */   bitSet: () => (/* binding */ bitSet),\n/* harmony export */   bytesToHex: () => (/* binding */ bytesToHex),\n/* harmony export */   bytesToNumberBE: () => (/* binding */ bytesToNumberBE),\n/* harmony export */   bytesToNumberLE: () => (/* binding */ bytesToNumberLE),\n/* harmony export */   concatBytes: () => (/* binding */ concatBytes),\n/* harmony export */   createHmacDrbg: () => (/* binding */ createHmacDrbg),\n/* harmony export */   ensureBytes: () => (/* binding */ ensureBytes),\n/* harmony export */   equalBytes: () => (/* binding */ equalBytes),\n/* harmony export */   hexToBytes: () => (/* binding */ hexToBytes),\n/* harmony export */   hexToNumber: () => (/* binding */ hexToNumber),\n/* harmony export */   inRange: () => (/* binding */ inRange),\n/* harmony export */   isBytes: () => (/* binding */ isBytes),\n/* harmony export */   memoized: () => (/* binding */ memoized),\n/* harmony export */   notImplemented: () => (/* binding */ notImplemented),\n/* harmony export */   numberToBytesBE: () => (/* binding */ numberToBytesBE),\n/* harmony export */   numberToBytesLE: () => (/* binding */ numberToBytesLE),\n/* harmony export */   numberToHexUnpadded: () => (/* binding */ numberToHexUnpadded),\n/* harmony export */   numberToVarBytesBE: () => (/* binding */ numberToVarBytesBE),\n/* harmony export */   utf8ToBytes: () => (/* binding */ utf8ToBytes),\n/* harmony export */   validateObject: () => (/* binding */ validateObject)\n/* harmony export */ });\n/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// 100 lines of code in the file are duplicated from noble-hashes (utils).\n// This is OK: `abstract` directory does not use noble-hashes.\n// User may opt-in into using different hashing library. This way, noble-hashes\n// won't be included into their bundle.\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nconst _2n = /* @__PURE__ */ BigInt(2);\nfunction isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\nfunction abytes(item) {\n    if (!isBytes(item))\n        throw new Error('Uint8Array expected');\n}\nfunction abool(title, value) {\n    if (typeof value !== 'boolean')\n        throw new Error(title + ' boolean expected, got ' + value);\n}\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nfunction bytesToHex(bytes) {\n    abytes(bytes);\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\nfunction numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? '0' + hex : hex;\n}\nfunction hexToNumber(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };\nfunction asciiToBase16(ch) {\n    if (ch >= asciis._0 && ch <= asciis._9)\n        return ch - asciis._0; // '2' => 50-48\n    if (ch >= asciis.A && ch <= asciis.F)\n        return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n    if (ch >= asciis.a && ch <= asciis.f)\n        return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n    return;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n    }\n    return array;\n}\n// BE: Big Endian, LE: Little Endian\nfunction bytesToNumberBE(bytes) {\n    return hexToNumber(bytesToHex(bytes));\n}\nfunction bytesToNumberLE(bytes) {\n    abytes(bytes);\n    return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));\n}\nfunction numberToBytesBE(n, len) {\n    return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\nfunction numberToBytesLE(n, len) {\n    return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nfunction numberToVarBytesBE(n) {\n    return hexToBytes(numberToHexUnpadded(n));\n}\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nfunction ensureBytes(title, hex, expectedLength) {\n    let res;\n    if (typeof hex === 'string') {\n        try {\n            res = hexToBytes(hex);\n        }\n        catch (e) {\n            throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);\n        }\n    }\n    else if (isBytes(hex)) {\n        // Uint8Array.from() instead of hash.slice() because node.js Buffer\n        // is instance of Uint8Array, and its slice() creates **mutable** copy\n        res = Uint8Array.from(hex);\n    }\n    else {\n        throw new Error(title + ' must be hex string or Uint8Array');\n    }\n    const len = res.length;\n    if (typeof expectedLength === 'number' && len !== expectedLength)\n        throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);\n    return res;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nfunction concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n// Compares 2 u8a-s in kinda constant time\nfunction equalBytes(a, b) {\n    if (a.length !== b.length)\n        return false;\n    let diff = 0;\n    for (let i = 0; i < a.length; i++)\n        diff |= a[i] ^ b[i];\n    return diff === 0;\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nfunction utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error('string expected');\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n// Is positive bigint\nconst isPosBig = (n) => typeof n === 'bigint' && _0n <= n;\nfunction inRange(n, min, max) {\n    return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nfunction aInRange(title, n, min, max) {\n    // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n    // consider P=256n, min=0n, max=P\n    // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n    // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n    // - our way is the cleanest:               `inRange('x', x, 0n, P)\n    if (!inRange(n, min, max))\n        throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n */\nfunction bitLen(n) {\n    let len;\n    for (len = 0; n > _0n; n >>= _1n, len += 1)\n        ;\n    return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nfunction bitGet(n, pos) {\n    return (n >> BigInt(pos)) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nfunction bitSet(n, pos, value) {\n    return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nconst bitMask = (n) => (_2n << BigInt(n - 1)) - _1n;\n// DRBG\nconst u8n = (data) => new Uint8Array(data); // creates Uint8Array\nconst u8fr = (arr) => Uint8Array.from(arr); // another shortcut\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nfunction createHmacDrbg(hashLen, qByteLen, hmacFn) {\n    if (typeof hashLen !== 'number' || hashLen < 2)\n        throw new Error('hashLen must be a number');\n    if (typeof qByteLen !== 'number' || qByteLen < 2)\n        throw new Error('qByteLen must be a number');\n    if (typeof hmacFn !== 'function')\n        throw new Error('hmacFn must be a function');\n    // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n    let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n    let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n    let i = 0; // Iterations counter, will throw when over 1000\n    const reset = () => {\n        v.fill(1);\n        k.fill(0);\n        i = 0;\n    };\n    const h = (...b) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n    const reseed = (seed = u8n()) => {\n        // HMAC-DRBG reseed() function. Steps D-G\n        k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)\n        v = h(); // v = hmac(k || v)\n        if (seed.length === 0)\n            return;\n        k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)\n        v = h(); // v = hmac(k || v)\n    };\n    const gen = () => {\n        // HMAC-DRBG generate() function\n        if (i++ >= 1000)\n            throw new Error('drbg: tried 1000 values');\n        let len = 0;\n        const out = [];\n        while (len < qByteLen) {\n            v = h();\n            const sl = v.slice();\n            out.push(sl);\n            len += v.length;\n        }\n        return concatBytes(...out);\n    };\n    const genUntil = (seed, pred) => {\n        reset();\n        reseed(seed); // Steps D-G\n        let res = undefined; // Step H: grind until k is in [1..n-1]\n        while (!(res = pred(gen())))\n            reseed();\n        reset();\n        return res;\n    };\n    return genUntil;\n}\n// Validating curves and fields\nconst validatorFns = {\n    bigint: (val) => typeof val === 'bigint',\n    function: (val) => typeof val === 'function',\n    boolean: (val) => typeof val === 'boolean',\n    string: (val) => typeof val === 'string',\n    stringOrUint8Array: (val) => typeof val === 'string' || isBytes(val),\n    isSafeInteger: (val) => Number.isSafeInteger(val),\n    array: (val) => Array.isArray(val),\n    field: (val, object) => object.Fp.isValid(val),\n    hash: (val) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n};\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\nfunction validateObject(object, validators, optValidators = {}) {\n    const checkField = (fieldName, type, isOptional) => {\n        const checkVal = validatorFns[type];\n        if (typeof checkVal !== 'function')\n            throw new Error('invalid validator function');\n        const val = object[fieldName];\n        if (isOptional && val === undefined)\n            return;\n        if (!checkVal(val, object)) {\n            throw new Error('param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val);\n        }\n    };\n    for (const [fieldName, type] of Object.entries(validators))\n        checkField(fieldName, type, false);\n    for (const [fieldName, type] of Object.entries(optValidators))\n        checkField(fieldName, type, true);\n    return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n/**\n * throws not implemented error\n */\nconst notImplemented = () => {\n    throw new Error('not implemented');\n};\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nfunction memoized(fn) {\n    const map = new WeakMap();\n    return (arg, ...args) => {\n        const val = map.get(arg);\n        if (val !== undefined)\n            return val;\n        const computed = fn(arg, ...args);\n        map.set(arg, computed);\n        return computed;\n    };\n}\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGFBQWE7QUFDeEQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFNBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG1CQUFtQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNEJBQTRCO0FBQ25EO0FBQ087QUFDUDtBQUNBLDRDQUE0QztBQUM1Qyw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsMEJBQTBCO0FBQzFCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQ25ELDhEQUE4RDtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFdBQVcsV0FBVyxZQUFZLElBQUk7QUFDcEQsa0NBQWtDLG9CQUFvQixJQUFJLGFBQWEsR0FBRztBQUMxRTtBQUNBLGtDQUFrQyxVQUFVLElBQUksU0FBUztBQUN6RCxrQ0FBa0Msb0JBQW9CLElBQUksU0FBUztBQUNuRSxrQ0FBa0MsMkJBQTJCO0FBQzdELGtDQUFrQyx3QkFBd0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSGV4LCBieXRlcyBhbmQgbnVtYmVyIHV0aWxpdGllcy5cbiAqIEBtb2R1bGVcbiAqL1xuLyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL1xuLy8gMTAwIGxpbmVzIG9mIGNvZGUgaW4gdGhlIGZpbGUgYXJlIGR1cGxpY2F0ZWQgZnJvbSBub2JsZS1oYXNoZXMgKHV0aWxzKS5cbi8vIFRoaXMgaXMgT0s6IGBhYnN0cmFjdGAgZGlyZWN0b3J5IGRvZXMgbm90IHVzZSBub2JsZS1oYXNoZXMuXG4vLyBVc2VyIG1heSBvcHQtaW4gaW50byB1c2luZyBkaWZmZXJlbnQgaGFzaGluZyBsaWJyYXJ5LiBUaGlzIHdheSwgbm9ibGUtaGFzaGVzXG4vLyB3b24ndCBiZSBpbmNsdWRlZCBpbnRvIHRoZWlyIGJ1bmRsZS5cbmNvbnN0IF8wbiA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoMCk7XG5jb25zdCBfMW4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDEpO1xuY29uc3QgXzJuID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCgyKTtcbmV4cG9ydCBmdW5jdGlvbiBpc0J5dGVzKGEpIHtcbiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgKEFycmF5QnVmZmVyLmlzVmlldyhhKSAmJiBhLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdVaW50OEFycmF5Jyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWJ5dGVzKGl0ZW0pIHtcbiAgICBpZiAoIWlzQnl0ZXMoaXRlbSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVWludDhBcnJheSBleHBlY3RlZCcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFib29sKHRpdGxlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRpdGxlICsgJyBib29sZWFuIGV4cGVjdGVkLCBnb3QgJyArIHZhbHVlKTtcbn1cbi8vIEFycmF5IHdoZXJlIGluZGV4IDB4ZjAgKDI0MCkgaXMgbWFwcGVkIHRvIHN0cmluZyAnZjAnXG5jb25zdCBoZXhlcyA9IC8qIEBfX1BVUkVfXyAqLyBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyNTYgfSwgKF8sIGkpID0+IGkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpO1xuLyoqXG4gKiBAZXhhbXBsZSBieXRlc1RvSGV4KFVpbnQ4QXJyYXkuZnJvbShbMHhjYSwgMHhmZSwgMHgwMSwgMHgyM10pKSAvLyAnY2FmZTAxMjMnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvSGV4KGJ5dGVzKSB7XG4gICAgYWJ5dGVzKGJ5dGVzKTtcbiAgICAvLyBwcmUtY2FjaGluZyBpbXByb3ZlcyB0aGUgc3BlZWQgNnhcbiAgICBsZXQgaGV4ID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBoZXggKz0gaGV4ZXNbYnl0ZXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gaGV4O1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvSGV4VW5wYWRkZWQobnVtKSB7XG4gICAgY29uc3QgaGV4ID0gbnVtLnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gaGV4Lmxlbmd0aCAmIDEgPyAnMCcgKyBoZXggOiBoZXg7XG59XG5leHBvcnQgZnVuY3Rpb24gaGV4VG9OdW1iZXIoaGV4KSB7XG4gICAgaWYgKHR5cGVvZiBoZXggIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCAnICsgdHlwZW9mIGhleCk7XG4gICAgcmV0dXJuIGhleCA9PT0gJycgPyBfMG4gOiBCaWdJbnQoJzB4JyArIGhleCk7IC8vIEJpZyBFbmRpYW5cbn1cbi8vIFdlIHVzZSBvcHRpbWl6ZWQgdGVjaG5pcXVlIHRvIGNvbnZlcnQgaGV4IHN0cmluZyB0byBieXRlIGFycmF5XG5jb25zdCBhc2NpaXMgPSB7IF8wOiA0OCwgXzk6IDU3LCBBOiA2NSwgRjogNzAsIGE6IDk3LCBmOiAxMDIgfTtcbmZ1bmN0aW9uIGFzY2lpVG9CYXNlMTYoY2gpIHtcbiAgICBpZiAoY2ggPj0gYXNjaWlzLl8wICYmIGNoIDw9IGFzY2lpcy5fOSlcbiAgICAgICAgcmV0dXJuIGNoIC0gYXNjaWlzLl8wOyAvLyAnMicgPT4gNTAtNDhcbiAgICBpZiAoY2ggPj0gYXNjaWlzLkEgJiYgY2ggPD0gYXNjaWlzLkYpXG4gICAgICAgIHJldHVybiBjaCAtIChhc2NpaXMuQSAtIDEwKTsgLy8gJ0InID0+IDY2LSg2NS0xMClcbiAgICBpZiAoY2ggPj0gYXNjaWlzLmEgJiYgY2ggPD0gYXNjaWlzLmYpXG4gICAgICAgIHJldHVybiBjaCAtIChhc2NpaXMuYSAtIDEwKTsgLy8gJ2InID0+IDk4LSg5Ny0xMClcbiAgICByZXR1cm47XG59XG4vKipcbiAqIEBleGFtcGxlIGhleFRvQnl0ZXMoJ2NhZmUwMTIzJykgLy8gVWludDhBcnJheS5mcm9tKFsweGNhLCAweGZlLCAweDAxLCAweDIzXSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleFRvQnl0ZXMoaGV4KSB7XG4gICAgaWYgKHR5cGVvZiBoZXggIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCAnICsgdHlwZW9mIGhleCk7XG4gICAgY29uc3QgaGwgPSBoZXgubGVuZ3RoO1xuICAgIGNvbnN0IGFsID0gaGwgLyAyO1xuICAgIGlmIChobCAlIDIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IHVucGFkZGVkIGhleCBvZiBsZW5ndGggJyArIGhsKTtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFsKTtcbiAgICBmb3IgKGxldCBhaSA9IDAsIGhpID0gMDsgYWkgPCBhbDsgYWkrKywgaGkgKz0gMikge1xuICAgICAgICBjb25zdCBuMSA9IGFzY2lpVG9CYXNlMTYoaGV4LmNoYXJDb2RlQXQoaGkpKTtcbiAgICAgICAgY29uc3QgbjIgPSBhc2NpaVRvQmFzZTE2KGhleC5jaGFyQ29kZUF0KGhpICsgMSkpO1xuICAgICAgICBpZiAobjEgPT09IHVuZGVmaW5lZCB8fCBuMiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gaGV4W2hpXSArIGhleFtoaSArIDFdO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3Qgbm9uLWhleCBjaGFyYWN0ZXIgXCInICsgY2hhciArICdcIiBhdCBpbmRleCAnICsgaGkpO1xuICAgICAgICB9XG4gICAgICAgIGFycmF5W2FpXSA9IG4xICogMTYgKyBuMjsgLy8gbXVsdGlwbHkgZmlyc3Qgb2N0ZXQsIGUuZy4gJ2EzJyA9PiAxMCoxNiszID0+IDE2MCArIDMgPT4gMTYzXG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8vIEJFOiBCaWcgRW5kaWFuLCBMRTogTGl0dGxlIEVuZGlhblxuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9OdW1iZXJCRShieXRlcykge1xuICAgIHJldHVybiBoZXhUb051bWJlcihieXRlc1RvSGV4KGJ5dGVzKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYnl0ZXNUb051bWJlckxFKGJ5dGVzKSB7XG4gICAgYWJ5dGVzKGJ5dGVzKTtcbiAgICByZXR1cm4gaGV4VG9OdW1iZXIoYnl0ZXNUb0hleChVaW50OEFycmF5LmZyb20oYnl0ZXMpLnJldmVyc2UoKSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvQnl0ZXNCRShuLCBsZW4pIHtcbiAgICByZXR1cm4gaGV4VG9CeXRlcyhuLnRvU3RyaW5nKDE2KS5wYWRTdGFydChsZW4gKiAyLCAnMCcpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJUb0J5dGVzTEUobiwgbGVuKSB7XG4gICAgcmV0dXJuIG51bWJlclRvQnl0ZXNCRShuLCBsZW4pLnJldmVyc2UoKTtcbn1cbi8vIFVucGFkZGVkLCByYXJlbHkgdXNlZFxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvVmFyQnl0ZXNCRShuKSB7XG4gICAgcmV0dXJuIGhleFRvQnl0ZXMobnVtYmVyVG9IZXhVbnBhZGRlZChuKSk7XG59XG4vKipcbiAqIFRha2VzIGhleCBzdHJpbmcgb3IgVWludDhBcnJheSwgY29udmVydHMgdG8gVWludDhBcnJheS5cbiAqIFZhbGlkYXRlcyBvdXRwdXQgbGVuZ3RoLlxuICogV2lsbCB0aHJvdyBlcnJvciBmb3Igb3RoZXIgdHlwZXMuXG4gKiBAcGFyYW0gdGl0bGUgZGVzY3JpcHRpdmUgdGl0bGUgZm9yIGFuIGVycm9yIGUuZy4gJ3ByaXZhdGUga2V5J1xuICogQHBhcmFtIGhleCBoZXggc3RyaW5nIG9yIFVpbnQ4QXJyYXlcbiAqIEBwYXJhbSBleHBlY3RlZExlbmd0aCBvcHRpb25hbCwgd2lsbCBjb21wYXJlIHRvIHJlc3VsdCBhcnJheSdzIGxlbmd0aFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUJ5dGVzKHRpdGxlLCBoZXgsIGV4cGVjdGVkTGVuZ3RoKSB7XG4gICAgbGV0IHJlcztcbiAgICBpZiAodHlwZW9mIGhleCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcyA9IGhleFRvQnl0ZXMoaGV4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRpdGxlICsgJyBtdXN0IGJlIGhleCBzdHJpbmcgb3IgVWludDhBcnJheSwgY2F1c2U6ICcgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc0J5dGVzKGhleCkpIHtcbiAgICAgICAgLy8gVWludDhBcnJheS5mcm9tKCkgaW5zdGVhZCBvZiBoYXNoLnNsaWNlKCkgYmVjYXVzZSBub2RlLmpzIEJ1ZmZlclxuICAgICAgICAvLyBpcyBpbnN0YW5jZSBvZiBVaW50OEFycmF5LCBhbmQgaXRzIHNsaWNlKCkgY3JlYXRlcyAqKm11dGFibGUqKiBjb3B5XG4gICAgICAgIHJlcyA9IFVpbnQ4QXJyYXkuZnJvbShoZXgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRpdGxlICsgJyBtdXN0IGJlIGhleCBzdHJpbmcgb3IgVWludDhBcnJheScpO1xuICAgIH1cbiAgICBjb25zdCBsZW4gPSByZXMubGVuZ3RoO1xuICAgIGlmICh0eXBlb2YgZXhwZWN0ZWRMZW5ndGggPT09ICdudW1iZXInICYmIGxlbiAhPT0gZXhwZWN0ZWRMZW5ndGgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcih0aXRsZSArICcgb2YgbGVuZ3RoICcgKyBleHBlY3RlZExlbmd0aCArICcgZXhwZWN0ZWQsIGdvdCAnICsgbGVuKTtcbiAgICByZXR1cm4gcmVzO1xufVxuLyoqXG4gKiBDb3BpZXMgc2V2ZXJhbCBVaW50OEFycmF5cyBpbnRvIG9uZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdEJ5dGVzKC4uLmFycmF5cykge1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGEgPSBhcnJheXNbaV07XG4gICAgICAgIGFieXRlcyhhKTtcbiAgICAgICAgc3VtICs9IGEubGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBuZXcgVWludDhBcnJheShzdW0pO1xuICAgIGZvciAobGV0IGkgPSAwLCBwYWQgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGEgPSBhcnJheXNbaV07XG4gICAgICAgIHJlcy5zZXQoYSwgcGFkKTtcbiAgICAgICAgcGFkICs9IGEubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLy8gQ29tcGFyZXMgMiB1OGEtcyBpbiBraW5kYSBjb25zdGFudCB0aW1lXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxCeXRlcyhhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBkaWZmID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGRpZmYgfD0gYVtpXSBeIGJbaV07XG4gICAgcmV0dXJuIGRpZmYgPT09IDA7XG59XG4vKipcbiAqIEBleGFtcGxlIHV0ZjhUb0J5dGVzKCdhYmMnKSAvLyBuZXcgVWludDhBcnJheShbOTcsIDk4LCA5OV0pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1dGY4VG9CeXRlcyhzdHIpIHtcbiAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc3RyaW5nIGV4cGVjdGVkJyk7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHIpKTsgLy8gaHR0cHM6Ly9idWd6aWwubGEvMTY4MTgwOVxufVxuLy8gSXMgcG9zaXRpdmUgYmlnaW50XG5jb25zdCBpc1Bvc0JpZyA9IChuKSA9PiB0eXBlb2YgbiA9PT0gJ2JpZ2ludCcgJiYgXzBuIDw9IG47XG5leHBvcnQgZnVuY3Rpb24gaW5SYW5nZShuLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBpc1Bvc0JpZyhuKSAmJiBpc1Bvc0JpZyhtaW4pICYmIGlzUG9zQmlnKG1heCkgJiYgbWluIDw9IG4gJiYgbiA8IG1heDtcbn1cbi8qKlxuICogQXNzZXJ0cyBtaW4gPD0gbiA8IG1heC4gTk9URTogSXQncyA8IG1heCBhbmQgbm90IDw9IG1heC5cbiAqIEBleGFtcGxlXG4gKiBhSW5SYW5nZSgneCcsIHgsIDFuLCAyNTZuKTsgLy8gd291bGQgYXNzdW1lIHggaXMgaW4gKDFuLi4yNTVuKVxuICovXG5leHBvcnQgZnVuY3Rpb24gYUluUmFuZ2UodGl0bGUsIG4sIG1pbiwgbWF4KSB7XG4gICAgLy8gV2h5IG1pbiA8PSBuIDwgbWF4IGFuZCBub3QgYSAobWluIDwgbiA8IG1heCkgT1IgYiAobWluIDw9IG4gPD0gbWF4KT9cbiAgICAvLyBjb25zaWRlciBQPTI1Nm4sIG1pbj0wbiwgbWF4PVBcbiAgICAvLyAtIGEgZm9yIG1pbj0wIHdvdWxkIHJlcXVpcmUgLTE6ICAgICAgICAgIGBpblJhbmdlKCd4JywgeCwgLTFuLCBQKWBcbiAgICAvLyAtIGIgd291bGQgY29tbW9ubHkgcmVxdWlyZSBzdWJ0cmFjdGlvbjogIGBpblJhbmdlKCd4JywgeCwgMG4sIFAgLSAxbilgXG4gICAgLy8gLSBvdXIgd2F5IGlzIHRoZSBjbGVhbmVzdDogICAgICAgICAgICAgICBgaW5SYW5nZSgneCcsIHgsIDBuLCBQKVxuICAgIGlmICghaW5SYW5nZShuLCBtaW4sIG1heCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgdmFsaWQgJyArIHRpdGxlICsgJzogJyArIG1pbiArICcgPD0gbiA8ICcgKyBtYXggKyAnLCBnb3QgJyArIG4pO1xufVxuLy8gQml0IG9wZXJhdGlvbnNcbi8qKlxuICogQ2FsY3VsYXRlcyBhbW91bnQgb2YgYml0cyBpbiBhIGJpZ2ludC5cbiAqIFNhbWUgYXMgYG4udG9TdHJpbmcoMikubGVuZ3RoYFxuICovXG5leHBvcnQgZnVuY3Rpb24gYml0TGVuKG4pIHtcbiAgICBsZXQgbGVuO1xuICAgIGZvciAobGVuID0gMDsgbiA+IF8wbjsgbiA+Pj0gXzFuLCBsZW4gKz0gMSlcbiAgICAgICAgO1xuICAgIHJldHVybiBsZW47XG59XG4vKipcbiAqIEdldHMgc2luZ2xlIGJpdCBhdCBwb3NpdGlvbi5cbiAqIE5PVEU6IGZpcnN0IGJpdCBwb3NpdGlvbiBpcyAwIChzYW1lIGFzIGFycmF5cylcbiAqIFNhbWUgYXMgYCEhK0FycmF5LmZyb20obi50b1N0cmluZygyKSkucmV2ZXJzZSgpW3Bvc11gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaXRHZXQobiwgcG9zKSB7XG4gICAgcmV0dXJuIChuID4+IEJpZ0ludChwb3MpKSAmIF8xbjtcbn1cbi8qKlxuICogU2V0cyBzaW5nbGUgYml0IGF0IHBvc2l0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYml0U2V0KG4sIHBvcywgdmFsdWUpIHtcbiAgICByZXR1cm4gbiB8ICgodmFsdWUgPyBfMW4gOiBfMG4pIDw8IEJpZ0ludChwb3MpKTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIG1hc2sgZm9yIE4gYml0cy4gTm90IHVzaW5nICoqIG9wZXJhdG9yIHdpdGggYmlnaW50cyBiZWNhdXNlIG9mIG9sZCBlbmdpbmVzLlxuICogU2FtZSBhcyBCaWdJbnQoYDBiJHtBcnJheShpKS5maWxsKCcxJykuam9pbignJyl9YClcbiAqL1xuZXhwb3J0IGNvbnN0IGJpdE1hc2sgPSAobikgPT4gKF8ybiA8PCBCaWdJbnQobiAtIDEpKSAtIF8xbjtcbi8vIERSQkdcbmNvbnN0IHU4biA9IChkYXRhKSA9PiBuZXcgVWludDhBcnJheShkYXRhKTsgLy8gY3JlYXRlcyBVaW50OEFycmF5XG5jb25zdCB1OGZyID0gKGFycikgPT4gVWludDhBcnJheS5mcm9tKGFycik7IC8vIGFub3RoZXIgc2hvcnRjdXRcbi8qKlxuICogTWluaW1hbCBITUFDLURSQkcgZnJvbSBOSVNUIDgwMC05MCBmb3IgUkZDNjk3OSBzaWdzLlxuICogQHJldHVybnMgZnVuY3Rpb24gdGhhdCB3aWxsIGNhbGwgRFJCRyB1bnRpbCAybmQgYXJnIHJldHVybnMgc29tZXRoaW5nIG1lYW5pbmdmdWxcbiAqIEBleGFtcGxlXG4gKiAgIGNvbnN0IGRyYmcgPSBjcmVhdGVIbWFjRFJCRzxLZXk+KDMyLCAzMiwgaG1hYyk7XG4gKiAgIGRyYmcoc2VlZCwgYnl0ZXNUb0tleSk7IC8vIGJ5dGVzVG9LZXkgbXVzdCByZXR1cm4gS2V5IG9yIHVuZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSG1hY0RyYmcoaGFzaExlbiwgcUJ5dGVMZW4sIGhtYWNGbikge1xuICAgIGlmICh0eXBlb2YgaGFzaExlbiAhPT0gJ251bWJlcicgfHwgaGFzaExlbiA8IDIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGFzaExlbiBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgaWYgKHR5cGVvZiBxQnl0ZUxlbiAhPT0gJ251bWJlcicgfHwgcUJ5dGVMZW4gPCAyKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3FCeXRlTGVuIG11c3QgYmUgYSBudW1iZXInKTtcbiAgICBpZiAodHlwZW9mIGhtYWNGbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdobWFjRm4gbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgLy8gU3RlcCBCLCBTdGVwIEM6IHNldCBoYXNoTGVuIHRvIDgqY2VpbChobGVuLzgpXG4gICAgbGV0IHYgPSB1OG4oaGFzaExlbik7IC8vIE1pbmltYWwgbm9uLWZ1bGwtc3BlYyBITUFDLURSQkcgZnJvbSBOSVNUIDgwMC05MCBmb3IgUkZDNjk3OSBzaWdzLlxuICAgIGxldCBrID0gdThuKGhhc2hMZW4pOyAvLyBTdGVwcyBCIGFuZCBDIG9mIFJGQzY5NzkgMy4yOiBzZXQgaGFzaExlbiwgaW4gb3VyIGNhc2UgYWx3YXlzIHNhbWVcbiAgICBsZXQgaSA9IDA7IC8vIEl0ZXJhdGlvbnMgY291bnRlciwgd2lsbCB0aHJvdyB3aGVuIG92ZXIgMTAwMFxuICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgICAgICB2LmZpbGwoMSk7XG4gICAgICAgIGsuZmlsbCgwKTtcbiAgICAgICAgaSA9IDA7XG4gICAgfTtcbiAgICBjb25zdCBoID0gKC4uLmIpID0+IGhtYWNGbihrLCB2LCAuLi5iKTsgLy8gaG1hYyhrKSh2LCAuLi52YWx1ZXMpXG4gICAgY29uc3QgcmVzZWVkID0gKHNlZWQgPSB1OG4oKSkgPT4ge1xuICAgICAgICAvLyBITUFDLURSQkcgcmVzZWVkKCkgZnVuY3Rpb24uIFN0ZXBzIEQtR1xuICAgICAgICBrID0gaCh1OGZyKFsweDAwXSksIHNlZWQpOyAvLyBrID0gaG1hYyhrIHx8IHYgfHwgMHgwMCB8fCBzZWVkKVxuICAgICAgICB2ID0gaCgpOyAvLyB2ID0gaG1hYyhrIHx8IHYpXG4gICAgICAgIGlmIChzZWVkLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgayA9IGgodThmcihbMHgwMV0pLCBzZWVkKTsgLy8gayA9IGhtYWMoayB8fCB2IHx8IDB4MDEgfHwgc2VlZClcbiAgICAgICAgdiA9IGgoKTsgLy8gdiA9IGhtYWMoayB8fCB2KVxuICAgIH07XG4gICAgY29uc3QgZ2VuID0gKCkgPT4ge1xuICAgICAgICAvLyBITUFDLURSQkcgZ2VuZXJhdGUoKSBmdW5jdGlvblxuICAgICAgICBpZiAoaSsrID49IDEwMDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RyYmc6IHRyaWVkIDEwMDAgdmFsdWVzJyk7XG4gICAgICAgIGxldCBsZW4gPSAwO1xuICAgICAgICBjb25zdCBvdXQgPSBbXTtcbiAgICAgICAgd2hpbGUgKGxlbiA8IHFCeXRlTGVuKSB7XG4gICAgICAgICAgICB2ID0gaCgpO1xuICAgICAgICAgICAgY29uc3Qgc2wgPSB2LnNsaWNlKCk7XG4gICAgICAgICAgICBvdXQucHVzaChzbCk7XG4gICAgICAgICAgICBsZW4gKz0gdi5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbmNhdEJ5dGVzKC4uLm91dCk7XG4gICAgfTtcbiAgICBjb25zdCBnZW5VbnRpbCA9IChzZWVkLCBwcmVkKSA9PiB7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgICAgIHJlc2VlZChzZWVkKTsgLy8gU3RlcHMgRC1HXG4gICAgICAgIGxldCByZXMgPSB1bmRlZmluZWQ7IC8vIFN0ZXAgSDogZ3JpbmQgdW50aWwgayBpcyBpbiBbMS4ubi0xXVxuICAgICAgICB3aGlsZSAoIShyZXMgPSBwcmVkKGdlbigpKSkpXG4gICAgICAgICAgICByZXNlZWQoKTtcbiAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIHJldHVybiBnZW5VbnRpbDtcbn1cbi8vIFZhbGlkYXRpbmcgY3VydmVzIGFuZCBmaWVsZHNcbmNvbnN0IHZhbGlkYXRvckZucyA9IHtcbiAgICBiaWdpbnQ6ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdiaWdpbnQnLFxuICAgIGZ1bmN0aW9uOiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nLFxuICAgIGJvb2xlYW46ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdib29sZWFuJyxcbiAgICBzdHJpbmc6ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnLFxuICAgIHN0cmluZ09yVWludDhBcnJheTogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgfHwgaXNCeXRlcyh2YWwpLFxuICAgIGlzU2FmZUludGVnZXI6ICh2YWwpID0+IE51bWJlci5pc1NhZmVJbnRlZ2VyKHZhbCksXG4gICAgYXJyYXk6ICh2YWwpID0+IEFycmF5LmlzQXJyYXkodmFsKSxcbiAgICBmaWVsZDogKHZhbCwgb2JqZWN0KSA9PiBvYmplY3QuRnAuaXNWYWxpZCh2YWwpLFxuICAgIGhhc2g6ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicgJiYgTnVtYmVyLmlzU2FmZUludGVnZXIodmFsLm91dHB1dExlbiksXG59O1xuLy8gdHlwZSBSZWNvcmQ8SyBleHRlbmRzIHN0cmluZyB8IG51bWJlciB8IHN5bWJvbCwgVD4gPSB7IFtQIGluIEtdOiBUOyB9XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVPYmplY3Qob2JqZWN0LCB2YWxpZGF0b3JzLCBvcHRWYWxpZGF0b3JzID0ge30pIHtcbiAgICBjb25zdCBjaGVja0ZpZWxkID0gKGZpZWxkTmFtZSwgdHlwZSwgaXNPcHRpb25hbCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja1ZhbCA9IHZhbGlkYXRvckZuc1t0eXBlXTtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGVja1ZhbCAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB2YWxpZGF0b3IgZnVuY3Rpb24nKTtcbiAgICAgICAgY29uc3QgdmFsID0gb2JqZWN0W2ZpZWxkTmFtZV07XG4gICAgICAgIGlmIChpc09wdGlvbmFsICYmIHZhbCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIWNoZWNrVmFsKHZhbCwgb2JqZWN0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXJhbSAnICsgU3RyaW5nKGZpZWxkTmFtZSkgKyAnIGlzIGludmFsaWQuIEV4cGVjdGVkICcgKyB0eXBlICsgJywgZ290ICcgKyB2YWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IFtmaWVsZE5hbWUsIHR5cGVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbGlkYXRvcnMpKVxuICAgICAgICBjaGVja0ZpZWxkKGZpZWxkTmFtZSwgdHlwZSwgZmFsc2UpO1xuICAgIGZvciAoY29uc3QgW2ZpZWxkTmFtZSwgdHlwZV0gb2YgT2JqZWN0LmVudHJpZXMob3B0VmFsaWRhdG9ycykpXG4gICAgICAgIGNoZWNrRmllbGQoZmllbGROYW1lLCB0eXBlLCB0cnVlKTtcbiAgICByZXR1cm4gb2JqZWN0O1xufVxuLy8gdmFsaWRhdGUgdHlwZSB0ZXN0c1xuLy8gY29uc3QgbzogeyBhOiBudW1iZXI7IGI6IG51bWJlcjsgYzogbnVtYmVyIH0gPSB7IGE6IDEsIGI6IDUsIGM6IDYgfTtcbi8vIGNvbnN0IHowID0gdmFsaWRhdGVPYmplY3QobywgeyBhOiAnaXNTYWZlSW50ZWdlcicgfSwgeyBjOiAnYmlnaW50JyB9KTsgLy8gT2shXG4vLyAvLyBTaG91bGQgZmFpbCB0eXBlLWNoZWNrXG4vLyBjb25zdCB6MSA9IHZhbGlkYXRlT2JqZWN0KG8sIHsgYTogJ3RtcCcgfSwgeyBjOiAnenonIH0pO1xuLy8gY29uc3QgejIgPSB2YWxpZGF0ZU9iamVjdChvLCB7IGE6ICdpc1NhZmVJbnRlZ2VyJyB9LCB7IGM6ICd6eicgfSk7XG4vLyBjb25zdCB6MyA9IHZhbGlkYXRlT2JqZWN0KG8sIHsgdGVzdDogJ2Jvb2xlYW4nLCB6OiAnYnVnJyB9KTtcbi8vIGNvbnN0IHo0ID0gdmFsaWRhdGVPYmplY3QobywgeyBhOiAnYm9vbGVhbicsIHo6ICdidWcnIH0pO1xuLyoqXG4gKiB0aHJvd3Mgbm90IGltcGxlbWVudGVkIGVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBub3RJbXBsZW1lbnRlZCA9ICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xufTtcbi8qKlxuICogTWVtb2l6ZXMgKGNhY2hlcykgY29tcHV0YXRpb24gcmVzdWx0LlxuICogVXNlcyBXZWFrTWFwOiB0aGUgdmFsdWUgaXMgZ29pbmcgYXV0by1jbGVhbmVkIGJ5IEdDIGFmdGVyIGxhc3QgcmVmZXJlbmNlIGlzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplZChmbikge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgcmV0dXJuIChhcmcsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgdmFsID0gbWFwLmdldChhcmcpO1xuICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICBjb25zdCBjb21wdXRlZCA9IGZuKGFyZywgLi4uYXJncyk7XG4gICAgICAgIG1hcC5zZXQoYXJnLCBjb21wdXRlZCk7XG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/weierstrass.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/weierstrass.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DER: () => (/* binding */ DER),\n/* harmony export */   DERErr: () => (/* binding */ DERErr),\n/* harmony export */   SWUFpSqrtRatio: () => (/* binding */ SWUFpSqrtRatio),\n/* harmony export */   mapToCurveSimpleSWU: () => (/* binding */ mapToCurveSimpleSWU),\n/* harmony export */   weierstrass: () => (/* binding */ weierstrass),\n/* harmony export */   weierstrassPoints: () => (/* binding */ weierstrassPoints)\n/* harmony export */ });\n/* harmony import */ var _curve_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./curve.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/curve.js\");\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/utils.js\");\n/**\n * Short Weierstrass curve methods. The formula is: y² = x³ + ax + b.\n *\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance\n * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create\n * unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\n\n\nfunction validateSigVerOpts(opts) {\n    if (opts.lowS !== undefined)\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('lowS', opts.lowS);\n    if (opts.prehash !== undefined)\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('prehash', opts.prehash);\n}\nfunction validatePointOpts(curve) {\n    const opts = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.validateBasic)(curve);\n    _utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject(opts, {\n        a: 'field',\n        b: 'field',\n    }, {\n        allowedPrivateKeyLengths: 'array',\n        wrapPrivateKey: 'boolean',\n        isTorsionFree: 'function',\n        clearCofactor: 'function',\n        allowInfinityPoint: 'boolean',\n        fromBytes: 'function',\n        toBytes: 'function',\n    });\n    const { endo, Fp, a } = opts;\n    if (endo) {\n        if (!Fp.eql(a, Fp.ZERO)) {\n            throw new Error('invalid endomorphism, can only be defined for Koblitz curves that have a=0');\n        }\n        if (typeof endo !== 'object' ||\n            typeof endo.beta !== 'bigint' ||\n            typeof endo.splitScalar !== 'function') {\n            throw new Error('invalid endomorphism, expected beta: bigint and splitScalar: function');\n        }\n    }\n    return Object.freeze({ ...opts });\n}\nconst { bytesToNumberBE: b2n, hexToBytes: h2b } = _utils_js__WEBPACK_IMPORTED_MODULE_0__;\nclass DERErr extends Error {\n    constructor(m = '') {\n        super(m);\n    }\n}\n/**\n * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:\n *\n *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]\n *\n * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html\n */\nconst DER = {\n    // asn.1 DER encoding utils\n    Err: DERErr,\n    // Basic building block is TLV (Tag-Length-Value)\n    _tlv: {\n        encode: (tag, data) => {\n            const { Err: E } = DER;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length & 1)\n                throw new E('tlv.encode: unpadded data');\n            const dataLen = data.length / 2;\n            const len = _utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded(dataLen);\n            if ((len.length / 2) & 128)\n                throw new E('tlv.encode: long form length too big');\n            // length of length with long form flag\n            const lenLen = dataLen > 127 ? _utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded((len.length / 2) | 128) : '';\n            const t = _utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded(tag);\n            return t + lenLen + len + data;\n        },\n        // v - value, l - left bytes (unparsed)\n        decode(tag, data) {\n            const { Err: E } = DER;\n            let pos = 0;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length < 2 || data[pos++] !== tag)\n                throw new E('tlv.decode: wrong tlv');\n            const first = data[pos++];\n            const isLong = !!(first & 128); // First bit of first length byte is flag for short/long form\n            let length = 0;\n            if (!isLong)\n                length = first;\n            else {\n                // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]\n                const lenLen = first & 127;\n                if (!lenLen)\n                    throw new E('tlv.decode(long): indefinite length not supported');\n                if (lenLen > 4)\n                    throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js\n                const lengthBytes = data.subarray(pos, pos + lenLen);\n                if (lengthBytes.length !== lenLen)\n                    throw new E('tlv.decode: length bytes not complete');\n                if (lengthBytes[0] === 0)\n                    throw new E('tlv.decode(long): zero leftmost byte');\n                for (const b of lengthBytes)\n                    length = (length << 8) | b;\n                pos += lenLen;\n                if (length < 128)\n                    throw new E('tlv.decode(long): not minimal encoding');\n            }\n            const v = data.subarray(pos, pos + length);\n            if (v.length !== length)\n                throw new E('tlv.decode: wrong value length');\n            return { v, l: data.subarray(pos + length) };\n        },\n    },\n    // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n    // since we always use positive integers here. It must always be empty:\n    // - add zero byte if exists\n    // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n    _int: {\n        encode(num) {\n            const { Err: E } = DER;\n            if (num < _0n)\n                throw new E('integer: negative integers are not allowed');\n            let hex = _utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded(num);\n            // Pad with zero byte if negative flag is present\n            if (Number.parseInt(hex[0], 16) & 0b1000)\n                hex = '00' + hex;\n            if (hex.length & 1)\n                throw new E('unexpected DER parsing assertion: unpadded hex');\n            return hex;\n        },\n        decode(data) {\n            const { Err: E } = DER;\n            if (data[0] & 128)\n                throw new E('invalid signature integer: negative');\n            if (data[0] === 0x00 && !(data[1] & 128))\n                throw new E('invalid signature integer: unnecessary leading zero');\n            return b2n(data);\n        },\n    },\n    toSig(hex) {\n        // parse DER signature\n        const { Err: E, _int: int, _tlv: tlv } = DER;\n        const data = typeof hex === 'string' ? h2b(hex) : hex;\n        _utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes(data);\n        const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);\n        if (seqLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);\n        const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);\n        if (sLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        return { r: int.decode(rBytes), s: int.decode(sBytes) };\n    },\n    hexFromSig(sig) {\n        const { _tlv: tlv, _int: int } = DER;\n        const rs = tlv.encode(0x02, int.encode(sig.r));\n        const ss = tlv.encode(0x02, int.encode(sig.s));\n        const seq = rs + ss;\n        return tlv.encode(0x30, seq);\n    },\n};\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\nfunction weierstrassPoints(opts) {\n    const CURVE = validatePointOpts(opts);\n    const { Fp } = CURVE; // All curves has same field / group length as for now, but they can differ\n    const Fn = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.Field)(CURVE.n, CURVE.nBitLength);\n    const toBytes = CURVE.toBytes ||\n        ((_c, point, _isCompressed) => {\n            const a = point.toAffine();\n            return _utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes(Uint8Array.from([0x04]), Fp.toBytes(a.x), Fp.toBytes(a.y));\n        });\n    const fromBytes = CURVE.fromBytes ||\n        ((bytes) => {\n            // const head = bytes[0];\n            const tail = bytes.subarray(1);\n            // if (head !== 0x04) throw new Error('Only non-compressed encoding is supported');\n            const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n            const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n            return { x, y };\n        });\n    /**\n     * y² = x³ + ax + b: Short weierstrass curve formula\n     * @returns y²\n     */\n    function weierstrassEquation(x) {\n        const { a, b } = CURVE;\n        const x2 = Fp.sqr(x); // x * x\n        const x3 = Fp.mul(x2, x); // x2 * x\n        return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x3 + a * x + b\n    }\n    // Validate whether the passed curve params are valid.\n    // We check if curve equation works for generator point.\n    // `assertValidity()` won't work: `isTorsionFree()` is not available at this point in bls12-381.\n    // ProjectivePoint class has not been initialized yet.\n    if (!Fp.eql(Fp.sqr(CURVE.Gy), weierstrassEquation(CURVE.Gx)))\n        throw new Error('bad generator point: equation left != right');\n    // Valid group elements reside in range 1..n-1\n    function isWithinCurveOrder(num) {\n        return _utils_js__WEBPACK_IMPORTED_MODULE_0__.inRange(num, _1n, CURVE.n);\n    }\n    // Validates if priv key is valid and converts it to bigint.\n    // Supports options allowedPrivateKeyLengths and wrapPrivateKey.\n    function normPrivateKeyToScalar(key) {\n        const { allowedPrivateKeyLengths: lengths, nByteLength, wrapPrivateKey, n: N } = CURVE;\n        if (lengths && typeof key !== 'bigint') {\n            if (_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes(key))\n                key = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex(key);\n            // Normalize to hex string, pad. E.g. P521 would norm 130-132 char hex to 132-char bytes\n            if (typeof key !== 'string' || !lengths.includes(key.length))\n                throw new Error('invalid private key');\n            key = key.padStart(nByteLength * 2, '0');\n        }\n        let num;\n        try {\n            num =\n                typeof key === 'bigint'\n                    ? key\n                    : _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('private key', key, nByteLength));\n        }\n        catch (error) {\n            throw new Error('invalid private key, expected hex or ' + nByteLength + ' bytes, got ' + typeof key);\n        }\n        if (wrapPrivateKey)\n            num = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.mod)(num, N); // disabled by default, enabled for BLS\n        _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('private key', num, _1n, N); // num in range [1..N-1]\n        return num;\n    }\n    function assertPrjPoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('ProjectivePoint expected');\n    }\n    // Memoized toAffine / validity check. They are heavy. Points are immutable.\n    // Converts Projective point to affine (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    // (x, y, z) ∋ (x=x/z, y=y/z)\n    const toAffineMemo = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.memoized)((p, iz) => {\n        const { px: x, py: y, pz: z } = p;\n        // Fast-path for normalized points\n        if (Fp.eql(z, Fp.ONE))\n            return { x, y };\n        const is0 = p.is0();\n        // If invZ was 0, we return zero point. However we still want to execute\n        // all operations, so we replace invZ with a random number, 1.\n        if (iz == null)\n            iz = is0 ? Fp.ONE : Fp.inv(z);\n        const ax = Fp.mul(x, iz);\n        const ay = Fp.mul(y, iz);\n        const zz = Fp.mul(z, iz);\n        if (is0)\n            return { x: Fp.ZERO, y: Fp.ZERO };\n        if (!Fp.eql(zz, Fp.ONE))\n            throw new Error('invZ was invalid');\n        return { x: ax, y: ay };\n    });\n    // NOTE: on exception this will crash 'cached' and no value will be set.\n    // Otherwise true will be return\n    const assertValidMemo = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.memoized)((p) => {\n        if (p.is0()) {\n            // (0, 1, 0) aka ZERO is invalid in most contexts.\n            // In BLS, ZERO can be serialized, so we allow it.\n            // (0, 0, 0) is invalid representation of ZERO.\n            if (CURVE.allowInfinityPoint && !Fp.is0(p.py))\n                return;\n            throw new Error('bad point: ZERO');\n        }\n        // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n        const { x, y } = p.toAffine();\n        // Check if x, y are valid field elements\n        if (!Fp.isValid(x) || !Fp.isValid(y))\n            throw new Error('bad point: x or y not FE');\n        const left = Fp.sqr(y); // y²\n        const right = weierstrassEquation(x); // x³ + ax + b\n        if (!Fp.eql(left, right))\n            throw new Error('bad point: equation left != right');\n        if (!p.isTorsionFree())\n            throw new Error('bad point: not in prime-order subgroup');\n        return true;\n    });\n    /**\n     * Projective Point works in 3d / projective (homogeneous) coordinates: (x, y, z) ∋ (x=x/z, y=y/z)\n     * Default Point works in 2d / affine coordinates: (x, y)\n     * We're doing calculations in projective, because its operations don't require costly inversion.\n     */\n    class Point {\n        constructor(px, py, pz) {\n            this.px = px;\n            this.py = py;\n            this.pz = pz;\n            if (px == null || !Fp.isValid(px))\n                throw new Error('x required');\n            if (py == null || !Fp.isValid(py))\n                throw new Error('y required');\n            if (pz == null || !Fp.isValid(pz))\n                throw new Error('z required');\n            Object.freeze(this);\n        }\n        // Does not validate if the point is on-curve.\n        // Use fromHex instead, or call assertValidity() later.\n        static fromAffine(p) {\n            const { x, y } = p || {};\n            if (!p || !Fp.isValid(x) || !Fp.isValid(y))\n                throw new Error('invalid affine point');\n            if (p instanceof Point)\n                throw new Error('projective point not allowed');\n            const is0 = (i) => Fp.eql(i, Fp.ZERO);\n            // fromAffine(x:0, y:0) would produce (x:0, y:0, z:1), but we need (x:0, y:1, z:0)\n            if (is0(x) && is0(y))\n                return Point.ZERO;\n            return new Point(x, y, Fp.ONE);\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        /**\n         * Takes a bunch of Projective Points but executes only one\n         * inversion on all of them. Inversion is very slow operation,\n         * so this improves performance massively.\n         * Optimization: converts a list of projective points to a list of identical points with Z=1.\n         */\n        static normalizeZ(points) {\n            const toInv = Fp.invertBatch(points.map((p) => p.pz));\n            return points.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n        }\n        /**\n         * Converts hash string or Uint8Array to Point.\n         * @param hex short/long ECDSA hex\n         */\n        static fromHex(hex) {\n            const P = Point.fromAffine(fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('pointHex', hex)));\n            P.assertValidity();\n            return P;\n        }\n        // Multiplies generator point by privateKey.\n        static fromPrivateKey(privateKey) {\n            return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));\n        }\n        // Multiscalar Multiplication\n        static msm(points, scalars) {\n            return (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.pippenger)(Point, Fn, points, scalars);\n        }\n        // \"Private method\", don't use it directly\n        _setWindowSize(windowSize) {\n            wnaf.setWindowSize(this, windowSize);\n        }\n        // A point on curve is valid if it conforms to equation.\n        assertValidity() {\n            assertValidMemo(this);\n        }\n        hasEvenY() {\n            const { y } = this.toAffine();\n            if (Fp.isOdd)\n                return !Fp.isOdd(y);\n            throw new Error(\"Field doesn't support isOdd\");\n        }\n        /**\n         * Compare one point to another.\n         */\n        equals(other) {\n            assertPrjPoint(other);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            const { px: X2, py: Y2, pz: Z2 } = other;\n            const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n            const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n            return U1 && U2;\n        }\n        /**\n         * Flips point to one corresponding to (x, -y) in Affine coordinates.\n         */\n        negate() {\n            return new Point(this.px, Fp.neg(this.py), this.pz);\n        }\n        // Renes-Costello-Batina exception-free doubling formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 3\n        // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n        double() {\n            const { a, b } = CURVE;\n            const b3 = Fp.mul(b, _3n);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            let t0 = Fp.mul(X1, X1); // step 1\n            let t1 = Fp.mul(Y1, Y1);\n            let t2 = Fp.mul(Z1, Z1);\n            let t3 = Fp.mul(X1, Y1);\n            t3 = Fp.add(t3, t3); // step 5\n            Z3 = Fp.mul(X1, Z1);\n            Z3 = Fp.add(Z3, Z3);\n            X3 = Fp.mul(a, Z3);\n            Y3 = Fp.mul(b3, t2);\n            Y3 = Fp.add(X3, Y3); // step 10\n            X3 = Fp.sub(t1, Y3);\n            Y3 = Fp.add(t1, Y3);\n            Y3 = Fp.mul(X3, Y3);\n            X3 = Fp.mul(t3, X3);\n            Z3 = Fp.mul(b3, Z3); // step 15\n            t2 = Fp.mul(a, t2);\n            t3 = Fp.sub(t0, t2);\n            t3 = Fp.mul(a, t3);\n            t3 = Fp.add(t3, Z3);\n            Z3 = Fp.add(t0, t0); // step 20\n            t0 = Fp.add(Z3, t0);\n            t0 = Fp.add(t0, t2);\n            t0 = Fp.mul(t0, t3);\n            Y3 = Fp.add(Y3, t0);\n            t2 = Fp.mul(Y1, Z1); // step 25\n            t2 = Fp.add(t2, t2);\n            t0 = Fp.mul(t2, t3);\n            X3 = Fp.sub(X3, t0);\n            Z3 = Fp.mul(t2, t1);\n            Z3 = Fp.add(Z3, Z3); // step 30\n            Z3 = Fp.add(Z3, Z3);\n            return new Point(X3, Y3, Z3);\n        }\n        // Renes-Costello-Batina exception-free addition formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 1\n        // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n        add(other) {\n            assertPrjPoint(other);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            const { px: X2, py: Y2, pz: Z2 } = other;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            const a = CURVE.a;\n            const b3 = Fp.mul(CURVE.b, _3n);\n            let t0 = Fp.mul(X1, X2); // step 1\n            let t1 = Fp.mul(Y1, Y2);\n            let t2 = Fp.mul(Z1, Z2);\n            let t3 = Fp.add(X1, Y1);\n            let t4 = Fp.add(X2, Y2); // step 5\n            t3 = Fp.mul(t3, t4);\n            t4 = Fp.add(t0, t1);\n            t3 = Fp.sub(t3, t4);\n            t4 = Fp.add(X1, Z1);\n            let t5 = Fp.add(X2, Z2); // step 10\n            t4 = Fp.mul(t4, t5);\n            t5 = Fp.add(t0, t2);\n            t4 = Fp.sub(t4, t5);\n            t5 = Fp.add(Y1, Z1);\n            X3 = Fp.add(Y2, Z2); // step 15\n            t5 = Fp.mul(t5, X3);\n            X3 = Fp.add(t1, t2);\n            t5 = Fp.sub(t5, X3);\n            Z3 = Fp.mul(a, t4);\n            X3 = Fp.mul(b3, t2); // step 20\n            Z3 = Fp.add(X3, Z3);\n            X3 = Fp.sub(t1, Z3);\n            Z3 = Fp.add(t1, Z3);\n            Y3 = Fp.mul(X3, Z3);\n            t1 = Fp.add(t0, t0); // step 25\n            t1 = Fp.add(t1, t0);\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.mul(b3, t4);\n            t1 = Fp.add(t1, t2);\n            t2 = Fp.sub(t0, t2); // step 30\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.add(t4, t2);\n            t0 = Fp.mul(t1, t4);\n            Y3 = Fp.add(Y3, t0);\n            t0 = Fp.mul(t5, t4); // step 35\n            X3 = Fp.mul(t3, X3);\n            X3 = Fp.sub(X3, t0);\n            t0 = Fp.mul(t3, t1);\n            Z3 = Fp.mul(t5, Z3);\n            Z3 = Fp.add(Z3, t0); // step 40\n            return new Point(X3, Y3, Z3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        wNAF(n) {\n            return wnaf.wNAFCached(this, n, Point.normalizeZ);\n        }\n        /**\n         * Non-constant-time multiplication. Uses double-and-add algorithm.\n         * It's faster, but should only be used when you don't care about\n         * an exposed private key e.g. sig verification, which works over *public* keys.\n         */\n        multiplyUnsafe(sc) {\n            const { endo, n: N } = CURVE;\n            _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('scalar', sc, _0n, N);\n            const I = Point.ZERO;\n            if (sc === _0n)\n                return I;\n            if (this.is0() || sc === _1n)\n                return this;\n            // Case a: no endomorphism. Case b: has precomputes.\n            if (!endo || wnaf.hasPrecomputes(this))\n                return wnaf.wNAFCachedUnsafe(this, sc, Point.normalizeZ);\n            // Case c: endomorphism\n            let { k1neg, k1, k2neg, k2 } = endo.splitScalar(sc);\n            let k1p = I;\n            let k2p = I;\n            let d = this;\n            while (k1 > _0n || k2 > _0n) {\n                if (k1 & _1n)\n                    k1p = k1p.add(d);\n                if (k2 & _1n)\n                    k2p = k2p.add(d);\n                d = d.double();\n                k1 >>= _1n;\n                k2 >>= _1n;\n            }\n            if (k1neg)\n                k1p = k1p.negate();\n            if (k2neg)\n                k2p = k2p.negate();\n            k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n            return k1p.add(k2p);\n        }\n        /**\n         * Constant time multiplication.\n         * Uses wNAF method. Windowed method may be 10% faster,\n         * but takes 2x longer to generate and consumes 2x memory.\n         * Uses precomputes when available.\n         * Uses endomorphism for Koblitz curves.\n         * @param scalar by which the point would be multiplied\n         * @returns New point\n         */\n        multiply(scalar) {\n            const { endo, n: N } = CURVE;\n            _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('scalar', scalar, _1n, N);\n            let point, fake; // Fake point is used to const-time mult\n            if (endo) {\n                const { k1neg, k1, k2neg, k2 } = endo.splitScalar(scalar);\n                let { p: k1p, f: f1p } = this.wNAF(k1);\n                let { p: k2p, f: f2p } = this.wNAF(k2);\n                k1p = wnaf.constTimeNegate(k1neg, k1p);\n                k2p = wnaf.constTimeNegate(k2neg, k2p);\n                k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n                point = k1p.add(k2p);\n                fake = f1p.add(f2p);\n            }\n            else {\n                const { p, f } = this.wNAF(scalar);\n                point = p;\n                fake = f;\n            }\n            // Normalize `z` for both points, but return only real one\n            return Point.normalizeZ([point, fake])[0];\n        }\n        /**\n         * Efficiently calculate `aP + bQ`. Unsafe, can expose private key, if used incorrectly.\n         * Not using Strauss-Shamir trick: precomputation tables are faster.\n         * The trick could be useful if both P and Q are not G (not in our case).\n         * @returns non-zero affine point\n         */\n        multiplyAndAddUnsafe(Q, a, b) {\n            const G = Point.BASE; // No Strauss-Shamir trick: we have 10% faster G precomputes\n            const mul = (P, a // Select faster multiply() method\n            ) => (a === _0n || a === _1n || !P.equals(G) ? P.multiplyUnsafe(a) : P.multiply(a));\n            const sum = mul(this, a).add(mul(Q, b));\n            return sum.is0() ? undefined : sum;\n        }\n        // Converts Projective point to affine (x, y) coordinates.\n        // Can accept precomputed Z^-1 - for example, from invertBatch.\n        // (x, y, z) ∋ (x=x/z, y=y/z)\n        toAffine(iz) {\n            return toAffineMemo(this, iz);\n        }\n        isTorsionFree() {\n            const { h: cofactor, isTorsionFree } = CURVE;\n            if (cofactor === _1n)\n                return true; // No subgroups, always torsion-free\n            if (isTorsionFree)\n                return isTorsionFree(Point, this);\n            throw new Error('isTorsionFree() has not been declared for the elliptic curve');\n        }\n        clearCofactor() {\n            const { h: cofactor, clearCofactor } = CURVE;\n            if (cofactor === _1n)\n                return this; // Fast-path\n            if (clearCofactor)\n                return clearCofactor(Point, this);\n            return this.multiplyUnsafe(CURVE.h);\n        }\n        toRawBytes(isCompressed = true) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('isCompressed', isCompressed);\n            this.assertValidity();\n            return toBytes(Point, this, isCompressed);\n        }\n        toHex(isCompressed = true) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('isCompressed', isCompressed);\n            return _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex(this.toRawBytes(isCompressed));\n        }\n    }\n    Point.BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    Point.ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO);\n    const _bits = CURVE.nBitLength;\n    const wnaf = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.wNAF)(Point, CURVE.endo ? Math.ceil(_bits / 2) : _bits);\n    // Validate if generator point is on curve\n    return {\n        CURVE,\n        ProjectivePoint: Point,\n        normPrivateKeyToScalar,\n        weierstrassEquation,\n        isWithinCurveOrder,\n    };\n}\nfunction validateOpts(curve) {\n    const opts = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.validateBasic)(curve);\n    _utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject(opts, {\n        hash: 'hash',\n        hmac: 'function',\n        randomBytes: 'function',\n    }, {\n        bits2int: 'function',\n        bits2int_modN: 'function',\n        lowS: 'boolean',\n    });\n    return Object.freeze({ lowS: true, ...opts });\n}\n/**\n * Creates short weierstrass curve and ECDSA signature methods for it.\n * @example\n * import { Field } from '@noble/curves/abstract/modular';\n * // Before that, define BigInt-s: a, b, p, n, Gx, Gy\n * const curve = weierstrass({ a, b, Fp: Field(p), n, Gx, Gy, h: 1n })\n */\nfunction weierstrass(curveDef) {\n    const CURVE = validateOpts(curveDef);\n    const { Fp, n: CURVE_ORDER } = CURVE;\n    const compressedLen = Fp.BYTES + 1; // e.g. 33 for 32\n    const uncompressedLen = 2 * Fp.BYTES + 1; // e.g. 65 for 32\n    function modN(a) {\n        return (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.mod)(a, CURVE_ORDER);\n    }\n    function invN(a) {\n        return (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.invert)(a, CURVE_ORDER);\n    }\n    const { ProjectivePoint: Point, normPrivateKeyToScalar, weierstrassEquation, isWithinCurveOrder, } = weierstrassPoints({\n        ...CURVE,\n        toBytes(_c, point, isCompressed) {\n            const a = point.toAffine();\n            const x = Fp.toBytes(a.x);\n            const cat = _utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes;\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('isCompressed', isCompressed);\n            if (isCompressed) {\n                return cat(Uint8Array.from([point.hasEvenY() ? 0x02 : 0x03]), x);\n            }\n            else {\n                return cat(Uint8Array.from([0x04]), x, Fp.toBytes(a.y));\n            }\n        },\n        fromBytes(bytes) {\n            const len = bytes.length;\n            const head = bytes[0];\n            const tail = bytes.subarray(1);\n            // this.assertValidity() is done inside of fromHex\n            if (len === compressedLen && (head === 0x02 || head === 0x03)) {\n                const x = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE(tail);\n                if (!_utils_js__WEBPACK_IMPORTED_MODULE_0__.inRange(x, _1n, Fp.ORDER))\n                    throw new Error('Point is not on curve');\n                const y2 = weierstrassEquation(x); // y² = x³ + ax + b\n                let y;\n                try {\n                    y = Fp.sqrt(y2); // y = y² ^ (p+1)/4\n                }\n                catch (sqrtError) {\n                    const suffix = sqrtError instanceof Error ? ': ' + sqrtError.message : '';\n                    throw new Error('Point is not on curve' + suffix);\n                }\n                const isYOdd = (y & _1n) === _1n;\n                // ECDSA\n                const isHeadOdd = (head & 1) === 1;\n                if (isHeadOdd !== isYOdd)\n                    y = Fp.neg(y);\n                return { x, y };\n            }\n            else if (len === uncompressedLen && head === 0x04) {\n                const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n                const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n                return { x, y };\n            }\n            else {\n                const cl = compressedLen;\n                const ul = uncompressedLen;\n                throw new Error('invalid Point, expected length of ' + cl + ', or uncompressed ' + ul + ', got ' + len);\n            }\n        },\n    });\n    const numToNByteStr = (num) => _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex(_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE(num, CURVE.nByteLength));\n    function isBiggerThanHalfOrder(number) {\n        const HALF = CURVE_ORDER >> _1n;\n        return number > HALF;\n    }\n    function normalizeS(s) {\n        return isBiggerThanHalfOrder(s) ? modN(-s) : s;\n    }\n    // slice bytes num\n    const slcNum = (b, from, to) => _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE(b.slice(from, to));\n    /**\n     * ECDSA signature with its (r, s) properties. Supports DER & compact representations.\n     */\n    class Signature {\n        constructor(r, s, recovery) {\n            this.r = r;\n            this.s = s;\n            this.recovery = recovery;\n            this.assertValidity();\n        }\n        // pair (bytes of r, bytes of s)\n        static fromCompact(hex) {\n            const l = CURVE.nByteLength;\n            hex = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('compactSignature', hex, l * 2);\n            return new Signature(slcNum(hex, 0, l), slcNum(hex, l, 2 * l));\n        }\n        // DER encoded ECDSA signature\n        // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script\n        static fromDER(hex) {\n            const { r, s } = DER.toSig((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('DER', hex));\n            return new Signature(r, s);\n        }\n        assertValidity() {\n            _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('r', this.r, _1n, CURVE_ORDER); // r in [1..N]\n            _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('s', this.s, _1n, CURVE_ORDER); // s in [1..N]\n        }\n        addRecoveryBit(recovery) {\n            return new Signature(this.r, this.s, recovery);\n        }\n        recoverPublicKey(msgHash) {\n            const { r, s, recovery: rec } = this;\n            const h = bits2int_modN((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('msgHash', msgHash)); // Truncate hash\n            if (rec == null || ![0, 1, 2, 3].includes(rec))\n                throw new Error('recovery id invalid');\n            const radj = rec === 2 || rec === 3 ? r + CURVE.n : r;\n            if (radj >= Fp.ORDER)\n                throw new Error('recovery id 2 or 3 invalid');\n            const prefix = (rec & 1) === 0 ? '02' : '03';\n            const R = Point.fromHex(prefix + numToNByteStr(radj));\n            const ir = invN(radj); // r^-1\n            const u1 = modN(-h * ir); // -hr^-1\n            const u2 = modN(s * ir); // sr^-1\n            const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2); // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1)\n            if (!Q)\n                throw new Error('point at infinify'); // unsafe is fine: no priv data leaked\n            Q.assertValidity();\n            return Q;\n        }\n        // Signatures should be low-s, to prevent malleability.\n        hasHighS() {\n            return isBiggerThanHalfOrder(this.s);\n        }\n        normalizeS() {\n            return this.hasHighS() ? new Signature(this.r, modN(-this.s), this.recovery) : this;\n        }\n        // DER-encoded\n        toDERRawBytes() {\n            return _utils_js__WEBPACK_IMPORTED_MODULE_0__.hexToBytes(this.toDERHex());\n        }\n        toDERHex() {\n            return DER.hexFromSig({ r: this.r, s: this.s });\n        }\n        // padded bytes of r, then padded bytes of s\n        toCompactRawBytes() {\n            return _utils_js__WEBPACK_IMPORTED_MODULE_0__.hexToBytes(this.toCompactHex());\n        }\n        toCompactHex() {\n            return numToNByteStr(this.r) + numToNByteStr(this.s);\n        }\n    }\n    const utils = {\n        isValidPrivateKey(privateKey) {\n            try {\n                normPrivateKeyToScalar(privateKey);\n                return true;\n            }\n            catch (error) {\n                return false;\n            }\n        },\n        normPrivateKeyToScalar: normPrivateKeyToScalar,\n        /**\n         * Produces cryptographically secure private key from random of size\n         * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n         */\n        randomPrivateKey: () => {\n            const length = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.getMinHashLength)(CURVE.n);\n            return (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.mapHashToField)(CURVE.randomBytes(length), CURVE.n);\n        },\n        /**\n         * Creates precompute table for an arbitrary EC point. Makes point \"cached\".\n         * Allows to massively speed-up `point.multiply(scalar)`.\n         * @returns cached point\n         * @example\n         * const fast = utils.precompute(8, ProjectivePoint.fromHex(someonesPubKey));\n         * fast.multiply(privKey); // much faster ECDH now\n         */\n        precompute(windowSize = 8, point = Point.BASE) {\n            point._setWindowSize(windowSize);\n            point.multiply(BigInt(3)); // 3 is arbitrary, just need any number here\n            return point;\n        },\n    };\n    /**\n     * Computes public key for a private key. Checks for validity of the private key.\n     * @param privateKey private key\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns Public key, full when isCompressed=false; short when isCompressed=true\n     */\n    function getPublicKey(privateKey, isCompressed = true) {\n        return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n    }\n    /**\n     * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n     */\n    function isProbPub(item) {\n        const arr = _utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes(item);\n        const str = typeof item === 'string';\n        const len = (arr || str) && item.length;\n        if (arr)\n            return len === compressedLen || len === uncompressedLen;\n        if (str)\n            return len === 2 * compressedLen || len === 2 * uncompressedLen;\n        if (item instanceof Point)\n            return true;\n        return false;\n    }\n    /**\n     * ECDH (Elliptic Curve Diffie Hellman).\n     * Computes shared public key from private key and public key.\n     * Checks: 1) private key validity 2) shared key is on-curve.\n     * Does NOT hash the result.\n     * @param privateA private key\n     * @param publicB different public key\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns shared public key\n     */\n    function getSharedSecret(privateA, publicB, isCompressed = true) {\n        if (isProbPub(privateA))\n            throw new Error('first arg must be private key');\n        if (!isProbPub(publicB))\n            throw new Error('second arg must be public key');\n        const b = Point.fromHex(publicB); // check for being on-curve\n        return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed);\n    }\n    // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n    // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n    // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n    // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n    const bits2int = CURVE.bits2int ||\n        function (bytes) {\n            // Our custom check \"just in case\"\n            if (bytes.length > 8192)\n                throw new Error('input is too large');\n            // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n            // for some cases, since bytes.length * 8 is not actual bitLength.\n            const num = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE(bytes); // check for == u8 done here\n            const delta = bytes.length * 8 - CURVE.nBitLength; // truncate to nBitLength leftmost bits\n            return delta > 0 ? num >> BigInt(delta) : num;\n        };\n    const bits2int_modN = CURVE.bits2int_modN ||\n        function (bytes) {\n            return modN(bits2int(bytes)); // can't use bytesToNumberBE here\n        };\n    // NOTE: pads output with zero as per spec\n    const ORDER_MASK = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask(CURVE.nBitLength);\n    /**\n     * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.\n     */\n    function int2octets(num) {\n        _utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange('num < 2^' + CURVE.nBitLength, num, _0n, ORDER_MASK);\n        // works with order, can have different size than numToField!\n        return _utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE(num, CURVE.nByteLength);\n    }\n    // Steps A, D of RFC6979 3.2\n    // Creates RFC6979 seed; converts msg/privKey to numbers.\n    // Used only in sign, not in verify.\n    // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order,\n    // this will be invalid at least for P521. Also it can be bigger for P224 + SHA256\n    function prepSig(msgHash, privateKey, opts = defaultSigOpts) {\n        if (['recovered', 'canonical'].some((k) => k in opts))\n            throw new Error('sign() legacy options not supported');\n        const { hash, randomBytes } = CURVE;\n        let { lowS, prehash, extraEntropy: ent } = opts; // generates low-s sigs by default\n        if (lowS == null)\n            lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash\n        msgHash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('msgHash', msgHash);\n        validateSigVerOpts(opts);\n        if (prehash)\n            msgHash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('prehashed msgHash', hash(msgHash));\n        // We can't later call bits2octets, since nested bits2int is broken for curves\n        // with nBitLength % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n        // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n        const h1int = bits2int_modN(msgHash);\n        const d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint\n        const seedArgs = [int2octets(d), int2octets(h1int)];\n        // extraEntropy. RFC6979 3.6: additional k' (optional).\n        if (ent != null && ent !== false) {\n            // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n            const e = ent === true ? randomBytes(Fp.BYTES) : ent; // generate random bytes OR pass as-is\n            seedArgs.push((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('extraEntropy', e)); // check for being bytes\n        }\n        const seed = _utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes(...seedArgs); // Step D of RFC6979 3.2\n        const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n        // Converts signature params into point w r/s, checks result for validity.\n        function k2sig(kBytes) {\n            // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n            const k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n            if (!isWithinCurveOrder(k))\n                return; // Important: all mod() calls here must be done over N\n            const ik = invN(k); // k^-1 mod n\n            const q = Point.BASE.multiply(k).toAffine(); // q = Gk\n            const r = modN(q.x); // r = q.x mod n\n            if (r === _0n)\n                return;\n            // Can use scalar blinding b^-1(bm + bdr) where b ∈ [1,q−1] according to\n            // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n            // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n            const s = modN(ik * modN(m + r * d)); // Not using blinding here\n            if (s === _0n)\n                return;\n            let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n            let normS = s;\n            if (lowS && isBiggerThanHalfOrder(s)) {\n                normS = normalizeS(s); // if lowS was passed, ensure s is always\n                recovery ^= 1; // // in the bottom half of N\n            }\n            return new Signature(r, normS, recovery); // use normS, not s\n        }\n        return { seed, k2sig };\n    }\n    const defaultSigOpts = { lowS: CURVE.lowS, prehash: false };\n    const defaultVerOpts = { lowS: CURVE.lowS, prehash: false };\n    /**\n     * Signs message hash with a private key.\n     * ```\n     * sign(m, d, k) where\n     *   (x, y) = G × k\n     *   r = x mod n\n     *   s = (m + dr)/k mod n\n     * ```\n     * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.\n     * @param privKey private key\n     * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.\n     * @returns signature with recovery param\n     */\n    function sign(msgHash, privKey, opts = defaultSigOpts) {\n        const { seed, k2sig } = prepSig(msgHash, privKey, opts); // Steps A, D of RFC6979 3.2.\n        const C = CURVE;\n        const drbg = _utils_js__WEBPACK_IMPORTED_MODULE_0__.createHmacDrbg(C.hash.outputLen, C.nByteLength, C.hmac);\n        return drbg(seed, k2sig); // Steps B, C, D, E, F, G\n    }\n    // Enable precomputes. Slows down first publicKey computation by 20ms.\n    Point.BASE._setWindowSize(8);\n    // utils.precompute(8, ProjectivePoint.BASE)\n    /**\n     * Verifies a signature against message hash and public key.\n     * Rejects lowS signatures by default: to override,\n     * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n     *\n     * ```\n     * verify(r, s, h, P) where\n     *   U1 = hs^-1 mod n\n     *   U2 = rs^-1 mod n\n     *   R = U1⋅G - U2⋅P\n     *   mod(R.x, n) == r\n     * ```\n     */\n    function verify(signature, msgHash, publicKey, opts = defaultVerOpts) {\n        const sg = signature;\n        msgHash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('msgHash', msgHash);\n        publicKey = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('publicKey', publicKey);\n        const { lowS, prehash, format } = opts;\n        // Verify opts, deduce signature format\n        validateSigVerOpts(opts);\n        if ('strict' in opts)\n            throw new Error('options.strict was renamed to lowS');\n        if (format !== undefined && format !== 'compact' && format !== 'der')\n            throw new Error('format must be compact or der');\n        const isHex = typeof sg === 'string' || _utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes(sg);\n        const isObj = !isHex &&\n            !format &&\n            typeof sg === 'object' &&\n            sg !== null &&\n            typeof sg.r === 'bigint' &&\n            typeof sg.s === 'bigint';\n        if (!isHex && !isObj)\n            throw new Error('invalid signature, expected Uint8Array, hex string or Signature instance');\n        let _sig = undefined;\n        let P;\n        try {\n            if (isObj)\n                _sig = new Signature(sg.r, sg.s);\n            if (isHex) {\n                // Signature can be represented in 2 ways: compact (2*nByteLength) & DER (variable-length).\n                // Since DER can also be 2*nByteLength bytes, we check for it first.\n                try {\n                    if (format !== 'compact')\n                        _sig = Signature.fromDER(sg);\n                }\n                catch (derError) {\n                    if (!(derError instanceof DER.Err))\n                        throw derError;\n                }\n                if (!_sig && format !== 'der')\n                    _sig = Signature.fromCompact(sg);\n            }\n            P = Point.fromHex(publicKey);\n        }\n        catch (error) {\n            return false;\n        }\n        if (!_sig)\n            return false;\n        if (lowS && _sig.hasHighS())\n            return false;\n        if (prehash)\n            msgHash = CURVE.hash(msgHash);\n        const { r, s } = _sig;\n        const h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element\n        const is = invN(s); // s^-1\n        const u1 = modN(h * is); // u1 = hs^-1 mod n\n        const u2 = modN(r * is); // u2 = rs^-1 mod n\n        const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2)?.toAffine(); // R = u1⋅G + u2⋅P\n        if (!R)\n            return false;\n        const v = modN(R.x);\n        return v === r;\n    }\n    return {\n        CURVE,\n        getPublicKey,\n        getSharedSecret,\n        sign,\n        verify,\n        ProjectivePoint: Point,\n        Signature,\n        utils,\n    };\n}\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nfunction SWUFpSqrtRatio(Fp, Z) {\n    // Generic implementation\n    const q = Fp.ORDER;\n    let l = _0n;\n    for (let o = q - _1n; o % _2n === _0n; o /= _2n)\n        l += _1n;\n    const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n    // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n    // 2n ** c1 == 2n << (c1-1)\n    const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n    const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n    const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n    const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n    const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n    const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n    const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n    const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n    let sqrtRatio = (u, v) => {\n        let tv1 = c6; // 1. tv1 = c6\n        let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n        let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n        tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n        let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n        tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n        tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n        tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n        tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n        let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n        tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n        let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n        tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n        tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n        tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n        tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n        // 17. for i in (c1, c1 - 1, ..., 2):\n        for (let i = c1; i > _1n; i--) {\n            let tv5 = i - _2n; // 18.    tv5 = i - 2\n            tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n            let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n            const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n            tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n            tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n            tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n            tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n            tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n        }\n        return { isValid: isQR, value: tv3 };\n    };\n    if (Fp.ORDER % _4n === _3n) {\n        // sqrt_ratio_3mod4(u, v)\n        const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n        const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n        sqrtRatio = (u, v) => {\n            let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n            const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n            tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n            let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n            y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n            const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n            const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n            const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n            let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n            return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n        };\n    }\n    // No curves uses that\n    // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n    return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nfunction mapToCurveSimpleSWU(Fp, opts) {\n    (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.validateField)(Fp);\n    if (!Fp.isValid(opts.A) || !Fp.isValid(opts.B) || !Fp.isValid(opts.Z))\n        throw new Error('mapToCurveSimpleSWU: invalid opts');\n    const sqrtRatio = SWUFpSqrtRatio(Fp, opts.Z);\n    if (!Fp.isOdd)\n        throw new Error('Fp.isOdd is not implemented!');\n    // Input: u, an element of F.\n    // Output: (x, y), a point on E.\n    return (u) => {\n        // prettier-ignore\n        let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n        tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n        tv1 = Fp.mul(tv1, opts.Z); // 2.  tv1 = Z * tv1\n        tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n        tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n        tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n        tv3 = Fp.mul(tv3, opts.B); // 6.  tv3 = B * tv3\n        tv4 = Fp.cmov(opts.Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n        tv4 = Fp.mul(tv4, opts.A); // 8.  tv4 = A * tv4\n        tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n        tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n        tv5 = Fp.mul(tv6, opts.A); // 11. tv5 = A * tv6\n        tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n        tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n        tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n        tv5 = Fp.mul(tv6, opts.B); // 15. tv5 = B * tv6\n        tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n        x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n        const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n        y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n        y = Fp.mul(y, value); // 20.   y = y * y1\n        x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n        y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n        const e1 = Fp.isOdd(u) === Fp.isOdd(y); // 23.  e1 = sgn0(u) == sgn0(y)\n        y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n        x = Fp.div(x, tv4); // 25.   x = x / tv4\n        return { x, y };\n    };\n}\n//# sourceMappingURL=weierstrass.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L3dlaWVyc3RyYXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM2RDtBQUN1QztBQUNuRTtBQUN5QjtBQUMxRDtBQUNBO0FBQ0EsUUFBUSxnREFBSztBQUNiO0FBQ0EsUUFBUSxnREFBSztBQUNiO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQWE7QUFDOUIsSUFBSSxxREFBaUI7QUFDckI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsU0FBUztBQUNwQztBQUNBLFFBQVEsd0NBQXdDLEVBQUUsc0NBQUU7QUFDN0M7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwwREFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDBEQUFzQjtBQUNqRSxzQkFBc0IsMERBQXNCO0FBQzVDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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InNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvQG5vYmxlL2N1cnZlcy9lc20vYWJzdHJhY3Qvd2VpZXJzdHJhc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTaG9ydCBXZWllcnN0cmFzcyBjdXJ2ZSBtZXRob2RzLiBUaGUgZm9ybXVsYSBpczogecKyID0geMKzICsgYXggKyBiLlxuICpcbiAqICMjIyBEZXNpZ24gcmF0aW9uYWxlIGZvciB0eXBlc1xuICpcbiAqICogSW50ZXJhY3Rpb24gYmV0d2VlbiBjbGFzc2VzIGZyb20gZGlmZmVyZW50IGN1cnZlcyBzaG91bGQgZmFpbDpcbiAqICAgYGsyNTYuUG9pbnQuQkFTRS5hZGQocDI1Ni5Qb2ludC5CQVNFKWBcbiAqICogRm9yIHRoaXMgcHVycG9zZSB3ZSB3YW50IHRvIHVzZSBgaW5zdGFuY2VvZmAgb3BlcmF0b3IsIHdoaWNoIGlzIGZhc3QgYW5kIHdvcmtzIGR1cmluZyBydW50aW1lXG4gKiAqIERpZmZlcmVudCBjYWxscyBvZiBgY3VydmUoKWAgd291bGQgcmV0dXJuIGRpZmZlcmVudCBjbGFzc2VzIC1cbiAqICAgYGN1cnZlKHBhcmFtcykgIT09IGN1cnZlKHBhcmFtcylgOiBpZiBzb21lYm9keSBkZWNpZGVkIHRvIG1vbmtleS1wYXRjaCB0aGVpciBjdXJ2ZSxcbiAqICAgaXQgd29uJ3QgYWZmZWN0IG90aGVyc1xuICpcbiAqIFR5cGVTY3JpcHQgY2FuJ3QgaW5mZXIgdHlwZXMgZm9yIGNsYXNzZXMgY3JlYXRlZCBpbnNpZGUgYSBmdW5jdGlvbi4gQ2xhc3NlcyBpcyBvbmUgaW5zdGFuY2VcbiAqIG9mIG5vbWluYXRpdmUgdHlwZXMgaW4gVHlwZVNjcmlwdCBhbmQgaW50ZXJmYWNlcyBvbmx5IGNoZWNrIGZvciBzaGFwZSwgc28gaXQncyBoYXJkIHRvIGNyZWF0ZVxuICogdW5pcXVlIHR5cGUgZm9yIGV2ZXJ5IGZ1bmN0aW9uIGNhbGwuXG4gKlxuICogV2UgY2FuIHVzZSBnZW5lcmljIHR5cGVzIHZpYSBzb21lIHBhcmFtLCBsaWtlIGN1cnZlIG9wdHMsIGJ1dCB0aGF0IHdvdWxkOlxuICogICAgIDEuIEVuYWJsZSBpbnRlcmFjdGlvbiBiZXR3ZWVuIGBjdXJ2ZShwYXJhbXMpYCBhbmQgYGN1cnZlKHBhcmFtcylgIChjdXJ2ZXMgb2Ygc2FtZSBwYXJhbXMpXG4gKiAgICAgd2hpY2ggaXMgaGFyZCB0byBkZWJ1Zy5cbiAqICAgICAyLiBQYXJhbXMgY2FuIGJlIGdlbmVyaWMgYW5kIHdlIGNhbid0IGVuZm9yY2UgdGhlbSB0byBiZSBjb25zdGFudCB2YWx1ZTpcbiAqICAgICBpZiBzb21lYm9keSBjcmVhdGVzIGN1cnZlIGZyb20gbm9uLWNvbnN0YW50IHBhcmFtcyxcbiAqICAgICBpdCB3b3VsZCBiZSBhbGxvd2VkIHRvIGludGVyYWN0IHdpdGggb3RoZXIgY3VydmVzIHdpdGggbm9uLWNvbnN0YW50IHBhcmFtc1xuICpcbiAqIEB0b2RvIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL3JlbGVhc2Utbm90ZXMvdHlwZXNjcmlwdC0yLTcuaHRtbCN1bmlxdWUtc3ltYm9sXG4gKiBAbW9kdWxlXG4gKi9cbi8qISBub2JsZS1jdXJ2ZXMgLSBNSVQgTGljZW5zZSAoYykgMjAyMiBQYXVsIE1pbGxlciAocGF1bG1pbGxyLmNvbSkgKi9cbmltcG9ydCB7IHBpcHBlbmdlciwgdmFsaWRhdGVCYXNpYywgd05BRiwgfSBmcm9tICcuL2N1cnZlLmpzJztcbmltcG9ydCB7IEZpZWxkLCBnZXRNaW5IYXNoTGVuZ3RoLCBpbnZlcnQsIG1hcEhhc2hUb0ZpZWxkLCBtb2QsIHZhbGlkYXRlRmllbGQsIH0gZnJvbSAnLi9tb2R1bGFyLmpzJztcbmltcG9ydCAqIGFzIHV0IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgYWJvb2wsIGVuc3VyZUJ5dGVzLCBtZW1vaXplZCB9IGZyb20gJy4vdXRpbHMuanMnO1xuZnVuY3Rpb24gdmFsaWRhdGVTaWdWZXJPcHRzKG9wdHMpIHtcbiAgICBpZiAob3B0cy5sb3dTICE9PSB1bmRlZmluZWQpXG4gICAgICAgIGFib29sKCdsb3dTJywgb3B0cy5sb3dTKTtcbiAgICBpZiAob3B0cy5wcmVoYXNoICE9PSB1bmRlZmluZWQpXG4gICAgICAgIGFib29sKCdwcmVoYXNoJywgb3B0cy5wcmVoYXNoKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUG9pbnRPcHRzKGN1cnZlKSB7XG4gICAgY29uc3Qgb3B0cyA9IHZhbGlkYXRlQmFzaWMoY3VydmUpO1xuICAgIHV0LnZhbGlkYXRlT2JqZWN0KG9wdHMsIHtcbiAgICAgICAgYTogJ2ZpZWxkJyxcbiAgICAgICAgYjogJ2ZpZWxkJyxcbiAgICB9LCB7XG4gICAgICAgIGFsbG93ZWRQcml2YXRlS2V5TGVuZ3RoczogJ2FycmF5JyxcbiAgICAgICAgd3JhcFByaXZhdGVLZXk6ICdib29sZWFuJyxcbiAgICAgICAgaXNUb3JzaW9uRnJlZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgY2xlYXJDb2ZhY3RvcjogJ2Z1bmN0aW9uJyxcbiAgICAgICAgYWxsb3dJbmZpbml0eVBvaW50OiAnYm9vbGVhbicsXG4gICAgICAgIGZyb21CeXRlczogJ2Z1bmN0aW9uJyxcbiAgICAgICAgdG9CeXRlczogJ2Z1bmN0aW9uJyxcbiAgICB9KTtcbiAgICBjb25zdCB7IGVuZG8sIEZwLCBhIH0gPSBvcHRzO1xuICAgIGlmIChlbmRvKSB7XG4gICAgICAgIGlmICghRnAuZXFsKGEsIEZwLlpFUk8pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZW5kb21vcnBoaXNtLCBjYW4gb25seSBiZSBkZWZpbmVkIGZvciBLb2JsaXR6IGN1cnZlcyB0aGF0IGhhdmUgYT0wJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBlbmRvICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICAgICAgdHlwZW9mIGVuZG8uYmV0YSAhPT0gJ2JpZ2ludCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiBlbmRvLnNwbGl0U2NhbGFyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZW5kb21vcnBoaXNtLCBleHBlY3RlZCBiZXRhOiBiaWdpbnQgYW5kIHNwbGl0U2NhbGFyOiBmdW5jdGlvbicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHsgLi4ub3B0cyB9KTtcbn1cbmNvbnN0IHsgYnl0ZXNUb051bWJlckJFOiBiMm4sIGhleFRvQnl0ZXM6IGgyYiB9ID0gdXQ7XG5leHBvcnQgY2xhc3MgREVSRXJyIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG0gPSAnJykge1xuICAgICAgICBzdXBlcihtKTtcbiAgICB9XG59XG4vKipcbiAqIEFTTi4xIERFUiBlbmNvZGluZyB1dGlsaXRpZXMuIEFTTiBpcyB2ZXJ5IGNvbXBsZXggJiBmcmFnaWxlLiBGb3JtYXQ6XG4gKlxuICogICAgIFsweDMwIChTRVFVRU5DRSksIGJ5dGVsZW5ndGgsIDB4MDIgKElOVEVHRVIpLCBpbnRMZW5ndGgsIFIsIDB4MDIgKElOVEVHRVIpLCBpbnRMZW5ndGgsIFNdXG4gKlxuICogRG9jczogaHR0cHM6Ly9sZXRzZW5jcnlwdC5vcmcvZG9jcy9hLXdhcm0td2VsY29tZS10by1hc24xLWFuZC1kZXIvLCBodHRwczovL2x1Y2EubnRvcC5vcmcvVGVhY2hpbmcvQXBwdW50aS9hc24xLmh0bWxcbiAqL1xuZXhwb3J0IGNvbnN0IERFUiA9IHtcbiAgICAvLyBhc24uMSBERVIgZW5jb2RpbmcgdXRpbHNcbiAgICBFcnI6IERFUkVycixcbiAgICAvLyBCYXNpYyBidWlsZGluZyBibG9jayBpcyBUTFYgKFRhZy1MZW5ndGgtVmFsdWUpXG4gICAgX3Rsdjoge1xuICAgICAgICBlbmNvZGU6ICh0YWcsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgRXJyOiBFIH0gPSBERVI7XG4gICAgICAgICAgICBpZiAodGFnIDwgMCB8fCB0YWcgPiAyNTYpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5lbmNvZGU6IHdyb25nIHRhZycpO1xuICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoICYgMSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmVuY29kZTogdW5wYWRkZWQgZGF0YScpO1xuICAgICAgICAgICAgY29uc3QgZGF0YUxlbiA9IGRhdGEubGVuZ3RoIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IHV0Lm51bWJlclRvSGV4VW5wYWRkZWQoZGF0YUxlbik7XG4gICAgICAgICAgICBpZiAoKGxlbi5sZW5ndGggLyAyKSAmIDEyOClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmVuY29kZTogbG9uZyBmb3JtIGxlbmd0aCB0b28gYmlnJyk7XG4gICAgICAgICAgICAvLyBsZW5ndGggb2YgbGVuZ3RoIHdpdGggbG9uZyBmb3JtIGZsYWdcbiAgICAgICAgICAgIGNvbnN0IGxlbkxlbiA9IGRhdGFMZW4gPiAxMjcgPyB1dC5udW1iZXJUb0hleFVucGFkZGVkKChsZW4ubGVuZ3RoIC8gMikgfCAxMjgpIDogJyc7XG4gICAgICAgICAgICBjb25zdCB0ID0gdXQubnVtYmVyVG9IZXhVbnBhZGRlZCh0YWcpO1xuICAgICAgICAgICAgcmV0dXJuIHQgKyBsZW5MZW4gKyBsZW4gKyBkYXRhO1xuICAgICAgICB9LFxuICAgICAgICAvLyB2IC0gdmFsdWUsIGwgLSBsZWZ0IGJ5dGVzICh1bnBhcnNlZClcbiAgICAgICAgZGVjb2RlKHRhZywgZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgeyBFcnI6IEUgfSA9IERFUjtcbiAgICAgICAgICAgIGxldCBwb3MgPSAwO1xuICAgICAgICAgICAgaWYgKHRhZyA8IDAgfHwgdGFnID4gMjU2KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZW5jb2RlOiB3cm9uZyB0YWcnKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA8IDIgfHwgZGF0YVtwb3MrK10gIT09IHRhZylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmRlY29kZTogd3JvbmcgdGx2Jyk7XG4gICAgICAgICAgICBjb25zdCBmaXJzdCA9IGRhdGFbcG9zKytdO1xuICAgICAgICAgICAgY29uc3QgaXNMb25nID0gISEoZmlyc3QgJiAxMjgpOyAvLyBGaXJzdCBiaXQgb2YgZmlyc3QgbGVuZ3RoIGJ5dGUgaXMgZmxhZyBmb3Igc2hvcnQvbG9uZyBmb3JtXG4gICAgICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGlmICghaXNMb25nKVxuICAgICAgICAgICAgICAgIGxlbmd0aCA9IGZpcnN0O1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTG9uZyBmb3JtOiBbbG9uZ0ZsYWcoMWJpdCksIGxlbmd0aExlbmd0aCg3Yml0KSwgbGVuZ3RoIChCRSldXG4gICAgICAgICAgICAgICAgY29uc3QgbGVuTGVuID0gZmlyc3QgJiAxMjc7XG4gICAgICAgICAgICAgICAgaWYgKCFsZW5MZW4pXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZGVjb2RlKGxvbmcpOiBpbmRlZmluaXRlIGxlbmd0aCBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgICAgICAgaWYgKGxlbkxlbiA+IDQpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZGVjb2RlKGxvbmcpOiBieXRlIGxlbmd0aCBpcyB0b28gYmlnJyk7IC8vIHRoaXMgd2lsbCBvdmVyZmxvdyB1MzIgaW4ganNcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGhCeXRlcyA9IGRhdGEuc3ViYXJyYXkocG9zLCBwb3MgKyBsZW5MZW4pO1xuICAgICAgICAgICAgICAgIGlmIChsZW5ndGhCeXRlcy5sZW5ndGggIT09IGxlbkxlbilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5kZWNvZGU6IGxlbmd0aCBieXRlcyBub3QgY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoQnl0ZXNbMF0gPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZGVjb2RlKGxvbmcpOiB6ZXJvIGxlZnRtb3N0IGJ5dGUnKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGIgb2YgbGVuZ3RoQnl0ZXMpXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IChsZW5ndGggPDwgOCkgfCBiO1xuICAgICAgICAgICAgICAgIHBvcyArPSBsZW5MZW47XG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aCA8IDEyOClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5kZWNvZGUobG9uZyk6IG5vdCBtaW5pbWFsIGVuY29kaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2ID0gZGF0YS5zdWJhcnJheShwb3MsIHBvcyArIGxlbmd0aCk7XG4gICAgICAgICAgICBpZiAodi5sZW5ndGggIT09IGxlbmd0aClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmRlY29kZTogd3JvbmcgdmFsdWUgbGVuZ3RoJyk7XG4gICAgICAgICAgICByZXR1cm4geyB2LCBsOiBkYXRhLnN1YmFycmF5KHBvcyArIGxlbmd0aCkgfTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIGh0dHBzOi8vY3J5cHRvLnN0YWNrZXhjaGFuZ2UuY29tL2EvNTc3MzQgTGVmdG1vc3QgYml0IG9mIGZpcnN0IGJ5dGUgaXMgJ25lZ2F0aXZlJyBmbGFnLFxuICAgIC8vIHNpbmNlIHdlIGFsd2F5cyB1c2UgcG9zaXRpdmUgaW50ZWdlcnMgaGVyZS4gSXQgbXVzdCBhbHdheXMgYmUgZW1wdHk6XG4gICAgLy8gLSBhZGQgemVybyBieXRlIGlmIGV4aXN0c1xuICAgIC8vIC0gaWYgbmV4dCBieXRlIGRvZXNuJ3QgaGF2ZSBhIGZsYWcsIGxlYWRpbmcgemVybyBpcyBub3QgYWxsb3dlZCAobWluaW1hbCBlbmNvZGluZylcbiAgICBfaW50OiB7XG4gICAgICAgIGVuY29kZShudW0pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgRXJyOiBFIH0gPSBERVI7XG4gICAgICAgICAgICBpZiAobnVtIDwgXzBuKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCdpbnRlZ2VyOiBuZWdhdGl2ZSBpbnRlZ2VycyBhcmUgbm90IGFsbG93ZWQnKTtcbiAgICAgICAgICAgIGxldCBoZXggPSB1dC5udW1iZXJUb0hleFVucGFkZGVkKG51bSk7XG4gICAgICAgICAgICAvLyBQYWQgd2l0aCB6ZXJvIGJ5dGUgaWYgbmVnYXRpdmUgZmxhZyBpcyBwcmVzZW50XG4gICAgICAgICAgICBpZiAoTnVtYmVyLnBhcnNlSW50KGhleFswXSwgMTYpICYgMGIxMDAwKVxuICAgICAgICAgICAgICAgIGhleCA9ICcwMCcgKyBoZXg7XG4gICAgICAgICAgICBpZiAoaGV4Lmxlbmd0aCAmIDEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3VuZXhwZWN0ZWQgREVSIHBhcnNpbmcgYXNzZXJ0aW9uOiB1bnBhZGRlZCBoZXgnKTtcbiAgICAgICAgICAgIHJldHVybiBoZXg7XG4gICAgICAgIH0sXG4gICAgICAgIGRlY29kZShkYXRhKSB7XG4gICAgICAgICAgICBjb25zdCB7IEVycjogRSB9ID0gREVSO1xuICAgICAgICAgICAgaWYgKGRhdGFbMF0gJiAxMjgpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ2ludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IG5lZ2F0aXZlJyk7XG4gICAgICAgICAgICBpZiAoZGF0YVswXSA9PT0gMHgwMCAmJiAhKGRhdGFbMV0gJiAxMjgpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCdpbnZhbGlkIHNpZ25hdHVyZSBpbnRlZ2VyOiB1bm5lY2Vzc2FyeSBsZWFkaW5nIHplcm8nKTtcbiAgICAgICAgICAgIHJldHVybiBiMm4oZGF0YSk7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB0b1NpZyhoZXgpIHtcbiAgICAgICAgLy8gcGFyc2UgREVSIHNpZ25hdHVyZVxuICAgICAgICBjb25zdCB7IEVycjogRSwgX2ludDogaW50LCBfdGx2OiB0bHYgfSA9IERFUjtcbiAgICAgICAgY29uc3QgZGF0YSA9IHR5cGVvZiBoZXggPT09ICdzdHJpbmcnID8gaDJiKGhleCkgOiBoZXg7XG4gICAgICAgIHV0LmFieXRlcyhkYXRhKTtcbiAgICAgICAgY29uc3QgeyB2OiBzZXFCeXRlcywgbDogc2VxTGVmdEJ5dGVzIH0gPSB0bHYuZGVjb2RlKDB4MzAsIGRhdGEpO1xuICAgICAgICBpZiAoc2VxTGVmdEJ5dGVzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBFKCdpbnZhbGlkIHNpZ25hdHVyZTogbGVmdCBieXRlcyBhZnRlciBwYXJzaW5nJyk7XG4gICAgICAgIGNvbnN0IHsgdjogckJ5dGVzLCBsOiByTGVmdEJ5dGVzIH0gPSB0bHYuZGVjb2RlKDB4MDIsIHNlcUJ5dGVzKTtcbiAgICAgICAgY29uc3QgeyB2OiBzQnl0ZXMsIGw6IHNMZWZ0Qnl0ZXMgfSA9IHRsdi5kZWNvZGUoMHgwMiwgckxlZnRCeXRlcyk7XG4gICAgICAgIGlmIChzTGVmdEJ5dGVzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBFKCdpbnZhbGlkIHNpZ25hdHVyZTogbGVmdCBieXRlcyBhZnRlciBwYXJzaW5nJyk7XG4gICAgICAgIHJldHVybiB7IHI6IGludC5kZWNvZGUockJ5dGVzKSwgczogaW50LmRlY29kZShzQnl0ZXMpIH07XG4gICAgfSxcbiAgICBoZXhGcm9tU2lnKHNpZykge1xuICAgICAgICBjb25zdCB7IF90bHY6IHRsdiwgX2ludDogaW50IH0gPSBERVI7XG4gICAgICAgIGNvbnN0IHJzID0gdGx2LmVuY29kZSgweDAyLCBpbnQuZW5jb2RlKHNpZy5yKSk7XG4gICAgICAgIGNvbnN0IHNzID0gdGx2LmVuY29kZSgweDAyLCBpbnQuZW5jb2RlKHNpZy5zKSk7XG4gICAgICAgIGNvbnN0IHNlcSA9IHJzICsgc3M7XG4gICAgICAgIHJldHVybiB0bHYuZW5jb2RlKDB4MzAsIHNlcSk7XG4gICAgfSxcbn07XG4vLyBCZSBmcmllbmRseSB0byBiYWQgRUNNQVNjcmlwdCBwYXJzZXJzIGJ5IG5vdCB1c2luZyBiaWdpbnQgbGl0ZXJhbHNcbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgXzBuID0gQmlnSW50KDApLCBfMW4gPSBCaWdJbnQoMSksIF8ybiA9IEJpZ0ludCgyKSwgXzNuID0gQmlnSW50KDMpLCBfNG4gPSBCaWdJbnQoNCk7XG5leHBvcnQgZnVuY3Rpb24gd2VpZXJzdHJhc3NQb2ludHMob3B0cykge1xuICAgIGNvbnN0IENVUlZFID0gdmFsaWRhdGVQb2ludE9wdHMob3B0cyk7XG4gICAgY29uc3QgeyBGcCB9ID0gQ1VSVkU7IC8vIEFsbCBjdXJ2ZXMgaGFzIHNhbWUgZmllbGQgLyBncm91cCBsZW5ndGggYXMgZm9yIG5vdywgYnV0IHRoZXkgY2FuIGRpZmZlclxuICAgIGNvbnN0IEZuID0gRmllbGQoQ1VSVkUubiwgQ1VSVkUubkJpdExlbmd0aCk7XG4gICAgY29uc3QgdG9CeXRlcyA9IENVUlZFLnRvQnl0ZXMgfHxcbiAgICAgICAgKChfYywgcG9pbnQsIF9pc0NvbXByZXNzZWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBwb2ludC50b0FmZmluZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHV0LmNvbmNhdEJ5dGVzKFVpbnQ4QXJyYXkuZnJvbShbMHgwNF0pLCBGcC50b0J5dGVzKGEueCksIEZwLnRvQnl0ZXMoYS55KSk7XG4gICAgICAgIH0pO1xuICAgIGNvbnN0IGZyb21CeXRlcyA9IENVUlZFLmZyb21CeXRlcyB8fFxuICAgICAgICAoKGJ5dGVzKSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zdCBoZWFkID0gYnl0ZXNbMF07XG4gICAgICAgICAgICBjb25zdCB0YWlsID0gYnl0ZXMuc3ViYXJyYXkoMSk7XG4gICAgICAgICAgICAvLyBpZiAoaGVhZCAhPT0gMHgwNCkgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG5vbi1jb21wcmVzc2VkIGVuY29kaW5nIGlzIHN1cHBvcnRlZCcpO1xuICAgICAgICAgICAgY29uc3QgeCA9IEZwLmZyb21CeXRlcyh0YWlsLnN1YmFycmF5KDAsIEZwLkJZVEVTKSk7XG4gICAgICAgICAgICBjb25zdCB5ID0gRnAuZnJvbUJ5dGVzKHRhaWwuc3ViYXJyYXkoRnAuQllURVMsIDIgKiBGcC5CWVRFUykpO1xuICAgICAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgICAgICB9KTtcbiAgICAvKipcbiAgICAgKiB5wrIgPSB4wrMgKyBheCArIGI6IFNob3J0IHdlaWVyc3RyYXNzIGN1cnZlIGZvcm11bGFcbiAgICAgKiBAcmV0dXJucyB5wrJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3ZWllcnN0cmFzc0VxdWF0aW9uKHgpIHtcbiAgICAgICAgY29uc3QgeyBhLCBiIH0gPSBDVVJWRTtcbiAgICAgICAgY29uc3QgeDIgPSBGcC5zcXIoeCk7IC8vIHggKiB4XG4gICAgICAgIGNvbnN0IHgzID0gRnAubXVsKHgyLCB4KTsgLy8geDIgKiB4XG4gICAgICAgIHJldHVybiBGcC5hZGQoRnAuYWRkKHgzLCBGcC5tdWwoeCwgYSkpLCBiKTsgLy8geDMgKyBhICogeCArIGJcbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgd2hldGhlciB0aGUgcGFzc2VkIGN1cnZlIHBhcmFtcyBhcmUgdmFsaWQuXG4gICAgLy8gV2UgY2hlY2sgaWYgY3VydmUgZXF1YXRpb24gd29ya3MgZm9yIGdlbmVyYXRvciBwb2ludC5cbiAgICAvLyBgYXNzZXJ0VmFsaWRpdHkoKWAgd29uJ3Qgd29yazogYGlzVG9yc2lvbkZyZWUoKWAgaXMgbm90IGF2YWlsYWJsZSBhdCB0aGlzIHBvaW50IGluIGJsczEyLTM4MS5cbiAgICAvLyBQcm9qZWN0aXZlUG9pbnQgY2xhc3MgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldC5cbiAgICBpZiAoIUZwLmVxbChGcC5zcXIoQ1VSVkUuR3kpLCB3ZWllcnN0cmFzc0VxdWF0aW9uKENVUlZFLkd4KSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGdlbmVyYXRvciBwb2ludDogZXF1YXRpb24gbGVmdCAhPSByaWdodCcpO1xuICAgIC8vIFZhbGlkIGdyb3VwIGVsZW1lbnRzIHJlc2lkZSBpbiByYW5nZSAxLi5uLTFcbiAgICBmdW5jdGlvbiBpc1dpdGhpbkN1cnZlT3JkZXIobnVtKSB7XG4gICAgICAgIHJldHVybiB1dC5pblJhbmdlKG51bSwgXzFuLCBDVVJWRS5uKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGVzIGlmIHByaXYga2V5IGlzIHZhbGlkIGFuZCBjb252ZXJ0cyBpdCB0byBiaWdpbnQuXG4gICAgLy8gU3VwcG9ydHMgb3B0aW9ucyBhbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHMgYW5kIHdyYXBQcml2YXRlS2V5LlxuICAgIGZ1bmN0aW9uIG5vcm1Qcml2YXRlS2V5VG9TY2FsYXIoa2V5KSB7XG4gICAgICAgIGNvbnN0IHsgYWxsb3dlZFByaXZhdGVLZXlMZW5ndGhzOiBsZW5ndGhzLCBuQnl0ZUxlbmd0aCwgd3JhcFByaXZhdGVLZXksIG46IE4gfSA9IENVUlZFO1xuICAgICAgICBpZiAobGVuZ3RocyAmJiB0eXBlb2Yga2V5ICE9PSAnYmlnaW50Jykge1xuICAgICAgICAgICAgaWYgKHV0LmlzQnl0ZXMoa2V5KSlcbiAgICAgICAgICAgICAgICBrZXkgPSB1dC5ieXRlc1RvSGV4KGtleSk7XG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgdG8gaGV4IHN0cmluZywgcGFkLiBFLmcuIFA1MjEgd291bGQgbm9ybSAxMzAtMTMyIGNoYXIgaGV4IHRvIDEzMi1jaGFyIGJ5dGVzXG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycgfHwgIWxlbmd0aHMuaW5jbHVkZXMoa2V5Lmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHByaXZhdGUga2V5Jyk7XG4gICAgICAgICAgICBrZXkgPSBrZXkucGFkU3RhcnQobkJ5dGVMZW5ndGggKiAyLCAnMCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBudW07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBudW0gPVxuICAgICAgICAgICAgICAgIHR5cGVvZiBrZXkgPT09ICdiaWdpbnQnXG4gICAgICAgICAgICAgICAgICAgID8ga2V5XG4gICAgICAgICAgICAgICAgICAgIDogdXQuYnl0ZXNUb051bWJlckJFKGVuc3VyZUJ5dGVzKCdwcml2YXRlIGtleScsIGtleSwgbkJ5dGVMZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBwcml2YXRlIGtleSwgZXhwZWN0ZWQgaGV4IG9yICcgKyBuQnl0ZUxlbmd0aCArICcgYnl0ZXMsIGdvdCAnICsgdHlwZW9mIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdyYXBQcml2YXRlS2V5KVxuICAgICAgICAgICAgbnVtID0gbW9kKG51bSwgTik7IC8vIGRpc2FibGVkIGJ5IGRlZmF1bHQsIGVuYWJsZWQgZm9yIEJMU1xuICAgICAgICB1dC5hSW5SYW5nZSgncHJpdmF0ZSBrZXknLCBudW0sIF8xbiwgTik7IC8vIG51bSBpbiByYW5nZSBbMS4uTi0xXVxuICAgICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc3NlcnRQcmpQb2ludChvdGhlcikge1xuICAgICAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFBvaW50KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvamVjdGl2ZVBvaW50IGV4cGVjdGVkJyk7XG4gICAgfVxuICAgIC8vIE1lbW9pemVkIHRvQWZmaW5lIC8gdmFsaWRpdHkgY2hlY2suIFRoZXkgYXJlIGhlYXZ5LiBQb2ludHMgYXJlIGltbXV0YWJsZS5cbiAgICAvLyBDb252ZXJ0cyBQcm9qZWN0aXZlIHBvaW50IHRvIGFmZmluZSAoeCwgeSkgY29vcmRpbmF0ZXMuXG4gICAgLy8gQ2FuIGFjY2VwdCBwcmVjb21wdXRlZCBaXi0xIC0gZm9yIGV4YW1wbGUsIGZyb20gaW52ZXJ0QmF0Y2guXG4gICAgLy8gKHgsIHksIHopIOKIiyAoeD14L3osIHk9eS96KVxuICAgIGNvbnN0IHRvQWZmaW5lTWVtbyA9IG1lbW9pemVkKChwLCBpeikgPT4ge1xuICAgICAgICBjb25zdCB7IHB4OiB4LCBweTogeSwgcHo6IHogfSA9IHA7XG4gICAgICAgIC8vIEZhc3QtcGF0aCBmb3Igbm9ybWFsaXplZCBwb2ludHNcbiAgICAgICAgaWYgKEZwLmVxbCh6LCBGcC5PTkUpKVxuICAgICAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgICAgICBjb25zdCBpczAgPSBwLmlzMCgpO1xuICAgICAgICAvLyBJZiBpbnZaIHdhcyAwLCB3ZSByZXR1cm4gemVybyBwb2ludC4gSG93ZXZlciB3ZSBzdGlsbCB3YW50IHRvIGV4ZWN1dGVcbiAgICAgICAgLy8gYWxsIG9wZXJhdGlvbnMsIHNvIHdlIHJlcGxhY2UgaW52WiB3aXRoIGEgcmFuZG9tIG51bWJlciwgMS5cbiAgICAgICAgaWYgKGl6ID09IG51bGwpXG4gICAgICAgICAgICBpeiA9IGlzMCA/IEZwLk9ORSA6IEZwLmludih6KTtcbiAgICAgICAgY29uc3QgYXggPSBGcC5tdWwoeCwgaXopO1xuICAgICAgICBjb25zdCBheSA9IEZwLm11bCh5LCBpeik7XG4gICAgICAgIGNvbnN0IHp6ID0gRnAubXVsKHosIGl6KTtcbiAgICAgICAgaWYgKGlzMClcbiAgICAgICAgICAgIHJldHVybiB7IHg6IEZwLlpFUk8sIHk6IEZwLlpFUk8gfTtcbiAgICAgICAgaWYgKCFGcC5lcWwoenosIEZwLk9ORSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludlogd2FzIGludmFsaWQnKTtcbiAgICAgICAgcmV0dXJuIHsgeDogYXgsIHk6IGF5IH07XG4gICAgfSk7XG4gICAgLy8gTk9URTogb24gZXhjZXB0aW9uIHRoaXMgd2lsbCBjcmFzaCAnY2FjaGVkJyBhbmQgbm8gdmFsdWUgd2lsbCBiZSBzZXQuXG4gICAgLy8gT3RoZXJ3aXNlIHRydWUgd2lsbCBiZSByZXR1cm5cbiAgICBjb25zdCBhc3NlcnRWYWxpZE1lbW8gPSBtZW1vaXplZCgocCkgPT4ge1xuICAgICAgICBpZiAocC5pczAoKSkge1xuICAgICAgICAgICAgLy8gKDAsIDEsIDApIGFrYSBaRVJPIGlzIGludmFsaWQgaW4gbW9zdCBjb250ZXh0cy5cbiAgICAgICAgICAgIC8vIEluIEJMUywgWkVSTyBjYW4gYmUgc2VyaWFsaXplZCwgc28gd2UgYWxsb3cgaXQuXG4gICAgICAgICAgICAvLyAoMCwgMCwgMCkgaXMgaW52YWxpZCByZXByZXNlbnRhdGlvbiBvZiBaRVJPLlxuICAgICAgICAgICAgaWYgKENVUlZFLmFsbG93SW5maW5pdHlQb2ludCAmJiAhRnAuaXMwKHAucHkpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIHBvaW50OiBaRVJPJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29tZSAzcmQtcGFydHkgdGVzdCB2ZWN0b3JzIHJlcXVpcmUgZGlmZmVyZW50IHdvcmRpbmcgYmV0d2VlbiBoZXJlICYgYGZyb21Db21wcmVzc2VkSGV4YFxuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHAudG9BZmZpbmUoKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgeCwgeSBhcmUgdmFsaWQgZmllbGQgZWxlbWVudHNcbiAgICAgICAgaWYgKCFGcC5pc1ZhbGlkKHgpIHx8ICFGcC5pc1ZhbGlkKHkpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgcG9pbnQ6IHggb3IgeSBub3QgRkUnKTtcbiAgICAgICAgY29uc3QgbGVmdCA9IEZwLnNxcih5KTsgLy8gecKyXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gd2VpZXJzdHJhc3NFcXVhdGlvbih4KTsgLy8geMKzICsgYXggKyBiXG4gICAgICAgIGlmICghRnAuZXFsKGxlZnQsIHJpZ2h0KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIHBvaW50OiBlcXVhdGlvbiBsZWZ0ICE9IHJpZ2h0Jyk7XG4gICAgICAgIGlmICghcC5pc1RvcnNpb25GcmVlKCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBwb2ludDogbm90IGluIHByaW1lLW9yZGVyIHN1Ymdyb3VwJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFByb2plY3RpdmUgUG9pbnQgd29ya3MgaW4gM2QgLyBwcm9qZWN0aXZlIChob21vZ2VuZW91cykgY29vcmRpbmF0ZXM6ICh4LCB5LCB6KSDiiIsgKHg9eC96LCB5PXkveilcbiAgICAgKiBEZWZhdWx0IFBvaW50IHdvcmtzIGluIDJkIC8gYWZmaW5lIGNvb3JkaW5hdGVzOiAoeCwgeSlcbiAgICAgKiBXZSdyZSBkb2luZyBjYWxjdWxhdGlvbnMgaW4gcHJvamVjdGl2ZSwgYmVjYXVzZSBpdHMgb3BlcmF0aW9ucyBkb24ndCByZXF1aXJlIGNvc3RseSBpbnZlcnNpb24uXG4gICAgICovXG4gICAgY2xhc3MgUG9pbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcihweCwgcHksIHB6KSB7XG4gICAgICAgICAgICB0aGlzLnB4ID0gcHg7XG4gICAgICAgICAgICB0aGlzLnB5ID0gcHk7XG4gICAgICAgICAgICB0aGlzLnB6ID0gcHo7XG4gICAgICAgICAgICBpZiAocHggPT0gbnVsbCB8fCAhRnAuaXNWYWxpZChweCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd4IHJlcXVpcmVkJyk7XG4gICAgICAgICAgICBpZiAocHkgPT0gbnVsbCB8fCAhRnAuaXNWYWxpZChweSkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd5IHJlcXVpcmVkJyk7XG4gICAgICAgICAgICBpZiAocHogPT0gbnVsbCB8fCAhRnAuaXNWYWxpZChweikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd6IHJlcXVpcmVkJyk7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvZXMgbm90IHZhbGlkYXRlIGlmIHRoZSBwb2ludCBpcyBvbi1jdXJ2ZS5cbiAgICAgICAgLy8gVXNlIGZyb21IZXggaW5zdGVhZCwgb3IgY2FsbCBhc3NlcnRWYWxpZGl0eSgpIGxhdGVyLlxuICAgICAgICBzdGF0aWMgZnJvbUFmZmluZShwKSB7XG4gICAgICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHAgfHwge307XG4gICAgICAgICAgICBpZiAoIXAgfHwgIUZwLmlzVmFsaWQoeCkgfHwgIUZwLmlzVmFsaWQoeSkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGFmZmluZSBwb2ludCcpO1xuICAgICAgICAgICAgaWYgKHAgaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2plY3RpdmUgcG9pbnQgbm90IGFsbG93ZWQnKTtcbiAgICAgICAgICAgIGNvbnN0IGlzMCA9IChpKSA9PiBGcC5lcWwoaSwgRnAuWkVSTyk7XG4gICAgICAgICAgICAvLyBmcm9tQWZmaW5lKHg6MCwgeTowKSB3b3VsZCBwcm9kdWNlICh4OjAsIHk6MCwgejoxKSwgYnV0IHdlIG5lZWQgKHg6MCwgeToxLCB6OjApXG4gICAgICAgICAgICBpZiAoaXMwKHgpICYmIGlzMCh5KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUG9pbnQuWkVSTztcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCwgeSwgRnAuT05FKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgeCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQWZmaW5lKCkueDtcbiAgICAgICAgfVxuICAgICAgICBnZXQgeSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQWZmaW5lKCkueTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGFrZXMgYSBidW5jaCBvZiBQcm9qZWN0aXZlIFBvaW50cyBidXQgZXhlY3V0ZXMgb25seSBvbmVcbiAgICAgICAgICogaW52ZXJzaW9uIG9uIGFsbCBvZiB0aGVtLiBJbnZlcnNpb24gaXMgdmVyeSBzbG93IG9wZXJhdGlvbixcbiAgICAgICAgICogc28gdGhpcyBpbXByb3ZlcyBwZXJmb3JtYW5jZSBtYXNzaXZlbHkuXG4gICAgICAgICAqIE9wdGltaXphdGlvbjogY29udmVydHMgYSBsaXN0IG9mIHByb2plY3RpdmUgcG9pbnRzIHRvIGEgbGlzdCBvZiBpZGVudGljYWwgcG9pbnRzIHdpdGggWj0xLlxuICAgICAgICAgKi9cbiAgICAgICAgc3RhdGljIG5vcm1hbGl6ZVoocG9pbnRzKSB7XG4gICAgICAgICAgICBjb25zdCB0b0ludiA9IEZwLmludmVydEJhdGNoKHBvaW50cy5tYXAoKHApID0+IHAucHopKTtcbiAgICAgICAgICAgIHJldHVybiBwb2ludHMubWFwKChwLCBpKSA9PiBwLnRvQWZmaW5lKHRvSW52W2ldKSkubWFwKFBvaW50LmZyb21BZmZpbmUpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZXJ0cyBoYXNoIHN0cmluZyBvciBVaW50OEFycmF5IHRvIFBvaW50LlxuICAgICAgICAgKiBAcGFyYW0gaGV4IHNob3J0L2xvbmcgRUNEU0EgaGV4XG4gICAgICAgICAqL1xuICAgICAgICBzdGF0aWMgZnJvbUhleChoZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IFAgPSBQb2ludC5mcm9tQWZmaW5lKGZyb21CeXRlcyhlbnN1cmVCeXRlcygncG9pbnRIZXgnLCBoZXgpKSk7XG4gICAgICAgICAgICBQLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgICAgICAgICByZXR1cm4gUDtcbiAgICAgICAgfVxuICAgICAgICAvLyBNdWx0aXBsaWVzIGdlbmVyYXRvciBwb2ludCBieSBwcml2YXRlS2V5LlxuICAgICAgICBzdGF0aWMgZnJvbVByaXZhdGVLZXkocHJpdmF0ZUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIFBvaW50LkJBU0UubXVsdGlwbHkobm9ybVByaXZhdGVLZXlUb1NjYWxhcihwcml2YXRlS2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTXVsdGlzY2FsYXIgTXVsdGlwbGljYXRpb25cbiAgICAgICAgc3RhdGljIG1zbShwb2ludHMsIHNjYWxhcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBwaXBwZW5nZXIoUG9pbnQsIEZuLCBwb2ludHMsIHNjYWxhcnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFwiUHJpdmF0ZSBtZXRob2RcIiwgZG9uJ3QgdXNlIGl0IGRpcmVjdGx5XG4gICAgICAgIF9zZXRXaW5kb3dTaXplKHdpbmRvd1NpemUpIHtcbiAgICAgICAgICAgIHduYWYuc2V0V2luZG93U2l6ZSh0aGlzLCB3aW5kb3dTaXplKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBIHBvaW50IG9uIGN1cnZlIGlzIHZhbGlkIGlmIGl0IGNvbmZvcm1zIHRvIGVxdWF0aW9uLlxuICAgICAgICBhc3NlcnRWYWxpZGl0eSgpIHtcbiAgICAgICAgICAgIGFzc2VydFZhbGlkTWVtbyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBoYXNFdmVuWSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgeSB9ID0gdGhpcy50b0FmZmluZSgpO1xuICAgICAgICAgICAgaWYgKEZwLmlzT2RkKVxuICAgICAgICAgICAgICAgIHJldHVybiAhRnAuaXNPZGQoeSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZCBkb2Vzbid0IHN1cHBvcnQgaXNPZGRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXBhcmUgb25lIHBvaW50IHRvIGFub3RoZXIuXG4gICAgICAgICAqL1xuICAgICAgICBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgICAgIGFzc2VydFByalBvaW50KG90aGVyKTtcbiAgICAgICAgICAgIGNvbnN0IHsgcHg6IFgxLCBweTogWTEsIHB6OiBaMSB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgcHg6IFgyLCBweTogWTIsIHB6OiBaMiB9ID0gb3RoZXI7XG4gICAgICAgICAgICBjb25zdCBVMSA9IEZwLmVxbChGcC5tdWwoWDEsIFoyKSwgRnAubXVsKFgyLCBaMSkpO1xuICAgICAgICAgICAgY29uc3QgVTIgPSBGcC5lcWwoRnAubXVsKFkxLCBaMiksIEZwLm11bChZMiwgWjEpKTtcbiAgICAgICAgICAgIHJldHVybiBVMSAmJiBVMjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmxpcHMgcG9pbnQgdG8gb25lIGNvcnJlc3BvbmRpbmcgdG8gKHgsIC15KSBpbiBBZmZpbmUgY29vcmRpbmF0ZXMuXG4gICAgICAgICAqL1xuICAgICAgICBuZWdhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMucHgsIEZwLm5lZyh0aGlzLnB5KSwgdGhpcy5weik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVuZXMtQ29zdGVsbG8tQmF0aW5hIGV4Y2VwdGlvbi1mcmVlIGRvdWJsaW5nIGZvcm11bGEuXG4gICAgICAgIC8vIFRoZXJlIGlzIDMwJSBmYXN0ZXIgSmFjb2JpYW4gZm9ybXVsYSwgYnV0IGl0IGlzIG5vdCBjb21wbGV0ZS5cbiAgICAgICAgLy8gaHR0cHM6Ly9lcHJpbnQuaWFjci5vcmcvMjAxNS8xMDYwLCBhbGdvcml0aG0gM1xuICAgICAgICAvLyBDb3N0OiA4TSArIDNTICsgMyphICsgMipiMyArIDE1YWRkLlxuICAgICAgICBkb3VibGUoKSB7XG4gICAgICAgICAgICBjb25zdCB7IGEsIGIgfSA9IENVUlZFO1xuICAgICAgICAgICAgY29uc3QgYjMgPSBGcC5tdWwoYiwgXzNuKTtcbiAgICAgICAgICAgIGNvbnN0IHsgcHg6IFgxLCBweTogWTEsIHB6OiBaMSB9ID0gdGhpcztcbiAgICAgICAgICAgIGxldCBYMyA9IEZwLlpFUk8sIFkzID0gRnAuWkVSTywgWjMgPSBGcC5aRVJPOyAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIGxldCB0MCA9IEZwLm11bChYMSwgWDEpOyAvLyBzdGVwIDFcbiAgICAgICAgICAgIGxldCB0MSA9IEZwLm11bChZMSwgWTEpO1xuICAgICAgICAgICAgbGV0IHQyID0gRnAubXVsKFoxLCBaMSk7XG4gICAgICAgICAgICBsZXQgdDMgPSBGcC5tdWwoWDEsIFkxKTtcbiAgICAgICAgICAgIHQzID0gRnAuYWRkKHQzLCB0Myk7IC8vIHN0ZXAgNVxuICAgICAgICAgICAgWjMgPSBGcC5tdWwoWDEsIFoxKTtcbiAgICAgICAgICAgIFozID0gRnAuYWRkKFozLCBaMyk7XG4gICAgICAgICAgICBYMyA9IEZwLm11bChhLCBaMyk7XG4gICAgICAgICAgICBZMyA9IEZwLm11bChiMywgdDIpO1xuICAgICAgICAgICAgWTMgPSBGcC5hZGQoWDMsIFkzKTsgLy8gc3RlcCAxMFxuICAgICAgICAgICAgWDMgPSBGcC5zdWIodDEsIFkzKTtcbiAgICAgICAgICAgIFkzID0gRnAuYWRkKHQxLCBZMyk7XG4gICAgICAgICAgICBZMyA9IEZwLm11bChYMywgWTMpO1xuICAgICAgICAgICAgWDMgPSBGcC5tdWwodDMsIFgzKTtcbiAgICAgICAgICAgIFozID0gRnAubXVsKGIzLCBaMyk7IC8vIHN0ZXAgMTVcbiAgICAgICAgICAgIHQyID0gRnAubXVsKGEsIHQyKTtcbiAgICAgICAgICAgIHQzID0gRnAuc3ViKHQwLCB0Mik7XG4gICAgICAgICAgICB0MyA9IEZwLm11bChhLCB0Myk7XG4gICAgICAgICAgICB0MyA9IEZwLmFkZCh0MywgWjMpO1xuICAgICAgICAgICAgWjMgPSBGcC5hZGQodDAsIHQwKTsgLy8gc3RlcCAyMFxuICAgICAgICAgICAgdDAgPSBGcC5hZGQoWjMsIHQwKTtcbiAgICAgICAgICAgIHQwID0gRnAuYWRkKHQwLCB0Mik7XG4gICAgICAgICAgICB0MCA9IEZwLm11bCh0MCwgdDMpO1xuICAgICAgICAgICAgWTMgPSBGcC5hZGQoWTMsIHQwKTtcbiAgICAgICAgICAgIHQyID0gRnAubXVsKFkxLCBaMSk7IC8vIHN0ZXAgMjVcbiAgICAgICAgICAgIHQyID0gRnAuYWRkKHQyLCB0Mik7XG4gICAgICAgICAgICB0MCA9IEZwLm11bCh0MiwgdDMpO1xuICAgICAgICAgICAgWDMgPSBGcC5zdWIoWDMsIHQwKTtcbiAgICAgICAgICAgIFozID0gRnAubXVsKHQyLCB0MSk7XG4gICAgICAgICAgICBaMyA9IEZwLmFkZChaMywgWjMpOyAvLyBzdGVwIDMwXG4gICAgICAgICAgICBaMyA9IEZwLmFkZChaMywgWjMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludChYMywgWTMsIFozKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW5lcy1Db3N0ZWxsby1CYXRpbmEgZXhjZXB0aW9uLWZyZWUgYWRkaXRpb24gZm9ybXVsYS5cbiAgICAgICAgLy8gVGhlcmUgaXMgMzAlIGZhc3RlciBKYWNvYmlhbiBmb3JtdWxhLCBidXQgaXQgaXMgbm90IGNvbXBsZXRlLlxuICAgICAgICAvLyBodHRwczovL2VwcmludC5pYWNyLm9yZy8yMDE1LzEwNjAsIGFsZ29yaXRobSAxXG4gICAgICAgIC8vIENvc3Q6IDEyTSArIDBTICsgMyphICsgMypiMyArIDIzYWRkLlxuICAgICAgICBhZGQob3RoZXIpIHtcbiAgICAgICAgICAgIGFzc2VydFByalBvaW50KG90aGVyKTtcbiAgICAgICAgICAgIGNvbnN0IHsgcHg6IFgxLCBweTogWTEsIHB6OiBaMSB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgcHg6IFgyLCBweTogWTIsIHB6OiBaMiB9ID0gb3RoZXI7XG4gICAgICAgICAgICBsZXQgWDMgPSBGcC5aRVJPLCBZMyA9IEZwLlpFUk8sIFozID0gRnAuWkVSTzsgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICBjb25zdCBhID0gQ1VSVkUuYTtcbiAgICAgICAgICAgIGNvbnN0IGIzID0gRnAubXVsKENVUlZFLmIsIF8zbik7XG4gICAgICAgICAgICBsZXQgdDAgPSBGcC5tdWwoWDEsIFgyKTsgLy8gc3RlcCAxXG4gICAgICAgICAgICBsZXQgdDEgPSBGcC5tdWwoWTEsIFkyKTtcbiAgICAgICAgICAgIGxldCB0MiA9IEZwLm11bChaMSwgWjIpO1xuICAgICAgICAgICAgbGV0IHQzID0gRnAuYWRkKFgxLCBZMSk7XG4gICAgICAgICAgICBsZXQgdDQgPSBGcC5hZGQoWDIsIFkyKTsgLy8gc3RlcCA1XG4gICAgICAgICAgICB0MyA9IEZwLm11bCh0MywgdDQpO1xuICAgICAgICAgICAgdDQgPSBGcC5hZGQodDAsIHQxKTtcbiAgICAgICAgICAgIHQzID0gRnAuc3ViKHQzLCB0NCk7XG4gICAgICAgICAgICB0NCA9IEZwLmFkZChYMSwgWjEpO1xuICAgICAgICAgICAgbGV0IHQ1ID0gRnAuYWRkKFgyLCBaMik7IC8vIHN0ZXAgMTBcbiAgICAgICAgICAgIHQ0ID0gRnAubXVsKHQ0LCB0NSk7XG4gICAgICAgICAgICB0NSA9IEZwLmFkZCh0MCwgdDIpO1xuICAgICAgICAgICAgdDQgPSBGcC5zdWIodDQsIHQ1KTtcbiAgICAgICAgICAgIHQ1ID0gRnAuYWRkKFkxLCBaMSk7XG4gICAgICAgICAgICBYMyA9IEZwLmFkZChZMiwgWjIpOyAvLyBzdGVwIDE1XG4gICAgICAgICAgICB0NSA9IEZwLm11bCh0NSwgWDMpO1xuICAgICAgICAgICAgWDMgPSBGcC5hZGQodDEsIHQyKTtcbiAgICAgICAgICAgIHQ1ID0gRnAuc3ViKHQ1LCBYMyk7XG4gICAgICAgICAgICBaMyA9IEZwLm11bChhLCB0NCk7XG4gICAgICAgICAgICBYMyA9IEZwLm11bChiMywgdDIpOyAvLyBzdGVwIDIwXG4gICAgICAgICAgICBaMyA9IEZwLmFkZChYMywgWjMpO1xuICAgICAgICAgICAgWDMgPSBGcC5zdWIodDEsIFozKTtcbiAgICAgICAgICAgIFozID0gRnAuYWRkKHQxLCBaMyk7XG4gICAgICAgICAgICBZMyA9IEZwLm11bChYMywgWjMpO1xuICAgICAgICAgICAgdDEgPSBGcC5hZGQodDAsIHQwKTsgLy8gc3RlcCAyNVxuICAgICAgICAgICAgdDEgPSBGcC5hZGQodDEsIHQwKTtcbiAgICAgICAgICAgIHQyID0gRnAubXVsKGEsIHQyKTtcbiAgICAgICAgICAgIHQ0ID0gRnAubXVsKGIzLCB0NCk7XG4gICAgICAgICAgICB0MSA9IEZwLmFkZCh0MSwgdDIpO1xuICAgICAgICAgICAgdDIgPSBGcC5zdWIodDAsIHQyKTsgLy8gc3RlcCAzMFxuICAgICAgICAgICAgdDIgPSBGcC5tdWwoYSwgdDIpO1xuICAgICAgICAgICAgdDQgPSBGcC5hZGQodDQsIHQyKTtcbiAgICAgICAgICAgIHQwID0gRnAubXVsKHQxLCB0NCk7XG4gICAgICAgICAgICBZMyA9IEZwLmFkZChZMywgdDApO1xuICAgICAgICAgICAgdDAgPSBGcC5tdWwodDUsIHQ0KTsgLy8gc3RlcCAzNVxuICAgICAgICAgICAgWDMgPSBGcC5tdWwodDMsIFgzKTtcbiAgICAgICAgICAgIFgzID0gRnAuc3ViKFgzLCB0MCk7XG4gICAgICAgICAgICB0MCA9IEZwLm11bCh0MywgdDEpO1xuICAgICAgICAgICAgWjMgPSBGcC5tdWwodDUsIFozKTtcbiAgICAgICAgICAgIFozID0gRnAuYWRkKFozLCB0MCk7IC8vIHN0ZXAgNDBcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQoWDMsIFkzLCBaMyk7XG4gICAgICAgIH1cbiAgICAgICAgc3VidHJhY3Qob3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZChvdGhlci5uZWdhdGUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaXMwKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXF1YWxzKFBvaW50LlpFUk8pO1xuICAgICAgICB9XG4gICAgICAgIHdOQUYobikge1xuICAgICAgICAgICAgcmV0dXJuIHduYWYud05BRkNhY2hlZCh0aGlzLCBuLCBQb2ludC5ub3JtYWxpemVaKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogTm9uLWNvbnN0YW50LXRpbWUgbXVsdGlwbGljYXRpb24uIFVzZXMgZG91YmxlLWFuZC1hZGQgYWxnb3JpdGhtLlxuICAgICAgICAgKiBJdCdzIGZhc3RlciwgYnV0IHNob3VsZCBvbmx5IGJlIHVzZWQgd2hlbiB5b3UgZG9uJ3QgY2FyZSBhYm91dFxuICAgICAgICAgKiBhbiBleHBvc2VkIHByaXZhdGUga2V5IGUuZy4gc2lnIHZlcmlmaWNhdGlvbiwgd2hpY2ggd29ya3Mgb3ZlciAqcHVibGljKiBrZXlzLlxuICAgICAgICAgKi9cbiAgICAgICAgbXVsdGlwbHlVbnNhZmUoc2MpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZW5kbywgbjogTiB9ID0gQ1VSVkU7XG4gICAgICAgICAgICB1dC5hSW5SYW5nZSgnc2NhbGFyJywgc2MsIF8wbiwgTik7XG4gICAgICAgICAgICBjb25zdCBJID0gUG9pbnQuWkVSTztcbiAgICAgICAgICAgIGlmIChzYyA9PT0gXzBuKVxuICAgICAgICAgICAgICAgIHJldHVybiBJO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXMwKCkgfHwgc2MgPT09IF8xbilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIC8vIENhc2UgYTogbm8gZW5kb21vcnBoaXNtLiBDYXNlIGI6IGhhcyBwcmVjb21wdXRlcy5cbiAgICAgICAgICAgIGlmICghZW5kbyB8fCB3bmFmLmhhc1ByZWNvbXB1dGVzKHRoaXMpKVxuICAgICAgICAgICAgICAgIHJldHVybiB3bmFmLndOQUZDYWNoZWRVbnNhZmUodGhpcywgc2MsIFBvaW50Lm5vcm1hbGl6ZVopO1xuICAgICAgICAgICAgLy8gQ2FzZSBjOiBlbmRvbW9ycGhpc21cbiAgICAgICAgICAgIGxldCB7IGsxbmVnLCBrMSwgazJuZWcsIGsyIH0gPSBlbmRvLnNwbGl0U2NhbGFyKHNjKTtcbiAgICAgICAgICAgIGxldCBrMXAgPSBJO1xuICAgICAgICAgICAgbGV0IGsycCA9IEk7XG4gICAgICAgICAgICBsZXQgZCA9IHRoaXM7XG4gICAgICAgICAgICB3aGlsZSAoazEgPiBfMG4gfHwgazIgPiBfMG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoazEgJiBfMW4pXG4gICAgICAgICAgICAgICAgICAgIGsxcCA9IGsxcC5hZGQoZCk7XG4gICAgICAgICAgICAgICAgaWYgKGsyICYgXzFuKVxuICAgICAgICAgICAgICAgICAgICBrMnAgPSBrMnAuYWRkKGQpO1xuICAgICAgICAgICAgICAgIGQgPSBkLmRvdWJsZSgpO1xuICAgICAgICAgICAgICAgIGsxID4+PSBfMW47XG4gICAgICAgICAgICAgICAgazIgPj49IF8xbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrMW5lZylcbiAgICAgICAgICAgICAgICBrMXAgPSBrMXAubmVnYXRlKCk7XG4gICAgICAgICAgICBpZiAoazJuZWcpXG4gICAgICAgICAgICAgICAgazJwID0gazJwLm5lZ2F0ZSgpO1xuICAgICAgICAgICAgazJwID0gbmV3IFBvaW50KEZwLm11bChrMnAucHgsIGVuZG8uYmV0YSksIGsycC5weSwgazJwLnB6KTtcbiAgICAgICAgICAgIHJldHVybiBrMXAuYWRkKGsycCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0YW50IHRpbWUgbXVsdGlwbGljYXRpb24uXG4gICAgICAgICAqIFVzZXMgd05BRiBtZXRob2QuIFdpbmRvd2VkIG1ldGhvZCBtYXkgYmUgMTAlIGZhc3RlcixcbiAgICAgICAgICogYnV0IHRha2VzIDJ4IGxvbmdlciB0byBnZW5lcmF0ZSBhbmQgY29uc3VtZXMgMnggbWVtb3J5LlxuICAgICAgICAgKiBVc2VzIHByZWNvbXB1dGVzIHdoZW4gYXZhaWxhYmxlLlxuICAgICAgICAgKiBVc2VzIGVuZG9tb3JwaGlzbSBmb3IgS29ibGl0eiBjdXJ2ZXMuXG4gICAgICAgICAqIEBwYXJhbSBzY2FsYXIgYnkgd2hpY2ggdGhlIHBvaW50IHdvdWxkIGJlIG11bHRpcGxpZWRcbiAgICAgICAgICogQHJldHVybnMgTmV3IHBvaW50XG4gICAgICAgICAqL1xuICAgICAgICBtdWx0aXBseShzY2FsYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZW5kbywgbjogTiB9ID0gQ1VSVkU7XG4gICAgICAgICAgICB1dC5hSW5SYW5nZSgnc2NhbGFyJywgc2NhbGFyLCBfMW4sIE4pO1xuICAgICAgICAgICAgbGV0IHBvaW50LCBmYWtlOyAvLyBGYWtlIHBvaW50IGlzIHVzZWQgdG8gY29uc3QtdGltZSBtdWx0XG4gICAgICAgICAgICBpZiAoZW5kbykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgazFuZWcsIGsxLCBrMm5lZywgazIgfSA9IGVuZG8uc3BsaXRTY2FsYXIoc2NhbGFyKTtcbiAgICAgICAgICAgICAgICBsZXQgeyBwOiBrMXAsIGY6IGYxcCB9ID0gdGhpcy53TkFGKGsxKTtcbiAgICAgICAgICAgICAgICBsZXQgeyBwOiBrMnAsIGY6IGYycCB9ID0gdGhpcy53TkFGKGsyKTtcbiAgICAgICAgICAgICAgICBrMXAgPSB3bmFmLmNvbnN0VGltZU5lZ2F0ZShrMW5lZywgazFwKTtcbiAgICAgICAgICAgICAgICBrMnAgPSB3bmFmLmNvbnN0VGltZU5lZ2F0ZShrMm5lZywgazJwKTtcbiAgICAgICAgICAgICAgICBrMnAgPSBuZXcgUG9pbnQoRnAubXVsKGsycC5weCwgZW5kby5iZXRhKSwgazJwLnB5LCBrMnAucHopO1xuICAgICAgICAgICAgICAgIHBvaW50ID0gazFwLmFkZChrMnApO1xuICAgICAgICAgICAgICAgIGZha2UgPSBmMXAuYWRkKGYycCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHAsIGYgfSA9IHRoaXMud05BRihzY2FsYXIpO1xuICAgICAgICAgICAgICAgIHBvaW50ID0gcDtcbiAgICAgICAgICAgICAgICBmYWtlID0gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBgemAgZm9yIGJvdGggcG9pbnRzLCBidXQgcmV0dXJuIG9ubHkgcmVhbCBvbmVcbiAgICAgICAgICAgIHJldHVybiBQb2ludC5ub3JtYWxpemVaKFtwb2ludCwgZmFrZV0pWzBdO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFZmZpY2llbnRseSBjYWxjdWxhdGUgYGFQICsgYlFgLiBVbnNhZmUsIGNhbiBleHBvc2UgcHJpdmF0ZSBrZXksIGlmIHVzZWQgaW5jb3JyZWN0bHkuXG4gICAgICAgICAqIE5vdCB1c2luZyBTdHJhdXNzLVNoYW1pciB0cmljazogcHJlY29tcHV0YXRpb24gdGFibGVzIGFyZSBmYXN0ZXIuXG4gICAgICAgICAqIFRoZSB0cmljayBjb3VsZCBiZSB1c2VmdWwgaWYgYm90aCBQIGFuZCBRIGFyZSBub3QgRyAobm90IGluIG91ciBjYXNlKS5cbiAgICAgICAgICogQHJldHVybnMgbm9uLXplcm8gYWZmaW5lIHBvaW50XG4gICAgICAgICAqL1xuICAgICAgICBtdWx0aXBseUFuZEFkZFVuc2FmZShRLCBhLCBiKSB7XG4gICAgICAgICAgICBjb25zdCBHID0gUG9pbnQuQkFTRTsgLy8gTm8gU3RyYXVzcy1TaGFtaXIgdHJpY2s6IHdlIGhhdmUgMTAlIGZhc3RlciBHIHByZWNvbXB1dGVzXG4gICAgICAgICAgICBjb25zdCBtdWwgPSAoUCwgYSAvLyBTZWxlY3QgZmFzdGVyIG11bHRpcGx5KCkgbWV0aG9kXG4gICAgICAgICAgICApID0+IChhID09PSBfMG4gfHwgYSA9PT0gXzFuIHx8ICFQLmVxdWFscyhHKSA/IFAubXVsdGlwbHlVbnNhZmUoYSkgOiBQLm11bHRpcGx5KGEpKTtcbiAgICAgICAgICAgIGNvbnN0IHN1bSA9IG11bCh0aGlzLCBhKS5hZGQobXVsKFEsIGIpKTtcbiAgICAgICAgICAgIHJldHVybiBzdW0uaXMwKCkgPyB1bmRlZmluZWQgOiBzdW07XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29udmVydHMgUHJvamVjdGl2ZSBwb2ludCB0byBhZmZpbmUgKHgsIHkpIGNvb3JkaW5hdGVzLlxuICAgICAgICAvLyBDYW4gYWNjZXB0IHByZWNvbXB1dGVkIFpeLTEgLSBmb3IgZXhhbXBsZSwgZnJvbSBpbnZlcnRCYXRjaC5cbiAgICAgICAgLy8gKHgsIHksIHopIOKIiyAoeD14L3osIHk9eS96KVxuICAgICAgICB0b0FmZmluZShpeikge1xuICAgICAgICAgICAgcmV0dXJuIHRvQWZmaW5lTWVtbyh0aGlzLCBpeik7XG4gICAgICAgIH1cbiAgICAgICAgaXNUb3JzaW9uRnJlZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaDogY29mYWN0b3IsIGlzVG9yc2lvbkZyZWUgfSA9IENVUlZFO1xuICAgICAgICAgICAgaWYgKGNvZmFjdG9yID09PSBfMW4pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIE5vIHN1Ymdyb3VwcywgYWx3YXlzIHRvcnNpb24tZnJlZVxuICAgICAgICAgICAgaWYgKGlzVG9yc2lvbkZyZWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVG9yc2lvbkZyZWUoUG9pbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpc1RvcnNpb25GcmVlKCkgaGFzIG5vdCBiZWVuIGRlY2xhcmVkIGZvciB0aGUgZWxsaXB0aWMgY3VydmUnKTtcbiAgICAgICAgfVxuICAgICAgICBjbGVhckNvZmFjdG9yKCkge1xuICAgICAgICAgICAgY29uc3QgeyBoOiBjb2ZhY3RvciwgY2xlYXJDb2ZhY3RvciB9ID0gQ1VSVkU7XG4gICAgICAgICAgICBpZiAoY29mYWN0b3IgPT09IF8xbilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsgLy8gRmFzdC1wYXRoXG4gICAgICAgICAgICBpZiAoY2xlYXJDb2ZhY3RvcilcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xlYXJDb2ZhY3RvcihQb2ludCwgdGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tdWx0aXBseVVuc2FmZShDVVJWRS5oKTtcbiAgICAgICAgfVxuICAgICAgICB0b1Jhd0J5dGVzKGlzQ29tcHJlc3NlZCA9IHRydWUpIHtcbiAgICAgICAgICAgIGFib29sKCdpc0NvbXByZXNzZWQnLCBpc0NvbXByZXNzZWQpO1xuICAgICAgICAgICAgdGhpcy5hc3NlcnRWYWxpZGl0eSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRvQnl0ZXMoUG9pbnQsIHRoaXMsIGlzQ29tcHJlc3NlZCk7XG4gICAgICAgIH1cbiAgICAgICAgdG9IZXgoaXNDb21wcmVzc2VkID0gdHJ1ZSkge1xuICAgICAgICAgICAgYWJvb2woJ2lzQ29tcHJlc3NlZCcsIGlzQ29tcHJlc3NlZCk7XG4gICAgICAgICAgICByZXR1cm4gdXQuYnl0ZXNUb0hleCh0aGlzLnRvUmF3Qnl0ZXMoaXNDb21wcmVzc2VkKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUG9pbnQuQkFTRSA9IG5ldyBQb2ludChDVVJWRS5HeCwgQ1VSVkUuR3ksIEZwLk9ORSk7XG4gICAgUG9pbnQuWkVSTyA9IG5ldyBQb2ludChGcC5aRVJPLCBGcC5PTkUsIEZwLlpFUk8pO1xuICAgIGNvbnN0IF9iaXRzID0gQ1VSVkUubkJpdExlbmd0aDtcbiAgICBjb25zdCB3bmFmID0gd05BRihQb2ludCwgQ1VSVkUuZW5kbyA/IE1hdGguY2VpbChfYml0cyAvIDIpIDogX2JpdHMpO1xuICAgIC8vIFZhbGlkYXRlIGlmIGdlbmVyYXRvciBwb2ludCBpcyBvbiBjdXJ2ZVxuICAgIHJldHVybiB7XG4gICAgICAgIENVUlZFLFxuICAgICAgICBQcm9qZWN0aXZlUG9pbnQ6IFBvaW50LFxuICAgICAgICBub3JtUHJpdmF0ZUtleVRvU2NhbGFyLFxuICAgICAgICB3ZWllcnN0cmFzc0VxdWF0aW9uLFxuICAgICAgICBpc1dpdGhpbkN1cnZlT3JkZXIsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlT3B0cyhjdXJ2ZSkge1xuICAgIGNvbnN0IG9wdHMgPSB2YWxpZGF0ZUJhc2ljKGN1cnZlKTtcbiAgICB1dC52YWxpZGF0ZU9iamVjdChvcHRzLCB7XG4gICAgICAgIGhhc2g6ICdoYXNoJyxcbiAgICAgICAgaG1hYzogJ2Z1bmN0aW9uJyxcbiAgICAgICAgcmFuZG9tQnl0ZXM6ICdmdW5jdGlvbicsXG4gICAgfSwge1xuICAgICAgICBiaXRzMmludDogJ2Z1bmN0aW9uJyxcbiAgICAgICAgYml0czJpbnRfbW9kTjogJ2Z1bmN0aW9uJyxcbiAgICAgICAgbG93UzogJ2Jvb2xlYW4nLFxuICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHsgbG93UzogdHJ1ZSwgLi4ub3B0cyB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBzaG9ydCB3ZWllcnN0cmFzcyBjdXJ2ZSBhbmQgRUNEU0Egc2lnbmF0dXJlIG1ldGhvZHMgZm9yIGl0LlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IEZpZWxkIH0gZnJvbSAnQG5vYmxlL2N1cnZlcy9hYnN0cmFjdC9tb2R1bGFyJztcbiAqIC8vIEJlZm9yZSB0aGF0LCBkZWZpbmUgQmlnSW50LXM6IGEsIGIsIHAsIG4sIEd4LCBHeVxuICogY29uc3QgY3VydmUgPSB3ZWllcnN0cmFzcyh7IGEsIGIsIEZwOiBGaWVsZChwKSwgbiwgR3gsIEd5LCBoOiAxbiB9KVxuICovXG5leHBvcnQgZnVuY3Rpb24gd2VpZXJzdHJhc3MoY3VydmVEZWYpIHtcbiAgICBjb25zdCBDVVJWRSA9IHZhbGlkYXRlT3B0cyhjdXJ2ZURlZik7XG4gICAgY29uc3QgeyBGcCwgbjogQ1VSVkVfT1JERVIgfSA9IENVUlZFO1xuICAgIGNvbnN0IGNvbXByZXNzZWRMZW4gPSBGcC5CWVRFUyArIDE7IC8vIGUuZy4gMzMgZm9yIDMyXG4gICAgY29uc3QgdW5jb21wcmVzc2VkTGVuID0gMiAqIEZwLkJZVEVTICsgMTsgLy8gZS5nLiA2NSBmb3IgMzJcbiAgICBmdW5jdGlvbiBtb2ROKGEpIHtcbiAgICAgICAgcmV0dXJuIG1vZChhLCBDVVJWRV9PUkRFUik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludk4oYSkge1xuICAgICAgICByZXR1cm4gaW52ZXJ0KGEsIENVUlZFX09SREVSKTtcbiAgICB9XG4gICAgY29uc3QgeyBQcm9qZWN0aXZlUG9pbnQ6IFBvaW50LCBub3JtUHJpdmF0ZUtleVRvU2NhbGFyLCB3ZWllcnN0cmFzc0VxdWF0aW9uLCBpc1dpdGhpbkN1cnZlT3JkZXIsIH0gPSB3ZWllcnN0cmFzc1BvaW50cyh7XG4gICAgICAgIC4uLkNVUlZFLFxuICAgICAgICB0b0J5dGVzKF9jLCBwb2ludCwgaXNDb21wcmVzc2VkKSB7XG4gICAgICAgICAgICBjb25zdCBhID0gcG9pbnQudG9BZmZpbmUoKTtcbiAgICAgICAgICAgIGNvbnN0IHggPSBGcC50b0J5dGVzKGEueCk7XG4gICAgICAgICAgICBjb25zdCBjYXQgPSB1dC5jb25jYXRCeXRlcztcbiAgICAgICAgICAgIGFib29sKCdpc0NvbXByZXNzZWQnLCBpc0NvbXByZXNzZWQpO1xuICAgICAgICAgICAgaWYgKGlzQ29tcHJlc3NlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYXQoVWludDhBcnJheS5mcm9tKFtwb2ludC5oYXNFdmVuWSgpID8gMHgwMiA6IDB4MDNdKSwgeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2F0KFVpbnQ4QXJyYXkuZnJvbShbMHgwNF0pLCB4LCBGcC50b0J5dGVzKGEueSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmcm9tQnl0ZXMoYnl0ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IGJ5dGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGhlYWQgPSBieXRlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHRhaWwgPSBieXRlcy5zdWJhcnJheSgxKTtcbiAgICAgICAgICAgIC8vIHRoaXMuYXNzZXJ0VmFsaWRpdHkoKSBpcyBkb25lIGluc2lkZSBvZiBmcm9tSGV4XG4gICAgICAgICAgICBpZiAobGVuID09PSBjb21wcmVzc2VkTGVuICYmIChoZWFkID09PSAweDAyIHx8IGhlYWQgPT09IDB4MDMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHV0LmJ5dGVzVG9OdW1iZXJCRSh0YWlsKTtcbiAgICAgICAgICAgICAgICBpZiAoIXV0LmluUmFuZ2UoeCwgXzFuLCBGcC5PUkRFUikpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUG9pbnQgaXMgbm90IG9uIGN1cnZlJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgeTIgPSB3ZWllcnN0cmFzc0VxdWF0aW9uKHgpOyAvLyB5wrIgPSB4wrMgKyBheCArIGJcbiAgICAgICAgICAgICAgICBsZXQgeTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB5ID0gRnAuc3FydCh5Mik7IC8vIHkgPSB5wrIgXiAocCsxKS80XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChzcXJ0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VmZml4ID0gc3FydEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyAnOiAnICsgc3FydEVycm9yLm1lc3NhZ2UgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQb2ludCBpcyBub3Qgb24gY3VydmUnICsgc3VmZml4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaXNZT2RkID0gKHkgJiBfMW4pID09PSBfMW47XG4gICAgICAgICAgICAgICAgLy8gRUNEU0FcbiAgICAgICAgICAgICAgICBjb25zdCBpc0hlYWRPZGQgPSAoaGVhZCAmIDEpID09PSAxO1xuICAgICAgICAgICAgICAgIGlmIChpc0hlYWRPZGQgIT09IGlzWU9kZClcbiAgICAgICAgICAgICAgICAgICAgeSA9IEZwLm5lZyh5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsZW4gPT09IHVuY29tcHJlc3NlZExlbiAmJiBoZWFkID09PSAweDA0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IEZwLmZyb21CeXRlcyh0YWlsLnN1YmFycmF5KDAsIEZwLkJZVEVTKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IEZwLmZyb21CeXRlcyh0YWlsLnN1YmFycmF5KEZwLkJZVEVTLCAyICogRnAuQllURVMpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbCA9IGNvbXByZXNzZWRMZW47XG4gICAgICAgICAgICAgICAgY29uc3QgdWwgPSB1bmNvbXByZXNzZWRMZW47XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIFBvaW50LCBleHBlY3RlZCBsZW5ndGggb2YgJyArIGNsICsgJywgb3IgdW5jb21wcmVzc2VkICcgKyB1bCArICcsIGdvdCAnICsgbGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBjb25zdCBudW1Ub05CeXRlU3RyID0gKG51bSkgPT4gdXQuYnl0ZXNUb0hleCh1dC5udW1iZXJUb0J5dGVzQkUobnVtLCBDVVJWRS5uQnl0ZUxlbmd0aCkpO1xuICAgIGZ1bmN0aW9uIGlzQmlnZ2VyVGhhbkhhbGZPcmRlcihudW1iZXIpIHtcbiAgICAgICAgY29uc3QgSEFMRiA9IENVUlZFX09SREVSID4+IF8xbjtcbiAgICAgICAgcmV0dXJuIG51bWJlciA+IEhBTEY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVMocykge1xuICAgICAgICByZXR1cm4gaXNCaWdnZXJUaGFuSGFsZk9yZGVyKHMpID8gbW9kTigtcykgOiBzO1xuICAgIH1cbiAgICAvLyBzbGljZSBieXRlcyBudW1cbiAgICBjb25zdCBzbGNOdW0gPSAoYiwgZnJvbSwgdG8pID0+IHV0LmJ5dGVzVG9OdW1iZXJCRShiLnNsaWNlKGZyb20sIHRvKSk7XG4gICAgLyoqXG4gICAgICogRUNEU0Egc2lnbmF0dXJlIHdpdGggaXRzIChyLCBzKSBwcm9wZXJ0aWVzLiBTdXBwb3J0cyBERVIgJiBjb21wYWN0IHJlcHJlc2VudGF0aW9ucy5cbiAgICAgKi9cbiAgICBjbGFzcyBTaWduYXR1cmUge1xuICAgICAgICBjb25zdHJ1Y3RvcihyLCBzLCByZWNvdmVyeSkge1xuICAgICAgICAgICAgdGhpcy5yID0gcjtcbiAgICAgICAgICAgIHRoaXMucyA9IHM7XG4gICAgICAgICAgICB0aGlzLnJlY292ZXJ5ID0gcmVjb3Zlcnk7XG4gICAgICAgICAgICB0aGlzLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFpciAoYnl0ZXMgb2YgciwgYnl0ZXMgb2YgcylcbiAgICAgICAgc3RhdGljIGZyb21Db21wYWN0KGhleCkge1xuICAgICAgICAgICAgY29uc3QgbCA9IENVUlZFLm5CeXRlTGVuZ3RoO1xuICAgICAgICAgICAgaGV4ID0gZW5zdXJlQnl0ZXMoJ2NvbXBhY3RTaWduYXR1cmUnLCBoZXgsIGwgKiAyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2lnbmF0dXJlKHNsY051bShoZXgsIDAsIGwpLCBzbGNOdW0oaGV4LCBsLCAyICogbCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERFUiBlbmNvZGVkIEVDRFNBIHNpZ25hdHVyZVxuICAgICAgICAvLyBodHRwczovL2JpdGNvaW4uc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzU3NjQ0L3doYXQtYXJlLXRoZS1wYXJ0cy1vZi1hLWJpdGNvaW4tdHJhbnNhY3Rpb24taW5wdXQtc2NyaXB0XG4gICAgICAgIHN0YXRpYyBmcm9tREVSKGhleCkge1xuICAgICAgICAgICAgY29uc3QgeyByLCBzIH0gPSBERVIudG9TaWcoZW5zdXJlQnl0ZXMoJ0RFUicsIGhleCkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduYXR1cmUociwgcyk7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0VmFsaWRpdHkoKSB7XG4gICAgICAgICAgICB1dC5hSW5SYW5nZSgncicsIHRoaXMuciwgXzFuLCBDVVJWRV9PUkRFUik7IC8vIHIgaW4gWzEuLk5dXG4gICAgICAgICAgICB1dC5hSW5SYW5nZSgncycsIHRoaXMucywgXzFuLCBDVVJWRV9PUkRFUik7IC8vIHMgaW4gWzEuLk5dXG4gICAgICAgIH1cbiAgICAgICAgYWRkUmVjb3ZlcnlCaXQocmVjb3ZlcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2lnbmF0dXJlKHRoaXMuciwgdGhpcy5zLCByZWNvdmVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVjb3ZlclB1YmxpY0tleShtc2dIYXNoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHIsIHMsIHJlY292ZXJ5OiByZWMgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCBoID0gYml0czJpbnRfbW9kTihlbnN1cmVCeXRlcygnbXNnSGFzaCcsIG1zZ0hhc2gpKTsgLy8gVHJ1bmNhdGUgaGFzaFxuICAgICAgICAgICAgaWYgKHJlYyA9PSBudWxsIHx8ICFbMCwgMSwgMiwgM10uaW5jbHVkZXMocmVjKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlY292ZXJ5IGlkIGludmFsaWQnKTtcbiAgICAgICAgICAgIGNvbnN0IHJhZGogPSByZWMgPT09IDIgfHwgcmVjID09PSAzID8gciArIENVUlZFLm4gOiByO1xuICAgICAgICAgICAgaWYgKHJhZGogPj0gRnAuT1JERVIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZWNvdmVyeSBpZCAyIG9yIDMgaW52YWxpZCcpO1xuICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gKHJlYyAmIDEpID09PSAwID8gJzAyJyA6ICcwMyc7XG4gICAgICAgICAgICBjb25zdCBSID0gUG9pbnQuZnJvbUhleChwcmVmaXggKyBudW1Ub05CeXRlU3RyKHJhZGopKTtcbiAgICAgICAgICAgIGNvbnN0IGlyID0gaW52TihyYWRqKTsgLy8gcl4tMVxuICAgICAgICAgICAgY29uc3QgdTEgPSBtb2ROKC1oICogaXIpOyAvLyAtaHJeLTFcbiAgICAgICAgICAgIGNvbnN0IHUyID0gbW9kTihzICogaXIpOyAvLyBzcl4tMVxuICAgICAgICAgICAgY29uc3QgUSA9IFBvaW50LkJBU0UubXVsdGlwbHlBbmRBZGRVbnNhZmUoUiwgdTEsIHUyKTsgLy8gKHNyXi0xKVItKGhyXi0xKUcgPSAtKGhyXi0xKUcgKyAoc3JeLTEpXG4gICAgICAgICAgICBpZiAoIVEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2ludCBhdCBpbmZpbmlmeScpOyAvLyB1bnNhZmUgaXMgZmluZTogbm8gcHJpdiBkYXRhIGxlYWtlZFxuICAgICAgICAgICAgUS5hc3NlcnRWYWxpZGl0eSgpO1xuICAgICAgICAgICAgcmV0dXJuIFE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2lnbmF0dXJlcyBzaG91bGQgYmUgbG93LXMsIHRvIHByZXZlbnQgbWFsbGVhYmlsaXR5LlxuICAgICAgICBoYXNIaWdoUygpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0JpZ2dlclRoYW5IYWxmT3JkZXIodGhpcy5zKTtcbiAgICAgICAgfVxuICAgICAgICBub3JtYWxpemVTKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFzSGlnaFMoKSA/IG5ldyBTaWduYXR1cmUodGhpcy5yLCBtb2ROKC10aGlzLnMpLCB0aGlzLnJlY292ZXJ5KSA6IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gREVSLWVuY29kZWRcbiAgICAgICAgdG9ERVJSYXdCeXRlcygpIHtcbiAgICAgICAgICAgIHJldHVybiB1dC5oZXhUb0J5dGVzKHRoaXMudG9ERVJIZXgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9ERVJIZXgoKSB7XG4gICAgICAgICAgICByZXR1cm4gREVSLmhleEZyb21TaWcoeyByOiB0aGlzLnIsIHM6IHRoaXMucyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYWRkZWQgYnl0ZXMgb2YgciwgdGhlbiBwYWRkZWQgYnl0ZXMgb2Ygc1xuICAgICAgICB0b0NvbXBhY3RSYXdCeXRlcygpIHtcbiAgICAgICAgICAgIHJldHVybiB1dC5oZXhUb0J5dGVzKHRoaXMudG9Db21wYWN0SGV4KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRvQ29tcGFjdEhleCgpIHtcbiAgICAgICAgICAgIHJldHVybiBudW1Ub05CeXRlU3RyKHRoaXMucikgKyBudW1Ub05CeXRlU3RyKHRoaXMucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdXRpbHMgPSB7XG4gICAgICAgIGlzVmFsaWRQcml2YXRlS2V5KHByaXZhdGVLZXkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbm9ybVByaXZhdGVLZXlUb1NjYWxhcihwcml2YXRlS2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbm9ybVByaXZhdGVLZXlUb1NjYWxhcjogbm9ybVByaXZhdGVLZXlUb1NjYWxhcixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2R1Y2VzIGNyeXB0b2dyYXBoaWNhbGx5IHNlY3VyZSBwcml2YXRlIGtleSBmcm9tIHJhbmRvbSBvZiBzaXplXG4gICAgICAgICAqIChncm91cExlbiArIGNlaWwoZ3JvdXBMZW4gLyAyKSkgd2l0aCBtb2R1bG8gYmlhcyBiZWluZyBuZWdsaWdpYmxlLlxuICAgICAgICAgKi9cbiAgICAgICAgcmFuZG9tUHJpdmF0ZUtleTogKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gZ2V0TWluSGFzaExlbmd0aChDVVJWRS5uKTtcbiAgICAgICAgICAgIHJldHVybiBtYXBIYXNoVG9GaWVsZChDVVJWRS5yYW5kb21CeXRlcyhsZW5ndGgpLCBDVVJWRS5uKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgcHJlY29tcHV0ZSB0YWJsZSBmb3IgYW4gYXJiaXRyYXJ5IEVDIHBvaW50LiBNYWtlcyBwb2ludCBcImNhY2hlZFwiLlxuICAgICAgICAgKiBBbGxvd3MgdG8gbWFzc2l2ZWx5IHNwZWVkLXVwIGBwb2ludC5tdWx0aXBseShzY2FsYXIpYC5cbiAgICAgICAgICogQHJldHVybnMgY2FjaGVkIHBvaW50XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNvbnN0IGZhc3QgPSB1dGlscy5wcmVjb21wdXRlKDgsIFByb2plY3RpdmVQb2ludC5mcm9tSGV4KHNvbWVvbmVzUHViS2V5KSk7XG4gICAgICAgICAqIGZhc3QubXVsdGlwbHkocHJpdktleSk7IC8vIG11Y2ggZmFzdGVyIEVDREggbm93XG4gICAgICAgICAqL1xuICAgICAgICBwcmVjb21wdXRlKHdpbmRvd1NpemUgPSA4LCBwb2ludCA9IFBvaW50LkJBU0UpIHtcbiAgICAgICAgICAgIHBvaW50Ll9zZXRXaW5kb3dTaXplKHdpbmRvd1NpemUpO1xuICAgICAgICAgICAgcG9pbnQubXVsdGlwbHkoQmlnSW50KDMpKTsgLy8gMyBpcyBhcmJpdHJhcnksIGp1c3QgbmVlZCBhbnkgbnVtYmVyIGhlcmVcbiAgICAgICAgICAgIHJldHVybiBwb2ludDtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHB1YmxpYyBrZXkgZm9yIGEgcHJpdmF0ZSBrZXkuIENoZWNrcyBmb3IgdmFsaWRpdHkgb2YgdGhlIHByaXZhdGUga2V5LlxuICAgICAqIEBwYXJhbSBwcml2YXRlS2V5IHByaXZhdGUga2V5XG4gICAgICogQHBhcmFtIGlzQ29tcHJlc3NlZCB3aGV0aGVyIHRvIHJldHVybiBjb21wYWN0IChkZWZhdWx0KSwgb3IgZnVsbCBrZXlcbiAgICAgKiBAcmV0dXJucyBQdWJsaWMga2V5LCBmdWxsIHdoZW4gaXNDb21wcmVzc2VkPWZhbHNlOyBzaG9ydCB3aGVuIGlzQ29tcHJlc3NlZD10cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UHVibGljS2V5KHByaXZhdGVLZXksIGlzQ29tcHJlc3NlZCA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIFBvaW50LmZyb21Qcml2YXRlS2V5KHByaXZhdGVLZXkpLnRvUmF3Qnl0ZXMoaXNDb21wcmVzc2VkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUXVpY2sgYW5kIGRpcnR5IGNoZWNrIGZvciBpdGVtIGJlaW5nIHB1YmxpYyBrZXkuIERvZXMgbm90IHZhbGlkYXRlIGhleCwgb3IgYmVpbmcgb24tY3VydmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQcm9iUHViKGl0ZW0pIHtcbiAgICAgICAgY29uc3QgYXJyID0gdXQuaXNCeXRlcyhpdGVtKTtcbiAgICAgICAgY29uc3Qgc3RyID0gdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnO1xuICAgICAgICBjb25zdCBsZW4gPSAoYXJyIHx8IHN0cikgJiYgaXRlbS5sZW5ndGg7XG4gICAgICAgIGlmIChhcnIpXG4gICAgICAgICAgICByZXR1cm4gbGVuID09PSBjb21wcmVzc2VkTGVuIHx8IGxlbiA9PT0gdW5jb21wcmVzc2VkTGVuO1xuICAgICAgICBpZiAoc3RyKVxuICAgICAgICAgICAgcmV0dXJuIGxlbiA9PT0gMiAqIGNvbXByZXNzZWRMZW4gfHwgbGVuID09PSAyICogdW5jb21wcmVzc2VkTGVuO1xuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRUNESCAoRWxsaXB0aWMgQ3VydmUgRGlmZmllIEhlbGxtYW4pLlxuICAgICAqIENvbXB1dGVzIHNoYXJlZCBwdWJsaWMga2V5IGZyb20gcHJpdmF0ZSBrZXkgYW5kIHB1YmxpYyBrZXkuXG4gICAgICogQ2hlY2tzOiAxKSBwcml2YXRlIGtleSB2YWxpZGl0eSAyKSBzaGFyZWQga2V5IGlzIG9uLWN1cnZlLlxuICAgICAqIERvZXMgTk9UIGhhc2ggdGhlIHJlc3VsdC5cbiAgICAgKiBAcGFyYW0gcHJpdmF0ZUEgcHJpdmF0ZSBrZXlcbiAgICAgKiBAcGFyYW0gcHVibGljQiBkaWZmZXJlbnQgcHVibGljIGtleVxuICAgICAqIEBwYXJhbSBpc0NvbXByZXNzZWQgd2hldGhlciB0byByZXR1cm4gY29tcGFjdCAoZGVmYXVsdCksIG9yIGZ1bGwga2V5XG4gICAgICogQHJldHVybnMgc2hhcmVkIHB1YmxpYyBrZXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRTaGFyZWRTZWNyZXQocHJpdmF0ZUEsIHB1YmxpY0IsIGlzQ29tcHJlc3NlZCA9IHRydWUpIHtcbiAgICAgICAgaWYgKGlzUHJvYlB1Yihwcml2YXRlQSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IGFyZyBtdXN0IGJlIHByaXZhdGUga2V5Jyk7XG4gICAgICAgIGlmICghaXNQcm9iUHViKHB1YmxpY0IpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZWNvbmQgYXJnIG11c3QgYmUgcHVibGljIGtleScpO1xuICAgICAgICBjb25zdCBiID0gUG9pbnQuZnJvbUhleChwdWJsaWNCKTsgLy8gY2hlY2sgZm9yIGJlaW5nIG9uLWN1cnZlXG4gICAgICAgIHJldHVybiBiLm11bHRpcGx5KG5vcm1Qcml2YXRlS2V5VG9TY2FsYXIocHJpdmF0ZUEpKS50b1Jhd0J5dGVzKGlzQ29tcHJlc3NlZCk7XG4gICAgfVxuICAgIC8vIFJGQzY5Nzk6IGVuc3VyZSBFQ0RTQSBtc2cgaXMgWCBieXRlcyBhbmQgPCBOLiBSRkMgc3VnZ2VzdHMgb3B0aW9uYWwgdHJ1bmNhdGluZyB2aWEgYml0czJvY3RldHMuXG4gICAgLy8gRklQUyAxODYtNCA0LjYgc3VnZ2VzdHMgdGhlIGxlZnRtb3N0IG1pbihuQml0TGVuLCBvdXRMZW4pIGJpdHMsIHdoaWNoIG1hdGNoZXMgYml0czJpbnQuXG4gICAgLy8gYml0czJpbnQgY2FuIHByb2R1Y2UgcmVzPk4sIHdlIGNhbiBkbyBtb2QocmVzLCBOKSBzaW5jZSB0aGUgYml0TGVuIGlzIHRoZSBzYW1lLlxuICAgIC8vIGludDJvY3RldHMgY2FuJ3QgYmUgdXNlZDsgcGFkcyBzbWFsbCBtc2dzIHdpdGggMDogdW5hY2NlcHRhdGJsZSBmb3IgdHJ1bmMgYXMgcGVyIFJGQyB2ZWN0b3JzXG4gICAgY29uc3QgYml0czJpbnQgPSBDVVJWRS5iaXRzMmludCB8fFxuICAgICAgICBmdW5jdGlvbiAoYnl0ZXMpIHtcbiAgICAgICAgICAgIC8vIE91ciBjdXN0b20gY2hlY2sgXCJqdXN0IGluIGNhc2VcIlxuICAgICAgICAgICAgaWYgKGJ5dGVzLmxlbmd0aCA+IDgxOTIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnB1dCBpcyB0b28gbGFyZ2UnKTtcbiAgICAgICAgICAgIC8vIEZvciBjdXJ2ZXMgd2l0aCBuQml0TGVuZ3RoICUgOCAhPT0gMDogYml0czJvY3RldHMoYml0czJvY3RldHMobSkpICE9PSBiaXRzMm9jdGV0cyhtKVxuICAgICAgICAgICAgLy8gZm9yIHNvbWUgY2FzZXMsIHNpbmNlIGJ5dGVzLmxlbmd0aCAqIDggaXMgbm90IGFjdHVhbCBiaXRMZW5ndGguXG4gICAgICAgICAgICBjb25zdCBudW0gPSB1dC5ieXRlc1RvTnVtYmVyQkUoYnl0ZXMpOyAvLyBjaGVjayBmb3IgPT0gdTggZG9uZSBoZXJlXG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IGJ5dGVzLmxlbmd0aCAqIDggLSBDVVJWRS5uQml0TGVuZ3RoOyAvLyB0cnVuY2F0ZSB0byBuQml0TGVuZ3RoIGxlZnRtb3N0IGJpdHNcbiAgICAgICAgICAgIHJldHVybiBkZWx0YSA+IDAgPyBudW0gPj4gQmlnSW50KGRlbHRhKSA6IG51bTtcbiAgICAgICAgfTtcbiAgICBjb25zdCBiaXRzMmludF9tb2ROID0gQ1VSVkUuYml0czJpbnRfbW9kTiB8fFxuICAgICAgICBmdW5jdGlvbiAoYnl0ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2ROKGJpdHMyaW50KGJ5dGVzKSk7IC8vIGNhbid0IHVzZSBieXRlc1RvTnVtYmVyQkUgaGVyZVxuICAgICAgICB9O1xuICAgIC8vIE5PVEU6IHBhZHMgb3V0cHV0IHdpdGggemVybyBhcyBwZXIgc3BlY1xuICAgIGNvbnN0IE9SREVSX01BU0sgPSB1dC5iaXRNYXNrKENVUlZFLm5CaXRMZW5ndGgpO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRvIGJ5dGVzLiBDaGVja3MgaWYgbnVtIGluIGBbMC4uT1JERVJfTUFTSy0xXWAgZS5nLjogYFswLi4yXjI1Ni0xXWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW50Mm9jdGV0cyhudW0pIHtcbiAgICAgICAgdXQuYUluUmFuZ2UoJ251bSA8IDJeJyArIENVUlZFLm5CaXRMZW5ndGgsIG51bSwgXzBuLCBPUkRFUl9NQVNLKTtcbiAgICAgICAgLy8gd29ya3Mgd2l0aCBvcmRlciwgY2FuIGhhdmUgZGlmZmVyZW50IHNpemUgdGhhbiBudW1Ub0ZpZWxkIVxuICAgICAgICByZXR1cm4gdXQubnVtYmVyVG9CeXRlc0JFKG51bSwgQ1VSVkUubkJ5dGVMZW5ndGgpO1xuICAgIH1cbiAgICAvLyBTdGVwcyBBLCBEIG9mIFJGQzY5NzkgMy4yXG4gICAgLy8gQ3JlYXRlcyBSRkM2OTc5IHNlZWQ7IGNvbnZlcnRzIG1zZy9wcml2S2V5IHRvIG51bWJlcnMuXG4gICAgLy8gVXNlZCBvbmx5IGluIHNpZ24sIG5vdCBpbiB2ZXJpZnkuXG4gICAgLy8gTk9URTogd2UgY2Fubm90IGFzc3VtZSBoZXJlIHRoYXQgbXNnSGFzaCBoYXMgc2FtZSBhbW91bnQgb2YgYnl0ZXMgYXMgY3VydmUgb3JkZXIsXG4gICAgLy8gdGhpcyB3aWxsIGJlIGludmFsaWQgYXQgbGVhc3QgZm9yIFA1MjEuIEFsc28gaXQgY2FuIGJlIGJpZ2dlciBmb3IgUDIyNCArIFNIQTI1NlxuICAgIGZ1bmN0aW9uIHByZXBTaWcobXNnSGFzaCwgcHJpdmF0ZUtleSwgb3B0cyA9IGRlZmF1bHRTaWdPcHRzKSB7XG4gICAgICAgIGlmIChbJ3JlY292ZXJlZCcsICdjYW5vbmljYWwnXS5zb21lKChrKSA9PiBrIGluIG9wdHMpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduKCkgbGVnYWN5IG9wdGlvbnMgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICBjb25zdCB7IGhhc2gsIHJhbmRvbUJ5dGVzIH0gPSBDVVJWRTtcbiAgICAgICAgbGV0IHsgbG93UywgcHJlaGFzaCwgZXh0cmFFbnRyb3B5OiBlbnQgfSA9IG9wdHM7IC8vIGdlbmVyYXRlcyBsb3ctcyBzaWdzIGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKGxvd1MgPT0gbnVsbClcbiAgICAgICAgICAgIGxvd1MgPSB0cnVlOyAvLyBSRkM2OTc5IDMuMjogd2Ugc2tpcCBzdGVwIEEsIGJlY2F1c2Ugd2UgYWxyZWFkeSBwcm92aWRlIGhhc2hcbiAgICAgICAgbXNnSGFzaCA9IGVuc3VyZUJ5dGVzKCdtc2dIYXNoJywgbXNnSGFzaCk7XG4gICAgICAgIHZhbGlkYXRlU2lnVmVyT3B0cyhvcHRzKTtcbiAgICAgICAgaWYgKHByZWhhc2gpXG4gICAgICAgICAgICBtc2dIYXNoID0gZW5zdXJlQnl0ZXMoJ3ByZWhhc2hlZCBtc2dIYXNoJywgaGFzaChtc2dIYXNoKSk7XG4gICAgICAgIC8vIFdlIGNhbid0IGxhdGVyIGNhbGwgYml0czJvY3RldHMsIHNpbmNlIG5lc3RlZCBiaXRzMmludCBpcyBicm9rZW4gZm9yIGN1cnZlc1xuICAgICAgICAvLyB3aXRoIG5CaXRMZW5ndGggJSA4ICE9PSAwLiBCZWNhdXNlIG9mIHRoYXQsIHdlIHVud3JhcCBpdCBoZXJlIGFzIGludDJvY3RldHMgY2FsbC5cbiAgICAgICAgLy8gY29uc3QgYml0czJvY3RldHMgPSAoYml0cykgPT4gaW50Mm9jdGV0cyhiaXRzMmludF9tb2ROKGJpdHMpKVxuICAgICAgICBjb25zdCBoMWludCA9IGJpdHMyaW50X21vZE4obXNnSGFzaCk7XG4gICAgICAgIGNvbnN0IGQgPSBub3JtUHJpdmF0ZUtleVRvU2NhbGFyKHByaXZhdGVLZXkpOyAvLyB2YWxpZGF0ZSBwcml2YXRlIGtleSwgY29udmVydCB0byBiaWdpbnRcbiAgICAgICAgY29uc3Qgc2VlZEFyZ3MgPSBbaW50Mm9jdGV0cyhkKSwgaW50Mm9jdGV0cyhoMWludCldO1xuICAgICAgICAvLyBleHRyYUVudHJvcHkuIFJGQzY5NzkgMy42OiBhZGRpdGlvbmFsIGsnIChvcHRpb25hbCkuXG4gICAgICAgIGlmIChlbnQgIT0gbnVsbCAmJiBlbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBLID0gSE1BQ19LKFYgfHwgMHgwMCB8fCBpbnQyb2N0ZXRzKHgpIHx8IGJpdHMyb2N0ZXRzKGgxKSB8fCBrJylcbiAgICAgICAgICAgIGNvbnN0IGUgPSBlbnQgPT09IHRydWUgPyByYW5kb21CeXRlcyhGcC5CWVRFUykgOiBlbnQ7IC8vIGdlbmVyYXRlIHJhbmRvbSBieXRlcyBPUiBwYXNzIGFzLWlzXG4gICAgICAgICAgICBzZWVkQXJncy5wdXNoKGVuc3VyZUJ5dGVzKCdleHRyYUVudHJvcHknLCBlKSk7IC8vIGNoZWNrIGZvciBiZWluZyBieXRlc1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlZWQgPSB1dC5jb25jYXRCeXRlcyguLi5zZWVkQXJncyk7IC8vIFN0ZXAgRCBvZiBSRkM2OTc5IDMuMlxuICAgICAgICBjb25zdCBtID0gaDFpbnQ7IC8vIE5PVEU6IG5vIG5lZWQgdG8gY2FsbCBiaXRzMmludCBzZWNvbmQgdGltZSBoZXJlLCBpdCBpcyBpbnNpZGUgdHJ1bmNhdGVIYXNoIVxuICAgICAgICAvLyBDb252ZXJ0cyBzaWduYXR1cmUgcGFyYW1zIGludG8gcG9pbnQgdyByL3MsIGNoZWNrcyByZXN1bHQgZm9yIHZhbGlkaXR5LlxuICAgICAgICBmdW5jdGlvbiBrMnNpZyhrQnl0ZXMpIHtcbiAgICAgICAgICAgIC8vIFJGQyA2OTc5IFNlY3Rpb24gMy4yLCBzdGVwIDM6IGsgPSBiaXRzMmludChUKVxuICAgICAgICAgICAgY29uc3QgayA9IGJpdHMyaW50KGtCeXRlcyk7IC8vIENhbm5vdCB1c2UgZmllbGRzIG1ldGhvZHMsIHNpbmNlIGl0IGlzIGdyb3VwIGVsZW1lbnRcbiAgICAgICAgICAgIGlmICghaXNXaXRoaW5DdXJ2ZU9yZGVyKGspKVxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gSW1wb3J0YW50OiBhbGwgbW9kKCkgY2FsbHMgaGVyZSBtdXN0IGJlIGRvbmUgb3ZlciBOXG4gICAgICAgICAgICBjb25zdCBpayA9IGludk4oayk7IC8vIGteLTEgbW9kIG5cbiAgICAgICAgICAgIGNvbnN0IHEgPSBQb2ludC5CQVNFLm11bHRpcGx5KGspLnRvQWZmaW5lKCk7IC8vIHEgPSBHa1xuICAgICAgICAgICAgY29uc3QgciA9IG1vZE4ocS54KTsgLy8gciA9IHEueCBtb2QgblxuICAgICAgICAgICAgaWYgKHIgPT09IF8wbilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBDYW4gdXNlIHNjYWxhciBibGluZGluZyBiXi0xKGJtICsgYmRyKSB3aGVyZSBiIOKIiCBbMSxx4oiSMV0gYWNjb3JkaW5nIHRvXG4gICAgICAgICAgICAvLyBodHRwczovL3RjaGVzLmlhY3Iub3JnL2luZGV4LnBocC9UQ0hFUy9hcnRpY2xlL3ZpZXcvNzMzNy82NTA5LiBXZSd2ZSBkZWNpZGVkIGFnYWluc3QgaXQ6XG4gICAgICAgICAgICAvLyBhKSBkZXBlbmRlbmN5IG9uIENTUFJORyBiKSAxNSUgc2xvd2Rvd24gYykgZG9lc24ndCByZWFsbHkgaGVscCBzaW5jZSBiaWdpbnRzIGFyZSBub3QgQ1RcbiAgICAgICAgICAgIGNvbnN0IHMgPSBtb2ROKGlrICogbW9kTihtICsgciAqIGQpKTsgLy8gTm90IHVzaW5nIGJsaW5kaW5nIGhlcmVcbiAgICAgICAgICAgIGlmIChzID09PSBfMG4pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHJlY292ZXJ5ID0gKHEueCA9PT0gciA/IDAgOiAyKSB8IE51bWJlcihxLnkgJiBfMW4pOyAvLyByZWNvdmVyeSBiaXQgKDIgb3IgMywgd2hlbiBxLnggPiBuKVxuICAgICAgICAgICAgbGV0IG5vcm1TID0gcztcbiAgICAgICAgICAgIGlmIChsb3dTICYmIGlzQmlnZ2VyVGhhbkhhbGZPcmRlcihzKSkge1xuICAgICAgICAgICAgICAgIG5vcm1TID0gbm9ybWFsaXplUyhzKTsgLy8gaWYgbG93UyB3YXMgcGFzc2VkLCBlbnN1cmUgcyBpcyBhbHdheXNcbiAgICAgICAgICAgICAgICByZWNvdmVyeSBePSAxOyAvLyAvLyBpbiB0aGUgYm90dG9tIGhhbGYgb2YgTlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduYXR1cmUociwgbm9ybVMsIHJlY292ZXJ5KTsgLy8gdXNlIG5vcm1TLCBub3Qgc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHNlZWQsIGsyc2lnIH07XG4gICAgfVxuICAgIGNvbnN0IGRlZmF1bHRTaWdPcHRzID0geyBsb3dTOiBDVVJWRS5sb3dTLCBwcmVoYXNoOiBmYWxzZSB9O1xuICAgIGNvbnN0IGRlZmF1bHRWZXJPcHRzID0geyBsb3dTOiBDVVJWRS5sb3dTLCBwcmVoYXNoOiBmYWxzZSB9O1xuICAgIC8qKlxuICAgICAqIFNpZ25zIG1lc3NhZ2UgaGFzaCB3aXRoIGEgcHJpdmF0ZSBrZXkuXG4gICAgICogYGBgXG4gICAgICogc2lnbihtLCBkLCBrKSB3aGVyZVxuICAgICAqICAgKHgsIHkpID0gRyDDlyBrXG4gICAgICogICByID0geCBtb2QgblxuICAgICAqICAgcyA9IChtICsgZHIpL2sgbW9kIG5cbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gbXNnSGFzaCBOT1QgbWVzc2FnZS4gbXNnIG5lZWRzIHRvIGJlIGhhc2hlZCB0byBgbXNnSGFzaGAsIG9yIHVzZSBgcHJlaGFzaGAuXG4gICAgICogQHBhcmFtIHByaXZLZXkgcHJpdmF0ZSBrZXlcbiAgICAgKiBAcGFyYW0gb3B0cyBsb3dTIGZvciBub24tbWFsbGVhYmxlIHNpZ3MuIGV4dHJhRW50cm9weSBmb3IgbWl4aW5nIHJhbmRvbW5lc3MgaW50byBrLiBwcmVoYXNoIHdpbGwgaGFzaCBmaXJzdCBhcmcuXG4gICAgICogQHJldHVybnMgc2lnbmF0dXJlIHdpdGggcmVjb3ZlcnkgcGFyYW1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduKG1zZ0hhc2gsIHByaXZLZXksIG9wdHMgPSBkZWZhdWx0U2lnT3B0cykge1xuICAgICAgICBjb25zdCB7IHNlZWQsIGsyc2lnIH0gPSBwcmVwU2lnKG1zZ0hhc2gsIHByaXZLZXksIG9wdHMpOyAvLyBTdGVwcyBBLCBEIG9mIFJGQzY5NzkgMy4yLlxuICAgICAgICBjb25zdCBDID0gQ1VSVkU7XG4gICAgICAgIGNvbnN0IGRyYmcgPSB1dC5jcmVhdGVIbWFjRHJiZyhDLmhhc2gub3V0cHV0TGVuLCBDLm5CeXRlTGVuZ3RoLCBDLmhtYWMpO1xuICAgICAgICByZXR1cm4gZHJiZyhzZWVkLCBrMnNpZyk7IC8vIFN0ZXBzIEIsIEMsIEQsIEUsIEYsIEdcbiAgICB9XG4gICAgLy8gRW5hYmxlIHByZWNvbXB1dGVzLiBTbG93cyBkb3duIGZpcnN0IHB1YmxpY0tleSBjb21wdXRhdGlvbiBieSAyMG1zLlxuICAgIFBvaW50LkJBU0UuX3NldFdpbmRvd1NpemUoOCk7XG4gICAgLy8gdXRpbHMucHJlY29tcHV0ZSg4LCBQcm9qZWN0aXZlUG9pbnQuQkFTRSlcbiAgICAvKipcbiAgICAgKiBWZXJpZmllcyBhIHNpZ25hdHVyZSBhZ2FpbnN0IG1lc3NhZ2UgaGFzaCBhbmQgcHVibGljIGtleS5cbiAgICAgKiBSZWplY3RzIGxvd1Mgc2lnbmF0dXJlcyBieSBkZWZhdWx0OiB0byBvdmVycmlkZSxcbiAgICAgKiBzcGVjaWZ5IG9wdGlvbiBge2xvd1M6IGZhbHNlfWAuIEltcGxlbWVudHMgc2VjdGlvbiA0LjEuNCBmcm9tIGh0dHBzOi8vd3d3LnNlY2cub3JnL3NlYzEtdjIucGRmOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogdmVyaWZ5KHIsIHMsIGgsIFApIHdoZXJlXG4gICAgICogICBVMSA9IGhzXi0xIG1vZCBuXG4gICAgICogICBVMiA9IHJzXi0xIG1vZCBuXG4gICAgICogICBSID0gVTHii4VHIC0gVTLii4VQXG4gICAgICogICBtb2QoUi54LCBuKSA9PSByXG4gICAgICogYGBgXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmVyaWZ5KHNpZ25hdHVyZSwgbXNnSGFzaCwgcHVibGljS2V5LCBvcHRzID0gZGVmYXVsdFZlck9wdHMpIHtcbiAgICAgICAgY29uc3Qgc2cgPSBzaWduYXR1cmU7XG4gICAgICAgIG1zZ0hhc2ggPSBlbnN1cmVCeXRlcygnbXNnSGFzaCcsIG1zZ0hhc2gpO1xuICAgICAgICBwdWJsaWNLZXkgPSBlbnN1cmVCeXRlcygncHVibGljS2V5JywgcHVibGljS2V5KTtcbiAgICAgICAgY29uc3QgeyBsb3dTLCBwcmVoYXNoLCBmb3JtYXQgfSA9IG9wdHM7XG4gICAgICAgIC8vIFZlcmlmeSBvcHRzLCBkZWR1Y2Ugc2lnbmF0dXJlIGZvcm1hdFxuICAgICAgICB2YWxpZGF0ZVNpZ1Zlck9wdHMob3B0cyk7XG4gICAgICAgIGlmICgnc3RyaWN0JyBpbiBvcHRzKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvcHRpb25zLnN0cmljdCB3YXMgcmVuYW1lZCB0byBsb3dTJyk7XG4gICAgICAgIGlmIChmb3JtYXQgIT09IHVuZGVmaW5lZCAmJiBmb3JtYXQgIT09ICdjb21wYWN0JyAmJiBmb3JtYXQgIT09ICdkZXInKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdmb3JtYXQgbXVzdCBiZSBjb21wYWN0IG9yIGRlcicpO1xuICAgICAgICBjb25zdCBpc0hleCA9IHR5cGVvZiBzZyA9PT0gJ3N0cmluZycgfHwgdXQuaXNCeXRlcyhzZyk7XG4gICAgICAgIGNvbnN0IGlzT2JqID0gIWlzSGV4ICYmXG4gICAgICAgICAgICAhZm9ybWF0ICYmXG4gICAgICAgICAgICB0eXBlb2Ygc2cgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBzZyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgdHlwZW9mIHNnLnIgPT09ICdiaWdpbnQnICYmXG4gICAgICAgICAgICB0eXBlb2Ygc2cucyA9PT0gJ2JpZ2ludCc7XG4gICAgICAgIGlmICghaXNIZXggJiYgIWlzT2JqKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHNpZ25hdHVyZSwgZXhwZWN0ZWQgVWludDhBcnJheSwgaGV4IHN0cmluZyBvciBTaWduYXR1cmUgaW5zdGFuY2UnKTtcbiAgICAgICAgbGV0IF9zaWcgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBQO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGlzT2JqKVxuICAgICAgICAgICAgICAgIF9zaWcgPSBuZXcgU2lnbmF0dXJlKHNnLnIsIHNnLnMpO1xuICAgICAgICAgICAgaWYgKGlzSGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gU2lnbmF0dXJlIGNhbiBiZSByZXByZXNlbnRlZCBpbiAyIHdheXM6IGNvbXBhY3QgKDIqbkJ5dGVMZW5ndGgpICYgREVSICh2YXJpYWJsZS1sZW5ndGgpLlxuICAgICAgICAgICAgICAgIC8vIFNpbmNlIERFUiBjYW4gYWxzbyBiZSAyKm5CeXRlTGVuZ3RoIGJ5dGVzLCB3ZSBjaGVjayBmb3IgaXQgZmlyc3QuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdCAhPT0gJ2NvbXBhY3QnKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3NpZyA9IFNpZ25hdHVyZS5mcm9tREVSKHNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGRlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGRlckVycm9yIGluc3RhbmNlb2YgREVSLkVycikpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBkZXJFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFfc2lnICYmIGZvcm1hdCAhPT0gJ2RlcicpXG4gICAgICAgICAgICAgICAgICAgIF9zaWcgPSBTaWduYXR1cmUuZnJvbUNvbXBhY3Qoc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUCA9IFBvaW50LmZyb21IZXgocHVibGljS2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIV9zaWcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChsb3dTICYmIF9zaWcuaGFzSGlnaFMoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHByZWhhc2gpXG4gICAgICAgICAgICBtc2dIYXNoID0gQ1VSVkUuaGFzaChtc2dIYXNoKTtcbiAgICAgICAgY29uc3QgeyByLCBzIH0gPSBfc2lnO1xuICAgICAgICBjb25zdCBoID0gYml0czJpbnRfbW9kTihtc2dIYXNoKTsgLy8gQ2Fubm90IHVzZSBmaWVsZHMgbWV0aG9kcywgc2luY2UgaXQgaXMgZ3JvdXAgZWxlbWVudFxuICAgICAgICBjb25zdCBpcyA9IGludk4ocyk7IC8vIHNeLTFcbiAgICAgICAgY29uc3QgdTEgPSBtb2ROKGggKiBpcyk7IC8vIHUxID0gaHNeLTEgbW9kIG5cbiAgICAgICAgY29uc3QgdTIgPSBtb2ROKHIgKiBpcyk7IC8vIHUyID0gcnNeLTEgbW9kIG5cbiAgICAgICAgY29uc3QgUiA9IFBvaW50LkJBU0UubXVsdGlwbHlBbmRBZGRVbnNhZmUoUCwgdTEsIHUyKT8udG9BZmZpbmUoKTsgLy8gUiA9IHUx4ouFRyArIHUy4ouFUFxuICAgICAgICBpZiAoIVIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IHYgPSBtb2ROKFIueCk7XG4gICAgICAgIHJldHVybiB2ID09PSByO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBDVVJWRSxcbiAgICAgICAgZ2V0UHVibGljS2V5LFxuICAgICAgICBnZXRTaGFyZWRTZWNyZXQsXG4gICAgICAgIHNpZ24sXG4gICAgICAgIHZlcmlmeSxcbiAgICAgICAgUHJvamVjdGl2ZVBvaW50OiBQb2ludCxcbiAgICAgICAgU2lnbmF0dXJlLFxuICAgICAgICB1dGlscyxcbiAgICB9O1xufVxuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2hhbGx1ZSBhbmQgdmFuIGRlIFdvZXN0aWpuZSBtZXRob2QgZm9yIGFueSB3ZWllcnN0cmFzcyBjdXJ2ZS5cbiAqIFRPRE86IGNoZWNrIGlmIHRoZXJlIGlzIGEgd2F5IHRvIG1lcmdlIHRoaXMgd2l0aCB1dlJhdGlvIGluIEVkd2FyZHM7IG1vdmUgdG8gbW9kdWxhci5cbiAqIGIgPSBUcnVlIGFuZCB5ID0gc3FydCh1IC8gdikgaWYgKHUgLyB2KSBpcyBzcXVhcmUgaW4gRiwgYW5kXG4gKiBiID0gRmFsc2UgYW5kIHkgPSBzcXJ0KFogKiAodSAvIHYpKSBvdGhlcndpc2UuXG4gKiBAcGFyYW0gRnBcbiAqIEBwYXJhbSBaXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gU1dVRnBTcXJ0UmF0aW8oRnAsIFopIHtcbiAgICAvLyBHZW5lcmljIGltcGxlbWVudGF0aW9uXG4gICAgY29uc3QgcSA9IEZwLk9SREVSO1xuICAgIGxldCBsID0gXzBuO1xuICAgIGZvciAobGV0IG8gPSBxIC0gXzFuOyBvICUgXzJuID09PSBfMG47IG8gLz0gXzJuKVxuICAgICAgICBsICs9IF8xbjtcbiAgICBjb25zdCBjMSA9IGw7IC8vIDEuIGMxLCB0aGUgbGFyZ2VzdCBpbnRlZ2VyIHN1Y2ggdGhhdCAyXmMxIGRpdmlkZXMgcSAtIDEuXG4gICAgLy8gV2UgbmVlZCAybiAqKiBjMSBhbmQgMm4gKiogKGMxLTEpLiBXZSBjYW4ndCB1c2UgKio7IGJ1dCB3ZSBjYW4gdXNlIDw8LlxuICAgIC8vIDJuICoqIGMxID09IDJuIDw8IChjMS0xKVxuICAgIGNvbnN0IF8ybl9wb3dfYzFfMSA9IF8ybiA8PCAoYzEgLSBfMW4gLSBfMW4pO1xuICAgIGNvbnN0IF8ybl9wb3dfYzEgPSBfMm5fcG93X2MxXzEgKiBfMm47XG4gICAgY29uc3QgYzIgPSAocSAtIF8xbikgLyBfMm5fcG93X2MxOyAvLyAyLiBjMiA9IChxIC0gMSkgLyAoMl5jMSkgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzMgPSAoYzIgLSBfMW4pIC8gXzJuOyAvLyAzLiBjMyA9IChjMiAtIDEpIC8gMiAgICAgICAgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzQgPSBfMm5fcG93X2MxIC0gXzFuOyAvLyA0LiBjNCA9IDJeYzEgLSAxICAgICAgICAgICAgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzUgPSBfMm5fcG93X2MxXzE7IC8vIDUuIGM1ID0gMl4oYzEgLSAxKSAgICAgICAgICAgICAgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzYgPSBGcC5wb3coWiwgYzIpOyAvLyA2LiBjNiA9IFpeYzJcbiAgICBjb25zdCBjNyA9IEZwLnBvdyhaLCAoYzIgKyBfMW4pIC8gXzJuKTsgLy8gNy4gYzcgPSBaXigoYzIgKyAxKSAvIDIpXG4gICAgbGV0IHNxcnRSYXRpbyA9ICh1LCB2KSA9PiB7XG4gICAgICAgIGxldCB0djEgPSBjNjsgLy8gMS4gdHYxID0gYzZcbiAgICAgICAgbGV0IHR2MiA9IEZwLnBvdyh2LCBjNCk7IC8vIDIuIHR2MiA9IHZeYzRcbiAgICAgICAgbGV0IHR2MyA9IEZwLnNxcih0djIpOyAvLyAzLiB0djMgPSB0djJeMlxuICAgICAgICB0djMgPSBGcC5tdWwodHYzLCB2KTsgLy8gNC4gdHYzID0gdHYzICogdlxuICAgICAgICBsZXQgdHY1ID0gRnAubXVsKHUsIHR2Myk7IC8vIDUuIHR2NSA9IHUgKiB0djNcbiAgICAgICAgdHY1ID0gRnAucG93KHR2NSwgYzMpOyAvLyA2LiB0djUgPSB0djVeYzNcbiAgICAgICAgdHY1ID0gRnAubXVsKHR2NSwgdHYyKTsgLy8gNy4gdHY1ID0gdHY1ICogdHYyXG4gICAgICAgIHR2MiA9IEZwLm11bCh0djUsIHYpOyAvLyA4LiB0djIgPSB0djUgKiB2XG4gICAgICAgIHR2MyA9IEZwLm11bCh0djUsIHUpOyAvLyA5LiB0djMgPSB0djUgKiB1XG4gICAgICAgIGxldCB0djQgPSBGcC5tdWwodHYzLCB0djIpOyAvLyAxMC4gdHY0ID0gdHYzICogdHYyXG4gICAgICAgIHR2NSA9IEZwLnBvdyh0djQsIGM1KTsgLy8gMTEuIHR2NSA9IHR2NF5jNVxuICAgICAgICBsZXQgaXNRUiA9IEZwLmVxbCh0djUsIEZwLk9ORSk7IC8vIDEyLiBpc1FSID0gdHY1ID09IDFcbiAgICAgICAgdHYyID0gRnAubXVsKHR2MywgYzcpOyAvLyAxMy4gdHYyID0gdHYzICogYzdcbiAgICAgICAgdHY1ID0gRnAubXVsKHR2NCwgdHYxKTsgLy8gMTQuIHR2NSA9IHR2NCAqIHR2MVxuICAgICAgICB0djMgPSBGcC5jbW92KHR2MiwgdHYzLCBpc1FSKTsgLy8gMTUuIHR2MyA9IENNT1YodHYyLCB0djMsIGlzUVIpXG4gICAgICAgIHR2NCA9IEZwLmNtb3YodHY1LCB0djQsIGlzUVIpOyAvLyAxNi4gdHY0ID0gQ01PVih0djUsIHR2NCwgaXNRUilcbiAgICAgICAgLy8gMTcuIGZvciBpIGluIChjMSwgYzEgLSAxLCAuLi4sIDIpOlxuICAgICAgICBmb3IgKGxldCBpID0gYzE7IGkgPiBfMW47IGktLSkge1xuICAgICAgICAgICAgbGV0IHR2NSA9IGkgLSBfMm47IC8vIDE4LiAgICB0djUgPSBpIC0gMlxuICAgICAgICAgICAgdHY1ID0gXzJuIDw8ICh0djUgLSBfMW4pOyAvLyAxOS4gICAgdHY1ID0gMl50djVcbiAgICAgICAgICAgIGxldCB0dnY1ID0gRnAucG93KHR2NCwgdHY1KTsgLy8gMjAuICAgIHR2NSA9IHR2NF50djVcbiAgICAgICAgICAgIGNvbnN0IGUxID0gRnAuZXFsKHR2djUsIEZwLk9ORSk7IC8vIDIxLiAgICBlMSA9IHR2NSA9PSAxXG4gICAgICAgICAgICB0djIgPSBGcC5tdWwodHYzLCB0djEpOyAvLyAyMi4gICAgdHYyID0gdHYzICogdHYxXG4gICAgICAgICAgICB0djEgPSBGcC5tdWwodHYxLCB0djEpOyAvLyAyMy4gICAgdHYxID0gdHYxICogdHYxXG4gICAgICAgICAgICB0dnY1ID0gRnAubXVsKHR2NCwgdHYxKTsgLy8gMjQuICAgIHR2NSA9IHR2NCAqIHR2MVxuICAgICAgICAgICAgdHYzID0gRnAuY21vdih0djIsIHR2MywgZTEpOyAvLyAyNS4gICAgdHYzID0gQ01PVih0djIsIHR2MywgZTEpXG4gICAgICAgICAgICB0djQgPSBGcC5jbW92KHR2djUsIHR2NCwgZTEpOyAvLyAyNi4gICAgdHY0ID0gQ01PVih0djUsIHR2NCwgZTEpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogaXNRUiwgdmFsdWU6IHR2MyB9O1xuICAgIH07XG4gICAgaWYgKEZwLk9SREVSICUgXzRuID09PSBfM24pIHtcbiAgICAgICAgLy8gc3FydF9yYXRpb18zbW9kNCh1LCB2KVxuICAgICAgICBjb25zdCBjMSA9IChGcC5PUkRFUiAtIF8zbikgLyBfNG47IC8vIDEuIGMxID0gKHEgLSAzKSAvIDQgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgICAgIGNvbnN0IGMyID0gRnAuc3FydChGcC5uZWcoWikpOyAvLyAyLiBjMiA9IHNxcnQoLVopXG4gICAgICAgIHNxcnRSYXRpbyA9ICh1LCB2KSA9PiB7XG4gICAgICAgICAgICBsZXQgdHYxID0gRnAuc3FyKHYpOyAvLyAxLiB0djEgPSB2XjJcbiAgICAgICAgICAgIGNvbnN0IHR2MiA9IEZwLm11bCh1LCB2KTsgLy8gMi4gdHYyID0gdSAqIHZcbiAgICAgICAgICAgIHR2MSA9IEZwLm11bCh0djEsIHR2Mik7IC8vIDMuIHR2MSA9IHR2MSAqIHR2MlxuICAgICAgICAgICAgbGV0IHkxID0gRnAucG93KHR2MSwgYzEpOyAvLyA0LiB5MSA9IHR2MV5jMVxuICAgICAgICAgICAgeTEgPSBGcC5tdWwoeTEsIHR2Mik7IC8vIDUuIHkxID0geTEgKiB0djJcbiAgICAgICAgICAgIGNvbnN0IHkyID0gRnAubXVsKHkxLCBjMik7IC8vIDYuIHkyID0geTEgKiBjMlxuICAgICAgICAgICAgY29uc3QgdHYzID0gRnAubXVsKEZwLnNxcih5MSksIHYpOyAvLyA3LiB0djMgPSB5MV4yOyA4LiB0djMgPSB0djMgKiB2XG4gICAgICAgICAgICBjb25zdCBpc1FSID0gRnAuZXFsKHR2MywgdSk7IC8vIDkuIGlzUVIgPSB0djMgPT0gdVxuICAgICAgICAgICAgbGV0IHkgPSBGcC5jbW92KHkyLCB5MSwgaXNRUik7IC8vIDEwLiB5ID0gQ01PVih5MiwgeTEsIGlzUVIpXG4gICAgICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiBpc1FSLCB2YWx1ZTogeSB9OyAvLyAxMS4gcmV0dXJuIChpc1FSLCB5KSBpc1FSID8geSA6IHkqYzJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gTm8gY3VydmVzIHVzZXMgdGhhdFxuICAgIC8vIGlmIChGcC5PUkRFUiAlIF84biA9PT0gXzVuKSAvLyBzcXJ0X3JhdGlvXzVtb2Q4XG4gICAgcmV0dXJuIHNxcnRSYXRpbztcbn1cbi8qKlxuICogU2ltcGxpZmllZCBTaGFsbHVlLXZhbiBkZSBXb2VzdGlqbmUtVWxhcyBNZXRob2RcbiAqIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tNi42LjJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcFRvQ3VydmVTaW1wbGVTV1UoRnAsIG9wdHMpIHtcbiAgICB2YWxpZGF0ZUZpZWxkKEZwKTtcbiAgICBpZiAoIUZwLmlzVmFsaWQob3B0cy5BKSB8fCAhRnAuaXNWYWxpZChvcHRzLkIpIHx8ICFGcC5pc1ZhbGlkKG9wdHMuWikpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbWFwVG9DdXJ2ZVNpbXBsZVNXVTogaW52YWxpZCBvcHRzJyk7XG4gICAgY29uc3Qgc3FydFJhdGlvID0gU1dVRnBTcXJ0UmF0aW8oRnAsIG9wdHMuWik7XG4gICAgaWYgKCFGcC5pc09kZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcC5pc09kZCBpcyBub3QgaW1wbGVtZW50ZWQhJyk7XG4gICAgLy8gSW5wdXQ6IHUsIGFuIGVsZW1lbnQgb2YgRi5cbiAgICAvLyBPdXRwdXQ6ICh4LCB5KSwgYSBwb2ludCBvbiBFLlxuICAgIHJldHVybiAodSkgPT4ge1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgbGV0IHR2MSwgdHYyLCB0djMsIHR2NCwgdHY1LCB0djYsIHgsIHk7XG4gICAgICAgIHR2MSA9IEZwLnNxcih1KTsgLy8gMS4gIHR2MSA9IHVeMlxuICAgICAgICB0djEgPSBGcC5tdWwodHYxLCBvcHRzLlopOyAvLyAyLiAgdHYxID0gWiAqIHR2MVxuICAgICAgICB0djIgPSBGcC5zcXIodHYxKTsgLy8gMy4gIHR2MiA9IHR2MV4yXG4gICAgICAgIHR2MiA9IEZwLmFkZCh0djIsIHR2MSk7IC8vIDQuICB0djIgPSB0djIgKyB0djFcbiAgICAgICAgdHYzID0gRnAuYWRkKHR2MiwgRnAuT05FKTsgLy8gNS4gIHR2MyA9IHR2MiArIDFcbiAgICAgICAgdHYzID0gRnAubXVsKHR2Mywgb3B0cy5CKTsgLy8gNi4gIHR2MyA9IEIgKiB0djNcbiAgICAgICAgdHY0ID0gRnAuY21vdihvcHRzLlosIEZwLm5lZyh0djIpLCAhRnAuZXFsKHR2MiwgRnAuWkVSTykpOyAvLyA3LiAgdHY0ID0gQ01PVihaLCAtdHYyLCB0djIgIT0gMClcbiAgICAgICAgdHY0ID0gRnAubXVsKHR2NCwgb3B0cy5BKTsgLy8gOC4gIHR2NCA9IEEgKiB0djRcbiAgICAgICAgdHYyID0gRnAuc3FyKHR2Myk7IC8vIDkuICB0djIgPSB0djNeMlxuICAgICAgICB0djYgPSBGcC5zcXIodHY0KTsgLy8gMTAuIHR2NiA9IHR2NF4yXG4gICAgICAgIHR2NSA9IEZwLm11bCh0djYsIG9wdHMuQSk7IC8vIDExLiB0djUgPSBBICogdHY2XG4gICAgICAgIHR2MiA9IEZwLmFkZCh0djIsIHR2NSk7IC8vIDEyLiB0djIgPSB0djIgKyB0djVcbiAgICAgICAgdHYyID0gRnAubXVsKHR2MiwgdHYzKTsgLy8gMTMuIHR2MiA9IHR2MiAqIHR2M1xuICAgICAgICB0djYgPSBGcC5tdWwodHY2LCB0djQpOyAvLyAxNC4gdHY2ID0gdHY2ICogdHY0XG4gICAgICAgIHR2NSA9IEZwLm11bCh0djYsIG9wdHMuQik7IC8vIDE1LiB0djUgPSBCICogdHY2XG4gICAgICAgIHR2MiA9IEZwLmFkZCh0djIsIHR2NSk7IC8vIDE2LiB0djIgPSB0djIgKyB0djVcbiAgICAgICAgeCA9IEZwLm11bCh0djEsIHR2Myk7IC8vIDE3LiAgIHggPSB0djEgKiB0djNcbiAgICAgICAgY29uc3QgeyBpc1ZhbGlkLCB2YWx1ZSB9ID0gc3FydFJhdGlvKHR2MiwgdHY2KTsgLy8gMTguIChpc19neDFfc3F1YXJlLCB5MSkgPSBzcXJ0X3JhdGlvKHR2MiwgdHY2KVxuICAgICAgICB5ID0gRnAubXVsKHR2MSwgdSk7IC8vIDE5LiAgIHkgPSB0djEgKiB1ICAtPiBaICogdV4zICogeTFcbiAgICAgICAgeSA9IEZwLm11bCh5LCB2YWx1ZSk7IC8vIDIwLiAgIHkgPSB5ICogeTFcbiAgICAgICAgeCA9IEZwLmNtb3YoeCwgdHYzLCBpc1ZhbGlkKTsgLy8gMjEuICAgeCA9IENNT1YoeCwgdHYzLCBpc19neDFfc3F1YXJlKVxuICAgICAgICB5ID0gRnAuY21vdih5LCB2YWx1ZSwgaXNWYWxpZCk7IC8vIDIyLiAgIHkgPSBDTU9WKHksIHkxLCBpc19neDFfc3F1YXJlKVxuICAgICAgICBjb25zdCBlMSA9IEZwLmlzT2RkKHUpID09PSBGcC5pc09kZCh5KTsgLy8gMjMuICBlMSA9IHNnbjAodSkgPT0gc2duMCh5KVxuICAgICAgICB5ID0gRnAuY21vdihGcC5uZWcoeSksIHksIGUxKTsgLy8gMjQuICAgeSA9IENNT1YoLXksIHksIGUxKVxuICAgICAgICB4ID0gRnAuZGl2KHgsIHR2NCk7IC8vIDI1LiAgIHggPSB4IC8gdHY0XG4gICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2VpZXJzdHJhc3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/weierstrass.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/secp256k1.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/secp256k1.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeToCurve: () => (/* binding */ encodeToCurve),\n/* harmony export */   hashToCurve: () => (/* binding */ hashToCurve),\n/* harmony export */   schnorr: () => (/* binding */ schnorr),\n/* harmony export */   secp256k1: () => (/* binding */ secp256k1)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @noble/hashes/sha256 */ \"(ssr)/./node_modules/@noble/hashes/esm/sha256.js\");\n/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @noble/hashes/utils */ \"(ssr)/./node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _shortw_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_shortw_utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/_shortw_utils.js\");\n/* harmony import */ var _abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./abstract/hash-to-curve.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/hash-to-curve.js\");\n/* harmony import */ var _abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract/modular.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./abstract/utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/utils.js\");\n/* harmony import */ var _abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./abstract/weierstrass.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/abstract/weierstrass.js\");\n/**\n * NIST secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).\n *\n * Seems to be rigid (not backdoored)\n * [as per discussion](https://bitcointalk.org/index.php?topic=289795.msg3183975#msg3183975).\n *\n * secp256k1 belongs to Koblitz curves: it has efficiently computable endomorphism.\n * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n * [See explanation](https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066).\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\n\n\n\n\n\nconst secp256k1P = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');\nconst secp256k1N = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst divNearest = (a, b) => (a + b / _2n) / b;\n/**\n * √n = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y) {\n    const P = secp256k1P;\n    // prettier-ignore\n    const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n    // prettier-ignore\n    const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n    const b2 = (y * y * y) % P; // x^3, 11\n    const b3 = (b2 * b2 * y) % P; // x^7\n    const b6 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b3, _3n, P) * b3) % P;\n    const b9 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b6, _3n, P) * b3) % P;\n    const b11 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b9, _2n, P) * b2) % P;\n    const b22 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b11, _11n, P) * b11) % P;\n    const b44 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b22, _22n, P) * b22) % P;\n    const b88 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b44, _44n, P) * b44) % P;\n    const b176 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b88, _88n, P) * b88) % P;\n    const b220 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b176, _44n, P) * b44) % P;\n    const b223 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b220, _3n, P) * b3) % P;\n    const t1 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b223, _23n, P) * b22) % P;\n    const t2 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(t1, _6n, P) * b2) % P;\n    const root = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(t2, _2n, P);\n    if (!Fpk1.eql(Fpk1.sqr(root), y))\n        throw new Error('Cannot find square root');\n    return root;\n}\nconst Fpk1 = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.Field)(secp256k1P, undefined, undefined, { sqrt: sqrtMod });\n/**\n * secp256k1 short weierstrass curve and ECDSA signatures over it.\n *\n * @example\n * import { secp256k1 } from '@noble/curves/secp256k1';\n *\n * const priv = secp256k1.utils.randomPrivateKey();\n * const pub = secp256k1.getPublicKey(priv);\n * const msg = new Uint8Array(32).fill(1); // message hash (not message) in ecdsa\n * const sig = secp256k1.sign(msg, priv); // `{prehash: true}` option is available\n * const isValid = secp256k1.verify(sig, msg, pub) === true;\n */\nconst secp256k1 = (0,_shortw_utils_js__WEBPACK_IMPORTED_MODULE_1__.createCurve)({\n    a: BigInt(0), // equation params: a, b\n    b: BigInt(7),\n    Fp: Fpk1, // Field's prime: 2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n\n    n: secp256k1N, // Curve order, total count of valid points in the field\n    // Base point (x, y) aka generator point\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    h: BigInt(1), // Cofactor\n    lowS: true, // Allow only low-S signatures by default in sign() and verify()\n    endo: {\n        // Endomorphism, see above\n        beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n        splitScalar: (k) => {\n            const n = secp256k1N;\n            const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n            const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n            const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n            const b2 = a1;\n            const POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)\n            const c1 = divNearest(b2 * k, n);\n            const c2 = divNearest(-b1 * k, n);\n            let k1 = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(k - c1 * a1 - c2 * a2, n);\n            let k2 = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(-c1 * b1 - c2 * b2, n);\n            const k1neg = k1 > POW_2_128;\n            const k2neg = k2 > POW_2_128;\n            if (k1neg)\n                k1 = n - k1;\n            if (k2neg)\n                k2 = n - k2;\n            if (k1 > POW_2_128 || k2 > POW_2_128) {\n                throw new Error('splitScalar: Endomorphism failed, k=' + k);\n            }\n            return { k1neg, k1, k2neg, k2 };\n        },\n    },\n}, _noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__.sha256);\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\nconst _0n = BigInt(0);\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES = {};\nfunction taggedHash(tag, ...messages) {\n    let tagP = TAGGED_HASH_PREFIXES[tag];\n    if (tagP === undefined) {\n        const tagH = (0,_noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__.sha256)(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n        tagP = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.concatBytes)(tagH, tagH);\n        TAGGED_HASH_PREFIXES[tag] = tagP;\n    }\n    return (0,_noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__.sha256)((0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.concatBytes)(tagP, ...messages));\n}\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point) => point.toRawBytes(true).slice(1);\nconst numTo32b = (n) => (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.numberToBytesBE)(n, 32);\nconst modP = (x) => (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(x, secp256k1P);\nconst modN = (x) => (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(x, secp256k1N);\nconst Point = secp256k1.ProjectivePoint;\nconst GmulAdd = (Q, a, b) => Point.BASE.multiplyAndAddUnsafe(Q, a, b);\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv) {\n    let d_ = secp256k1.utils.normPrivateKeyToScalar(priv); // same method executed in fromPrivateKey\n    let p = Point.fromPrivateKey(d_); // P = d'⋅G; 0 < d' < n check is done inside\n    const scalar = p.hasEvenY() ? d_ : modN(-d_);\n    return { scalar: scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x) {\n    (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.aInRange)('x', x, _1n, secp256k1P); // Fail if x ≥ p.\n    const xx = modP(x * x);\n    const c = modP(xx * x + BigInt(7)); // Let c = x³ + 7 mod p.\n    let y = sqrtMod(c); // Let y = c^(p+1)/4 mod p.\n    if (y % _2n !== _0n)\n        y = modP(-y); // Return the unique point P such that x(P) = x and\n    const p = new Point(x, y, _1n); // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n    p.assertValidity();\n    return p;\n}\nconst num = _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.bytesToNumberBE;\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args) {\n    return modN(num(taggedHash('BIP0340/challenge', ...args)));\n}\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(privateKey) {\n    return schnorrGetExtPubKey(privateKey).bytes; // d'=int(sk). Fail if d'=0 or d'≥n. Ret bytes(d'⋅G)\n}\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(message, privateKey, auxRand = (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_4__.randomBytes)(32)) {\n    const m = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('message', message);\n    const { bytes: px, scalar: d } = schnorrGetExtPubKey(privateKey); // checks for isWithinCurveOrder\n    const a = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n    const t = numTo32b(d ^ num(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n    const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n    const k_ = modN(num(rand)); // Let k' = int(rand) mod n\n    if (k_ === _0n)\n        throw new Error('sign failed: k is zero'); // Fail if k' = 0.\n    const { bytes: rx, scalar: k } = schnorrGetExtPubKey(k_); // Let R = k'⋅G.\n    const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n    const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n    sig.set(rx, 0);\n    sig.set(numTo32b(modN(k + e * d)), 32);\n    // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n    if (!schnorrVerify(sig, m, px))\n        throw new Error('sign: Invalid signature produced');\n    return sig;\n}\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature, message, publicKey) {\n    const sig = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('signature', signature, 64);\n    const m = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('message', message);\n    const pub = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('publicKey', publicKey, 32);\n    try {\n        const P = lift_x(num(pub)); // P = lift_x(int(pk)); fail if that fails\n        const r = num(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r ≥ p.\n        if (!(0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.inRange)(r, _1n, secp256k1P))\n            return false;\n        const s = num(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s ≥ n.\n        if (!(0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.inRange)(s, _1n, secp256k1N))\n            return false;\n        const e = challenge(numTo32b(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n        const R = GmulAdd(P, s, modN(-e)); // R = s⋅G - e⋅P\n        if (!R || !R.hasEvenY() || R.toAffine().x !== r)\n            return false; // -eP == (n-e)P\n        return true; // Fail if is_infinite(R) / not has_even_y(R) / x(R) ≠ r.\n    }\n    catch (error) {\n        return false;\n    }\n}\n/**\n * Schnorr signatures over secp256k1.\n * https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n * @example\n * import { schnorr } from '@noble/curves/secp256k1';\n * const priv = schnorr.utils.randomPrivateKey();\n * const pub = schnorr.getPublicKey(priv);\n * const msg = new TextEncoder().encode('hello');\n * const sig = schnorr.sign(msg, priv);\n * const isValid = schnorr.verify(sig, msg, pub);\n */\nconst schnorr = /* @__PURE__ */ (() => ({\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    utils: {\n        randomPrivateKey: secp256k1.utils.randomPrivateKey,\n        lift_x,\n        pointToBytes,\n        numberToBytesBE: _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.numberToBytesBE,\n        bytesToNumberBE: _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.bytesToNumberBE,\n        taggedHash,\n        mod: _abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod,\n    },\n}))();\nconst isoMap = /* @__PURE__ */ (() => (0,_abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_5__.isogenyMap)(Fpk1, [\n    // xNum\n    [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n    ],\n    // xDen\n    [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n    // yNum\n    [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n    ],\n    // yDen\n    [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n].map((i) => i.map((j) => BigInt(j)))))();\nconst mapSWU = /* @__PURE__ */ (() => (0,_abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_6__.mapToCurveSimpleSWU)(Fpk1, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fpk1.create(BigInt('-11')),\n}))();\nconst htf = /* @__PURE__ */ (() => (0,_abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_5__.createHasher)(secp256k1.ProjectivePoint, (scalars) => {\n    const { x, y } = mapSWU(Fpk1.create(scalars[0]));\n    return isoMap(x, y);\n}, {\n    DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n    encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n    p: Fpk1.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: _noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__.sha256,\n}))();\n/** secp256k1 hash-to-curve from [RFC 9380](https://www.rfc-editor.org/rfc/rfc9380). */\nconst hashToCurve = /* @__PURE__ */ (() => htf.hashToCurve)();\n/** secp256k1 encode-to-curve from [RFC 9380](https://www.rfc-editor.org/rfc/rfc9380). */\nconst encodeToCurve = /* @__PURE__ */ (() => htf.encodeToCurve)();\n//# sourceMappingURL=secp256k1.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL3NlY3AyNTZrMS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzhDO0FBQ0k7QUFDRDtBQUNzQjtBQUNkO0FBQzREO0FBQ3JEO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyxrQ0FBa0M7QUFDbEMsZ0JBQWdCLDBEQUFJO0FBQ3BCLGdCQUFnQiwwREFBSTtBQUNwQixpQkFBaUIsMERBQUk7QUFDckIsaUJBQWlCLDBEQUFJO0FBQ3JCLGlCQUFpQiwwREFBSTtBQUNyQixpQkFBaUIsMERBQUk7QUFDckIsa0JBQWtCLDBEQUFJO0FBQ3RCLGtCQUFrQiwwREFBSTtBQUN0QixrQkFBa0IsMERBQUk7QUFDdEIsZ0JBQWdCLDBEQUFJO0FBQ3BCLGdCQUFnQiwwREFBSTtBQUNwQixpQkFBaUIsMERBQUk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJEQUFLLHFDQUFxQyxlQUFlO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQywwQ0FBMEMsS0FBSyxjQUFjO0FBQzdEO0FBQ0E7QUFDTyxrQkFBa0IsNkRBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQSxxQkFBcUIseURBQUc7QUFDeEIscUJBQXFCLHlEQUFHO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUMsRUFBRSx3REFBTTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNERBQU07QUFDM0IsZUFBZSwrREFBVztBQUMxQjtBQUNBO0FBQ0EsV0FBVyw0REFBTSxDQUFDLCtEQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtRUFBZTtBQUN2QyxvQkFBb0IseURBQUc7QUFDdkIsb0JBQW9CLHlEQUFHO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNELHNDQUFzQyxhQUFhO0FBQ25EO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNERBQVEsMkJBQTJCO0FBQ3ZDO0FBQ0Esd0NBQXdDO0FBQ3hDLHdCQUF3QjtBQUN4QjtBQUNBLHNCQUFzQjtBQUN0QixvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrREFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGdFQUFXO0FBQy9ELGNBQWMsK0RBQVc7QUFDekIsWUFBWSx1QkFBdUIsbUNBQW1DO0FBQ3RFLGNBQWMsK0RBQVcsMEJBQTBCO0FBQ25ELCtEQUErRDtBQUMvRCx3REFBd0Q7QUFDeEQsZ0NBQWdDO0FBQ2hDO0FBQ0EsbURBQW1EO0FBQ25ELFlBQVksdUJBQXVCLDJCQUEyQjtBQUM5RCxvQ0FBb0M7QUFDcEMsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrREFBVztBQUMzQixjQUFjLCtEQUFXO0FBQ3pCLGdCQUFnQiwrREFBVztBQUMzQjtBQUNBLG9DQUFvQyx3QkFBd0I7QUFDNUQsNENBQTRDLDJCQUEyQjtBQUN2RSxhQUFhLDJEQUFPO0FBQ3BCO0FBQ0EsNkNBQTZDLDRCQUE0QjtBQUN6RSxhQUFhLDJEQUFPO0FBQ3BCO0FBQ0EsOERBQThEO0FBQzlELDJDQUEyQztBQUMzQztBQUNBLDBCQUEwQjtBQUMxQixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsdUJBQXVCO0FBQ3ZCO0FBQ0EsV0FBVztBQUNYLEtBQUs7QUFDTCxDQUFDO0FBQ0Qsc0NBQXNDLHNFQUFVO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDZFQUFtQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsbUNBQW1DLHdFQUFZO0FBQy9DLFlBQVksT0FBTztBQUNuQjtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdEQUFNO0FBQ2hCLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDTztBQUNQIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9zZWNwMjU2azEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBOSVNUIHNlY3AyNTZrMS4gU2VlIFtwZGZdKGh0dHBzOi8vd3d3LnNlY2cub3JnL3NlYzItdjIucGRmKS5cbiAqXG4gKiBTZWVtcyB0byBiZSByaWdpZCAobm90IGJhY2tkb29yZWQpXG4gKiBbYXMgcGVyIGRpc2N1c3Npb25dKGh0dHBzOi8vYml0Y29pbnRhbGsub3JnL2luZGV4LnBocD90b3BpYz0yODk3OTUubXNnMzE4Mzk3NSNtc2czMTgzOTc1KS5cbiAqXG4gKiBzZWNwMjU2azEgYmVsb25ncyB0byBLb2JsaXR6IGN1cnZlczogaXQgaGFzIGVmZmljaWVudGx5IGNvbXB1dGFibGUgZW5kb21vcnBoaXNtLlxuICogRW5kb21vcnBoaXNtIHVzZXMgMnggbGVzcyBSQU0sIHNwZWVkcyB1cCBwcmVjb21wdXRhdGlvbiBieSAyeCBhbmQgRUNESCAvIGtleSByZWNvdmVyeSBieSAyMCUuXG4gKiBGb3IgcHJlY29tcHV0ZWQgd05BRiBpdCB0cmFkZXMgb2ZmIDEvMiBpbml0IHRpbWUgJiAxLzMgcmFtIGZvciAyMCUgcGVyZiBoaXQuXG4gKiBbU2VlIGV4cGxhbmF0aW9uXShodHRwczovL2dpc3QuZ2l0aHViLmNvbS9wYXVsbWlsbHIvZWI2NzA4MDY3OTNlODRkZjYyOGE3YzQzNGE4NzMwNjYpLlxuICogQG1vZHVsZVxuICovXG4vKiEgbm9ibGUtY3VydmVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovXG5pbXBvcnQgeyBzaGEyNTYgfSBmcm9tICdAbm9ibGUvaGFzaGVzL3NoYTI1Nic7XG5pbXBvcnQgeyByYW5kb21CeXRlcyB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvdXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlQ3VydmUgfSBmcm9tICcuL19zaG9ydHdfdXRpbHMuanMnO1xuaW1wb3J0IHsgY3JlYXRlSGFzaGVyLCBpc29nZW55TWFwIH0gZnJvbSAnLi9hYnN0cmFjdC9oYXNoLXRvLWN1cnZlLmpzJztcbmltcG9ydCB7IEZpZWxkLCBtb2QsIHBvdzIgfSBmcm9tICcuL2Fic3RyYWN0L21vZHVsYXIuanMnO1xuaW1wb3J0IHsgYUluUmFuZ2UsIGJ5dGVzVG9OdW1iZXJCRSwgY29uY2F0Qnl0ZXMsIGVuc3VyZUJ5dGVzLCBpblJhbmdlLCBudW1iZXJUb0J5dGVzQkUsIH0gZnJvbSAnLi9hYnN0cmFjdC91dGlscy5qcyc7XG5pbXBvcnQgeyBtYXBUb0N1cnZlU2ltcGxlU1dVIH0gZnJvbSAnLi9hYnN0cmFjdC93ZWllcnN0cmFzcy5qcyc7XG5jb25zdCBzZWNwMjU2azFQID0gQmlnSW50KCcweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlZmZmZmZjMmYnKTtcbmNvbnN0IHNlY3AyNTZrMU4gPSBCaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmViYWFlZGNlNmFmNDhhMDNiYmZkMjVlOGNkMDM2NDE0MScpO1xuY29uc3QgXzFuID0gQmlnSW50KDEpO1xuY29uc3QgXzJuID0gQmlnSW50KDIpO1xuY29uc3QgZGl2TmVhcmVzdCA9IChhLCBiKSA9PiAoYSArIGIgLyBfMm4pIC8gYjtcbi8qKlxuICog4oiabiA9IG5eKChwKzEpLzQpIGZvciBmaWVsZHMgcCA9IDMgbW9kIDQuIFdlIHVud3JhcCB0aGUgbG9vcCBhbmQgbXVsdGlwbHkgYml0LWJ5LWJpdC5cbiAqIChQKzFuLzRuKS50b1N0cmluZygyKSB3b3VsZCBwcm9kdWNlIGJpdHMgWzIyM3ggMSwgMCwgMjJ4IDEsIDR4IDAsIDExLCAwMF1cbiAqL1xuZnVuY3Rpb24gc3FydE1vZCh5KSB7XG4gICAgY29uc3QgUCA9IHNlY3AyNTZrMVA7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgXzNuID0gQmlnSW50KDMpLCBfNm4gPSBCaWdJbnQoNiksIF8xMW4gPSBCaWdJbnQoMTEpLCBfMjJuID0gQmlnSW50KDIyKTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfMjNuID0gQmlnSW50KDIzKSwgXzQ0biA9IEJpZ0ludCg0NCksIF84OG4gPSBCaWdJbnQoODgpO1xuICAgIGNvbnN0IGIyID0gKHkgKiB5ICogeSkgJSBQOyAvLyB4XjMsIDExXG4gICAgY29uc3QgYjMgPSAoYjIgKiBiMiAqIHkpICUgUDsgLy8geF43XG4gICAgY29uc3QgYjYgPSAocG93MihiMywgXzNuLCBQKSAqIGIzKSAlIFA7XG4gICAgY29uc3QgYjkgPSAocG93MihiNiwgXzNuLCBQKSAqIGIzKSAlIFA7XG4gICAgY29uc3QgYjExID0gKHBvdzIoYjksIF8ybiwgUCkgKiBiMikgJSBQO1xuICAgIGNvbnN0IGIyMiA9IChwb3cyKGIxMSwgXzExbiwgUCkgKiBiMTEpICUgUDtcbiAgICBjb25zdCBiNDQgPSAocG93MihiMjIsIF8yMm4sIFApICogYjIyKSAlIFA7XG4gICAgY29uc3QgYjg4ID0gKHBvdzIoYjQ0LCBfNDRuLCBQKSAqIGI0NCkgJSBQO1xuICAgIGNvbnN0IGIxNzYgPSAocG93MihiODgsIF84OG4sIFApICogYjg4KSAlIFA7XG4gICAgY29uc3QgYjIyMCA9IChwb3cyKGIxNzYsIF80NG4sIFApICogYjQ0KSAlIFA7XG4gICAgY29uc3QgYjIyMyA9IChwb3cyKGIyMjAsIF8zbiwgUCkgKiBiMykgJSBQO1xuICAgIGNvbnN0IHQxID0gKHBvdzIoYjIyMywgXzIzbiwgUCkgKiBiMjIpICUgUDtcbiAgICBjb25zdCB0MiA9IChwb3cyKHQxLCBfNm4sIFApICogYjIpICUgUDtcbiAgICBjb25zdCByb290ID0gcG93Mih0MiwgXzJuLCBQKTtcbiAgICBpZiAoIUZwazEuZXFsKEZwazEuc3FyKHJvb3QpLCB5KSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBzcXVhcmUgcm9vdCcpO1xuICAgIHJldHVybiByb290O1xufVxuY29uc3QgRnBrMSA9IEZpZWxkKHNlY3AyNTZrMVAsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7IHNxcnQ6IHNxcnRNb2QgfSk7XG4vKipcbiAqIHNlY3AyNTZrMSBzaG9ydCB3ZWllcnN0cmFzcyBjdXJ2ZSBhbmQgRUNEU0Egc2lnbmF0dXJlcyBvdmVyIGl0LlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBzZWNwMjU2azEgfSBmcm9tICdAbm9ibGUvY3VydmVzL3NlY3AyNTZrMSc7XG4gKlxuICogY29uc3QgcHJpdiA9IHNlY3AyNTZrMS51dGlscy5yYW5kb21Qcml2YXRlS2V5KCk7XG4gKiBjb25zdCBwdWIgPSBzZWNwMjU2azEuZ2V0UHVibGljS2V5KHByaXYpO1xuICogY29uc3QgbXNnID0gbmV3IFVpbnQ4QXJyYXkoMzIpLmZpbGwoMSk7IC8vIG1lc3NhZ2UgaGFzaCAobm90IG1lc3NhZ2UpIGluIGVjZHNhXG4gKiBjb25zdCBzaWcgPSBzZWNwMjU2azEuc2lnbihtc2csIHByaXYpOyAvLyBge3ByZWhhc2g6IHRydWV9YCBvcHRpb24gaXMgYXZhaWxhYmxlXG4gKiBjb25zdCBpc1ZhbGlkID0gc2VjcDI1NmsxLnZlcmlmeShzaWcsIG1zZywgcHViKSA9PT0gdHJ1ZTtcbiAqL1xuZXhwb3J0IGNvbnN0IHNlY3AyNTZrMSA9IGNyZWF0ZUN1cnZlKHtcbiAgICBhOiBCaWdJbnQoMCksIC8vIGVxdWF0aW9uIHBhcmFtczogYSwgYlxuICAgIGI6IEJpZ0ludCg3KSxcbiAgICBGcDogRnBrMSwgLy8gRmllbGQncyBwcmltZTogMm4qKjI1Nm4gLSAybioqMzJuIC0gMm4qKjluIC0gMm4qKjhuIC0gMm4qKjduIC0gMm4qKjZuIC0gMm4qKjRuIC0gMW5cbiAgICBuOiBzZWNwMjU2azFOLCAvLyBDdXJ2ZSBvcmRlciwgdG90YWwgY291bnQgb2YgdmFsaWQgcG9pbnRzIGluIHRoZSBmaWVsZFxuICAgIC8vIEJhc2UgcG9pbnQgKHgsIHkpIGFrYSBnZW5lcmF0b3IgcG9pbnRcbiAgICBHeDogQmlnSW50KCc1NTA2NjI2MzAyMjI3NzM0MzY2OTU3ODcxODg5NTE2ODUzNDMyNjI1MDYwMzQ1Mzc3NzU5NDE3NTUwMDE4NzM2MDM4OTExNjcyOTI0MCcpLFxuICAgIEd5OiBCaWdJbnQoJzMyNjcwNTEwMDIwNzU4ODE2OTc4MDgzMDg1MTMwNTA3MDQzMTg0NDcxMjczMzgwNjU5MjQzMjc1OTM4OTA0MzM1NzU3MzM3NDgyNDI0JyksXG4gICAgaDogQmlnSW50KDEpLCAvLyBDb2ZhY3RvclxuICAgIGxvd1M6IHRydWUsIC8vIEFsbG93IG9ubHkgbG93LVMgc2lnbmF0dXJlcyBieSBkZWZhdWx0IGluIHNpZ24oKSBhbmQgdmVyaWZ5KClcbiAgICBlbmRvOiB7XG4gICAgICAgIC8vIEVuZG9tb3JwaGlzbSwgc2VlIGFib3ZlXG4gICAgICAgIGJldGE6IEJpZ0ludCgnMHg3YWU5NmEyYjY1N2MwNzEwNmU2NDQ3OWVhYzM0MzRlOTljZjA0OTc1MTJmNTg5OTVjMTM5NmMyODcxOTUwMWVlJyksXG4gICAgICAgIHNwbGl0U2NhbGFyOiAoaykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IHNlY3AyNTZrMU47XG4gICAgICAgICAgICBjb25zdCBhMSA9IEJpZ0ludCgnMHgzMDg2ZDIyMWE3ZDQ2YmNkZTg2YzkwZTQ5Mjg0ZWIxNScpO1xuICAgICAgICAgICAgY29uc3QgYjEgPSAtXzFuICogQmlnSW50KCcweGU0NDM3ZWQ2MDEwZTg4Mjg2ZjU0N2ZhOTBhYmZlNGMzJyk7XG4gICAgICAgICAgICBjb25zdCBhMiA9IEJpZ0ludCgnMHgxMTRjYTUwZjdhOGUyZjNmNjU3YzExMDhkOWQ0NGNmZDgnKTtcbiAgICAgICAgICAgIGNvbnN0IGIyID0gYTE7XG4gICAgICAgICAgICBjb25zdCBQT1dfMl8xMjggPSBCaWdJbnQoJzB4MTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyk7IC8vICgybioqMTI4bikudG9TdHJpbmcoMTYpXG4gICAgICAgICAgICBjb25zdCBjMSA9IGRpdk5lYXJlc3QoYjIgKiBrLCBuKTtcbiAgICAgICAgICAgIGNvbnN0IGMyID0gZGl2TmVhcmVzdCgtYjEgKiBrLCBuKTtcbiAgICAgICAgICAgIGxldCBrMSA9IG1vZChrIC0gYzEgKiBhMSAtIGMyICogYTIsIG4pO1xuICAgICAgICAgICAgbGV0IGsyID0gbW9kKC1jMSAqIGIxIC0gYzIgKiBiMiwgbik7XG4gICAgICAgICAgICBjb25zdCBrMW5lZyA9IGsxID4gUE9XXzJfMTI4O1xuICAgICAgICAgICAgY29uc3QgazJuZWcgPSBrMiA+IFBPV18yXzEyODtcbiAgICAgICAgICAgIGlmIChrMW5lZylcbiAgICAgICAgICAgICAgICBrMSA9IG4gLSBrMTtcbiAgICAgICAgICAgIGlmIChrMm5lZylcbiAgICAgICAgICAgICAgICBrMiA9IG4gLSBrMjtcbiAgICAgICAgICAgIGlmIChrMSA+IFBPV18yXzEyOCB8fCBrMiA+IFBPV18yXzEyOCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3BsaXRTY2FsYXI6IEVuZG9tb3JwaGlzbSBmYWlsZWQsIGs9JyArIGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgazFuZWcsIGsxLCBrMm5lZywgazIgfTtcbiAgICAgICAgfSxcbiAgICB9LFxufSwgc2hhMjU2KTtcbi8vIFNjaG5vcnIgc2lnbmF0dXJlcyBhcmUgc3VwZXJpb3IgdG8gRUNEU0EgZnJvbSBhYm92ZS4gQmVsb3cgaXMgU2Nobm9yci1zcGVjaWZpYyBCSVAwMzQwIGNvZGUuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYml0Y29pbi9iaXBzL2Jsb2IvbWFzdGVyL2JpcC0wMzQwLm1lZGlhd2lraVxuY29uc3QgXzBuID0gQmlnSW50KDApO1xuLyoqIEFuIG9iamVjdCBtYXBwaW5nIHRhZ3MgdG8gdGhlaXIgdGFnZ2VkIGhhc2ggcHJlZml4IG9mIFtTSEEyNTYodGFnKSB8IFNIQTI1Nih0YWcpXSAqL1xuY29uc3QgVEFHR0VEX0hBU0hfUFJFRklYRVMgPSB7fTtcbmZ1bmN0aW9uIHRhZ2dlZEhhc2godGFnLCAuLi5tZXNzYWdlcykge1xuICAgIGxldCB0YWdQID0gVEFHR0VEX0hBU0hfUFJFRklYRVNbdGFnXTtcbiAgICBpZiAodGFnUCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHRhZ0ggPSBzaGEyNTYoVWludDhBcnJheS5mcm9tKHRhZywgKGMpID0+IGMuY2hhckNvZGVBdCgwKSkpO1xuICAgICAgICB0YWdQID0gY29uY2F0Qnl0ZXModGFnSCwgdGFnSCk7XG4gICAgICAgIFRBR0dFRF9IQVNIX1BSRUZJWEVTW3RhZ10gPSB0YWdQO1xuICAgIH1cbiAgICByZXR1cm4gc2hhMjU2KGNvbmNhdEJ5dGVzKHRhZ1AsIC4uLm1lc3NhZ2VzKSk7XG59XG4vLyBFQ0RTQSBjb21wYWN0IHBvaW50cyBhcmUgMzMtYnl0ZS4gU2Nobm9yciBpcyAzMjogd2Ugc3RyaXAgZmlyc3QgYnl0ZSAweDAyIG9yIDB4MDNcbmNvbnN0IHBvaW50VG9CeXRlcyA9IChwb2ludCkgPT4gcG9pbnQudG9SYXdCeXRlcyh0cnVlKS5zbGljZSgxKTtcbmNvbnN0IG51bVRvMzJiID0gKG4pID0+IG51bWJlclRvQnl0ZXNCRShuLCAzMik7XG5jb25zdCBtb2RQID0gKHgpID0+IG1vZCh4LCBzZWNwMjU2azFQKTtcbmNvbnN0IG1vZE4gPSAoeCkgPT4gbW9kKHgsIHNlY3AyNTZrMU4pO1xuY29uc3QgUG9pbnQgPSBzZWNwMjU2azEuUHJvamVjdGl2ZVBvaW50O1xuY29uc3QgR211bEFkZCA9IChRLCBhLCBiKSA9PiBQb2ludC5CQVNFLm11bHRpcGx5QW5kQWRkVW5zYWZlKFEsIGEsIGIpO1xuLy8gQ2FsY3VsYXRlIHBvaW50LCBzY2FsYXIgYW5kIGJ5dGVzXG5mdW5jdGlvbiBzY2hub3JyR2V0RXh0UHViS2V5KHByaXYpIHtcbiAgICBsZXQgZF8gPSBzZWNwMjU2azEudXRpbHMubm9ybVByaXZhdGVLZXlUb1NjYWxhcihwcml2KTsgLy8gc2FtZSBtZXRob2QgZXhlY3V0ZWQgaW4gZnJvbVByaXZhdGVLZXlcbiAgICBsZXQgcCA9IFBvaW50LmZyb21Qcml2YXRlS2V5KGRfKTsgLy8gUCA9IGQn4ouFRzsgMCA8IGQnIDwgbiBjaGVjayBpcyBkb25lIGluc2lkZVxuICAgIGNvbnN0IHNjYWxhciA9IHAuaGFzRXZlblkoKSA/IGRfIDogbW9kTigtZF8pO1xuICAgIHJldHVybiB7IHNjYWxhcjogc2NhbGFyLCBieXRlczogcG9pbnRUb0J5dGVzKHApIH07XG59XG4vKipcbiAqIGxpZnRfeCBmcm9tIEJJUDM0MC4gQ29udmVydCAzMi1ieXRlIHggY29vcmRpbmF0ZSB0byBlbGxpcHRpYyBjdXJ2ZSBwb2ludC5cbiAqIEByZXR1cm5zIHZhbGlkIHBvaW50IGNoZWNrZWQgZm9yIGJlaW5nIG9uLWN1cnZlXG4gKi9cbmZ1bmN0aW9uIGxpZnRfeCh4KSB7XG4gICAgYUluUmFuZ2UoJ3gnLCB4LCBfMW4sIHNlY3AyNTZrMVApOyAvLyBGYWlsIGlmIHgg4omlIHAuXG4gICAgY29uc3QgeHggPSBtb2RQKHggKiB4KTtcbiAgICBjb25zdCBjID0gbW9kUCh4eCAqIHggKyBCaWdJbnQoNykpOyAvLyBMZXQgYyA9IHjCsyArIDcgbW9kIHAuXG4gICAgbGV0IHkgPSBzcXJ0TW9kKGMpOyAvLyBMZXQgeSA9IGNeKHArMSkvNCBtb2QgcC5cbiAgICBpZiAoeSAlIF8ybiAhPT0gXzBuKVxuICAgICAgICB5ID0gbW9kUCgteSk7IC8vIFJldHVybiB0aGUgdW5pcXVlIHBvaW50IFAgc3VjaCB0aGF0IHgoUCkgPSB4IGFuZFxuICAgIGNvbnN0IHAgPSBuZXcgUG9pbnQoeCwgeSwgXzFuKTsgLy8geShQKSA9IHkgaWYgeSBtb2QgMiA9IDAgb3IgeShQKSA9IHAteSBvdGhlcndpc2UuXG4gICAgcC5hc3NlcnRWYWxpZGl0eSgpO1xuICAgIHJldHVybiBwO1xufVxuY29uc3QgbnVtID0gYnl0ZXNUb051bWJlckJFO1xuLyoqXG4gKiBDcmVhdGUgdGFnZ2VkIGhhc2gsIGNvbnZlcnQgaXQgdG8gYmlnaW50LCByZWR1Y2UgbW9kdWxvLW4uXG4gKi9cbmZ1bmN0aW9uIGNoYWxsZW5nZSguLi5hcmdzKSB7XG4gICAgcmV0dXJuIG1vZE4obnVtKHRhZ2dlZEhhc2goJ0JJUDAzNDAvY2hhbGxlbmdlJywgLi4uYXJncykpKTtcbn1cbi8qKlxuICogU2Nobm9yciBwdWJsaWMga2V5IGlzIGp1c3QgYHhgIGNvb3JkaW5hdGUgb2YgUG9pbnQgYXMgcGVyIEJJUDM0MC5cbiAqL1xuZnVuY3Rpb24gc2Nobm9yckdldFB1YmxpY0tleShwcml2YXRlS2V5KSB7XG4gICAgcmV0dXJuIHNjaG5vcnJHZXRFeHRQdWJLZXkocHJpdmF0ZUtleSkuYnl0ZXM7IC8vIGQnPWludChzaykuIEZhaWwgaWYgZCc9MCBvciBkJ+KJpW4uIFJldCBieXRlcyhkJ+KLhUcpXG59XG4vKipcbiAqIENyZWF0ZXMgU2Nobm9yciBzaWduYXR1cmUgYXMgcGVyIEJJUDM0MC4gVmVyaWZpZXMgaXRzZWxmIGJlZm9yZSByZXR1cm5pbmcgYW55dGhpbmcuXG4gKiBhdXhSYW5kIGlzIG9wdGlvbmFsIGFuZCBpcyBub3QgdGhlIHNvbGUgc291cmNlIG9mIGsgZ2VuZXJhdGlvbjogYmFkIENTUFJORyB3b24ndCBiZSBkYW5nZXJvdXMuXG4gKi9cbmZ1bmN0aW9uIHNjaG5vcnJTaWduKG1lc3NhZ2UsIHByaXZhdGVLZXksIGF1eFJhbmQgPSByYW5kb21CeXRlcygzMikpIHtcbiAgICBjb25zdCBtID0gZW5zdXJlQnl0ZXMoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcbiAgICBjb25zdCB7IGJ5dGVzOiBweCwgc2NhbGFyOiBkIH0gPSBzY2hub3JyR2V0RXh0UHViS2V5KHByaXZhdGVLZXkpOyAvLyBjaGVja3MgZm9yIGlzV2l0aGluQ3VydmVPcmRlclxuICAgIGNvbnN0IGEgPSBlbnN1cmVCeXRlcygnYXV4UmFuZCcsIGF1eFJhbmQsIDMyKTsgLy8gQXV4aWxpYXJ5IHJhbmRvbSBkYXRhIGE6IGEgMzItYnl0ZSBhcnJheVxuICAgIGNvbnN0IHQgPSBudW1UbzMyYihkIF4gbnVtKHRhZ2dlZEhhc2goJ0JJUDAzNDAvYXV4JywgYSkpKTsgLy8gTGV0IHQgYmUgdGhlIGJ5dGUtd2lzZSB4b3Igb2YgYnl0ZXMoZCkgYW5kIGhhc2gvYXV4KGEpXG4gICAgY29uc3QgcmFuZCA9IHRhZ2dlZEhhc2goJ0JJUDAzNDAvbm9uY2UnLCB0LCBweCwgbSk7IC8vIExldCByYW5kID0gaGFzaC9ub25jZSh0IHx8IGJ5dGVzKFApIHx8IG0pXG4gICAgY29uc3Qga18gPSBtb2ROKG51bShyYW5kKSk7IC8vIExldCBrJyA9IGludChyYW5kKSBtb2QgblxuICAgIGlmIChrXyA9PT0gXzBuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ24gZmFpbGVkOiBrIGlzIHplcm8nKTsgLy8gRmFpbCBpZiBrJyA9IDAuXG4gICAgY29uc3QgeyBieXRlczogcngsIHNjYWxhcjogayB9ID0gc2Nobm9yckdldEV4dFB1YktleShrXyk7IC8vIExldCBSID0gayfii4VHLlxuICAgIGNvbnN0IGUgPSBjaGFsbGVuZ2UocngsIHB4LCBtKTsgLy8gTGV0IGUgPSBpbnQoaGFzaC9jaGFsbGVuZ2UoYnl0ZXMoUikgfHwgYnl0ZXMoUCkgfHwgbSkpIG1vZCBuLlxuICAgIGNvbnN0IHNpZyA9IG5ldyBVaW50OEFycmF5KDY0KTsgLy8gTGV0IHNpZyA9IGJ5dGVzKFIpIHx8IGJ5dGVzKChrICsgZWQpIG1vZCBuKS5cbiAgICBzaWcuc2V0KHJ4LCAwKTtcbiAgICBzaWcuc2V0KG51bVRvMzJiKG1vZE4oayArIGUgKiBkKSksIDMyKTtcbiAgICAvLyBJZiBWZXJpZnkoYnl0ZXMoUCksIG0sIHNpZykgKHNlZSBiZWxvdykgcmV0dXJucyBmYWlsdXJlLCBhYm9ydFxuICAgIGlmICghc2Nobm9yclZlcmlmeShzaWcsIG0sIHB4KSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduOiBJbnZhbGlkIHNpZ25hdHVyZSBwcm9kdWNlZCcpO1xuICAgIHJldHVybiBzaWc7XG59XG4vKipcbiAqIFZlcmlmaWVzIFNjaG5vcnIgc2lnbmF0dXJlLlxuICogV2lsbCBzd2FsbG93IGVycm9ycyAmIHJldHVybiBmYWxzZSBleGNlcHQgZm9yIGluaXRpYWwgdHlwZSB2YWxpZGF0aW9uIG9mIGFyZ3VtZW50cy5cbiAqL1xuZnVuY3Rpb24gc2Nobm9yclZlcmlmeShzaWduYXR1cmUsIG1lc3NhZ2UsIHB1YmxpY0tleSkge1xuICAgIGNvbnN0IHNpZyA9IGVuc3VyZUJ5dGVzKCdzaWduYXR1cmUnLCBzaWduYXR1cmUsIDY0KTtcbiAgICBjb25zdCBtID0gZW5zdXJlQnl0ZXMoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcbiAgICBjb25zdCBwdWIgPSBlbnN1cmVCeXRlcygncHVibGljS2V5JywgcHVibGljS2V5LCAzMik7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgUCA9IGxpZnRfeChudW0ocHViKSk7IC8vIFAgPSBsaWZ0X3goaW50KHBrKSk7IGZhaWwgaWYgdGhhdCBmYWlsc1xuICAgICAgICBjb25zdCByID0gbnVtKHNpZy5zdWJhcnJheSgwLCAzMikpOyAvLyBMZXQgciA9IGludChzaWdbMDozMl0pOyBmYWlsIGlmIHIg4omlIHAuXG4gICAgICAgIGlmICghaW5SYW5nZShyLCBfMW4sIHNlY3AyNTZrMVApKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBzID0gbnVtKHNpZy5zdWJhcnJheSgzMiwgNjQpKTsgLy8gTGV0IHMgPSBpbnQoc2lnWzMyOjY0XSk7IGZhaWwgaWYgcyDiiaUgbi5cbiAgICAgICAgaWYgKCFpblJhbmdlKHMsIF8xbiwgc2VjcDI1NmsxTikpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IGUgPSBjaGFsbGVuZ2UobnVtVG8zMmIociksIHBvaW50VG9CeXRlcyhQKSwgbSk7IC8vIGludChjaGFsbGVuZ2UoYnl0ZXMocil8fGJ5dGVzKFApfHxtKSklblxuICAgICAgICBjb25zdCBSID0gR211bEFkZChQLCBzLCBtb2ROKC1lKSk7IC8vIFIgPSBz4ouFRyAtIGXii4VQXG4gICAgICAgIGlmICghUiB8fCAhUi5oYXNFdmVuWSgpIHx8IFIudG9BZmZpbmUoKS54ICE9PSByKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyAtZVAgPT0gKG4tZSlQXG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBGYWlsIGlmIGlzX2luZmluaXRlKFIpIC8gbm90IGhhc19ldmVuX3koUikgLyB4KFIpIOKJoCByLlxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogU2Nobm9yciBzaWduYXR1cmVzIG92ZXIgc2VjcDI1NmsxLlxuICogaHR0cHM6Ly9naXRodWIuY29tL2JpdGNvaW4vYmlwcy9ibG9iL21hc3Rlci9iaXAtMDM0MC5tZWRpYXdpa2lcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBzY2hub3JyIH0gZnJvbSAnQG5vYmxlL2N1cnZlcy9zZWNwMjU2azEnO1xuICogY29uc3QgcHJpdiA9IHNjaG5vcnIudXRpbHMucmFuZG9tUHJpdmF0ZUtleSgpO1xuICogY29uc3QgcHViID0gc2Nobm9yci5nZXRQdWJsaWNLZXkocHJpdik7XG4gKiBjb25zdCBtc2cgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoJ2hlbGxvJyk7XG4gKiBjb25zdCBzaWcgPSBzY2hub3JyLnNpZ24obXNnLCBwcml2KTtcbiAqIGNvbnN0IGlzVmFsaWQgPSBzY2hub3JyLnZlcmlmeShzaWcsIG1zZywgcHViKTtcbiAqL1xuZXhwb3J0IGNvbnN0IHNjaG5vcnIgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+ICh7XG4gICAgZ2V0UHVibGljS2V5OiBzY2hub3JyR2V0UHVibGljS2V5LFxuICAgIHNpZ246IHNjaG5vcnJTaWduLFxuICAgIHZlcmlmeTogc2Nobm9yclZlcmlmeSxcbiAgICB1dGlsczoge1xuICAgICAgICByYW5kb21Qcml2YXRlS2V5OiBzZWNwMjU2azEudXRpbHMucmFuZG9tUHJpdmF0ZUtleSxcbiAgICAgICAgbGlmdF94LFxuICAgICAgICBwb2ludFRvQnl0ZXMsXG4gICAgICAgIG51bWJlclRvQnl0ZXNCRSxcbiAgICAgICAgYnl0ZXNUb051bWJlckJFLFxuICAgICAgICB0YWdnZWRIYXNoLFxuICAgICAgICBtb2QsXG4gICAgfSxcbn0pKSgpO1xuY29uc3QgaXNvTWFwID0gLyogQF9fUFVSRV9fICovICgoKSA9PiBpc29nZW55TWFwKEZwazEsIFtcbiAgICAvLyB4TnVtXG4gICAgW1xuICAgICAgICAnMHg4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZGFhYWFhOGM3JyxcbiAgICAgICAgJzB4N2QzZDRjODBiYzMyMWQ1YjlmMzE1Y2VhN2ZkNDRjNWQ1OTVkMmZjMGJmNjNiOTJkZmZmMTA0NGYxN2M2NTgxJyxcbiAgICAgICAgJzB4NTM0YzMyOGQyM2YyMzRlNmUyYTQxM2RlY2EyNWNhZWNlNDUwNjE0NDAzN2M0MDMxNGVjYmQwYjUzZDlkZDI2MicsXG4gICAgICAgICcweDhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhkYWFhYWE4OGMnLFxuICAgIF0sXG4gICAgLy8geERlblxuICAgIFtcbiAgICAgICAgJzB4ZDM1NzcxMTkzZDk0OTE4YTljYTM0Y2NiYjdiNjQwZGQ4NmNkNDA5NTQyZjg0ODdkOWZlNmI3NDU3ODFlYjQ5YicsXG4gICAgICAgICcweGVkYWRjNmY2NDM4M2RjMWRmN2M0YjJkNTFiNTQyMjU0MDZkMzZiNjQxZjVlNDFiYmM1MmE1NjYxMmE4YzZkMTQnLFxuICAgICAgICAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJywgLy8gTEFTVCAxXG4gICAgXSxcbiAgICAvLyB5TnVtXG4gICAgW1xuICAgICAgICAnMHg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YjhlMzhlMjNjJyxcbiAgICAgICAgJzB4Yzc1ZTBjMzJkNWNiN2MwZmE5ZDBhNTRiMTJhMGE2ZDU2NDdhYjA0NmQ2ODZkYTZmZGZmYzkwZmMyMDFkNzFhMycsXG4gICAgICAgICcweDI5YTYxOTQ2OTFmOTFhNzM3MTUyMDllZjY1MTJlNTc2NzIyODMwYTIwMWJlMjAxOGE3NjVlODVhOWVjZWU5MzEnLFxuICAgICAgICAnMHgyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjM4ZTM4ZDg0JyxcbiAgICBdLFxuICAgIC8vIHlEZW5cbiAgICBbXG4gICAgICAgICcweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlZmZmZmY5M2InLFxuICAgICAgICAnMHg3YTA2NTM0YmI4YmRiNDlmZDVlOWU2NjMyNzIyYzI5ODk0NjdjMWJmYzhlOGQ5NzhkZmI0MjVkMjY4NWMyNTczJyxcbiAgICAgICAgJzB4NjQ4NGFhNzE2NTQ1Y2EyY2YzYTcwYzNmYThmZTMzN2UwYTNkMjExNjJmMGQ2Mjk5YTdiZjgxOTJiZmQyYTc2ZicsXG4gICAgICAgICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEnLCAvLyBMQVNUIDFcbiAgICBdLFxuXS5tYXAoKGkpID0+IGkubWFwKChqKSA9PiBCaWdJbnQoaikpKSkpKCk7XG5jb25zdCBtYXBTV1UgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IG1hcFRvQ3VydmVTaW1wbGVTV1UoRnBrMSwge1xuICAgIEE6IEJpZ0ludCgnMHgzZjg3MzFhYmRkNjYxYWRjYTA4YTU1NThmMGY1ZDI3MmU5NTNkMzYzY2I2ZjBlNWQ0MDU0NDdjMDFhNDQ0NTMzJyksXG4gICAgQjogQmlnSW50KCcxNzcxJyksXG4gICAgWjogRnBrMS5jcmVhdGUoQmlnSW50KCctMTEnKSksXG59KSkoKTtcbmNvbnN0IGh0ZiA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gY3JlYXRlSGFzaGVyKHNlY3AyNTZrMS5Qcm9qZWN0aXZlUG9pbnQsIChzY2FsYXJzKSA9PiB7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBtYXBTV1UoRnBrMS5jcmVhdGUoc2NhbGFyc1swXSkpO1xuICAgIHJldHVybiBpc29NYXAoeCwgeSk7XG59LCB7XG4gICAgRFNUOiAnc2VjcDI1NmsxX1hNRDpTSEEtMjU2X1NTV1VfUk9fJyxcbiAgICBlbmNvZGVEU1Q6ICdzZWNwMjU2azFfWE1EOlNIQS0yNTZfU1NXVV9OVV8nLFxuICAgIHA6IEZwazEuT1JERVIsXG4gICAgbTogMSxcbiAgICBrOiAxMjgsXG4gICAgZXhwYW5kOiAneG1kJyxcbiAgICBoYXNoOiBzaGEyNTYsXG59KSkoKTtcbi8qKiBzZWNwMjU2azEgaGFzaC10by1jdXJ2ZSBmcm9tIFtSRkMgOTM4MF0oaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzkzODApLiAqL1xuZXhwb3J0IGNvbnN0IGhhc2hUb0N1cnZlID0gLyogQF9fUFVSRV9fICovICgoKSA9PiBodGYuaGFzaFRvQ3VydmUpKCk7XG4vKiogc2VjcDI1NmsxIGVuY29kZS10by1jdXJ2ZSBmcm9tIFtSRkMgOTM4MF0oaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzkzODApLiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZVRvQ3VydmUgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IGh0Zi5lbmNvZGVUb0N1cnZlKSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VjcDI1NmsxLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/secp256k1.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   publicKeyToAddress: () => (/* binding */ publicKeyToAddress)\n/* harmony export */ });\n/* harmony import */ var _utils_address_getAddress_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/address/getAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js\");\n/* harmony import */ var _utils_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/hash/keccak256.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js\");\n\n\n/**\n * @description Converts an ECDSA public key to an address.\n *\n * @param publicKey The public key to convert.\n *\n * @returns The address.\n */\nfunction publicKeyToAddress(publicKey) {\n    const address = (0,_utils_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_0__.keccak256)(`0x${publicKey.substring(4)}`).substring(26);\n    return (0,_utils_address_getAddress_js__WEBPACK_IMPORTED_MODULE_1__.checksumAddress)(`0x${address}`);\n}\n//# sourceMappingURL=publicKeyToAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9hY2NvdW50cy91dGlscy9wdWJsaWNLZXlUb0FkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFFO0FBQ1Y7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLG9CQUFvQixtRUFBUyxNQUFNLHVCQUF1QjtBQUMxRCxXQUFXLDZFQUFlLE1BQU0sUUFBUTtBQUN4QztBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vYWNjb3VudHMvdXRpbHMvcHVibGljS2V5VG9BZGRyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNoZWNrc3VtQWRkcmVzcywgfSBmcm9tICcuLi8uLi91dGlscy9hZGRyZXNzL2dldEFkZHJlc3MuanMnO1xuaW1wb3J0IHsga2VjY2FrMjU2LCB9IGZyb20gJy4uLy4uL3V0aWxzL2hhc2gva2VjY2FrMjU2LmpzJztcbi8qKlxuICogQGRlc2NyaXB0aW9uIENvbnZlcnRzIGFuIEVDRFNBIHB1YmxpYyBrZXkgdG8gYW4gYWRkcmVzcy5cbiAqXG4gKiBAcGFyYW0gcHVibGljS2V5IFRoZSBwdWJsaWMga2V5IHRvIGNvbnZlcnQuXG4gKlxuICogQHJldHVybnMgVGhlIGFkZHJlc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaWNLZXlUb0FkZHJlc3MocHVibGljS2V5KSB7XG4gICAgY29uc3QgYWRkcmVzcyA9IGtlY2NhazI1NihgMHgke3B1YmxpY0tleS5zdWJzdHJpbmcoNCl9YCkuc3Vic3RyaW5nKDI2KTtcbiAgICByZXR1cm4gY2hlY2tzdW1BZGRyZXNzKGAweCR7YWRkcmVzc31gKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1YmxpY0tleVRvQWRkcmVzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidAddressError: () => (/* binding */ InvalidAddressError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n\nclass InvalidAddressError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ address }) {\n        super(`Address \"${address}\" is invalid.`, {\n            metaMessages: [\n                '- Address must be a hex value of 20 bytes (40 hex characters).',\n                '- Address must match its checksum counterpart.',\n            ],\n            name: 'InvalidAddressError',\n        });\n    }\n}\n//# sourceMappingURL=address.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYWRkcmVzcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzQztBQUMvQixrQ0FBa0MsK0NBQVM7QUFDbEQsa0JBQWtCLFNBQVM7QUFDM0IsMEJBQTBCLFFBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYWRkcmVzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlRXJyb3IgfSBmcm9tICcuL2Jhc2UuanMnO1xuZXhwb3J0IGNsYXNzIEludmFsaWRBZGRyZXNzRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgYWRkcmVzcyB9KSB7XG4gICAgICAgIHN1cGVyKGBBZGRyZXNzIFwiJHthZGRyZXNzfVwiIGlzIGludmFsaWQuYCwge1xuICAgICAgICAgICAgbWV0YU1lc3NhZ2VzOiBbXG4gICAgICAgICAgICAgICAgJy0gQWRkcmVzcyBtdXN0IGJlIGEgaGV4IHZhbHVlIG9mIDIwIGJ5dGVzICg0MCBoZXggY2hhcmFjdGVycykuJyxcbiAgICAgICAgICAgICAgICAnLSBBZGRyZXNzIG11c3QgbWF0Y2ggaXRzIGNoZWNrc3VtIGNvdW50ZXJwYXJ0LicsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbmFtZTogJ0ludmFsaWRBZGRyZXNzRXJyb3InLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGRyZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseError: () => (/* binding */ BaseError),\n/* harmony export */   setErrorConfig: () => (/* binding */ setErrorConfig)\n/* harmony export */ });\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./version.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js\");\n\nlet errorConfig = {\n    getDocsUrl: ({ docsBaseUrl, docsPath = '', docsSlug, }) => docsPath\n        ? `${docsBaseUrl ?? 'https://viem.sh'}${docsPath}${docsSlug ? `#${docsSlug}` : ''}`\n        : undefined,\n    version: `viem@${_version_js__WEBPACK_IMPORTED_MODULE_0__.version}`,\n};\nfunction setErrorConfig(config) {\n    errorConfig = config;\n}\nclass BaseError extends Error {\n    constructor(shortMessage, args = {}) {\n        const details = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.details;\n            if (args.cause?.message)\n                return args.cause.message;\n            return args.details;\n        })();\n        const docsPath = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.docsPath || args.docsPath;\n            return args.docsPath;\n        })();\n        const docsUrl = errorConfig.getDocsUrl?.({ ...args, docsPath });\n        const message = [\n            shortMessage || 'An error occurred.',\n            '',\n            ...(args.metaMessages ? [...args.metaMessages, ''] : []),\n            ...(docsUrl ? [`Docs: ${docsUrl}`] : []),\n            ...(details ? [`Details: ${details}`] : []),\n            ...(errorConfig.version ? [`Version: ${errorConfig.version}`] : []),\n        ].join('\\n');\n        super(message, args.cause ? { cause: args.cause } : undefined);\n        Object.defineProperty(this, \"details\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"docsPath\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"metaMessages\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"shortMessage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"version\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'BaseError'\n        });\n        this.details = details;\n        this.docsPath = docsPath;\n        this.metaMessages = args.metaMessages;\n        this.name = args.name ?? this.name;\n        this.shortMessage = shortMessage;\n        this.version = _version_js__WEBPACK_IMPORTED_MODULE_0__.version;\n    }\n    walk(fn) {\n        return walk(this, fn);\n    }\n}\nfunction walk(err, fn) {\n    if (fn?.(err))\n        return err;\n    if (err &&\n        typeof err === 'object' &&\n        'cause' in err &&\n        err.cause !== undefined)\n        return walk(err.cause, fn);\n    return fn ? null : err;\n}\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUM7QUFDdkM7QUFDQSxtQkFBbUIsdUNBQXVDO0FBQzFELGFBQWEsaUNBQWlDLEVBQUUsU0FBUyxFQUFFLGVBQWUsU0FBUyxPQUFPO0FBQzFGO0FBQ0EscUJBQXFCLGdEQUFPLENBQUM7QUFDN0I7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbURBQW1ELG1CQUFtQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxRQUFRO0FBQzVDLHVDQUF1QyxRQUFRO0FBQy9DLG1EQUFtRCxvQkFBb0I7QUFDdkU7QUFDQSxzQ0FBc0Msb0JBQW9CO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0RBQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uLmpzJztcbmxldCBlcnJvckNvbmZpZyA9IHtcbiAgICBnZXREb2NzVXJsOiAoeyBkb2NzQmFzZVVybCwgZG9jc1BhdGggPSAnJywgZG9jc1NsdWcsIH0pID0+IGRvY3NQYXRoXG4gICAgICAgID8gYCR7ZG9jc0Jhc2VVcmwgPz8gJ2h0dHBzOi8vdmllbS5zaCd9JHtkb2NzUGF0aH0ke2RvY3NTbHVnID8gYCMke2RvY3NTbHVnfWAgOiAnJ31gXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgIHZlcnNpb246IGB2aWVtQCR7dmVyc2lvbn1gLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBzZXRFcnJvckNvbmZpZyhjb25maWcpIHtcbiAgICBlcnJvckNvbmZpZyA9IGNvbmZpZztcbn1cbmV4cG9ydCBjbGFzcyBCYXNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc2hvcnRNZXNzYWdlLCBhcmdzID0ge30pIHtcbiAgICAgICAgY29uc3QgZGV0YWlscyA9ICgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoYXJncy5jYXVzZSBpbnN0YW5jZW9mIEJhc2VFcnJvcilcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJncy5jYXVzZS5kZXRhaWxzO1xuICAgICAgICAgICAgaWYgKGFyZ3MuY2F1c2U/Lm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3MuY2F1c2UubWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBhcmdzLmRldGFpbHM7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIGNvbnN0IGRvY3NQYXRoID0gKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChhcmdzLmNhdXNlIGluc3RhbmNlb2YgQmFzZUVycm9yKVxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdzLmNhdXNlLmRvY3NQYXRoIHx8IGFyZ3MuZG9jc1BhdGg7XG4gICAgICAgICAgICByZXR1cm4gYXJncy5kb2NzUGF0aDtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgY29uc3QgZG9jc1VybCA9IGVycm9yQ29uZmlnLmdldERvY3NVcmw/Lih7IC4uLmFyZ3MsIGRvY3NQYXRoIH0pO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gW1xuICAgICAgICAgICAgc2hvcnRNZXNzYWdlIHx8ICdBbiBlcnJvciBvY2N1cnJlZC4nLFxuICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAuLi4oYXJncy5tZXRhTWVzc2FnZXMgPyBbLi4uYXJncy5tZXRhTWVzc2FnZXMsICcnXSA6IFtdKSxcbiAgICAgICAgICAgIC4uLihkb2NzVXJsID8gW2BEb2NzOiAke2RvY3NVcmx9YF0gOiBbXSksXG4gICAgICAgICAgICAuLi4oZGV0YWlscyA/IFtgRGV0YWlsczogJHtkZXRhaWxzfWBdIDogW10pLFxuICAgICAgICAgICAgLi4uKGVycm9yQ29uZmlnLnZlcnNpb24gPyBbYFZlcnNpb246ICR7ZXJyb3JDb25maWcudmVyc2lvbn1gXSA6IFtdKSxcbiAgICAgICAgXS5qb2luKCdcXG4nKTtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgYXJncy5jYXVzZSA/IHsgY2F1c2U6IGFyZ3MuY2F1c2UgfSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRldGFpbHNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZG9jc1BhdGhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWV0YU1lc3NhZ2VzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNob3J0TWVzc2FnZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6ICdCYXNlRXJyb3InXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgICAgICB0aGlzLmRvY3NQYXRoID0gZG9jc1BhdGg7XG4gICAgICAgIHRoaXMubWV0YU1lc3NhZ2VzID0gYXJncy5tZXRhTWVzc2FnZXM7XG4gICAgICAgIHRoaXMubmFtZSA9IGFyZ3MubmFtZSA/PyB0aGlzLm5hbWU7XG4gICAgICAgIHRoaXMuc2hvcnRNZXNzYWdlID0gc2hvcnRNZXNzYWdlO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgIH1cbiAgICB3YWxrKGZuKSB7XG4gICAgICAgIHJldHVybiB3YWxrKHRoaXMsIGZuKTtcbiAgICB9XG59XG5mdW5jdGlvbiB3YWxrKGVyciwgZm4pIHtcbiAgICBpZiAoZm4/LihlcnIpKVxuICAgICAgICByZXR1cm4gZXJyO1xuICAgIGlmIChlcnIgJiZcbiAgICAgICAgdHlwZW9mIGVyciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgJ2NhdXNlJyBpbiBlcnIgJiZcbiAgICAgICAgZXJyLmNhdXNlICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB3YWxrKGVyci5jYXVzZSwgZm4pO1xuICAgIHJldHVybiBmbiA/IG51bGwgOiBlcnI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidBytesLengthError: () => (/* binding */ InvalidBytesLengthError),\n/* harmony export */   SizeExceedsPaddingSizeError: () => (/* binding */ SizeExceedsPaddingSizeError),\n/* harmony export */   SliceOffsetOutOfBoundsError: () => (/* binding */ SliceOffsetOutOfBoundsError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n\nclass SliceOffsetOutOfBoundsError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ offset, position, size, }) {\n        super(`Slice ${position === 'start' ? 'starting' : 'ending'} at offset \"${offset}\" is out-of-bounds (size: ${size}).`, { name: 'SliceOffsetOutOfBoundsError' });\n    }\n}\nclass SizeExceedsPaddingSizeError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} size (${size}) exceeds padding size (${targetSize}).`, { name: 'SizeExceedsPaddingSizeError' });\n    }\n}\nclass InvalidBytesLengthError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} is expected to be ${targetSize} ${type} long, but is ${size} ${type} long.`, { name: 'InvalidBytesLengthError' });\n    }\n}\n//# sourceMappingURL=data.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvZGF0YS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXNDO0FBQy9CLDBDQUEwQywrQ0FBUztBQUMxRCxrQkFBa0IseUJBQXlCO0FBQzNDLHVCQUF1Qiw4Q0FBOEMsYUFBYSxPQUFPLDRCQUE0QixLQUFLLE9BQU8scUNBQXFDO0FBQ3RLO0FBQ0E7QUFDTywwQ0FBMEMsK0NBQVM7QUFDMUQsa0JBQWtCLHlCQUF5QjtBQUMzQyxpQkFBaUIsNkJBQTZCLEVBQUU7QUFDaEQ7QUFDQSw0QkFBNEIsUUFBUSxLQUFLLDBCQUEwQixXQUFXLE9BQU8scUNBQXFDO0FBQzFIO0FBQ0E7QUFDTyxzQ0FBc0MsK0NBQVM7QUFDdEQsa0JBQWtCLHlCQUF5QjtBQUMzQyxpQkFBaUIsNkJBQTZCLEVBQUU7QUFDaEQ7QUFDQSw0QkFBNEIsb0JBQW9CLFlBQVksRUFBRSxNQUFNLGVBQWUsTUFBTSxFQUFFLE1BQU0sVUFBVSxpQ0FBaUM7QUFDNUk7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2RhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZUVycm9yIH0gZnJvbSAnLi9iYXNlLmpzJztcbmV4cG9ydCBjbGFzcyBTbGljZU9mZnNldE91dE9mQm91bmRzRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgb2Zmc2V0LCBwb3NpdGlvbiwgc2l6ZSwgfSkge1xuICAgICAgICBzdXBlcihgU2xpY2UgJHtwb3NpdGlvbiA9PT0gJ3N0YXJ0JyA/ICdzdGFydGluZycgOiAnZW5kaW5nJ30gYXQgb2Zmc2V0IFwiJHtvZmZzZXR9XCIgaXMgb3V0LW9mLWJvdW5kcyAoc2l6ZTogJHtzaXplfSkuYCwgeyBuYW1lOiAnU2xpY2VPZmZzZXRPdXRPZkJvdW5kc0Vycm9yJyB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2l6ZUV4Y2VlZHNQYWRkaW5nU2l6ZUVycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHNpemUsIHRhcmdldFNpemUsIHR5cGUsIH0pIHtcbiAgICAgICAgc3VwZXIoYCR7dHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0ke3R5cGVcbiAgICAgICAgICAgIC5zbGljZSgxKVxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCl9IHNpemUgKCR7c2l6ZX0pIGV4Y2VlZHMgcGFkZGluZyBzaXplICgke3RhcmdldFNpemV9KS5gLCB7IG5hbWU6ICdTaXplRXhjZWVkc1BhZGRpbmdTaXplRXJyb3InIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQnl0ZXNMZW5ndGhFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBzaXplLCB0YXJnZXRTaXplLCB0eXBlLCB9KSB7XG4gICAgICAgIHN1cGVyKGAke3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9JHt0eXBlXG4gICAgICAgICAgICAuc2xpY2UoMSlcbiAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpfSBpcyBleHBlY3RlZCB0byBiZSAke3RhcmdldFNpemV9ICR7dHlwZX0gbG9uZywgYnV0IGlzICR7c2l6ZX0gJHt0eXBlfSBsb25nLmAsIHsgbmFtZTogJ0ludmFsaWRCeXRlc0xlbmd0aEVycm9yJyB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IntegerOutOfRangeError: () => (/* binding */ IntegerOutOfRangeError),\n/* harmony export */   InvalidBytesBooleanError: () => (/* binding */ InvalidBytesBooleanError),\n/* harmony export */   InvalidHexBooleanError: () => (/* binding */ InvalidHexBooleanError),\n/* harmony export */   InvalidHexValueError: () => (/* binding */ InvalidHexValueError),\n/* harmony export */   SizeOverflowError: () => (/* binding */ SizeOverflowError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n\nclass IntegerOutOfRangeError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ max, min, signed, size, value, }) {\n        super(`Number \"${value}\" is not in safe ${size ? `${size * 8}-bit ${signed ? 'signed' : 'unsigned'} ` : ''}integer range ${max ? `(${min} to ${max})` : `(above ${min})`}`, { name: 'IntegerOutOfRangeError' });\n    }\n}\nclass InvalidBytesBooleanError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(bytes) {\n        super(`Bytes value \"${bytes}\" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`, {\n            name: 'InvalidBytesBooleanError',\n        });\n    }\n}\nclass InvalidHexBooleanError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(hex) {\n        super(`Hex value \"${hex}\" is not a valid boolean. The hex value must be \"0x0\" (false) or \"0x1\" (true).`, { name: 'InvalidHexBooleanError' });\n    }\n}\nclass InvalidHexValueError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(value) {\n        super(`Hex value \"${value}\" is an odd length (${value.length}). It must be an even length.`, { name: 'InvalidHexValueError' });\n    }\n}\nclass SizeOverflowError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ givenSize, maxSize }) {\n        super(`Size cannot exceed ${maxSize} bytes. Given size: ${givenSize} bytes.`, { name: 'SizeOverflowError' });\n    }\n}\n//# sourceMappingURL=encoding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvZW5jb2RpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNDO0FBQy9CLHFDQUFxQywrQ0FBUztBQUNyRCxrQkFBa0IsZ0NBQWdDO0FBQ2xELHlCQUF5QixNQUFNLG1CQUFtQixVQUFVLFNBQVMsT0FBTyxnQ0FBZ0MsT0FBTyxnQkFBZ0IsVUFBVSxLQUFLLEtBQUssSUFBSSxlQUFlLElBQUksR0FBRyxLQUFLLGdDQUFnQztBQUN0TjtBQUNBO0FBQ08sdUNBQXVDLCtDQUFTO0FBQ3ZEO0FBQ0EsOEJBQThCLE1BQU07QUFDcEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNPLHFDQUFxQywrQ0FBUztBQUNyRDtBQUNBLDRCQUE0QixJQUFJLG1GQUFtRixnQ0FBZ0M7QUFDbko7QUFDQTtBQUNPLG1DQUFtQywrQ0FBUztBQUNuRDtBQUNBLDRCQUE0QixNQUFNLHNCQUFzQixhQUFhLGtDQUFrQyw4QkFBOEI7QUFDckk7QUFDQTtBQUNPLGdDQUFnQywrQ0FBUztBQUNoRCxrQkFBa0Isb0JBQW9CO0FBQ3RDLG9DQUFvQyxTQUFTLHFCQUFxQixXQUFXLFdBQVcsMkJBQTJCO0FBQ25IO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL2Vycm9ycy9lbmNvZGluZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlRXJyb3IgfSBmcm9tICcuL2Jhc2UuanMnO1xuZXhwb3J0IGNsYXNzIEludGVnZXJPdXRPZlJhbmdlRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgbWF4LCBtaW4sIHNpZ25lZCwgc2l6ZSwgdmFsdWUsIH0pIHtcbiAgICAgICAgc3VwZXIoYE51bWJlciBcIiR7dmFsdWV9XCIgaXMgbm90IGluIHNhZmUgJHtzaXplID8gYCR7c2l6ZSAqIDh9LWJpdCAke3NpZ25lZCA/ICdzaWduZWQnIDogJ3Vuc2lnbmVkJ30gYCA6ICcnfWludGVnZXIgcmFuZ2UgJHttYXggPyBgKCR7bWlufSB0byAke21heH0pYCA6IGAoYWJvdmUgJHttaW59KWB9YCwgeyBuYW1lOiAnSW50ZWdlck91dE9mUmFuZ2VFcnJvcicgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRCeXRlc0Jvb2xlYW5FcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoYnl0ZXMpIHtcbiAgICAgICAgc3VwZXIoYEJ5dGVzIHZhbHVlIFwiJHtieXRlc31cIiBpcyBub3QgYSB2YWxpZCBib29sZWFuLiBUaGUgYnl0ZXMgYXJyYXkgbXVzdCBjb250YWluIGEgc2luZ2xlIGJ5dGUgb2YgZWl0aGVyIGEgMCBvciAxIHZhbHVlLmAsIHtcbiAgICAgICAgICAgIG5hbWU6ICdJbnZhbGlkQnl0ZXNCb29sZWFuRXJyb3InLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEhleEJvb2xlYW5FcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoaGV4KSB7XG4gICAgICAgIHN1cGVyKGBIZXggdmFsdWUgXCIke2hleH1cIiBpcyBub3QgYSB2YWxpZCBib29sZWFuLiBUaGUgaGV4IHZhbHVlIG11c3QgYmUgXCIweDBcIiAoZmFsc2UpIG9yIFwiMHgxXCIgKHRydWUpLmAsIHsgbmFtZTogJ0ludmFsaWRIZXhCb29sZWFuRXJyb3InIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkSGV4VmFsdWVFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIoYEhleCB2YWx1ZSBcIiR7dmFsdWV9XCIgaXMgYW4gb2RkIGxlbmd0aCAoJHt2YWx1ZS5sZW5ndGh9KS4gSXQgbXVzdCBiZSBhbiBldmVuIGxlbmd0aC5gLCB7IG5hbWU6ICdJbnZhbGlkSGV4VmFsdWVFcnJvcicgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFNpemVPdmVyZmxvd0Vycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGdpdmVuU2l6ZSwgbWF4U2l6ZSB9KSB7XG4gICAgICAgIHN1cGVyKGBTaXplIGNhbm5vdCBleGNlZWQgJHttYXhTaXplfSBieXRlcy4gR2l2ZW4gc2l6ZTogJHtnaXZlblNpemV9IGJ5dGVzLmAsIHsgbmFtZTogJ1NpemVPdmVyZmxvd0Vycm9yJyB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmNvZGluZy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\nconst version = '2.23.2';\n//# sourceMappingURL=version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvdmVyc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUCIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL2Vycm9ycy92ZXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gJzIuMjMuMic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZXJzaW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checksumAddress: () => (/* binding */ checksumAddress),\n/* harmony export */   getAddress: () => (/* binding */ getAddress)\n/* harmony export */ });\n/* harmony import */ var _errors_address_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../errors/address.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js\");\n/* harmony import */ var _encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/toBytes.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n/* harmony import */ var _hash_keccak256_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hash/keccak256.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js\");\n/* harmony import */ var _lru_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lru.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js\");\n/* harmony import */ var _isAddress_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js\");\n\n\n\n\n\nconst checksumAddressCache = /*#__PURE__*/ new _lru_js__WEBPACK_IMPORTED_MODULE_0__.LruMap(8192);\nfunction checksumAddress(address_, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (checksumAddressCache.has(`${address_}.${chainId}`))\n        return checksumAddressCache.get(`${address_}.${chainId}`);\n    const hexAddress = chainId\n        ? `${chainId}${address_.toLowerCase()}`\n        : address_.substring(2).toLowerCase();\n    const hash = (0,_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_1__.keccak256)((0,_encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.stringToBytes)(hexAddress), 'bytes');\n    const address = (chainId ? hexAddress.substring(`${chainId}0x`.length) : hexAddress).split('');\n    for (let i = 0; i < 40; i += 2) {\n        if (hash[i >> 1] >> 4 >= 8 && address[i]) {\n            address[i] = address[i].toUpperCase();\n        }\n        if ((hash[i >> 1] & 0x0f) >= 8 && address[i + 1]) {\n            address[i + 1] = address[i + 1].toUpperCase();\n        }\n    }\n    const result = `0x${address.join('')}`;\n    checksumAddressCache.set(`${address_}.${chainId}`, result);\n    return result;\n}\nfunction getAddress(address, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (!(0,_isAddress_js__WEBPACK_IMPORTED_MODULE_3__.isAddress)(address, { strict: false }))\n        throw new _errors_address_js__WEBPACK_IMPORTED_MODULE_4__.InvalidAddressError({ address });\n    return checksumAddress(address, chainId);\n}\n//# sourceMappingURL=getAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9hZGRyZXNzL2dldEFkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE4RDtBQUNOO0FBQ1A7QUFDZDtBQUNRO0FBQzNDLCtDQUErQywyQ0FBTTtBQUM5QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsU0FBUyxHQUFHLFFBQVE7QUFDeEQsMkNBQTJDLFNBQVMsR0FBRyxRQUFRO0FBQy9EO0FBQ0EsYUFBYSxRQUFRLEVBQUUsdUJBQXVCO0FBQzlDO0FBQ0EsaUJBQWlCLDZEQUFTLENBQUMsbUVBQWE7QUFDeEMsdURBQXVELFFBQVE7QUFDL0Qsb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDLGdDQUFnQyxTQUFTLEdBQUcsUUFBUTtBQUNwRDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3REFBUyxZQUFZLGVBQWU7QUFDN0Msa0JBQWtCLG1FQUFtQixHQUFHLFNBQVM7QUFDakQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvYWRkcmVzcy9nZXRBZGRyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludmFsaWRBZGRyZXNzRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvcnMvYWRkcmVzcy5qcyc7XG5pbXBvcnQgeyBzdHJpbmdUb0J5dGVzLCB9IGZyb20gJy4uL2VuY29kaW5nL3RvQnl0ZXMuanMnO1xuaW1wb3J0IHsga2VjY2FrMjU2IH0gZnJvbSAnLi4vaGFzaC9rZWNjYWsyNTYuanMnO1xuaW1wb3J0IHsgTHJ1TWFwIH0gZnJvbSAnLi4vbHJ1LmpzJztcbmltcG9ydCB7IGlzQWRkcmVzcyB9IGZyb20gJy4vaXNBZGRyZXNzLmpzJztcbmNvbnN0IGNoZWNrc3VtQWRkcmVzc0NhY2hlID0gLyojX19QVVJFX18qLyBuZXcgTHJ1TWFwKDgxOTIpO1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrc3VtQWRkcmVzcyhhZGRyZXNzXywgXG4vKipcbiAqIFdhcm5pbmc6IEVJUC0xMTkxIGNoZWNrc3VtIGFkZHJlc3NlcyBhcmUgZ2VuZXJhbGx5IG5vdCBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoIHRoZVxuICogd2lkZXIgRXRoZXJldW0gZWNvc3lzdGVtLCBtZWFuaW5nIGl0IHdpbGwgYnJlYWsgd2hlbiB2YWxpZGF0ZWQgYWdhaW5zdCBhbiBhcHBsaWNhdGlvbi90b29sXG4gKiB0aGF0IHJlbGllcyBvbiBFSVAtNTUgY2hlY2tzdW0gZW5jb2RpbmcgKGNoZWNrc3VtIHdpdGhvdXQgY2hhaW5JZCkuXG4gKlxuICogSXQgaXMgaGlnaGx5IHJlY29tbWVuZGVkIHRvIG5vdCB1c2UgdGhpcyBmZWF0dXJlIHVubGVzcyB5b3VcbiAqIGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICpcbiAqIFNlZSBtb3JlOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTEyMVxuICovXG5jaGFpbklkKSB7XG4gICAgaWYgKGNoZWNrc3VtQWRkcmVzc0NhY2hlLmhhcyhgJHthZGRyZXNzX30uJHtjaGFpbklkfWApKVxuICAgICAgICByZXR1cm4gY2hlY2tzdW1BZGRyZXNzQ2FjaGUuZ2V0KGAke2FkZHJlc3NffS4ke2NoYWluSWR9YCk7XG4gICAgY29uc3QgaGV4QWRkcmVzcyA9IGNoYWluSWRcbiAgICAgICAgPyBgJHtjaGFpbklkfSR7YWRkcmVzc18udG9Mb3dlckNhc2UoKX1gXG4gICAgICAgIDogYWRkcmVzc18uc3Vic3RyaW5nKDIpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgaGFzaCA9IGtlY2NhazI1NihzdHJpbmdUb0J5dGVzKGhleEFkZHJlc3MpLCAnYnl0ZXMnKTtcbiAgICBjb25zdCBhZGRyZXNzID0gKGNoYWluSWQgPyBoZXhBZGRyZXNzLnN1YnN0cmluZyhgJHtjaGFpbklkfTB4YC5sZW5ndGgpIDogaGV4QWRkcmVzcykuc3BsaXQoJycpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDA7IGkgKz0gMikge1xuICAgICAgICBpZiAoaGFzaFtpID4+IDFdID4+IDQgPj0gOCAmJiBhZGRyZXNzW2ldKSB7XG4gICAgICAgICAgICBhZGRyZXNzW2ldID0gYWRkcmVzc1tpXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoaGFzaFtpID4+IDFdICYgMHgwZikgPj0gOCAmJiBhZGRyZXNzW2kgKyAxXSkge1xuICAgICAgICAgICAgYWRkcmVzc1tpICsgMV0gPSBhZGRyZXNzW2kgKyAxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGAweCR7YWRkcmVzcy5qb2luKCcnKX1gO1xuICAgIGNoZWNrc3VtQWRkcmVzc0NhY2hlLnNldChgJHthZGRyZXNzX30uJHtjaGFpbklkfWAsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBZGRyZXNzKGFkZHJlc3MsIFxuLyoqXG4gKiBXYXJuaW5nOiBFSVAtMTE5MSBjaGVja3N1bSBhZGRyZXNzZXMgYXJlIGdlbmVyYWxseSBub3QgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCB0aGVcbiAqIHdpZGVyIEV0aGVyZXVtIGVjb3N5c3RlbSwgbWVhbmluZyBpdCB3aWxsIGJyZWFrIHdoZW4gdmFsaWRhdGVkIGFnYWluc3QgYW4gYXBwbGljYXRpb24vdG9vbFxuICogdGhhdCByZWxpZXMgb24gRUlQLTU1IGNoZWNrc3VtIGVuY29kaW5nIChjaGVja3N1bSB3aXRob3V0IGNoYWluSWQpLlxuICpcbiAqIEl0IGlzIGhpZ2hseSByZWNvbW1lbmRlZCB0byBub3QgdXNlIHRoaXMgZmVhdHVyZSB1bmxlc3MgeW91XG4gKiBrbm93IHdoYXQgeW91IGFyZSBkb2luZy5cbiAqXG4gKiBTZWUgbW9yZTogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzExMjFcbiAqL1xuY2hhaW5JZCkge1xuICAgIGlmICghaXNBZGRyZXNzKGFkZHJlc3MsIHsgc3RyaWN0OiBmYWxzZSB9KSlcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBZGRyZXNzRXJyb3IoeyBhZGRyZXNzIH0pO1xuICAgIHJldHVybiBjaGVja3N1bUFkZHJlc3MoYWRkcmVzcywgY2hhaW5JZCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRBZGRyZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAddress: () => (/* binding */ isAddress),\n/* harmony export */   isAddressCache: () => (/* binding */ isAddressCache)\n/* harmony export */ });\n/* harmony import */ var _lru_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lru.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js\");\n/* harmony import */ var _getAddress_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js\");\n\n\nconst addressRegex = /^0x[a-fA-F0-9]{40}$/;\n/** @internal */\nconst isAddressCache = /*#__PURE__*/ new _lru_js__WEBPACK_IMPORTED_MODULE_0__.LruMap(8192);\nfunction isAddress(address, options) {\n    const { strict = true } = options ?? {};\n    const cacheKey = `${address}.${strict}`;\n    if (isAddressCache.has(cacheKey))\n        return isAddressCache.get(cacheKey);\n    const result = (() => {\n        if (!addressRegex.test(address))\n            return false;\n        if (address.toLowerCase() === address)\n            return true;\n        if (strict)\n            return (0,_getAddress_js__WEBPACK_IMPORTED_MODULE_1__.checksumAddress)(address) === address;\n        return true;\n    })();\n    isAddressCache.set(cacheKey, result);\n    return result;\n}\n//# sourceMappingURL=isAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9hZGRyZXNzL2lzQWRkcmVzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1DO0FBQ2U7QUFDbEQscUNBQXFDLEdBQUc7QUFDeEM7QUFDTyx5Q0FBeUMsMkNBQU07QUFDL0M7QUFDUCxZQUFZLGdCQUFnQjtBQUM1Qix3QkFBd0IsUUFBUSxHQUFHLE9BQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrREFBZTtBQUNsQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2FkZHJlc3MvaXNBZGRyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExydU1hcCB9IGZyb20gJy4uL2xydS5qcyc7XG5pbXBvcnQgeyBjaGVja3N1bUFkZHJlc3MgfSBmcm9tICcuL2dldEFkZHJlc3MuanMnO1xuY29uc3QgYWRkcmVzc1JlZ2V4ID0gL14weFthLWZBLUYwLTldezQwfSQvO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGlzQWRkcmVzc0NhY2hlID0gLyojX19QVVJFX18qLyBuZXcgTHJ1TWFwKDgxOTIpO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWRkcmVzcyhhZGRyZXNzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBzdHJpY3QgPSB0cnVlIH0gPSBvcHRpb25zID8/IHt9O1xuICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7YWRkcmVzc30uJHtzdHJpY3R9YDtcbiAgICBpZiAoaXNBZGRyZXNzQ2FjaGUuaGFzKGNhY2hlS2V5KSlcbiAgICAgICAgcmV0dXJuIGlzQWRkcmVzc0NhY2hlLmdldChjYWNoZUtleSk7XG4gICAgY29uc3QgcmVzdWx0ID0gKCgpID0+IHtcbiAgICAgICAgaWYgKCFhZGRyZXNzUmVnZXgudGVzdChhZGRyZXNzKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGFkZHJlc3MudG9Mb3dlckNhc2UoKSA9PT0gYWRkcmVzcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoc3RyaWN0KVxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrc3VtQWRkcmVzcyhhZGRyZXNzKSA9PT0gYWRkcmVzcztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSkoKTtcbiAgICBpc0FkZHJlc3NDYWNoZS5zZXQoY2FjaGVLZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQWRkcmVzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isHex: () => (/* binding */ isHex)\n/* harmony export */ });\nfunction isHex(value, { strict = true } = {}) {\n    if (!value)\n        return false;\n    if (typeof value !== 'string')\n        return false;\n    return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith('0x');\n}\n//# sourceMappingURL=isHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL2lzSGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyx3QkFBd0IsZ0JBQWdCLElBQUk7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL2lzSGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0hleCh2YWx1ZSwgeyBzdHJpY3QgPSB0cnVlIH0gPSB7fSkge1xuICAgIGlmICghdmFsdWUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBzdHJpY3QgPyAvXjB4WzAtOWEtZkEtRl0qJC8udGVzdCh2YWx1ZSkgOiB2YWx1ZS5zdGFydHNXaXRoKCcweCcpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNIZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pad: () => (/* binding */ pad),\n/* harmony export */   padBytes: () => (/* binding */ padBytes),\n/* harmony export */   padHex: () => (/* binding */ padHex)\n/* harmony export */ });\n/* harmony import */ var _errors_data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors/data.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js\");\n\nfunction pad(hexOrBytes, { dir, size = 32 } = {}) {\n    if (typeof hexOrBytes === 'string')\n        return padHex(hexOrBytes, { dir, size });\n    return padBytes(hexOrBytes, { dir, size });\n}\nfunction padHex(hex_, { dir, size = 32 } = {}) {\n    if (size === null)\n        return hex_;\n    const hex = hex_.replace('0x', '');\n    if (hex.length > size * 2)\n        throw new _errors_data_js__WEBPACK_IMPORTED_MODULE_0__.SizeExceedsPaddingSizeError({\n            size: Math.ceil(hex.length / 2),\n            targetSize: size,\n            type: 'hex',\n        });\n    return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;\n}\nfunction padBytes(bytes, { dir, size = 32 } = {}) {\n    if (size === null)\n        return bytes;\n    if (bytes.length > size)\n        throw new _errors_data_js__WEBPACK_IMPORTED_MODULE_0__.SizeExceedsPaddingSizeError({\n            size: bytes.length,\n            targetSize: size,\n            type: 'bytes',\n        });\n    const paddedBytes = new Uint8Array(size);\n    for (let i = 0; i < size; i++) {\n        const padEnd = dir === 'right';\n        paddedBytes[padEnd ? i : size - i - 1] =\n            bytes[padEnd ? i : bytes.length - i - 1];\n    }\n    return paddedBytes;\n}\n//# sourceMappingURL=pad.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3BhZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9FO0FBQzdELDJCQUEyQixpQkFBaUIsSUFBSTtBQUN2RDtBQUNBLG9DQUFvQyxXQUFXO0FBQy9DLGtDQUFrQyxXQUFXO0FBQzdDO0FBQ08sd0JBQXdCLGlCQUFpQixJQUFJO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdFQUEyQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsZ0JBQWdCLDREQUE0RDtBQUM1RTtBQUNPLDJCQUEyQixpQkFBaUIsSUFBSTtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0VBQTJCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS9wYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2l6ZUV4Y2VlZHNQYWRkaW5nU2l6ZUVycm9yLCB9IGZyb20gJy4uLy4uL2Vycm9ycy9kYXRhLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBwYWQoaGV4T3JCeXRlcywgeyBkaXIsIHNpemUgPSAzMiB9ID0ge30pIHtcbiAgICBpZiAodHlwZW9mIGhleE9yQnl0ZXMgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gcGFkSGV4KGhleE9yQnl0ZXMsIHsgZGlyLCBzaXplIH0pO1xuICAgIHJldHVybiBwYWRCeXRlcyhoZXhPckJ5dGVzLCB7IGRpciwgc2l6ZSB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYWRIZXgoaGV4XywgeyBkaXIsIHNpemUgPSAzMiB9ID0ge30pIHtcbiAgICBpZiAoc2l6ZSA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGhleF87XG4gICAgY29uc3QgaGV4ID0gaGV4Xy5yZXBsYWNlKCcweCcsICcnKTtcbiAgICBpZiAoaGV4Lmxlbmd0aCA+IHNpemUgKiAyKVxuICAgICAgICB0aHJvdyBuZXcgU2l6ZUV4Y2VlZHNQYWRkaW5nU2l6ZUVycm9yKHtcbiAgICAgICAgICAgIHNpemU6IE1hdGguY2VpbChoZXgubGVuZ3RoIC8gMiksXG4gICAgICAgICAgICB0YXJnZXRTaXplOiBzaXplLFxuICAgICAgICAgICAgdHlwZTogJ2hleCcsXG4gICAgICAgIH0pO1xuICAgIHJldHVybiBgMHgke2hleFtkaXIgPT09ICdyaWdodCcgPyAncGFkRW5kJyA6ICdwYWRTdGFydCddKHNpemUgKiAyLCAnMCcpfWA7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFkQnl0ZXMoYnl0ZXMsIHsgZGlyLCBzaXplID0gMzIgfSA9IHt9KSB7XG4gICAgaWYgKHNpemUgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBieXRlcztcbiAgICBpZiAoYnl0ZXMubGVuZ3RoID4gc2l6ZSlcbiAgICAgICAgdGhyb3cgbmV3IFNpemVFeGNlZWRzUGFkZGluZ1NpemVFcnJvcih7XG4gICAgICAgICAgICBzaXplOiBieXRlcy5sZW5ndGgsXG4gICAgICAgICAgICB0YXJnZXRTaXplOiBzaXplLFxuICAgICAgICAgICAgdHlwZTogJ2J5dGVzJyxcbiAgICAgICAgfSk7XG4gICAgY29uc3QgcGFkZGVkQnl0ZXMgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICBjb25zdCBwYWRFbmQgPSBkaXIgPT09ICdyaWdodCc7XG4gICAgICAgIHBhZGRlZEJ5dGVzW3BhZEVuZCA/IGkgOiBzaXplIC0gaSAtIDFdID1cbiAgICAgICAgICAgIGJ5dGVzW3BhZEVuZCA/IGkgOiBieXRlcy5sZW5ndGggLSBpIC0gMV07XG4gICAgfVxuICAgIHJldHVybiBwYWRkZWRCeXRlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   size: () => (/* binding */ size)\n/* harmony export */ });\n/* harmony import */ var _isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n\n/**\n * @description Retrieves the size of the value (in bytes).\n *\n * @param value The value (hex or byte array) to retrieve the size of.\n * @returns The size of the value (in bytes).\n */\nfunction size(value) {\n    if ((0,_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(value, { strict: false }))\n        return Math.ceil((value.length - 2) / 2);\n    return value.length;\n}\n//# sourceMappingURL=size.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3NpemUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxRQUFRLGdEQUFLLFVBQVUsZUFBZTtBQUN0QztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2RhdGEvc2l6ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0hleCB9IGZyb20gJy4vaXNIZXguanMnO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gUmV0cmlldmVzIHRoZSBzaXplIG9mIHRoZSB2YWx1ZSAoaW4gYnl0ZXMpLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgKGhleCBvciBieXRlIGFycmF5KSB0byByZXRyaWV2ZSB0aGUgc2l6ZSBvZi5cbiAqIEByZXR1cm5zIFRoZSBzaXplIG9mIHRoZSB2YWx1ZSAoaW4gYnl0ZXMpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2l6ZSh2YWx1ZSkge1xuICAgIGlmIChpc0hleCh2YWx1ZSwgeyBzdHJpY3Q6IGZhbHNlIH0pKVxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh2YWx1ZS5sZW5ndGggLSAyKSAvIDIpO1xuICAgIHJldHVybiB2YWx1ZS5sZW5ndGg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaXplLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trim: () => (/* binding */ trim)\n/* harmony export */ });\nfunction trim(hexOrBytes, { dir = 'left' } = {}) {\n    let data = typeof hexOrBytes === 'string' ? hexOrBytes.replace('0x', '') : hexOrBytes;\n    let sliceLength = 0;\n    for (let i = 0; i < data.length - 1; i++) {\n        if (data[dir === 'left' ? i : data.length - i - 1].toString() === '0')\n            sliceLength++;\n        else\n            break;\n    }\n    data =\n        dir === 'left'\n            ? data.slice(sliceLength)\n            : data.slice(0, data.length - sliceLength);\n    if (typeof hexOrBytes === 'string') {\n        if (data.length === 1 && dir === 'right')\n            data = `${data}0`;\n        return `0x${data.length % 2 === 1 ? `0${data}` : data}`;\n    }\n    return data;\n}\n//# sourceMappingURL=trim.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3RyaW0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLDRCQUE0QixlQUFlLElBQUk7QUFDdEQ7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixLQUFLO0FBQzNCLG9CQUFvQiw0QkFBNEIsS0FBSyxTQUFTO0FBQzlEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS90cmltLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiB0cmltKGhleE9yQnl0ZXMsIHsgZGlyID0gJ2xlZnQnIH0gPSB7fSkge1xuICAgIGxldCBkYXRhID0gdHlwZW9mIGhleE9yQnl0ZXMgPT09ICdzdHJpbmcnID8gaGV4T3JCeXRlcy5yZXBsYWNlKCcweCcsICcnKSA6IGhleE9yQnl0ZXM7XG4gICAgbGV0IHNsaWNlTGVuZ3RoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGlmIChkYXRhW2RpciA9PT0gJ2xlZnQnID8gaSA6IGRhdGEubGVuZ3RoIC0gaSAtIDFdLnRvU3RyaW5nKCkgPT09ICcwJylcbiAgICAgICAgICAgIHNsaWNlTGVuZ3RoKys7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkYXRhID1cbiAgICAgICAgZGlyID09PSAnbGVmdCdcbiAgICAgICAgICAgID8gZGF0YS5zbGljZShzbGljZUxlbmd0aClcbiAgICAgICAgICAgIDogZGF0YS5zbGljZSgwLCBkYXRhLmxlbmd0aCAtIHNsaWNlTGVuZ3RoKTtcbiAgICBpZiAodHlwZW9mIGhleE9yQnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMSAmJiBkaXIgPT09ICdyaWdodCcpXG4gICAgICAgICAgICBkYXRhID0gYCR7ZGF0YX0wYDtcbiAgICAgICAgcmV0dXJuIGAweCR7ZGF0YS5sZW5ndGggJSAyID09PSAxID8gYDAke2RhdGF9YCA6IGRhdGF9YDtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmltLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertSize: () => (/* binding */ assertSize),\n/* harmony export */   fromHex: () => (/* binding */ fromHex),\n/* harmony export */   hexToBigInt: () => (/* binding */ hexToBigInt),\n/* harmony export */   hexToBool: () => (/* binding */ hexToBool),\n/* harmony export */   hexToNumber: () => (/* binding */ hexToNumber),\n/* harmony export */   hexToString: () => (/* binding */ hexToString)\n/* harmony export */ });\n/* harmony import */ var _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../errors/encoding.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js\");\n/* harmony import */ var _data_size_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/size.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js\");\n/* harmony import */ var _data_trim_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/trim.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js\");\n/* harmony import */ var _toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toBytes.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n\n\n\n\nfunction assertSize(hexOrBytes, { size }) {\n    if ((0,_data_size_js__WEBPACK_IMPORTED_MODULE_0__.size)(hexOrBytes) > size)\n        throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__.SizeOverflowError({\n            givenSize: (0,_data_size_js__WEBPACK_IMPORTED_MODULE_0__.size)(hexOrBytes),\n            maxSize: size,\n        });\n}\n/**\n * Decodes a hex string into a string, number, bigint, boolean, or byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex\n * - Example: https://viem.sh/docs/utilities/fromHex#usage\n *\n * @param hex Hex string to decode.\n * @param toOrOpts Type to convert to or options.\n * @returns Decoded value.\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x1a4', 'number')\n * // 420\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c6421', 'string')\n * // 'Hello world'\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *   size: 32,\n *   to: 'string'\n * })\n * // 'Hello world'\n */\nfunction fromHex(hex, toOrOpts) {\n    const opts = typeof toOrOpts === 'string' ? { to: toOrOpts } : toOrOpts;\n    const to = opts.to;\n    if (to === 'number')\n        return hexToNumber(hex, opts);\n    if (to === 'bigint')\n        return hexToBigInt(hex, opts);\n    if (to === 'string')\n        return hexToString(hex, opts);\n    if (to === 'boolean')\n        return hexToBool(hex, opts);\n    return (0,_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(hex, opts);\n}\n/**\n * Decodes a hex value into a bigint.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobigint\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns BigInt value.\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x1a4', { signed: true })\n * // 420n\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420n\n */\nfunction hexToBigInt(hex, opts = {}) {\n    const { signed } = opts;\n    if (opts.size)\n        assertSize(hex, { size: opts.size });\n    const value = BigInt(hex);\n    if (!signed)\n        return value;\n    const size = (hex.length - 2) / 2;\n    const max = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n    if (value <= max)\n        return value;\n    return value - BigInt(`0x${'f'.padStart(size * 2, 'f')}`) - 1n;\n}\n/**\n * Decodes a hex value into a boolean.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobool\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Boolean value.\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x01')\n * // true\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x0000000000000000000000000000000000000000000000000000000000000001', { size: 32 })\n * // true\n */\nfunction hexToBool(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        assertSize(hex, { size: opts.size });\n        hex = (0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex);\n    }\n    if ((0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex) === '0x00')\n        return false;\n    if ((0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex) === '0x01')\n        return true;\n    throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__.InvalidHexBooleanError(hex);\n}\n/**\n * Decodes a hex string into a number.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextonumber\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Number value.\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToNumber('0x1a4')\n * // 420\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420\n */\nfunction hexToNumber(hex, opts = {}) {\n    return Number(hexToBigInt(hex, opts));\n}\n/**\n * Decodes a hex value into a UTF-8 string.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextostring\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns String value.\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c6421')\n * // 'Hello world!'\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *  size: 32,\n * })\n * // 'Hello world'\n */\nfunction hexToString(hex, opts = {}) {\n    let bytes = (0,_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(hex);\n    if (opts.size) {\n        assertSize(bytes, { size: opts.size });\n        bytes = (0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(bytes, { dir: 'right' });\n    }\n    return new TextDecoder().decode(bytes);\n}\n//# sourceMappingURL=fromHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy9mcm9tSGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBc0Y7QUFDdEM7QUFDVDtBQUNHO0FBQ25DLGtDQUFrQyxNQUFNO0FBQy9DLFFBQVEsbURBQUs7QUFDYixrQkFBa0Isa0VBQWlCO0FBQ25DLHVCQUF1QixtREFBSztBQUM1QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDTztBQUNQLGtEQUFrRCxlQUFlO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdURBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQix1Q0FBdUMsY0FBYztBQUNyRDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsb0dBQW9HLFVBQVU7QUFDOUc7QUFDQTtBQUNPLG1DQUFtQztBQUMxQyxZQUFZLFNBQVM7QUFDckI7QUFDQSwwQkFBMEIsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDRCQUE0QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCLGtHQUFrRyxVQUFVO0FBQzVHO0FBQ0E7QUFDTyxrQ0FBa0M7QUFDekM7QUFDQTtBQUNBLDBCQUEwQixpQkFBaUI7QUFDM0MsY0FBYyxtREFBSTtBQUNsQjtBQUNBLFFBQVEsbURBQUk7QUFDWjtBQUNBLFFBQVEsbURBQUk7QUFDWjtBQUNBLGNBQWMsdUVBQXNCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsb0dBQW9HLFVBQVU7QUFDOUc7QUFDQTtBQUNPLG1DQUFtQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ08sbUNBQW1DO0FBQzFDLGdCQUFnQix1REFBVTtBQUMxQjtBQUNBLDRCQUE0QixpQkFBaUI7QUFDN0MsZ0JBQWdCLG1EQUFJLFVBQVUsY0FBYztBQUM1QztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2VuY29kaW5nL2Zyb21IZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW52YWxpZEhleEJvb2xlYW5FcnJvciwgU2l6ZU92ZXJmbG93RXJyb3IsIH0gZnJvbSAnLi4vLi4vZXJyb3JzL2VuY29kaW5nLmpzJztcbmltcG9ydCB7IHNpemUgYXMgc2l6ZV8gfSBmcm9tICcuLi9kYXRhL3NpemUuanMnO1xuaW1wb3J0IHsgdHJpbSB9IGZyb20gJy4uL2RhdGEvdHJpbS5qcyc7XG5pbXBvcnQgeyBoZXhUb0J5dGVzIH0gZnJvbSAnLi90b0J5dGVzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRTaXplKGhleE9yQnl0ZXMsIHsgc2l6ZSB9KSB7XG4gICAgaWYgKHNpemVfKGhleE9yQnl0ZXMpID4gc2l6ZSlcbiAgICAgICAgdGhyb3cgbmV3IFNpemVPdmVyZmxvd0Vycm9yKHtcbiAgICAgICAgICAgIGdpdmVuU2l6ZTogc2l6ZV8oaGV4T3JCeXRlcyksXG4gICAgICAgICAgICBtYXhTaXplOiBzaXplLFxuICAgICAgICB9KTtcbn1cbi8qKlxuICogRGVjb2RlcyBhIGhleCBzdHJpbmcgaW50byBhIHN0cmluZywgbnVtYmVyLCBiaWdpbnQsIGJvb2xlYW4sIG9yIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvZnJvbUhleFxuICogLSBFeGFtcGxlOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvZnJvbUhleCN1c2FnZVxuICpcbiAqIEBwYXJhbSBoZXggSGV4IHN0cmluZyB0byBkZWNvZGUuXG4gKiBAcGFyYW0gdG9Pck9wdHMgVHlwZSB0byBjb252ZXJ0IHRvIG9yIG9wdGlvbnMuXG4gKiBAcmV0dXJucyBEZWNvZGVkIHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBmcm9tSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBmcm9tSGV4KCcweDFhNCcsICdudW1iZXInKVxuICogLy8gNDIwXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGZyb21IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGZyb21IZXgoJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxJywgJ3N0cmluZycpXG4gKiAvLyAnSGVsbG8gd29ybGQnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGZyb21IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGZyb21IZXgoJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsIHtcbiAqICAgc2l6ZTogMzIsXG4gKiAgIHRvOiAnc3RyaW5nJ1xuICogfSlcbiAqIC8vICdIZWxsbyB3b3JsZCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21IZXgoaGV4LCB0b09yT3B0cykge1xuICAgIGNvbnN0IG9wdHMgPSB0eXBlb2YgdG9Pck9wdHMgPT09ICdzdHJpbmcnID8geyB0bzogdG9Pck9wdHMgfSA6IHRvT3JPcHRzO1xuICAgIGNvbnN0IHRvID0gb3B0cy50bztcbiAgICBpZiAodG8gPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gaGV4VG9OdW1iZXIoaGV4LCBvcHRzKTtcbiAgICBpZiAodG8gPT09ICdiaWdpbnQnKVxuICAgICAgICByZXR1cm4gaGV4VG9CaWdJbnQoaGV4LCBvcHRzKTtcbiAgICBpZiAodG8gPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gaGV4VG9TdHJpbmcoaGV4LCBvcHRzKTtcbiAgICBpZiAodG8gPT09ICdib29sZWFuJylcbiAgICAgICAgcmV0dXJuIGhleFRvQm9vbChoZXgsIG9wdHMpO1xuICAgIHJldHVybiBoZXhUb0J5dGVzKGhleCwgb3B0cyk7XG59XG4vKipcbiAqIERlY29kZXMgYSBoZXggdmFsdWUgaW50byBhIGJpZ2ludC5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy9mcm9tSGV4I2hleHRvYmlnaW50XG4gKlxuICogQHBhcmFtIGhleCBIZXggdmFsdWUgdG8gZGVjb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJpZ0ludCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9CaWdJbnQgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQmlnSW50KCcweDFhNCcsIHsgc2lnbmVkOiB0cnVlIH0pXG4gKiAvLyA0MjBuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvQmlnSW50IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0JpZ0ludCgnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMWE0JywgeyBzaXplOiAzMiB9KVxuICogLy8gNDIwblxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9CaWdJbnQoaGV4LCBvcHRzID0ge30pIHtcbiAgICBjb25zdCB7IHNpZ25lZCB9ID0gb3B0cztcbiAgICBpZiAob3B0cy5zaXplKVxuICAgICAgICBhc3NlcnRTaXplKGhleCwgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgY29uc3QgdmFsdWUgPSBCaWdJbnQoaGV4KTtcbiAgICBpZiAoIXNpZ25lZClcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGNvbnN0IHNpemUgPSAoaGV4Lmxlbmd0aCAtIDIpIC8gMjtcbiAgICBjb25zdCBtYXggPSAoMW4gPDwgKEJpZ0ludChzaXplKSAqIDhuIC0gMW4pKSAtIDFuO1xuICAgIGlmICh2YWx1ZSA8PSBtYXgpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWUgLSBCaWdJbnQoYDB4JHsnZicucGFkU3RhcnQoc2l6ZSAqIDIsICdmJyl9YCkgLSAxbjtcbn1cbi8qKlxuICogRGVjb2RlcyBhIGhleCB2YWx1ZSBpbnRvIGEgYm9vbGVhbi5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy9mcm9tSGV4I2hleHRvYm9vbFxuICpcbiAqIEBwYXJhbSBoZXggSGV4IHZhbHVlIHRvIGRlY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBCb29sZWFuIHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb0Jvb2wgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQm9vbCgnMHgwMScpXG4gKiAvLyB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvQm9vbCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9Cb29sKCcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEnLCB7IHNpemU6IDMyIH0pXG4gKiAvLyB0cnVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb0Jvb2woaGV4Xywgb3B0cyA9IHt9KSB7XG4gICAgbGV0IGhleCA9IGhleF87XG4gICAgaWYgKG9wdHMuc2l6ZSkge1xuICAgICAgICBhc3NlcnRTaXplKGhleCwgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgICAgIGhleCA9IHRyaW0oaGV4KTtcbiAgICB9XG4gICAgaWYgKHRyaW0oaGV4KSA9PT0gJzB4MDAnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRyaW0oaGV4KSA9PT0gJzB4MDEnKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB0aHJvdyBuZXcgSW52YWxpZEhleEJvb2xlYW5FcnJvcihoZXgpO1xufVxuLyoqXG4gKiBEZWNvZGVzIGEgaGV4IHN0cmluZyBpbnRvIGEgbnVtYmVyLlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL2Zyb21IZXgjaGV4dG9udW1iZXJcbiAqXG4gKiBAcGFyYW0gaGV4IEhleCB2YWx1ZSB0byBkZWNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgTnVtYmVyIHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb051bWJlciB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9OdW1iZXIoJzB4MWE0JylcbiAqIC8vIDQyMFxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb051bWJlciB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9CaWdJbnQoJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDFhNCcsIHsgc2l6ZTogMzIgfSlcbiAqIC8vIDQyMFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9OdW1iZXIoaGV4LCBvcHRzID0ge30pIHtcbiAgICByZXR1cm4gTnVtYmVyKGhleFRvQmlnSW50KGhleCwgb3B0cykpO1xufVxuLyoqXG4gKiBEZWNvZGVzIGEgaGV4IHZhbHVlIGludG8gYSBVVEYtOCBzdHJpbmcuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvZnJvbUhleCNoZXh0b3N0cmluZ1xuICpcbiAqIEBwYXJhbSBoZXggSGV4IHZhbHVlIHRvIGRlY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBTdHJpbmcgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvU3RyaW5nIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb1N0cmluZygnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEnKVxuICogLy8gJ0hlbGxvIHdvcmxkISdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9TdHJpbmcgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvU3RyaW5nKCcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLCB7XG4gKiAgc2l6ZTogMzIsXG4gKiB9KVxuICogLy8gJ0hlbGxvIHdvcmxkJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9TdHJpbmcoaGV4LCBvcHRzID0ge30pIHtcbiAgICBsZXQgYnl0ZXMgPSBoZXhUb0J5dGVzKGhleCk7XG4gICAgaWYgKG9wdHMuc2l6ZSkge1xuICAgICAgICBhc3NlcnRTaXplKGJ5dGVzLCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgYnl0ZXMgPSB0cmltKGJ5dGVzLCB7IGRpcjogJ3JpZ2h0JyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShieXRlcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tSGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boolToBytes: () => (/* binding */ boolToBytes),\n/* harmony export */   hexToBytes: () => (/* binding */ hexToBytes),\n/* harmony export */   numberToBytes: () => (/* binding */ numberToBytes),\n/* harmony export */   stringToBytes: () => (/* binding */ stringToBytes),\n/* harmony export */   toBytes: () => (/* binding */ toBytes)\n/* harmony export */ });\n/* harmony import */ var _errors_base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../errors/base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _data_pad_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/pad.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js\");\n/* harmony import */ var _fromHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fromHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n/* harmony import */ var _toHex_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./toHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\n\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string, hex value, bigint, number or boolean to a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes\n * - Example: https://viem.sh/docs/utilities/toBytes#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes('Hello world')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nfunction toBytes(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToBytes(value, opts);\n    if (typeof value === 'boolean')\n        return boolToBytes(value, opts);\n    if ((0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(value))\n        return hexToBytes(value, opts);\n    return stringToBytes(value, opts);\n}\n/**\n * Encodes a boolean into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#booltobytes\n *\n * @param value Boolean value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true)\n * // Uint8Array([1])\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true, { size: 32 })\n * // Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])\n */\nfunction boolToBytes(value, opts = {}) {\n    const bytes = new Uint8Array(1);\n    bytes[0] = Number(value);\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(bytes, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(bytes, { size: opts.size });\n    }\n    return bytes;\n}\n// We use very optimized technique to convert hex string to byte array\nconst charCodeMap = {\n    zero: 48,\n    nine: 57,\n    A: 65,\n    F: 70,\n    a: 97,\n    f: 102,\n};\nfunction charCodeToBase16(char) {\n    if (char >= charCodeMap.zero && char <= charCodeMap.nine)\n        return char - charCodeMap.zero;\n    if (char >= charCodeMap.A && char <= charCodeMap.F)\n        return char - (charCodeMap.A - 10);\n    if (char >= charCodeMap.a && char <= charCodeMap.f)\n        return char - (charCodeMap.a - 10);\n    return undefined;\n}\n/**\n * Encodes a hex string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#hextobytes\n *\n * @param hex Hex string to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nfunction hexToBytes(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(hex, { size: opts.size });\n        hex = (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(hex, { dir: 'right', size: opts.size });\n    }\n    let hexString = hex.slice(2);\n    if (hexString.length % 2)\n        hexString = `0${hexString}`;\n    const length = hexString.length / 2;\n    const bytes = new Uint8Array(length);\n    for (let index = 0, j = 0; index < length; index++) {\n        const nibbleLeft = charCodeToBase16(hexString.charCodeAt(j++));\n        const nibbleRight = charCodeToBase16(hexString.charCodeAt(j++));\n        if (nibbleLeft === undefined || nibbleRight === undefined) {\n            throw new _errors_base_js__WEBPACK_IMPORTED_MODULE_3__.BaseError(`Invalid byte sequence (\"${hexString[j - 2]}${hexString[j - 1]}\" in \"${hexString}\").`);\n        }\n        bytes[index] = nibbleLeft * 16 + nibbleRight;\n    }\n    return bytes;\n}\n/**\n * Encodes a number into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#numbertobytes\n *\n * @param value Number to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nfunction numberToBytes(value, opts) {\n    const hex = (0,_toHex_js__WEBPACK_IMPORTED_MODULE_4__.numberToHex)(value, opts);\n    return hexToBytes(hex);\n}\n/**\n * Encodes a UTF-8 string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#stringtobytes\n *\n * @param value String to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nfunction stringToBytes(value, opts = {}) {\n    const bytes = encoder.encode(value);\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(bytes, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(bytes, { dir: 'right', size: opts.size });\n    }\n    return bytes;\n}\n//# sourceMappingURL=toBytes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy90b0J5dGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDUjtBQUNKO0FBQ0s7QUFDQTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIsK0JBQStCLFNBQVM7QUFDeEM7QUFDQTtBQUNPLGlDQUFpQztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQixvQ0FBb0MsVUFBVTtBQUM5QztBQUNBO0FBQ08scUNBQXFDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQVUsVUFBVSxpQkFBaUI7QUFDN0MsZUFBZSxpREFBRyxVQUFVLGlCQUFpQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QiwyREFBMkQsVUFBVTtBQUNyRTtBQUNBO0FBQ08sbUNBQW1DO0FBQzFDO0FBQ0E7QUFDQSxRQUFRLHVEQUFVLFFBQVEsaUJBQWlCO0FBQzNDLGNBQWMsaURBQUcsUUFBUSwrQkFBK0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBLCtCQUErQixnQkFBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFTLDRCQUE0QixpQkFBaUIsRUFBRSxpQkFBaUIsUUFBUSxVQUFVO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUIscUNBQXFDLFNBQVM7QUFDOUM7QUFDQTtBQUNPO0FBQ1AsZ0JBQWdCLHNEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUIsZ0RBQWdELFVBQVU7QUFDMUQ7QUFDQTtBQUNPLHVDQUF1QztBQUM5QztBQUNBO0FBQ0EsUUFBUSx1REFBVSxVQUFVLGlCQUFpQjtBQUM3QyxlQUFlLGlEQUFHLFVBQVUsK0JBQStCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZW5jb2RpbmcvdG9CeXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvcnMvYmFzZS5qcyc7XG5pbXBvcnQgeyBpc0hleCB9IGZyb20gJy4uL2RhdGEvaXNIZXguanMnO1xuaW1wb3J0IHsgcGFkIH0gZnJvbSAnLi4vZGF0YS9wYWQuanMnO1xuaW1wb3J0IHsgYXNzZXJ0U2l6ZSB9IGZyb20gJy4vZnJvbUhleC5qcyc7XG5pbXBvcnQgeyBudW1iZXJUb0hleCwgfSBmcm9tICcuL3RvSGV4LmpzJztcbmNvbnN0IGVuY29kZXIgPSAvKiNfX1BVUkVfXyovIG5ldyBUZXh0RW5jb2RlcigpO1xuLyoqXG4gKiBFbmNvZGVzIGEgVVRGLTggc3RyaW5nLCBoZXggdmFsdWUsIGJpZ2ludCwgbnVtYmVyIG9yIGJvb2xlYW4gdG8gYSBieXRlIGFycmF5LlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvQnl0ZXNcbiAqIC0gRXhhbXBsZTogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvQnl0ZXMjdXNhZ2VcbiAqXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJ5dGUgYXJyYXkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHRvQnl0ZXMoJ0hlbGxvIHdvcmxkJylcbiAqIC8vIFVpbnQ4QXJyYXkoWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCA4NywgMTExLCAxMTQsIDEwOCwgMTAwLCAzM10pXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHRvQnl0ZXMoNDIwKVxuICogLy8gVWludDhBcnJheShbMSwgMTY0XSlcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgdG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9CeXRlcyg0MjAsIHsgc2l6ZTogNCB9KVxuICogLy8gVWludDhBcnJheShbMCwgMCwgMSwgMTY0XSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQnl0ZXModmFsdWUsIG9wdHMgPSB7fSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcpXG4gICAgICAgIHJldHVybiBudW1iZXJUb0J5dGVzKHZhbHVlLCBvcHRzKTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpXG4gICAgICAgIHJldHVybiBib29sVG9CeXRlcyh2YWx1ZSwgb3B0cyk7XG4gICAgaWYgKGlzSGV4KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIGhleFRvQnl0ZXModmFsdWUsIG9wdHMpO1xuICAgIHJldHVybiBzdHJpbmdUb0J5dGVzKHZhbHVlLCBvcHRzKTtcbn1cbi8qKlxuICogRW5jb2RlcyBhIGJvb2xlYW4gaW50byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlcyNib29sdG9ieXRlc1xuICpcbiAqIEBwYXJhbSB2YWx1ZSBCb29sZWFuIHZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBCeXRlIGFycmF5IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBib29sVG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gYm9vbFRvQnl0ZXModHJ1ZSlcbiAqIC8vIFVpbnQ4QXJyYXkoWzFdKVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBib29sVG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gYm9vbFRvQnl0ZXModHJ1ZSwgeyBzaXplOiAzMiB9KVxuICogLy8gVWludDhBcnJheShbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMV0pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib29sVG9CeXRlcyh2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICBieXRlc1swXSA9IE51bWJlcih2YWx1ZSk7XG4gICAgaWYgKHR5cGVvZiBvcHRzLnNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGFzc2VydFNpemUoYnl0ZXMsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICByZXR1cm4gcGFkKGJ5dGVzLCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuLy8gV2UgdXNlIHZlcnkgb3B0aW1pemVkIHRlY2huaXF1ZSB0byBjb252ZXJ0IGhleCBzdHJpbmcgdG8gYnl0ZSBhcnJheVxuY29uc3QgY2hhckNvZGVNYXAgPSB7XG4gICAgemVybzogNDgsXG4gICAgbmluZTogNTcsXG4gICAgQTogNjUsXG4gICAgRjogNzAsXG4gICAgYTogOTcsXG4gICAgZjogMTAyLFxufTtcbmZ1bmN0aW9uIGNoYXJDb2RlVG9CYXNlMTYoY2hhcikge1xuICAgIGlmIChjaGFyID49IGNoYXJDb2RlTWFwLnplcm8gJiYgY2hhciA8PSBjaGFyQ29kZU1hcC5uaW5lKVxuICAgICAgICByZXR1cm4gY2hhciAtIGNoYXJDb2RlTWFwLnplcm87XG4gICAgaWYgKGNoYXIgPj0gY2hhckNvZGVNYXAuQSAmJiBjaGFyIDw9IGNoYXJDb2RlTWFwLkYpXG4gICAgICAgIHJldHVybiBjaGFyIC0gKGNoYXJDb2RlTWFwLkEgLSAxMCk7XG4gICAgaWYgKGNoYXIgPj0gY2hhckNvZGVNYXAuYSAmJiBjaGFyIDw9IGNoYXJDb2RlTWFwLmYpXG4gICAgICAgIHJldHVybiBjaGFyIC0gKGNoYXJDb2RlTWFwLmEgLSAxMCk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogRW5jb2RlcyBhIGhleCBzdHJpbmcgaW50byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlcyNoZXh0b2J5dGVzXG4gKlxuICogQHBhcmFtIGhleCBIZXggc3RyaW5nIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBCeXRlIGFycmF5IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0J5dGVzKCcweDQ4NjU2YzZjNmYyMDc3NmY3MjZjNjQyMScpXG4gKiAvLyBVaW50OEFycmF5KFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgODcsIDExMSwgMTE0LCAxMDgsIDEwMCwgMzNdKVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0J5dGVzKCcweDQ4NjU2YzZjNmYyMDc3NmY3MjZjNjQyMScsIHsgc2l6ZTogMzIgfSlcbiAqIC8vIFVpbnQ4QXJyYXkoWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCA4NywgMTExLCAxMTQsIDEwOCwgMTAwLCAzMywgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb0J5dGVzKGhleF8sIG9wdHMgPSB7fSkge1xuICAgIGxldCBoZXggPSBoZXhfO1xuICAgIGlmIChvcHRzLnNpemUpIHtcbiAgICAgICAgYXNzZXJ0U2l6ZShoZXgsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICBoZXggPSBwYWQoaGV4LCB7IGRpcjogJ3JpZ2h0Jywgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgIH1cbiAgICBsZXQgaGV4U3RyaW5nID0gaGV4LnNsaWNlKDIpO1xuICAgIGlmIChoZXhTdHJpbmcubGVuZ3RoICUgMilcbiAgICAgICAgaGV4U3RyaW5nID0gYDAke2hleFN0cmluZ31gO1xuICAgIGNvbnN0IGxlbmd0aCA9IGhleFN0cmluZy5sZW5ndGggLyAyO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDAsIGogPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBuaWJibGVMZWZ0ID0gY2hhckNvZGVUb0Jhc2UxNihoZXhTdHJpbmcuY2hhckNvZGVBdChqKyspKTtcbiAgICAgICAgY29uc3QgbmliYmxlUmlnaHQgPSBjaGFyQ29kZVRvQmFzZTE2KGhleFN0cmluZy5jaGFyQ29kZUF0KGorKykpO1xuICAgICAgICBpZiAobmliYmxlTGVmdCA9PT0gdW5kZWZpbmVkIHx8IG5pYmJsZVJpZ2h0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBCYXNlRXJyb3IoYEludmFsaWQgYnl0ZSBzZXF1ZW5jZSAoXCIke2hleFN0cmluZ1tqIC0gMl19JHtoZXhTdHJpbmdbaiAtIDFdfVwiIGluIFwiJHtoZXhTdHJpbmd9XCIpLmApO1xuICAgICAgICB9XG4gICAgICAgIGJ5dGVzW2luZGV4XSA9IG5pYmJsZUxlZnQgKiAxNiArIG5pYmJsZVJpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG4vKipcbiAqIEVuY29kZXMgYSBudW1iZXIgaW50byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlcyNudW1iZXJ0b2J5dGVzXG4gKlxuICogQHBhcmFtIHZhbHVlIE51bWJlciB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgQnl0ZSBhcnJheSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgbnVtYmVyVG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gbnVtYmVyVG9CeXRlcyg0MjApXG4gKiAvLyBVaW50OEFycmF5KFsxLCAxNjRdKVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBudW1iZXJUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBudW1iZXJUb0J5dGVzKDQyMCwgeyBzaXplOiA0IH0pXG4gKiAvLyBVaW50OEFycmF5KFswLCAwLCAxLCAxNjRdKVxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyVG9CeXRlcyh2YWx1ZSwgb3B0cykge1xuICAgIGNvbnN0IGhleCA9IG51bWJlclRvSGV4KHZhbHVlLCBvcHRzKTtcbiAgICByZXR1cm4gaGV4VG9CeXRlcyhoZXgpO1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgVVRGLTggc3RyaW5nIGludG8gYSBieXRlIGFycmF5LlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvQnl0ZXMjc3RyaW5ndG9ieXRlc1xuICpcbiAqIEBwYXJhbSB2YWx1ZSBTdHJpbmcgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJ5dGUgYXJyYXkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHN0cmluZ1RvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHN0cmluZ1RvQnl0ZXMoJ0hlbGxvIHdvcmxkIScpXG4gKiAvLyBVaW50OEFycmF5KFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgMTE5LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzXSlcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgc3RyaW5nVG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gc3RyaW5nVG9CeXRlcygnSGVsbG8gd29ybGQhJywgeyBzaXplOiAzMiB9KVxuICogLy8gVWludDhBcnJheShbNzIsIDEwMSwgMTA4LCAxMDgsIDExMSwgMzIsIDg3LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvQnl0ZXModmFsdWUsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IGJ5dGVzID0gZW5jb2Rlci5lbmNvZGUodmFsdWUpO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5zaXplID09PSAnbnVtYmVyJykge1xuICAgICAgICBhc3NlcnRTaXplKGJ5dGVzLCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgcmV0dXJuIHBhZChieXRlcywgeyBkaXI6ICdyaWdodCcsIHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9CeXRlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boolToHex: () => (/* binding */ boolToHex),\n/* harmony export */   bytesToHex: () => (/* binding */ bytesToHex),\n/* harmony export */   numberToHex: () => (/* binding */ numberToHex),\n/* harmony export */   stringToHex: () => (/* binding */ stringToHex),\n/* harmony export */   toHex: () => (/* binding */ toHex)\n/* harmony export */ });\n/* harmony import */ var _errors_encoding_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors/encoding.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js\");\n/* harmony import */ var _data_pad_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/pad.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js\");\n/* harmony import */ var _fromHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fromHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n\n\n\nconst hexes = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));\n/**\n * Encodes a string, number, bigint, or ByteArray into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex\n * - Example: https://viem.sh/docs/utilities/toHex#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world')\n * // '0x48656c6c6f20776f726c6421'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex(420)\n * // '0x1a4'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world', { size: 32 })\n * // '0x48656c6c6f20776f726c64210000000000000000000000000000000000000000'\n */\nfunction toHex(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToHex(value, opts);\n    if (typeof value === 'string') {\n        return stringToHex(value, opts);\n    }\n    if (typeof value === 'boolean')\n        return boolToHex(value, opts);\n    return bytesToHex(value, opts);\n}\n/**\n * Encodes a boolean into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#booltohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true)\n * // '0x1'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(false)\n * // '0x0'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true, { size: 32 })\n * // '0x0000000000000000000000000000000000000000000000000000000000000001'\n */\nfunction boolToHex(value, opts = {}) {\n    const hex = `0x${Number(value)}`;\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_0__.assertSize)(hex, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a bytes array into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#bytestohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]), { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nfunction bytesToHex(value, opts = {}) {\n    let string = '';\n    for (let i = 0; i < value.length; i++) {\n        string += hexes[value[i]];\n    }\n    const hex = `0x${string}`;\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_0__.assertSize)(hex, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { dir: 'right', size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a number or bigint into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#numbertohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420)\n * // '0x1a4'\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420, { size: 32 })\n * // '0x00000000000000000000000000000000000000000000000000000000000001a4'\n */\nfunction numberToHex(value_, opts = {}) {\n    const { signed, size } = opts;\n    const value = BigInt(value_);\n    let maxValue;\n    if (size) {\n        if (signed)\n            maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n        else\n            maxValue = 2n ** (BigInt(size) * 8n) - 1n;\n    }\n    else if (typeof value_ === 'number') {\n        maxValue = BigInt(Number.MAX_SAFE_INTEGER);\n    }\n    const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;\n    if ((maxValue && value > maxValue) || value < minValue) {\n        const suffix = typeof value_ === 'bigint' ? 'n' : '';\n        throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_2__.IntegerOutOfRangeError({\n            max: maxValue ? `${maxValue}${suffix}` : undefined,\n            min: `${minValue}${suffix}`,\n            signed,\n            size,\n            value: `${value_}${suffix}`,\n        });\n    }\n    const hex = `0x${(signed && value < 0 ? (1n << BigInt(size * 8)) + BigInt(value) : value).toString(16)}`;\n    if (size)\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { size });\n    return hex;\n}\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#stringtohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!')\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!', { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nfunction stringToHex(value_, opts = {}) {\n    const value = encoder.encode(value_);\n    return bytesToHex(value, opts);\n}\n//# sourceMappingURL=toHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy90b0hleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFtRTtBQUM5QjtBQUNLO0FBQzFDLHlDQUF5QyxhQUFhO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsdUNBQXVDLFVBQVU7QUFDakQ7QUFDQTtBQUNPLCtCQUErQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QixrQ0FBa0MsVUFBVTtBQUM1QztBQUNBO0FBQ08sbUNBQW1DO0FBQzFDLHFCQUFxQixjQUFjO0FBQ25DO0FBQ0EsUUFBUSx1REFBVSxRQUFRLGlCQUFpQjtBQUMzQyxlQUFlLGlEQUFHLFFBQVEsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCLHdHQUF3RyxVQUFVO0FBQ2xIO0FBQ0E7QUFDTyxvQ0FBb0M7QUFDM0M7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQSxxQkFBcUIsT0FBTztBQUM1QjtBQUNBLFFBQVEsdURBQVUsUUFBUSxpQkFBaUI7QUFDM0MsZUFBZSxpREFBRyxRQUFRLCtCQUErQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQixtQ0FBbUMsVUFBVTtBQUM3QztBQUNBO0FBQ08sc0NBQXNDO0FBQzdDLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVFQUFzQjtBQUN4QywrQkFBK0IsU0FBUyxFQUFFLE9BQU87QUFDakQsb0JBQW9CLFNBQVMsRUFBRSxPQUFPO0FBQ3RDO0FBQ0E7QUFDQSxzQkFBc0IsT0FBTyxFQUFFLE9BQU87QUFDdEMsU0FBUztBQUNUO0FBQ0EscUJBQXFCLHNGQUFzRjtBQUMzRztBQUNBLGVBQWUsaURBQUcsUUFBUSxNQUFNO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLDhDQUE4QyxVQUFVO0FBQ3hEO0FBQ0E7QUFDTyxzQ0FBc0M7QUFDN0M7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy90b0hleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnRlZ2VyT3V0T2ZSYW5nZUVycm9yLCB9IGZyb20gJy4uLy4uL2Vycm9ycy9lbmNvZGluZy5qcyc7XG5pbXBvcnQgeyBwYWQgfSBmcm9tICcuLi9kYXRhL3BhZC5qcyc7XG5pbXBvcnQgeyBhc3NlcnRTaXplIH0gZnJvbSAnLi9mcm9tSGV4LmpzJztcbmNvbnN0IGhleGVzID0gLyojX19QVVJFX18qLyBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyNTYgfSwgKF92LCBpKSA9PiBpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKTtcbi8qKlxuICogRW5jb2RlcyBhIHN0cmluZywgbnVtYmVyLCBiaWdpbnQsIG9yIEJ5dGVBcnJheSBpbnRvIGEgaGV4IHN0cmluZ1xuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4XG4gKiAtIEV4YW1wbGU6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0hleCN1c2FnZVxuICpcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgSGV4IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyB0b0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9IZXgoJ0hlbGxvIHdvcmxkJylcbiAqIC8vICcweDQ4NjU2YzZjNmYyMDc3NmY3MjZjNjQyMSdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgdG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHRvSGV4KDQyMClcbiAqIC8vICcweDFhNCdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgdG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHRvSGV4KCdIZWxsbyB3b3JsZCcsIHsgc2l6ZTogMzIgfSlcbiAqIC8vICcweDQ4NjU2YzZjNmYyMDc3NmY3MjZjNjQyMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0hleCh2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYmlnaW50JylcbiAgICAgICAgcmV0dXJuIG51bWJlclRvSGV4KHZhbHVlLCBvcHRzKTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gc3RyaW5nVG9IZXgodmFsdWUsIG9wdHMpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpXG4gICAgICAgIHJldHVybiBib29sVG9IZXgodmFsdWUsIG9wdHMpO1xuICAgIHJldHVybiBieXRlc1RvSGV4KHZhbHVlLCBvcHRzKTtcbn1cbi8qKlxuICogRW5jb2RlcyBhIGJvb2xlYW4gaW50byBhIGhleCBzdHJpbmdcbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0hleCNib29sdG9oZXhcbiAqXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEhleCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgYm9vbFRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBib29sVG9IZXgodHJ1ZSlcbiAqIC8vICcweDEnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJvb2xUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gYm9vbFRvSGV4KGZhbHNlKVxuICogLy8gJzB4MCdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgYm9vbFRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBib29sVG9IZXgodHJ1ZSwgeyBzaXplOiAzMiB9KVxuICogLy8gJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMSdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvb2xUb0hleCh2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgaGV4ID0gYDB4JHtOdW1iZXIodmFsdWUpfWA7XG4gICAgaWYgKHR5cGVvZiBvcHRzLnNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGFzc2VydFNpemUoaGV4LCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgcmV0dXJuIHBhZChoZXgsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgIH1cbiAgICByZXR1cm4gaGV4O1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgYnl0ZXMgYXJyYXkgaW50byBhIGhleCBzdHJpbmdcbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0hleCNieXRlc3RvaGV4XG4gKlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBIZXggdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJ5dGVzVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGJ5dGVzVG9IZXgoVWludDhBcnJheS5mcm9tKFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgODcsIDExMSwgMTE0LCAxMDgsIDEwMCwgMzNdKVxuICogLy8gJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBieXRlc1RvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBieXRlc1RvSGV4KFVpbnQ4QXJyYXkuZnJvbShbNzIsIDEwMSwgMTA4LCAxMDgsIDExMSwgMzIsIDg3LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzXSksIHsgc2l6ZTogMzIgfSlcbiAqIC8vICcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvSGV4KHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICBsZXQgc3RyaW5nID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBzdHJpbmcgKz0gaGV4ZXNbdmFsdWVbaV1dO1xuICAgIH1cbiAgICBjb25zdCBoZXggPSBgMHgke3N0cmluZ31gO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5zaXplID09PSAnbnVtYmVyJykge1xuICAgICAgICBhc3NlcnRTaXplKGhleCwgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgICAgIHJldHVybiBwYWQoaGV4LCB7IGRpcjogJ3JpZ2h0Jywgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgIH1cbiAgICByZXR1cm4gaGV4O1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgbnVtYmVyIG9yIGJpZ2ludCBpbnRvIGEgaGV4IHN0cmluZ1xuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4I251bWJlcnRvaGV4XG4gKlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBIZXggdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IG51bWJlclRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBudW1iZXJUb0hleCg0MjApXG4gKiAvLyAnMHgxYTQnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IG51bWJlclRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBudW1iZXJUb0hleCg0MjAsIHsgc2l6ZTogMzIgfSlcbiAqIC8vICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxYTQnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJUb0hleCh2YWx1ZV8sIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgc2lnbmVkLCBzaXplIH0gPSBvcHRzO1xuICAgIGNvbnN0IHZhbHVlID0gQmlnSW50KHZhbHVlXyk7XG4gICAgbGV0IG1heFZhbHVlO1xuICAgIGlmIChzaXplKSB7XG4gICAgICAgIGlmIChzaWduZWQpXG4gICAgICAgICAgICBtYXhWYWx1ZSA9ICgxbiA8PCAoQmlnSW50KHNpemUpICogOG4gLSAxbikpIC0gMW47XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG1heFZhbHVlID0gMm4gKiogKEJpZ0ludChzaXplKSAqIDhuKSAtIDFuO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVfID09PSAnbnVtYmVyJykge1xuICAgICAgICBtYXhWYWx1ZSA9IEJpZ0ludChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUik7XG4gICAgfVxuICAgIGNvbnN0IG1pblZhbHVlID0gdHlwZW9mIG1heFZhbHVlID09PSAnYmlnaW50JyAmJiBzaWduZWQgPyAtbWF4VmFsdWUgLSAxbiA6IDA7XG4gICAgaWYgKChtYXhWYWx1ZSAmJiB2YWx1ZSA+IG1heFZhbHVlKSB8fCB2YWx1ZSA8IG1pblZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHN1ZmZpeCA9IHR5cGVvZiB2YWx1ZV8gPT09ICdiaWdpbnQnID8gJ24nIDogJyc7XG4gICAgICAgIHRocm93IG5ldyBJbnRlZ2VyT3V0T2ZSYW5nZUVycm9yKHtcbiAgICAgICAgICAgIG1heDogbWF4VmFsdWUgPyBgJHttYXhWYWx1ZX0ke3N1ZmZpeH1gIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbWluOiBgJHttaW5WYWx1ZX0ke3N1ZmZpeH1gLFxuICAgICAgICAgICAgc2lnbmVkLFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIHZhbHVlOiBgJHt2YWx1ZV99JHtzdWZmaXh9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGhleCA9IGAweCR7KHNpZ25lZCAmJiB2YWx1ZSA8IDAgPyAoMW4gPDwgQmlnSW50KHNpemUgKiA4KSkgKyBCaWdJbnQodmFsdWUpIDogdmFsdWUpLnRvU3RyaW5nKDE2KX1gO1xuICAgIGlmIChzaXplKVxuICAgICAgICByZXR1cm4gcGFkKGhleCwgeyBzaXplIH0pO1xuICAgIHJldHVybiBoZXg7XG59XG5jb25zdCBlbmNvZGVyID0gLyojX19QVVJFX18qLyBuZXcgVGV4dEVuY29kZXIoKTtcbi8qKlxuICogRW5jb2RlcyBhIFVURi04IHN0cmluZyBpbnRvIGEgaGV4IHN0cmluZ1xuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4I3N0cmluZ3RvaGV4XG4gKlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBIZXggdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHN0cmluZ1RvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBzdHJpbmdUb0hleCgnSGVsbG8gV29ybGQhJylcbiAqIC8vICcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMSdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgc3RyaW5nVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHN0cmluZ1RvSGV4KCdIZWxsbyBXb3JsZCEnLCB7IHNpemU6IDMyIH0pXG4gKiAvLyAnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9IZXgodmFsdWVfLCBvcHRzID0ge30pIHtcbiAgICBjb25zdCB2YWx1ZSA9IGVuY29kZXIuZW5jb2RlKHZhbHVlXyk7XG4gICAgcmV0dXJuIGJ5dGVzVG9IZXgodmFsdWUsIG9wdHMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9IZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keccak256: () => (/* binding */ keccak256)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/hashes/sha3 */ \"(ssr)/./node_modules/@noble/hashes/esm/sha3.js\");\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/toBytes.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n/* harmony import */ var _encoding_toHex_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../encoding/toHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\nfunction keccak256(value, to_) {\n    const to = to_ || 'hex';\n    const bytes = (0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_0__.keccak_256)((0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_1__.isHex)(value, { strict: false }) ? (0,_encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.toBytes)(value) : value);\n    if (to === 'bytes')\n        return bytes;\n    return (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_3__.toHex)(bytes);\n}\n//# sourceMappingURL=keccak256.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9oYXNoL2tlY2NhazI1Ni5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFnRDtBQUNQO0FBQ1E7QUFDSjtBQUN0QztBQUNQO0FBQ0Esa0JBQWtCLDhEQUFVLENBQUMscURBQUssVUFBVSxlQUFlLElBQUksNkRBQU87QUFDdEU7QUFDQTtBQUNBLFdBQVcseURBQUs7QUFDaEI7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2hhc2gva2VjY2FrMjU2LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGtlY2Nha18yNTYgfSBmcm9tICdAbm9ibGUvaGFzaGVzL3NoYTMnO1xuaW1wb3J0IHsgaXNIZXggfSBmcm9tICcuLi9kYXRhL2lzSGV4LmpzJztcbmltcG9ydCB7IHRvQnl0ZXMgfSBmcm9tICcuLi9lbmNvZGluZy90b0J5dGVzLmpzJztcbmltcG9ydCB7IHRvSGV4IH0gZnJvbSAnLi4vZW5jb2RpbmcvdG9IZXguanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGtlY2NhazI1Nih2YWx1ZSwgdG9fKSB7XG4gICAgY29uc3QgdG8gPSB0b18gfHwgJ2hleCc7XG4gICAgY29uc3QgYnl0ZXMgPSBrZWNjYWtfMjU2KGlzSGV4KHZhbHVlLCB7IHN0cmljdDogZmFsc2UgfSkgPyB0b0J5dGVzKHZhbHVlKSA6IHZhbHVlKTtcbiAgICBpZiAodG8gPT09ICdieXRlcycpXG4gICAgICAgIHJldHVybiBieXRlcztcbiAgICByZXR1cm4gdG9IZXgoYnl0ZXMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VjY2FrMjU2LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LruMap: () => (/* binding */ LruMap)\n/* harmony export */ });\n/**\n * Map with a LRU (Least recently used) policy.\n *\n * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU\n */\nclass LruMap extends Map {\n    constructor(size) {\n        super();\n        Object.defineProperty(this, \"maxSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.maxSize = size;\n    }\n    get(key) {\n        const value = super.get(key);\n        if (super.has(key) && value !== undefined) {\n            this.delete(key);\n            super.set(key, value);\n        }\n        return value;\n    }\n    set(key, value) {\n        super.set(key, value);\n        if (this.maxSize && this.size > this.maxSize) {\n            const firstKey = this.keys().next().value;\n            if (firstKey)\n                this.delete(firstKey);\n        }\n        return this;\n    }\n}\n//# sourceMappingURL=lru.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9scnUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2xydS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1hcCB3aXRoIGEgTFJVIChMZWFzdCByZWNlbnRseSB1c2VkKSBwb2xpY3kuXG4gKlxuICogQGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FjaGVfcmVwbGFjZW1lbnRfcG9saWNpZXMjTFJVXG4gKi9cbmV4cG9ydCBjbGFzcyBMcnVNYXAgZXh0ZW5kcyBNYXAge1xuICAgIGNvbnN0cnVjdG9yKHNpemUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4U2l6ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1heFNpemUgPSBzaXplO1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3VwZXIuZ2V0KGtleSk7XG4gICAgICAgIGlmIChzdXBlci5oYXMoa2V5KSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgc3VwZXIuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgc3VwZXIuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICBpZiAodGhpcy5tYXhTaXplICYmIHRoaXMuc2l6ZSA+IHRoaXMubWF4U2l6ZSkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RLZXkgPSB0aGlzLmtleXMoKS5uZXh0KCkudmFsdWU7XG4gICAgICAgICAgICBpZiAoZmlyc3RLZXkpXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGUoZmlyc3RLZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxydS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recoverAddress: () => (/* binding */ recoverAddress)\n/* harmony export */ });\n/* harmony import */ var _accounts_utils_publicKeyToAddress_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../accounts/utils/publicKeyToAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js\");\n/* harmony import */ var _recoverPublicKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./recoverPublicKey.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js\");\n\n\nasync function recoverAddress({ hash, signature, }) {\n    return (0,_accounts_utils_publicKeyToAddress_js__WEBPACK_IMPORTED_MODULE_0__.publicKeyToAddress)(await (0,_recoverPublicKey_js__WEBPACK_IMPORTED_MODULE_1__.recoverPublicKey)({ hash: hash, signature }));\n}\n//# sourceMappingURL=recoverAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9zaWduYXR1cmUvcmVjb3ZlckFkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdGO0FBQ3ZCO0FBQ2xELGdDQUFnQyxrQkFBa0I7QUFDekQsV0FBVyx5RkFBa0IsT0FBTyxzRUFBZ0IsR0FBRyx1QkFBdUI7QUFDOUU7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL3NpZ25hdHVyZS9yZWNvdmVyQWRkcmVzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwdWJsaWNLZXlUb0FkZHJlc3MgfSBmcm9tICcuLi8uLi9hY2NvdW50cy91dGlscy9wdWJsaWNLZXlUb0FkZHJlc3MuanMnO1xuaW1wb3J0IHsgcmVjb3ZlclB1YmxpY0tleSB9IGZyb20gJy4vcmVjb3ZlclB1YmxpY0tleS5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVjb3ZlckFkZHJlc3MoeyBoYXNoLCBzaWduYXR1cmUsIH0pIHtcbiAgICByZXR1cm4gcHVibGljS2V5VG9BZGRyZXNzKGF3YWl0IHJlY292ZXJQdWJsaWNLZXkoeyBoYXNoOiBoYXNoLCBzaWduYXR1cmUgfSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjb3ZlckFkZHJlc3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recoverPublicKey: () => (/* binding */ recoverPublicKey)\n/* harmony export */ });\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/fromHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n/* harmony import */ var _encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../encoding/toHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\nasync function recoverPublicKey({ hash, signature, }) {\n    const hashHex = (0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(hash) ? hash : (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__.toHex)(hash);\n    const { secp256k1 } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@walletconnect\"), __webpack_require__.e(\"vendor-chunks/@noble\")]).then(__webpack_require__.bind(__webpack_require__, /*! @noble/curves/secp256k1 */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/@noble/curves/esm/secp256k1.js\"));\n    const signature_ = (() => {\n        // typeof signature: `Signature`\n        if (typeof signature === 'object' && 'r' in signature && 's' in signature) {\n            const { r, s, v, yParity } = signature;\n            const yParityOrV = Number(yParity ?? v);\n            const recoveryBit = toRecoveryBit(yParityOrV);\n            return new secp256k1.Signature((0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToBigInt)(r), (0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToBigInt)(s)).addRecoveryBit(recoveryBit);\n        }\n        // typeof signature: `Hex | ByteArray`\n        const signatureHex = (0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(signature) ? signature : (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__.toHex)(signature);\n        const yParityOrV = (0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToNumber)(`0x${signatureHex.slice(130)}`);\n        const recoveryBit = toRecoveryBit(yParityOrV);\n        return secp256k1.Signature.fromCompact(signatureHex.substring(2, 130)).addRecoveryBit(recoveryBit);\n    })();\n    const publicKey = signature_\n        .recoverPublicKey(hashHex.substring(2))\n        .toHex(false);\n    return `0x${publicKey}`;\n}\nfunction toRecoveryBit(yParityOrV) {\n    if (yParityOrV === 0 || yParityOrV === 1)\n        return yParityOrV;\n    if (yParityOrV === 27)\n        return 0;\n    if (yParityOrV === 28)\n        return 1;\n    throw new Error('Invalid yParityOrV value');\n}\n//# sourceMappingURL=recoverPublicKey.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9zaWduYXR1cmUvcmVjb3ZlclB1YmxpY0tleS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlDO0FBQzBCO0FBQ3RCO0FBQ3RDLGtDQUFrQyxrQkFBa0I7QUFDM0Qsb0JBQW9CLHFEQUFLLGdCQUFnQix5REFBSztBQUM5QyxZQUFZLFlBQVksUUFBUSw4U0FBaUM7QUFDakU7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0EsMkNBQTJDLGlFQUFXLEtBQUssaUVBQVc7QUFDdEU7QUFDQTtBQUNBLDZCQUE2QixxREFBSywwQkFBMEIseURBQUs7QUFDakUsMkJBQTJCLGlFQUFXLE1BQU0sd0JBQXdCO0FBQ3BFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3lvdXNzZWZld2lkYS9icmlja2Jhc2UtZnJvbnRlbmQtbmV4dGpzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL3NpZ25hdHVyZS9yZWNvdmVyUHVibGljS2V5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzSGV4IH0gZnJvbSAnLi4vZGF0YS9pc0hleC5qcyc7XG5pbXBvcnQgeyBoZXhUb0JpZ0ludCwgaGV4VG9OdW1iZXIsIH0gZnJvbSAnLi4vZW5jb2RpbmcvZnJvbUhleC5qcyc7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gJy4uL2VuY29kaW5nL3RvSGV4LmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWNvdmVyUHVibGljS2V5KHsgaGFzaCwgc2lnbmF0dXJlLCB9KSB7XG4gICAgY29uc3QgaGFzaEhleCA9IGlzSGV4KGhhc2gpID8gaGFzaCA6IHRvSGV4KGhhc2gpO1xuICAgIGNvbnN0IHsgc2VjcDI1NmsxIH0gPSBhd2FpdCBpbXBvcnQoJ0Bub2JsZS9jdXJ2ZXMvc2VjcDI1NmsxJyk7XG4gICAgY29uc3Qgc2lnbmF0dXJlXyA9ICgoKSA9PiB7XG4gICAgICAgIC8vIHR5cGVvZiBzaWduYXR1cmU6IGBTaWduYXR1cmVgXG4gICAgICAgIGlmICh0eXBlb2Ygc2lnbmF0dXJlID09PSAnb2JqZWN0JyAmJiAncicgaW4gc2lnbmF0dXJlICYmICdzJyBpbiBzaWduYXR1cmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgciwgcywgdiwgeVBhcml0eSB9ID0gc2lnbmF0dXJlO1xuICAgICAgICAgICAgY29uc3QgeVBhcml0eU9yViA9IE51bWJlcih5UGFyaXR5ID8/IHYpO1xuICAgICAgICAgICAgY29uc3QgcmVjb3ZlcnlCaXQgPSB0b1JlY292ZXJ5Qml0KHlQYXJpdHlPclYpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBzZWNwMjU2azEuU2lnbmF0dXJlKGhleFRvQmlnSW50KHIpLCBoZXhUb0JpZ0ludChzKSkuYWRkUmVjb3ZlcnlCaXQocmVjb3ZlcnlCaXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHR5cGVvZiBzaWduYXR1cmU6IGBIZXggfCBCeXRlQXJyYXlgXG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZUhleCA9IGlzSGV4KHNpZ25hdHVyZSkgPyBzaWduYXR1cmUgOiB0b0hleChzaWduYXR1cmUpO1xuICAgICAgICBjb25zdCB5UGFyaXR5T3JWID0gaGV4VG9OdW1iZXIoYDB4JHtzaWduYXR1cmVIZXguc2xpY2UoMTMwKX1gKTtcbiAgICAgICAgY29uc3QgcmVjb3ZlcnlCaXQgPSB0b1JlY292ZXJ5Qml0KHlQYXJpdHlPclYpO1xuICAgICAgICByZXR1cm4gc2VjcDI1NmsxLlNpZ25hdHVyZS5mcm9tQ29tcGFjdChzaWduYXR1cmVIZXguc3Vic3RyaW5nKDIsIDEzMCkpLmFkZFJlY292ZXJ5Qml0KHJlY292ZXJ5Qml0KTtcbiAgICB9KSgpO1xuICAgIGNvbnN0IHB1YmxpY0tleSA9IHNpZ25hdHVyZV9cbiAgICAgICAgLnJlY292ZXJQdWJsaWNLZXkoaGFzaEhleC5zdWJzdHJpbmcoMikpXG4gICAgICAgIC50b0hleChmYWxzZSk7XG4gICAgcmV0dXJuIGAweCR7cHVibGljS2V5fWA7XG59XG5mdW5jdGlvbiB0b1JlY292ZXJ5Qml0KHlQYXJpdHlPclYpIHtcbiAgICBpZiAoeVBhcml0eU9yViA9PT0gMCB8fCB5UGFyaXR5T3JWID09PSAxKVxuICAgICAgICByZXR1cm4geVBhcml0eU9yVjtcbiAgICBpZiAoeVBhcml0eU9yViA9PT0gMjcpXG4gICAgICAgIHJldHVybiAwO1xuICAgIGlmICh5UGFyaXR5T3JWID09PSAyOClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHlQYXJpdHlPclYgdmFsdWUnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY292ZXJQdWJsaWNLZXkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@walletconnect/window-getters/dist/cjs/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getLocalStorage = exports.getLocalStorageOrThrow = exports.getCrypto = exports.getCryptoOrThrow = exports.getLocation = exports.getLocationOrThrow = exports.getNavigator = exports.getNavigatorOrThrow = exports.getDocument = exports.getDocumentOrThrow = exports.getFromWindowOrThrow = exports.getFromWindow = void 0;\nfunction getFromWindow(name) {\n    let res = undefined;\n    if (typeof window !== \"undefined\" && typeof window[name] !== \"undefined\") {\n        res = window[name];\n    }\n    return res;\n}\nexports.getFromWindow = getFromWindow;\nfunction getFromWindowOrThrow(name) {\n    const res = getFromWindow(name);\n    if (!res) {\n        throw new Error(`${name} is not defined in Window`);\n    }\n    return res;\n}\nexports.getFromWindowOrThrow = getFromWindowOrThrow;\nfunction getDocumentOrThrow() {\n    return getFromWindowOrThrow(\"document\");\n}\nexports.getDocumentOrThrow = getDocumentOrThrow;\nfunction getDocument() {\n    return getFromWindow(\"document\");\n}\nexports.getDocument = getDocument;\nfunction getNavigatorOrThrow() {\n    return getFromWindowOrThrow(\"navigator\");\n}\nexports.getNavigatorOrThrow = getNavigatorOrThrow;\nfunction getNavigator() {\n    return getFromWindow(\"navigator\");\n}\nexports.getNavigator = getNavigator;\nfunction getLocationOrThrow() {\n    return getFromWindowOrThrow(\"location\");\n}\nexports.getLocationOrThrow = getLocationOrThrow;\nfunction getLocation() {\n    return getFromWindow(\"location\");\n}\nexports.getLocation = getLocation;\nfunction getCryptoOrThrow() {\n    return getFromWindowOrThrow(\"crypto\");\n}\nexports.getCryptoOrThrow = getCryptoOrThrow;\nfunction getCrypto() {\n    return getFromWindow(\"crypto\");\n}\nexports.getCrypto = getCrypto;\nfunction getLocalStorageOrThrow() {\n    return getFromWindowOrThrow(\"localStorage\");\n}\nexports.getLocalStorageOrThrow = getLocalStorageOrThrow;\nfunction getLocalStorage() {\n    return getFromWindow(\"localStorage\");\n}\nexports.getLocalStorage = getLocalStorage;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnMvZGlzdC9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcsOEJBQThCLEdBQUcsaUJBQWlCLEdBQUcsd0JBQXdCLEdBQUcsbUJBQW1CLEdBQUcsMEJBQTBCLEdBQUcsb0JBQW9CLEdBQUcsMkJBQTJCLEdBQUcsbUJBQW1CLEdBQUcsMEJBQTBCLEdBQUcsNEJBQTRCLEdBQUcscUJBQXFCO0FBQ3pUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixNQUFNO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3Vzc2VmZXdpZGEvYnJpY2tiYXNlLWZyb250ZW5kLW5leHRqcy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnMvZGlzdC9janMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldExvY2FsU3RvcmFnZSA9IGV4cG9ydHMuZ2V0TG9jYWxTdG9yYWdlT3JUaHJvdyA9IGV4cG9ydHMuZ2V0Q3J5cHRvID0gZXhwb3J0cy5nZXRDcnlwdG9PclRocm93ID0gZXhwb3J0cy5nZXRMb2NhdGlvbiA9IGV4cG9ydHMuZ2V0TG9jYXRpb25PclRocm93ID0gZXhwb3J0cy5nZXROYXZpZ2F0b3IgPSBleHBvcnRzLmdldE5hdmlnYXRvck9yVGhyb3cgPSBleHBvcnRzLmdldERvY3VtZW50ID0gZXhwb3J0cy5nZXREb2N1bWVudE9yVGhyb3cgPSBleHBvcnRzLmdldEZyb21XaW5kb3dPclRocm93ID0gZXhwb3J0cy5nZXRGcm9tV2luZG93ID0gdm9pZCAwO1xuZnVuY3Rpb24gZ2V0RnJvbVdpbmRvdyhuYW1lKSB7XG4gICAgbGV0IHJlcyA9IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93W25hbWVdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJlcyA9IHdpbmRvd1tuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmV4cG9ydHMuZ2V0RnJvbVdpbmRvdyA9IGdldEZyb21XaW5kb3c7XG5mdW5jdGlvbiBnZXRGcm9tV2luZG93T3JUaHJvdyhuYW1lKSB7XG4gICAgY29uc3QgcmVzID0gZ2V0RnJvbVdpbmRvdyhuYW1lKTtcbiAgICBpZiAoIXJlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bmFtZX0gaXMgbm90IGRlZmluZWQgaW4gV2luZG93YCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5leHBvcnRzLmdldEZyb21XaW5kb3dPclRocm93ID0gZ2V0RnJvbVdpbmRvd09yVGhyb3c7XG5mdW5jdGlvbiBnZXREb2N1bWVudE9yVGhyb3coKSB7XG4gICAgcmV0dXJuIGdldEZyb21XaW5kb3dPclRocm93KFwiZG9jdW1lbnRcIik7XG59XG5leHBvcnRzLmdldERvY3VtZW50T3JUaHJvdyA9IGdldERvY3VtZW50T3JUaHJvdztcbmZ1bmN0aW9uIGdldERvY3VtZW50KCkge1xuICAgIHJldHVybiBnZXRGcm9tV2luZG93KFwiZG9jdW1lbnRcIik7XG59XG5leHBvcnRzLmdldERvY3VtZW50ID0gZ2V0RG9jdW1lbnQ7XG5mdW5jdGlvbiBnZXROYXZpZ2F0b3JPclRocm93KCkge1xuICAgIHJldHVybiBnZXRGcm9tV2luZG93T3JUaHJvdyhcIm5hdmlnYXRvclwiKTtcbn1cbmV4cG9ydHMuZ2V0TmF2aWdhdG9yT3JUaHJvdyA9IGdldE5hdmlnYXRvck9yVGhyb3c7XG5mdW5jdGlvbiBnZXROYXZpZ2F0b3IoKSB7XG4gICAgcmV0dXJuIGdldEZyb21XaW5kb3coXCJuYXZpZ2F0b3JcIik7XG59XG5leHBvcnRzLmdldE5hdmlnYXRvciA9IGdldE5hdmlnYXRvcjtcbmZ1bmN0aW9uIGdldExvY2F0aW9uT3JUaHJvdygpIHtcbiAgICByZXR1cm4gZ2V0RnJvbVdpbmRvd09yVGhyb3coXCJsb2NhdGlvblwiKTtcbn1cbmV4cG9ydHMuZ2V0TG9jYXRpb25PclRocm93ID0gZ2V0TG9jYXRpb25PclRocm93O1xuZnVuY3Rpb24gZ2V0TG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIGdldEZyb21XaW5kb3coXCJsb2NhdGlvblwiKTtcbn1cbmV4cG9ydHMuZ2V0TG9jYXRpb24gPSBnZXRMb2NhdGlvbjtcbmZ1bmN0aW9uIGdldENyeXB0b09yVGhyb3coKSB7XG4gICAgcmV0dXJuIGdldEZyb21XaW5kb3dPclRocm93KFwiY3J5cHRvXCIpO1xufVxuZXhwb3J0cy5nZXRDcnlwdG9PclRocm93ID0gZ2V0Q3J5cHRvT3JUaHJvdztcbmZ1bmN0aW9uIGdldENyeXB0bygpIHtcbiAgICByZXR1cm4gZ2V0RnJvbVdpbmRvdyhcImNyeXB0b1wiKTtcbn1cbmV4cG9ydHMuZ2V0Q3J5cHRvID0gZ2V0Q3J5cHRvO1xuZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlT3JUaHJvdygpIHtcbiAgICByZXR1cm4gZ2V0RnJvbVdpbmRvd09yVGhyb3coXCJsb2NhbFN0b3JhZ2VcIik7XG59XG5leHBvcnRzLmdldExvY2FsU3RvcmFnZU9yVGhyb3cgPSBnZXRMb2NhbFN0b3JhZ2VPclRocm93O1xuZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlKCkge1xuICAgIHJldHVybiBnZXRGcm9tV2luZG93KFwibG9jYWxTdG9yYWdlXCIpO1xufVxuZXhwb3J0cy5nZXRMb2NhbFN0b3JhZ2UgPSBnZXRMb2NhbFN0b3JhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@walletconnect/window-metadata/dist/cjs/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getWindowMetadata = void 0;\nconst window_getters_1 = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\nfunction getWindowMetadata() {\n    let doc;\n    let loc;\n    try {\n        doc = window_getters_1.getDocumentOrThrow();\n        loc = window_getters_1.getLocationOrThrow();\n    }\n    catch (e) {\n        return null;\n    }\n    function getIcons() {\n        const links = doc.getElementsByTagName(\"link\");\n        const icons = [];\n        for (let i = 0; i < links.length; i++) {\n            const link = links[i];\n            const rel = link.getAttribute(\"rel\");\n            if (rel) {\n                if (rel.toLowerCase().indexOf(\"icon\") > -1) {\n                    const href = link.getAttribute(\"href\");\n                    if (href) {\n                        if (href.toLowerCase().indexOf(\"https:\") === -1 &&\n                            href.toLowerCase().indexOf(\"http:\") === -1 &&\n                            href.indexOf(\"//\") !== 0) {\n                            let absoluteHref = loc.protocol + \"//\" + loc.host;\n                            if (href.indexOf(\"/\") === 0) {\n                                absoluteHref += href;\n                            }\n                            else {\n                                const path = loc.pathname.split(\"/\");\n                                path.pop();\n                                const finalPath = path.join(\"/\");\n                                absoluteHref += finalPath + \"/\" + href;\n                            }\n                            icons.push(absoluteHref);\n                        }\n                        else if (href.indexOf(\"//\") === 0) {\n                            const absoluteUrl = loc.protocol + href;\n                            icons.push(absoluteUrl);\n                        }\n                        else {\n                            icons.push(href);\n                        }\n                    }\n                }\n            }\n        }\n        return icons;\n    }\n    function getWindowMetadataOfAny(...args) {\n        const metaTags = doc.getElementsByTagName(\"meta\");\n        for (let i = 0; i < metaTags.length; i++) {\n            const tag = metaTags[i];\n            const attributes = [\"itemprop\", \"property\", \"name\"]\n                .map((target) => tag.getAttribute(target))\n                .filter((attr) => {\n                if (attr) {\n                    return args.includes(attr);\n                }\n                return false;\n            });\n            if (attributes.length && attributes) {\n                const content = tag.getAttribute(\"content\");\n                if (content) {\n                    return content;\n                }\n            }\n        }\n        return \"\";\n    }\n    function getName() {\n        let name = getWindowMetadataOfAny(\"name\", \"og:site_name\", \"og:title\", \"twitter:title\");\n        if (!name) {\n            name = doc.title;\n        }\n        return name;\n    }\n    function getDescription() {\n        const description = getWindowMetadataOfAny(\"description\", \"og:description\", \"twitter:description\", \"keywords\");\n        return description;\n    }\n    const name = getName();\n    const description = getDescription();\n    const url = loc.origin;\n    const icons = getIcons();\n    const meta = {\n        description,\n        url,\n        icons,\n        name,\n    };\n    return meta;\n}\nexports.getWindowMetadata = getWindowMetadata;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvd2luZG93LW1ldGFkYXRhL2Rpc3QvY2pzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QjtBQUN6Qix5QkFBeUIsbUJBQU8sQ0FBQywyR0FBK0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0JBQWtCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyIvVXNlcnMveW91c3NlZmV3aWRhL2JyaWNrYmFzZS1mcm9udGVuZC1uZXh0anMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3dpbmRvdy1tZXRhZGF0YS9kaXN0L2Nqcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0V2luZG93TWV0YWRhdGEgPSB2b2lkIDA7XG5jb25zdCB3aW5kb3dfZ2V0dGVyc18xID0gcmVxdWlyZShcIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1nZXR0ZXJzXCIpO1xuZnVuY3Rpb24gZ2V0V2luZG93TWV0YWRhdGEoKSB7XG4gICAgbGV0IGRvYztcbiAgICBsZXQgbG9jO1xuICAgIHRyeSB7XG4gICAgICAgIGRvYyA9IHdpbmRvd19nZXR0ZXJzXzEuZ2V0RG9jdW1lbnRPclRocm93KCk7XG4gICAgICAgIGxvYyA9IHdpbmRvd19nZXR0ZXJzXzEuZ2V0TG9jYXRpb25PclRocm93KCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJY29ucygpIHtcbiAgICAgICAgY29uc3QgbGlua3MgPSBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaW5rXCIpO1xuICAgICAgICBjb25zdCBpY29ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5rID0gbGlua3NbaV07XG4gICAgICAgICAgICBjb25zdCByZWwgPSBsaW5rLmdldEF0dHJpYnV0ZShcInJlbFwiKTtcbiAgICAgICAgICAgIGlmIChyZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImljb25cIikgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBocmVmID0gbGluay5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHJlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaHR0cHM6XCIpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaHR0cDpcIikgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZi5pbmRleE9mKFwiLy9cIikgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWJzb2x1dGVIcmVmID0gbG9jLnByb3RvY29sICsgXCIvL1wiICsgbG9jLmhvc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhyZWYuaW5kZXhPZihcIi9cIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJzb2x1dGVIcmVmICs9IGhyZWY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gbG9jLnBhdGhuYW1lLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxQYXRoID0gcGF0aC5qb2luKFwiL1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJzb2x1dGVIcmVmICs9IGZpbmFsUGF0aCArIFwiL1wiICsgaHJlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbnMucHVzaChhYnNvbHV0ZUhyZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaHJlZi5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhYnNvbHV0ZVVybCA9IGxvYy5wcm90b2NvbCArIGhyZWY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbnMucHVzaChhYnNvbHV0ZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29ucy5wdXNoKGhyZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpY29ucztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0V2luZG93TWV0YWRhdGFPZkFueSguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IG1ldGFUYWdzID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibWV0YVwiKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXRhVGFncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gbWV0YVRhZ3NbaV07XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gW1wiaXRlbXByb3BcIiwgXCJwcm9wZXJ0eVwiLCBcIm5hbWVcIl1cbiAgICAgICAgICAgICAgICAubWFwKCh0YXJnZXQpID0+IHRhZy5nZXRBdHRyaWJ1dGUodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChhdHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3MuaW5jbHVkZXMoYXR0cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMubGVuZ3RoICYmIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGFnLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROYW1lKCkge1xuICAgICAgICBsZXQgbmFtZSA9IGdldFdpbmRvd01ldGFkYXRhT2ZBbnkoXCJuYW1lXCIsIFwib2c6c2l0ZV9uYW1lXCIsIFwib2c6dGl0bGVcIiwgXCJ0d2l0dGVyOnRpdGxlXCIpO1xuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSBkb2MudGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERlc2NyaXB0aW9uKCkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGdldFdpbmRvd01ldGFkYXRhT2ZBbnkoXCJkZXNjcmlwdGlvblwiLCBcIm9nOmRlc2NyaXB0aW9uXCIsIFwidHdpdHRlcjpkZXNjcmlwdGlvblwiLCBcImtleXdvcmRzXCIpO1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgfVxuICAgIGNvbnN0IG5hbWUgPSBnZXROYW1lKCk7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBnZXREZXNjcmlwdGlvbigpO1xuICAgIGNvbnN0IHVybCA9IGxvYy5vcmlnaW47XG4gICAgY29uc3QgaWNvbnMgPSBnZXRJY29ucygpO1xuICAgIGNvbnN0IG1ldGEgPSB7XG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICB1cmwsXG4gICAgICAgIGljb25zLFxuICAgICAgICBuYW1lLFxuICAgIH07XG4gICAgcmV0dXJuIG1ldGE7XG59XG5leHBvcnRzLmdldFdpbmRvd01ldGFkYXRhID0gZ2V0V2luZG93TWV0YWRhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js\n");

/***/ })

};
;